function NG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var am=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nx={exports:{}},xd={},Ox={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IN;function OG(){if(IN)return nt;IN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=d&&U[d]||U["@@iterator"],typeof U=="function"?U:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(U,K,Z){this.props=U,this.context=K,this.refs=y,this.updater=Z||g}b.prototype.isReactComponent={},b.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function w(){}w.prototype=b.prototype;function _(U,K,Z){this.props=U,this.context=K,this.refs=y,this.updater=Z||g}var A=_.prototype=new w;A.constructor=_,x(A,b.prototype),A.isPureReactComponent=!0;var j=Array.isArray,P=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(U,K,Z){var ae,ce={},pe=null,re=null;if(K!=null)for(ae in K.ref!==void 0&&(re=K.ref),K.key!==void 0&&(pe=""+K.key),K)P.call(K,ae)&&!k.hasOwnProperty(ae)&&(ce[ae]=K[ae]);var ee=arguments.length-2;if(ee===1)ce.children=Z;else if(1<ee){for(var te=Array(ee),le=0;le<ee;le++)te[le]=arguments[le+2];ce.children=te}if(U&&U.defaultProps)for(ae in ee=U.defaultProps,ee)ce[ae]===void 0&&(ce[ae]=ee[ae]);return{$$typeof:t,type:U,key:pe,ref:re,props:ce,_owner:T.current}}function R(U,K){return{$$typeof:t,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return K[Z]})}var D=/\/+/g;function $(U,K){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):K.toString(36)}function H(U,K,Z,ae,ce){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var re=!1;if(U===null)re=!0;else switch(pe){case"string":case"number":re=!0;break;case"object":switch(U.$$typeof){case t:case e:re=!0}}if(re)return re=U,ce=ce(re),U=ae===""?"."+$(re,0):ae,j(ce)?(Z="",U!=null&&(Z=U.replace(D,"$&/")+"/"),H(ce,K,Z,"",function(le){return le})):ce!=null&&(F(ce)&&(ce=R(ce,Z+(!ce.key||re&&re.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+U)),K.push(ce)),1;if(re=0,ae=ae===""?".":ae+":",j(U))for(var ee=0;ee<U.length;ee++){pe=U[ee];var te=ae+$(pe,ee);re+=H(pe,K,Z,te,ce)}else if(te=m(U),typeof te=="function")for(U=te.call(U),ee=0;!(pe=U.next()).done;)pe=pe.value,te=ae+$(pe,ee++),re+=H(pe,K,Z,te,ce);else if(pe==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return re}function q(U,K,Z){if(U==null)return U;var ae=[],ce=0;return H(U,ae,"","",function(pe){return K.call(Z,pe,ce++)}),ae}function V(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},L={transition:null},W={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:L,ReactCurrentOwner:T};function X(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:q,forEach:function(U,K,Z){q(U,function(){K.apply(this,arguments)},Z)},count:function(U){var K=0;return q(U,function(){K++}),K},toArray:function(U){return q(U,function(K){return K})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},nt.Component=b,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=_,nt.StrictMode=r,nt.Suspense=l,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,nt.act=X,nt.cloneElement=function(U,K,Z){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var ae=x({},U.props),ce=U.key,pe=U.ref,re=U._owner;if(K!=null){if(K.ref!==void 0&&(pe=K.ref,re=T.current),K.key!==void 0&&(ce=""+K.key),U.type&&U.type.defaultProps)var ee=U.type.defaultProps;for(te in K)P.call(K,te)&&!k.hasOwnProperty(te)&&(ae[te]=K[te]===void 0&&ee!==void 0?ee[te]:K[te])}var te=arguments.length-2;if(te===1)ae.children=Z;else if(1<te){ee=Array(te);for(var le=0;le<te;le++)ee[le]=arguments[le+2];ae.children=ee}return{$$typeof:t,type:U.type,key:ce,ref:pe,props:ae,_owner:re}},nt.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},nt.createElement=O,nt.createFactory=function(U){var K=O.bind(null,U);return K.type=U,K},nt.createRef=function(){return{current:null}},nt.forwardRef=function(U){return{$$typeof:o,render:U}},nt.isValidElement=F,nt.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:V}},nt.memo=function(U,K){return{$$typeof:c,type:U,compare:K===void 0?null:K}},nt.startTransition=function(U){var K=L.transition;L.transition={};try{U()}finally{L.transition=K}},nt.unstable_act=X,nt.useCallback=function(U,K){return B.current.useCallback(U,K)},nt.useContext=function(U){return B.current.useContext(U)},nt.useDebugValue=function(){},nt.useDeferredValue=function(U){return B.current.useDeferredValue(U)},nt.useEffect=function(U,K){return B.current.useEffect(U,K)},nt.useId=function(){return B.current.useId()},nt.useImperativeHandle=function(U,K,Z){return B.current.useImperativeHandle(U,K,Z)},nt.useInsertionEffect=function(U,K){return B.current.useInsertionEffect(U,K)},nt.useLayoutEffect=function(U,K){return B.current.useLayoutEffect(U,K)},nt.useMemo=function(U,K){return B.current.useMemo(U,K)},nt.useReducer=function(U,K,Z){return B.current.useReducer(U,K,Z)},nt.useRef=function(U){return B.current.useRef(U)},nt.useState=function(U){return B.current.useState(U)},nt.useSyncExternalStore=function(U,K,Z){return B.current.useSyncExternalStore(U,K,Z)},nt.useTransition=function(){return B.current.useTransition()},nt.version="18.3.1",nt}var LN;function Ev(){return LN||(LN=1,Ox.exports=OG()),Ox.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FN;function MG(){if(FN)return xd;FN=1;var t=Ev(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var h,d={},m=null,g=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(h in l)r.call(l,h)&&!s.hasOwnProperty(h)&&(d[h]=l[h]);if(o&&o.defaultProps)for(h in l=o.defaultProps,l)d[h]===void 0&&(d[h]=l[h]);return{$$typeof:e,type:o,key:m,ref:g,props:d,_owner:i.current}}return xd.Fragment=n,xd.jsx=a,xd.jsxs=a,xd}var $N;function DG(){return $N||($N=1,Nx.exports=MG()),Nx.exports}var f=DG(),om={},Mx={exports:{}},jr={},Dx={exports:{}},Rx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BN;function RG(){return BN||(BN=1,(function(t){function e(L,W){var X=L.length;L.push(W);e:for(;0<X;){var U=X-1>>>1,K=L[U];if(0<i(K,W))L[U]=W,L[X]=K,X=U;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],X=L.pop();if(X!==W){L[0]=X;e:for(var U=0,K=L.length,Z=K>>>1;U<Z;){var ae=2*(U+1)-1,ce=L[ae],pe=ae+1,re=L[pe];if(0>i(ce,X))pe<K&&0>i(re,ce)?(L[U]=re,L[pe]=X,U=pe):(L[U]=ce,L[ae]=X,U=ae);else if(pe<K&&0>i(re,X))L[U]=re,L[pe]=X,U=pe;else break e}}return W}function i(L,W){var X=L.sortIndex-W.sortIndex;return X!==0?X:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,d=null,m=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(L){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=L)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function j(L){if(y=!1,A(L),!x)if(n(l)!==null)x=!0,V(P);else{var W=n(c);W!==null&&B(j,W.startTime-L)}}function P(L,W){x=!1,y&&(y=!1,w(O),O=-1),g=!0;var X=m;try{for(A(W),d=n(l);d!==null&&(!(d.expirationTime>W)||L&&!M());){var U=d.callback;if(typeof U=="function"){d.callback=null,m=d.priorityLevel;var K=U(d.expirationTime<=W);W=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),A(W)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var ae=n(c);ae!==null&&B(j,ae.startTime-W),Z=!1}return Z}finally{d=null,m=X,g=!1}}var T=!1,k=null,O=-1,R=5,F=-1;function M(){return!(t.unstable_now()-F<R)}function D(){if(k!==null){var L=t.unstable_now();F=L;var W=!0;try{W=k(!0,L)}finally{W?$():(T=!1,k=null)}}else T=!1}var $;if(typeof _=="function")$=function(){_(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=D,$=function(){q.postMessage(null)}}else $=function(){b(D,0)};function V(L){k=L,T||(T=!0,$())}function B(L,W){O=b(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,V(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var X=m;m=W;try{return L()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=m;m=L;try{return W()}finally{m=X}},t.unstable_scheduleCallback=function(L,W,X){var U=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,L={id:h++,callback:W,priorityLevel:L,startTime:X,expirationTime:K,sortIndex:-1},X>U?(L.sortIndex=X,e(c,L),n(l)===null&&L===n(c)&&(y?(w(O),O=-1):y=!0,B(j,X-U))):(L.sortIndex=K,e(l,L),x||g||(x=!0,V(P))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var W=m;return function(){var X=m;m=W;try{return L.apply(this,arguments)}finally{m=X}}}})(Rx)),Rx}var UN;function IG(){return UN||(UN=1,Dx.exports=RG()),Dx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zN;function LG(){if(zN)return jr;zN=1;var t=Ev(),e=IG();function n(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,p){a(u,p),a(u+"Capture",p)}function a(u,p){for(i[u]=p,u=0;u<p.length;u++)r.add(p[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function m(u){return l.call(d,u)?!0:l.call(h,u)?!1:c.test(u)?d[u]=!0:(h[u]=!0,!1)}function g(u,p,v,S){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,p,v,S){if(p===null||typeof p>"u"||g(u,p,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(u,p,v,S,E,N,I){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=S,this.attributeNamespace=E,this.mustUseProperty=v,this.propertyName=u,this.type=p,this.sanitizeURL=N,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];b[p]=new y(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function _(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(w,_);b[p]=new y(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(w,_);b[p]=new y(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(w,_);b[p]=new y(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,p,v,S){var E=b.hasOwnProperty(p)?b[p]:null;(E!==null?E.type!==0:S||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,v,E,S)&&(v=null),S||E===null?m(p)&&(v===null?u.removeAttribute(p):u.setAttribute(p,""+v)):E.mustUseProperty?u[E.propertyName]=v===null?E.type===3?!1:"":v:(p=E.attributeName,S=E.attributeNamespace,v===null?u.removeAttribute(p):(E=E.type,v=E===3||E===4&&v===!0?"":""+v,S?u.setAttributeNS(S,p,v):u.setAttribute(p,v))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),L=Symbol.iterator;function W(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var X=Object.assign,U;function K(u){if(U===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);U=p&&p[1]||""}return`
`+U+u}var Z=!1;function ae(u,p){if(!u||Z)return"";Z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ie){var S=ie}Reflect.construct(u,[],p)}else{try{p.call()}catch(ie){S=ie}u.call(p.prototype)}else{try{throw Error()}catch(ie){S=ie}u()}}catch(ie){if(ie&&S&&typeof ie.stack=="string"){for(var E=ie.stack.split(`
`),N=S.stack.split(`
`),I=E.length-1,G=N.length-1;1<=I&&0<=G&&E[I]!==N[G];)G--;for(;1<=I&&0<=G;I--,G--)if(E[I]!==N[G]){if(I!==1||G!==1)do if(I--,G--,0>G||E[I]!==N[G]){var Y=`
`+E[I].replace(" at new "," at ");return u.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",u.displayName)),Y}while(1<=I&&0<=G);break}}}finally{Z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?K(u):""}function ce(u){switch(u.tag){case 5:return K(u.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return u=ae(u.type,!1),u;case 11:return u=ae(u.type.render,!1),u;case 1:return u=ae(u.type,!0),u;default:return""}}function pe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case k:return"Fragment";case T:return"Portal";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case F:return(u._context.displayName||"Context")+".Provider";case D:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return p=u.displayName||null,p!==null?p:pe(u.type)||"Memo";case V:p=u._payload,u=u._init;try{return pe(u(p))}catch{}}return null}function re(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ee(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function le(u){var p=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),S=""+u[p];if(!u.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var E=v.get,N=v.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return E.call(this)},set:function(I){S=""+I,N.call(this,I)}}),Object.defineProperty(u,p,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(I){S=""+I},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function he(u){u._valueTracker||(u._valueTracker=le(u))}function se(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var v=p.getValue(),S="";return u&&(S=te(u)?u.checked?"true":"false":u.value),u=S,u!==v?(p.setValue(u),!0):!1}function We(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Re(u,p){var v=p.checked;return X({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function wt(u,p){var v=p.defaultValue==null?"":p.defaultValue,S=p.checked!=null?p.checked:p.defaultChecked;v=ee(p.value!=null?p.value:v),u._wrapperState={initialChecked:S,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function vt(u,p){p=p.checked,p!=null&&A(u,"checked",p,!1)}function St(u,p){vt(u,p);var v=ee(p.value),S=p.type;if(v!=null)S==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?cn(u,p.type,v):p.hasOwnProperty("defaultValue")&&cn(u,p.type,ee(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function _r(u,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var S=p.type;if(!(S!=="submit"&&S!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,v||p===u.value||(u.value=p),u.defaultValue=p}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function cn(u,p,v){(p!=="number"||We(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var ri=Array.isArray;function tr(u,p,v,S){if(u=u.options,p){p={};for(var E=0;E<v.length;E++)p["$"+v[E]]=!0;for(v=0;v<u.length;v++)E=p.hasOwnProperty("$"+u[v].value),u[v].selected!==E&&(u[v].selected=E),E&&S&&(u[v].defaultSelected=!0)}else{for(v=""+ee(v),p=null,E=0;E<u.length;E++){if(u[E].value===v){u[E].selected=!0,S&&(u[E].defaultSelected=!0);return}p!==null||u[E].disabled||(p=u[E])}p!==null&&(p.selected=!0)}}function Rt(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Fr(u,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(ri(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}u._wrapperState={initialValue:ee(v)}}function ho(u,p){var v=ee(p.value),S=ee(p.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),p.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),S!=null&&(u.defaultValue=""+S)}function fo(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function po(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?po(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var mo,Sl=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,S,E){MSApp.execUnsafeLocalFunction(function(){return u(p,v,S,E)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=mo.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function ii(u,p){if(p){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=p;return}}u.textContent=p}var pa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ma=["Webkit","ms","Moz","O"];Object.keys(pa).forEach(function(u){ma.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),pa[p]=pa[u]})});function Zf(u,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||pa.hasOwnProperty(u)&&pa[u]?(""+p).trim():p+"px"}function Jf(u,p){u=u.style;for(var v in p)if(p.hasOwnProperty(v)){var S=v.indexOf("--")===0,E=Zf(v,p[v],S);v==="float"&&(v="cssFloat"),S?u.setProperty(v,E):u[v]=E}}var ep=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _l(u,p){if(p){if(ep[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Lu(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function si(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Fu=null,ga=null,Rs=null;function $u(u){if(u=sd(u)){if(typeof Fu!="function")throw Error(n(280));var p=u.stateNode;p&&(p=wp(p),Fu(u.stateNode,u.type,p))}}function Ge(u){ga?Rs?Rs.push(u):Rs=[u]:ga=u}function Jt(){if(ga){var u=ga,p=Rs;if(Rs=ga=null,$u(u),p)for(u=0;u<p.length;u++)$u(p[u])}}function xn(u,p){return u(p)}function nr(){}var va=!1;function un(u,p,v){if(va)return u(p,v);va=!0;try{return xn(u,p,v)}finally{va=!1,(ga!==null||Rs!==null)&&(nr(),Jt())}}function jn(u,p){var v=u.stateNode;if(v===null)return null;var S=wp(v);if(S===null)return null;v=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var ya=!1;if(o)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ya=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ya=!1}function $r(u,p,v,S,E,N,I,G,Y){var ie=Array.prototype.slice.call(arguments,3);try{p.apply(v,ie)}catch(de){this.onError(de)}}var ba=!1,ai=null,Bu=!1,Xy=null,FH={onError:function(u){ba=!0,ai=u}};function $H(u,p,v,S,E,N,I,G,Y){ba=!1,ai=null,$r.apply(FH,arguments)}function BH(u,p,v,S,E,N,I,G,Y){if($H.apply(this,arguments),ba){if(ba){var ie=ai;ba=!1,ai=null}else throw Error(n(198));Bu||(Bu=!0,Xy=ie)}}function vo(u){var p=u,v=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(v=p.return),u=p.return;while(u)}return p.tag===3?v:null}function sj(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function aj(u){if(vo(u)!==u)throw Error(n(188))}function UH(u){var p=u.alternate;if(!p){if(p=vo(u),p===null)throw Error(n(188));return p!==u?null:u}for(var v=u,S=p;;){var E=v.return;if(E===null)break;var N=E.alternate;if(N===null){if(S=E.return,S!==null){v=S;continue}break}if(E.child===N.child){for(N=E.child;N;){if(N===v)return aj(E),u;if(N===S)return aj(E),p;N=N.sibling}throw Error(n(188))}if(v.return!==S.return)v=E,S=N;else{for(var I=!1,G=E.child;G;){if(G===v){I=!0,v=E,S=N;break}if(G===S){I=!0,S=E,v=N;break}G=G.sibling}if(!I){for(G=N.child;G;){if(G===v){I=!0,v=N,S=E;break}if(G===S){I=!0,S=N,v=E;break}G=G.sibling}if(!I)throw Error(n(189))}}if(v.alternate!==S)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:p}function oj(u){return u=UH(u),u!==null?lj(u):null}function lj(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=lj(u);if(p!==null)return p;u=u.sibling}return null}var cj=e.unstable_scheduleCallback,uj=e.unstable_cancelCallback,zH=e.unstable_shouldYield,VH=e.unstable_requestPaint,en=e.unstable_now,WH=e.unstable_getCurrentPriorityLevel,Qy=e.unstable_ImmediatePriority,dj=e.unstable_UserBlockingPriority,tp=e.unstable_NormalPriority,HH=e.unstable_LowPriority,hj=e.unstable_IdlePriority,np=null,ns=null;function qH(u){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(np,u,void 0,(u.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:YH,GH=Math.log,KH=Math.LN2;function YH(u){return u>>>=0,u===0?32:31-(GH(u)/KH|0)|0}var rp=64,ip=4194304;function Uu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function sp(u,p){var v=u.pendingLanes;if(v===0)return 0;var S=0,E=u.suspendedLanes,N=u.pingedLanes,I=v&268435455;if(I!==0){var G=I&~E;G!==0?S=Uu(G):(N&=I,N!==0&&(S=Uu(N)))}else I=v&~E,I!==0?S=Uu(I):N!==0&&(S=Uu(N));if(S===0)return 0;if(p!==0&&p!==S&&(p&E)===0&&(E=S&-S,N=p&-p,E>=N||E===16&&(N&4194240)!==0))return p;if((S&4)!==0&&(S|=v&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=S;0<p;)v=31-Ri(p),E=1<<v,S|=u[v],p&=~E;return S}function XH(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QH(u,p){for(var v=u.suspendedLanes,S=u.pingedLanes,E=u.expirationTimes,N=u.pendingLanes;0<N;){var I=31-Ri(N),G=1<<I,Y=E[I];Y===-1?((G&v)===0||(G&S)!==0)&&(E[I]=XH(G,p)):Y<=p&&(u.expiredLanes|=G),N&=~G}}function Zy(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function fj(){var u=rp;return rp<<=1,(rp&4194240)===0&&(rp=64),u}function Jy(u){for(var p=[],v=0;31>v;v++)p.push(u);return p}function zu(u,p,v){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-Ri(p),u[p]=v}function ZH(u,p){var v=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<v;){var E=31-Ri(v),N=1<<E;p[E]=0,S[E]=-1,u[E]=-1,v&=~N}}function eb(u,p){var v=u.entangledLanes|=p;for(u=u.entanglements;v;){var S=31-Ri(v),E=1<<S;E&p|u[S]&p&&(u[S]|=p),v&=~E}}var yt=0;function pj(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var mj,tb,gj,vj,yj,nb=!1,ap=[],xa=null,wa=null,Sa=null,Vu=new Map,Wu=new Map,_a=[],JH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bj(u,p){switch(u){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Vu.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wu.delete(p.pointerId)}}function Hu(u,p,v,S,E,N){return u===null||u.nativeEvent!==N?(u={blockedOn:p,domEventName:v,eventSystemFlags:S,nativeEvent:N,targetContainers:[E]},p!==null&&(p=sd(p),p!==null&&tb(p)),u):(u.eventSystemFlags|=S,p=u.targetContainers,E!==null&&p.indexOf(E)===-1&&p.push(E),u)}function eq(u,p,v,S,E){switch(p){case"focusin":return xa=Hu(xa,u,p,v,S,E),!0;case"dragenter":return wa=Hu(wa,u,p,v,S,E),!0;case"mouseover":return Sa=Hu(Sa,u,p,v,S,E),!0;case"pointerover":var N=E.pointerId;return Vu.set(N,Hu(Vu.get(N)||null,u,p,v,S,E)),!0;case"gotpointercapture":return N=E.pointerId,Wu.set(N,Hu(Wu.get(N)||null,u,p,v,S,E)),!0}return!1}function xj(u){var p=yo(u.target);if(p!==null){var v=vo(p);if(v!==null){if(p=v.tag,p===13){if(p=sj(v),p!==null){u.blockedOn=p,yj(u.priority,function(){gj(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function op(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var v=ib(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var S=new v.constructor(v.type,v);go=S,v.target.dispatchEvent(S),go=null}else return p=sd(v),p!==null&&tb(p),u.blockedOn=v,!1;p.shift()}return!0}function wj(u,p,v){op(u)&&v.delete(p)}function tq(){nb=!1,xa!==null&&op(xa)&&(xa=null),wa!==null&&op(wa)&&(wa=null),Sa!==null&&op(Sa)&&(Sa=null),Vu.forEach(wj),Wu.forEach(wj)}function qu(u,p){u.blockedOn===p&&(u.blockedOn=null,nb||(nb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,tq)))}function Gu(u){function p(E){return qu(E,u)}if(0<ap.length){qu(ap[0],u);for(var v=1;v<ap.length;v++){var S=ap[v];S.blockedOn===u&&(S.blockedOn=null)}}for(xa!==null&&qu(xa,u),wa!==null&&qu(wa,u),Sa!==null&&qu(Sa,u),Vu.forEach(p),Wu.forEach(p),v=0;v<_a.length;v++)S=_a[v],S.blockedOn===u&&(S.blockedOn=null);for(;0<_a.length&&(v=_a[0],v.blockedOn===null);)xj(v),v.blockedOn===null&&_a.shift()}var Al=j.ReactCurrentBatchConfig,lp=!0;function nq(u,p,v,S){var E=yt,N=Al.transition;Al.transition=null;try{yt=1,rb(u,p,v,S)}finally{yt=E,Al.transition=N}}function rq(u,p,v,S){var E=yt,N=Al.transition;Al.transition=null;try{yt=4,rb(u,p,v,S)}finally{yt=E,Al.transition=N}}function rb(u,p,v,S){if(lp){var E=ib(u,p,v,S);if(E===null)wb(u,p,S,cp,v),bj(u,S);else if(eq(E,u,p,v,S))S.stopPropagation();else if(bj(u,S),p&4&&-1<JH.indexOf(u)){for(;E!==null;){var N=sd(E);if(N!==null&&mj(N),N=ib(u,p,v,S),N===null&&wb(u,p,S,cp,v),N===E)break;E=N}E!==null&&S.stopPropagation()}else wb(u,p,S,null,v)}}var cp=null;function ib(u,p,v,S){if(cp=null,u=si(S),u=yo(u),u!==null)if(p=vo(u),p===null)u=null;else if(v=p.tag,v===13){if(u=sj(p),u!==null)return u;u=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return cp=u,null}function Sj(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WH()){case Qy:return 1;case dj:return 4;case tp:case HH:return 16;case hj:return 536870912;default:return 16}default:return 16}}var Aa=null,sb=null,up=null;function _j(){if(up)return up;var u,p=sb,v=p.length,S,E="value"in Aa?Aa.value:Aa.textContent,N=E.length;for(u=0;u<v&&p[u]===E[u];u++);var I=v-u;for(S=1;S<=I&&p[v-S]===E[N-S];S++);return up=E.slice(u,1<S?1-S:void 0)}function dp(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function hp(){return!0}function Aj(){return!1}function Br(u){function p(v,S,E,N,I){this._reactName=v,this._targetInst=E,this.type=S,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var G in u)u.hasOwnProperty(G)&&(v=u[G],this[G]=v?v(N):N[G]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?hp:Aj,this.isPropagationStopped=Aj,this}return X(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=hp)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=hp)},persist:function(){},isPersistent:hp}),p}var Cl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ab=Br(Cl),Ku=X({},Cl,{view:0,detail:0}),iq=Br(Ku),ob,lb,Yu,fp=X({},Ku,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ub,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Yu&&(Yu&&u.type==="mousemove"?(ob=u.screenX-Yu.screenX,lb=u.screenY-Yu.screenY):lb=ob=0,Yu=u),ob)},movementY:function(u){return"movementY"in u?u.movementY:lb}}),Cj=Br(fp),sq=X({},fp,{dataTransfer:0}),aq=Br(sq),oq=X({},Ku,{relatedTarget:0}),cb=Br(oq),lq=X({},Cl,{animationName:0,elapsedTime:0,pseudoElement:0}),cq=Br(lq),uq=X({},Cl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),dq=Br(uq),hq=X({},Cl,{data:0}),Pj=Br(hq),fq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gq(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=mq[u])?!!p[u]:!1}function ub(){return gq}var vq=X({},Ku,{key:function(u){if(u.key){var p=fq[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=dp(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?pq[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ub,charCode:function(u){return u.type==="keypress"?dp(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?dp(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),yq=Br(vq),bq=X({},fp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ej=Br(bq),xq=X({},Ku,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ub}),wq=Br(xq),Sq=X({},Cl,{propertyName:0,elapsedTime:0,pseudoElement:0}),_q=Br(Sq),Aq=X({},fp,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Cq=Br(Aq),Pq=[9,13,27,32],db=o&&"CompositionEvent"in window,Xu=null;o&&"documentMode"in document&&(Xu=document.documentMode);var Eq=o&&"TextEvent"in window&&!Xu,Tj=o&&(!db||Xu&&8<Xu&&11>=Xu),jj=" ",kj=!1;function Nj(u,p){switch(u){case"keyup":return Pq.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oj(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Pl=!1;function Tq(u,p){switch(u){case"compositionend":return Oj(p);case"keypress":return p.which!==32?null:(kj=!0,jj);case"textInput":return u=p.data,u===jj&&kj?null:u;default:return null}}function jq(u,p){if(Pl)return u==="compositionend"||!db&&Nj(u,p)?(u=_j(),up=sb=Aa=null,Pl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Tj&&p.locale!=="ko"?null:p.data;default:return null}}var kq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mj(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!kq[u.type]:p==="textarea"}function Dj(u,p,v,S){Ge(S),p=yp(p,"onChange"),0<p.length&&(v=new ab("onChange","change",null,v,S),u.push({event:v,listeners:p}))}var Qu=null,Zu=null;function Nq(u){Zj(u,0)}function pp(u){var p=Nl(u);if(se(p))return u}function Oq(u,p){if(u==="change")return p}var Rj=!1;if(o){var hb;if(o){var fb="oninput"in document;if(!fb){var Ij=document.createElement("div");Ij.setAttribute("oninput","return;"),fb=typeof Ij.oninput=="function"}hb=fb}else hb=!1;Rj=hb&&(!document.documentMode||9<document.documentMode)}function Lj(){Qu&&(Qu.detachEvent("onpropertychange",Fj),Zu=Qu=null)}function Fj(u){if(u.propertyName==="value"&&pp(Zu)){var p=[];Dj(p,Zu,u,si(u)),un(Nq,p)}}function Mq(u,p,v){u==="focusin"?(Lj(),Qu=p,Zu=v,Qu.attachEvent("onpropertychange",Fj)):u==="focusout"&&Lj()}function Dq(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return pp(Zu)}function Rq(u,p){if(u==="click")return pp(p)}function Iq(u,p){if(u==="input"||u==="change")return pp(p)}function Lq(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var Ii=typeof Object.is=="function"?Object.is:Lq;function Ju(u,p){if(Ii(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var v=Object.keys(u),S=Object.keys(p);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var E=v[S];if(!l.call(p,E)||!Ii(u[E],p[E]))return!1}return!0}function $j(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Bj(u,p){var v=$j(u);u=0;for(var S;v;){if(v.nodeType===3){if(S=u+v.textContent.length,u<=p&&S>=p)return{node:v,offset:p-u};u=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=$j(v)}}function Uj(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?Uj(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function zj(){for(var u=window,p=We();p instanceof u.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)u=p.contentWindow;else break;p=We(u.document)}return p}function pb(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function Fq(u){var p=zj(),v=u.focusedElem,S=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&Uj(v.ownerDocument.documentElement,v)){if(S!==null&&pb(v)){if(p=S.start,u=S.end,u===void 0&&(u=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(u,v.value.length);else if(u=(p=v.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var E=v.textContent.length,N=Math.min(S.start,E);S=S.end===void 0?N:Math.min(S.end,E),!u.extend&&N>S&&(E=S,S=N,N=E),E=Bj(v,N);var I=Bj(v,S);E&&I&&(u.rangeCount!==1||u.anchorNode!==E.node||u.anchorOffset!==E.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(p=p.createRange(),p.setStart(E.node,E.offset),u.removeAllRanges(),N>S?(u.addRange(p),u.extend(I.node,I.offset)):(p.setEnd(I.node,I.offset),u.addRange(p)))}}for(p=[],u=v;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)u=p[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var $q=o&&"documentMode"in document&&11>=document.documentMode,El=null,mb=null,ed=null,gb=!1;function Vj(u,p,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;gb||El==null||El!==We(S)||(S=El,"selectionStart"in S&&pb(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ed&&Ju(ed,S)||(ed=S,S=yp(mb,"onSelect"),0<S.length&&(p=new ab("onSelect","select",null,p,v),u.push({event:p,listeners:S}),p.target=El)))}function mp(u,p){var v={};return v[u.toLowerCase()]=p.toLowerCase(),v["Webkit"+u]="webkit"+p,v["Moz"+u]="moz"+p,v}var Tl={animationend:mp("Animation","AnimationEnd"),animationiteration:mp("Animation","AnimationIteration"),animationstart:mp("Animation","AnimationStart"),transitionend:mp("Transition","TransitionEnd")},vb={},Wj={};o&&(Wj=document.createElement("div").style,"AnimationEvent"in window||(delete Tl.animationend.animation,delete Tl.animationiteration.animation,delete Tl.animationstart.animation),"TransitionEvent"in window||delete Tl.transitionend.transition);function gp(u){if(vb[u])return vb[u];if(!Tl[u])return u;var p=Tl[u],v;for(v in p)if(p.hasOwnProperty(v)&&v in Wj)return vb[u]=p[v];return u}var Hj=gp("animationend"),qj=gp("animationiteration"),Gj=gp("animationstart"),Kj=gp("transitionend"),Yj=new Map,Xj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(u,p){Yj.set(u,p),s(p,[u])}for(var yb=0;yb<Xj.length;yb++){var bb=Xj[yb],Bq=bb.toLowerCase(),Uq=bb[0].toUpperCase()+bb.slice(1);Ca(Bq,"on"+Uq)}Ca(Hj,"onAnimationEnd"),Ca(qj,"onAnimationIteration"),Ca(Gj,"onAnimationStart"),Ca("dblclick","onDoubleClick"),Ca("focusin","onFocus"),Ca("focusout","onBlur"),Ca(Kj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zq=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function Qj(u,p,v){var S=u.type||"unknown-event";u.currentTarget=v,BH(S,p,void 0,u),u.currentTarget=null}function Zj(u,p){p=(p&4)!==0;for(var v=0;v<u.length;v++){var S=u[v],E=S.event;S=S.listeners;e:{var N=void 0;if(p)for(var I=S.length-1;0<=I;I--){var G=S[I],Y=G.instance,ie=G.currentTarget;if(G=G.listener,Y!==N&&E.isPropagationStopped())break e;Qj(E,G,ie),N=Y}else for(I=0;I<S.length;I++){if(G=S[I],Y=G.instance,ie=G.currentTarget,G=G.listener,Y!==N&&E.isPropagationStopped())break e;Qj(E,G,ie),N=Y}}}if(Bu)throw u=Xy,Bu=!1,Xy=null,u}function It(u,p){var v=p[Eb];v===void 0&&(v=p[Eb]=new Set);var S=u+"__bubble";v.has(S)||(Jj(p,u,2,!1),v.add(S))}function xb(u,p,v){var S=0;p&&(S|=4),Jj(v,u,S,p)}var vp="_reactListening"+Math.random().toString(36).slice(2);function nd(u){if(!u[vp]){u[vp]=!0,r.forEach(function(v){v!=="selectionchange"&&(zq.has(v)||xb(v,!1,u),xb(v,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[vp]||(p[vp]=!0,xb("selectionchange",!1,p))}}function Jj(u,p,v,S){switch(Sj(p)){case 1:var E=nq;break;case 4:E=rq;break;default:E=rb}v=E.bind(null,p,v,u),E=void 0,!ya||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(E=!0),S?E!==void 0?u.addEventListener(p,v,{capture:!0,passive:E}):u.addEventListener(p,v,!0):E!==void 0?u.addEventListener(p,v,{passive:E}):u.addEventListener(p,v,!1)}function wb(u,p,v,S,E){var N=S;if((p&1)===0&&(p&2)===0&&S!==null)e:for(;;){if(S===null)return;var I=S.tag;if(I===3||I===4){var G=S.stateNode.containerInfo;if(G===E||G.nodeType===8&&G.parentNode===E)break;if(I===4)for(I=S.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===E||Y.nodeType===8&&Y.parentNode===E))return;I=I.return}for(;G!==null;){if(I=yo(G),I===null)return;if(Y=I.tag,Y===5||Y===6){S=N=I;continue e}G=G.parentNode}}S=S.return}un(function(){var ie=N,de=si(v),fe=[];e:{var ue=Yj.get(u);if(ue!==void 0){var be=ab,Ce=u;switch(u){case"keypress":if(dp(v)===0)break e;case"keydown":case"keyup":be=yq;break;case"focusin":Ce="focus",be=cb;break;case"focusout":Ce="blur",be=cb;break;case"beforeblur":case"afterblur":be=cb;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=Cj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=aq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=wq;break;case Hj:case qj:case Gj:be=cq;break;case Kj:be=_q;break;case"scroll":be=iq;break;case"wheel":be=Cq;break;case"copy":case"cut":case"paste":be=dq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Ej}var Te=(p&4)!==0,tn=!Te&&u==="scroll",J=Te?ue!==null?ue+"Capture":null:ue;Te=[];for(var Q=ie,ne;Q!==null;){ne=Q;var me=ne.stateNode;if(ne.tag===5&&me!==null&&(ne=me,J!==null&&(me=jn(Q,J),me!=null&&Te.push(rd(Q,me,ne)))),tn)break;Q=Q.return}0<Te.length&&(ue=new be(ue,Ce,null,v,de),fe.push({event:ue,listeners:Te}))}}if((p&7)===0){e:{if(ue=u==="mouseover"||u==="pointerover",be=u==="mouseout"||u==="pointerout",ue&&v!==go&&(Ce=v.relatedTarget||v.fromElement)&&(yo(Ce)||Ce[Is]))break e;if((be||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Ce=v.relatedTarget||v.toElement,be=ie,Ce=Ce?yo(Ce):null,Ce!==null&&(tn=vo(Ce),Ce!==tn||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=ie),be!==Ce)){if(Te=Cj,me="onMouseLeave",J="onMouseEnter",Q="mouse",(u==="pointerout"||u==="pointerover")&&(Te=Ej,me="onPointerLeave",J="onPointerEnter",Q="pointer"),tn=be==null?ue:Nl(be),ne=Ce==null?ue:Nl(Ce),ue=new Te(me,Q+"leave",be,v,de),ue.target=tn,ue.relatedTarget=ne,me=null,yo(de)===ie&&(Te=new Te(J,Q+"enter",Ce,v,de),Te.target=ne,Te.relatedTarget=tn,me=Te),tn=me,be&&Ce)t:{for(Te=be,J=Ce,Q=0,ne=Te;ne;ne=jl(ne))Q++;for(ne=0,me=J;me;me=jl(me))ne++;for(;0<Q-ne;)Te=jl(Te),Q--;for(;0<ne-Q;)J=jl(J),ne--;for(;Q--;){if(Te===J||J!==null&&Te===J.alternate)break t;Te=jl(Te),J=jl(J)}Te=null}else Te=null;be!==null&&ek(fe,ue,be,Te,!1),Ce!==null&&tn!==null&&ek(fe,tn,Ce,Te,!0)}}e:{if(ue=ie?Nl(ie):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var je=Oq;else if(Mj(ue))if(Rj)je=Iq;else{je=Dq;var Ie=Mq}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(je=Rq);if(je&&(je=je(u,ie))){Dj(fe,je,v,de);break e}Ie&&Ie(u,ue,ie),u==="focusout"&&(Ie=ue._wrapperState)&&Ie.controlled&&ue.type==="number"&&cn(ue,"number",ue.value)}switch(Ie=ie?Nl(ie):window,u){case"focusin":(Mj(Ie)||Ie.contentEditable==="true")&&(El=Ie,mb=ie,ed=null);break;case"focusout":ed=mb=El=null;break;case"mousedown":gb=!0;break;case"contextmenu":case"mouseup":case"dragend":gb=!1,Vj(fe,v,de);break;case"selectionchange":if($q)break;case"keydown":case"keyup":Vj(fe,v,de)}var Le;if(db)e:{switch(u){case"compositionstart":var He="onCompositionStart";break e;case"compositionend":He="onCompositionEnd";break e;case"compositionupdate":He="onCompositionUpdate";break e}He=void 0}else Pl?Nj(u,v)&&(He="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(He="onCompositionStart");He&&(Tj&&v.locale!=="ko"&&(Pl||He!=="onCompositionStart"?He==="onCompositionEnd"&&Pl&&(Le=_j()):(Aa=de,sb="value"in Aa?Aa.value:Aa.textContent,Pl=!0)),Ie=yp(ie,He),0<Ie.length&&(He=new Pj(He,u,null,v,de),fe.push({event:He,listeners:Ie}),Le?He.data=Le:(Le=Oj(v),Le!==null&&(He.data=Le)))),(Le=Eq?Tq(u,v):jq(u,v))&&(ie=yp(ie,"onBeforeInput"),0<ie.length&&(de=new Pj("onBeforeInput","beforeinput",null,v,de),fe.push({event:de,listeners:ie}),de.data=Le))}Zj(fe,p)})}function rd(u,p,v){return{instance:u,listener:p,currentTarget:v}}function yp(u,p){for(var v=p+"Capture",S=[];u!==null;){var E=u,N=E.stateNode;E.tag===5&&N!==null&&(E=N,N=jn(u,v),N!=null&&S.unshift(rd(u,N,E)),N=jn(u,p),N!=null&&S.push(rd(u,N,E))),u=u.return}return S}function jl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function ek(u,p,v,S,E){for(var N=p._reactName,I=[];v!==null&&v!==S;){var G=v,Y=G.alternate,ie=G.stateNode;if(Y!==null&&Y===S)break;G.tag===5&&ie!==null&&(G=ie,E?(Y=jn(v,N),Y!=null&&I.unshift(rd(v,Y,G))):E||(Y=jn(v,N),Y!=null&&I.push(rd(v,Y,G)))),v=v.return}I.length!==0&&u.push({event:p,listeners:I})}var Vq=/\r\n?/g,Wq=/\u0000|\uFFFD/g;function tk(u){return(typeof u=="string"?u:""+u).replace(Vq,`
`).replace(Wq,"")}function bp(u,p,v){if(p=tk(p),tk(u)!==p&&v)throw Error(n(425))}function xp(){}var Sb=null,_b=null;function Ab(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Cb=typeof setTimeout=="function"?setTimeout:void 0,Hq=typeof clearTimeout=="function"?clearTimeout:void 0,nk=typeof Promise=="function"?Promise:void 0,qq=typeof queueMicrotask=="function"?queueMicrotask:typeof nk<"u"?function(u){return nk.resolve(null).then(u).catch(Gq)}:Cb;function Gq(u){setTimeout(function(){throw u})}function Pb(u,p){var v=p,S=0;do{var E=v.nextSibling;if(u.removeChild(v),E&&E.nodeType===8)if(v=E.data,v==="/$"){if(S===0){u.removeChild(E),Gu(p);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=E}while(v);Gu(p)}function Pa(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function rk(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return u;p--}else v==="/$"&&p++}u=u.previousSibling}return null}var kl=Math.random().toString(36).slice(2),rs="__reactFiber$"+kl,id="__reactProps$"+kl,Is="__reactContainer$"+kl,Eb="__reactEvents$"+kl,Kq="__reactListeners$"+kl,Yq="__reactHandles$"+kl;function yo(u){var p=u[rs];if(p)return p;for(var v=u.parentNode;v;){if(p=v[Is]||v[rs]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(u=rk(u);u!==null;){if(v=u[rs])return v;u=rk(u)}return p}u=v,v=u.parentNode}return null}function sd(u){return u=u[rs]||u[Is],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Nl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function wp(u){return u[id]||null}var Tb=[],Ol=-1;function Ea(u){return{current:u}}function Lt(u){0>Ol||(u.current=Tb[Ol],Tb[Ol]=null,Ol--)}function jt(u,p){Ol++,Tb[Ol]=u.current,u.current=p}var Ta={},rr=Ea(Ta),Ar=Ea(!1),bo=Ta;function Ml(u,p){var v=u.type.contextTypes;if(!v)return Ta;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===p)return S.__reactInternalMemoizedMaskedChildContext;var E={},N;for(N in v)E[N]=p[N];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=E),E}function Cr(u){return u=u.childContextTypes,u!=null}function Sp(){Lt(Ar),Lt(rr)}function ik(u,p,v){if(rr.current!==Ta)throw Error(n(168));jt(rr,p),jt(Ar,v)}function sk(u,p,v){var S=u.stateNode;if(p=p.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var E in S)if(!(E in p))throw Error(n(108,re(u)||"Unknown",E));return X({},v,S)}function _p(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ta,bo=rr.current,jt(rr,u),jt(Ar,Ar.current),!0}function ak(u,p,v){var S=u.stateNode;if(!S)throw Error(n(169));v?(u=sk(u,p,bo),S.__reactInternalMemoizedMergedChildContext=u,Lt(Ar),Lt(rr),jt(rr,u)):Lt(Ar),jt(Ar,v)}var Ls=null,Ap=!1,jb=!1;function ok(u){Ls===null?Ls=[u]:Ls.push(u)}function Xq(u){Ap=!0,ok(u)}function ja(){if(!jb&&Ls!==null){jb=!0;var u=0,p=yt;try{var v=Ls;for(yt=1;u<v.length;u++){var S=v[u];do S=S(!0);while(S!==null)}Ls=null,Ap=!1}catch(E){throw Ls!==null&&(Ls=Ls.slice(u+1)),cj(Qy,ja),E}finally{yt=p,jb=!1}}return null}var Dl=[],Rl=0,Cp=null,Pp=0,oi=[],li=0,xo=null,Fs=1,$s="";function wo(u,p){Dl[Rl++]=Pp,Dl[Rl++]=Cp,Cp=u,Pp=p}function lk(u,p,v){oi[li++]=Fs,oi[li++]=$s,oi[li++]=xo,xo=u;var S=Fs;u=$s;var E=32-Ri(S)-1;S&=~(1<<E),v+=1;var N=32-Ri(p)+E;if(30<N){var I=E-E%5;N=(S&(1<<I)-1).toString(32),S>>=I,E-=I,Fs=1<<32-Ri(p)+E|v<<E|S,$s=N+u}else Fs=1<<N|v<<E|S,$s=u}function kb(u){u.return!==null&&(wo(u,1),lk(u,1,0))}function Nb(u){for(;u===Cp;)Cp=Dl[--Rl],Dl[Rl]=null,Pp=Dl[--Rl],Dl[Rl]=null;for(;u===xo;)xo=oi[--li],oi[li]=null,$s=oi[--li],oi[li]=null,Fs=oi[--li],oi[li]=null}var Ur=null,zr=null,$t=!1,Li=null;function ck(u,p){var v=hi(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=u,p=u.deletions,p===null?(u.deletions=[v],u.flags|=16):p.push(v)}function uk(u,p){switch(u.tag){case 5:var v=u.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,Ur=u,zr=Pa(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,Ur=u,zr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=xo!==null?{id:Fs,overflow:$s}:null,u.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=hi(18,null,null,0),v.stateNode=p,v.return=u,u.child=v,Ur=u,zr=null,!0):!1;default:return!1}}function Ob(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Mb(u){if($t){var p=zr;if(p){var v=p;if(!uk(u,p)){if(Ob(u))throw Error(n(418));p=Pa(v.nextSibling);var S=Ur;p&&uk(u,p)?ck(S,v):(u.flags=u.flags&-4097|2,$t=!1,Ur=u)}}else{if(Ob(u))throw Error(n(418));u.flags=u.flags&-4097|2,$t=!1,Ur=u}}}function dk(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Ur=u}function Ep(u){if(u!==Ur)return!1;if(!$t)return dk(u),$t=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!Ab(u.type,u.memoizedProps)),p&&(p=zr)){if(Ob(u))throw hk(),Error(n(418));for(;p;)ck(u,p),p=Pa(p.nextSibling)}if(dk(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(p===0){zr=Pa(u.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}u=u.nextSibling}zr=null}}else zr=Ur?Pa(u.stateNode.nextSibling):null;return!0}function hk(){for(var u=zr;u;)u=Pa(u.nextSibling)}function Il(){zr=Ur=null,$t=!1}function Db(u){Li===null?Li=[u]:Li.push(u)}var Qq=j.ReactCurrentBatchConfig;function ad(u,p,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var S=v.stateNode}if(!S)throw Error(n(147,u));var E=S,N=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(I){var G=E.refs;I===null?delete G[N]:G[N]=I},p._stringRef=N,p)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function Tp(u,p){throw u=Object.prototype.toString.call(p),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function fk(u){var p=u._init;return p(u._payload)}function pk(u){function p(J,Q){if(u){var ne=J.deletions;ne===null?(J.deletions=[Q],J.flags|=16):ne.push(Q)}}function v(J,Q){if(!u)return null;for(;Q!==null;)p(J,Q),Q=Q.sibling;return null}function S(J,Q){for(J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function E(J,Q){return J=La(J,Q),J.index=0,J.sibling=null,J}function N(J,Q,ne){return J.index=ne,u?(ne=J.alternate,ne!==null?(ne=ne.index,ne<Q?(J.flags|=2,Q):ne):(J.flags|=2,Q)):(J.flags|=1048576,Q)}function I(J){return u&&J.alternate===null&&(J.flags|=2),J}function G(J,Q,ne,me){return Q===null||Q.tag!==6?(Q=Cx(ne,J.mode,me),Q.return=J,Q):(Q=E(Q,ne),Q.return=J,Q)}function Y(J,Q,ne,me){var je=ne.type;return je===k?de(J,Q,ne.props.children,me,ne.key):Q!==null&&(Q.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&fk(je)===Q.type)?(me=E(Q,ne.props),me.ref=ad(J,Q,ne),me.return=J,me):(me=Zp(ne.type,ne.key,ne.props,null,J.mode,me),me.ref=ad(J,Q,ne),me.return=J,me)}function ie(J,Q,ne,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ne.containerInfo||Q.stateNode.implementation!==ne.implementation?(Q=Px(ne,J.mode,me),Q.return=J,Q):(Q=E(Q,ne.children||[]),Q.return=J,Q)}function de(J,Q,ne,me,je){return Q===null||Q.tag!==7?(Q=jo(ne,J.mode,me,je),Q.return=J,Q):(Q=E(Q,ne),Q.return=J,Q)}function fe(J,Q,ne){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Cx(""+Q,J.mode,ne),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return ne=Zp(Q.type,Q.key,Q.props,null,J.mode,ne),ne.ref=ad(J,null,Q),ne.return=J,ne;case T:return Q=Px(Q,J.mode,ne),Q.return=J,Q;case V:var me=Q._init;return fe(J,me(Q._payload),ne)}if(ri(Q)||W(Q))return Q=jo(Q,J.mode,ne,null),Q.return=J,Q;Tp(J,Q)}return null}function ue(J,Q,ne,me){var je=Q!==null?Q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return je!==null?null:G(J,Q,""+ne,me);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:return ne.key===je?Y(J,Q,ne,me):null;case T:return ne.key===je?ie(J,Q,ne,me):null;case V:return je=ne._init,ue(J,Q,je(ne._payload),me)}if(ri(ne)||W(ne))return je!==null?null:de(J,Q,ne,me,null);Tp(J,ne)}return null}function be(J,Q,ne,me,je){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(ne)||null,G(Q,J,""+me,je);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return J=J.get(me.key===null?ne:me.key)||null,Y(Q,J,me,je);case T:return J=J.get(me.key===null?ne:me.key)||null,ie(Q,J,me,je);case V:var Ie=me._init;return be(J,Q,ne,Ie(me._payload),je)}if(ri(me)||W(me))return J=J.get(ne)||null,de(Q,J,me,je,null);Tp(Q,me)}return null}function Ce(J,Q,ne,me){for(var je=null,Ie=null,Le=Q,He=Q=0,On=null;Le!==null&&He<ne.length;He++){Le.index>He?(On=Le,Le=null):On=Le.sibling;var ct=ue(J,Le,ne[He],me);if(ct===null){Le===null&&(Le=On);break}u&&Le&&ct.alternate===null&&p(J,Le),Q=N(ct,Q,He),Ie===null?je=ct:Ie.sibling=ct,Ie=ct,Le=On}if(He===ne.length)return v(J,Le),$t&&wo(J,He),je;if(Le===null){for(;He<ne.length;He++)Le=fe(J,ne[He],me),Le!==null&&(Q=N(Le,Q,He),Ie===null?je=Le:Ie.sibling=Le,Ie=Le);return $t&&wo(J,He),je}for(Le=S(J,Le);He<ne.length;He++)On=be(Le,J,He,ne[He],me),On!==null&&(u&&On.alternate!==null&&Le.delete(On.key===null?He:On.key),Q=N(On,Q,He),Ie===null?je=On:Ie.sibling=On,Ie=On);return u&&Le.forEach(function(Fa){return p(J,Fa)}),$t&&wo(J,He),je}function Te(J,Q,ne,me){var je=W(ne);if(typeof je!="function")throw Error(n(150));if(ne=je.call(ne),ne==null)throw Error(n(151));for(var Ie=je=null,Le=Q,He=Q=0,On=null,ct=ne.next();Le!==null&&!ct.done;He++,ct=ne.next()){Le.index>He?(On=Le,Le=null):On=Le.sibling;var Fa=ue(J,Le,ct.value,me);if(Fa===null){Le===null&&(Le=On);break}u&&Le&&Fa.alternate===null&&p(J,Le),Q=N(Fa,Q,He),Ie===null?je=Fa:Ie.sibling=Fa,Ie=Fa,Le=On}if(ct.done)return v(J,Le),$t&&wo(J,He),je;if(Le===null){for(;!ct.done;He++,ct=ne.next())ct=fe(J,ct.value,me),ct!==null&&(Q=N(ct,Q,He),Ie===null?je=ct:Ie.sibling=ct,Ie=ct);return $t&&wo(J,He),je}for(Le=S(J,Le);!ct.done;He++,ct=ne.next())ct=be(Le,J,He,ct.value,me),ct!==null&&(u&&ct.alternate!==null&&Le.delete(ct.key===null?He:ct.key),Q=N(ct,Q,He),Ie===null?je=ct:Ie.sibling=ct,Ie=ct);return u&&Le.forEach(function(kG){return p(J,kG)}),$t&&wo(J,He),je}function tn(J,Q,ne,me){if(typeof ne=="object"&&ne!==null&&ne.type===k&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case P:e:{for(var je=ne.key,Ie=Q;Ie!==null;){if(Ie.key===je){if(je=ne.type,je===k){if(Ie.tag===7){v(J,Ie.sibling),Q=E(Ie,ne.props.children),Q.return=J,J=Q;break e}}else if(Ie.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===V&&fk(je)===Ie.type){v(J,Ie.sibling),Q=E(Ie,ne.props),Q.ref=ad(J,Ie,ne),Q.return=J,J=Q;break e}v(J,Ie);break}else p(J,Ie);Ie=Ie.sibling}ne.type===k?(Q=jo(ne.props.children,J.mode,me,ne.key),Q.return=J,J=Q):(me=Zp(ne.type,ne.key,ne.props,null,J.mode,me),me.ref=ad(J,Q,ne),me.return=J,J=me)}return I(J);case T:e:{for(Ie=ne.key;Q!==null;){if(Q.key===Ie)if(Q.tag===4&&Q.stateNode.containerInfo===ne.containerInfo&&Q.stateNode.implementation===ne.implementation){v(J,Q.sibling),Q=E(Q,ne.children||[]),Q.return=J,J=Q;break e}else{v(J,Q);break}else p(J,Q);Q=Q.sibling}Q=Px(ne,J.mode,me),Q.return=J,J=Q}return I(J);case V:return Ie=ne._init,tn(J,Q,Ie(ne._payload),me)}if(ri(ne))return Ce(J,Q,ne,me);if(W(ne))return Te(J,Q,ne,me);Tp(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,Q!==null&&Q.tag===6?(v(J,Q.sibling),Q=E(Q,ne),Q.return=J,J=Q):(v(J,Q),Q=Cx(ne,J.mode,me),Q.return=J,J=Q),I(J)):v(J,Q)}return tn}var Ll=pk(!0),mk=pk(!1),jp=Ea(null),kp=null,Fl=null,Rb=null;function Ib(){Rb=Fl=kp=null}function Lb(u){var p=jp.current;Lt(jp),u._currentValue=p}function Fb(u,p,v){for(;u!==null;){var S=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),u===v)break;u=u.return}}function $l(u,p){kp=u,Rb=Fl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(Pr=!0),u.firstContext=null)}function ci(u){var p=u._currentValue;if(Rb!==u)if(u={context:u,memoizedValue:p,next:null},Fl===null){if(kp===null)throw Error(n(308));Fl=u,kp.dependencies={lanes:0,firstContext:u}}else Fl=Fl.next=u;return p}var So=null;function $b(u){So===null?So=[u]:So.push(u)}function gk(u,p,v,S){var E=p.interleaved;return E===null?(v.next=v,$b(p)):(v.next=E.next,E.next=v),p.interleaved=v,Bs(u,S)}function Bs(u,p){u.lanes|=p;var v=u.alternate;for(v!==null&&(v.lanes|=p),v=u,u=u.return;u!==null;)u.childLanes|=p,v=u.alternate,v!==null&&(v.childLanes|=p),v=u,u=u.return;return v.tag===3?v.stateNode:null}var ka=!1;function Bb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vk(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Us(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function Na(u,p,v){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(lt&2)!==0){var E=S.pending;return E===null?p.next=p:(p.next=E.next,E.next=p),S.pending=p,Bs(u,v)}return E=S.interleaved,E===null?(p.next=p,$b(S)):(p.next=E.next,E.next=p),S.interleaved=p,Bs(u,v)}function Np(u,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var S=p.lanes;S&=u.pendingLanes,v|=S,p.lanes=v,eb(u,v)}}function yk(u,p){var v=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var E=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var I={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};N===null?E=N=I:N=N.next=I,v=v.next}while(v!==null);N===null?E=N=p:N=N.next=p}else E=N=p;v={baseState:S.baseState,firstBaseUpdate:E,lastBaseUpdate:N,shared:S.shared,effects:S.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=p:u.next=p,v.lastBaseUpdate=p}function Op(u,p,v,S){var E=u.updateQueue;ka=!1;var N=E.firstBaseUpdate,I=E.lastBaseUpdate,G=E.shared.pending;if(G!==null){E.shared.pending=null;var Y=G,ie=Y.next;Y.next=null,I===null?N=ie:I.next=ie,I=Y;var de=u.alternate;de!==null&&(de=de.updateQueue,G=de.lastBaseUpdate,G!==I&&(G===null?de.firstBaseUpdate=ie:G.next=ie,de.lastBaseUpdate=Y))}if(N!==null){var fe=E.baseState;I=0,de=ie=Y=null,G=N;do{var ue=G.lane,be=G.eventTime;if((S&ue)===ue){de!==null&&(de=de.next={eventTime:be,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});e:{var Ce=u,Te=G;switch(ue=p,be=v,Te.tag){case 1:if(Ce=Te.payload,typeof Ce=="function"){fe=Ce.call(be,fe,ue);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Te.payload,ue=typeof Ce=="function"?Ce.call(be,fe,ue):Ce,ue==null)break e;fe=X({},fe,ue);break e;case 2:ka=!0}}G.callback!==null&&G.lane!==0&&(u.flags|=64,ue=E.effects,ue===null?E.effects=[G]:ue.push(G))}else be={eventTime:be,lane:ue,tag:G.tag,payload:G.payload,callback:G.callback,next:null},de===null?(ie=de=be,Y=fe):de=de.next=be,I|=ue;if(G=G.next,G===null){if(G=E.shared.pending,G===null)break;ue=G,G=ue.next,ue.next=null,E.lastBaseUpdate=ue,E.shared.pending=null}}while(!0);if(de===null&&(Y=fe),E.baseState=Y,E.firstBaseUpdate=ie,E.lastBaseUpdate=de,p=E.shared.interleaved,p!==null){E=p;do I|=E.lane,E=E.next;while(E!==p)}else N===null&&(E.shared.lanes=0);Co|=I,u.lanes=I,u.memoizedState=fe}}function bk(u,p,v){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var S=u[p],E=S.callback;if(E!==null){if(S.callback=null,S=v,typeof E!="function")throw Error(n(191,E));E.call(S)}}}var od={},is=Ea(od),ld=Ea(od),cd=Ea(od);function _o(u){if(u===od)throw Error(n(174));return u}function Ub(u,p){switch(jt(cd,p),jt(ld,u),jt(is,od),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Iu(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=Iu(p,u)}Lt(is),jt(is,p)}function Bl(){Lt(is),Lt(ld),Lt(cd)}function xk(u){_o(cd.current);var p=_o(is.current),v=Iu(p,u.type);p!==v&&(jt(ld,u),jt(is,v))}function zb(u){ld.current===u&&(Lt(is),Lt(ld))}var zt=Ea(0);function Mp(u){for(var p=u;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Vb=[];function Wb(){for(var u=0;u<Vb.length;u++)Vb[u]._workInProgressVersionPrimary=null;Vb.length=0}var Dp=j.ReactCurrentDispatcher,Hb=j.ReactCurrentBatchConfig,Ao=0,Vt=null,wn=null,kn=null,Rp=!1,ud=!1,dd=0,Zq=0;function ir(){throw Error(n(321))}function qb(u,p){if(p===null)return!1;for(var v=0;v<p.length&&v<u.length;v++)if(!Ii(u[v],p[v]))return!1;return!0}function Gb(u,p,v,S,E,N){if(Ao=N,Vt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Dp.current=u===null||u.memoizedState===null?nG:rG,u=v(S,E),ud){N=0;do{if(ud=!1,dd=0,25<=N)throw Error(n(301));N+=1,kn=wn=null,p.updateQueue=null,Dp.current=iG,u=v(S,E)}while(ud)}if(Dp.current=Fp,p=wn!==null&&wn.next!==null,Ao=0,kn=wn=Vt=null,Rp=!1,p)throw Error(n(300));return u}function Kb(){var u=dd!==0;return dd=0,u}function ss(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Vt.memoizedState=kn=u:kn=kn.next=u,kn}function ui(){if(wn===null){var u=Vt.alternate;u=u!==null?u.memoizedState:null}else u=wn.next;var p=kn===null?Vt.memoizedState:kn.next;if(p!==null)kn=p,wn=u;else{if(u===null)throw Error(n(310));wn=u,u={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},kn===null?Vt.memoizedState=kn=u:kn=kn.next=u}return kn}function hd(u,p){return typeof p=="function"?p(u):p}function Yb(u){var p=ui(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=wn,E=S.baseQueue,N=v.pending;if(N!==null){if(E!==null){var I=E.next;E.next=N.next,N.next=I}S.baseQueue=E=N,v.pending=null}if(E!==null){N=E.next,S=S.baseState;var G=I=null,Y=null,ie=N;do{var de=ie.lane;if((Ao&de)===de)Y!==null&&(Y=Y.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),S=ie.hasEagerState?ie.eagerState:u(S,ie.action);else{var fe={lane:de,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};Y===null?(G=Y=fe,I=S):Y=Y.next=fe,Vt.lanes|=de,Co|=de}ie=ie.next}while(ie!==null&&ie!==N);Y===null?I=S:Y.next=G,Ii(S,p.memoizedState)||(Pr=!0),p.memoizedState=S,p.baseState=I,p.baseQueue=Y,v.lastRenderedState=S}if(u=v.interleaved,u!==null){E=u;do N=E.lane,Vt.lanes|=N,Co|=N,E=E.next;while(E!==u)}else E===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function Xb(u){var p=ui(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=v.dispatch,E=v.pending,N=p.memoizedState;if(E!==null){v.pending=null;var I=E=E.next;do N=u(N,I.action),I=I.next;while(I!==E);Ii(N,p.memoizedState)||(Pr=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),v.lastRenderedState=N}return[N,S]}function wk(){}function Sk(u,p){var v=Vt,S=ui(),E=p(),N=!Ii(S.memoizedState,E);if(N&&(S.memoizedState=E,Pr=!0),S=S.queue,Qb(Ck.bind(null,v,S,u),[u]),S.getSnapshot!==p||N||kn!==null&&kn.memoizedState.tag&1){if(v.flags|=2048,fd(9,Ak.bind(null,v,S,E,p),void 0,null),Nn===null)throw Error(n(349));(Ao&30)!==0||_k(v,p,E)}return E}function _k(u,p,v){u.flags|=16384,u={getSnapshot:p,value:v},p=Vt.updateQueue,p===null?(p={lastEffect:null,stores:null},Vt.updateQueue=p,p.stores=[u]):(v=p.stores,v===null?p.stores=[u]:v.push(u))}function Ak(u,p,v,S){p.value=v,p.getSnapshot=S,Pk(p)&&Ek(u)}function Ck(u,p,v){return v(function(){Pk(p)&&Ek(u)})}function Pk(u){var p=u.getSnapshot;u=u.value;try{var v=p();return!Ii(u,v)}catch{return!0}}function Ek(u){var p=Bs(u,1);p!==null&&Ui(p,u,1,-1)}function Tk(u){var p=ss();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hd,lastRenderedState:u},p.queue=u,u=u.dispatch=tG.bind(null,Vt,u),[p.memoizedState,u]}function fd(u,p,v,S){return u={tag:u,create:p,destroy:v,deps:S,next:null},p=Vt.updateQueue,p===null?(p={lastEffect:null,stores:null},Vt.updateQueue=p,p.lastEffect=u.next=u):(v=p.lastEffect,v===null?p.lastEffect=u.next=u:(S=v.next,v.next=u,u.next=S,p.lastEffect=u)),u}function jk(){return ui().memoizedState}function Ip(u,p,v,S){var E=ss();Vt.flags|=u,E.memoizedState=fd(1|p,v,void 0,S===void 0?null:S)}function Lp(u,p,v,S){var E=ui();S=S===void 0?null:S;var N=void 0;if(wn!==null){var I=wn.memoizedState;if(N=I.destroy,S!==null&&qb(S,I.deps)){E.memoizedState=fd(p,v,N,S);return}}Vt.flags|=u,E.memoizedState=fd(1|p,v,N,S)}function kk(u,p){return Ip(8390656,8,u,p)}function Qb(u,p){return Lp(2048,8,u,p)}function Nk(u,p){return Lp(4,2,u,p)}function Ok(u,p){return Lp(4,4,u,p)}function Mk(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function Dk(u,p,v){return v=v!=null?v.concat([u]):null,Lp(4,4,Mk.bind(null,p,u),v)}function Zb(){}function Rk(u,p){var v=ui();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&qb(p,S[1])?S[0]:(v.memoizedState=[u,p],u)}function Ik(u,p){var v=ui();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&qb(p,S[1])?S[0]:(u=u(),v.memoizedState=[u,p],u)}function Lk(u,p,v){return(Ao&21)===0?(u.baseState&&(u.baseState=!1,Pr=!0),u.memoizedState=v):(Ii(v,p)||(v=fj(),Vt.lanes|=v,Co|=v,u.baseState=!0),p)}function Jq(u,p){var v=yt;yt=v!==0&&4>v?v:4,u(!0);var S=Hb.transition;Hb.transition={};try{u(!1),p()}finally{yt=v,Hb.transition=S}}function Fk(){return ui().memoizedState}function eG(u,p,v){var S=Ra(u);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},$k(u))Bk(p,v);else if(v=gk(u,p,v,S),v!==null){var E=hr();Ui(v,u,S,E),Uk(v,p,S)}}function tG(u,p,v){var S=Ra(u),E={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if($k(u))Bk(p,E);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var I=p.lastRenderedState,G=N(I,v);if(E.hasEagerState=!0,E.eagerState=G,Ii(G,I)){var Y=p.interleaved;Y===null?(E.next=E,$b(p)):(E.next=Y.next,Y.next=E),p.interleaved=E;return}}catch{}finally{}v=gk(u,p,E,S),v!==null&&(E=hr(),Ui(v,u,S,E),Uk(v,p,S))}}function $k(u){var p=u.alternate;return u===Vt||p!==null&&p===Vt}function Bk(u,p){ud=Rp=!0;var v=u.pending;v===null?p.next=p:(p.next=v.next,v.next=p),u.pending=p}function Uk(u,p,v){if((v&4194240)!==0){var S=p.lanes;S&=u.pendingLanes,v|=S,p.lanes=v,eb(u,v)}}var Fp={readContext:ci,useCallback:ir,useContext:ir,useEffect:ir,useImperativeHandle:ir,useInsertionEffect:ir,useLayoutEffect:ir,useMemo:ir,useReducer:ir,useRef:ir,useState:ir,useDebugValue:ir,useDeferredValue:ir,useTransition:ir,useMutableSource:ir,useSyncExternalStore:ir,useId:ir,unstable_isNewReconciler:!1},nG={readContext:ci,useCallback:function(u,p){return ss().memoizedState=[u,p===void 0?null:p],u},useContext:ci,useEffect:kk,useImperativeHandle:function(u,p,v){return v=v!=null?v.concat([u]):null,Ip(4194308,4,Mk.bind(null,p,u),v)},useLayoutEffect:function(u,p){return Ip(4194308,4,u,p)},useInsertionEffect:function(u,p){return Ip(4,2,u,p)},useMemo:function(u,p){var v=ss();return p=p===void 0?null:p,u=u(),v.memoizedState=[u,p],u},useReducer:function(u,p,v){var S=ss();return p=v!==void 0?v(p):p,S.memoizedState=S.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},S.queue=u,u=u.dispatch=eG.bind(null,Vt,u),[S.memoizedState,u]},useRef:function(u){var p=ss();return u={current:u},p.memoizedState=u},useState:Tk,useDebugValue:Zb,useDeferredValue:function(u){return ss().memoizedState=u},useTransition:function(){var u=Tk(!1),p=u[0];return u=Jq.bind(null,u[1]),ss().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,v){var S=Vt,E=ss();if($t){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),Nn===null)throw Error(n(349));(Ao&30)!==0||_k(S,p,v)}E.memoizedState=v;var N={value:v,getSnapshot:p};return E.queue=N,kk(Ck.bind(null,S,N,u),[u]),S.flags|=2048,fd(9,Ak.bind(null,S,N,v,p),void 0,null),v},useId:function(){var u=ss(),p=Nn.identifierPrefix;if($t){var v=$s,S=Fs;v=(S&~(1<<32-Ri(S)-1)).toString(32)+v,p=":"+p+"R"+v,v=dd++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=Zq++,p=":"+p+"r"+v.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},rG={readContext:ci,useCallback:Rk,useContext:ci,useEffect:Qb,useImperativeHandle:Dk,useInsertionEffect:Nk,useLayoutEffect:Ok,useMemo:Ik,useReducer:Yb,useRef:jk,useState:function(){return Yb(hd)},useDebugValue:Zb,useDeferredValue:function(u){var p=ui();return Lk(p,wn.memoizedState,u)},useTransition:function(){var u=Yb(hd)[0],p=ui().memoizedState;return[u,p]},useMutableSource:wk,useSyncExternalStore:Sk,useId:Fk,unstable_isNewReconciler:!1},iG={readContext:ci,useCallback:Rk,useContext:ci,useEffect:Qb,useImperativeHandle:Dk,useInsertionEffect:Nk,useLayoutEffect:Ok,useMemo:Ik,useReducer:Xb,useRef:jk,useState:function(){return Xb(hd)},useDebugValue:Zb,useDeferredValue:function(u){var p=ui();return wn===null?p.memoizedState=u:Lk(p,wn.memoizedState,u)},useTransition:function(){var u=Xb(hd)[0],p=ui().memoizedState;return[u,p]},useMutableSource:wk,useSyncExternalStore:Sk,useId:Fk,unstable_isNewReconciler:!1};function Fi(u,p){if(u&&u.defaultProps){p=X({},p),u=u.defaultProps;for(var v in u)p[v]===void 0&&(p[v]=u[v]);return p}return p}function Jb(u,p,v,S){p=u.memoizedState,v=v(S,p),v=v==null?p:X({},p,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var $p={isMounted:function(u){return(u=u._reactInternals)?vo(u)===u:!1},enqueueSetState:function(u,p,v){u=u._reactInternals;var S=hr(),E=Ra(u),N=Us(S,E);N.payload=p,v!=null&&(N.callback=v),p=Na(u,N,E),p!==null&&(Ui(p,u,E,S),Np(p,u,E))},enqueueReplaceState:function(u,p,v){u=u._reactInternals;var S=hr(),E=Ra(u),N=Us(S,E);N.tag=1,N.payload=p,v!=null&&(N.callback=v),p=Na(u,N,E),p!==null&&(Ui(p,u,E,S),Np(p,u,E))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var v=hr(),S=Ra(u),E=Us(v,S);E.tag=2,p!=null&&(E.callback=p),p=Na(u,E,S),p!==null&&(Ui(p,u,S,v),Np(p,u,S))}};function zk(u,p,v,S,E,N,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,N,I):p.prototype&&p.prototype.isPureReactComponent?!Ju(v,S)||!Ju(E,N):!0}function Vk(u,p,v){var S=!1,E=Ta,N=p.contextType;return typeof N=="object"&&N!==null?N=ci(N):(E=Cr(p)?bo:rr.current,S=p.contextTypes,N=(S=S!=null)?Ml(u,E):Ta),p=new p(v,N),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=$p,u.stateNode=p,p._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=E,u.__reactInternalMemoizedMaskedChildContext=N),p}function Wk(u,p,v,S){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,S),p.state!==u&&$p.enqueueReplaceState(p,p.state,null)}function ex(u,p,v,S){var E=u.stateNode;E.props=v,E.state=u.memoizedState,E.refs={},Bb(u);var N=p.contextType;typeof N=="object"&&N!==null?E.context=ci(N):(N=Cr(p)?bo:rr.current,E.context=Ml(u,N)),E.state=u.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(Jb(u,p,N,v),E.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(p=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),p!==E.state&&$p.enqueueReplaceState(E,E.state,null),Op(u,v,E,S),E.state=u.memoizedState),typeof E.componentDidMount=="function"&&(u.flags|=4194308)}function Ul(u,p){try{var v="",S=p;do v+=ce(S),S=S.return;while(S);var E=v}catch(N){E=`
Error generating stack: `+N.message+`
`+N.stack}return{value:u,source:p,stack:E,digest:null}}function tx(u,p,v){return{value:u,source:null,stack:v??null,digest:p??null}}function nx(u,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var sG=typeof WeakMap=="function"?WeakMap:Map;function Hk(u,p,v){v=Us(-1,v),v.tag=3,v.payload={element:null};var S=p.value;return v.callback=function(){qp||(qp=!0,vx=S),nx(u,p)},v}function qk(u,p,v){v=Us(-1,v),v.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var E=p.value;v.payload=function(){return S(E)},v.callback=function(){nx(u,p)}}var N=u.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(v.callback=function(){nx(u,p),typeof S!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})}),v}function Gk(u,p,v){var S=u.pingCache;if(S===null){S=u.pingCache=new sG;var E=new Set;S.set(p,E)}else E=S.get(p),E===void 0&&(E=new Set,S.set(p,E));E.has(v)||(E.add(v),u=bG.bind(null,u,p,v),p.then(u,u))}function Kk(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function Yk(u,p,v,S,E){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Us(-1,1),p.tag=2,Na(v,p,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=E,u)}var aG=j.ReactCurrentOwner,Pr=!1;function dr(u,p,v,S){p.child=u===null?mk(p,null,v,S):Ll(p,u.child,v,S)}function Xk(u,p,v,S,E){v=v.render;var N=p.ref;return $l(p,E),S=Gb(u,p,v,S,N,E),v=Kb(),u!==null&&!Pr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~E,zs(u,p,E)):($t&&v&&kb(p),p.flags|=1,dr(u,p,S,E),p.child)}function Qk(u,p,v,S,E){if(u===null){var N=v.type;return typeof N=="function"&&!Ax(N)&&N.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=N,Zk(u,p,N,S,E)):(u=Zp(v.type,null,S,p,p.mode,E),u.ref=p.ref,u.return=p,p.child=u)}if(N=u.child,(u.lanes&E)===0){var I=N.memoizedProps;if(v=v.compare,v=v!==null?v:Ju,v(I,S)&&u.ref===p.ref)return zs(u,p,E)}return p.flags|=1,u=La(N,S),u.ref=p.ref,u.return=p,p.child=u}function Zk(u,p,v,S,E){if(u!==null){var N=u.memoizedProps;if(Ju(N,S)&&u.ref===p.ref)if(Pr=!1,p.pendingProps=S=N,(u.lanes&E)!==0)(u.flags&131072)!==0&&(Pr=!0);else return p.lanes=u.lanes,zs(u,p,E)}return rx(u,p,v,S,E)}function Jk(u,p,v){var S=p.pendingProps,E=S.children,N=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(Vl,Vr),Vr|=v;else{if((v&1073741824)===0)return u=N!==null?N.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,jt(Vl,Vr),Vr|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=N!==null?N.baseLanes:v,jt(Vl,Vr),Vr|=S}else N!==null?(S=N.baseLanes|v,p.memoizedState=null):S=v,jt(Vl,Vr),Vr|=S;return dr(u,p,E,v),p.child}function eN(u,p){var v=p.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function rx(u,p,v,S,E){var N=Cr(v)?bo:rr.current;return N=Ml(p,N),$l(p,E),v=Gb(u,p,v,S,N,E),S=Kb(),u!==null&&!Pr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~E,zs(u,p,E)):($t&&S&&kb(p),p.flags|=1,dr(u,p,v,E),p.child)}function tN(u,p,v,S,E){if(Cr(v)){var N=!0;_p(p)}else N=!1;if($l(p,E),p.stateNode===null)Up(u,p),Vk(p,v,S),ex(p,v,S,E),S=!0;else if(u===null){var I=p.stateNode,G=p.memoizedProps;I.props=G;var Y=I.context,ie=v.contextType;typeof ie=="object"&&ie!==null?ie=ci(ie):(ie=Cr(v)?bo:rr.current,ie=Ml(p,ie));var de=v.getDerivedStateFromProps,fe=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";fe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==S||Y!==ie)&&Wk(p,I,S,ie),ka=!1;var ue=p.memoizedState;I.state=ue,Op(p,S,I,E),Y=p.memoizedState,G!==S||ue!==Y||Ar.current||ka?(typeof de=="function"&&(Jb(p,v,de,S),Y=p.memoizedState),(G=ka||zk(p,v,G,S,ue,Y,ie))?(fe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(p.flags|=4194308)):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=Y),I.props=S,I.state=Y,I.context=ie,S=G):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{I=p.stateNode,vk(u,p),G=p.memoizedProps,ie=p.type===p.elementType?G:Fi(p.type,G),I.props=ie,fe=p.pendingProps,ue=I.context,Y=v.contextType,typeof Y=="object"&&Y!==null?Y=ci(Y):(Y=Cr(v)?bo:rr.current,Y=Ml(p,Y));var be=v.getDerivedStateFromProps;(de=typeof be=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==fe||ue!==Y)&&Wk(p,I,S,Y),ka=!1,ue=p.memoizedState,I.state=ue,Op(p,S,I,E);var Ce=p.memoizedState;G!==fe||ue!==Ce||Ar.current||ka?(typeof be=="function"&&(Jb(p,v,be,S),Ce=p.memoizedState),(ie=ka||zk(p,v,ie,S,ue,Ce,Y)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(S,Ce,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(S,Ce,Y)),typeof I.componentDidUpdate=="function"&&(p.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===u.memoizedProps&&ue===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&ue===u.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=Ce),I.props=S,I.state=Ce,I.context=Y,S=ie):(typeof I.componentDidUpdate!="function"||G===u.memoizedProps&&ue===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===u.memoizedProps&&ue===u.memoizedState||(p.flags|=1024),S=!1)}return ix(u,p,v,S,N,E)}function ix(u,p,v,S,E,N){eN(u,p);var I=(p.flags&128)!==0;if(!S&&!I)return E&&ak(p,v,!1),zs(u,p,N);S=p.stateNode,aG.current=p;var G=I&&typeof v.getDerivedStateFromError!="function"?null:S.render();return p.flags|=1,u!==null&&I?(p.child=Ll(p,u.child,null,N),p.child=Ll(p,null,G,N)):dr(u,p,G,N),p.memoizedState=S.state,E&&ak(p,v,!0),p.child}function nN(u){var p=u.stateNode;p.pendingContext?ik(u,p.pendingContext,p.pendingContext!==p.context):p.context&&ik(u,p.context,!1),Ub(u,p.containerInfo)}function rN(u,p,v,S,E){return Il(),Db(E),p.flags|=256,dr(u,p,v,S),p.child}var sx={dehydrated:null,treeContext:null,retryLane:0};function ax(u){return{baseLanes:u,cachePool:null,transitions:null}}function iN(u,p,v){var S=p.pendingProps,E=zt.current,N=!1,I=(p.flags&128)!==0,G;if((G=I)||(G=u!==null&&u.memoizedState===null?!1:(E&2)!==0),G?(N=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(E|=1),jt(zt,E&1),u===null)return Mb(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(I=S.children,u=S.fallback,N?(S=p.mode,N=p.child,I={mode:"hidden",children:I},(S&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=I):N=Jp(I,S,0,null),u=jo(u,S,v,null),N.return=p,u.return=p,N.sibling=u,p.child=N,p.child.memoizedState=ax(v),p.memoizedState=sx,u):ox(p,I));if(E=u.memoizedState,E!==null&&(G=E.dehydrated,G!==null))return oG(u,p,I,S,G,E,v);if(N){N=S.fallback,I=p.mode,E=u.child,G=E.sibling;var Y={mode:"hidden",children:S.children};return(I&1)===0&&p.child!==E?(S=p.child,S.childLanes=0,S.pendingProps=Y,p.deletions=null):(S=La(E,Y),S.subtreeFlags=E.subtreeFlags&14680064),G!==null?N=La(G,N):(N=jo(N,I,v,null),N.flags|=2),N.return=p,S.return=p,S.sibling=N,p.child=S,S=N,N=p.child,I=u.child.memoizedState,I=I===null?ax(v):{baseLanes:I.baseLanes|v,cachePool:null,transitions:I.transitions},N.memoizedState=I,N.childLanes=u.childLanes&~v,p.memoizedState=sx,S}return N=u.child,u=N.sibling,S=La(N,{mode:"visible",children:S.children}),(p.mode&1)===0&&(S.lanes=v),S.return=p,S.sibling=null,u!==null&&(v=p.deletions,v===null?(p.deletions=[u],p.flags|=16):v.push(u)),p.child=S,p.memoizedState=null,S}function ox(u,p){return p=Jp({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function Bp(u,p,v,S){return S!==null&&Db(S),Ll(p,u.child,null,v),u=ox(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function oG(u,p,v,S,E,N,I){if(v)return p.flags&256?(p.flags&=-257,S=tx(Error(n(422))),Bp(u,p,I,S)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(N=S.fallback,E=p.mode,S=Jp({mode:"visible",children:S.children},E,0,null),N=jo(N,E,I,null),N.flags|=2,S.return=p,N.return=p,S.sibling=N,p.child=S,(p.mode&1)!==0&&Ll(p,u.child,null,I),p.child.memoizedState=ax(I),p.memoizedState=sx,N);if((p.mode&1)===0)return Bp(u,p,I,null);if(E.data==="$!"){if(S=E.nextSibling&&E.nextSibling.dataset,S)var G=S.dgst;return S=G,N=Error(n(419)),S=tx(N,S,void 0),Bp(u,p,I,S)}if(G=(I&u.childLanes)!==0,Pr||G){if(S=Nn,S!==null){switch(I&-I){case 4:E=2;break;case 16:E=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:E=32;break;case 536870912:E=268435456;break;default:E=0}E=(E&(S.suspendedLanes|I))!==0?0:E,E!==0&&E!==N.retryLane&&(N.retryLane=E,Bs(u,E),Ui(S,u,E,-1))}return _x(),S=tx(Error(n(421))),Bp(u,p,I,S)}return E.data==="$?"?(p.flags|=128,p.child=u.child,p=xG.bind(null,u),E._reactRetry=p,null):(u=N.treeContext,zr=Pa(E.nextSibling),Ur=p,$t=!0,Li=null,u!==null&&(oi[li++]=Fs,oi[li++]=$s,oi[li++]=xo,Fs=u.id,$s=u.overflow,xo=p),p=ox(p,S.children),p.flags|=4096,p)}function sN(u,p,v){u.lanes|=p;var S=u.alternate;S!==null&&(S.lanes|=p),Fb(u.return,p,v)}function lx(u,p,v,S,E){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:E}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=v,N.tailMode=E)}function aN(u,p,v){var S=p.pendingProps,E=S.revealOrder,N=S.tail;if(dr(u,p,S.children,v),S=zt.current,(S&2)!==0)S=S&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&sN(u,v,p);else if(u.tag===19)sN(u,v,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(jt(zt,S),(p.mode&1)===0)p.memoizedState=null;else switch(E){case"forwards":for(v=p.child,E=null;v!==null;)u=v.alternate,u!==null&&Mp(u)===null&&(E=v),v=v.sibling;v=E,v===null?(E=p.child,p.child=null):(E=v.sibling,v.sibling=null),lx(p,!1,E,v,N);break;case"backwards":for(v=null,E=p.child,p.child=null;E!==null;){if(u=E.alternate,u!==null&&Mp(u)===null){p.child=E;break}u=E.sibling,E.sibling=v,v=E,E=u}lx(p,!0,v,null,N);break;case"together":lx(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Up(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function zs(u,p,v){if(u!==null&&(p.dependencies=u.dependencies),Co|=p.lanes,(v&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(n(153));if(p.child!==null){for(u=p.child,v=La(u,u.pendingProps),p.child=v,v.return=p;u.sibling!==null;)u=u.sibling,v=v.sibling=La(u,u.pendingProps),v.return=p;v.sibling=null}return p.child}function lG(u,p,v){switch(p.tag){case 3:nN(p),Il();break;case 5:xk(p);break;case 1:Cr(p.type)&&_p(p);break;case 4:Ub(p,p.stateNode.containerInfo);break;case 10:var S=p.type._context,E=p.memoizedProps.value;jt(jp,S._currentValue),S._currentValue=E;break;case 13:if(S=p.memoizedState,S!==null)return S.dehydrated!==null?(jt(zt,zt.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?iN(u,p,v):(jt(zt,zt.current&1),u=zs(u,p,v),u!==null?u.sibling:null);jt(zt,zt.current&1);break;case 19:if(S=(v&p.childLanes)!==0,(u.flags&128)!==0){if(S)return aN(u,p,v);p.flags|=128}if(E=p.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),jt(zt,zt.current),S)break;return null;case 22:case 23:return p.lanes=0,Jk(u,p,v)}return zs(u,p,v)}var oN,cx,lN,cN;oN=function(u,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},cx=function(){},lN=function(u,p,v,S){var E=u.memoizedProps;if(E!==S){u=p.stateNode,_o(is.current);var N=null;switch(v){case"input":E=Re(u,E),S=Re(u,S),N=[];break;case"select":E=X({},E,{value:void 0}),S=X({},S,{value:void 0}),N=[];break;case"textarea":E=Rt(u,E),S=Rt(u,S),N=[];break;default:typeof E.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=xp)}_l(v,S);var I;v=null;for(ie in E)if(!S.hasOwnProperty(ie)&&E.hasOwnProperty(ie)&&E[ie]!=null)if(ie==="style"){var G=E[ie];for(I in G)G.hasOwnProperty(I)&&(v||(v={}),v[I]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(i.hasOwnProperty(ie)?N||(N=[]):(N=N||[]).push(ie,null));for(ie in S){var Y=S[ie];if(G=E?.[ie],S.hasOwnProperty(ie)&&Y!==G&&(Y!=null||G!=null))if(ie==="style")if(G){for(I in G)!G.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(v||(v={}),v[I]="");for(I in Y)Y.hasOwnProperty(I)&&G[I]!==Y[I]&&(v||(v={}),v[I]=Y[I])}else v||(N||(N=[]),N.push(ie,v)),v=Y;else ie==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,G=G?G.__html:void 0,Y!=null&&G!==Y&&(N=N||[]).push(ie,Y)):ie==="children"?typeof Y!="string"&&typeof Y!="number"||(N=N||[]).push(ie,""+Y):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(ie)?(Y!=null&&ie==="onScroll"&&It("scroll",u),N||G===Y||(N=[])):(N=N||[]).push(ie,Y))}v&&(N=N||[]).push("style",v);var ie=N;(p.updateQueue=ie)&&(p.flags|=4)}},cN=function(u,p,v,S){v!==S&&(p.flags|=4)};function pd(u,p){if(!$t)switch(u.tailMode){case"hidden":p=u.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function sr(u){var p=u.alternate!==null&&u.alternate.child===u.child,v=0,S=0;if(p)for(var E=u.child;E!==null;)v|=E.lanes|E.childLanes,S|=E.subtreeFlags&14680064,S|=E.flags&14680064,E.return=u,E=E.sibling;else for(E=u.child;E!==null;)v|=E.lanes|E.childLanes,S|=E.subtreeFlags,S|=E.flags,E.return=u,E=E.sibling;return u.subtreeFlags|=S,u.childLanes=v,p}function cG(u,p,v){var S=p.pendingProps;switch(Nb(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(p),null;case 1:return Cr(p.type)&&Sp(),sr(p),null;case 3:return S=p.stateNode,Bl(),Lt(Ar),Lt(rr),Wb(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Ep(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Li!==null&&(xx(Li),Li=null))),cx(u,p),sr(p),null;case 5:zb(p);var E=_o(cd.current);if(v=p.type,u!==null&&p.stateNode!=null)lN(u,p,v,S,E),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!S){if(p.stateNode===null)throw Error(n(166));return sr(p),null}if(u=_o(is.current),Ep(p)){S=p.stateNode,v=p.type;var N=p.memoizedProps;switch(S[rs]=p,S[id]=N,u=(p.mode&1)!==0,v){case"dialog":It("cancel",S),It("close",S);break;case"iframe":case"object":case"embed":It("load",S);break;case"video":case"audio":for(E=0;E<td.length;E++)It(td[E],S);break;case"source":It("error",S);break;case"img":case"image":case"link":It("error",S),It("load",S);break;case"details":It("toggle",S);break;case"input":wt(S,N),It("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!N.multiple},It("invalid",S);break;case"textarea":Fr(S,N),It("invalid",S)}_l(v,N),E=null;for(var I in N)if(N.hasOwnProperty(I)){var G=N[I];I==="children"?typeof G=="string"?S.textContent!==G&&(N.suppressHydrationWarning!==!0&&bp(S.textContent,G,u),E=["children",G]):typeof G=="number"&&S.textContent!==""+G&&(N.suppressHydrationWarning!==!0&&bp(S.textContent,G,u),E=["children",""+G]):i.hasOwnProperty(I)&&G!=null&&I==="onScroll"&&It("scroll",S)}switch(v){case"input":he(S),_r(S,N,!0);break;case"textarea":he(S),fo(S);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(S.onclick=xp)}S=E,p.updateQueue=S,S!==null&&(p.flags|=4)}else{I=E.nodeType===9?E:E.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=po(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=I.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=I.createElement(v,{is:S.is}):(u=I.createElement(v),v==="select"&&(I=u,S.multiple?I.multiple=!0:S.size&&(I.size=S.size))):u=I.createElementNS(u,v),u[rs]=p,u[id]=S,oN(u,p,!1,!1),p.stateNode=u;e:{switch(I=Lu(v,S),v){case"dialog":It("cancel",u),It("close",u),E=S;break;case"iframe":case"object":case"embed":It("load",u),E=S;break;case"video":case"audio":for(E=0;E<td.length;E++)It(td[E],u);E=S;break;case"source":It("error",u),E=S;break;case"img":case"image":case"link":It("error",u),It("load",u),E=S;break;case"details":It("toggle",u),E=S;break;case"input":wt(u,S),E=Re(u,S),It("invalid",u);break;case"option":E=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},E=X({},S,{value:void 0}),It("invalid",u);break;case"textarea":Fr(u,S),E=Rt(u,S),It("invalid",u);break;default:E=S}_l(v,E),G=E;for(N in G)if(G.hasOwnProperty(N)){var Y=G[N];N==="style"?Jf(u,Y):N==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Sl(u,Y)):N==="children"?typeof Y=="string"?(v!=="textarea"||Y!=="")&&ii(u,Y):typeof Y=="number"&&ii(u,""+Y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Y!=null&&N==="onScroll"&&It("scroll",u):Y!=null&&A(u,N,Y,I))}switch(v){case"input":he(u),_r(u,S,!1);break;case"textarea":he(u),fo(u);break;case"option":S.value!=null&&u.setAttribute("value",""+ee(S.value));break;case"select":u.multiple=!!S.multiple,N=S.value,N!=null?tr(u,!!S.multiple,N,!1):S.defaultValue!=null&&tr(u,!!S.multiple,S.defaultValue,!0);break;default:typeof E.onClick=="function"&&(u.onclick=xp)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return sr(p),null;case 6:if(u&&p.stateNode!=null)cN(u,p,u.memoizedProps,S);else{if(typeof S!="string"&&p.stateNode===null)throw Error(n(166));if(v=_o(cd.current),_o(is.current),Ep(p)){if(S=p.stateNode,v=p.memoizedProps,S[rs]=p,(N=S.nodeValue!==v)&&(u=Ur,u!==null))switch(u.tag){case 3:bp(S.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&bp(S.nodeValue,v,(u.mode&1)!==0)}N&&(p.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[rs]=p,p.stateNode=S}return sr(p),null;case 13:if(Lt(zt),S=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if($t&&zr!==null&&(p.mode&1)!==0&&(p.flags&128)===0)hk(),Il(),p.flags|=98560,N=!1;else if(N=Ep(p),S!==null&&S.dehydrated!==null){if(u===null){if(!N)throw Error(n(318));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[rs]=p}else Il(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;sr(p),N=!1}else Li!==null&&(xx(Li),Li=null),N=!0;if(!N)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(zt.current&1)!==0?Sn===0&&(Sn=3):_x())),p.updateQueue!==null&&(p.flags|=4),sr(p),null);case 4:return Bl(),cx(u,p),u===null&&nd(p.stateNode.containerInfo),sr(p),null;case 10:return Lb(p.type._context),sr(p),null;case 17:return Cr(p.type)&&Sp(),sr(p),null;case 19:if(Lt(zt),N=p.memoizedState,N===null)return sr(p),null;if(S=(p.flags&128)!==0,I=N.rendering,I===null)if(S)pd(N,!1);else{if(Sn!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(I=Mp(u),I!==null){for(p.flags|=128,pd(N,!1),S=I.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),p.subtreeFlags=0,S=v,v=p.child;v!==null;)N=v,u=S,N.flags&=14680066,I=N.alternate,I===null?(N.childLanes=0,N.lanes=u,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=I.childLanes,N.lanes=I.lanes,N.child=I.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=I.memoizedProps,N.memoizedState=I.memoizedState,N.updateQueue=I.updateQueue,N.type=I.type,u=I.dependencies,N.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return jt(zt,zt.current&1|2),p.child}u=u.sibling}N.tail!==null&&en()>Wl&&(p.flags|=128,S=!0,pd(N,!1),p.lanes=4194304)}else{if(!S)if(u=Mp(I),u!==null){if(p.flags|=128,S=!0,v=u.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),pd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!$t)return sr(p),null}else 2*en()-N.renderingStartTime>Wl&&v!==1073741824&&(p.flags|=128,S=!0,pd(N,!1),p.lanes=4194304);N.isBackwards?(I.sibling=p.child,p.child=I):(v=N.last,v!==null?v.sibling=I:p.child=I,N.last=I)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=en(),p.sibling=null,v=zt.current,jt(zt,S?v&1|2:v&1),p):(sr(p),null);case 22:case 23:return Sx(),S=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(p.flags|=8192),S&&(p.mode&1)!==0?(Vr&1073741824)!==0&&(sr(p),p.subtreeFlags&6&&(p.flags|=8192)):sr(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function uG(u,p){switch(Nb(p),p.tag){case 1:return Cr(p.type)&&Sp(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return Bl(),Lt(Ar),Lt(rr),Wb(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return zb(p),null;case 13:if(Lt(zt),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Il()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return Lt(zt),null;case 4:return Bl(),null;case 10:return Lb(p.type._context),null;case 22:case 23:return Sx(),null;case 24:return null;default:return null}}var zp=!1,ar=!1,dG=typeof WeakSet=="function"?WeakSet:Set,xe=null;function zl(u,p){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Yt(u,p,S)}else v.current=null}function ux(u,p,v){try{v()}catch(S){Yt(u,p,S)}}var uN=!1;function hG(u,p){if(Sb=lp,u=zj(),pb(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var E=S.anchorOffset,N=S.focusNode;S=S.focusOffset;try{v.nodeType,N.nodeType}catch{v=null;break e}var I=0,G=-1,Y=-1,ie=0,de=0,fe=u,ue=null;t:for(;;){for(var be;fe!==v||E!==0&&fe.nodeType!==3||(G=I+E),fe!==N||S!==0&&fe.nodeType!==3||(Y=I+S),fe.nodeType===3&&(I+=fe.nodeValue.length),(be=fe.firstChild)!==null;)ue=fe,fe=be;for(;;){if(fe===u)break t;if(ue===v&&++ie===E&&(G=I),ue===N&&++de===S&&(Y=I),(be=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=be}v=G===-1||Y===-1?null:{start:G,end:Y}}else v=null}v=v||{start:0,end:0}}else v=null;for(_b={focusedElem:u,selectionRange:v},lp=!1,xe=p;xe!==null;)if(p=xe,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,xe=u;else for(;xe!==null;){p=xe;try{var Ce=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Te=Ce.memoizedProps,tn=Ce.memoizedState,J=p.stateNode,Q=J.getSnapshotBeforeUpdate(p.elementType===p.type?Te:Fi(p.type,Te),tn);J.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ne=p.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Yt(p,p.return,me)}if(u=p.sibling,u!==null){u.return=p.return,xe=u;break}xe=p.return}return Ce=uN,uN=!1,Ce}function md(u,p,v){var S=p.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var E=S=S.next;do{if((E.tag&u)===u){var N=E.destroy;E.destroy=void 0,N!==void 0&&ux(p,v,N)}E=E.next}while(E!==S)}}function Vp(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&u)===u){var S=v.create;v.destroy=S()}v=v.next}while(v!==p)}}function dx(u){var p=u.ref;if(p!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof p=="function"?p(u):p.current=u}}function dN(u){var p=u.alternate;p!==null&&(u.alternate=null,dN(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[rs],delete p[id],delete p[Eb],delete p[Kq],delete p[Yq])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function hN(u){return u.tag===5||u.tag===3||u.tag===4}function fN(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||hN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function hx(u,p,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(u,p):v.insertBefore(u,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(u,v)):(p=v,p.appendChild(u)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=xp));else if(S!==4&&(u=u.child,u!==null))for(hx(u,p,v),u=u.sibling;u!==null;)hx(u,p,v),u=u.sibling}function fx(u,p,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?v.insertBefore(u,p):v.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(fx(u,p,v),u=u.sibling;u!==null;)fx(u,p,v),u=u.sibling}var Hn=null,$i=!1;function Oa(u,p,v){for(v=v.child;v!==null;)pN(u,p,v),v=v.sibling}function pN(u,p,v){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(np,v)}catch{}switch(v.tag){case 5:ar||zl(v,p);case 6:var S=Hn,E=$i;Hn=null,Oa(u,p,v),Hn=S,$i=E,Hn!==null&&($i?(u=Hn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):Hn.removeChild(v.stateNode));break;case 18:Hn!==null&&($i?(u=Hn,v=v.stateNode,u.nodeType===8?Pb(u.parentNode,v):u.nodeType===1&&Pb(u,v),Gu(u)):Pb(Hn,v.stateNode));break;case 4:S=Hn,E=$i,Hn=v.stateNode.containerInfo,$i=!0,Oa(u,p,v),Hn=S,$i=E;break;case 0:case 11:case 14:case 15:if(!ar&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){E=S=S.next;do{var N=E,I=N.destroy;N=N.tag,I!==void 0&&((N&2)!==0||(N&4)!==0)&&ux(v,p,I),E=E.next}while(E!==S)}Oa(u,p,v);break;case 1:if(!ar&&(zl(v,p),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(G){Yt(v,p,G)}Oa(u,p,v);break;case 21:Oa(u,p,v);break;case 22:v.mode&1?(ar=(S=ar)||v.memoizedState!==null,Oa(u,p,v),ar=S):Oa(u,p,v);break;default:Oa(u,p,v)}}function mN(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new dG),p.forEach(function(S){var E=wG.bind(null,u,S);v.has(S)||(v.add(S),S.then(E,E))})}}function Bi(u,p){var v=p.deletions;if(v!==null)for(var S=0;S<v.length;S++){var E=v[S];try{var N=u,I=p,G=I;e:for(;G!==null;){switch(G.tag){case 5:Hn=G.stateNode,$i=!1;break e;case 3:Hn=G.stateNode.containerInfo,$i=!0;break e;case 4:Hn=G.stateNode.containerInfo,$i=!0;break e}G=G.return}if(Hn===null)throw Error(n(160));pN(N,I,E),Hn=null,$i=!1;var Y=E.alternate;Y!==null&&(Y.return=null),E.return=null}catch(ie){Yt(E,p,ie)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)gN(p,u),p=p.sibling}function gN(u,p){var v=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Bi(p,u),as(u),S&4){try{md(3,u,u.return),Vp(3,u)}catch(Te){Yt(u,u.return,Te)}try{md(5,u,u.return)}catch(Te){Yt(u,u.return,Te)}}break;case 1:Bi(p,u),as(u),S&512&&v!==null&&zl(v,v.return);break;case 5:if(Bi(p,u),as(u),S&512&&v!==null&&zl(v,v.return),u.flags&32){var E=u.stateNode;try{ii(E,"")}catch(Te){Yt(u,u.return,Te)}}if(S&4&&(E=u.stateNode,E!=null)){var N=u.memoizedProps,I=v!==null?v.memoizedProps:N,G=u.type,Y=u.updateQueue;if(u.updateQueue=null,Y!==null)try{G==="input"&&N.type==="radio"&&N.name!=null&&vt(E,N),Lu(G,I);var ie=Lu(G,N);for(I=0;I<Y.length;I+=2){var de=Y[I],fe=Y[I+1];de==="style"?Jf(E,fe):de==="dangerouslySetInnerHTML"?Sl(E,fe):de==="children"?ii(E,fe):A(E,de,fe,ie)}switch(G){case"input":St(E,N);break;case"textarea":ho(E,N);break;case"select":var ue=E._wrapperState.wasMultiple;E._wrapperState.wasMultiple=!!N.multiple;var be=N.value;be!=null?tr(E,!!N.multiple,be,!1):ue!==!!N.multiple&&(N.defaultValue!=null?tr(E,!!N.multiple,N.defaultValue,!0):tr(E,!!N.multiple,N.multiple?[]:"",!1))}E[id]=N}catch(Te){Yt(u,u.return,Te)}}break;case 6:if(Bi(p,u),as(u),S&4){if(u.stateNode===null)throw Error(n(162));E=u.stateNode,N=u.memoizedProps;try{E.nodeValue=N}catch(Te){Yt(u,u.return,Te)}}break;case 3:if(Bi(p,u),as(u),S&4&&v!==null&&v.memoizedState.isDehydrated)try{Gu(p.containerInfo)}catch(Te){Yt(u,u.return,Te)}break;case 4:Bi(p,u),as(u);break;case 13:Bi(p,u),as(u),E=u.child,E.flags&8192&&(N=E.memoizedState!==null,E.stateNode.isHidden=N,!N||E.alternate!==null&&E.alternate.memoizedState!==null||(gx=en())),S&4&&mN(u);break;case 22:if(de=v!==null&&v.memoizedState!==null,u.mode&1?(ar=(ie=ar)||de,Bi(p,u),ar=ie):Bi(p,u),as(u),S&8192){if(ie=u.memoizedState!==null,(u.stateNode.isHidden=ie)&&!de&&(u.mode&1)!==0)for(xe=u,de=u.child;de!==null;){for(fe=xe=de;xe!==null;){switch(ue=xe,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:md(4,ue,ue.return);break;case 1:zl(ue,ue.return);var Ce=ue.stateNode;if(typeof Ce.componentWillUnmount=="function"){S=ue,v=ue.return;try{p=S,Ce.props=p.memoizedProps,Ce.state=p.memoizedState,Ce.componentWillUnmount()}catch(Te){Yt(S,v,Te)}}break;case 5:zl(ue,ue.return);break;case 22:if(ue.memoizedState!==null){bN(fe);continue}}be!==null?(be.return=ue,xe=be):bN(fe)}de=de.sibling}e:for(de=null,fe=u;;){if(fe.tag===5){if(de===null){de=fe;try{E=fe.stateNode,ie?(N=E.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(G=fe.stateNode,Y=fe.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,G.style.display=Zf("display",I))}catch(Te){Yt(u,u.return,Te)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=ie?"":fe.memoizedProps}catch(Te){Yt(u,u.return,Te)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===u)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===u)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===u)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Bi(p,u),as(u),S&4&&mN(u);break;case 21:break;default:Bi(p,u),as(u)}}function as(u){var p=u.flags;if(p&2){try{e:{for(var v=u.return;v!==null;){if(hN(v)){var S=v;break e}v=v.return}throw Error(n(160))}switch(S.tag){case 5:var E=S.stateNode;S.flags&32&&(ii(E,""),S.flags&=-33);var N=fN(u);fx(u,N,E);break;case 3:case 4:var I=S.stateNode.containerInfo,G=fN(u);hx(u,G,I);break;default:throw Error(n(161))}}catch(Y){Yt(u,u.return,Y)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function fG(u,p,v){xe=u,vN(u)}function vN(u,p,v){for(var S=(u.mode&1)!==0;xe!==null;){var E=xe,N=E.child;if(E.tag===22&&S){var I=E.memoizedState!==null||zp;if(!I){var G=E.alternate,Y=G!==null&&G.memoizedState!==null||ar;G=zp;var ie=ar;if(zp=I,(ar=Y)&&!ie)for(xe=E;xe!==null;)I=xe,Y=I.child,I.tag===22&&I.memoizedState!==null?xN(E):Y!==null?(Y.return=I,xe=Y):xN(E);for(;N!==null;)xe=N,vN(N),N=N.sibling;xe=E,zp=G,ar=ie}yN(u)}else(E.subtreeFlags&8772)!==0&&N!==null?(N.return=E,xe=N):yN(u)}}function yN(u){for(;xe!==null;){var p=xe;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:ar||Vp(5,p);break;case 1:var S=p.stateNode;if(p.flags&4&&!ar)if(v===null)S.componentDidMount();else{var E=p.elementType===p.type?v.memoizedProps:Fi(p.type,v.memoizedProps);S.componentDidUpdate(E,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&bk(p,N,S);break;case 3:var I=p.updateQueue;if(I!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}bk(p,I,v)}break;case 5:var G=p.stateNode;if(v===null&&p.flags&4){v=G;var Y=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&v.focus();break;case"img":Y.src&&(v.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ie=p.alternate;if(ie!==null){var de=ie.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Gu(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}ar||p.flags&512&&dx(p)}catch(ue){Yt(p,p.return,ue)}}if(p===u){xe=null;break}if(v=p.sibling,v!==null){v.return=p.return,xe=v;break}xe=p.return}}function bN(u){for(;xe!==null;){var p=xe;if(p===u){xe=null;break}var v=p.sibling;if(v!==null){v.return=p.return,xe=v;break}xe=p.return}}function xN(u){for(;xe!==null;){var p=xe;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Vp(4,p)}catch(Y){Yt(p,v,Y)}break;case 1:var S=p.stateNode;if(typeof S.componentDidMount=="function"){var E=p.return;try{S.componentDidMount()}catch(Y){Yt(p,E,Y)}}var N=p.return;try{dx(p)}catch(Y){Yt(p,N,Y)}break;case 5:var I=p.return;try{dx(p)}catch(Y){Yt(p,I,Y)}}}catch(Y){Yt(p,p.return,Y)}if(p===u){xe=null;break}var G=p.sibling;if(G!==null){G.return=p.return,xe=G;break}xe=p.return}}var pG=Math.ceil,Wp=j.ReactCurrentDispatcher,px=j.ReactCurrentOwner,di=j.ReactCurrentBatchConfig,lt=0,Nn=null,dn=null,qn=0,Vr=0,Vl=Ea(0),Sn=0,gd=null,Co=0,Hp=0,mx=0,vd=null,Er=null,gx=0,Wl=1/0,Vs=null,qp=!1,vx=null,Ma=null,Gp=!1,Da=null,Kp=0,yd=0,yx=null,Yp=-1,Xp=0;function hr(){return(lt&6)!==0?en():Yp!==-1?Yp:Yp=en()}function Ra(u){return(u.mode&1)===0?1:(lt&2)!==0&&qn!==0?qn&-qn:Qq.transition!==null?(Xp===0&&(Xp=fj()),Xp):(u=yt,u!==0||(u=window.event,u=u===void 0?16:Sj(u.type)),u)}function Ui(u,p,v,S){if(50<yd)throw yd=0,yx=null,Error(n(185));zu(u,v,S),((lt&2)===0||u!==Nn)&&(u===Nn&&((lt&2)===0&&(Hp|=v),Sn===4&&Ia(u,qn)),Tr(u,S),v===1&&lt===0&&(p.mode&1)===0&&(Wl=en()+500,Ap&&ja()))}function Tr(u,p){var v=u.callbackNode;QH(u,p);var S=sp(u,u===Nn?qn:0);if(S===0)v!==null&&uj(v),u.callbackNode=null,u.callbackPriority=0;else if(p=S&-S,u.callbackPriority!==p){if(v!=null&&uj(v),p===1)u.tag===0?Xq(SN.bind(null,u)):ok(SN.bind(null,u)),qq(function(){(lt&6)===0&&ja()}),v=null;else{switch(pj(S)){case 1:v=Qy;break;case 4:v=dj;break;case 16:v=tp;break;case 536870912:v=hj;break;default:v=tp}v=kN(v,wN.bind(null,u))}u.callbackPriority=p,u.callbackNode=v}}function wN(u,p){if(Yp=-1,Xp=0,(lt&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Hl()&&u.callbackNode!==v)return null;var S=sp(u,u===Nn?qn:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||p)p=Qp(u,S);else{p=S;var E=lt;lt|=2;var N=AN();(Nn!==u||qn!==p)&&(Vs=null,Wl=en()+500,Eo(u,p));do try{vG();break}catch(G){_N(u,G)}while(!0);Ib(),Wp.current=N,lt=E,dn!==null?p=0:(Nn=null,qn=0,p=Sn)}if(p!==0){if(p===2&&(E=Zy(u),E!==0&&(S=E,p=bx(u,E))),p===1)throw v=gd,Eo(u,0),Ia(u,S),Tr(u,en()),v;if(p===6)Ia(u,S);else{if(E=u.current.alternate,(S&30)===0&&!mG(E)&&(p=Qp(u,S),p===2&&(N=Zy(u),N!==0&&(S=N,p=bx(u,N))),p===1))throw v=gd,Eo(u,0),Ia(u,S),Tr(u,en()),v;switch(u.finishedWork=E,u.finishedLanes=S,p){case 0:case 1:throw Error(n(345));case 2:To(u,Er,Vs);break;case 3:if(Ia(u,S),(S&130023424)===S&&(p=gx+500-en(),10<p)){if(sp(u,0)!==0)break;if(E=u.suspendedLanes,(E&S)!==S){hr(),u.pingedLanes|=u.suspendedLanes&E;break}u.timeoutHandle=Cb(To.bind(null,u,Er,Vs),p);break}To(u,Er,Vs);break;case 4:if(Ia(u,S),(S&4194240)===S)break;for(p=u.eventTimes,E=-1;0<S;){var I=31-Ri(S);N=1<<I,I=p[I],I>E&&(E=I),S&=~N}if(S=E,S=en()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*pG(S/1960))-S,10<S){u.timeoutHandle=Cb(To.bind(null,u,Er,Vs),S);break}To(u,Er,Vs);break;case 5:To(u,Er,Vs);break;default:throw Error(n(329))}}}return Tr(u,en()),u.callbackNode===v?wN.bind(null,u):null}function bx(u,p){var v=vd;return u.current.memoizedState.isDehydrated&&(Eo(u,p).flags|=256),u=Qp(u,p),u!==2&&(p=Er,Er=v,p!==null&&xx(p)),u}function xx(u){Er===null?Er=u:Er.push.apply(Er,u)}function mG(u){for(var p=u;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var E=v[S],N=E.getSnapshot;E=E.value;try{if(!Ii(N(),E))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ia(u,p){for(p&=~mx,p&=~Hp,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var v=31-Ri(p),S=1<<v;u[v]=-1,p&=~S}}function SN(u){if((lt&6)!==0)throw Error(n(327));Hl();var p=sp(u,0);if((p&1)===0)return Tr(u,en()),null;var v=Qp(u,p);if(u.tag!==0&&v===2){var S=Zy(u);S!==0&&(p=S,v=bx(u,S))}if(v===1)throw v=gd,Eo(u,0),Ia(u,p),Tr(u,en()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,To(u,Er,Vs),Tr(u,en()),null}function wx(u,p){var v=lt;lt|=1;try{return u(p)}finally{lt=v,lt===0&&(Wl=en()+500,Ap&&ja())}}function Po(u){Da!==null&&Da.tag===0&&(lt&6)===0&&Hl();var p=lt;lt|=1;var v=di.transition,S=yt;try{if(di.transition=null,yt=1,u)return u()}finally{yt=S,di.transition=v,lt=p,(lt&6)===0&&ja()}}function Sx(){Vr=Vl.current,Lt(Vl)}function Eo(u,p){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,Hq(v)),dn!==null)for(v=dn.return;v!==null;){var S=v;switch(Nb(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Sp();break;case 3:Bl(),Lt(Ar),Lt(rr),Wb();break;case 5:zb(S);break;case 4:Bl();break;case 13:Lt(zt);break;case 19:Lt(zt);break;case 10:Lb(S.type._context);break;case 22:case 23:Sx()}v=v.return}if(Nn=u,dn=u=La(u.current,null),qn=Vr=p,Sn=0,gd=null,mx=Hp=Co=0,Er=vd=null,So!==null){for(p=0;p<So.length;p++)if(v=So[p],S=v.interleaved,S!==null){v.interleaved=null;var E=S.next,N=v.pending;if(N!==null){var I=N.next;N.next=E,S.next=I}v.pending=S}So=null}return u}function _N(u,p){do{var v=dn;try{if(Ib(),Dp.current=Fp,Rp){for(var S=Vt.memoizedState;S!==null;){var E=S.queue;E!==null&&(E.pending=null),S=S.next}Rp=!1}if(Ao=0,kn=wn=Vt=null,ud=!1,dd=0,px.current=null,v===null||v.return===null){Sn=1,gd=p,dn=null;break}e:{var N=u,I=v.return,G=v,Y=p;if(p=qn,G.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ie=Y,de=G,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=Kk(I);if(be!==null){be.flags&=-257,Yk(be,I,G,N,p),be.mode&1&&Gk(N,ie,p),p=be,Y=ie;var Ce=p.updateQueue;if(Ce===null){var Te=new Set;Te.add(Y),p.updateQueue=Te}else Ce.add(Y);break e}else{if((p&1)===0){Gk(N,ie,p),_x();break e}Y=Error(n(426))}}else if($t&&G.mode&1){var tn=Kk(I);if(tn!==null){(tn.flags&65536)===0&&(tn.flags|=256),Yk(tn,I,G,N,p),Db(Ul(Y,G));break e}}N=Y=Ul(Y,G),Sn!==4&&(Sn=2),vd===null?vd=[N]:vd.push(N),N=I;do{switch(N.tag){case 3:N.flags|=65536,p&=-p,N.lanes|=p;var J=Hk(N,Y,p);yk(N,J);break e;case 1:G=Y;var Q=N.type,ne=N.stateNode;if((N.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(Ma===null||!Ma.has(ne)))){N.flags|=65536,p&=-p,N.lanes|=p;var me=qk(N,G,p);yk(N,me);break e}}N=N.return}while(N!==null)}PN(v)}catch(je){p=je,dn===v&&v!==null&&(dn=v=v.return);continue}break}while(!0)}function AN(){var u=Wp.current;return Wp.current=Fp,u===null?Fp:u}function _x(){(Sn===0||Sn===3||Sn===2)&&(Sn=4),Nn===null||(Co&268435455)===0&&(Hp&268435455)===0||Ia(Nn,qn)}function Qp(u,p){var v=lt;lt|=2;var S=AN();(Nn!==u||qn!==p)&&(Vs=null,Eo(u,p));do try{gG();break}catch(E){_N(u,E)}while(!0);if(Ib(),lt=v,Wp.current=S,dn!==null)throw Error(n(261));return Nn=null,qn=0,Sn}function gG(){for(;dn!==null;)CN(dn)}function vG(){for(;dn!==null&&!zH();)CN(dn)}function CN(u){var p=jN(u.alternate,u,Vr);u.memoizedProps=u.pendingProps,p===null?PN(u):dn=p,px.current=null}function PN(u){var p=u;do{var v=p.alternate;if(u=p.return,(p.flags&32768)===0){if(v=cG(v,p,Vr),v!==null){dn=v;return}}else{if(v=uG(v,p),v!==null){v.flags&=32767,dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Sn=6,dn=null;return}}if(p=p.sibling,p!==null){dn=p;return}dn=p=u}while(p!==null);Sn===0&&(Sn=5)}function To(u,p,v){var S=yt,E=di.transition;try{di.transition=null,yt=1,yG(u,p,v,S)}finally{di.transition=E,yt=S}return null}function yG(u,p,v,S){do Hl();while(Da!==null);if((lt&6)!==0)throw Error(n(327));v=u.finishedWork;var E=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var N=v.lanes|v.childLanes;if(ZH(u,N),u===Nn&&(dn=Nn=null,qn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Gp||(Gp=!0,kN(tp,function(){return Hl(),null})),N=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||N){N=di.transition,di.transition=null;var I=yt;yt=1;var G=lt;lt|=4,px.current=null,hG(u,v),gN(v,u),Fq(_b),lp=!!Sb,_b=Sb=null,u.current=v,fG(v),VH(),lt=G,yt=I,di.transition=N}else u.current=v;if(Gp&&(Gp=!1,Da=u,Kp=E),N=u.pendingLanes,N===0&&(Ma=null),qH(v.stateNode),Tr(u,en()),p!==null)for(S=u.onRecoverableError,v=0;v<p.length;v++)E=p[v],S(E.value,{componentStack:E.stack,digest:E.digest});if(qp)throw qp=!1,u=vx,vx=null,u;return(Kp&1)!==0&&u.tag!==0&&Hl(),N=u.pendingLanes,(N&1)!==0?u===yx?yd++:(yd=0,yx=u):yd=0,ja(),null}function Hl(){if(Da!==null){var u=pj(Kp),p=di.transition,v=yt;try{if(di.transition=null,yt=16>u?16:u,Da===null)var S=!1;else{if(u=Da,Da=null,Kp=0,(lt&6)!==0)throw Error(n(331));var E=lt;for(lt|=4,xe=u.current;xe!==null;){var N=xe,I=N.child;if((xe.flags&16)!==0){var G=N.deletions;if(G!==null){for(var Y=0;Y<G.length;Y++){var ie=G[Y];for(xe=ie;xe!==null;){var de=xe;switch(de.tag){case 0:case 11:case 15:md(8,de,N)}var fe=de.child;if(fe!==null)fe.return=de,xe=fe;else for(;xe!==null;){de=xe;var ue=de.sibling,be=de.return;if(dN(de),de===ie){xe=null;break}if(ue!==null){ue.return=be,xe=ue;break}xe=be}}}var Ce=N.alternate;if(Ce!==null){var Te=Ce.child;if(Te!==null){Ce.child=null;do{var tn=Te.sibling;Te.sibling=null,Te=tn}while(Te!==null)}}xe=N}}if((N.subtreeFlags&2064)!==0&&I!==null)I.return=N,xe=I;else e:for(;xe!==null;){if(N=xe,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:md(9,N,N.return)}var J=N.sibling;if(J!==null){J.return=N.return,xe=J;break e}xe=N.return}}var Q=u.current;for(xe=Q;xe!==null;){I=xe;var ne=I.child;if((I.subtreeFlags&2064)!==0&&ne!==null)ne.return=I,xe=ne;else e:for(I=Q;xe!==null;){if(G=xe,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Vp(9,G)}}catch(je){Yt(G,G.return,je)}if(G===I){xe=null;break e}var me=G.sibling;if(me!==null){me.return=G.return,xe=me;break e}xe=G.return}}if(lt=E,ja(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(np,u)}catch{}S=!0}return S}finally{yt=v,di.transition=p}}return!1}function EN(u,p,v){p=Ul(v,p),p=Hk(u,p,1),u=Na(u,p,1),p=hr(),u!==null&&(zu(u,1,p),Tr(u,p))}function Yt(u,p,v){if(u.tag===3)EN(u,u,v);else for(;p!==null;){if(p.tag===3){EN(p,u,v);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Ma===null||!Ma.has(S))){u=Ul(v,u),u=qk(p,u,1),p=Na(p,u,1),u=hr(),p!==null&&(zu(p,1,u),Tr(p,u));break}}p=p.return}}function bG(u,p,v){var S=u.pingCache;S!==null&&S.delete(p),p=hr(),u.pingedLanes|=u.suspendedLanes&v,Nn===u&&(qn&v)===v&&(Sn===4||Sn===3&&(qn&130023424)===qn&&500>en()-gx?Eo(u,0):mx|=v),Tr(u,p)}function TN(u,p){p===0&&((u.mode&1)===0?p=1:(p=ip,ip<<=1,(ip&130023424)===0&&(ip=4194304)));var v=hr();u=Bs(u,p),u!==null&&(zu(u,p,v),Tr(u,v))}function xG(u){var p=u.memoizedState,v=0;p!==null&&(v=p.retryLane),TN(u,v)}function wG(u,p){var v=0;switch(u.tag){case 13:var S=u.stateNode,E=u.memoizedState;E!==null&&(v=E.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(p),TN(u,v)}var jN;jN=function(u,p,v){if(u!==null)if(u.memoizedProps!==p.pendingProps||Ar.current)Pr=!0;else{if((u.lanes&v)===0&&(p.flags&128)===0)return Pr=!1,lG(u,p,v);Pr=(u.flags&131072)!==0}else Pr=!1,$t&&(p.flags&1048576)!==0&&lk(p,Pp,p.index);switch(p.lanes=0,p.tag){case 2:var S=p.type;Up(u,p),u=p.pendingProps;var E=Ml(p,rr.current);$l(p,v),E=Gb(null,p,S,u,E,v);var N=Kb();return p.flags|=1,typeof E=="object"&&E!==null&&typeof E.render=="function"&&E.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Cr(S)?(N=!0,_p(p)):N=!1,p.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,Bb(p),E.updater=$p,p.stateNode=E,E._reactInternals=p,ex(p,S,u,v),p=ix(null,p,S,!0,N,v)):(p.tag=0,$t&&N&&kb(p),dr(null,p,E,v),p=p.child),p;case 16:S=p.elementType;e:{switch(Up(u,p),u=p.pendingProps,E=S._init,S=E(S._payload),p.type=S,E=p.tag=_G(S),u=Fi(S,u),E){case 0:p=rx(null,p,S,u,v);break e;case 1:p=tN(null,p,S,u,v);break e;case 11:p=Xk(null,p,S,u,v);break e;case 14:p=Qk(null,p,S,Fi(S.type,u),v);break e}throw Error(n(306,S,""))}return p;case 0:return S=p.type,E=p.pendingProps,E=p.elementType===S?E:Fi(S,E),rx(u,p,S,E,v);case 1:return S=p.type,E=p.pendingProps,E=p.elementType===S?E:Fi(S,E),tN(u,p,S,E,v);case 3:e:{if(nN(p),u===null)throw Error(n(387));S=p.pendingProps,N=p.memoizedState,E=N.element,vk(u,p),Op(p,S,null,v);var I=p.memoizedState;if(S=I.element,N.isDehydrated)if(N={element:S,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){E=Ul(Error(n(423)),p),p=rN(u,p,S,v,E);break e}else if(S!==E){E=Ul(Error(n(424)),p),p=rN(u,p,S,v,E);break e}else for(zr=Pa(p.stateNode.containerInfo.firstChild),Ur=p,$t=!0,Li=null,v=mk(p,null,S,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Il(),S===E){p=zs(u,p,v);break e}dr(u,p,S,v)}p=p.child}return p;case 5:return xk(p),u===null&&Mb(p),S=p.type,E=p.pendingProps,N=u!==null?u.memoizedProps:null,I=E.children,Ab(S,E)?I=null:N!==null&&Ab(S,N)&&(p.flags|=32),eN(u,p),dr(u,p,I,v),p.child;case 6:return u===null&&Mb(p),null;case 13:return iN(u,p,v);case 4:return Ub(p,p.stateNode.containerInfo),S=p.pendingProps,u===null?p.child=Ll(p,null,S,v):dr(u,p,S,v),p.child;case 11:return S=p.type,E=p.pendingProps,E=p.elementType===S?E:Fi(S,E),Xk(u,p,S,E,v);case 7:return dr(u,p,p.pendingProps,v),p.child;case 8:return dr(u,p,p.pendingProps.children,v),p.child;case 12:return dr(u,p,p.pendingProps.children,v),p.child;case 10:e:{if(S=p.type._context,E=p.pendingProps,N=p.memoizedProps,I=E.value,jt(jp,S._currentValue),S._currentValue=I,N!==null)if(Ii(N.value,I)){if(N.children===E.children&&!Ar.current){p=zs(u,p,v);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var G=N.dependencies;if(G!==null){I=N.child;for(var Y=G.firstContext;Y!==null;){if(Y.context===S){if(N.tag===1){Y=Us(-1,v&-v),Y.tag=2;var ie=N.updateQueue;if(ie!==null){ie=ie.shared;var de=ie.pending;de===null?Y.next=Y:(Y.next=de.next,de.next=Y),ie.pending=Y}}N.lanes|=v,Y=N.alternate,Y!==null&&(Y.lanes|=v),Fb(N.return,v,p),G.lanes|=v;break}Y=Y.next}}else if(N.tag===10)I=N.type===p.type?null:N.child;else if(N.tag===18){if(I=N.return,I===null)throw Error(n(341));I.lanes|=v,G=I.alternate,G!==null&&(G.lanes|=v),Fb(I,v,p),I=N.sibling}else I=N.child;if(I!==null)I.return=N;else for(I=N;I!==null;){if(I===p){I=null;break}if(N=I.sibling,N!==null){N.return=I.return,I=N;break}I=I.return}N=I}dr(u,p,E.children,v),p=p.child}return p;case 9:return E=p.type,S=p.pendingProps.children,$l(p,v),E=ci(E),S=S(E),p.flags|=1,dr(u,p,S,v),p.child;case 14:return S=p.type,E=Fi(S,p.pendingProps),E=Fi(S.type,E),Qk(u,p,S,E,v);case 15:return Zk(u,p,p.type,p.pendingProps,v);case 17:return S=p.type,E=p.pendingProps,E=p.elementType===S?E:Fi(S,E),Up(u,p),p.tag=1,Cr(S)?(u=!0,_p(p)):u=!1,$l(p,v),Vk(p,S,E),ex(p,S,E,v),ix(null,p,S,!0,u,v);case 19:return aN(u,p,v);case 22:return Jk(u,p,v)}throw Error(n(156,p.tag))};function kN(u,p){return cj(u,p)}function SG(u,p,v,S){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(u,p,v,S){return new SG(u,p,v,S)}function Ax(u){return u=u.prototype,!(!u||!u.isReactComponent)}function _G(u){if(typeof u=="function")return Ax(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===q)return 14}return 2}function La(u,p){var v=u.alternate;return v===null?(v=hi(u.tag,p,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=p,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,p=u.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function Zp(u,p,v,S,E,N){var I=2;if(S=u,typeof u=="function")Ax(u)&&(I=1);else if(typeof u=="string")I=5;else e:switch(u){case k:return jo(v.children,E,N,p);case O:I=8,E|=8;break;case R:return u=hi(12,v,p,E|2),u.elementType=R,u.lanes=N,u;case $:return u=hi(13,v,p,E),u.elementType=$,u.lanes=N,u;case H:return u=hi(19,v,p,E),u.elementType=H,u.lanes=N,u;case B:return Jp(v,E,N,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case F:I=10;break e;case M:I=9;break e;case D:I=11;break e;case q:I=14;break e;case V:I=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return p=hi(I,v,p,E),p.elementType=u,p.type=S,p.lanes=N,p}function jo(u,p,v,S){return u=hi(7,u,S,p),u.lanes=v,u}function Jp(u,p,v,S){return u=hi(22,u,S,p),u.elementType=B,u.lanes=v,u.stateNode={isHidden:!1},u}function Cx(u,p,v){return u=hi(6,u,null,p),u.lanes=v,u}function Px(u,p,v){return p=hi(4,u.children!==null?u.children:[],u.key,p),p.lanes=v,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function AG(u,p,v,S,E){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jy(0),this.expirationTimes=Jy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jy(0),this.identifierPrefix=S,this.onRecoverableError=E,this.mutableSourceEagerHydrationData=null}function Ex(u,p,v,S,E,N,I,G,Y){return u=new AG(u,p,v,G,Y),p===1?(p=1,N===!0&&(p|=8)):p=0,N=hi(3,null,null,p),u.current=N,N.stateNode=u,N.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bb(N),u}function CG(u,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:S==null?null:""+S,children:u,containerInfo:p,implementation:v}}function NN(u){if(!u)return Ta;u=u._reactInternals;e:{if(vo(u)!==u||u.tag!==1)throw Error(n(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Cr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(Cr(v))return sk(u,v,p)}return p}function ON(u,p,v,S,E,N,I,G,Y){return u=Ex(v,S,!0,u,E,N,I,G,Y),u.context=NN(null),v=u.current,S=hr(),E=Ra(v),N=Us(S,E),N.callback=p??null,Na(v,N,E),u.current.lanes=E,zu(u,E,S),Tr(u,S),u}function em(u,p,v,S){var E=p.current,N=hr(),I=Ra(E);return v=NN(v),p.context===null?p.context=v:p.pendingContext=v,p=Us(N,I),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=Na(E,p,I),u!==null&&(Ui(u,E,I,N),Np(u,E,I)),I}function tm(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function MN(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<p?v:p}}function Tx(u,p){MN(u,p),(u=u.alternate)&&MN(u,p)}function PG(){return null}var DN=typeof reportError=="function"?reportError:function(u){console.error(u)};function jx(u){this._internalRoot=u}nm.prototype.render=jx.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(n(409));em(u,p,null,null)},nm.prototype.unmount=jx.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;Po(function(){em(null,u,null,null)}),p[Is]=null}};function nm(u){this._internalRoot=u}nm.prototype.unstable_scheduleHydration=function(u){if(u){var p=vj();u={blockedOn:null,target:u,priority:p};for(var v=0;v<_a.length&&p!==0&&p<_a[v].priority;v++);_a.splice(v,0,u),v===0&&xj(u)}};function kx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function rm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function RN(){}function EG(u,p,v,S,E){if(E){if(typeof S=="function"){var N=S;S=function(){var ie=tm(I);N.call(ie)}}var I=ON(p,S,u,0,null,!1,!1,"",RN);return u._reactRootContainer=I,u[Is]=I.current,nd(u.nodeType===8?u.parentNode:u),Po(),I}for(;E=u.lastChild;)u.removeChild(E);if(typeof S=="function"){var G=S;S=function(){var ie=tm(Y);G.call(ie)}}var Y=Ex(u,0,!1,null,null,!1,!1,"",RN);return u._reactRootContainer=Y,u[Is]=Y.current,nd(u.nodeType===8?u.parentNode:u),Po(function(){em(p,Y,v,S)}),Y}function im(u,p,v,S,E){var N=v._reactRootContainer;if(N){var I=N;if(typeof E=="function"){var G=E;E=function(){var Y=tm(I);G.call(Y)}}em(p,I,u,E)}else I=EG(v,p,u,E,S);return tm(I)}mj=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var v=Uu(p.pendingLanes);v!==0&&(eb(p,v|1),Tr(p,en()),(lt&6)===0&&(Wl=en()+500,ja()))}break;case 13:Po(function(){var S=Bs(u,1);if(S!==null){var E=hr();Ui(S,u,1,E)}}),Tx(u,1)}},tb=function(u){if(u.tag===13){var p=Bs(u,134217728);if(p!==null){var v=hr();Ui(p,u,134217728,v)}Tx(u,134217728)}},gj=function(u){if(u.tag===13){var p=Ra(u),v=Bs(u,p);if(v!==null){var S=hr();Ui(v,u,p,S)}Tx(u,p)}},vj=function(){return yt},yj=function(u,p){var v=yt;try{return yt=u,p()}finally{yt=v}},Fu=function(u,p,v){switch(p){case"input":if(St(u,v),p=v.name,v.type==="radio"&&p!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var S=v[p];if(S!==u&&S.form===u.form){var E=wp(S);if(!E)throw Error(n(90));se(S),St(S,E)}}}break;case"textarea":ho(u,v);break;case"select":p=v.value,p!=null&&tr(u,!!v.multiple,p,!1)}},xn=wx,nr=Po;var TG={usingClientEntryPoint:!1,Events:[sd,Nl,wp,Ge,Jt,wx]},bd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jG={bundleType:bd.bundleType,version:bd.version,rendererPackageName:bd.rendererPackageName,rendererConfig:bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=oj(u),u===null?null:u.stateNode},findFiberByHostInstance:bd.findFiberByHostInstance||PG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sm.isDisabled&&sm.supportsFiber)try{np=sm.inject(jG),ns=sm}catch{}}return jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TG,jr.createPortal=function(u,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kx(p))throw Error(n(200));return CG(u,p,null,v)},jr.createRoot=function(u,p){if(!kx(u))throw Error(n(299));var v=!1,S="",E=DN;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onRecoverableError!==void 0&&(E=p.onRecoverableError)),p=Ex(u,1,!1,null,null,v,!1,S,E),u[Is]=p.current,nd(u.nodeType===8?u.parentNode:u),new jx(p)},jr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=oj(p),u=u===null?null:u.stateNode,u},jr.flushSync=function(u){return Po(u)},jr.hydrate=function(u,p,v){if(!rm(p))throw Error(n(200));return im(null,u,p,!0,v)},jr.hydrateRoot=function(u,p,v){if(!kx(u))throw Error(n(405));var S=v!=null&&v.hydratedSources||null,E=!1,N="",I=DN;if(v!=null&&(v.unstable_strictMode===!0&&(E=!0),v.identifierPrefix!==void 0&&(N=v.identifierPrefix),v.onRecoverableError!==void 0&&(I=v.onRecoverableError)),p=ON(p,null,u,1,v??null,E,!1,N,I),u[Is]=p.current,nd(u),S)for(u=0;u<S.length;u++)v=S[u],E=v._getVersion,E=E(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,E]:p.mutableSourceEagerHydrationData.push(v,E);return new nm(p)},jr.render=function(u,p,v){if(!rm(p))throw Error(n(200));return im(null,u,p,!1,v)},jr.unmountComponentAtNode=function(u){if(!rm(u))throw Error(n(40));return u._reactRootContainer?(Po(function(){im(null,null,u,!1,function(){u._reactRootContainer=null,u[Is]=null})}),!0):!1},jr.unstable_batchedUpdates=wx,jr.unstable_renderSubtreeIntoContainer=function(u,p,v,S){if(!rm(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return im(u,p,v,!1,S)},jr.version="18.3.1-next-f1338f8080-20240426",jr}var VN;function zB(){if(VN)return Mx.exports;VN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Mx.exports=LG(),Mx.exports}var WN;function FG(){if(WN)return om;WN=1;var t=zB();return om.createRoot=t.createRoot,om.hydrateRoot=t.hydrateRoot,om}var $G=FG(),C=Ev();const z=gt(C),oP=NG({__proto__:null,default:z},[C]),BG="KharchaPalDB",HN=4;class UG{db=null;async init(){return new Promise((e,n)=>{const r=indexedDB.open(BG,HN);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const s=i.target.result,a=i.oldVersion;if(console.log(`Upgrading database from version ${a} to ${HN}`),s.objectStoreNames.contains("users")||s.createObjectStore("users",{keyPath:"id"}),s.objectStoreNames.contains("families")||s.createObjectStore("families",{keyPath:"id"}),!s.objectStoreNames.contains("expenses")){const o=s.createObjectStore("expenses",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("income")){const o=s.createObjectStore("income",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("debts")){const o=s.createObjectStore("debts",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("status","status",{unique:!1})}s.objectStoreNames.contains("budgets")||s.createObjectStore("budgets",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("accounts")||s.createObjectStore("accounts",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goals")||s.createObjectStore("goals",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goal_transfers")||s.createObjectStore("goal_transfers",{keyPath:"id"}).createIndex("goal_id","goal_id",{unique:!1}),s.objectStoreNames.contains("syncQueue")||s.createObjectStore("syncQueue",{keyPath:"id"}).createIndex("status","status",{unique:!1}),s.objectStoreNames.contains("custom_categories")||s.createObjectStore("custom_categories",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("recurring_transactions")||s.createObjectStore("recurring_transactions",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1})}})}getStore(e,n="readonly"){if(!this.db)throw new Error("Database not initialized");return this.db.transaction(e,n).objectStore(e)}async add(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.add(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async put(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.put(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async get(e,n){const r=this.getStore(e);return new Promise((i,s)=>{const a=r.get(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async getAll(e){const n=this.getStore(e);return new Promise((r,i)=>{const s=n.getAll();s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async getAllByIndex(e,n,r){const s=this.getStore(e).index(n);return new Promise((a,o)=>{const l=s.getAll(r);l.onsuccess=()=>a(l.result),l.onerror=()=>o(l.error)})}async delete(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.delete(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async clear(e){const n=this.getStore(e,"readwrite");return new Promise((r,i)=>{const s=n.clear();s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async addUser(e){return this.add("users",e)}async getUser(e){return this.get("users",e)}async getAllUsers(){return this.getAll("users")}async updateUser(e){return this.put("users",e)}async addFamily(e){return this.add("families",e)}async getFamily(e){return this.get("families",e)}async addExpense(e){return this.add("expenses",e)}async updateExpense(e){return this.put("expenses",e)}async getExpensesByFamily(e){return this.getAllByIndex("expenses","family_id",e)}async addIncome(e){return this.add("income",e)}async updateIncome(e){return this.put("income",e)}async getIncomeByFamily(e){return this.getAllByIndex("income","family_id",e)}async addDebt(e){return this.add("debts",e)}async updateDebt(e){return this.put("debts",e)}async getDebtsByFamily(e){return this.getAllByIndex("debts","family_id",e)}async addBudget(e){return this.add("budgets",e)}async updateBudget(e){return this.put("budgets",e)}async getBudgetsByFamily(e){return this.getAllByIndex("budgets","family_id",e)}async addAccount(e){return this.add("accounts",e)}async updateAccount(e){return this.put("accounts",e)}async getAccountsByFamily(e){return this.getAllByIndex("accounts","family_id",e)}async addGoal(e){return this.add("goals",e)}async updateGoal(e){return this.put("goals",e)}async getGoalsByFamily(e){return this.getAllByIndex("goals","family_id",e)}async addGoalTransfer(e){return this.add("goal_transfers",e)}async getGoalTransfersByFamily(e){const n=await this.getAll("goal_transfers"),r=await this.getGoalsByFamily(e),i=new Set(r.map(s=>s.id));return n.filter(s=>i.has(s.goal_id))}async addSyncItem(e){return this.add("syncQueue",e)}async getPendingSyncItems(){return this.getAllByIndex("syncQueue","status","pending")}async addCustomCategory(e){return this.add("custom_categories",e)}async getCustomCategoriesByFamily(e){return this.getAllByIndex("custom_categories","family_id",e)}async deleteCustomCategory(e){return this.delete("custom_categories",e)}async addRecurringTransaction(e){return this.add("recurring_transactions",e)}async updateRecurringTransaction(e){return this.put("recurring_transactions",e)}async getRecurringTransactionsByFamily(e){return this.getAllByIndex("recurring_transactions","family_id",e)}async deleteRecurringTransaction(e){return this.delete("recurring_transactions",e)}}const rt=new UG,VB=C.createContext(void 0);function zG({children:t}){const[e,n]=C.useState({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!0});C.useEffect(()=>{(async()=>{try{console.log("Initializing KharchaPal..."),await rt.init(),console.log("Database initialized successfully");const D=localStorage.getItem("currentUserId"),$=localStorage.getItem("currentFamilyId");if(D&&$){console.log("Attempting to restore session...");const H=await rt.getUser(D),q=await rt.getFamily($);H&&q?(console.log("Session restored successfully"),n(V=>({...V,currentUser:H,currentFamily:q})),await r($)):(console.log("Session data not found, clearing localStorage"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"))}else console.log("No saved session found")}catch(D){if(console.error("Failed to initialize app:",D),D instanceof Error&&D.name==="InvalidStateError"){console.log("Attempting to recover from database error...");try{indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),console.log("Database reset. Please refresh the page.")}catch($){console.error("Failed to reset database:",$)}}}finally{n(D=>({...D,isLoading:!1}))}})()},[]);const r=async M=>{try{const[D,$,H,q,V,B,L,W,X,U]=await Promise.all([rt.getAllUsers(),rt.getExpensesByFamily(M),rt.getIncomeByFamily(M),rt.getDebtsByFamily(M),rt.getBudgetsByFamily(M),rt.getAccountsByFamily(M),rt.getGoalsByFamily?.(M)??Promise.resolve([]),rt.getGoalTransfersByFamily?.(M)??Promise.resolve([]),rt.getCustomCategoriesByFamily(M),rt.getRecurringTransactionsByFamily(M)]);n(K=>({...K,users:D.filter(Z=>Z.family_id===M),expenses:$.sort((Z,ae)=>new Date(ae.date).getTime()-new Date(Z.date).getTime()),income:H.sort((Z,ae)=>new Date(ae.date).getTime()-new Date(Z.date).getTime()),debts:q,budgets:V,accounts:B,goals:L.sort((Z,ae)=>new Date(ae.created_at).getTime()-new Date(Z.created_at).getTime()),goalTransfers:W,customCategories:X,recurringTransactions:U}))}catch(D){console.error("Failed to load family data:",D)}},i=M=>{n(D=>({...D,currentUser:M})),M?localStorage.setItem("currentUserId",M.id):localStorage.removeItem("currentUserId")},s=M=>{n(D=>({...D,currentFamily:M})),M?localStorage.setItem("currentFamilyId",M.id):localStorage.removeItem("currentFamilyId")},a=async()=>{e.currentFamily&&await r(e.currentFamily.id)},o=async M=>{await rt.addExpense(M);const D=[...e.accounts];for(const $ of M.payment_lines)if($.account_id){const H=e.accounts.findIndex(q=>q.id===$.account_id);if(H!==-1){const q=e.accounts[H];D[H]={...q,current_balance:q.current_balance-$.amount,updated_at:new Date().toISOString()},await rt.updateAccount(D[H])}}n($=>({...$,expenses:[M,...$.expenses],accounts:D}))},l=async M=>{await rt.updateExpense(M),n(D=>({...D,expenses:D.expenses.map($=>$.id===M.id?M:$)}))},c=async M=>{await rt.addIncome(M),n(D=>({...D,income:[M,...D.income]}))},h=async M=>{await rt.updateIncome(M),n(D=>({...D,income:D.income.map($=>$.id===M.id?M:$)}))},d=async M=>{await rt.addDebt(M),n(D=>({...D,debts:[...D.debts,M]}))},m=async M=>{await rt.updateDebt(M),n(D=>({...D,debts:D.debts.map($=>$.id===M.id?M:$)}))},g=async M=>{await rt.addBudget(M),n(D=>({...D,budgets:[...D.budgets,M]}))},x=async M=>{await rt.updateBudget(M),n(D=>({...D,budgets:D.budgets.map($=>$.id===M.id?M:$)}))},y=async M=>{await rt.addUser(M),n(D=>({...D,users:[...D.users,M]}))},b=async M=>{await rt.addAccount(M),n(D=>({...D,accounts:[...D.accounts,M]}))},w=async M=>{await rt.updateAccount(M),n(D=>({...D,accounts:D.accounts.map($=>$.id===M.id?M:$)}))},_=async M=>{await rt.addGoal?.(M),n(D=>({...D,goals:[...D.goals,M]}))},A=async M=>{await rt.updateGoal?.(M),n(D=>({...D,goals:D.goals.map($=>$.id===M.id?M:$)}))},j=async M=>{if(await rt.addGoalTransfer?.(M),M.contributed_by&&e.currentFamily&&e.currentUser){const D={id:`goal-${M.id}`,family_id:e.currentFamily.id,created_by:M.contributed_by,total_amount:M.amount,currency:"INR",category:"goal",date:M.transfer_date,notes:`Goal contribution: ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`,payment_lines:[{id:`payment-${M.id}`,method:M.transfer_method,amount:M.amount,payer_user_id:M.contributed_by,account_id:M.from_account_id,meta:{note:`Goal transfer to ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`}}],attachments:[],is_shared:!0,sync_status:"synced",created_at:M.created_at,updated_at:M.created_at};await rt.addExpense(D),n($=>({...$,expenses:[D,...$.expenses],goalTransfers:[...$.goalTransfers,M]}))}else n(D=>({...D,goalTransfers:[...D.goalTransfers,M]}))},P=async M=>{await rt.addCustomCategory(M),n(D=>({...D,customCategories:[...D.customCategories,M]}))},T=async M=>{await rt.deleteCustomCategory(M),n(D=>({...D,customCategories:D.customCategories.filter($=>$.id!==M)}))},k=async M=>{await rt.addRecurringTransaction(M),n(D=>({...D,recurringTransactions:[...D.recurringTransactions,M]}))},O=async M=>{await rt.updateRecurringTransaction(M),n(D=>({...D,recurringTransactions:D.recurringTransactions.map($=>$.id===M.id?M:$)}))},R=async M=>{await rt.deleteRecurringTransaction(M),n(D=>({...D,recurringTransactions:D.recurringTransactions.filter($=>$.id!==M)}))},F=()=>{localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"),n({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!1})};return f.jsx(VB.Provider,{value:{...e,setCurrentUser:i,setCurrentFamily:s,loadFamilyData:a,addExpense:o,updateExpense:l,addIncome:c,updateIncome:h,addDebt:d,updateDebt:m,addBudget:g,updateBudget:x,addAccount:b,updateAccount:w,addGoal:_,updateGoal:A,addGoalTransfer:j,addUser:y,addCustomCategory:P,deleteCustomCategory:T,addRecurringTransaction:k,updateRecurringTransaction:O,deleteRecurringTransaction:R,logout:F},children:t})}function ot(){const t=C.useContext(VB);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}function qN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ks(...t){return e=>{let n=!1;const r=t.map(i=>{const s=qN(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():qN(t[i],null)}}}}function Ze(...t){return C.useCallback(ks(...t),t)}var VG=Symbol.for("react.lazy"),Jm=oP[" use ".trim().toString()];function WG(t){return typeof t=="object"&&t!==null&&"then"in t}function WB(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===VG&&"_payload"in t&&WG(t._payload)}function mf(t){const e=HG(t),n=C.forwardRef((r,i)=>{let{children:s,...a}=r;WB(s)&&typeof Jm=="function"&&(s=Jm(s._payload));const o=C.Children.toArray(s),l=o.find(GG);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var HB=mf("Slot");function HG(t){const e=C.forwardRef((n,r)=>{let{children:i,...s}=n;if(WB(i)&&typeof Jm=="function"&&(i=Jm(i._payload)),C.isValidElement(i)){const a=YG(i),o=KG(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qG=Symbol("radix.slottable");function GG(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qG}function KG(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function YG(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function qB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=qB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=qB(t))&&(r&&(r+=" "),r+=e);return r}const GN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,KN=Qe,lP=(t,e)=>n=>{var r;if(e?.variants==null)return KN(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const h=n?.[c],d=s?.[c];if(h===null)return null;const m=GN(h)||GN(d);return i[c][m]}),o=n&&Object.entries(n).reduce((c,h)=>{let[d,m]=h;return m===void 0||(c[d]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:m,...g}=h;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...s,...o}[y]):{...s,...o}[y]===b})?[...c,d,m]:c},[]);return KN(t,a,l,n?.class,n?.className)},XG=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},QG=(t,e)=>({classGroupId:t,validator:e}),GB=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),eg="-",YN=[],ZG="arbitrary..",JG=t=>{const e=t9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return e9(a);const o=a.split(eg),l=o[0]===""&&o.length>1?1:0;return KB(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=r[a],c=n[a];return l?c?XG(c,l):l:c||YN}return n[a]||YN}}},KB=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=KB(t,e+1,s);if(c)return c}const a=n.validators;if(a===null)return;const o=e===0?t.join(eg):t.slice(e).join(eg),l=a.length;for(let c=0;c<l;c++){const h=a[c];if(h.validator(o))return h.classGroupId}},e9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?ZG+r:void 0})(),t9=t=>{const{theme:e,classGroups:n}=t;return n9(n,e)},n9=(t,e)=>{const n=GB();for(const r in t){const i=t[r];cP(i,n,r,e)}return n},cP=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];r9(a,e,n,r)}},r9=(t,e,n,r)=>{if(typeof t=="string"){i9(t,e,n);return}if(typeof t=="function"){s9(t,e,n,r);return}a9(t,e,n,r)},i9=(t,e,n)=>{const r=t===""?e:YB(e,t);r.classGroupId=n},s9=(t,e,n,r)=>{if(o9(t)){cP(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(QG(n,t))},a9=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];cP(l,YB(e,o),n,r)}},YB=(t,e)=>{let n=t;const r=e.split(eg),i=r.length;for(let s=0;s<i;s++){const a=r[s];let o=n.nextPart.get(a);o||(o=GB(),n.nextPart.set(a,o)),n=o}return n},o9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,l9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},I_="!",XN=":",c9=[],QN=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),u9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;const h=i.length;for(let y=0;y<h;y++){const b=i[y];if(a===0&&o===0){if(b===XN){s.push(i.slice(l,y)),l=y+1;continue}if(b==="/"){c=y;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const d=s.length===0?i:i.slice(l);let m=d,g=!1;d.endsWith(I_)?(m=d.slice(0,-1),g=!0):d.startsWith(I_)&&(m=d.slice(1),g=!0);const x=c&&c>l?c-l:void 0;return QN(s,g,m,x)};if(e){const i=e+XN,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):QN(c9,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},d9=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},h9=t=>({cache:l9(t.cacheSize),parseClassName:u9(t),sortModifiers:d9(t),...JG(t)}),f9=/\s+/,p9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(f9);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:d,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}=n(h);if(d){l=h+(l.length>0?" "+l:l);continue}let b=!!y,w=r(b?x.substring(0,y):x);if(!w){if(!b){l=h+(l.length>0?" "+l:l);continue}if(w=r(x),!w){l=h+(l.length>0?" "+l:l);continue}b=!1}const _=m.length===0?"":m.length===1?m[0]:s(m).join(":"),A=g?_+I_:_,j=A+w;if(a.indexOf(j)>-1)continue;a.push(j);const P=i(w,b);for(let T=0;T<P.length;++T){const k=P[T];a.push(A+k)}l=h+(l.length>0?" "+l:l)}return l},m9=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=XB(n))&&(i&&(i+=" "),i+=r);return i},XB=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=XB(t[r]))&&(n&&(n+=" "),n+=e);return n},g9=(t,...e)=>{let n,r,i,s;const a=l=>{const c=e.reduce((h,d)=>d(h),t());return n=h9(c),r=n.cache.get,i=n.cache.set,s=o,o(l)},o=l=>{const c=r(l);if(c)return c;const h=p9(l,n);return i(l,h),h};return s=a,(...l)=>s(m9(...l))},v9=[],_n=t=>{const e=n=>n[t]||v9;return e.isThemeGetter=!0,e},QB=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ZB=/^\((?:(\w[\w-]*):)?(.+)\)$/i,y9=/^\d+\/\d+$/,b9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,x9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,S9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ql=t=>y9.test(t),tt=t=>!!t&&!Number.isNaN(Number(t)),$a=t=>!!t&&Number.isInteger(Number(t)),Ix=t=>t.endsWith("%")&&tt(t.slice(0,-1)),Ws=t=>b9.test(t),A9=()=>!0,C9=t=>x9.test(t)&&!w9.test(t),JB=()=>!1,P9=t=>S9.test(t),E9=t=>_9.test(t),T9=t=>!Pe(t)&&!Ee(t),j9=t=>mu(t,n3,JB),Pe=t=>QB.test(t),ko=t=>mu(t,r3,C9),Lx=t=>mu(t,D9,tt),ZN=t=>mu(t,e3,JB),k9=t=>mu(t,t3,E9),lm=t=>mu(t,i3,P9),Ee=t=>ZB.test(t),wd=t=>gu(t,r3),N9=t=>gu(t,R9),JN=t=>gu(t,e3),O9=t=>gu(t,n3),M9=t=>gu(t,t3),cm=t=>gu(t,i3,!0),mu=(t,e,n)=>{const r=QB.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},gu=(t,e,n=!1)=>{const r=ZB.exec(t);return r?r[1]?e(r[1]):n:!1},e3=t=>t==="position"||t==="percentage",t3=t=>t==="image"||t==="url",n3=t=>t==="length"||t==="size"||t==="bg-size",r3=t=>t==="length",D9=t=>t==="number",R9=t=>t==="family-name",i3=t=>t==="shadow",I9=()=>{const t=_n("color"),e=_n("font"),n=_n("text"),r=_n("font-weight"),i=_n("tracking"),s=_n("leading"),a=_n("breakpoint"),o=_n("container"),l=_n("spacing"),c=_n("radius"),h=_n("shadow"),d=_n("inset-shadow"),m=_n("text-shadow"),g=_n("drop-shadow"),x=_n("blur"),y=_n("perspective"),b=_n("aspect"),w=_n("ease"),_=_n("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...j(),Ee,Pe],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[Ee,Pe,l],R=()=>[ql,"full","auto",...O()],F=()=>[$a,"none","subgrid",Ee,Pe],M=()=>["auto",{span:["full",$a,Ee,Pe]},$a,Ee,Pe],D=()=>[$a,"auto",Ee,Pe],$=()=>["auto","min","max","fr",Ee,Pe],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],q=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],B=()=>[ql,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],L=()=>[t,Ee,Pe],W=()=>[...j(),JN,ZN,{position:[Ee,Pe]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",O9,j9,{size:[Ee,Pe]}],K=()=>[Ix,wd,ko],Z=()=>["","none","full",c,Ee,Pe],ae=()=>["",tt,wd,ko],ce=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[tt,Ix,JN,ZN],ee=()=>["","none",x,Ee,Pe],te=()=>["none",tt,Ee,Pe],le=()=>["none",tt,Ee,Pe],he=()=>[tt,Ee,Pe],se=()=>[ql,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ws],breakpoint:[Ws],color:[A9],container:[Ws],"drop-shadow":[Ws],ease:["in","out","in-out"],font:[T9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ws],shadow:[Ws],spacing:["px",tt],text:[Ws],"text-shadow":[Ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ql,Pe,Ee,b]}],container:["container"],columns:[{columns:[tt,Pe,Ee,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[$a,"auto",Ee,Pe]}],basis:[{basis:[ql,"full","auto",o,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[tt,ql,"auto","initial","none",Pe]}],grow:[{grow:["",tt,Ee,Pe]}],shrink:[{shrink:["",tt,Ee,Pe]}],order:[{order:[$a,"first","last","none",Ee,Pe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...q(),"normal"]}],"justify-self":[{"justify-self":["auto",...q()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...q(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...q(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...q(),"baseline"]}],"place-self":[{"place-self":["auto",...q()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[o,"screen",...B()]}],"min-w":[{"min-w":[o,"screen","none",...B()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,wd,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,Lx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ix,Pe]}],"font-family":[{font:[N9,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ee,Pe]}],"line-clamp":[{"line-clamp":[tt,"none",Ee,Lx]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Ee,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[tt,"from-font","auto",Ee,ko]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[tt,"auto",Ee,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$a,Ee,Pe],radial:["",Ee,Pe],conic:[$a,Ee,Pe]},M9,k9]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[tt,Ee,Pe]}],"outline-w":[{outline:["",tt,wd,ko]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",h,cm,lm]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",d,cm,lm]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[tt,ko]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,cm,lm]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[tt,Ee,Pe]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[tt]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Ee,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[tt]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Pe]}],filter:[{filter:["","none",Ee,Pe]}],blur:[{blur:ee()}],brightness:[{brightness:[tt,Ee,Pe]}],contrast:[{contrast:[tt,Ee,Pe]}],"drop-shadow":[{"drop-shadow":["","none",g,cm,lm]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",tt,Ee,Pe]}],"hue-rotate":[{"hue-rotate":[tt,Ee,Pe]}],invert:[{invert:["",tt,Ee,Pe]}],saturate:[{saturate:[tt,Ee,Pe]}],sepia:[{sepia:["",tt,Ee,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Pe]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[tt,Ee,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[tt,Ee,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",tt,Ee,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[tt,Ee,Pe]}],"backdrop-invert":[{"backdrop-invert":["",tt,Ee,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[tt,Ee,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[tt,Ee,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",tt,Ee,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[tt,"initial",Ee,Pe]}],ease:[{ease:["linear","initial",w,Ee,Pe]}],delay:[{delay:[tt,Ee,Pe]}],animate:[{animate:["none",_,Ee,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ee,Pe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:te()}],"rotate-x":[{"rotate-x":te()}],"rotate-y":[{"rotate-y":te()}],"rotate-z":[{"rotate-z":te()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Ee,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:se()}],"translate-x":[{"translate-x":se()}],"translate-y":[{"translate-y":se()}],"translate-z":[{"translate-z":se()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Pe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[tt,wd,ko,Lx]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},L9=g9(I9);function Fe(...t){return L9(Qe(t))}const L_=lP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 elevation-1 hover:elevation-2",destructive:"bg-destructive text-white hover:bg-destructive/90 elevation-1 hover:elevation-2 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-2 border-outline bg-background text-foreground hover:bg-surface-variant/50 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary-container text-on-secondary-container hover:bg-secondary-container/80 elevation-1",ghost:"hover:bg-surface-variant/50 hover:text-on-surface dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2 has-[>svg]:px-4",sm:"h-9 rounded-lg gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-12 rounded-xl px-6 has-[>svg]:px-5",icon:"size-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),ve=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?HB:"button";return f.jsx(a,{"data-slot":"button",className:Fe(L_({variant:e,size:n,className:t})),ref:s,...i})});ve.displayName="Button";function et({className:t,...e}){return f.jsx("div",{"data-slot":"card",className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-2xl border border-outline-variant/30 transition-all duration-200",t),...e})}function At({className:t,...e}){return f.jsx("div",{"data-slot":"card-header",className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ct({className:t,...e}){return f.jsx("h4",{"data-slot":"card-title",className:Fe("leading-none",t),...e})}function sn({className:t,...e}){return f.jsx("p",{"data-slot":"card-description",className:Fe("text-muted-foreground",t),...e})}function xt({className:t,...e}){return f.jsx("div",{"data-slot":"card-content",className:Fe("px-6 [&:last-child]:pb-6",t),...e})}const s3=C.createContext({});function F9(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const uP=typeof window<"u",$9=uP?C.useLayoutEffect:C.useEffect,dP=C.createContext(null);function hP(t,e){t.indexOf(e)===-1&&t.push(e)}function fP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ra=(t,e,n)=>n>e?e:n<t?t:n;let pP=()=>{};const ia={},a3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function o3(t){return typeof t=="object"&&t!==null}const l3=t=>/^0[^.\s]+$/u.test(t);function mP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ci=t=>t,B9=(t,e)=>n=>e(t(n)),gf=(...t)=>t.reduce(B9),dh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class gP{constructor(){this.subscriptions=[]}add(e){return hP(this.subscriptions,e),()=>fP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const bs=t=>t*1e3,Si=t=>t/1e3;function c3(t,e){return e?t*(1e3/e):0}const u3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,U9=1e-7,z9=12;function V9(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=u3(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>U9&&++o<z9);return a}function vf(t,e,n,r){if(t===e&&n===r)return Ci;const i=s=>V9(s,0,1,t,n);return s=>s===0||s===1?s:u3(i(s),e,r)}const d3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,h3=t=>e=>1-t(1-e),f3=vf(.33,1.53,.69,.99),vP=h3(f3),p3=d3(vP),m3=t=>(t*=2)<1?.5*vP(t):.5*(2-Math.pow(2,-10*(t-1))),yP=t=>1-Math.sin(Math.acos(t)),g3=h3(yP),v3=d3(yP),W9=vf(.42,0,1,1),H9=vf(0,0,.58,1),y3=vf(.42,0,.58,1),q9=t=>Array.isArray(t)&&typeof t[0]!="number",b3=t=>Array.isArray(t)&&typeof t[0]=="number",G9={linear:Ci,easeIn:W9,easeInOut:y3,easeOut:H9,circIn:yP,circInOut:v3,circOut:g3,backIn:vP,backInOut:p3,backOut:f3,anticipate:m3},K9=t=>typeof t=="string",eO=t=>{if(b3(t)){pP(t.length===4);const[e,n,r,i]=t;return vf(e,n,r,i)}else if(K9(t))return G9[t];return t},um=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Y9(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){a.has(h)&&(c.schedule(h),t()),h(o)}const c={schedule:(h,d=!1,m=!1)=>{const x=m&&i?n:r;return d&&a.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const X9=40;function x3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=um.reduce((A,j)=>(A[j]=Y9(s),A),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:g,postRender:x}=a,y=()=>{const A=ia.useManualTiming?i.timestamp:performance.now();n=!1,ia.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,X9),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),h.process(i),d.process(i),m.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:um.reduce((A,j)=>{const P=a[j];return A[j]=(T,k=!1,O=!1)=>(n||b(),P.schedule(T,k,O)),A},{}),cancel:A=>{for(let j=0;j<um.length;j++)a[um[j]].cancel(A)},state:i,steps:a}}const{schedule:Bt,cancel:Qa,state:Zn,steps:Fx}=x3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Vm;function Q9(){Vm=void 0}const Mr={now:()=>(Vm===void 0&&Mr.set(Zn.isProcessing||ia.useManualTiming?Zn.timestamp:performance.now()),Vm),set:t=>{Vm=t,queueMicrotask(Q9)}},w3=t=>e=>typeof e=="string"&&e.startsWith(t),bP=w3("--"),Z9=w3("var(--"),xP=t=>Z9(t)?J9.test(t.split("/*")[0].trim()):!1,J9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,vu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hh={...vu,transform:t=>ra(0,1,t)},dm={...vu,default:1},Yd=t=>Math.round(t*1e5)/1e5,wP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e7(t){return t==null}const t7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,SP=(t,e)=>n=>!!(typeof n=="string"&&t7.test(n)&&n.startsWith(t)||e&&!e7(n)&&Object.prototype.hasOwnProperty.call(n,e)),S3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(wP);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},n7=t=>ra(0,255,t),$x={...vu,transform:t=>Math.round(n7(t))},Bo={test:SP("rgb","red"),parse:S3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+$x.transform(t)+", "+$x.transform(e)+", "+$x.transform(n)+", "+Yd(hh.transform(r))+")"};function r7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const F_={test:SP("#"),parse:r7,transform:Bo.transform},yf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ua=yf("deg"),xs=yf("%"),ze=yf("px"),i7=yf("vh"),s7=yf("vw"),tO={...xs,parse:t=>xs.parse(t)/100,transform:t=>xs.transform(t*100)},sc={test:SP("hsl","hue"),parse:S3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xs.transform(Yd(e))+", "+xs.transform(Yd(n))+", "+Yd(hh.transform(r))+")"},mn={test:t=>Bo.test(t)||F_.test(t)||sc.test(t),parse:t=>Bo.test(t)?Bo.parse(t):sc.test(t)?sc.parse(t):F_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bo.transform(t):sc.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},a7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function o7(t){return isNaN(t)&&typeof t=="string"&&(t.match(wP)?.length||0)+(t.match(a7)?.length||0)>0}const _3="number",A3="color",l7="var",c7="var(",nO="${}",u7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(u7,l=>(mn.test(l)?(r.color.push(s),i.push(A3),n.push(mn.parse(l))):l.startsWith(c7)?(r.var.push(s),i.push(l7),n.push(l)):(r.number.push(s),i.push(_3),n.push(parseFloat(l))),++s,nO)).split(nO);return{values:n,split:o,indexes:r,types:i}}function C3(t){return fh(t).values}function P3(t){const{split:e,types:n}=fh(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===_3?s+=Yd(i[a]):o===A3?s+=mn.transform(i[a]):s+=i[a]}return s}}const d7=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function h7(t){const e=C3(t);return P3(t)(e.map(d7))}const Za={test:o7,parse:C3,createTransformer:P3,getAnimatableNone:h7};function Bx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function f7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=Bx(l,o,t+1/3),s=Bx(l,o,t),a=Bx(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function tg(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,Ux=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},p7=[F_,Bo,sc],m7=t=>p7.find(e=>e.test(t));function rO(t){const e=m7(t);if(!e)return!1;let n=e.parse(t);return e===sc&&(n=f7(n)),n}const iO=(t,e)=>{const n=rO(t),r=rO(e);if(!n||!r)return tg(t,e);const i={...n};return s=>(i.red=Ux(n.red,r.red,s),i.green=Ux(n.green,r.green,s),i.blue=Ux(n.blue,r.blue,s),i.alpha=Gt(n.alpha,r.alpha,s),Bo.transform(i))},$_=new Set(["none","hidden"]);function g7(t,e){return $_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function v7(t,e){return n=>Gt(t,e,n)}function _P(t){return typeof t=="number"?v7:typeof t=="string"?xP(t)?tg:mn.test(t)?iO:x7:Array.isArray(t)?E3:typeof t=="object"?mn.test(t)?iO:y7:tg}function E3(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>_P(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function y7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=_P(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function b7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const x7=(t,e)=>{const n=Za.createTransformer(e),r=fh(t),i=fh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?$_.has(t)&&!i.values.length||$_.has(e)&&!r.values.length?g7(t,e):gf(E3(b7(r,i),i.values),n):tg(t,e)};function T3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):_P(t)(t,e)}const w7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Bt.update(e,n),stop:()=>Qa(e),now:()=>Zn.isProcessing?Zn.timestamp:Mr.now()}},j3=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ng=2e4;function AP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ng;)e+=n,r=t.next(e);return e>=ng?1/0:e}function S7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(AP(r),ng);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Si(i)}}const _7=5;function k3(t,e,n){const r=Math.max(e-_7,0);return c3(n-t(r),e-r)}const Xt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zx=.001;function A7({duration:t=Xt.duration,bounce:e=Xt.bounce,velocity:n=Xt.velocity,mass:r=Xt.mass}){let i,s,a=1-e;a=ra(Xt.minDamping,Xt.maxDamping,a),t=ra(Xt.minDuration,Xt.maxDuration,Si(t)),a<1?(i=c=>{const h=c*a,d=h*t,m=h-n,g=B_(c,a),x=Math.exp(-d);return zx-m/g*x},s=c=>{const d=c*a*t,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-d),y=B_(Math.pow(c,2),a);return(-i(c)+zx>0?-1:1)*((m-g)*x)/y}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-zx+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const o=5/t,l=P7(i,s,o);if(t=bs(t),isNaN(l))return{stiffness:Xt.stiffness,damping:Xt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const C7=12;function P7(t,e,n){let r=n;for(let i=1;i<C7;i++)r=r-t(r)/e(r);return r}function B_(t,e){return t*Math.sqrt(1-e*e)}const E7=["duration","bounce"],T7=["stiffness","damping","mass"];function sO(t,e){return e.some(n=>t[n]!==void 0)}function j7(t){let e={velocity:Xt.velocity,stiffness:Xt.stiffness,damping:Xt.damping,mass:Xt.mass,isResolvedFromDuration:!1,...t};if(!sO(t,T7)&&sO(t,E7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*ra(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Xt.mass,stiffness:i,damping:s}}else{const n=A7(t);e={...e,...n,mass:Xt.mass},e.isResolvedFromDuration=!0}return e}function rg(t=Xt.visualDuration,e=Xt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:g}=j7({...n,velocity:-Si(n.velocity||0)}),x=m||0,y=c/(2*Math.sqrt(l*h)),b=a-s,w=Si(Math.sqrt(l/h)),_=Math.abs(b)<5;r||(r=_?Xt.restSpeed.granular:Xt.restSpeed.default),i||(i=_?Xt.restDelta.granular:Xt.restDelta.default);let A;if(y<1){const P=B_(w,y);A=T=>{const k=Math.exp(-y*w*T);return a-k*((x+y*w*b)/P*Math.sin(P*T)+b*Math.cos(P*T))}}else if(y===1)A=P=>a-Math.exp(-w*P)*(b+(x+w*b)*P);else{const P=w*Math.sqrt(y*y-1);A=T=>{const k=Math.exp(-y*w*T),O=Math.min(P*T,300);return a-k*((x+y*w*b)*Math.sinh(O)+P*b*Math.cosh(O))/P}}const j={calculatedDuration:g&&d||null,next:P=>{const T=A(P);if(g)o.done=P>=d;else{let k=P===0?x:0;y<1&&(k=P===0?bs(x):k3(A,P,T));const O=Math.abs(k)<=r,R=Math.abs(a-T)<=i;o.done=O&&R}return o.value=o.done?a:T,o},toString:()=>{const P=Math.min(AP(j),ng),T=j3(k=>j.next(P*k).value,P,30);return P+"ms "+T},toTransition:()=>{}};return j}rg.applyToOptions=t=>{const e=S7(t,100,rg);return t.ease=e.ease,t.duration=bs(e.duration),t.type="keyframes",t};function U_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},g=O=>o!==void 0&&O<o||l!==void 0&&O>l,x=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let y=n*e;const b=d+y,w=a===void 0?b:a(b);w!==b&&(y=w-d);const _=O=>-y*Math.exp(-O/r),A=O=>w+_(O),j=O=>{const R=_(O),F=A(O);m.done=Math.abs(R)<=c,m.value=m.done?w:F};let P,T;const k=O=>{g(m.value)&&(P=O,T=rg({keyframes:[m.value,x(m.value)],velocity:k3(A,O,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:O=>{let R=!1;return!T&&P===void 0&&(R=!0,j(O),k(O)),P!==void 0&&O>=P?T.next(O-P):(!R&&j(O),m)}}}function k7(t,e,n){const r=[],i=n||ia.mix||T3,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ci:e;o=gf(l,o)}r.push(o)}return r}function N7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(pP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=k7(e,r,i),l=o.length,c=h=>{if(a&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const m=dh(t[d],t[d+1],h);return o[d](m)};return n?h=>c(ra(t[0],t[s-1],h)):c}function O7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=dh(0,e,r);t.push(Gt(n,1,i))}}function M7(t){const e=[0];return O7(e,t.length-1),e}function D7(t,e){return t.map(n=>n*e)}function R7(t,e){return t.map(()=>e||y3).splice(0,t.length-1)}function Xd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=q9(r)?r.map(eO):eO(r),s={done:!1,value:e[0]},a=D7(n&&n.length===e.length?n:M7(e),t),o=N7(a,e,{ease:Array.isArray(i)?i:R7(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const I7=t=>t!==null;function CP(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(I7),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const L7={decay:U_,inertia:U_,tween:Xd,keyframes:Xd,spring:rg};function N3(t){typeof t.type=="string"&&(t.type=L7[t.type])}class PP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const F7=t=>t/100;class EP extends PP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Mr.now()&&this.tick(Mr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;N3(e);const{type:n=Xd,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Xd;l!==Xd&&typeof o[0]!="number"&&(this.mixKeyframes=gf(F7,T3(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=AP(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:g,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,j=r;if(d){const O=Math.min(this.currentTime,i)/o;let R=Math.floor(O),F=O%1;!F&&O>=1&&(F=1),F===1&&R--,R=Math.min(R,d+1),!!(R%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/o)):m==="mirror"&&(j=a)),A=ra(0,1,F)*o}const P=_?{done:!1,value:h[0]}:j.next(A);s&&(P.value=s(P.value));let{done:T}=P;!_&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&x!==U_&&(P.value=CP(h,this.options,b,this.speed)),y&&y(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Si(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Si(e)}get time(){return Si(this.currentTime)}set time(e){e=bs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Mr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Si(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=w7,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Mr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function $7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uo=t=>t*180/Math.PI,z_=t=>{const e=Uo(Math.atan2(t[1],t[0]));return V_(e)},B7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:z_,rotateZ:z_,skewX:t=>Uo(Math.atan(t[1])),skewY:t=>Uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},V_=t=>(t=t%360,t<0&&(t+=360),t),aO=z_,oO=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lO=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),U7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oO,scaleY:lO,scale:t=>(oO(t)+lO(t))/2,rotateX:t=>V_(Uo(Math.atan2(t[6],t[5]))),rotateY:t=>V_(Uo(Math.atan2(-t[2],t[0]))),rotateZ:aO,rotate:aO,skewX:t=>Uo(Math.atan(t[4])),skewY:t=>Uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function W_(t){return t.includes("scale")?1:0}function H_(t,e){if(!t||t==="none")return W_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=U7,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=B7,i=o}if(!i)return W_(e);const s=r[e],a=i[1].split(",").map(V7);return typeof s=="function"?s(a):a[s]}const z7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return H_(n,e)};function V7(t){return parseFloat(t.trim())}const yu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bu=new Set(yu),cO=t=>t===vu||t===ze,W7=new Set(["x","y","z"]),H7=yu.filter(t=>!W7.has(t));function q7(t){const e=[];return H7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>H_(e,"x"),y:(t,{transform:e})=>H_(e,"y")};Go.translateX=Go.x;Go.translateY=Go.y;const Ko=new Set;let q_=!1,G_=!1,K_=!1;function O3(){if(G_){const t=Array.from(Ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=q7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}G_=!1,q_=!1,Ko.forEach(t=>t.complete(K_)),Ko.clear()}function M3(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(G_=!0)})}function G7(){K_=!0,M3(),O3(),K_=!1}class TP{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),q_||(q_=!0,Bt.read(M3),Bt.resolveKeyframes(O3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}$7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const K7=t=>t.startsWith("--");function Y7(t,e,n){K7(e)?t.style.setProperty(e,n):t.style[e]=n}const X7=mP(()=>window.ScrollTimeline!==void 0),Q7={};function Z7(t,e){const n=mP(t);return()=>Q7[e]??n()}const D3=Z7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Bd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,uO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bd([0,.65,.55,1]),circOut:Bd([.55,0,1,.45]),backIn:Bd([.31,.01,.66,-.59]),backOut:Bd([.33,1.53,.69,.99])};function R3(t,e){if(t)return typeof t=="function"?D3()?j3(t,e):"ease-out":b3(t)?Bd(t):Array.isArray(t)?t.map(n=>R3(n,e)||uO.easeOut):uO[t]}function J7(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const d=R3(o,i);Array.isArray(d)&&(h.easing=d);const m={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(h,m)}function I3(t){return typeof t=="function"&&"applyToOptions"in t}function eK({type:t,...e}){return I3(t)&&D3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class tK extends PP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,pP(typeof e.type!="string");const c=eK(e);this.animation=J7(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=CP(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):Y7(n,r,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Si(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Si(e)}get time(){return Si(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=bs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&X7()?(this.animation.timeline=e,Ci):n(this)}}const L3={anticipate:m3,backInOut:p3,circInOut:v3};function nK(t){return t in L3}function rK(t){typeof t.ease=="string"&&nK(t.ease)&&(t.ease=L3[t.ease])}const dO=10;class iK extends tK{constructor(e){rK(e),N3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new EP({...a,autoplay:!1}),l=bs(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-dO).value,o.sample(l).value,dO),o.stop()}}const hO=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Za.test(t)||t==="0")&&!t.startsWith("url("));function sK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function aK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=hO(i,e),o=hO(s,e);return!a||!o?!1:sK(t)||(n==="spring"||I3(n))&&r}function Y_(t){t.duration=0,t.type="keyframes"}const oK=new Set(["opacity","clipPath","filter","transform"]),lK=mP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function cK(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return lK()&&n&&oK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const uK=40;class dK extends PP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:h,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Mr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:h,...d},g=h?.KeyframeResolver||TP;this.keyframeResolver=new g(o,(x,y,b)=>this.onKeyframesResolved(x,y,m,!b),l,c,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Mr.now(),aK(e,s,a,o)||((ia.instantAnimations||!l)&&h?.(CP(e,r,n)),e[0]=e[e.length-1],Y_(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>uK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&cK(m)?new iK({...m,element:m.motionValue.owner.current}):new EP(m);g.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),G7()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const hK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fK(t){const e=hK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function F3(t,e,n=1){const[r,i]=fK(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return a3(a)?parseFloat(a):a}return xP(i)?F3(i,e,n+1):i}function jP(t,e){return t?.[e]??t?.default??t}const $3=new Set(["width","height","top","left","right","bottom",...yu]),pK={test:t=>t==="auto",parse:t=>t},B3=t=>e=>e.test(t),U3=[vu,ze,xs,Ua,s7,i7,pK],fO=t=>U3.find(B3(t));function mK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||l3(t):!0}const gK=new Set(["brightness","contrast","saturate","opacity"]);function vK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(wP)||[];if(!r)return t;const i=n.replace(r,"");let s=gK.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const yK=/\b([a-z-]*)\(.*?\)/gu,X_={...Za,getAnimatableNone:t=>{const e=t.match(yK);return e?e.map(vK).join(" "):t}},pO={...vu,transform:Math.round},bK={rotate:Ua,rotateX:Ua,rotateY:Ua,rotateZ:Ua,scale:dm,scaleX:dm,scaleY:dm,scaleZ:dm,skew:Ua,skewX:Ua,skewY:Ua,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:hh,originX:tO,originY:tO,originZ:ze},kP={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...bK,zIndex:pO,fillOpacity:hh,strokeOpacity:hh,numOctaves:pO},xK={...kP,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:X_,WebkitFilter:X_},z3=t=>xK[t];function V3(t,e){let n=z3(t);return n!==X_&&(n=Za),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const wK=new Set(["auto","none","0"]);function SK(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!wK.has(s)&&fh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=V3(n,i)}class _K extends TP{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),xP(c))){const h=F3(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!$3.has(r)||e.length!==2)return;const[i,s]=e,a=fO(i),o=fO(s);if(a!==o)if(cO(a)&&cO(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Go[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||mK(e[i]))&&r.push(i);r.length&&SK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Go[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function AK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const W3=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function CK(t){return o3(t)&&"offsetHeight"in t}const mO=30,PK=t=>!isNaN(parseFloat(t));class EK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Mr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new gP);const r=this.events[e].add(n);return e==="change"?()=>{r(),Bt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,mO);return c3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jc(t,e){return new EK(t,e)}const{schedule:NP}=x3(queueMicrotask,!1),Vi={x:!1,y:!1};function H3(){return Vi.x||Vi.y}function TK(t){return t==="x"||t==="y"?Vi[t]?null:(Vi[t]=!0,()=>{Vi[t]=!1}):Vi.x||Vi.y?null:(Vi.x=Vi.y=!0,()=>{Vi.x=Vi.y=!1})}function q3(t,e){const n=AK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function gO(t){return!(t.pointerType==="touch"||H3())}function jK(t,e,n={}){const[r,i,s]=q3(t,n),a=o=>{if(!gO(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const h=d=>{gO(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const G3=(t,e)=>e?t===e?!0:G3(t,e.parentElement):!1,OP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,kK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function NK(t){return kK.has(t.tagName)||t.tabIndex!==-1}const Wm=new WeakSet;function vO(t){return e=>{e.key==="Enter"&&t(e)}}function Vx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const OK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=vO(()=>{if(Wm.has(n))return;Vx(n,"down");const i=vO(()=>{Vx(n,"up")}),s=()=>Vx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yO(t){return OP(t)&&!H3()}function MK(t,e,n={}){const[r,i,s]=q3(t,n),a=o=>{const l=o.currentTarget;if(!yO(o))return;Wm.add(l);const c=e(l,o),h=(g,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),Wm.has(l)&&Wm.delete(l),yO(g)&&typeof c=="function"&&c(g,{success:x})},d=g=>{h(g,l===window||l===document||n.useGlobalTarget||G3(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),CK(o)&&(o.addEventListener("focus",c=>OK(c,i)),!NK(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function K3(t){return o3(t)&&"ownerSVGElement"in t}function DK(t){return K3(t)&&t.tagName==="svg"}const cr=t=>!!(t&&t.getVelocity),RK=[...U3,mn,Za],IK=t=>RK.find(B3(t)),Y3=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function LK(t=!0){const e=C.useContext(dP);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const X3=C.createContext({strict:!1}),bO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in bO)kc[t]={isEnabled:e=>bO[t].some(n=>!!e[n])};function FK(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const $K=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ig(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||$K.has(t)}let Q3=t=>!ig(t);function BK(t){typeof t=="function"&&(Q3=e=>e.startsWith("on")?!ig(e):t(e))}try{BK(require("@emotion/is-prop-valid").default)}catch{}function UK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Q3(i)||n===!0&&ig(i)||!e&&!ig(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Tv=C.createContext({});function jv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ph(t){return typeof t=="string"||Array.isArray(t)}const MP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],DP=["initial",...MP];function kv(t){return jv(t.animate)||DP.some(e=>ph(t[e]))}function Z3(t){return!!(kv(t)||t.variants)}function zK(t,e){if(kv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ph(n)?n:void 0,animate:ph(r)?r:void 0}}return t.inherit!==!1?e:{}}function VK(t){const{initial:e,animate:n}=zK(t,C.useContext(Tv));return C.useMemo(()=>({initial:e,animate:n}),[xO(e),xO(n)])}function xO(t){return Array.isArray(t)?t.join(" "):t}const mh={};function WK(t){for(const e in t)mh[e]=t[e],bP(e)&&(mh[e].isCSSVariable=!0)}function J3(t,{layout:e,layoutId:n}){return bu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mh[t]||t==="opacity")}const HK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qK=yu.length;function GK(t,e,n){let r="",i=!0;for(let s=0;s<qK;s++){const a=yu[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=W3(o,kP[a]);if(!l){i=!1;const h=HK[a]||a;r+=`${h}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function RP(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(bu.has(l)){a=!0;continue}else if(bP(l)){i[l]=c;continue}else{const h=W3(c,kP[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||n?r.transform=GK(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const IP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function e4(t,e,n){for(const r in e)!cr(e[r])&&!J3(r,n)&&(t[r]=e[r])}function KK({transformTemplate:t},e){return C.useMemo(()=>{const n=IP();return RP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function YK(t,e){const n=t.style||{},r={};return e4(r,n,t),Object.assign(r,KK(t,e)),r}function XK(t,e){const n={},r=YK(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const QK={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZK={offset:"strokeDashoffset",array:"strokeDasharray"};function JK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?QK:ZK;t[s.offset]=ze.transform(-r);const a=ze.transform(e),o=ze.transform(n);t[s.array]=`${a} ${o}`}function t4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,h){if(RP(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m}=t;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=h?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&JK(d,i,s,a,!1)}const n4=()=>({...IP(),attrs:{}}),r4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eY(t,e,n,r){const i=C.useMemo(()=>{const s=n4();return t4(s,e,r4(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};e4(s,t.style,t),i.style={...s,...i.style}}return i}const tY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function LP(t){return typeof t!="string"||t.includes("-")?!1:!!(tY.indexOf(t)>-1||/[A-Z]/u.test(t))}function nY(t,e,n,{latestValues:r},i,s=!1){const o=(LP(t)?eY:XK)(e,r,i,t),l=UK(e,typeof t=="string",s),c=t!==C.Fragment?{...l,...o,ref:n}:{},{children:h}=e,d=C.useMemo(()=>cr(h)?h.get():h,[h]);return C.createElement(t,{...c,children:d})}function wO(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function FP(t,e,n,r){if(typeof e=="function"){const[i,s]=wO(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=wO(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Hm(t){return cr(t)?t.get():t}function rY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:iY(n,r,i,t),renderState:e()}}function iY(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Hm(s[m]);let{initial:a,animate:o}=t;const l=kv(t),c=Z3(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!jv(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const x=FP(t,m[g]);if(x){const{transitionEnd:y,transition:b,...w}=x;for(const _ in w){let A=w[_];if(Array.isArray(A)){const j=h?A.length-1:0;A=A[j]}A!==null&&(i[_]=A)}for(const _ in y)i[_]=y[_]}}}return i}const i4=t=>(e,n)=>{const r=C.useContext(Tv),i=C.useContext(dP),s=()=>rY(t,e,r,i);return n?s():F9(s)};function $P(t,e,n){const{style:r}=t,i={};for(const s in r)(cr(r[s])||e.style&&cr(e.style[s])||J3(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const sY=i4({scrapeMotionValuesFromProps:$P,createRenderState:IP});function s4(t,e,n){const r=$P(t,e,n);for(const i in t)if(cr(t[i])||cr(e[i])){const s=yu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const aY=i4({scrapeMotionValuesFromProps:s4,createRenderState:n4}),oY=Symbol.for("motionComponentSymbol");function ac(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function lY(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ac(n)&&(n.current=r))},[e])}const BP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),cY="framerAppearId",a4="data-"+BP(cY),o4=C.createContext({});function uY(t,e,n,r,i){const{visualElement:s}=C.useContext(Tv),a=C.useContext(X3),o=C.useContext(dP),l=C.useContext(Y3).reducedMotion,c=C.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=C.useContext(o4);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&dY(c.current,n,i,d);const m=C.useRef(!1);C.useInsertionEffect(()=>{h&&m.current&&h.update(n,o)});const g=n[a4],x=C.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return $9(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),x.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),h.enteringChildren=void 0)}),h}function dY(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:l4(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&ac(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function l4(t){if(t)return t.options.allowProjection!==!1?t.projection:l4(t.parent)}function Wx(t,{forwardMotionProps:e=!1}={},n,r){n&&FK(n);const i=LP(t)?aY:sY;function s(o,l){let c;const h={...C.useContext(Y3),...o,layoutId:hY(o)},{isStatic:d}=h,m=VK(o),g=i(o,d);if(!d&&uP){fY();const x=pY(h);c=x.MeasureLayout,m.visualElement=uY(t,g,h,r,x.ProjectionNode)}return f.jsxs(Tv.Provider,{value:m,children:[c&&m.visualElement?f.jsx(c,{visualElement:m.visualElement,...h}):null,nY(t,o,lY(g,m.visualElement,l),g,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(s);return a[oY]=t,a}function hY({layoutId:t}){const e=C.useContext(s3).id;return e&&t!==void 0?e+"-"+t:t}function fY(t,e){C.useContext(X3).strict}function pY(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function mY(t,e){if(typeof Proxy>"u")return Wx;const n=new Map,r=(s,a)=>Wx(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Wx(a,void 0,t,e)),n.get(a))})}function c4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function gY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function vY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hx(t){return t===void 0||t===1}function Q_({scale:t,scaleX:e,scaleY:n}){return!Hx(t)||!Hx(e)||!Hx(n)}function Ro(t){return Q_(t)||u4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function u4(t){return SO(t.x)||SO(t.y)}function SO(t){return t&&t!=="0%"}function sg(t,e,n){const r=t-n,i=e*r;return n+i}function _O(t,e,n,r,i){return i!==void 0&&(t=sg(t,i,r)),sg(t,n,r)+e}function Z_(t,e=0,n=1,r,i){t.min=_O(t.min,e,n,r,i),t.max=_O(t.max,e,n,r,i)}function d4(t,{x:e,y:n}){Z_(t.x,e.translate,e.scale,e.originPoint),Z_(t.y,n.translate,n.scale,n.originPoint)}const AO=.999999999999,CO=1.0000000000001;function yY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&lc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,d4(t,a)),r&&Ro(s.latestValues)&&lc(t,s.latestValues))}e.x<CO&&e.x>AO&&(e.x=1),e.y<CO&&e.y>AO&&(e.y=1)}function oc(t,e){t.min=t.min+e,t.max=t.max+e}function PO(t,e,n,r,i=.5){const s=Gt(t.min,t.max,i);Z_(t,e,n,s,r)}function lc(t,e){PO(t.x,e.x,e.scaleX,e.scale,e.originX),PO(t.y,e.y,e.scaleY,e.scale,e.originY)}function h4(t,e){return c4(vY(t.getBoundingClientRect(),e))}function bY(t,e,n){const r=h4(t,n),{scroll:i}=e;return i&&(oc(r.x,i.offset.x),oc(r.y,i.offset.y)),r}const EO=()=>({translate:0,scale:1,origin:0,originPoint:0}),cc=()=>({x:EO(),y:EO()}),TO=()=>({min:0,max:0}),rn=()=>({x:TO(),y:TO()}),J_={current:null},f4={current:!1};function xY(){if(f4.current=!0,!!uP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>J_.current=t.matches;t.addEventListener("change",e),e()}else J_.current=!1}const wY=new WeakMap;function SY(t,e,n){for(const r in e){const i=e[r],s=n[r];if(cr(i))t.addValue(r,i);else if(cr(s))t.addValue(r,jc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,jc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const jO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _Y{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=TP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Mr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Bt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=kv(n),this.isVariantNode=Z3(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];l[m]!==void 0&&cr(g)&&g.set(l[m])}}mount(e){this.current=e,wY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),f4.current||xY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:J_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qa(this.notifyUpdate),Qa(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Bt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<jO.length;r++){const i=jO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=SY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(a3(r)||l3(r))?r=parseFloat(r):!IK(r)&&Za.test(n)&&(r=V3(e,n)),this.setBaseTarget(e,cr(r)?r.get():r)),cr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=FP(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!cr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new gP),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){NP.render(this.render)}}class p4 extends _Y{constructor(){super(...arguments),this.KeyframeResolver=_K}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;cr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function m4(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function AY(t){return window.getComputedStyle(t)}class CY extends p4{constructor(){super(...arguments),this.type="html",this.renderInstance=m4}readValueFromInstance(e,n){if(bu.has(n))return this.projection?.isProjecting?W_(n):z7(e,n);{const r=AY(e),i=(bP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return h4(e,n)}build(e,n,r){RP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return $P(e,n,r)}}const g4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function PY(t,e,n,r){m4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(g4.has(i)?i:BP(i),e.attrs[i])}class EY extends p4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bu.has(n)){const r=z3(n);return r&&r.default||0}return n=g4.has(n)?n:BP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return s4(e,n,r)}build(e,n,r){t4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){PY(e,n,r,i)}mount(e){this.isSVGTag=r4(e.tagName),super.mount(e)}}const TY=(t,e)=>LP(t)?new EY(e):new CY(e,{allowProjection:t!==C.Fragment});function yc(t,e,n){const r=t.getProps();return FP(r,e,n!==void 0?n:r.custom,t)}const eA=t=>Array.isArray(t);function jY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jc(n))}function kY(t){return eA(t)?t[t.length-1]||0:t}function NY(t,e){const n=yc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=kY(s[a]);jY(t,a,o)}}function OY(t){return!!(cr(t)&&t.add)}function tA(t,e){const n=t.getValue("willChange");if(OY(n))return n.add(e);if(!n&&ia.WillChange){const r=new ia.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function v4(t){return t.props[a4]}const MY=t=>t!==null;function DY(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(MY),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const RY={type:"spring",stiffness:500,damping:25,restSpeed:10},IY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),LY={type:"keyframes",duration:.8},FY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},$Y=(t,{keyframes:e})=>e.length>2?LY:bu.has(t)?t.startsWith("scale")?IY(e[1]):RY:FY;function BY({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const UP=(t,e,n,r={},i,s)=>a=>{const o=jP(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-bs(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};BY(o)||Object.assign(h,$Y(t,h)),h.duration&&(h.duration=bs(h.duration)),h.repeatDelay&&(h.repeatDelay=bs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Y_(h),h.delay===0&&(d=!0)),(ia.instantAnimations||ia.skipAnimations)&&(d=!0,Y_(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const m=DY(h.keyframes,o);if(m!==void 0){Bt.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new EP(h):new dK(h)};function UY({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function y4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const d=t.getValue(h,t.latestValues[h]??null),m=o[h];if(m===void 0||c&&UY(c,h))continue;const g={delay:n,...jP(s||{},h)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=v4(t);if(w){const _=window.MotionHandoffAnimation(w,h,Bt);_!==null&&(g.startTime=_,y=!0)}}tA(t,h),d.start(UP(h,d,m,t.shouldReduceMotion&&$3.has(h)?{type:!1}:g,t,y));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Bt.update(()=>{a&&NY(t,a)})}),l}function b4(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function nA(t,e,n={}){const r=yc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(y4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return zY(t,e,l,c,h,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function zY(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(nA(l,e,{...a,delay:n+(typeof r=="function"?0:r)+b4(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function VY(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>nA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=nA(t,e,n);else{const i=typeof e=="function"?yc(t,e,n.custom):e;r=Promise.all(y4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function x4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const WY=DP.length;function w4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?w4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<WY;n++){const r=DP[n],i=t.props[r];(ph(i)||i===!1)&&(e[r]=i)}return e}const HY=[...MP].reverse(),qY=MP.length;function GY(t){return e=>Promise.all(e.map(({animation:n,options:r})=>VY(t,n,r)))}function KY(t){let e=GY(t),n=kO(),r=!0;const i=l=>(c,h)=>{const d=yc(t,h,l==="exit"?t.presenceContext?.custom:void 0);if(d){const{transition:m,transitionEnd:g,...x}=d;c={...c,...x,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,h=w4(t.parent)||{},d=[],m=new Set;let g={},x=1/0;for(let b=0;b<qY;b++){const w=HY[b],_=n[w],A=c[w]!==void 0?c[w]:h[w],j=ph(A),P=w===l?_.isActive:null;P===!1&&(x=b);let T=A===h[w]&&A!==c[w]&&j;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...g},!_.isActive&&P===null||!A&&!_.prevProp||jv(A)||typeof A=="boolean")continue;const k=YY(_.prevProp,A);let O=k||w===l&&_.isActive&&!T&&j||b>x&&j,R=!1;const F=Array.isArray(A)?A:[A];let M=F.reduce(i(w),{});P===!1&&(M={});const{prevResolvedValues:D={}}=_,$={...D,...M},H=B=>{O=!0,m.has(B)&&(R=!0,m.delete(B)),_.needsAnimating[B]=!0;const L=t.getValue(B);L&&(L.liveStyle=!1)};for(const B in $){const L=M[B],W=D[B];if(g.hasOwnProperty(B))continue;let X=!1;eA(L)&&eA(W)?X=!x4(L,W):X=L!==W,X?L!=null?H(B):m.add(B):L!==void 0&&m.has(B)?H(B):_.protectedKeys[B]=!0}_.prevProp=A,_.prevResolvedValues=M,_.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(O=!1);const q=T&&k;O&&(!q||R)&&d.push(...F.map(B=>{const L={type:w};if(typeof B=="string"&&r&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,X=yc(W,B);if(W.enteringChildren&&X){const{delayChildren:U}=X.transition||{};L.delay=b4(W.enteringChildren,t,U)}}return{animation:B,options:L}}))}if(m.size){const b={};if(typeof c.initial!="boolean"){const w=yc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(b.transition=w.transition)}m.forEach(w=>{const _=t.getBaseTarget(w),A=t.getValue(w);A&&(A.liveStyle=!0),b[w]=_??null}),d.push({animation:b})}let y=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(d):Promise.resolve()}function o(l,c){if(n[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(d=>d.animationState?.setActive(l,c)),n[l].isActive=c;const h=a(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=kO()}}}function YY(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!x4(e,t):!1}function No(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function kO(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class XY extends ro{constructor(e){super(e),e.animationState||(e.animationState=KY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();jv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let QY=0;class ZY extends ro{constructor(){super(...arguments),this.id=QY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const JY={animation:{Feature:XY},exit:{Feature:ZY}};function gh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function bf(t){return{point:{x:t.pageX,y:t.pageY}}}const eX=t=>e=>OP(e)&&t(e,bf(e));function Qd(t,e,n,r){return gh(t,e,eX(n),r)}const S4=1e-4,tX=1-S4,nX=1+S4,_4=.01,rX=0-_4,iX=0+_4;function vr(t){return t.max-t.min}function sX(t,e,n){return Math.abs(t-e)<=n}function NO(t,e,n,r=.5){t.origin=r,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=vr(n)/vr(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tX&&t.scale<=nX||isNaN(t.scale))&&(t.scale=1),(t.translate>=rX&&t.translate<=iX||isNaN(t.translate))&&(t.translate=0)}function Zd(t,e,n,r){NO(t.x,e.x,n.x,r?r.originX:void 0),NO(t.y,e.y,n.y,r?r.originY:void 0)}function OO(t,e,n){t.min=n.min+e.min,t.max=t.min+vr(e)}function aX(t,e,n){OO(t.x,e.x,n.x),OO(t.y,e.y,n.y)}function MO(t,e,n){t.min=e.min-n.min,t.max=t.min+vr(e)}function Jd(t,e,n){MO(t.x,e.x,n.x),MO(t.y,e.y,n.y)}function bi(t){return[t("x"),t("y")]}const A4=({current:t})=>t?t.ownerDocument.defaultView:null,DO=(t,e)=>Math.abs(t-e);function oX(t,e){const n=DO(t.x,e.x),r=DO(t.y,e.y);return Math.sqrt(n**2+r**2)}class C4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Gx(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=oX(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:y}=m,{timestamp:b}=Zn;this.history.push({...y,timestamp:b});const{onStart:w,onMove:_}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=qx(g,this.transformPagePoint),Bt.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Gx(m.type==="pointercancel"?this.lastMoveEventInfo:qx(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),y&&y(m,w)},!OP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=bf(e),l=qx(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=Zn;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,Gx(l,this.history)),this.removeListeners=gf(Qd(this.contextWindow,"pointermove",this.handlePointerMove),Qd(this.contextWindow,"pointerup",this.handlePointerUp),Qd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qa(this.updatePoint)}}function qx(t,e){return e?{point:e(t.point)}:t}function RO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Gx({point:t},e){return{point:t,delta:RO(t,P4(e)),offset:RO(t,lX(e)),velocity:cX(e,.1)}}function lX(t){return t[0]}function P4(t){return t[t.length-1]}function cX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=P4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>bs(e)));)n--;if(!r)return{x:0,y:0};const s=Si(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function uX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Gt(n,t,r.max):Math.min(t,n)),t}function IO(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dX(t,{top:e,left:n,bottom:r,right:i}){return{x:IO(t.x,n,i),y:IO(t.y,e,r)}}function LO(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hX(t,e){return{x:LO(t.x,e.x),y:LO(t.y,e.y)}}function fX(t,e){let n=.5;const r=vr(t),i=vr(e);return i>r?n=dh(e.min,e.max-r,t.min):r>i&&(n=dh(t.min,t.max-i,e.min)),ra(0,1,n)}function pX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const rA=.35;function mX(t=rA){return t===!1?t=0:t===!0&&(t=rA),{x:FO(t,"left","right"),y:FO(t,"top","bottom")}}function FO(t,e,n){return{min:$O(t,e),max:$O(t,n)}}function $O(t,e){return typeof t=="number"?t:t[e]||0}const gX=new WeakMap;class vX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(bf(d).point)},a=(d,m)=>{const{drag:g,dragPropagation:x,onDragStart:y}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=TK(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bi(w=>{let _=this.getAxisMotionValue(w).get()||0;if(xs.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const j=A.layout.layoutBox[w];j&&(_=vr(j)*(parseFloat(_)/100))}}this.originPoint[w]=_}),y&&Bt.postRender(()=>y(d,m)),tA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=m;if(x&&this.currentDirection===null){this.currentDirection=yX(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),b&&b(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>bi(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new C4(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:A4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Bt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!hm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=uX(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&ac(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=dX(r.layoutBox,e):this.constraints=!1,this.elastic=mX(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&bi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=pX(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ac(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=bY(r,i.root,this.visualElement.getTransformPagePoint());let a=hX(i.layout.layoutBox,s);if(n){const o=n(gY(a));this.hasMutatedConstraints=!!o,o&&(a=c4(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=bi(h=>{if(!hm(h,n,this.currentDirection))return;let d=l&&l[h]||{};a&&(d={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return tA(this.visualElement,e),r.start(UP(e,r,0,n,this.visualElement,!1))}stopAnimation(){bi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bi(n=>{const{drag:r}=this.getProps();if(!hm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Gt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ac(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bi(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=fX({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bi(a=>{if(!hm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Gt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;gX.set(this.visualElement,this);const e=this.visualElement.current,n=Qd(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ac(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Bt.read(r);const a=gh(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bi(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=rA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function hm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function yX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bX extends ro{constructor(e){super(e),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new vX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const BO=t=>(e,n)=>{t&&Bt.postRender(()=>t(e,n))};class xX extends ro{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(e){this.session=new C4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:A4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:BO(e),onStart:BO(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Bt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Qd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function UO(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Sd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=UO(t,e.target.x),r=UO(t,e.target.y);return`${n}% ${r}%`}},wX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Za.parse(t);if(i.length>5)return r;const s=Za.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Gt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let Kx=!1;class SX extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;WK(_X),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Kx&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),qm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,Kx=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Bt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),NP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;Kx=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function E4(t){const[e,n]=LK(),r=C.useContext(s3);return f.jsx(SX,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(o4),isPresent:e,safeToRemove:n})}const _X={borderRadius:{...Sd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sd,borderTopRightRadius:Sd,borderBottomLeftRadius:Sd,borderBottomRightRadius:Sd,boxShadow:wX};function AX(t,e,n){const r=cr(t)?t:jc(t);return r.start(UP("",r,e,n)),r.animation}const CX=(t,e)=>t.depth-e.depth;class PX{constructor(){this.children=[],this.isDirty=!1}add(e){hP(this.children,e),this.isDirty=!0}remove(e){fP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CX),this.isDirty=!1,this.children.forEach(e)}}function EX(t,e){const n=Mr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Qa(r),t(s-e))};return Bt.setup(r,!0),()=>Qa(r)}const T4=["TopLeft","TopRight","BottomLeft","BottomRight"],TX=T4.length,zO=t=>typeof t=="string"?parseFloat(t):t,VO=t=>typeof t=="number"||ze.test(t);function jX(t,e,n,r,i,s){i?(t.opacity=Gt(0,n.opacity??1,kX(r)),t.opacityExit=Gt(e.opacity??1,0,NX(r))):s&&(t.opacity=Gt(e.opacity??1,n.opacity??1,r));for(let a=0;a<TX;a++){const o=`border${T4[a]}Radius`;let l=WO(e,o),c=WO(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||VO(l)===VO(c)?(t[o]=Math.max(Gt(zO(l),zO(c),r),0),(xs.test(c)||xs.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,r))}function WO(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kX=j4(0,.5,g3),NX=j4(.5,.95,Ci);function j4(t,e,n){return r=>r<t?0:r>e?1:n(dh(t,e,r))}function HO(t,e){t.min=e.min,t.max=e.max}function fi(t,e){HO(t.x,e.x),HO(t.y,e.y)}function qO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function GO(t,e,n,r,i){return t-=e,t=sg(t,1/n,r),i!==void 0&&(t=sg(t,1/i,r)),t}function OX(t,e=0,n=1,r=.5,i,s=t,a=t){if(xs.test(e)&&(e=parseFloat(e),e=Gt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Gt(s.min,s.max,r);t===s&&(o-=e),t.min=GO(t.min,e,n,o,i),t.max=GO(t.max,e,n,o,i)}function KO(t,e,[n,r,i],s,a){OX(t,e[n],e[r],e[i],e.scale,s,a)}const MX=["x","scaleX","originX"],DX=["y","scaleY","originY"];function YO(t,e,n,r){KO(t.x,e,MX,n?n.x:void 0,r?r.x:void 0),KO(t.y,e,DX,n?n.y:void 0,r?r.y:void 0)}function XO(t){return t.translate===0&&t.scale===1}function k4(t){return XO(t.x)&&XO(t.y)}function QO(t,e){return t.min===e.min&&t.max===e.max}function RX(t,e){return QO(t.x,e.x)&&QO(t.y,e.y)}function ZO(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function N4(t,e){return ZO(t.x,e.x)&&ZO(t.y,e.y)}function JO(t){return vr(t.x)/vr(t.y)}function eM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class IX{constructor(){this.members=[]}add(e){hP(this.members,e),e.scheduleRender()}remove(e){if(fP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function LX(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const Yx=["","X","Y","Z"],FX=1e3;let $X=0;function Xx(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function O4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=v4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Bt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&O4(r)}function M4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=$X++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zX),this.nodes.forEach(qX),this.nodes.forEach(GX),this.nodes.forEach(VX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new PX)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new gP),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=K3(a)&&!DK(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;Bt.read(()=>{d=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=EX(m,250),qm.hasAnimatedSinceResize&&(qm.hasAnimatedSinceResize=!1,this.nodes.forEach(rM)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||ZX,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),w=!this.targetLayout||!N4(this.targetLayout,g),_=!d&&m;if(this.options.layoutRoot||this.resumeFrom||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...jP(x,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,_)}else d||rM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qa(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(KX),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&O4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(tM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(HX),this.nodes.forEach(BX),this.nodes.forEach(UX)):this.nodes.forEach(nM),this.clearAllSnapshots();const o=Mr.now();Zn.delta=ra(0,1e3/60,o-Zn.timestamp),Zn.timestamp=o,Zn.isProcessing=!0,Fx.update.process(Zn),Fx.preRender.process(Zn),Fx.render.process(Zn),Zn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,NP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(WX),this.sharedNodes.forEach(YX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Bt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Bt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vr(this.snapshot.measuredBox.x)&&!vr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!k4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ro(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),JX(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return rn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(eQ))){const{scroll:c}=this.root;c&&(oc(o.x,c.offset.x),oc(o.y,c.offset.y))}return o}removeElementScroll(a){const o=rn();if(fi(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&fi(o,a),oc(o.x,h.offset.x),oc(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=rn();fi(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&lc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ro(h.latestValues)&&lc(l,h.latestValues)}return Ro(this.latestValues)&&lc(l,this.latestValues),l}removeTransform(a){const o=rn();fi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ro(c.latestValues))continue;Q_(c.latestValues)&&c.updateSnapshot();const h=rn(),d=c.measurePageBox();fi(h,d),YO(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Ro(this.latestValues)&&YO(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Zn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=Zn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Jd(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rn(),this.targetWithTransforms=rn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),d4(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rn(),this.relativeTargetOrigin=rn(),Jd(this.relativeTargetOrigin,this.target,m.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Q_(this.parent.latestValues)||u4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Zn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;fi(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;yY(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(qO(this.prevProjectionDelta.x,this.projectionDelta.x),qO(this.prevProjectionDelta.y,this.projectionDelta.y)),Zd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!eM(this.projectionDelta.x,this.prevProjectionDelta.x)||!eM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cc(),this.projectionDelta=cc(),this.projectionDeltaWithTransform=cc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=cc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=rn(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,b=this.getStack(),w=!b||b.members.length<=1,_=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(QX));this.animationProgress=0;let A;this.mixTargetDelta=j=>{const P=j/1e3;iM(d.x,a.x,P),iM(d.y,a.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XX(this.relativeTarget,this.relativeTargetOrigin,m,P),A&&RX(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=rn()),fi(A,this.relativeTarget)),y&&(this.animationValues=h,jX(h,c,this.latestValues,P,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qa(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Bt.update(()=>{qm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jc(0)),this.currentAnimation=AX(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(FX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&D4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||rn();const d=vr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const m=vr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}fi(o,l),lc(o,h),Zd(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new IX),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&Xx("z",a,c,this.animationValues);for(let h=0;h<Yx.length;h++)Xx(`rotate${Yx[h]}`,a,c,this.animationValues),Xx(`skew${Yx[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Hm(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Hm(o?.pointerEvents)||""),this.hasProjected&&!Ro(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=LX(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in mh){if(h[x]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:w}=mh[x],_=d==="none"?h[x]:y(h[x],c);if(b){const A=b.length;for(let j=0;j<A;j++)a[b[j]]=_}else w?this.options.visualElement.renderState.vars[x]=_:a[x]=_}this.options.layoutId&&(a.pointerEvents=c===this?Hm(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(tM),this.root.sharedNodes.clear()}}}function BX(t){t.updateLayout()}function UX(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?bi(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=vr(d);d.min=n[h].min,d.max=d.min+m}):D4(i,e.layoutBox,n)&&bi(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=vr(n[h]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=cc();Zd(a,n,e.layoutBox);const o=cc();s?Zd(o,t.applyTransform(r,!0),e.measuredBox):Zd(o,n,e.layoutBox);const l=!k4(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const g=rn();Jd(g,e.layoutBox,d.layoutBox);const x=rn();Jd(x,n,m.layoutBox),N4(g,x)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function zX(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VX(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function WX(t){t.clearSnapshot()}function tM(t){t.clearMeasurements()}function nM(t){t.isLayoutDirty=!1}function HX(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function rM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function qX(t){t.resolveTargetDelta()}function GX(t){t.calcProjection()}function KX(t){t.resetSkewAndRotation()}function YX(t){t.removeLeadSnapshot()}function iM(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function sM(t,e,n,r){t.min=Gt(e.min,n.min,r),t.max=Gt(e.max,n.max,r)}function XX(t,e,n,r){sM(t.x,e.x,n.x,r),sM(t.y,e.y,n.y,r)}function QX(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ZX={duration:.45,ease:[.4,0,.1,1]},aM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),oM=aM("applewebkit/")&&!aM("chrome/")?Math.round:Ci;function lM(t){t.min=oM(t.min),t.max=oM(t.max)}function JX(t){lM(t.x),lM(t.y)}function D4(t,e,n){return t==="position"||t==="preserve-aspect"&&!sX(JO(e),JO(n),.2)}function eQ(t){return t!==t.root&&t.scroll?.wasRoot}const tQ=M4({attachResizeListener:(t,e)=>gh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qx={current:void 0},R4=M4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qx.current){const t=new tQ({});t.mount(window),t.setOptions({layoutScroll:!0}),Qx.current=t}return Qx.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nQ={pan:{Feature:xX},drag:{Feature:bX,ProjectionNode:R4,MeasureLayout:E4}};function cM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Bt.postRender(()=>s(e,bf(e)))}class rQ extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=jK(e,(n,r)=>(cM(this.node,r,"Start"),i=>cM(this.node,i,"End"))))}unmount(){}}class iQ extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=gf(gh(this.node.current,"focus",()=>this.onFocus()),gh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Bt.postRender(()=>s(e,bf(e)))}class sQ extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=MK(e,(n,r)=>(uM(this.node,r,"Start"),(i,{success:s})=>uM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iA=new WeakMap,Zx=new WeakMap,aQ=t=>{const e=iA.get(t.target);e&&e(t)},oQ=t=>{t.forEach(aQ)};function lQ({root:t,...e}){const n=t||document;Zx.has(n)||Zx.set(n,{});const r=Zx.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(oQ,{root:t,...e})),r[i]}function cQ(t,e,n){const r=lQ(e);return iA.set(t,n),r.observe(t),()=>{iA.delete(t),r.unobserve(t)}}const uQ={some:0,all:1};class dQ extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uQ[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return cQ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(hQ(e,n))&&this.startObserver()}unmount(){}}function hQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const fQ={inView:{Feature:dQ},tap:{Feature:sQ},focus:{Feature:iQ},hover:{Feature:rQ}},pQ={layout:{ProjectionNode:R4,MeasureLayout:E4}},mQ={...JY,...fQ,...nQ,...pQ},_d=mY(mQ,TY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),dM=t=>{const e=vQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},I4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...yQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:I4("lucide",i),...o},[...a.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(bQ,{ref:s,iconNode:e,className:I4(`lucide-${gQ(dM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=dM(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],wQ=Ae("arrow-down-left",xQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Nv=Ae("arrow-left",SQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AQ=Ae("arrow-right",_Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],PQ=Ae("arrow-up-right",CQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],zP=Ae("banknote",EQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jQ=Ae("book-open",TQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],VP=Ae("building-2",kQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ka=Ae("calendar",NQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OQ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],MQ=Ae("camera",OQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],RQ=Ae("car",DQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],LQ=Ae("chart-column",IQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],hM=Ae("chart-pie",FQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ov=Ae("check",$Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],L4=Ae("chevron-down",BQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],zQ=Ae("chevron-left",UQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],F4=Ae("chevron-right",VQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],HQ=Ae("chevron-up",WQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nc=Ae("circle-alert",qQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],$4=Ae("circle-arrow-up",GQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fM=Ae("circle-check",KQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],XQ=Ae("circle-dollar-sign",YQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZQ=Ae("copy",QQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],WP=Ae("credit-card",JQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],tZ=Ae("crown",eZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],rZ=Ae("download",nZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],sZ=Ae("ellipsis-vertical",iZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],B4=Ae("ellipsis",aZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lZ=Ae("file-text",oZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],uZ=Ae("file",cZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],hZ=Ae("film",dZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],pZ=Ae("funnel",fZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],gZ=Ae("graduation-cap",mZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],Oc=Ae("hand-coins",vZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],bZ=Ae("heart",yZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],wZ=Ae("house",xZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],_Z=Ae("image",SZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],CZ=Ae("info",AZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],EZ=Ae("languages",PZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],pM=Ae("lightbulb",TZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kZ=Ae("lock",jZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],OZ=Ae("log-out",NZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],DZ=Ae("menu",MZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],IZ=Ae("pen",RZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],FZ=Ae("pencil",LZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Zr=Ae("plus",$Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],ag=Ae("receipt",BZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],og=Ae("refresh-cw",UZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],VZ=Ae("search",zZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HZ=Ae("settings",WZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],GZ=Ae("shopping-bag",qZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],YZ=Ae("shopping-cart",KZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],QZ=Ae("smartphone",XZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],JZ=Ae("sparkles",ZZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],U4=Ae("tag",eJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],eh=Ae("target",tJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mv=Ae("trash-2",nJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Zo=Ae("trending-down",rJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Ei=Ae("trending-up",iJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],HP=Ae("upload",sJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],qP=Ae("user",aJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],bc=Ae("users",oJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],cJ=Ae("utensils",lJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],xu=Ae("wallet",uJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wu=Ae("x",dJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],GP=Ae("zap",hJ);function fJ({onCreateFamily:t,onJoinFamily:e}){return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-tertiary/5",children:f.jsxs(_d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[f.jsxs(et,{className:"elevation-4 overflow-hidden border-2 border-outline-variant/50",children:[f.jsxs(At,{className:"text-center pb-6 pt-8 bg-gradient-to-b from-primary-container/20 to-transparent",children:[f.jsx(_d.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-7xl mb-4",children:""}),f.jsx(Ct,{className:"text-3xl",children:"KharchaPal"}),f.jsx(sn,{className:"mt-3 text-base",children:"Your simple household expense tracker for the whole family"})]}),f.jsxs(xt,{className:"space-y-4 pt-2 pb-8",children:[f.jsx(_d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:f.jsxs(ve,{onClick:t,className:"w-full h-14 bg-primary hover:bg-primary/90 elevation-2 hover:elevation-3 transition-all duration-200 rounded-xl",children:[f.jsx(JZ,{className:"h-5 w-5 mr-2"}),"I'm Family Head - Create Family"]})}),f.jsx(_d.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:f.jsxs(ve,{variant:"outline",className:"w-full h-14 border-2 border-outline/50 bg-surface-variant/20 transition-all duration-200 rounded-xl cursor-not-allowed opacity-60",children:[f.jsx(bc,{className:"h-5 w-5 mr-2"}),"Join Family - Coming Soon"]})}),f.jsx(_d.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"pt-8 space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-primary-container/20 border border-primary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-primary/10 shrink-0",children:f.jsx(xu,{className:"h-4 w-4 text-primary"})}),f.jsx("p",{className:"text-sm text-on-surface",children:"Track expenses & income together with your family"})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-tertiary-container/20 border border-tertiary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-tertiary/10 shrink-0 text-sm",children:""}),f.jsx("p",{className:"text-sm text-on-surface",children:"Split payments across UPI, Cash & Card"})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary-container/20 border border-secondary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-secondary/10 shrink-0 text-sm",children:""}),f.jsx("p",{className:"text-sm text-on-surface",children:"Manage IOUs and set budgets"})]})]})})]})]}),f.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"Offline-first  Privacy-focused  Made for Indian families"})]})})}function Mt({className:t,type:e,...n}){return f.jsx("input",{type:e,"data-slot":"input",className:Fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-outline-variant flex h-11 w-full min-w-0 rounded-xl border-2 px-4 py-2 text-base bg-surface-variant/30 transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-primary focus-visible:bg-surface-variant/50 focus-visible:ring-primary/20 focus-visible:ring-[3px]","hover:border-outline hover:bg-surface-variant/40","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var xf=zB();const z4=gt(xf);var pJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mJ=pJ.reduce((t,e)=>{const n=mf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),gJ="Label",V4=C.forwardRef((t,e)=>f.jsx(mJ.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));V4.displayName=gJ;var vJ=V4;function Oe({className:t,...e}){return f.jsx(vJ,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Gn=[];for(let t=0;t<256;++t)Gn.push((t+256).toString(16).slice(1));function yJ(t,e=0){return(Gn[t[e+0]]+Gn[t[e+1]]+Gn[t[e+2]]+Gn[t[e+3]]+"-"+Gn[t[e+4]]+Gn[t[e+5]]+"-"+Gn[t[e+6]]+Gn[t[e+7]]+"-"+Gn[t[e+8]]+Gn[t[e+9]]+"-"+Gn[t[e+10]]+Gn[t[e+11]]+Gn[t[e+12]]+Gn[t[e+13]]+Gn[t[e+14]]+Gn[t[e+15]]).toLowerCase()}let Jx;const bJ=new Uint8Array(16);function xJ(){if(!Jx){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Jx=crypto.getRandomValues.bind(crypto)}return Jx(bJ)}const wJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mM={randomUUID:wJ};function SJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??xJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,yJ(r)}function Dv(t,e,n){return mM.randomUUID&&!t?mM.randomUUID():SJ(t)}function ln(){return Dv()}function _J(){return Math.random().toString(36).substring(2,8).toUpperCase()}function Ne(t,e="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:e,maximumFractionDigits:2}).format(t)}function Cs(t){const e=typeof t=="string"?new Date(t):t;if(isNaN(e.getTime()))return"Unknown Date";const n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),e.toDateString()===n.toDateString()?"Today":e.toDateString()===r.toDateString()?"Yesterday":e.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:e.getFullYear()!==n.getFullYear()?"numeric":void 0})}function AJ(t){return(typeof t=="string"?new Date(t):t).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function W4(t){switch(t){case"cash":return"";case"upi":return"";case"card":return"";case"borrowed":return"";default:return""}}function CJ(t){switch(t){case"cash":return"Cash";case"upi":return"UPI";case"card":return"Card";case"borrowed":return"Borrowed";default:return t}}function lg(t){return{Groceries:"",Utilities:"",Rent:"",Transportation:"",Healthcare:"",Education:"",Entertainment:"","Food & Dining":"",Shopping:"","Household Items":"","Personal Care":"",Gifts:"",Other:""}[t]||""}function PJ(t,e){if(e.length===0)return{valid:!1,error:"At least one payment method is required"};const n=e.reduce((i,s)=>i+s.amount,0);if(Math.abs(n-t)>.01)return{valid:!1,error:`Split amounts (${n.toFixed(2)}) must equal total (${t.toFixed(2)})`};for(const i of e)if(i.amount<=0)return{valid:!1,error:"Payment amounts must be greater than 0"};return{valid:!0}}function Mc(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)}function EJ({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=ot(),[i,s]=C.useState(1),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(""),[m,g]=C.useState(!1),x=async()=>{if(!(!a.trim()||!l.trim())){g(!0);try{const y=ln(),b=ln(),w=_J(),_={id:y,name:a.trim(),created_at:new Date().toISOString(),invite_code:w,currency:"INR"},A={id:b,family_id:y,name:l.trim(),phone:h.trim()||void 0,role:"admin",created_at:new Date().toISOString()};await rt.addFamily(_),await rt.addUser(A),r(_),n(A),t()}catch(y){console.error("Failed to create family:",y),alert("Failed to create family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(et,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Create Your Family"}),f.jsx(sn,{children:i===1?"Let's start by setting up your family account":"Almost done! Tell us about yourself"})]}),f.jsx(xt,{className:"space-y-4",children:i===1?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"familyName",children:"Family Name"}),f.jsx(Mt,{id:"familyName",placeholder:"e.g., Sharma Family",value:a,onChange:y=>o(y.target.value),onKeyDown:y=>y.key==="Enter"&&a.trim()&&s(2)})]}),f.jsxs("div",{className:"flex gap-2",children:[e&&f.jsx(ve,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ve,{onClick:()=>s(2),disabled:!a.trim(),className:e?"flex-1":"w-full",children:"Continue"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"adminName",children:"Your Name"}),f.jsx(Mt,{id:"adminName",placeholder:"e.g., Priya Sharma",value:l,onChange:y=>c(y.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"adminPhone",children:"Phone Number (optional)"}),f.jsx(Mt,{id:"adminPhone",type:"tel",placeholder:"+91 9876543210",value:h,onChange:y=>d(y.target.value)})]}),f.jsx("div",{className:"bg-primary-container/30 p-4 rounded-lg border border-primary/20",children:f.jsxs("p",{className:"text-sm text-on-primary-container",children:[f.jsx("strong",{children:"You'll be the Admin"}),"  You can view all family expenses and manage members."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:()=>s(1),className:"flex-1",children:"Back"}),f.jsx(ve,{onClick:x,disabled:!l.trim()||m,className:"flex-1",children:m?"Creating...":"Create Family"})]})]})})]})})}function TJ({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=ot(),[i,s]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(null),[m,g]=C.useState(!1),[x,y]=C.useState(""),b=async()=>{if(i.trim()){g(!0),y("");try{const A=(await rt.getAll("families")).find(j=>j.invite_code.toLowerCase()===i.trim().toLowerCase());A?d(A):y("Invalid invite code. Please check and try again.")}catch(_){console.error("Failed to search family:",_),y("Something went wrong. Please try again.")}finally{g(!1)}}},w=async()=>{if(!(!h||!a.trim())){g(!0);try{const A={id:ln(),family_id:h.id,name:a.trim(),phone:l.trim()||void 0,role:"member",created_at:new Date().toISOString()};await rt.addUser(A),r(h),n(A),t()}catch(_){console.error("Failed to join family:",_),alert("Failed to join family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(et,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Join a Family"}),f.jsx(sn,{children:h?`Join ${h.name}`:"Enter the invite code shared by your family admin"})]}),f.jsx(xt,{className:"space-y-4",children:h?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-tertiary-container/30 p-4 rounded-lg border border-tertiary/20",children:f.jsxs("p",{className:"text-sm text-on-tertiary-container",children:[" Family found: ",f.jsx("strong",{children:h.name})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"memberName",children:"Your Name"}),f.jsx(Mt,{id:"memberName",placeholder:"e.g., Rohit Sharma",value:a,onChange:_=>o(_.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"memberPhone",children:"Phone Number (optional)"}),f.jsx(Mt,{id:"memberPhone",type:"tel",placeholder:"+91 9876543210",value:l,onChange:_=>c(_.target.value)})]}),f.jsx("div",{className:"bg-secondary-container/30 p-4 rounded-lg border border-secondary/20",children:f.jsxs("p",{className:"text-sm text-on-secondary-container",children:[f.jsx("strong",{children:"You'll be a Member"}),"  You can track your own expenses and view shared family data."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:()=>{d(null),s("")},className:"flex-1",children:"Back"}),f.jsx(ve,{onClick:w,disabled:!a.trim()||m,className:"flex-1",children:m?"Joining...":"Join Family"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"inviteCode",children:"Invite Code"}),f.jsx(Mt,{id:"inviteCode",placeholder:"e.g., ABC123",value:i,onChange:_=>{s(_.target.value.toUpperCase()),y("")},onKeyDown:_=>_.key==="Enter"&&i.trim()&&b(),maxLength:6}),x&&f.jsx("p",{className:"text-sm text-red-500",children:x})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ve,{onClick:b,disabled:!i.trim()||m,className:"flex-1",children:m?"Searching...":"Continue"})]})]})})]})})}function jJ(){const{currentUser:t,currentFamily:e,expenses:n,income:r,debts:i,users:s}=ot(),a=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(o.getFullYear(),o.getMonth(),1),h=t?.role==="admin"?n:n.filter(T=>T.is_shared||T.created_by===t?.id),d=t?.role==="admin"?r:r.filter(T=>T.is_shared||T.created_by===t?.id),m=h.filter(T=>new Date(T.date)>=l),g=h.filter(T=>new Date(T.date)>=c),x=d.filter(T=>new Date(T.date)>=c),y=m.reduce((T,k)=>T+k.total_amount,0),b=g.reduce((T,k)=>T+k.total_amount,0),w=x.reduce((T,k)=>T+k.amount,0),_=i.filter(T=>T.status==="open"&&T.borrower_user_id===t?.id),A=i.filter(T=>T.status==="open"&&T.lender_user_id===t?.id),j=_.reduce((T,k)=>T+k.amount,0),P=A.reduce((T,k)=>T+k.amount,0);return{todayTotal:y,monthTotal:b,monthIncomeTotal:w,todayCount:m.length,monthCount:g.length,totalOwed:j,totalOwedToMe:P,activeMembers:s.length,netBalance:w-b}},[n,r,i,t,s]);return f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(et,{className:"bg-error-container/30 border-destructive/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1.5 text-on-error-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-destructive/10",children:f.jsx(Zo,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Expenses (Month)"})]}),f.jsx(Ct,{className:"text-destructive text-2xl",children:Ne(a.monthTotal,e?.currency)})]}),f.jsx(xt,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.monthCount," ",a.monthCount===1?"expense":"expenses"]})})]}),f.jsxs(et,{className:"bg-success-container/20 border-success/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1.5 text-on-success-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-success/10",children:f.jsx(Ei,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Income (Month)"})]}),f.jsx(Ct,{className:"text-success text-2xl",children:Ne(a.monthIncomeTotal,e?.currency)})]}),f.jsx(xt,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Net: ",f.jsx("span",{className:a.netBalance>=0?"text-success":"text-destructive",children:Ne(a.netBalance,e?.currency)})]})})]}),t?.role==="admin"&&f.jsx(et,{className:"bg-primary-container/30 border-primary/20 elevation-1 hover:elevation-3 transition-all duration-300",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1.5 text-on-primary-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-primary/10",children:f.jsx(bc,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Family Members"})]}),f.jsx(Ct,{className:"text-xl text-primary",children:a.activeMembers})]})})]})}const kJ={groceries:YZ,food:cJ,transport:RQ,shopping:GZ,utilities:GP,entertainment:hZ,health:bZ,education:gZ,other:B4},gM={groceries:"bg-green-100 dark:bg-green-950/30 text-green-600 dark:text-green-400",food:"bg-orange-100 dark:bg-orange-950/30 text-orange-600 dark:text-orange-400",transport:"bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400",shopping:"bg-pink-100 dark:bg-pink-950/30 text-pink-600 dark:text-pink-400",utilities:"bg-purple-100 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400",entertainment:"bg-red-100 dark:bg-red-950/30 text-red-600 dark:text-red-400",health:"bg-teal-100 dark:bg-teal-950/30 text-teal-600 dark:text-teal-400",education:"bg-indigo-100 dark:bg-indigo-950/30 text-indigo-600 dark:text-indigo-400",other:"bg-gray-100 dark:bg-gray-950/30 text-gray-600 dark:text-gray-400"};function NJ(){const{expenses:t,currentUser:e,currentFamily:n}=ot(),r=C.useMemo(()=>{const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),1),o=(e?.role==="admin"?t:t.filter(d=>d.is_shared||d.created_by===e?.id)).filter(d=>new Date(d.date)>=s),l={};o.forEach(d=>{l[d.category]||(l[d.category]=0),l[d.category]+=d.total_amount});const c=Object.values(l).reduce((d,m)=>d+m,0);return Object.entries(l).map(([d,m])=>({category:d,amount:m,percentage:c>0?Math.round(m/c*100):0})).sort((d,m)=>m.amount-d.amount).slice(0,5)},[t,e]);return r.length===0?null:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Ei,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{children:"Top Spending"})]}),f.jsx("div",{className:"space-y-2",children:r.map(({category:i,amount:s,percentage:a})=>{const o=kJ[i]||B4,l=gM[i]||gM.other;return f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-card border border-border hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center shrink-0 ${l}`,children:f.jsx(o,{className:"h-6 w-6"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium capitalize",children:i}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Ne(s,n?.currency)})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsxs("p",{className:"font-semibold text-lg",children:[a,"%"]})})]},i)})})]})}function OJ(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,MJ(i,...e)]}function MJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var DJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],H4=DJ.reduce((t,e)=>{const n=mf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),KP="Progress",YP=100,[RJ]=OJ(KP),[IJ,LJ]=RJ(KP),q4=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=FJ,...a}=t;(i||i===0)&&!vM(i)&&console.error($J(`${i}`,"Progress"));const o=vM(i)?i:YP;r!==null&&!yM(r,o)&&console.error(BJ(`${r}`,"Progress"));const l=yM(r,o)?r:null,c=cg(l)?s(l,o):void 0;return f.jsx(IJ,{scope:n,value:l,max:o,children:f.jsx(H4.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":cg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Y4(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});q4.displayName=KP;var G4="ProgressIndicator",K4=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=LJ(G4,n);return f.jsx(H4.div,{"data-state":Y4(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});K4.displayName=G4;function FJ(t,e){return`${Math.round(t/e*100)}%`}function Y4(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function cg(t){return typeof t=="number"}function vM(t){return cg(t)&&!isNaN(t)&&t>0}function yM(t,e){return cg(t)&&!isNaN(t)&&t<=e&&t>=0}function $J(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${YP}\`.`}function BJ(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${YP} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var UJ=q4,zJ=K4;function Rv({className:t,value:e,...n}){return f.jsx(UJ,{"data-slot":"progress",className:Fe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:f.jsx(zJ,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const bM={en:{"app.name":"KharchaPal",welcome:"Namaste",quick_add:"Quick Add",quick_add_desc:"Type: 200 Uber",import_upi:"Import UPI",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"Recent Transactions",expenses:"Expenses",income:"Income",savings_goals:"Savings Goals",more_options:"More Options",reports:"Reports & Charts",about:"About App",budgets:"Monthly Budgets",accounts:"Bank Accounts",debts:"Debts & Loans",family:"Family Members",guide:"Quick Guide",settings:"Settings",language:"Language",select_language:"Select Language",add_expense:"Add Expense",save:"Save",cancel:"Cancel",amount:"Amount",category:"Category",date:"Date",notes:"Notes",borrowed:"Borrowed",borrowed_from:"Borrowed from",paid_by:"Paid by",split_payment:"Split Payment",shared_expense:"Shared Expense",goal_transfer:"Transfer to Goal",total_balance:"Total Balance",monthly_spending:"Monthly Spending",view_all:"View All",home:"Home",transactions:"Transactions",goals:"Goals",more:"More"},hi:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"  ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:"   ",budgets:" ",accounts:" ",debts:"  ",family:"  ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:"  ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},mr:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:" ",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},ta:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:" & ",about:" ",budgets:"  ",accounts:" ",debts:"",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:"",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:"",split_payment:" ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},gu:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:"  ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""}},X4=C.createContext(void 0);function VJ({children:t}){const[e,n]=C.useState(()=>localStorage.getItem("kharchapal_language")||"en");C.useEffect(()=>{localStorage.setItem("kharchapal_language",e)},[e]);const r=i=>bM[e][i]||bM.en[i]||i;return f.jsx(X4.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function hl(){const t=C.useContext(X4);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function WJ(){const{budgets:t,expenses:e}=ot(),{t:n}=hl(),r=C.useMemo(()=>{const i=new Date,s=i.getMonth(),a=i.getFullYear(),o=t.filter(x=>x.period==="monthly");if(o.length===0)return null;const l=o.reduce((x,y)=>x+y.limit_amount,0),c=new Set(o.map(x=>x.category)),d=e.filter(x=>{const y=new Date(x.date);return isNaN(y.getTime())?!1:y.getMonth()===s&&y.getFullYear()===a&&c.has(x.category)}).reduce((x,y)=>x+y.total_amount,0),m=Math.min(Math.round(d/l*100),100);let g="bg-primary";return m>=90?g="bg-destructive":m>=75&&(g="bg-orange-500"),{totalBudgetLimit:l,totalSpent:d,percentage:m,statusColor:g,count:o.length}},[t,e]);return r?f.jsxs(et,{className:"bg-gradient-to-br from-surface-variant/30 to-surface-variant/10 border-surface-variant/50 overflow-hidden",children:[f.jsx(At,{className:"pb-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ct,{className:"text-base font-medium flex items-center gap-2",children:[f.jsx(Ei,{className:"h-4 w-4 text-primary"}),n("monthly_budget")]}),f.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-surface-variant text-on-surface-variant",children:[r.count," ",n("categories")]})]})}),f.jsx(xt,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsxs("span",{className:"text-2xl font-bold",children:["",r.totalSpent.toLocaleString("en-IN")]}),f.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["/ ",r.totalBudgetLimit.toLocaleString("en-IN")]})]}),f.jsxs("span",{className:`font-bold ${r.percentage>=90?"text-destructive":r.percentage>=75?"text-orange-600":"text-primary"}`,children:[r.percentage,"%"]})]}),f.jsx(Rv,{value:r.percentage,className:"h-2",indicatorClassName:r.statusColor}),r.percentage>=90&&f.jsxs("div",{className:"flex items-center gap-2 text-xs text-destructive mt-2 bg-destructive/10 p-2 rounded-lg",children:[f.jsx(Nc,{className:"h-3 w-3"}),f.jsx("span",{children:"You've almost reached your budget limit!"})]})]})})]}):null}function HJ(){const{debts:t,currentUser:e}=ot(),{t:n}=hl(),r=C.useMemo(()=>{if(!e)return null;const i=t.filter(o=>o.status==="open");if(i.length===0)return null;const s=i.filter(o=>o.borrower_user_id===e.id).reduce((o,l)=>o+l.amount,0),a=i.filter(o=>o.lender_user_id===e.id).reduce((o,l)=>o+l.amount,0);return s===0&&a===0?null:{youOwe:s,owedToYou:a}},[t,e]);return r?f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.youOwe>0&&f.jsx(et,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200 dark:border-orange-800",children:f.jsxs(xt,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/40 rounded-full",children:f.jsx(PQ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:n("you_owe")})]}),f.jsxs("span",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:["",r.youOwe.toLocaleString("en-IN")]})]})}),r.owedToYou>0&&f.jsx(et,{className:"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",children:f.jsxs(xt,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/40 rounded-full",children:f.jsx(wQ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:n("owed_to_you")})]}),f.jsxs("span",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:["",r.owedToYou.toLocaleString("en-IN")]})]})})]}):null}const qJ=lP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function yn({className:t,variant:e,asChild:n=!1,...r}){const i=n?HB:"span";return f.jsx(i,{"data-slot":"badge",className:Fe(qJ({variant:e}),t),...r})}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function GJ(t,e){const n=C.createContext(e),r=s=>{const{children:a,...o}=s,l=C.useMemo(()=>o,Object.values(o));return f.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Oi(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a),l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,KJ(i,...e)]}function KJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var bn=globalThis?.document?C.useLayoutEffect:()=>{},YJ=oP[" useId ".trim().toString()]||(()=>{}),XJ=0;function Ki(t){const[e,n]=C.useState(YJ());return bn(()=>{n(r=>r??String(XJ++))},[t]),t||(e?`radix-${e}`:"")}var QJ=oP[" useInsertionEffect ".trim().toString()]||bn;function sa({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=ZJ({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const d=h.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const c=C.useCallback(h=>{if(o){const d=JJ(h)?h(t):h;d!==t&&a.current?.(d)}else s(h)},[o,t,s,a]);return[l,c]}function ZJ({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return QJ(()=>{s.current=e},[e]),C.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function JJ(t){return typeof t=="function"}function eee(t){const e=tee(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(ree);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function tee(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=see(i),o=iee(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var nee=Symbol("radix.slottable");function ree(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===nee}function iee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function see(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var aee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=aee.reduce((t,e)=>{const n=eee(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Q4(t,e){t&&xf.flushSync(()=>t.dispatchEvent(e))}function Fn(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function oee(t,e=globalThis?.document){const n=Fn(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var lee="DismissableLayer",sA="dismissableLayer.update",cee="dismissableLayer.pointerDownOutside",uee="dismissableLayer.focusOutside",xM,Z4=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wf=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=C.useContext(Z4),[h,d]=C.useState(null),m=h?.ownerDocument??globalThis?.document,[,g]=C.useState({}),x=Ze(e,k=>d(k)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),_=h?y.indexOf(h):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,j=_>=w,P=fee(k=>{const O=k.target,R=[...c.branches].some(F=>F.contains(O));!j||R||(i?.(k),a?.(k),k.defaultPrevented||o?.())},m),T=pee(k=>{const O=k.target;[...c.branches].some(F=>F.contains(O))||(s?.(k),a?.(k),k.defaultPrevented||o?.())},m);return oee(k=>{_===c.layers.size-1&&(r?.(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},m),C.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(xM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),wM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=xM)}},[h,m,n,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),wM())},[h,c]),C.useEffect(()=>{const k=()=>g({});return document.addEventListener(sA,k),()=>document.removeEventListener(sA,k)},[]),f.jsx(Be.div,{...l,ref:x,style:{pointerEvents:A?j?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,T.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,P.onPointerDownCapture)})});wf.displayName=lee;var dee="DismissableLayerBranch",hee=C.forwardRef((t,e)=>{const n=C.useContext(Z4),r=C.useRef(null),i=Ze(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(Be.div,{...t,ref:i})});hee.displayName=dee;function fee(t,e=globalThis?.document){const n=Fn(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){J4(cee,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function pee(t,e=globalThis?.document){const n=Fn(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&J4(uee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function wM(){const t=new CustomEvent(sA);document.dispatchEvent(t)}function J4(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Q4(i,s):i.dispatchEvent(s)}var e0="focusScope.autoFocusOnMount",t0="focusScope.autoFocusOnUnmount",SM={bubbles:!1,cancelable:!0},mee="FocusScope",Sf=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=C.useState(null),c=Fn(i),h=Fn(s),d=C.useRef(null),m=Ze(e,y=>l(y)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(A){if(g.paused||!o)return;const j=A.target;o.contains(j)?d.current=j:za(d.current,{select:!0})},b=function(A){if(g.paused||!o)return;const j=A.relatedTarget;j!==null&&(o.contains(j)||za(d.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const P of A)P.removedNodes.length>0&&za(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const _=new MutationObserver(w);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),_.disconnect()}}},[r,o,g.paused]),C.useEffect(()=>{if(o){AM.add(g);const y=document.activeElement;if(!o.contains(y)){const w=new CustomEvent(e0,SM);o.addEventListener(e0,c),o.dispatchEvent(w),w.defaultPrevented||(gee(wee(e5(o)),{select:!0}),document.activeElement===y&&za(o))}return()=>{o.removeEventListener(e0,c),setTimeout(()=>{const w=new CustomEvent(t0,SM);o.addEventListener(t0,h),o.dispatchEvent(w),w.defaultPrevented||za(y??document.body,{select:!0}),o.removeEventListener(t0,h),AM.remove(g)},0)}}},[o,c,h,g]);const x=C.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const _=y.currentTarget,[A,j]=vee(_);A&&j?!y.shiftKey&&w===j?(y.preventDefault(),n&&za(A,{select:!0})):y.shiftKey&&w===A&&(y.preventDefault(),n&&za(j,{select:!0})):w===_&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(Be.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});Sf.displayName=mee;function gee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(za(r,{select:e}),document.activeElement!==n)return}function vee(t){const e=e5(t),n=_M(e,t),r=_M(e.reverse(),t);return[n,r]}function e5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function _M(t,e){for(const n of t)if(!yee(n,{upTo:e}))return n}function yee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function bee(t){return t instanceof HTMLInputElement&&"select"in t}function za(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&bee(t)&&e&&t.select()}}var AM=xee();function xee(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=CM(t,e),t.unshift(e)},remove(e){t=CM(t,e),t[0]?.resume()}}}function CM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wee(t){return t.filter(e=>e.tagName!=="A")}var See="Portal",_f=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=C.useState(!1);bn(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?z4.createPortal(f.jsx(Be.div,{...r,ref:e}),a):null});_f.displayName=See;function _ee(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var wr=t=>{const{present:e,children:n}=t,r=Aee(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Ze(r.ref,Cee(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};wr.displayName="Presence";function Aee(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[o,l]=_ee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=fm(r.current);s.current=o==="mounted"?c:"none"},[o]),bn(()=>{const c=r.current,h=i.current;if(h!==t){const m=s.current,g=fm(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),bn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=g=>{const y=fm(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(s.current=fm(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function fm(t){return t?.animationName||"none"}function Cee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var n0=0;function Iv(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PM()),document.body.insertAdjacentElement("beforeend",t[1]??PM()),n0++,()=>{n0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),n0--}},[])}function PM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var hs=function(){return hs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hs.apply(this,arguments)};function t5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Pee(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Gm="right-scroll-bar-position",Km="width-before-scroll-bar",Eee="with-scroll-bars-hidden",Tee="--removed-body-scroll-bar-size";function r0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function jee(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var kee=typeof window<"u"?C.useLayoutEffect:C.useEffect,EM=new WeakMap;function Nee(t,e){var n=jee(null,function(r){return t.forEach(function(i){return r0(i,r)})});return kee(function(){var r=EM.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||r0(o,null)}),s.forEach(function(o){i.has(o)||r0(o,a)})}EM.set(n,t)},[t]),n}function Oee(t){return t}function Mee(t,e){e===void 0&&(e=Oee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var h=a;a=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){a.push(h),c()},filter:function(h){return a=a.filter(h),n}}}};return i}function Dee(t){t===void 0&&(t={});var e=Mee(null);return e.options=hs({async:!0,ssr:!1},t),e}var n5=function(t){var e=t.sideCar,n=t5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,hs({},n))};n5.isSideCarExport=!0;function Ree(t,e){return t.useMedium(e),n5}var r5=Dee(),i0=function(){},Lv=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:i0,onWheelCapture:i0,onTouchMoveCapture:i0}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,d=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,y=t.inert,b=t.allowPinchZoom,w=t.as,_=w===void 0?"div":w,A=t.gapMode,j=t5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,T=Nee([n,e]),k=hs(hs({},j),i);return C.createElement(C.Fragment,null,h&&C.createElement(P,{sideCar:r5,removeScrollBar:c,shards:d,noRelative:g,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:A}),a?C.cloneElement(C.Children.only(o),hs(hs({},k),{ref:T})):C.createElement(_,hs({},k,{className:l,ref:T}),o))});Lv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Lv.classNames={fullWidth:Km,zeroRight:Gm};var Iee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Lee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Iee();return e&&t.setAttribute("nonce",e),t}function Fee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $ee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Bee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Lee())&&(Fee(e,n),$ee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Uee=function(){var t=Bee();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},i5=function(){var t=Uee(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},zee={left:0,top:0,right:0,gap:0},s0=function(t){return parseInt(t||"",10)||0},Vee=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[s0(n),s0(r),s0(i)]},Wee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return zee;var e=Vee(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Hee=i5(),xc="data-scroll-locked",qee=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Eee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(xc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gm,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gm," .").concat(Gm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xc,`] {
    `).concat(Tee,": ").concat(o,`px;
  }
`)},TM=function(){var t=parseInt(document.body.getAttribute(xc)||"0",10);return isFinite(t)?t:0},Gee=function(){C.useEffect(function(){return document.body.setAttribute(xc,(TM()+1).toString()),function(){var t=TM()-1;t<=0?document.body.removeAttribute(xc):document.body.setAttribute(xc,t.toString())}},[])},Kee=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Gee();var s=C.useMemo(function(){return Wee(i)},[i]);return C.createElement(Hee,{styles:qee(s,!e,i,n?"":"!important")})},aA=!1;if(typeof window<"u")try{var pm=Object.defineProperty({},"passive",{get:function(){return aA=!0,!0}});window.addEventListener("test",pm,pm),window.removeEventListener("test",pm,pm)}catch{aA=!1}var Gl=aA?{passive:!1}:!1,Yee=function(t){return t.tagName==="TEXTAREA"},s5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yee(t)&&n[e]==="visible")},Xee=function(t){return s5(t,"overflowY")},Qee=function(t){return s5(t,"overflowX")},jM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=a5(t,r);if(i){var s=o5(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Zee=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Jee=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},a5=function(t,e){return t==="v"?Xee(e):Qee(e)},o5=function(t,e){return t==="v"?Zee(e):Jee(e)},ete=function(t,e){return t==="h"&&e==="rtl"?-1:1},tte=function(t,e,n,r,i){var s=ete(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,h=a>0,d=0,m=0;do{if(!o)break;var g=o5(t,o),x=g[0],y=g[1],b=g[2],w=y-b-s*x;(x||w)&&a5(t,o)&&(d+=w,m+=x);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(c=!0),c},mm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},kM=function(t){return[t.deltaX,t.deltaY]},NM=function(t){return t&&"current"in t?t.current:t},nte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},rte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ite=0,Kl=[];function ste(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(ite++)[0],s=C.useState(i5)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=Pee([t.lockRef.current],(t.shards||[]).map(NM),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=mm(y),_=n.current,A="deltaX"in y?y.deltaX:_[0]-w[0],j="deltaY"in y?y.deltaY:_[1]-w[1],P,T=y.target,k=Math.abs(A)>Math.abs(j)?"h":"v";if("touches"in y&&k==="h"&&T.type==="range")return!1;var O=jM(k,T);if(!O)return!0;if(O?P=k:(P=k==="v"?"h":"v",O=jM(k,T)),!O)return!1;if(!r.current&&"changedTouches"in y&&(A||j)&&(r.current=P),!P)return!0;var R=r.current||P;return tte(R,b,y,R==="h"?A:j)},[]),l=C.useCallback(function(y){var b=y;if(!(!Kl.length||Kl[Kl.length-1]!==s)){var w="deltaY"in b?kM(b):mm(b),_=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&nte(P.delta,w)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var A=(a.current.shards||[]).map(NM).filter(Boolean).filter(function(P){return P.contains(b.target)}),j=A.length>0?o(b,A[0]):!a.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),c=C.useCallback(function(y,b,w,_){var A={name:y,delta:b,target:w,should:_,shadowParent:ate(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(j){return j!==A})},1)},[]),h=C.useCallback(function(y){n.current=mm(y),r.current=void 0},[]),d=C.useCallback(function(y){c(y.type,kM(y),y.target,o(y,t.lockRef.current))},[]),m=C.useCallback(function(y){c(y.type,mm(y),y.target,o(y,t.lockRef.current))},[]);C.useEffect(function(){return Kl.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Gl),document.addEventListener("touchmove",l,Gl),document.addEventListener("touchstart",h,Gl),function(){Kl=Kl.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,Gl),document.removeEventListener("touchmove",l,Gl),document.removeEventListener("touchstart",h,Gl)}},[]);var g=t.removeScrollBar,x=t.inert;return C.createElement(C.Fragment,null,x?C.createElement(s,{styles:rte(i)}):null,g?C.createElement(Kee,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function ate(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ote=Ree(r5,ste);var Af=C.forwardRef(function(t,e){return C.createElement(Lv,hs({},t,{ref:e,sideCar:ote}))});Af.classNames=Lv.classNames;var lte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yl=new WeakMap,gm=new WeakMap,vm={},a0=0,l5=function(t){return t&&(t.host||l5(t.parentNode))},cte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=l5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},ute=function(t,e,n,r){var i=cte(e,Array.isArray(t)?t:[t]);vm[n]||(vm[n]=new WeakMap);var s=vm[n],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(m){if(o.has(m))h(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",y=(Yl.get(m)||0)+1,b=(s.get(m)||0)+1;Yl.set(m,y),s.set(m,b),a.push(m),y===1&&x&&gm.set(m,!0),b===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),o.clear(),a0++,function(){a.forEach(function(d){var m=Yl.get(d)-1,g=s.get(d)-1;Yl.set(d,m),s.set(d,g),m||(gm.has(d)||d.removeAttribute(r),gm.delete(d)),g||d.removeAttribute(n)}),a0--,a0||(Yl=new WeakMap,Yl=new WeakMap,gm=new WeakMap,vm={})}},Fv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=lte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),ute(r,i,n,"aria-hidden")):function(){return null}};function dte(t){const e=hte(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(pte);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function hte(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=gte(i),o=mte(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fte=Symbol("radix.slottable");function pte(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fte}function mte(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function gte(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var $v="Dialog",[c5]=Oi($v),[vte,es]=c5($v),u5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=C.useRef(null),l=C.useRef(null),[c,h]=sa({prop:r,defaultProp:i??!1,onChange:s,caller:$v});return f.jsx(vte,{scope:e,triggerRef:o,contentRef:l,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:c,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(d=>!d),[h]),modal:a,children:n})};u5.displayName=$v;var d5="DialogTrigger",h5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=es(d5,n),s=Ze(e,i.triggerRef);return f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":ZP(i.open),...r,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});h5.displayName=d5;var XP="DialogPortal",[yte,f5]=c5(XP,{forceMount:void 0}),p5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=es(XP,e);return f.jsx(yte,{scope:e,forceMount:n,children:C.Children.map(r,a=>f.jsx(wr,{present:n||s.open,children:f.jsx(_f,{asChild:!0,container:i,children:a})}))})};p5.displayName=XP;var ug="DialogOverlay",m5=C.forwardRef((t,e)=>{const n=f5(ug,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=es(ug,t.__scopeDialog);return s.modal?f.jsx(wr,{present:r||s.open,children:f.jsx(xte,{...i,ref:e})}):null});m5.displayName=ug;var bte=dte("DialogOverlay.RemoveScroll"),xte=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=es(ug,n);return f.jsx(Af,{as:bte,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Be.div,{"data-state":ZP(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Jo="DialogContent",g5=C.forwardRef((t,e)=>{const n=f5(Jo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=es(Jo,t.__scopeDialog);return f.jsx(wr,{present:r||s.open,children:s.modal?f.jsx(wte,{...i,ref:e}):f.jsx(Ste,{...i,ref:e})})});g5.displayName=Jo;var wte=C.forwardRef((t,e)=>{const n=es(Jo,t.__scopeDialog),r=C.useRef(null),i=Ze(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return Fv(s)},[]),f.jsx(v5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),Ste=C.forwardRef((t,e)=>{const n=es(Jo,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(v5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),v5=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=es(Jo,n),l=C.useRef(null),c=Ze(e,l);return Iv(),f.jsxs(f.Fragment,{children:[f.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(wf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":ZP(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(_te,{titleId:o.titleId}),f.jsx(Cte,{contentRef:l,descriptionId:o.descriptionId})]})]})}),QP="DialogTitle",y5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=es(QP,n);return f.jsx(Be.h2,{id:i.titleId,...r,ref:e})});y5.displayName=QP;var b5="DialogDescription",x5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=es(b5,n);return f.jsx(Be.p,{id:i.descriptionId,...r,ref:e})});x5.displayName=b5;var w5="DialogClose",S5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=es(w5,n);return f.jsx(Be.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});S5.displayName=w5;function ZP(t){return t?"open":"closed"}var _5="DialogTitleWarning",[fje,A5]=GJ(_5,{contentName:Jo,titleName:QP,docsSlug:"dialog"}),_te=({titleId:t})=>{const e=A5(_5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Ate="DialogDescriptionWarning",Cte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${A5(Ate).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},C5=u5,Pte=h5,P5=p5,Bv=m5,E5=g5,T5=y5,j5=x5,k5=S5;function N5({...t}){return f.jsx(C5,{"data-slot":"sheet",...t})}function Ete({...t}){return f.jsx(P5,{"data-slot":"sheet-portal",...t})}const O5=C.forwardRef(({className:t,...e},n)=>f.jsx(Bv,{ref:n,"data-slot":"sheet-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));O5.displayName=Bv.displayName;function M5({className:t,children:e,side:n="right",...r}){return f.jsxs(Ete,{children:[f.jsx(O5,{}),f.jsxs(E5,{"data-slot":"sheet-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,f.jsxs(k5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[f.jsx(wu,{className:"size-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Tte({className:t,...e}){return f.jsx("div",{"data-slot":"sheet-header",className:Fe("flex flex-col gap-1.5 p-4",t),...e})}function D5({className:t,...e}){return f.jsx(T5,{"data-slot":"sheet-title",className:Fe("text-foreground font-semibold",t),...e})}function R5({className:t,...e}){return f.jsx(j5,{"data-slot":"sheet-description",className:Fe("text-muted-foreground text-sm",t),...e})}function jte(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,kte(i,...e)]}function kte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Nte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JP=Nte.reduce((t,e)=>{const n=mf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),o0={exports:{}},l0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OM;function Ote(){if(OM)return l0;OM=1;var t=Ev();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(d,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),y=x[0].inst,b=x[1];return s(function(){y.value=g,y.getSnapshot=m,l(y)&&b({inst:y})},[d,g,m]),i(function(){return l(y)&&b({inst:y}),d(function(){l(y)&&b({inst:y})})},[d]),a(g),g}function l(d){var m=d.getSnapshot;d=d.value;try{var g=m();return!n(d,g)}catch{return!0}}function c(d,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return l0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,l0}var MM;function Mte(){return MM||(MM=1,o0.exports=Ote()),o0.exports}var Dte=Mte();function Rte(){return Dte.useSyncExternalStore(Ite,()=>!0,()=>!1)}function Ite(){return()=>{}}var eE="Avatar",[Lte]=jte(eE),[Fte,I5]=Lte(eE),L5=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return f.jsx(Fte,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:f.jsx(JP.span,{...r,ref:e})})});L5.displayName=eE;var F5="AvatarImage",$te=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=I5(F5,n),o=Bte(r,s),l=Fn(c=>{i(c),a.onImageLoadingStatusChange(c)});return bn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?f.jsx(JP.img,{...s,ref:e,src:r}):null});$te.displayName=F5;var $5="AvatarFallback",B5=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=I5($5,n),[a,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?f.jsx(JP.span,{...i,ref:e}):null});B5.displayName=$5;function DM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Bte(t,{referrerPolicy:e,crossOrigin:n}){const r=Rte(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=C.useState(()=>DM(s,t));return bn(()=>{o(DM(s,t))},[s,t]),bn(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),h=l("error");return s.addEventListener("load",c),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",h)}},[s,n,e]),a}var Ute=L5,zte=B5;function Dc({className:t,...e}){return f.jsx(Ute,{"data-slot":"avatar",className:Fe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Rc({className:t,...e}){return f.jsx(zte,{"data-slot":"avatar-fallback",className:Fe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function vh(t,[e,n]){return Math.min(n,Math.max(e,t))}function RM(t){const e=Vte(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Hte);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Vte(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Gte(i),o=qte(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Wte=Symbol("radix.slottable");function Hte(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Wte}function qte(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Gte(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uv(t){const e=t+"CollectionProvider",[n,r]=Oi(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:w}=y,_=z.useRef(null),A=z.useRef(new Map).current;return f.jsx(i,{scope:b,itemMap:A,collectionRef:_,children:w})};a.displayName=e;const o=t+"CollectionSlot",l=RM(o),c=z.forwardRef((y,b)=>{const{scope:w,children:_}=y,A=s(o,w),j=Ze(b,A.collectionRef);return f.jsx(l,{ref:j,children:_})});c.displayName=o;const h=t+"CollectionItemSlot",d="data-radix-collection-item",m=RM(h),g=z.forwardRef((y,b)=>{const{scope:w,children:_,...A}=y,j=z.useRef(null),P=Ze(b,j),T=s(h,w);return z.useEffect(()=>(T.itemMap.set(j,{ref:j,...A}),()=>void T.itemMap.delete(j))),f.jsx(m,{[d]:"",ref:P,children:_})});g.displayName=h;function x(y){const b=s(t+"CollectionConsumer",y);return z.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const A=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((T,k)=>A.indexOf(T.ref.current)-A.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},x,r]}var Kte=C.createContext(void 0);function Su(t){const e=C.useContext(Kte);return t||e||"ltr"}const Yte=["top","right","bottom","left"],Ja=Math.min,Yr=Math.max,dg=Math.round,ym=Math.floor,ws=t=>({x:t,y:t}),Xte={left:"right",right:"left",bottom:"top",top:"bottom"},Qte={start:"end",end:"start"};function oA(t,e,n){return Yr(t,Ja(e,n))}function aa(t,e){return typeof t=="function"?t(e):t}function oa(t){return t.split("-")[0]}function _u(t){return t.split("-")[1]}function tE(t){return t==="x"?"y":"x"}function nE(t){return t==="y"?"height":"width"}const Zte=new Set(["top","bottom"]);function fs(t){return Zte.has(oa(t))?"y":"x"}function rE(t){return tE(fs(t))}function Jte(t,e,n){n===void 0&&(n=!1);const r=_u(t),i=rE(t),s=nE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=hg(a)),[a,hg(a)]}function ene(t){const e=hg(t);return[lA(t),e,lA(e)]}function lA(t){return t.replace(/start|end/g,e=>Qte[e])}const IM=["left","right"],LM=["right","left"],tne=["top","bottom"],nne=["bottom","top"];function rne(t,e,n){switch(t){case"top":case"bottom":return n?e?LM:IM:e?IM:LM;case"left":case"right":return e?tne:nne;default:return[]}}function ine(t,e,n,r){const i=_u(t);let s=rne(oa(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(lA)))),s}function hg(t){return t.replace(/left|right|bottom|top/g,e=>Xte[e])}function sne(t){return{top:0,right:0,bottom:0,left:0,...t}}function U5(t){return typeof t!="number"?sne(t):{top:t,right:t,bottom:t,left:t}}function fg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function FM(t,e,n){let{reference:r,floating:i}=t;const s=fs(e),a=rE(e),o=nE(a),l=oa(e),c=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(_u(e)){case"start":g[a]-=m*(n&&c?-1:1);break;case"end":g[a]+=m*(n&&c?-1:1);break}return g}const ane=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=FM(c,r,l),m=r,g={},x=0;for(let y=0;y<o.length;y++){const{name:b,fn:w}=o[y],{x:_,y:A,data:j,reset:P}=await w({x:h,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});h=_??h,d=A??d,g={...g,[b]:{...g[b],...j}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:h,y:d}=FM(c,m,l)),y=-1)}return{x:h,y:d,placement:m,strategy:i,middlewareData:g}};async function yh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:g=0}=aa(e,t),x=U5(g),b=o[m?d==="floating"?"reference":"floating":d],w=fg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),_=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),j=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=fg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:A,strategy:l}):_);return{top:(w.top-P.top+x.top)/j.y,bottom:(P.bottom-w.bottom+x.bottom)/j.y,left:(w.left-P.left+x.left)/j.x,right:(P.right-w.right+x.right)/j.x}}const one=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:h=0}=aa(t,e)||{};if(c==null)return{};const d=U5(h),m={x:n,y:r},g=rE(i),x=nE(g),y=await a.getDimensions(c),b=g==="y",w=b?"top":"left",_=b?"bottom":"right",A=b?"clientHeight":"clientWidth",j=s.reference[x]+s.reference[g]-m[g]-s.floating[x],P=m[g]-s.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let k=T?T[A]:0;(!k||!await(a.isElement==null?void 0:a.isElement(T)))&&(k=o.floating[A]||s.floating[x]);const O=j/2-P/2,R=k/2-y[x]/2-1,F=Ja(d[w],R),M=Ja(d[_],R),D=F,$=k-y[x]-M,H=k/2-y[x]/2+O,q=oA(D,H,$),V=!l.arrow&&_u(i)!=null&&H!==q&&s.reference[x]/2-(H<D?F:M)-y[x]/2<0,B=V?H<D?H-D:H-$:0;return{[g]:m[g]+B,data:{[g]:q,centerOffset:H-q-B,...V&&{alignmentOffset:B}},reset:V}}}),lne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=aa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=oa(i),_=fs(o),A=oa(o)===o,j=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(A||!y?[hg(o)]:ene(o)),T=x!=="none";!m&&T&&P.push(...ine(o,y,x,j));const k=[o,...P],O=await yh(e,b),R=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&R.push(O[w]),d){const H=Jte(i,a,j);R.push(O[H[0]],O[H[1]])}if(F=[...F,{placement:i,overflows:R}],!R.every(H=>H<=0)){var M,D;const H=(((M=s.flip)==null?void 0:M.index)||0)+1,q=k[H];if(q&&(!(d==="alignment"?_!==fs(q):!1)||F.every(L=>fs(L.placement)===_?L.overflows[0]>0:!0)))return{data:{index:H,overflows:F},reset:{placement:q}};let V=(D=F.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(g){case"bestFit":{var $;const B=($=F.filter(L=>{if(T){const W=fs(L.placement);return W===_||W==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((L,W)=>L[1]-W[1])[0])==null?void 0:$[0];B&&(V=B);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function $M(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function BM(t){return Yte.some(e=>t[e]>=0)}const cne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=aa(t,e);switch(r){case"referenceHidden":{const s=await yh(e,{...i,elementContext:"reference"}),a=$M(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:BM(a)}}}case"escaped":{const s=await yh(e,{...i,altBoundary:!0}),a=$M(s,n.floating);return{data:{escapedOffsets:a,escaped:BM(a)}}}default:return{}}}}},z5=new Set(["left","top"]);async function une(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=oa(n),o=_u(n),l=fs(n)==="y",c=z5.has(a)?-1:1,h=s&&l?-1:1,d=aa(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),l?{x:g*h,y:m*c}:{x:m*c,y:g*h}}const dne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await une(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},hne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:w,y:_}=b;return{x:w,y:_}}},...l}=aa(t,e),c={x:n,y:r},h=await yh(e,l),d=fs(oa(i)),m=tE(d);let g=c[m],x=c[d];if(s){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",_=g+h[b],A=g-h[w];g=oA(_,g,A)}if(a){const b=d==="y"?"top":"left",w=d==="y"?"bottom":"right",_=x+h[b],A=x-h[w];x=oA(_,x,A)}const y=o.fn({...e,[m]:g,[d]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[d]:a}}}}}},fne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=aa(t,e),h={x:n,y:r},d=fs(i),m=tE(d);let g=h[m],x=h[d];const y=aa(o,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const A=m==="y"?"height":"width",j=s.reference[m]-s.floating[A]+b.mainAxis,P=s.reference[m]+s.reference[A]-b.mainAxis;g<j?g=j:g>P&&(g=P)}if(c){var w,_;const A=m==="y"?"width":"height",j=z5.has(oa(i)),P=s.reference[d]-s.floating[A]+(j&&((w=a.offset)==null?void 0:w[d])||0)+(j?0:b.crossAxis),T=s.reference[d]+s.reference[A]+(j?0:((_=a.offset)==null?void 0:_[d])||0)-(j?b.crossAxis:0);x<P?x=P:x>T&&(x=T)}return{[m]:g,[d]:x}}}},pne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=aa(t,e),h=await yh(e,c),d=oa(i),m=_u(i),g=fs(i)==="y",{width:x,height:y}=s.floating;let b,w;d==="top"||d==="bottom"?(b=d,w=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=d,b=m==="end"?"top":"bottom");const _=y-h.top-h.bottom,A=x-h.left-h.right,j=Ja(y-h[b],_),P=Ja(x-h[w],A),T=!e.middlewareData.shift;let k=j,O=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=_),T&&!m){const F=Yr(h.left,0),M=Yr(h.right,0),D=Yr(h.top,0),$=Yr(h.bottom,0);g?O=x-2*(F!==0||M!==0?F+M:Yr(h.left,h.right)):k=y-2*(D!==0||$!==0?D+$:Yr(h.top,h.bottom))}await l({...e,availableWidth:O,availableHeight:k});const R=await a.getDimensions(o.floating);return x!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function zv(){return typeof window<"u"}function Au(t){return V5(t)?(t.nodeName||"").toLowerCase():"#document"}function Jr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ns(t){var e;return(e=(V5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function V5(t){return zv()?t instanceof Node||t instanceof Jr(t).Node:!1}function Xi(t){return zv()?t instanceof Element||t instanceof Jr(t).Element:!1}function Ps(t){return zv()?t instanceof HTMLElement||t instanceof Jr(t).HTMLElement:!1}function UM(t){return!zv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Jr(t).ShadowRoot}const mne=new Set(["inline","contents"]);function Cf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!mne.has(i)}const gne=new Set(["table","td","th"]);function vne(t){return gne.has(Au(t))}const yne=[":popover-open",":modal"];function Vv(t){return yne.some(e=>{try{return t.matches(e)}catch{return!1}})}const bne=["transform","translate","scale","rotate","perspective"],xne=["transform","translate","scale","rotate","perspective","filter"],wne=["paint","layout","strict","content"];function iE(t){const e=sE(),n=Xi(t)?Qi(t):t;return bne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||xne.some(r=>(n.willChange||"").includes(r))||wne.some(r=>(n.contain||"").includes(r))}function Sne(t){let e=eo(t);for(;Ps(e)&&!Ic(e);){if(iE(e))return e;if(Vv(e))return null;e=eo(e)}return null}function sE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _ne=new Set(["html","body","#document"]);function Ic(t){return _ne.has(Au(t))}function Qi(t){return Jr(t).getComputedStyle(t)}function Wv(t){return Xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function eo(t){if(Au(t)==="html")return t;const e=t.assignedSlot||t.parentNode||UM(t)&&t.host||Ns(t);return UM(e)?e.host:e}function W5(t){const e=eo(t);return Ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ps(e)&&Cf(e)?e:W5(e)}function bh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=W5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=Jr(i);if(s){const o=cA(a);return e.concat(a,a.visualViewport||[],Cf(i)?i:[],o&&n?bh(o):[])}return e.concat(i,bh(i,[],n))}function cA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function H5(t){const e=Qi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ps(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=dg(n)!==s||dg(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function aE(t){return Xi(t)?t:t.contextElement}function wc(t){const e=aE(t);if(!Ps(e))return ws(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=H5(e);let a=(s?dg(n.width):n.width)/r,o=(s?dg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Ane=ws(0);function q5(t){const e=Jr(t);return!sE()||!e.visualViewport?Ane:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Cne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Jr(t)?!1:e}function el(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=aE(t);let a=ws(1);e&&(r?Xi(r)&&(a=wc(r)):a=wc(t));const o=Cne(s,n,r)?q5(s):ws(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const m=Jr(s),g=r&&Xi(r)?Jr(r):r;let x=m,y=cA(x);for(;y&&r&&g!==x;){const b=wc(y),w=y.getBoundingClientRect(),_=Qi(y),A=w.left+(y.clientLeft+parseFloat(_.paddingLeft))*b.x,j=w.top+(y.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,h*=b.x,d*=b.y,l+=A,c+=j,x=Jr(y),y=cA(x)}}return fg({width:h,height:d,x:l,y:c})}function Hv(t,e){const n=Wv(t).scrollLeft;return e?e.left+n:el(Ns(t)).left+n}function G5(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Hv(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function Pne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ns(r),o=e?Vv(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ws(1);const h=ws(0),d=Ps(r);if((d||!d&&!s)&&((Au(r)!=="body"||Cf(a))&&(l=Wv(r)),Ps(r))){const g=el(r);c=wc(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!d&&!s?G5(a,l):ws(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function Ene(t){return Array.from(t.getClientRects())}function Tne(t){const e=Ns(t),n=Wv(t),r=t.ownerDocument.body,i=Yr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Hv(t);const o=-n.scrollTop;return Qi(r).direction==="rtl"&&(a+=Yr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const zM=25;function jne(t,e){const n=Jr(t),r=Ns(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const h=sE();(!h||h&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Hv(r);if(c<=0){const h=r.ownerDocument,d=h.body,m=getComputedStyle(d),g=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-d.clientWidth-g);x<=zM&&(s-=x)}else c<=zM&&(s+=c);return{width:s,height:a,x:o,y:l}}const kne=new Set(["absolute","fixed"]);function Nne(t,e){const n=el(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ps(t)?wc(t):ws(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function VM(t,e,n){let r;if(e==="viewport")r=jne(t,n);else if(e==="document")r=Tne(Ns(t));else if(Xi(e))r=Nne(e,n);else{const i=q5(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return fg(r)}function K5(t,e){const n=eo(t);return n===e||!Xi(n)||Ic(n)?!1:Qi(n).position==="fixed"||K5(n,e)}function One(t,e){const n=e.get(t);if(n)return n;let r=bh(t,[],!1).filter(o=>Xi(o)&&Au(o)!=="body"),i=null;const s=Qi(t).position==="fixed";let a=s?eo(t):t;for(;Xi(a)&&!Ic(a);){const o=Qi(a),l=iE(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&kne.has(i.position)||Cf(a)&&!l&&K5(t,a))?r=r.filter(h=>h!==a):i=o,a=eo(a)}return e.set(t,r),r}function Mne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Vv(e)?[]:One(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,h)=>{const d=VM(e,h,i);return c.top=Yr(d.top,c.top),c.right=Ja(d.right,c.right),c.bottom=Ja(d.bottom,c.bottom),c.left=Yr(d.left,c.left),c},VM(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Dne(t){const{width:e,height:n}=H5(t);return{width:e,height:n}}function Rne(t,e,n){const r=Ps(e),i=Ns(e),s=n==="fixed",a=el(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=ws(0);function c(){l.x=Hv(i)}if(r||!r&&!s)if((Au(e)!=="body"||Cf(i))&&(o=Wv(e)),r){const g=el(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?G5(i,o):ws(0),d=a.left+o.scrollLeft-l.x-h.x,m=a.top+o.scrollTop-l.y-h.y;return{x:d,y:m,width:a.width,height:a.height}}function c0(t){return Qi(t).position==="static"}function WM(t,e){if(!Ps(t)||Qi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ns(t)===n&&(n=n.ownerDocument.body),n}function Y5(t,e){const n=Jr(t);if(Vv(t))return n;if(!Ps(t)){let i=eo(t);for(;i&&!Ic(i);){if(Xi(i)&&!c0(i))return i;i=eo(i)}return n}let r=WM(t,e);for(;r&&vne(r)&&c0(r);)r=WM(r,e);return r&&Ic(r)&&c0(r)&&!iE(r)?n:r||Sne(t)||n}const Ine=async function(t){const e=this.getOffsetParent||Y5,n=this.getDimensions,r=await n(t.floating);return{reference:Rne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Lne(t){return Qi(t).direction==="rtl"}const Fne={convertOffsetParentRelativeRectToViewportRelativeRect:Pne,getDocumentElement:Ns,getClippingRect:Mne,getOffsetParent:Y5,getElementRects:Ine,getClientRects:Ene,getDimensions:Dne,getScale:wc,isElement:Xi,isRTL:Lne};function X5(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function $ne(t,e){let n=null,r;const i=Ns(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:h,top:d,width:m,height:g}=c;if(o||e(),!m||!g)return;const x=ym(d),y=ym(i.clientWidth-(h+m)),b=ym(i.clientHeight-(d+g)),w=ym(h),A={rootMargin:-x+"px "+-y+"px "+-b+"px "+-w+"px",threshold:Yr(0,Ja(1,l))||1};let j=!0;function P(T){const k=T[0].intersectionRatio;if(k!==l){if(!j)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!X5(c,t.getBoundingClientRect())&&a(),j=!1}try{n=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,A)}n.observe(t)}return a(!0),s}function Bne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=aE(t),h=i||s?[...c?bh(c):[],...bh(e)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const d=c&&o?$ne(c,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?el(t):null;l&&b();function b(){const w=el(t);y&&!X5(y,w)&&n(),y=w,x=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),d?.(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const Une=dne,zne=hne,Vne=lne,Wne=pne,Hne=cne,HM=one,qne=fne,Gne=(t,e,n)=>{const r=new Map,i={platform:Fne,...n},s={...i.platform,_c:r};return ane(t,e,{...i,platform:s})};var Kne=typeof document<"u",Yne=function(){},Ym=Kne?C.useLayoutEffect:Yne;function pg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!pg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Q5(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function qM(t,e){const n=Q5(t);return Math.round(e*n)/n}function u0(t){const e=C.useRef(t);return Ym(()=>{e.current=t}),e}function Xne(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[h,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);pg(m,r)||g(r);const[x,y]=C.useState(null),[b,w]=C.useState(null),_=C.useCallback(L=>{L!==T.current&&(T.current=L,y(L))},[]),A=C.useCallback(L=>{L!==k.current&&(k.current=L,w(L))},[]),j=s||x,P=a||b,T=C.useRef(null),k=C.useRef(null),O=C.useRef(h),R=l!=null,F=u0(l),M=u0(i),D=u0(c),$=C.useCallback(()=>{if(!T.current||!k.current)return;const L={placement:e,strategy:n,middleware:m};M.current&&(L.platform=M.current),Gne(T.current,k.current,L).then(W=>{const X={...W,isPositioned:D.current!==!1};H.current&&!pg(O.current,X)&&(O.current=X,xf.flushSync(()=>{d(X)}))})},[m,e,n,M,D]);Ym(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[c]);const H=C.useRef(!1);Ym(()=>(H.current=!0,()=>{H.current=!1}),[]),Ym(()=>{if(j&&(T.current=j),P&&(k.current=P),j&&P){if(F.current)return F.current(j,P,$);$()}},[j,P,$,F,R]);const q=C.useMemo(()=>({reference:T,floating:k,setReference:_,setFloating:A}),[_,A]),V=C.useMemo(()=>({reference:j,floating:P}),[j,P]),B=C.useMemo(()=>{const L={position:n,left:0,top:0};if(!V.floating)return L;const W=qM(V.floating,h.x),X=qM(V.floating,h.y);return o?{...L,transform:"translate("+W+"px, "+X+"px)",...Q5(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:X}},[n,o,V.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:$,refs:q,elements:V,floatingStyles:B}),[h,$,q,V,B])}const Qne=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?HM({element:r.current,padding:i}).fn(n):{}:r?HM({element:r,padding:i}).fn(n):{}}}},Zne=(t,e)=>({...Une(t),options:[t,e]}),Jne=(t,e)=>({...zne(t),options:[t,e]}),ere=(t,e)=>({...qne(t),options:[t,e]}),tre=(t,e)=>({...Vne(t),options:[t,e]}),nre=(t,e)=>({...Wne(t),options:[t,e]}),rre=(t,e)=>({...Hne(t),options:[t,e]}),ire=(t,e)=>({...Qne(t),options:[t,e]});var sre="Arrow",Z5=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(Be.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});Z5.displayName=sre;var are=Z5;function oE(t){const[e,n]=C.useState(void 0);return bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var lE="Popper",[J5,Cu]=Oi(lE),[ore,eU]=J5(lE),tU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return f.jsx(ore,{scope:e,anchor:r,onAnchorChange:i,children:n})};tU.displayName=lE;var nU="PopperAnchor",rU=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=eU(nU,n),a=C.useRef(null),o=Ze(e,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:f.jsx(Be.div,{...i,ref:o})});rU.displayName=nU;var cE="PopperContent",[lre,cre]=J5(cE),iU=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,b=eU(cE,n),[w,_]=C.useState(null),A=Ze(e,re=>_(re)),[j,P]=C.useState(null),T=oE(j),k=T?.width??0,O=T?.height??0,R=r+(s!=="center"?"-"+s:""),F=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(c)?c:[c],D=M.length>0,$={padding:F,boundary:M.filter(dre),altBoundary:D},{refs:H,floatingStyles:q,placement:V,isPositioned:B,middlewareData:L}=Xne({strategy:"fixed",placement:R,whileElementsMounted:(...re)=>Bne(...re,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Zne({mainAxis:i+O,alignmentAxis:a}),l&&Jne({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?ere():void 0,...$}),l&&tre({...$}),nre({...$,apply:({elements:re,rects:ee,availableWidth:te,availableHeight:le})=>{const{width:he,height:se}=ee.reference,We=re.floating.style;We.setProperty("--radix-popper-available-width",`${te}px`),We.setProperty("--radix-popper-available-height",`${le}px`),We.setProperty("--radix-popper-anchor-width",`${he}px`),We.setProperty("--radix-popper-anchor-height",`${se}px`)}}),j&&ire({element:j,padding:o}),hre({arrowWidth:k,arrowHeight:O}),m&&rre({strategy:"referenceHidden",...$})]}),[W,X]=oU(V),U=Fn(x);bn(()=>{B&&U?.()},[B,U]);const K=L.arrow?.x,Z=L.arrow?.y,ae=L.arrow?.centerOffset!==0,[ce,pe]=C.useState();return bn(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:B?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(lre,{scope:n,placedSide:W,onArrowChange:P,arrowX:K,arrowY:Z,shouldHideArrow:ae,children:f.jsx(Be.div,{"data-side":W,"data-align":X,...y,ref:A,style:{...y.style,animation:B?void 0:"none"}})})})});iU.displayName=cE;var sU="PopperArrow",ure={top:"bottom",right:"left",bottom:"top",left:"right"},aU=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=cre(sU,r),a=ure[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(are,{...i,ref:n,style:{...i.style,display:"block"}})})});aU.displayName=sU;function dre(t){return t!==null}var hre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,h]=oU(n),d={start:"0%",center:"50%",end:"100%"}[h],m=(i.arrow?.x??0)+o/2,g=(i.arrow?.y??0)+l/2;let x="",y="";return c==="bottom"?(x=a?d:`${m}px`,y=`${-l}px`):c==="top"?(x=a?d:`${m}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=a?d:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=a?d:`${g}px`),{data:{x,y}}}});function oU(t){const[e,n="center"]=t.split("-");return[e,n]}var uE=tU,qv=rU,dE=iU,hE=aU;function fre(t){const e=pre(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(gre);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function pre(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=yre(i),o=vre(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mre=Symbol("radix.slottable");function gre(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mre}function vre(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yre(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fE(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var lU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bre="VisuallyHidden",xre=C.forwardRef((t,e)=>f.jsx(Be.span,{...t,ref:e,style:{...lU,...t.style}}));xre.displayName=bre;var wre=[" ","Enter","ArrowUp","ArrowDown"],Sre=[" ","Enter"],tl="Select",[Gv,Kv,_re]=Uv(tl),[Pu]=Oi(tl,[_re,Cu]),Yv=Cu(),[Are,io]=Pu(tl),[Cre,Pre]=Pu(tl),cU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:h,autoComplete:d,disabled:m,required:g,form:x}=t,y=Yv(e),[b,w]=C.useState(null),[_,A]=C.useState(null),[j,P]=C.useState(!1),T=Su(c),[k,O]=sa({prop:r,defaultProp:i??!1,onChange:s,caller:tl}),[R,F]=sa({prop:a,defaultProp:o,onChange:l,caller:tl}),M=C.useRef(null),D=b?x||!!b.closest("form"):!0,[$,H]=C.useState(new Set),q=Array.from($).map(V=>V.props.value).join(";");return f.jsx(uE,{...y,children:f.jsxs(Are,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:_,onValueNodeChange:A,valueNodeHasChildren:j,onValueNodeHasChildrenChange:P,contentId:Ki(),value:R,onValueChange:F,open:k,onOpenChange:O,dir:T,triggerPointerDownPosRef:M,disabled:m,children:[f.jsx(Gv.Provider,{scope:e,children:f.jsx(Cre,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(V=>{H(B=>new Set(B).add(V))},[]),onNativeOptionRemove:C.useCallback(V=>{H(B=>{const L=new Set(B);return L.delete(V),L})},[]),children:n})}),D?f.jsxs(NU,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:d,value:R,onChange:V=>F(V.target.value),disabled:m,form:x,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from($)]},q):null]})})};cU.displayName=tl;var uU="SelectTrigger",dU=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Yv(n),a=io(uU,n),o=a.disabled||r,l=Ze(e,a.onTriggerChange),c=Kv(n),h=C.useRef("touch"),[d,m,g]=MU(y=>{const b=c().filter(A=>!A.disabled),w=b.find(A=>A.value===a.value),_=DU(b,y,w);_!==void 0&&a.onValueChange(_.value)}),x=y=>{o||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(qv,{asChild:!0,...s,children:f.jsx(Be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":OU(a.value)?"":void 0,...i,ref:l,onClick:ye(i.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&x(y)}),onPointerDown:ye(i.onPointerDown,y=>{h.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:ye(i.onKeyDown,y=>{const b=d.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&wre.includes(y.key)&&(x(),y.preventDefault())})})})});dU.displayName=uU;var hU="SelectValue",fU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=io(hU,n),{onValueNodeHasChildrenChange:c}=l,h=s!==void 0,d=Ze(e,l.onValueNodeChange);return bn(()=>{c(h)},[c,h]),f.jsx(Be.span,{...o,ref:d,style:{pointerEvents:"none"},children:OU(l.value)?f.jsx(f.Fragment,{children:a}):s})});fU.displayName=hU;var Ere="SelectIcon",pU=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(Be.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});pU.displayName=Ere;var Tre="SelectPortal",mU=t=>f.jsx(_f,{asChild:!0,...t});mU.displayName=Tre;var nl="SelectContent",gU=C.forwardRef((t,e)=>{const n=io(nl,t.__scopeSelect),[r,i]=C.useState();if(bn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?xf.createPortal(f.jsx(vU,{scope:t.__scopeSelect,children:f.jsx(Gv.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(yU,{...t,ref:e})});gU.displayName=nl;var Wi=10,[vU,so]=Pu(nl),jre="SelectContentImpl",kre=fre("SelectContent.RemoveScroll"),yU=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,...w}=t,_=io(nl,n),[A,j]=C.useState(null),[P,T]=C.useState(null),k=Ze(e,re=>j(re)),[O,R]=C.useState(null),[F,M]=C.useState(null),D=Kv(n),[$,H]=C.useState(!1),q=C.useRef(!1);C.useEffect(()=>{if(A)return Fv(A)},[A]),Iv();const V=C.useCallback(re=>{const[ee,...te]=D().map(se=>se.ref.current),[le]=te.slice(-1),he=document.activeElement;for(const se of re)if(se===he||(se?.scrollIntoView({block:"nearest"}),se===ee&&P&&(P.scrollTop=0),se===le&&P&&(P.scrollTop=P.scrollHeight),se?.focus(),document.activeElement!==he))return},[D,P]),B=C.useCallback(()=>V([O,A]),[V,O,A]);C.useEffect(()=>{$&&B()},[$,B]);const{onOpenChange:L,triggerPointerDownPosRef:W}=_;C.useEffect(()=>{if(A){let re={x:0,y:0};const ee=le=>{re={x:Math.abs(Math.round(le.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(W.current?.y??0))}},te=le=>{re.x<=10&&re.y<=10?le.preventDefault():A.contains(le.target)||L(!1),document.removeEventListener("pointermove",ee),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",te,{capture:!0})}}},[A,L,W]),C.useEffect(()=>{const re=()=>L(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[L]);const[X,U]=MU(re=>{const ee=D().filter(he=>!he.disabled),te=ee.find(he=>he.ref.current===document.activeElement),le=DU(ee,re,te);le&&setTimeout(()=>le.ref.current.focus())}),K=C.useCallback((re,ee,te)=>{const le=!q.current&&!te;(_.value!==void 0&&_.value===ee||le)&&(R(re),le&&(q.current=!0))},[_.value]),Z=C.useCallback(()=>A?.focus(),[A]),ae=C.useCallback((re,ee,te)=>{const le=!q.current&&!te;(_.value!==void 0&&_.value===ee||le)&&M(re)},[_.value]),ce=r==="popper"?uA:bU,pe=ce===uA?{side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return f.jsx(vU,{scope:n,content:A,viewport:P,onViewportChange:T,itemRefCallback:K,selectedItem:O,onItemLeave:Z,itemTextRefCallback:ae,focusSelectedItem:B,selectedItemText:F,position:r,isPositioned:$,searchRef:X,children:f.jsx(Af,{as:kre,allowPinchZoom:!0,children:f.jsx(Sf,{asChild:!0,trapped:_.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:ye(i,re=>{_.trigger?.focus({preventScroll:!0}),re.preventDefault()}),children:f.jsx(wf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(ce,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:re=>re.preventDefault(),...w,...pe,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,re=>{const ee=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!ee&&re.key.length===1&&U(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let le=D().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(re.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const he=re.target,se=le.indexOf(he);le=le.slice(se+1)}setTimeout(()=>V(le)),re.preventDefault()}})})})})})})});yU.displayName=jre;var Nre="SelectItemAlignedPosition",bU=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=io(nl,n),a=so(nl,n),[o,l]=C.useState(null),[c,h]=C.useState(null),d=Ze(e,k=>h(k)),m=Kv(n),g=C.useRef(!1),x=C.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:_}=a,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&y&&b&&w){const k=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(s.dir!=="rtl"){const he=F.left-O.left,se=R.left-he,We=k.left-se,Re=k.width+We,wt=Math.max(Re,O.width),vt=window.innerWidth-Wi,St=vh(se,[Wi,Math.max(Wi,vt-wt)]);o.style.minWidth=Re+"px",o.style.left=St+"px"}else{const he=O.right-F.right,se=window.innerWidth-R.right-he,We=window.innerWidth-k.right-se,Re=k.width+We,wt=Math.max(Re,O.width),vt=window.innerWidth-Wi,St=vh(se,[Wi,Math.max(Wi,vt-wt)]);o.style.minWidth=Re+"px",o.style.right=St+"px"}const M=m(),D=window.innerHeight-Wi*2,$=y.scrollHeight,H=window.getComputedStyle(c),q=parseInt(H.borderTopWidth,10),V=parseInt(H.paddingTop,10),B=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),W=q+V+$+L+B,X=Math.min(b.offsetHeight*5,W),U=window.getComputedStyle(y),K=parseInt(U.paddingTop,10),Z=parseInt(U.paddingBottom,10),ae=k.top+k.height/2-Wi,ce=D-ae,pe=b.offsetHeight/2,re=b.offsetTop+pe,ee=q+V+re,te=W-ee;if(ee<=ae){const he=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const se=c.clientHeight-y.offsetTop-y.offsetHeight,We=Math.max(ce,pe+(he?Z:0)+se+B),Re=ee+We;o.style.height=Re+"px"}else{const he=M.length>0&&b===M[0].ref.current;o.style.top="0px";const We=Math.max(ae,q+y.offsetTop+(he?K:0)+pe)+te;o.style.height=We+"px",y.scrollTop=ee-ae+y.offsetTop}o.style.margin=`${Wi}px 0`,o.style.minHeight=X+"px",o.style.maxHeight=D+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,o,c,y,b,w,s.dir,r]);bn(()=>A(),[A]);const[j,P]=C.useState();bn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const T=C.useCallback(k=>{k&&x.current===!0&&(A(),_?.(),x.current=!1)},[A,_]);return f.jsx(Mre,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:f.jsx(Be.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});bU.displayName=Nre;var Ore="SelectPopperPosition",uA=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Wi,...s}=t,a=Yv(n);return f.jsx(dE,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});uA.displayName=Ore;var[Mre,pE]=Pu(nl,{}),dA="SelectViewport",xU=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=so(dA,n),a=pE(dA,n),o=Ze(e,s.onViewportChange),l=C.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Gv.Slot,{scope:n,children:f.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m?.current&&d){const g=Math.abs(l.current-h.scrollTop);if(g>0){const x=window.innerHeight-Wi*2,y=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),w=Math.max(y,b);if(w<x){const _=w+g,A=Math.min(x,_),j=_-A;d.style.height=A+"px",d.style.bottom==="0px"&&(h.scrollTop=j>0?j:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});xU.displayName=dA;var wU="SelectGroup",[Dre,Rre]=Pu(wU),Ire=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Ki();return f.jsx(Dre,{scope:n,id:i,children:f.jsx(Be.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Ire.displayName=wU;var SU="SelectLabel",Lre=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Rre(SU,n);return f.jsx(Be.div,{id:i.id,...r,ref:e})});Lre.displayName=SU;var mg="SelectItem",[Fre,_U]=Pu(mg),AU=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=io(mg,n),l=so(mg,n),c=o.value===r,[h,d]=C.useState(s??""),[m,g]=C.useState(!1),x=Ze(e,_=>l.itemRefCallback?.(_,r,i)),y=Ki(),b=C.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Fre,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:C.useCallback(_=>{d(A=>A||(_?.textContent??"").trim())},[]),children:f.jsx(Gv.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:f.jsx(Be.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:ye(a.onFocus,()=>g(!0)),onBlur:ye(a.onBlur,()=>g(!1)),onClick:ye(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ye(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ye(a.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:ye(a.onPointerMove,_=>{b.current=_.pointerType,i?l.onItemLeave?.():b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,_=>{_.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ye(a.onKeyDown,_=>{l.searchRef?.current!==""&&_.key===" "||(Sre.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});AU.displayName=mg;var Ud="SelectItemText",CU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=io(Ud,n),o=so(Ud,n),l=_U(Ud,n),c=Pre(Ud,n),[h,d]=C.useState(null),m=Ze(e,w=>d(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),g=h?.textContent,x=C.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return bn(()=>(y(x),()=>b(x)),[y,b,x]),f.jsxs(f.Fragment,{children:[f.jsx(Be.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?xf.createPortal(s.children,a.valueNode):null]})});CU.displayName=Ud;var PU="SelectItemIndicator",EU=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _U(PU,n).isSelected?f.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});EU.displayName=PU;var hA="SelectScrollUpButton",TU=C.forwardRef((t,e)=>{const n=so(hA,t.__scopeSelect),r=pE(hA,t.__scopeSelect),[i,s]=C.useState(!1),a=Ze(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx(kU,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});TU.displayName=hA;var fA="SelectScrollDownButton",jU=C.forwardRef((t,e)=>{const n=so(fA,t.__scopeSelect),r=pE(fA,t.__scopeSelect),[i,s]=C.useState(!1),a=Ze(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;s(h)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx(kU,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});jU.displayName=fA;var kU=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=so("SelectScrollButton",n),a=C.useRef(null),o=Kv(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),bn(()=>{o().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),f.jsx(Be.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{l()})})}),$re="SelectSeparator",Bre=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});Bre.displayName=$re;var pA="SelectArrow",Ure=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yv(n),s=io(pA,n),a=so(pA,n);return s.open&&a.position==="popper"?f.jsx(hE,{...i,...r,ref:e}):null});Ure.displayName=pA;var zre="SelectBubbleInput",NU=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=Ze(r,i),a=fE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const d=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(d)}},[a,e]),f.jsx(Be.select,{...n,style:{...lU,...n.style},ref:s,defaultValue:e})});NU.displayName=zre;function OU(t){return t===""||t===void 0}function MU(t){const e=Fn(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=n.current+a;e(o),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DU(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=Vre(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Vre(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Wre=cU,Hre=dU,qre=fU,Gre=pU,Kre=mU,Yre=gU,Xre=xU,Qre=AU,Zre=CU,Jre=EU,eie=TU,tie=jU;function $n({...t}){return f.jsx(Wre,{"data-slot":"select",...t})}function Bn({...t}){return f.jsx(qre,{"data-slot":"select-value",...t})}function Un({className:t,size:e="default",children:n,...r}){return f.jsxs(Hre,{"data-slot":"select-trigger","data-size":e,className:Fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,f.jsx(Gre,{asChild:!0,children:f.jsx(L4,{className:"size-4 opacity-50"})})]})}function zn({className:t,children:e,position:n="popper",...r}){return f.jsx(Kre,{children:f.jsxs(Yre,{"data-slot":"select-content",className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(nie,{}),f.jsx(Xre,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),f.jsx(rie,{})]})})}function De({className:t,children:e,...n}){return f.jsxs(Qre,{"data-slot":"select-item",className:Fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(Jre,{children:f.jsx(Ov,{className:"size-4"})})}),f.jsx(Zre,{children:e})]})}function nie({className:t,...e}){return f.jsx(eie,{"data-slot":"select-scroll-up-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(HQ,{className:"size-4"})})}function rie({className:t,...e}){return f.jsx(tie,{"data-slot":"select-scroll-down-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(L4,{className:"size-4"})})}function iie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const sie=t=>{switch(t){case"success":return lie;case"info":return uie;case"warning":return cie;case"error":return die;default:return null}},aie=Array(12).fill(0),oie=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},aie.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),lie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),uie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),die=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),hie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),fie=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let mA=1;class pie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:mA++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(gie(c)&&!c.ok){s=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...x})}else if(c instanceof Error){s=!1;const d=typeof n.error=="function"?await n.error(c):n.error,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...x})}else if(n.success!==void 0){s=!1;const d=typeof n.success=="function"?await n.success(c):n.success,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:m,...x})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,g=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...g})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||mA++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Nr=new pie,mie=(t,e)=>{const n=e?.id||mA++;return Nr.addToast({title:t,...e,id:n}),n},gie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vie=mie,yie=()=>Nr.toasts,bie=()=>Nr.getActiveToasts(),ke=Object.assign(vie,{success:Nr.success,info:Nr.info,warning:Nr.warning,error:Nr.error,custom:Nr.custom,message:Nr.message,promise:Nr.promise,dismiss:Nr.dismiss,loading:Nr.loading},{getHistory:yie,getToasts:bie});iie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function bm(t){return t.label!==void 0}const xie=3,wie="24px",Sie="16px",GM=4e3,_ie=356,Aie=14,Cie=45,Pie=200;function os(...t){return t.filter(Boolean).join(" ")}function Eie(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Tie=t=>{var e,n,r,i,s,a,o,l,c;const{invert:h,toast:d,unstyled:m,interacting:g,setHeights:x,visibleToasts:y,heights:b,index:w,toasts:_,expanded:A,removeToast:j,defaultRichColors:P,closeButton:T,style:k,cancelButtonStyle:O,actionButtonStyle:R,className:F="",descriptionClassName:M="",duration:D,position:$,gap:H,expandByDefault:q,classNames:V,icons:B,closeButtonAriaLabel:L="Close toast"}=t,[W,X]=z.useState(null),[U,K]=z.useState(null),[Z,ae]=z.useState(!1),[ce,pe]=z.useState(!1),[re,ee]=z.useState(!1),[te,le]=z.useState(!1),[he,se]=z.useState(!1),[We,Re]=z.useState(0),[wt,vt]=z.useState(0),St=z.useRef(d.duration||D||GM),_r=z.useRef(null),cn=z.useRef(null),ri=w===0,tr=w+1<=y,Rt=d.type,Fr=d.dismissible!==!1,ho=d.className||"",fo=d.descriptionClassName||"",po=z.useMemo(()=>b.findIndex(Ge=>Ge.toastId===d.id)||0,[b,d.id]),Iu=z.useMemo(()=>{var Ge;return(Ge=d.closeButton)!=null?Ge:T},[d.closeButton,T]),mo=z.useMemo(()=>d.duration||D||GM,[d.duration,D]),Sl=z.useRef(0),ii=z.useRef(0),pa=z.useRef(0),ma=z.useRef(null),[Zf,Jf]=$.split("-"),ep=z.useMemo(()=>b.reduce((Ge,Jt,xn)=>xn>=po?Ge:Ge+Jt.height,0),[b,po]),_l=fie(),Lu=d.invert||h,go=Rt==="loading";ii.current=z.useMemo(()=>po*H+ep,[po,ep]),z.useEffect(()=>{St.current=mo},[mo]),z.useEffect(()=>{ae(!0)},[]),z.useEffect(()=>{const Ge=cn.current;if(Ge){const Jt=Ge.getBoundingClientRect().height;return vt(Jt),x(xn=>[{toastId:d.id,height:Jt,position:d.position},...xn]),()=>x(xn=>xn.filter(nr=>nr.toastId!==d.id))}},[x,d.id]),z.useLayoutEffect(()=>{if(!Z)return;const Ge=cn.current,Jt=Ge.style.height;Ge.style.height="auto";const xn=Ge.getBoundingClientRect().height;Ge.style.height=Jt,vt(xn),x(nr=>nr.find(un=>un.toastId===d.id)?nr.map(un=>un.toastId===d.id?{...un,height:xn}:un):[{toastId:d.id,height:xn,position:d.position},...nr])},[Z,d.title,d.description,x,d.id,d.jsx,d.action,d.cancel]);const si=z.useCallback(()=>{pe(!0),Re(ii.current),x(Ge=>Ge.filter(Jt=>Jt.toastId!==d.id)),setTimeout(()=>{j(d)},Pie)},[d,j,x,ii]);z.useEffect(()=>{if(d.promise&&Rt==="loading"||d.duration===1/0||d.type==="loading")return;let Ge;return A||g||_l?(()=>{if(pa.current<Sl.current){const nr=new Date().getTime()-Sl.current;St.current=St.current-nr}pa.current=new Date().getTime()})():(()=>{St.current!==1/0&&(Sl.current=new Date().getTime(),Ge=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),si()},St.current))})(),()=>clearTimeout(Ge)},[A,g,d,Rt,_l,si]),z.useEffect(()=>{d.delete&&(si(),d.onDismiss==null||d.onDismiss.call(d,d))},[si,d.delete]);function Fu(){var Ge;if(B?.loading){var Jt;return z.createElement("div",{className:os(V?.loader,d==null||(Jt=d.classNames)==null?void 0:Jt.loader,"sonner-loader"),"data-visible":Rt==="loading"},B.loading)}return z.createElement(oie,{className:os(V?.loader,d==null||(Ge=d.classNames)==null?void 0:Ge.loader),visible:Rt==="loading"})}const ga=d.icon||B?.[Rt]||sie(Rt);var Rs,$u;return z.createElement("li",{tabIndex:0,ref:cn,className:os(F,ho,V?.toast,d==null||(e=d.classNames)==null?void 0:e.toast,V?.default,V?.[Rt],d==null||(n=d.classNames)==null?void 0:n[Rt]),"data-sonner-toast":"","data-rich-colors":(Rs=d.richColors)!=null?Rs:P,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":Z,"data-promise":!!d.promise,"data-swiped":he,"data-removed":ce,"data-visible":tr,"data-y-position":Zf,"data-x-position":Jf,"data-index":w,"data-front":ri,"data-swiping":re,"data-dismissible":Fr,"data-type":Rt,"data-invert":Lu,"data-swipe-out":te,"data-swipe-direction":U,"data-expanded":!!(A||q&&Z),"data-testid":d.testId,style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ce?We:ii.current}px`,"--initial-height":q?"auto":`${wt}px`,...k,...d.style},onDragEnd:()=>{ee(!1),X(null),ma.current=null},onPointerDown:Ge=>{Ge.button!==2&&(go||!Fr||(_r.current=new Date,Re(ii.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ee(!0),ma.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Jt,xn;if(te||!Fr)return;ma.current=null;const nr=Number(((Ge=cn.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),va=Number(((Jt=cn.current)==null?void 0:Jt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((xn=_r.current)==null?void 0:xn.getTime()),jn=W==="x"?nr:va,ya=Math.abs(jn)/un;if(Math.abs(jn)>=Cie||ya>.11){Re(ii.current),d.onDismiss==null||d.onDismiss.call(d,d),K(W==="x"?nr>0?"right":"left":va>0?"down":"up"),si(),le(!0);return}else{var Wn,$r;(Wn=cn.current)==null||Wn.style.setProperty("--swipe-amount-x","0px"),($r=cn.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}se(!1),ee(!1),X(null)},onPointerMove:Ge=>{var Jt,xn,nr;if(!ma.current||!Fr||((Jt=window.getSelection())==null?void 0:Jt.toString().length)>0)return;const un=Ge.clientY-ma.current.y,jn=Ge.clientX-ma.current.x;var ya;const Wn=(ya=t.swipeDirections)!=null?ya:Eie($);!W&&(Math.abs(jn)>1||Math.abs(un)>1)&&X(Math.abs(jn)>Math.abs(un)?"x":"y");let $r={x:0,y:0};const ba=ai=>1/(1.5+Math.abs(ai)/20);if(W==="y"){if(Wn.includes("top")||Wn.includes("bottom"))if(Wn.includes("top")&&un<0||Wn.includes("bottom")&&un>0)$r.y=un;else{const ai=un*ba(un);$r.y=Math.abs(ai)<Math.abs(un)?ai:un}}else if(W==="x"&&(Wn.includes("left")||Wn.includes("right")))if(Wn.includes("left")&&jn<0||Wn.includes("right")&&jn>0)$r.x=jn;else{const ai=jn*ba(jn);$r.x=Math.abs(ai)<Math.abs(jn)?ai:jn}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&se(!0),(xn=cn.current)==null||xn.style.setProperty("--swipe-amount-x",`${$r.x}px`),(nr=cn.current)==null||nr.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},Iu&&!d.jsx&&Rt!=="loading"?z.createElement("button",{"aria-label":L,"data-disabled":go,"data-close-button":!0,onClick:go||!Fr?()=>{}:()=>{si(),d.onDismiss==null||d.onDismiss.call(d,d)},className:os(V?.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},($u=B?.close)!=null?$u:hie):null,(Rt||d.icon||d.promise)&&d.icon!==null&&(B?.[Rt]!==null||d.icon)?z.createElement("div",{"data-icon":"",className:os(V?.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Fu():null,d.type!=="loading"?ga:null):null,z.createElement("div",{"data-content":"",className:os(V?.content,d==null||(s=d.classNames)==null?void 0:s.content)},z.createElement("div",{"data-title":"",className:os(V?.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?z.createElement("div",{"data-description":"",className:os(M,fo,V?.description,d==null||(o=d.classNames)==null?void 0:o.description)},typeof d.description=="function"?d.description():d.description):null),z.isValidElement(d.cancel)?d.cancel:d.cancel&&bm(d.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||O,onClick:Ge=>{bm(d.cancel)&&Fr&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Ge),si())},className:os(V?.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,z.isValidElement(d.action)?d.action:d.action&&bm(d.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||R,onClick:Ge=>{bm(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Ge),!Ge.defaultPrevented&&si())},className:os(V?.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function KM(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function jie(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Sie:wie;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}const kie=z.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:h,mobileOffset:d,theme:m="light",richColors:g,duration:x,style:y,visibleToasts:b=xie,toastOptions:w,dir:_=KM(),gap:A=Aie,icons:j,containerAriaLabel:P="Notifications"}=e,[T,k]=z.useState([]),O=z.useMemo(()=>r?T.filter(Z=>Z.toasterId===r):T.filter(Z=>!Z.toasterId),[T,r]),R=z.useMemo(()=>Array.from(new Set([s].concat(O.filter(Z=>Z.position).map(Z=>Z.position)))),[O,s]),[F,M]=z.useState([]),[D,$]=z.useState(!1),[H,q]=z.useState(!1),[V,B]=z.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=z.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=z.useRef(null),U=z.useRef(!1),K=z.useCallback(Z=>{k(ae=>{var ce;return(ce=ae.find(pe=>pe.id===Z.id))!=null&&ce.delete||Nr.dismiss(Z.id),ae.filter(({id:pe})=>pe!==Z.id)})},[]);return z.useEffect(()=>Nr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{k(ae=>ae.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{z4.flushSync(()=>{k(ae=>{const ce=ae.findIndex(pe=>pe.id===Z.id);return ce!==-1?[...ae.slice(0,ce),{...ae[ce],...Z},...ae.slice(ce+1)]:[Z,...ae]})})})}),[T]),z.useEffect(()=>{if(m!=="system"){B(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ae})=>{B(ae?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{B(ce?"dark":"light")}catch(pe){console.error(pe)}})}},[m]),z.useEffect(()=>{T.length<=1&&$(!1)},[T]),z.useEffect(()=>{const Z=ae=>{var ce;if(a.every(ee=>ae[ee]||ae.code===ee)){var re;$(!0),(re=L.current)==null||re.focus()}ae.code==="Escape"&&(document.activeElement===L.current||(ce=L.current)!=null&&ce.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),z.useEffect(()=>{if(L.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,U.current=!1)}},[L.current]),z.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Z,ae)=>{var ce;const[pe,re]=Z.split("-");return O.length?z.createElement("ol",{key:Z,dir:_==="auto"?KM():_,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":pe,"data-x-position":re,style:{"--front-toast-height":`${((ce=F[0])==null?void 0:ce.height)||0}px`,"--width":`${_ie}px`,"--gap":`${A}px`,...y,...jie(h,d)},onBlur:ee=>{U.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(U.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||U.current||(U.current=!0,X.current=ee.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{H||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||q(!0)},onPointerUp:()=>q(!1)},O.filter(ee=>!ee.position&&ae===0||ee.position===Z).map((ee,te)=>{var le,he;return z.createElement(Tie,{key:ee.id,icons:j,index:te,toast:ee,defaultRichColors:g,duration:(le=w?.duration)!=null?le:x,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:b,closeButton:(he=w?.closeButton)!=null?he:l,interacting:H,position:Z,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(se=>se.position==ee.position),heights:F.filter(se=>se.position==ee.position),setHeights:M,expandByDefault:o,gap:A,expanded:D,swipeDirections:e.swipeDirections})})):null}))});function Nie({expenseId:t,open:e,onClose:n}){const{users:r,debts:i,currentUser:s,updateExpense:a,expenses:o}=ot(),l=o.find(P=>P.id===t),[c,h]=C.useState(!1),[d,m]=C.useState(""),[g,x]=C.useState("");if(C.useEffect(()=>{l&&(m(l.total_amount.toString()),x(l.category))},[l]),!l)return null;const y=r.find(P=>P.id===l.created_by),b=s?.id===l.created_by||s?.role==="admin",w=i.filter(P=>P.linked_expense_id===l.id),_=P=>r.find(k=>k.id===P)?.name||"Unknown",A=async()=>{if(!(!l||!s))try{const P=parseFloat(d);if(isNaN(P)||P<=0){ke.error("Please enter a valid amount");return}await a({...l,total_amount:P,category:g,updated_at:new Date().toISOString()}),ke.success("Expense updated successfully"),h(!1)}catch(P){console.error("Failed to update expense:",P),ke.error("Failed to update expense")}},j=()=>{m(l.total_amount.toString()),x(l.category),h(!1)};return f.jsx(N5,{open:e,onOpenChange:P=>!P&&(c?j():n()),children:f.jsxs(M5,{side:"right",className:"ml-auto w-full max-w-lg overflow-y-auto bg-background border-l",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[f.jsx(ve,{variant:"ghost",size:"icon",onClick:c?j:n,className:"shrink-0",children:f.jsx(Nv,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-center",children:[f.jsxs(D5,{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:lg(l.category)}),l.category]}),f.jsxs(R5,{className:"flex items-center justify-center gap-1 mt-1",children:[f.jsx(Ka,{className:"h-3 w-3"}),AJ(l.date)]})]}),b&&!c&&f.jsx(ve,{variant:"outline",size:"icon",onClick:()=>h(!0),className:"shrink-0",children:f.jsx(IZ,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-2xl border",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),c&&f.jsxs(ve,{onClick:A,size:"sm",className:"gap-1",children:[f.jsx(og,{className:"h-3 w-3"}),"Save"]})]}),c?f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Mt,{type:"number",value:d,onChange:P=>m(P.target.value),className:"pl-8 h-12 text-2xl font-bold bg-background border-primary/30",step:"0.01"})]})}):f.jsx("div",{className:"text-3xl font-bold text-primary",children:Ne(l.total_amount,l.currency)})]}),f.jsxs("div",{className:"bg-surface-variant/50 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(U4,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Category"})]}),c?f.jsxs($n,{value:g,onValueChange:x,children:[f.jsx(Un,{className:"bg-background",children:f.jsx(Bn,{})}),f.jsxs(zn,{children:[f.jsx(De,{value:"Food & Dining",children:" Food & Dining"}),f.jsx(De,{value:"Transportation",children:" Transportation"}),f.jsx(De,{value:"Shopping",children:" Shopping"}),f.jsx(De,{value:"Bills & Utilities",children:" Bills & Utilities"}),f.jsx(De,{value:"Entertainment",children:" Entertainment"}),f.jsx(De,{value:"Healthcare",children:" Healthcare"}),f.jsx(De,{value:"Education",children:" Education"}),f.jsx(De,{value:"Personal Care",children:" Personal Care"}),f.jsx(De,{value:"Home & Garden",children:" Home & Garden"}),f.jsx(De,{value:"Gifts & Donations",children:" Gifts & Donations"}),f.jsx(De,{value:"Travel",children:" Travel"}),f.jsx(De,{value:"Other",children:" Other"})]})]}):f.jsxs(yn,{variant:"outline",className:"text-sm px-3 py-1",children:[lg(l.category)," ",l.category]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(ag,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{className:"font-semibold",children:"Payment Details"})]}),f.jsx("div",{className:"space-y-3",children:l.payment_lines.map(P=>{const T=r.find(R=>R.id===P.payer_user_id),k=!!P.meta?.borrowed_from,O=k?r.find(R=>R.id===P.meta?.borrowed_from):null;return f.jsxs(et,{className:`p-4 ${k?"border-orange-200 dark:border-orange-800 bg-orange-50/30 dark:bg-orange-950/10":""}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:W4(P.method)}),f.jsx("span",{className:"font-medium",children:CJ(P.method)})]}),f.jsx("div",{className:"text-lg font-bold",children:Ne(P.amount,l.currency)})]}),T&&f.jsxs("div",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[f.jsx(Dc,{className:"h-5 w-5",children:f.jsx(Rc,{className:"text-xs",children:Mc(T.name)})}),f.jsxs("span",{children:["Paid by ",f.jsx("span",{className:"font-medium text-foreground",children:T.name})]})]}),k&&O&&f.jsxs("div",{className:"mt-3 p-3 bg-orange-50/50 dark:bg-orange-950/20 rounded-lg border border-orange-200/50 dark:border-orange-800/50",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-400 font-medium text-sm mb-1",children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx("span",{children:"Borrowed Money"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:T?.name}),f.jsx(AQ,{className:"h-3 w-3 text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"borrowed from"}),f.jsx("span",{className:"font-medium",children:O.name})]})]})]},P.id)})})]}),l.notes&&f.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[f.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:" Notes"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:l.notes})]}),f.jsxs("div",{className:"bg-surface-variant/30 p-4 rounded-xl space-y-3",children:[f.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Details"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Created by"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Dc,{className:"h-5 w-5",children:f.jsx(Rc,{className:"text-xs",children:y?Mc(y.name):"?"})}),f.jsx("span",{className:"font-medium",children:y?.name||"Unknown"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Visibility"}),f.jsx(yn,{variant:l.is_shared?"default":"secondary",className:"text-xs",children:l.is_shared?"Shared":"Private"})]}),w.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Related IOUs"}),f.jsx("div",{className:"space-y-2",children:w.map(P=>f.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded border",children:[f.jsxs("span",{children:[_(P.borrower_user_id)," owes"," ",_(P.lender_user_id)]}),f.jsx("span",{className:"font-semibold",children:Ne(P.amount,P.currency)})]},P.id))})]})]})]})]})})}function YM({filters:t}){const{currentUser:e,expenses:n,users:r}=ot(),[i,s]=C.useState(null);let a=e?.role==="admin"?n:n.filter(c=>c.is_shared||c.created_by===e?.id);t&&(a=a.filter(c=>{if(t.searchQuery){const h=t.searchQuery.toLowerCase();if(!(c.category.toLowerCase().includes(h)||c.notes&&c.notes.toLowerCase().includes(h)))return!1}if(t.category!=="All Categories"&&c.category!==t.category||t.mode!=="All Modes"&&!c.payment_lines.some(d=>d.method===t.mode))return!1;if(t.timeRange!=="all"){const h=new Date,d=new Date(c.date);switch(t.timeRange){case"today":if(d.toDateString()!==h.toDateString())return!1;break;case"week":const m=new Date(h);if(m.setDate(m.getDate()-7),d<m)return!1;break;case"month":const g=new Date(h);if(g.setMonth(g.getMonth()-1),d<g)return!1;break}}return!0}));const o=a.reduce((c,h)=>{const d=new Date(h.date);if(isNaN(d.getTime()))return c;const m=Cs(h.date);return c[m]||(c[m]=[]),c[m].push(h),c},{});if(a.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx("div",{className:"text-5xl",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"":""})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"No expenses match your filters":"No expenses yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"Try adjusting your filters":`Tap the ${f.jsx("span",{className:"text-tertiary",children:"+"})} button to add your first expense`})]});const l=c=>r.find(d=>d.id===c)?.name||"Unknown";return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-6",children:Object.entries(o).map(([c,h])=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3 px-1 uppercase tracking-wide",children:c}),f.jsx("div",{className:"space-y-3",children:h.map(d=>{const m=r.find(g=>g.id===d.created_by);return f.jsx(et,{className:"p-4 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20 overflow-hidden",onClick:()=>s(d.id),children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:lg(d.category)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"truncate font-medium",children:d.category}),d.payment_lines.length>1&&f.jsx(yn,{variant:"secondary",className:"text-xs bg-secondary-container/50 text-on-secondary-container",children:"Split"})]}),f.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:d.payment_lines.map(g=>f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-md bg-surface-variant/50 text-on-surface-variant",children:[W4(g.method)," ",Ne(g.amount,d.currency)]},g.id))}),d.notes&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 truncate",children:d.notes}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx(Dc,{className:"h-6 w-6 border border-outline-variant",children:f.jsx(Rc,{className:"text-xs bg-primary-container text-on-primary-container",children:m?Mc(m.name):"?"})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:l(d.created_by)})]})]})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsx("div",{className:"text-xl font-medium text-destructive",children:Ne(d.total_amount,d.currency)})})]})},d.id)})})]},c))}),i&&f.jsx(Nie,{expenseId:i,open:!!i,onClose:()=>s(null)})]})}function XM({filters:t}){const{income:e,users:n,currentUser:r}=ot();let i=e;return t&&(i=e.filter(s=>{if(t.searchQuery){const a=t.searchQuery.toLowerCase();if(!(s.source.toLowerCase().includes(a)||s.notes&&s.notes.toLowerCase().includes(a)))return!1}if(t.timeRange!=="all"){const a=new Date,o=new Date(s.date);switch(t.timeRange){case"today":if(o.toDateString()!==a.toDateString())return!1;break;case"week":const l=new Date(a);if(l.setDate(l.getDate()-7),o<l)return!1;break;case"month":const c=new Date(a);if(c.setMonth(c.getMonth()-1),o<c)return!1;break}}return!0})),i.length===0?f.jsx(et,{children:f.jsxs(xt,{className:"py-12 text-center",children:[f.jsx(Ei,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"No income matches your filters":"No income recorded yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"Try adjusting your filters":"Add your first income to start tracking"})]})}):f.jsx("div",{className:"space-y-3",children:i.map(s=>{const a=n.find(l=>l.id===s.created_by),o=s.created_by===r?.id;return f.jsxs(et,{className:"hover:shadow-md transition-shadow",children:[f.jsx(At,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Ct,{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-green-600",children:["+ ",Ne(s.amount)]})}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.source})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm",children:Cs(new Date(s.date))}),a&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[f.jsx(qP,{className:"h-3 w-3"}),f.jsx("span",{children:o?"You":a.name})]})]})]})}),s.notes&&f.jsx(xt,{className:"pt-0",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes})})]},s.id)})})}var Oie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Mie=Oie.reduce((t,e)=>{const n=mf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Die="Separator",QM="horizontal",Rie=["horizontal","vertical"],RU=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=QM,...i}=t,s=Iie(r)?r:QM,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(Mie.div,{"data-orientation":s,...o,...i,ref:e})});RU.displayName=Die;function Iie(t){return Rie.includes(t)}var Lie=RU;function d0({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return f.jsx(Lie,{"data-slot":"separator-root",decorative:n,orientation:e,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function Ht({...t}){return f.jsx(C5,{"data-slot":"dialog",...t})}function Fie({...t}){return f.jsx(Pte,{"data-slot":"dialog-trigger",...t})}function $ie({...t}){return f.jsx(P5,{"data-slot":"dialog-portal",...t})}const IU=C.forwardRef(({className:t,...e},n)=>f.jsx(Bv,{ref:n,"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));IU.displayName=Bv.displayName;function qt({className:t,children:e,...n}){return f.jsxs($ie,{"data-slot":"dialog-portal",children:[f.jsx(IU,{}),f.jsxs(E5,{"data-slot":"dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,f.jsxs(k5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(wu,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function an({className:t,...e}){return f.jsx("div",{"data-slot":"dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function on({className:t,...e}){return f.jsx(T5,{"data-slot":"dialog-title",className:Fe("text-lg leading-none font-semibold",t),...e})}function gn({className:t,...e}){return f.jsx(j5,{"data-slot":"dialog-description",className:Fe("text-muted-foreground text-sm",t),...e})}function Ya({className:t,...e}){return f.jsx("textarea",{"data-slot":"textarea",className:Fe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function Bie({goal:t,open:e,onClose:n}){if(!t)return null;const{currentUser:r,currentFamily:i,accounts:s,addGoalTransfer:a,updateGoal:o,addExpense:l}=ot(),[c,h]=C.useState(""),[d,m]=C.useState(""),[g,x]=C.useState("cash"),[y,b]=C.useState(""),[w,_]=C.useState(!1),A=()=>{h(""),m(""),x("cash"),b(""),n()},j=async()=>{if(!r||!i)return;const k=parseFloat(c);if(isNaN(k)||k<=0){ke.error("Please enter a valid amount");return}const O=t.target_amount-t.current_amount;if(k>O){ke.error(`Amount exceeds remaining target (${O.toFixed(2)})`);return}_(!0);try{const R={id:ln(),goal_id:t.id,from_account_id:d||void 0,amount:k,transfer_type:"manual",transfer_method:g,contributed_by:r.id,notes:y.trim()||void 0,transfer_date:new Date().toISOString(),created_at:new Date().toISOString(),sync_status:"pending"};await a(R);const F={id:ln(),method:g,amount:k,payer_user_id:r.id,account_id:d||"cash"},M={id:ln(),family_id:r.family_id,created_by:r.id,total_amount:k,currency:"INR",category:"savings",date:Cs(new Date),notes:`Contribution to goal: ${t.goal_name}`,payment_lines:[F],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await l(M);const D={...t,current_amount:t.current_amount+k,updated_at:new Date().toISOString()};D.current_amount>=D.target_amount&&(D.is_active=!1,D.completed_at=new Date().toISOString(),ke.success("Goal reached! ")),await o(D),ke.success(`Added ${k} to "${t.goal_name}"!`),A()}catch(R){console.error("Failed to add transfer:",R),ke.error("Failed to add money to goal")}finally{_(!1)}},P=t.target_amount-t.current_amount,T={cash:{icon:"",label:"Cash",description:"Save cash physically or deposit later",color:"from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",borderColor:"border-green-200 dark:border-green-800"},upi:{icon:"",label:"UPI",description:"Quick digital transfer via UPI apps",color:"from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",borderColor:"border-blue-200 dark:border-blue-800"},card:{icon:"",label:"Debit/Credit Card",description:"Using your card payments or rewards",color:"from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20",borderColor:"border-purple-200 dark:border-purple-800"},bank:{icon:"",label:"Bank Transfer",description:"Direct bank account transfer",color:"from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20",borderColor:"border-orange-200 dark:border-orange-800"},wallet:{icon:"",label:"Wallet",description:"Digital wallet or e-payment",color:"from-amber-50 to-yellow-50 dark:from-amber-950/20 dark:to-yellow-950/20",borderColor:"border-amber-200 dark:border-amber-800"}};return f.jsx(Ht,{open:e,onOpenChange:k=>!k&&A(),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(an,{children:[f.jsxs(on,{className:"flex items-center gap-2 text-2xl",children:[f.jsx($4,{className:"h-6 w-6 text-primary"}),"Add Money to Goal"]}),f.jsx(gn,{className:"text-base mt-2",children:f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-medium",children:t.goal_name}),f.jsxs("p",{className:"text-muted-foreground",children:["Remaining: ",Ne(P)]})]})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(et,{className:"p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(CZ,{className:"h-4 w-4 text-primary"}),f.jsx("p",{className:"font-medium",children:"How Much Can You Save?"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Remaining to reach goal:"}),f.jsx("span",{className:"text-2xl font-bold text-primary",children:Ne(P)})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["If you save ",Ne(Math.round(P/12))," per month, you can reach your goal in ~1 year"]})]})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Oe,{htmlFor:"amount",className:"text-base font-semibold",children:"How Much Do You Want to Save? *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-muted-foreground",children:""}),f.jsx(Mt,{id:"amount",type:"number",placeholder:"0",value:c,onChange:k=>h(k.target.value),step:"100",className:"pl-10 h-14 text-2xl font-semibold"})]}),c&&parseFloat(c)>0&&f.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/30",children:[f.jsxs("p",{className:"text-sm",children:["After this: ",f.jsx("span",{className:"font-semibold",children:Ne(t.current_amount+parseFloat(c))})," / ",Ne(t.target_amount)]}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Progress: ",f.jsxs("span",{className:"font-semibold",children:[((t.current_amount+parseFloat(c))/t.target_amount*100).toFixed(1),"%"]})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Oe,{className:"text-base font-semibold",children:"How Do You Want to Save? *"}),f.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-5",children:Object.entries(T).map(([k,O])=>f.jsxs("button",{onClick:()=>x(k),className:`p-3 rounded-xl border-2 transition-all ${g===k?`bg-gradient-to-br ${O.color} border-primary shadow-md scale-105`:"bg-white dark:bg-slate-950 border-border hover:border-primary/50"}`,children:[f.jsx("div",{className:"text-3xl mb-2",children:O.icon}),f.jsx("div",{className:"text-xs font-medium text-center leading-tight",children:O.label})]},k))}),T[g]&&f.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-muted",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:T[g].description})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"fromAccount",children:"Which Account? (optional)"}),f.jsxs($n,{value:d,onValueChange:m,children:[f.jsx(Un,{id:"fromAccount",className:"h-11",children:f.jsx(Bn,{placeholder:"Select account..."})}),f.jsxs(zn,{children:[f.jsx(De,{value:"",children:"No specific account"}),s.map(k=>f.jsxs(De,{value:k.id,children:[k.name," - ",Ne(k.current_balance)]},k.id)),s.length===0&&f.jsxs(f.Fragment,{children:[f.jsx(De,{value:"cash",children:"Cash"}),f.jsx(De,{value:"upi",children:"UPI"}),f.jsx(De,{value:"card",children:"Card"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"notes",children:"Add Notes (optional)"}),f.jsx(Ya,{id:"notes",placeholder:"e.g., Monthly contribution, Birthday savings, etc.",value:y,onChange:k=>b(k.target.value),rows:2,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[f.jsx(ve,{variant:"outline",onClick:A,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ve,{onClick:j,disabled:w||!c||parseFloat(c)<=0,className:"flex-1 h-12",children:w?"Saving...":`Save ${c?Ne(parseFloat(c)):"Money"}`})]})]})]})})}function Uie({goal:t,open:e,onClose:n}){const{users:r,goalTransfers:i,currentUser:s,accounts:a}=ot(),[o,l]=C.useState(!1);if(!t)return null;const c=r.find(w=>w.id===t.created_by),h=i.filter(w=>w.goal_id===t.id),d=Math.min(t.current_amount/t.target_amount*100,100),m=d>=100,x=(()=>{if(!t.target_date)return null;const w=new Date,_=new Date(t.target_date);return Math.ceil((_.getTime()-w.getTime())/(1e3*60*60*24))})(),y=w=>{switch(w){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},b=()=>[{percentage:25,label:"25%",achieved:d>=25},{percentage:50,label:"50%",achieved:d>=50},{percentage:75,label:"75%",achieved:d>=75},{percentage:100,label:"100%",achieved:d>=100}];return f.jsxs(f.Fragment,{children:[f.jsx(N5,{open:e,onOpenChange:n,children:f.jsxs(M5,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[f.jsx(Tte,{className:"mb-6",children:f.jsxs("div",{className:"flex items-start justify-between pr-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-4xl",children:t.goal_icon||""}),f.jsxs("div",{children:[f.jsx(D5,{className:"text-2xl",children:t.goal_name}),f.jsxs(R5,{className:"text-base mt-1",children:["Target: ",Ne(t.target_amount)]})]})]})}),f.jsxs(yn,{variant:"outline",className:`${y(t.priority)} border-current`,children:[t.priority," priority"]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(Ei,{className:"h-4 w-4"}),"Progress"]}),f.jsxs("span",{className:"text-2xl font-semibold",children:[d.toFixed(1),"%"]})]}),f.jsx(Rv,{value:d,className:"h-3"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Saved"}),f.jsx("p",{className:"font-semibold text-success",children:Ne(t.current_amount)})]}),f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Remaining"}),f.jsx("p",{className:"font-semibold",children:Ne(t.target_amount-t.current_amount)})]})]}),m&&f.jsx("div",{className:"p-4 bg-success/10 border-2 border-success/30 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-2 text-success",children:[f.jsx(fM,{className:"h-5 w-5"}),f.jsx("span",{className:"font-medium",children:"Goal Completed! "})]})})]}),f.jsx(d0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Milestones"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:b().map(w=>f.jsxs("div",{className:`p-3 rounded-lg text-center transition-all ${w.achieved?"bg-success/20 border-2 border-success/50":"bg-muted/30 border border-muted"}`,children:[w.achieved&&f.jsx(fM,{className:"h-4 w-4 mx-auto mb-1 text-success"}),f.jsx("p",{className:"text-sm font-medium",children:w.label})]},w.percentage))})]}),f.jsx(d0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Details"}),t.target_date&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ka,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("span",{className:"text-sm",children:["Target Date: ",Cs(new Date(t.target_date))]}),x!==null&&f.jsx("p",{className:"text-xs text-muted-foreground",children:x>0?`${x} days remaining`:x===0?"Due today!":`${Math.abs(x)} days overdue`})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(qP,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("span",{className:"text-sm",children:["Created by ",c?.name||"Unknown"]})]}),t.description&&f.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})})]}),f.jsx(d0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{children:["Contributions (",h.length,")"]}),!m&&f.jsxs(ve,{size:"sm",onClick:()=>l(!0),className:"gap-2",children:[f.jsx(Zr,{className:"h-4 w-4"}),"Add Money"]})]}),h.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx($4,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"No contributions yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Start saving towards this goal"})]}):f.jsx("div",{className:"space-y-2",children:h.sort((w,_)=>new Date(_.transfer_date).getTime()-new Date(w.transfer_date).getTime()).map(w=>{const _=r.find(A=>A.id===w.contributed_by);return f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium",children:_?.name||"Unknown"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[Cs(new Date(w.transfer_date)),w.from_account_id&&f.jsxs("span",{className:"ml-1",children:[" via ",a.find(A=>A.id===w.from_account_id)?.name||"Cash/External"]}),w.notes&&`  ${w.notes}`]})]}),f.jsxs("p",{className:"font-semibold text-success",children:["+",Ne(w.amount)]})]},w.id)})})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t",children:f.jsx(ve,{variant:"outline",onClick:n,className:"w-full",children:"Close"})})]})}),o&&f.jsx(Bie,{goal:t,open:o,onClose:()=>l(!1)})]})}function zie(){const{currentUser:t,goals:e}=ot(),[n,r]=C.useState(null),i=t?.role==="admin"?e:e.filter(d=>d.is_shared||d.created_by===t?.id),s=i.filter(d=>d.is_active),a=i.filter(d=>!d.is_active&&d.completed_at),o=d=>Math.min(d.current_amount/d.target_amount*100,100),l=d=>{if(!d.target_date)return null;const m=new Date,g=new Date(d.target_date);return Math.ceil((g.getTime()-m.getTime())/(1e3*60*60*24))},c=d=>{switch(d){case"high":return"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-950 dark:text-gray-300"}};if(i.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx(eh,{className:"h-12 w-12 text-primary"})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:"No goals yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first savings goal to get started"})]});const h=d=>{const m=o(d),g=l(d),x=m>=100;return f.jsx(et,{className:"p-5 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20",onClick:()=>r(d),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:d.goal_icon||""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"truncate font-medium",children:d.goal_name}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[f.jsx(yn,{variant:"outline",className:c(d.priority),children:d.priority}),x&&f.jsx(yn,{className:"bg-success text-white",children:" Completed"})]})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Target"}),f.jsx("p",{className:"font-semibold",children:Ne(d.target_amount)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Progress"}),f.jsxs("span",{className:"font-medium",children:[m.toFixed(1),"%"]})]}),f.jsx(Rv,{value:m,className:"h-2"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("span",{className:"text-muted-foreground",children:["Saved: ",Ne(d.current_amount)]}),f.jsxs("span",{className:"text-muted-foreground",children:["Remaining: ",Ne(d.target_amount-d.current_amount)]})]})]}),g!==null&&f.jsx("div",{className:"text-sm text-muted-foreground",children:g>0?f.jsxs("span",{children:[" ",g," days remaining"]}):g===0?f.jsx("span",{className:"text-orange-600",children:" Due today!"}):f.jsxs("span",{className:"text-red-600",children:[" ",Math.abs(g)," days overdue"]})})]})},d.id)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Active Goals (",s.length,")"]}),s.map(h)]}),a.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Completed Goals (",a.length,")"]}),a.map(h)]})]}),n&&f.jsx(Uie,{goal:n,open:!!n,onClose:()=>r(null)})]})}function it(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ni(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gr(t,e){const n=it(t);return isNaN(e)?ni(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ti(t,e){const n=it(t);if(isNaN(e))return ni(t,NaN);if(!e)return n;const r=n.getDate(),i=ni(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const mE=6048e5,Vie=864e5;let Wie={};function Pf(){return Wie}function ji(t,e){const n=Pf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=it(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function rl(t){return ji(t,{weekStartsOn:1})}function LU(t){const e=it(t),n=e.getFullYear(),r=ni(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=rl(r),s=ni(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=rl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Lc(t){const e=it(t);return e.setHours(0,0,0,0),e}function gg(t){const e=it(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ps(t,e){const n=Lc(t),r=Lc(e),i=+n-gg(n),s=+r-gg(r);return Math.round((i-s)/Vie)}function Hie(t){const e=LU(t),n=ni(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),rl(n)}function vg(t,e){const n=e*7;return gr(t,n)}function qie(t,e){return Ti(t,e*12)}function Gie(t){let e;return t.forEach(function(n){const r=it(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Kie(t){let e;return t.forEach(n=>{const r=it(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Dr(t,e){const n=Lc(t),r=Lc(e);return+n==+r}function gE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yie(t){if(!gE(t)&&typeof t!="number")return!1;const e=it(t);return!isNaN(Number(e))}function xh(t,e){const n=it(t),r=it(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Xie(t,e,n){const r=ji(t,n),i=ji(e,n),s=+r-gg(r),a=+i-gg(i);return Math.round((s-a)/mE)}function wh(t){const e=it(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function ur(t){const e=it(t);return e.setDate(1),e.setHours(0,0,0,0),e}function FU(t){const e=it(t),n=ni(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Sh(t,e){const n=Pf(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=it(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function $U(t){return Sh(t,{weekStartsOn:1})}const Qie={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zie=(t,e,n)=>{let r;const i=Qie[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function h0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Jie={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ese={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nse={date:h0({formats:Jie,defaultWidth:"full"}),time:h0({formats:ese,defaultWidth:"full"}),dateTime:h0({formats:tse,defaultWidth:"full"})},rse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ise=(t,e,n,r)=>rse[t];function Ad(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const sse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ase={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ose={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},cse={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},use={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hse={ordinalNumber:dse,era:Ad({values:sse,defaultWidth:"wide"}),quarter:Ad({values:ase,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ad({values:ose,defaultWidth:"wide"}),day:Ad({values:lse,defaultWidth:"wide"}),dayPeriod:Ad({values:cse,defaultWidth:"wide",formattingValues:use,defaultFormattingWidth:"wide"})};function Cd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?pse(o,d=>d.test(a)):fse(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}function fse(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function mse(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const gse=/^(\d+)(th|st|nd|rd)?/i,vse=/\d+/i,yse={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bse={any:[/^b/i,/^(a|c)/i]},xse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},wse={any:[/1/i,/2/i,/3/i,/4/i]},Sse={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_se={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ase={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cse={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ese={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tse={ordinalNumber:mse({matchPattern:gse,parsePattern:vse,valueCallback:t=>parseInt(t,10)}),era:Cd({matchPatterns:yse,defaultMatchWidth:"wide",parsePatterns:bse,defaultParseWidth:"any"}),quarter:Cd({matchPatterns:xse,defaultMatchWidth:"wide",parsePatterns:wse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cd({matchPatterns:Sse,defaultMatchWidth:"wide",parsePatterns:_se,defaultParseWidth:"any"}),day:Cd({matchPatterns:Ase,defaultMatchWidth:"wide",parsePatterns:Cse,defaultParseWidth:"any"}),dayPeriod:Cd({matchPatterns:Pse,defaultMatchWidth:"any",parsePatterns:Ese,defaultParseWidth:"any"})},BU={code:"en-US",formatDistance:Zie,formatLong:nse,formatRelative:ise,localize:hse,match:Tse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function jse(t){const e=it(t);return ps(e,FU(e))+1}function UU(t){const e=it(t),n=+rl(e)-+Hie(e);return Math.round(n/mE)+1}function zU(t,e){const n=it(t),r=n.getFullYear(),i=Pf(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=ni(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=ji(a,e),l=ni(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=ji(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function kse(t,e){const n=Pf(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=zU(t,e),s=ni(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ji(s,e)}function VU(t,e){const n=it(t),r=+ji(n,e)-+kse(n,e);return Math.round(r/mE)+1}function bt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Ba={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return bt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):bt(n+1,2)},d(t,e){return bt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return bt(t.getHours()%12||12,e.length)},H(t,e){return bt(t.getHours(),e.length)},m(t,e){return bt(t.getMinutes(),e.length)},s(t,e){return bt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return bt(i,e.length)}},Xl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ZM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ba.y(t,e)},Y:function(t,e,n,r){const i=zU(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return bt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):bt(s,e.length)},R:function(t,e){const n=LU(t);return bt(n,e.length)},u:function(t,e){const n=t.getFullYear();return bt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return bt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return bt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Ba.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return bt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=VU(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):bt(i,e.length)},I:function(t,e,n){const r=UU(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):bt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Ba.d(t,e)},D:function(t,e,n){const r=jse(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):bt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return bt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return bt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return bt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Xl.noon:r===0?i=Xl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Xl.evening:r>=12?i=Xl.afternoon:r>=4?i=Xl.morning:i=Xl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ba.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Ba.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):bt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ba.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Ba.s(t,e)},S:function(t,e){return Ba.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return e2(r);case"XXXX":case"XX":return Io(r);case"XXXXX":case"XXX":default:return Io(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return e2(r);case"xxxx":case"xx":return Io(r);case"xxxxx":case"xxx":default:return Io(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+JM(r,":");case"OOOO":default:return"GMT"+Io(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+JM(r,":");case"zzzz":default:return"GMT"+Io(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return bt(r,e.length)},T:function(t,e,n){const r=t.getTime();return bt(r,e.length)}};function JM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+bt(s,2)}function e2(t,e){return t%60===0?(t>0?"-":"+")+bt(Math.abs(t)/60,2):Io(t,e)}function Io(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=bt(Math.trunc(r/60),2),s=bt(r%60,2);return n+i+e+s}const t2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},WU=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Nse=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return t2(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",t2(r,e)).replace("{{time}}",WU(i,e))},Ose={p:WU,P:Nse},Mse=/^D+$/,Dse=/^Y+$/,Rse=["D","DD","YY","YYYY"];function Ise(t){return Mse.test(t)}function Lse(t){return Dse.test(t)}function Fse(t,e,n){const r=$se(t,e,n);if(console.warn(r),Rse.includes(t))throw new RangeError(r)}function $se(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bse=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Use=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zse=/^'([^]*?)'?$/,Vse=/''/g,Wse=/[a-zA-Z]/;function Ss(t,e,n){const r=Pf(),i=n?.locale??r.locale??BU,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=it(t);if(!Yie(o))throw new RangeError("Invalid time value");let l=e.match(Use).map(h=>{const d=h[0];if(d==="p"||d==="P"){const m=Ose[d];return m(h,i.formatLong)}return h}).join("").match(Bse).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const d=h[0];if(d==="'")return{isToken:!1,value:Hse(h)};if(ZM[d])return{isToken:!0,value:h};if(d.match(Wse))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(h=>{if(!h.isToken)return h.value;const d=h.value;(!n?.useAdditionalWeekYearTokens&&Lse(d)||!n?.useAdditionalDayOfYearTokens&&Ise(d))&&Fse(d,e,String(t));const m=ZM[d[0]];return m(o,d,i.localize,c)}).join("")}function Hse(t){const e=t.match(zse);return e?e[1].replace(Vse,"'"):t}function qse(t){const e=it(t),n=e.getFullYear(),r=e.getMonth(),i=ni(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Gse(t){return Math.trunc(+it(t)/1e3)}function Kse(t){const e=it(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Yse(t,e){return Xie(Kse(t),ur(t),e)+1}function gA(t,e){const n=it(t),r=it(e);return n.getTime()>r.getTime()}function HU(t,e){const n=it(t),r=it(e);return+n<+r}function vE(t,e){const n=it(t),r=it(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Xse(t,e){const n=it(t),r=it(e);return n.getFullYear()===r.getFullYear()}function f0(t,e){const n=+it(t),[r,i]=[+it(e.start),+it(e.end)].sort((s,a)=>s-a);return n>=r&&n<=i}function p0(t,e){return gr(t,-e)}function m0(t,e){const n=it(t),r=n.getFullYear(),i=n.getDate(),s=ni(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=qse(s);return n.setMonth(e,Math.min(i,a)),n}function n2(t,e){const n=it(t);return isNaN(+n)?ni(t,NaN):(n.setFullYear(e),n)}function r2(t,e){return Ti(t,-1)}function i2(t,e){return vg(t,-1)}var Ve=function(){return Ve=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ve.apply(this,arguments)};function Qse(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qU(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Ef(t){return t.mode==="multiple"}function Tf(t){return t.mode==="range"}function Xv(t){return t.mode==="single"}var Zse={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Jse(t,e){return Ss(t,"LLLL y",e)}function eae(t,e){return Ss(t,"d",e)}function tae(t,e){return Ss(t,"LLLL",e)}function nae(t){return"".concat(t)}function rae(t,e){return Ss(t,"cccccc",e)}function iae(t,e){return Ss(t,"yyyy",e)}var sae=Object.freeze({__proto__:null,formatCaption:Jse,formatDay:eae,formatMonthCaption:tae,formatWeekNumber:nae,formatWeekdayName:rae,formatYearCaption:iae}),aae=function(t,e,n){return Ss(t,"do MMMM (EEEE)",n)},oae=function(){return"Month: "},lae=function(){return"Go to next month"},cae=function(){return"Go to previous month"},uae=function(t,e){return Ss(t,"cccc",e)},dae=function(t){return"Week n. ".concat(t)},hae=function(){return"Year: "},fae=Object.freeze({__proto__:null,labelDay:aae,labelMonthDropdown:oae,labelNext:lae,labelPrevious:cae,labelWeekNumber:dae,labelWeekday:uae,labelYearDropdown:hae});function pae(){var t="buttons",e=Zse,n=BU,r={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:sae,labels:fae,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function mae(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=ur(r):e&&(s=new Date(e,0,1)),i?a=wh(i):n&&(a=new Date(n,11,31)),{fromDate:s?Lc(s):void 0,toDate:a?Lc(a):void 0}}var GU=C.createContext(void 0);function gae(t){var e,n=t.initialProps,r=pae(),i=mae(n),s=i.fromDate,a=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(Xv(n)||Ef(n)||Tf(n))&&(l=n.onSelect);var c=Ve(Ve(Ve({},r),n),{captionLayout:o,classNames:Ve(Ve({},r.classNames),n.classNames),components:Ve({},n.components),formatters:Ve(Ve({},r.formatters),n.formatters),fromDate:s,labels:Ve(Ve({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ve(Ve({},r.modifiers),n.modifiers),modifiersClassNames:Ve(Ve({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Ve(Ve({},r.styles),n.styles),toDate:a});return f.jsx(GU.Provider,{value:c,children:t.children})}function Dt(){var t=C.useContext(GU);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function KU(t){var e=Dt(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return f.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function vae(t){return f.jsx("svg",Ve({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:f.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function YU(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,c=Dt(),h=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:vae;return f.jsxs("div",{className:o,style:l,children:[f.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),f.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),f.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,f.jsx(h,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function yae(t){var e,n=Dt(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,h=n.labels.labelMonthDropdown;if(!r)return f.jsx(f.Fragment,{});if(!i)return f.jsx(f.Fragment,{});var d=[];if(Xse(r,i))for(var m=ur(r),g=r.getMonth();g<=i.getMonth();g++)d.push(m0(m,g));else for(var m=ur(new Date),g=0;g<=11;g++)d.push(m0(m,g));var x=function(b){var w=Number(b.target.value),_=m0(ur(t.displayMonth),w);t.onChange(_)},y=(e=c?.Dropdown)!==null&&e!==void 0?e:YU;return f.jsx(y,{name:"months","aria-label":h(),className:l.dropdown_month,style:s.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:d.map(function(b){return f.jsx("option",{value:b.getMonth(),children:o(b,{locale:a})},b.getMonth())})})}function bae(t){var e,n=t.displayMonth,r=Dt(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,l=r.classNames,c=r.components,h=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,m=[];if(!i)return f.jsx(f.Fragment,{});if(!s)return f.jsx(f.Fragment,{});for(var g=i.getFullYear(),x=s.getFullYear(),y=g;y<=x;y++)m.push(n2(FU(new Date),y));var b=function(_){var A=n2(ur(n),Number(_.target.value));t.onChange(A)},w=(e=c?.Dropdown)!==null&&e!==void 0?e:YU;return f.jsx(w,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:b,value:n.getFullYear(),caption:h(n,{locale:a}),children:m.map(function(_){return f.jsx("option",{value:_.getFullYear(),children:h(_,{locale:a})},_.getFullYear())})})}function xae(t,e){var n=C.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function wae(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&xh(s,i)<0){var c=-1*(l-1);i=Ti(s,c)}return a&&xh(i,a)<0&&(i=a),ur(i)}function Sae(){var t=Dt(),e=wae(t),n=xae(e,t.month),r=n[0],i=n[1],s=function(a){var o;if(!t.disableNavigation){var l=ur(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,s]}function _ae(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=ur(t),s=ur(Ti(i,r)),a=xh(s,i),o=[],l=0;l<a;l++){var c=Ti(i,l);o.push(c)}return n&&(o=o.reverse()),o}function Aae(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=ur(t);if(!n)return Ti(o,a);var l=xh(n,t);if(!(l<s))return Ti(o,a)}}function Cae(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=ur(t);if(!n)return Ti(o,-a);var l=xh(o,n);if(!(l<=0))return Ti(o,-a)}}var XU=C.createContext(void 0);function Pae(t){var e=Dt(),n=Sae(),r=n[0],i=n[1],s=_ae(r,e),a=Aae(r,e),o=Cae(r,e),l=function(d){return s.some(function(m){return vE(d,m)})},c=function(d,m){l(d)||(m&&HU(d,m)?i(Ti(d,1+e.numberOfMonths*-1)):i(d))},h={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:l};return f.jsx(XU.Provider,{value:h,children:t.children})}function jf(){var t=C.useContext(XU);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function s2(t){var e,n=Dt(),r=n.classNames,i=n.styles,s=n.components,a=jf().goToMonth,o=function(h){a(Ti(h,t.displayIndex?-t.displayIndex:0))},l=(e=s?.CaptionLabel)!==null&&e!==void 0?e:KU,c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth});return f.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[f.jsx("div",{className:r.vhidden,children:c}),f.jsx(yae,{onChange:o,displayMonth:t.displayMonth}),f.jsx(bae,{onChange:o,displayMonth:t.displayMonth})]})}function Eae(t){return f.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Tae(t){return f.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var yg=C.forwardRef(function(t,e){var n=Dt(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),o=Ve(Ve({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),f.jsx("button",Ve({},t,{ref:e,type:"button",className:a,style:o}))});function jae(t){var e,n,r=Dt(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,l=r.labels,c=l.labelPrevious,h=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return f.jsx(f.Fragment,{});var m=c(t.previousMonth,{locale:s}),g=[a.nav_button,a.nav_button_previous].join(" "),x=h(t.nextMonth,{locale:s}),y=[a.nav_button,a.nav_button_next].join(" "),b=(e=d?.IconRight)!==null&&e!==void 0?e:Tae,w=(n=d?.IconLeft)!==null&&n!==void 0?n:Eae;return f.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&f.jsx(yg,{name:"previous-month","aria-label":m,className:g,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?f.jsx(b,{className:a.nav_icon,style:o.nav_icon}):f.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&f.jsx(yg,{name:"next-month","aria-label":x,className:y,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?f.jsx(w,{className:a.nav_icon,style:o.nav_icon}):f.jsx(b,{className:a.nav_icon,style:o.nav_icon})})]})}function a2(t){var e=Dt().numberOfMonths,n=jf(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(x){return vE(t.displayMonth,x)}),l=o===0,c=o===a.length-1,h=e>1&&(l||!c),d=e>1&&(c||!l),m=function(){r&&s(r)},g=function(){i&&s(i)};return f.jsx(jae,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:g})}function kae(t){var e,n=Dt(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,l=(e=o?.CaptionLabel)!==null&&e!==void 0?e:KU,c;return i?c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?c=f.jsx(s2,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?c=f.jsxs(f.Fragment,{children:[f.jsx(s2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),f.jsx(a2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=f.jsxs(f.Fragment,{children:[f.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(a2,{displayMonth:t.displayMonth,id:t.id})]}),f.jsx("div",{className:r.caption,style:s.caption,children:c})}function Nae(t){var e=Dt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?f.jsx("tfoot",{className:i,style:r.tfoot,children:f.jsx("tr",{children:f.jsx("td",{colSpan:8,children:n})})}):f.jsx(f.Fragment,{})}function Oae(t,e,n){for(var r=n?rl(new Date):ji(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=gr(r,s);i.push(a)}return i}function Mae(){var t=Dt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=Oae(i,s,a);return f.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&f.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(h,d){return f.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(h,{locale:i}),children:o(h,{locale:i})},d)})]})}function Dae(){var t,e=Dt(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:Mae;return f.jsx("thead",{style:r.head,className:n.head,children:f.jsx(s,{})})}function Rae(t){var e=Dt(),n=e.locale,r=e.formatters.formatDay;return f.jsx(f.Fragment,{children:r(t.date,{locale:n})})}var yE=C.createContext(void 0);function Iae(t){if(!Ef(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return f.jsx(yE.Provider,{value:e,children:t.children})}return f.jsx(Lae,{initialProps:t.initialProps,children:t.children})}function Lae(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(c,h,d){var m,g;(m=e.onDayClick)===null||m===void 0||m.call(e,c,h,d);var x=!!(h.selected&&i&&r?.length===i);if(!x){var y=!!(!h.selected&&s&&r?.length===s);if(!y){var b=r?qU([],r):[];if(h.selected){var w=b.findIndex(function(_){return Dr(c,_)});b.splice(w,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,h,d)}}},o={disabled:[]};r&&o.disabled.push(function(c){var h=s&&r.length>s-1,d=r.some(function(m){return Dr(m,c)});return!!(h&&!d)});var l={selected:r,onDayClick:a,modifiers:o};return f.jsx(yE.Provider,{value:l,children:n})}function bE(){var t=C.useContext(yE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Fae(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Dr(i,t)&&Dr(r,t)?void 0:Dr(i,t)?{from:i,to:void 0}:Dr(r,t)?void 0:gA(r,t)?{from:t,to:i}:{from:r,to:t}:i?gA(t,i)?{from:i,to:t}:{from:t,to:i}:r?HU(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var xE=C.createContext(void 0);function $ae(t){if(!Tf(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return f.jsx(xE.Provider,{value:e,children:t.children})}return f.jsx(Bae,{initialProps:t.initialProps,children:t.children})}function Bae(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,o=e.min,l=e.max,c=function(g,x,y){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,g,x,y);var _=Fae(g,r);(w=e.onSelect)===null||w===void 0||w.call(e,_,g,x,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(h.range_start=[s],a?(h.range_end=[a],Dr(s,a)||(h.range_middle=[{after:s,before:a}])):h.range_end=[s]):a&&(h.range_start=[a],h.range_end=[a]),o&&(s&&!a&&h.disabled.push({after:p0(s,o-1),before:gr(s,o-1)}),s&&a&&h.disabled.push({after:s,before:gr(s,o-1)}),!s&&a&&h.disabled.push({after:p0(a,o-1),before:gr(a,o-1)})),l){if(s&&!a&&(h.disabled.push({before:gr(s,-l+1)}),h.disabled.push({after:gr(s,l-1)})),s&&a){var d=ps(a,s)+1,m=l-d;h.disabled.push({before:p0(s,m)}),h.disabled.push({after:gr(a,m)})}!s&&a&&(h.disabled.push({before:gr(a,-l+1)}),h.disabled.push({after:gr(a,l-1)}))}return f.jsx(xE.Provider,{value:{selected:r,onDayClick:c,modifiers:h},children:n})}function wE(){var t=C.useContext(xE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Xm(t){return Array.isArray(t)?qU([],t):t!==void 0?[t]:[]}function Uae(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Xm(i)}),e}var Zi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Zi||(Zi={}));var zae=Zi.Selected,Hs=Zi.Disabled,Vae=Zi.Hidden,Wae=Zi.Today,g0=Zi.RangeEnd,v0=Zi.RangeMiddle,y0=Zi.RangeStart,Hae=Zi.Outside;function qae(t,e,n){var r,i=(r={},r[zae]=Xm(t.selected),r[Hs]=Xm(t.disabled),r[Vae]=Xm(t.hidden),r[Wae]=[t.today],r[g0]=[],r[v0]=[],r[y0]=[],r[Hae]=[],r);return t.fromDate&&i[Hs].push({before:t.fromDate}),t.toDate&&i[Hs].push({after:t.toDate}),Ef(t)?i[Hs]=i[Hs].concat(e.modifiers[Hs]):Tf(t)&&(i[Hs]=i[Hs].concat(n.modifiers[Hs]),i[y0]=n.modifiers[y0],i[v0]=n.modifiers[v0],i[g0]=n.modifiers[g0]),i}var QU=C.createContext(void 0);function Gae(t){var e=Dt(),n=bE(),r=wE(),i=qae(e,n,r),s=Uae(e.modifiers),a=Ve(Ve({},i),s);return f.jsx(QU.Provider,{value:a,children:t.children})}function ZU(){var t=C.useContext(QU);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Kae(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Yae(t){return!!(t&&typeof t=="object"&&"from"in t)}function Xae(t){return!!(t&&typeof t=="object"&&"after"in t)}function Qae(t){return!!(t&&typeof t=="object"&&"before"in t)}function Zae(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Jae(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=ps(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=ps(t,r)>=0&&ps(i,t)>=0;return a}return i?Dr(i,t):r?Dr(r,t):!1}function eoe(t){return gE(t)}function toe(t){return Array.isArray(t)&&t.every(gE)}function noe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(eoe(n))return Dr(t,n);if(toe(n))return n.includes(t);if(Yae(n))return Jae(t,n);if(Zae(n))return n.dayOfWeek.includes(t.getDay());if(Kae(n)){var r=ps(n.before,t),i=ps(n.after,t),s=r>0,a=i<0,o=gA(n.before,n.after);return o?a&&s:s||a}return Xae(n)?ps(t,n.after)>0:Qae(n)?ps(n.before,t)>0:typeof n=="function"?n(t):!1})}function SE(t,e,n){var r=Object.keys(e).reduce(function(s,a){var o=e[a];return noe(t,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!vE(t,n)&&(i.outside=!0),i}function roe(t,e){for(var n=ur(t[0]),r=wh(t[t.length-1]),i,s,a=n;a<=r;){var o=SE(a,e),l=!o.disabled&&!o.hidden;if(!l){a=gr(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=gr(a,1)}return s||i}var ioe=365;function JU(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,c=i.fromDate,h=i.toDate,d=i.locale,m={day:gr,week:vg,month:Ti,year:qie,startOfWeek:function(b){return i.ISOWeek?rl(b):ji(b,{locale:d,weekStartsOn:l})},endOfWeek:function(b){return i.ISOWeek?$U(b):Sh(b,{locale:d,weekStartsOn:l})}},g=m[n](t,r==="after"?1:-1);r==="before"&&c?g=Gie([c,g]):r==="after"&&h&&(g=Kie([h,g]));var x=!0;if(s){var y=SE(g,s);x=!y.disabled&&!y.hidden}return x?g:o.count>ioe?o.lastFocused:JU(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Ve(Ve({},o),{count:o.count+1})})}var ez=C.createContext(void 0);function soe(t){var e=jf(),n=ZU(),r=C.useState(),i=r[0],s=r[1],a=C.useState(),o=a[0],l=a[1],c=roe(e.displayMonths,n),h=i??(o&&e.isDateDisplayed(o))?o:c,d=function(){l(i),s(void 0)},m=function(b){s(b)},g=Dt(),x=function(b,w){if(i){var _=JU(i,{moveBy:b,direction:w,context:g,modifiers:n});Dr(i,_)||(e.goToDate(_,i),m(_))}},y={focusedDay:i,focusTarget:h,blur:d,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return f.jsx(ez.Provider,{value:y,children:t.children})}function _E(){var t=C.useContext(ez);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function aoe(t,e){var n=ZU(),r=SE(t,n,e);return r}var AE=C.createContext(void 0);function ooe(t){if(!Xv(t.initialProps)){var e={selected:void 0};return f.jsx(AE.Provider,{value:e,children:t.children})}return f.jsx(loe,{initialProps:t.initialProps,children:t.children})}function loe(t){var e=t.initialProps,n=t.children,r=function(s,a,o){var l,c,h;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,a,o);return}(h=e.onSelect)===null||h===void 0||h.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:r};return f.jsx(AE.Provider,{value:i,children:n})}function tz(){var t=C.useContext(AE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function coe(t,e){var n=Dt(),r=tz(),i=bE(),s=wE(),a=_E(),o=a.focusDayAfter,l=a.focusDayBefore,c=a.focusWeekAfter,h=a.focusWeekBefore,d=a.blur,m=a.focus,g=a.focusMonthBefore,x=a.focusMonthAfter,y=a.focusYearBefore,b=a.focusYearAfter,w=a.focusStartOfWeek,_=a.focusEndOfWeek,A=function(B){var L,W,X,U;Xv(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,B):Ef(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,B):Tf(n)?(X=s.onDayClick)===null||X===void 0||X.call(s,t,e,B):(U=n.onDayClick)===null||U===void 0||U.call(n,t,e,B)},j=function(B){var L;m(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,B)},P=function(B){var L;d(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,B)},T=function(B){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,B)},k=function(B){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,B)},O=function(B){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,B)},R=function(B){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,B)},F=function(B){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,B)},M=function(B){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,B)},D=function(B){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,B)},$=function(B){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,B)},H=function(B){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,B)},q=function(B){var L;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),c();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),h();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?y():g();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?b():x();break;case"Home":B.preventDefault(),B.stopPropagation(),w();break;case"End":B.preventDefault(),B.stopPropagation(),_();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,B)},V={onClick:A,onFocus:j,onBlur:P,onKeyDown:q,onKeyUp:H,onMouseEnter:T,onMouseLeave:k,onPointerEnter:O,onPointerLeave:R,onTouchCancel:F,onTouchEnd:M,onTouchMove:D,onTouchStart:$};return V}function uoe(){var t=Dt(),e=tz(),n=bE(),r=wE(),i=Xv(t)?e.selected:Ef(t)?n.selected:Tf(t)?r.selected:void 0;return i}function doe(t){return Object.values(Zi).includes(t)}function hoe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(doe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function foe(t,e){var n=Ve({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Ve(Ve({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function poe(t,e,n){var r,i,s,a=Dt(),o=_E(),l=aoe(t,e),c=coe(t,l),h=uoe(),d=!!(a.onDayClick||a.mode!=="default");C.useEffect(function(){var T;l.outside||o.focusedDay&&d&&Dr(o.focusedDay,t)&&((T=n.current)===null||T===void 0||T.focus())},[o.focusedDay,t,n,d,l.outside]);var m=hoe(a,l).join(" "),g=foe(a,l),x=!!(l.outside&&!a.showOutsideDays||l.hidden),y=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Rae,b=f.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),w={style:g,className:m,children:b,role:"gridcell"},_=o.focusTarget&&Dr(o.focusTarget,t)&&!l.outside,A=o.focusedDay&&Dr(o.focusedDay,t),j=Ve(Ve(Ve({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=A||_?0:-1,r)),c),P={isButton:d,isHidden:x,activeModifiers:l,selectedDays:h,buttonProps:j,divProps:w};return P}function moe(t){var e=C.useRef(null),n=poe(t.date,t.displayMonth,e);return n.isHidden?f.jsx("div",{role:"gridcell"}):n.isButton?f.jsx(yg,Ve({name:"day",ref:e},n.buttonProps)):f.jsx("div",Ve({},n.divProps))}function goe(t){var e=t.number,n=t.dates,r=Dt(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,h=c(Number(e),{locale:o});if(!i)return f.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:h});var d=l(Number(e),{locale:o}),m=function(g){i(e,n,g)};return f.jsx(yg,{name:"week-number","aria-label":d,className:a.weeknumber,style:s.weeknumber,onClick:m,children:h})}function voe(t){var e,n,r=Dt(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,l=(e=o?.Day)!==null&&e!==void 0?e:moe,c=(n=o?.WeekNumber)!==null&&n!==void 0?n:goe,h;return a&&(h=f.jsx("td",{className:s.cell,style:i.cell,children:f.jsx(c,{number:t.weekNumber,dates:t.dates})})),f.jsxs("tr",{className:s.row,style:i.row,children:[h,t.dates.map(function(d){return f.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:f.jsx(l,{displayMonth:t.displayMonth,date:d})},Gse(d))})]})}function o2(t,e,n){for(var r=n?.ISOWeek?$U(e):Sh(e,n),i=n?.ISOWeek?rl(t):ji(t,n),s=ps(r,i),a=[],o=0;o<=s;o++)a.push(gr(i,o));var l=a.reduce(function(c,h){var d=n?.ISOWeek?UU(h):VU(h,n),m=c.find(function(g){return g.weekNumber===d});return m?(m.dates.push(h),c):(c.push({weekNumber:d,dates:[h]}),c)},[]);return l}function yoe(t,e){var n=o2(ur(t),wh(t),e);if(e?.useFixedWeeks){var r=Yse(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=vg(s,6-r),o=o2(vg(s,1),a,e);n.push.apply(n,o)}}return n}function boe(t){var e,n,r,i=Dt(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,c=i.fixedWeeks,h=i.components,d=i.weekStartsOn,m=i.firstWeekContainsDate,g=i.ISOWeek,x=yoe(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:d,firstWeekContainsDate:m}),y=(e=h?.Head)!==null&&e!==void 0?e:Dae,b=(n=h?.Row)!==null&&n!==void 0?n:voe,w=(r=h?.Footer)!==null&&r!==void 0?r:Nae;return f.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&f.jsx(y,{}),f.jsx("tbody",{className:a.tbody,style:o.tbody,children:x.map(function(_){return f.jsx(b,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),f.jsx(w,{displayMonth:t.displayMonth})]})}function xoe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var woe=xoe()?C.useLayoutEffect:C.useEffect,b0=!1,Soe=0;function l2(){return"react-day-picker-".concat(++Soe)}function _oe(t){var e,n=t??(b0?l2():null),r=C.useState(n),i=r[0],s=r[1];return woe(function(){i===null&&s(l2())},[]),C.useEffect(function(){b0===!1&&(b0=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Aoe(t){var e,n,r=Dt(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,l=jf().displayMonths,c=_oe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[s.month],m=a.month,g=t.displayIndex===0,x=t.displayIndex===l.length-1,y=!g&&!x;i==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(d.push(s.caption_start),m=Ve(Ve({},m),a.caption_start)),x&&(d.push(s.caption_end),m=Ve(Ve({},m),a.caption_end)),y&&(d.push(s.caption_between),m=Ve(Ve({},m),a.caption_between));var b=(n=o?.Caption)!==null&&n!==void 0?n:kae;return f.jsxs("div",{className:d.join(" "),style:m,children:[f.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(boe,{id:h,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function Coe(t){var e=Dt(),n=e.classNames,r=e.styles;return f.jsx("div",{className:n.months,style:r.months,children:t.children})}function Poe(t){var e,n,r=t.initialProps,i=Dt(),s=_E(),a=jf(),o=C.useState(!1),l=o[0],c=o[1];C.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var d=Ve(Ve({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var b;return Ve(Ve({},x),(b={},b[y]=r[y],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Coe;return f.jsx("div",Ve({className:h.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:f.jsx(g,{children:a.displayMonths.map(function(x,y){return f.jsx(Aoe,{displayIndex:y,displayMonth:x},y)})})}))}function Eoe(t){var e=t.children,n=Qse(t,["children"]);return f.jsx(gae,{initialProps:n,children:f.jsx(Pae,{children:f.jsx(ooe,{initialProps:n,children:f.jsx(Iae,{initialProps:n,children:f.jsx($ae,{initialProps:n,children:f.jsx(Gae,{children:f.jsx(soe,{children:e})})})})})})})}function Toe(t){return f.jsx(Eoe,Ve({},t,{children:f.jsx(Poe,{initialProps:t})}))}function bg({className:t,classNames:e,showOutsideDays:n=!0,...r}){return f.jsx(Toe,{showOutsideDays:n,className:Fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Fe(L_({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Fe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Fe(L_({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>f.jsx(zQ,{className:Fe("size-4",i),...s}),IconRight:({className:i,...s})=>f.jsx(F4,{className:Fe("size-4",i),...s})},...r})}function joe(t){const e=koe(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Ooe);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function koe(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Doe(i),o=Moe(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Noe=Symbol("radix.slottable");function Ooe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Noe}function Moe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Doe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Qv="Popover",[nz]=Oi(Qv,[Cu]),kf=Cu(),[Roe,ao]=nz(Qv),rz=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=kf(e),l=C.useRef(null),[c,h]=C.useState(!1),[d,m]=sa({prop:r,defaultProp:i??!1,onChange:s,caller:Qv});return f.jsx(uE,{...o,children:f.jsx(Roe,{scope:e,contentId:Ki(),triggerRef:l,open:d,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>h(!0),[]),onCustomAnchorRemove:C.useCallback(()=>h(!1),[]),modal:a,children:n})})};rz.displayName=Qv;var iz="PopoverAnchor",Ioe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(iz,n),s=kf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return C.useEffect(()=>(a(),()=>o()),[a,o]),f.jsx(qv,{...s,...r,ref:e})});Ioe.displayName=iz;var sz="PopoverTrigger",az=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(sz,n),s=kf(n),a=Ze(e,i.triggerRef),o=f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dz(i.open),...r,ref:a,onClick:ye(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:f.jsx(qv,{asChild:!0,...s,children:o})});az.displayName=sz;var CE="PopoverPortal",[Loe,Foe]=nz(CE,{forceMount:void 0}),oz=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=ao(CE,e);return f.jsx(Loe,{scope:e,forceMount:n,children:f.jsx(wr,{present:n||s.open,children:f.jsx(_f,{asChild:!0,container:i,children:r})})})};oz.displayName=CE;var Fc="PopoverContent",lz=C.forwardRef((t,e)=>{const n=Foe(Fc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=ao(Fc,t.__scopePopover);return f.jsx(wr,{present:r||s.open,children:s.modal?f.jsx(Boe,{...i,ref:e}):f.jsx(Uoe,{...i,ref:e})})});lz.displayName=Fc;var $oe=joe("PopoverContent.RemoveScroll"),Boe=C.forwardRef((t,e)=>{const n=ao(Fc,t.__scopePopover),r=C.useRef(null),i=Ze(e,r),s=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return Fv(a)},[]),f.jsx(Af,{as:$oe,allowPinchZoom:!0,children:f.jsx(cz,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Uoe=C.forwardRef((t,e)=>{const n=ao(Fc,t.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(cz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),cz=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:h,...d}=t,m=ao(Fc,n),g=kf(n);return Iv(),f.jsx(Sf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(wf,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:f.jsx(dE,{"data-state":dz(m.open),role:"dialog",id:m.contentId,...g,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uz="PopoverClose",zoe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(uz,n);return f.jsx(Be.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});zoe.displayName=uz;var Voe="PopoverArrow",Woe=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=kf(n);return f.jsx(hE,{...i,...r,ref:e})});Woe.displayName=Voe;function dz(t){return t?"open":"closed"}var Hoe=rz,qoe=az,Goe=oz,Koe=lz;function _h({...t}){return f.jsx(Hoe,{"data-slot":"popover",...t})}function Ah({...t}){return f.jsx(qoe,{"data-slot":"popover-trigger",...t})}function Ch({className:t,align:e="center",sideOffset:n=4,...r}){return f.jsx(Goe,{children:f.jsx(Koe,{"data-slot":"popover-content",align:e,sideOffset:n,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}var hz=["PageUp","PageDown"],fz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],pz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Eu="Slider",[vA,Yoe,Xoe]=Uv(Eu),[mz]=Oi(Eu,[Xoe]),[Qoe,Zv]=mz(Eu),gz=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:d=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:x,...y}=t,b=C.useRef(new Set),w=C.useRef(0),A=a==="horizontal"?Zoe:Joe,[j=[],P]=sa({prop:h,defaultProp:c,onChange:M=>{[...b.current][w.current]?.focus(),d(M)}}),T=C.useRef(j);function k(M){const D=ile(j,M);F(M,D)}function O(M){F(M,w.current)}function R(){const M=T.current[w.current];j[w.current]!==M&&m(j)}function F(M,D,{commit:$}={commit:!1}){const H=lle(s),q=cle(Math.round((M-r)/s)*s+r,H),V=vh(q,[r,i]);P((B=[])=>{const L=nle(B,V,D);if(ole(L,l*s)){w.current=L.indexOf(V);const W=String(L)!==String(B);return W&&$&&m(L),W?L:B}else return B})}return f.jsx(Qoe,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:w,thumbs:b.current,values:j,orientation:a,form:x,children:f.jsx(vA.Provider,{scope:t.__scopeSlider,children:f.jsx(vA.Slot,{scope:t.__scopeSlider,children:f.jsx(A,{"aria-disabled":o,"data-disabled":o?"":void 0,...y,ref:e,onPointerDown:ye(y.onPointerDown,()=>{o||(T.current=j)}),min:r,max:i,inverted:g,onSlideStart:o?void 0:k,onSlideMove:o?void 0:O,onSlideEnd:o?void 0:R,onHomeKeyDown:()=>!o&&F(r,0,{commit:!0}),onEndKeyDown:()=>!o&&F(i,j.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!o){const q=hz.includes(M.key)||M.shiftKey&&fz.includes(M.key)?10:1,V=w.current,B=j[V],L=s*q*D;F(B+L,V,{commit:!0})}}})})})})});gz.displayName=Eu;var[vz,yz]=mz(Eu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Zoe=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...h}=t,[d,m]=C.useState(null),g=Ze(e,A=>m(A)),x=C.useRef(void 0),y=Su(i),b=y==="ltr",w=b&&!s||!b&&s;function _(A){const j=x.current||d.getBoundingClientRect(),P=[0,j.width],k=PE(P,w?[n,r]:[r,n]);return x.current=j,k(A-j.left)}return f.jsx(vz,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(bz,{dir:y,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const j=_(A.clientX);a?.(j)},onSlideMove:A=>{const j=_(A.clientX);o?.(j)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:A=>{const P=pz[w?"from-left":"from-right"].includes(A.key);c?.({event:A,direction:P?-1:1})}})})}),Joe=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,h=C.useRef(null),d=Ze(e,h),m=C.useRef(void 0),g=!i;function x(y){const b=m.current||h.current.getBoundingClientRect(),w=[0,b.height],A=PE(w,g?[r,n]:[n,r]);return m.current=b,A(y-b.top)}return f.jsx(vz,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:f.jsx(bz,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=x(y.clientY);s?.(b)},onSlideMove:y=>{const b=x(y.clientY);a?.(b)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:y=>{const w=pz[g?"from-bottom":"from-top"].includes(y.key);l?.({event:y,direction:w?-1:1})}})})}),bz=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,h=Zv(Eu,n);return f.jsx(Be.span,{...c,ref:e,onKeyDown:ye(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(o(d),d.preventDefault()):hz.concat(fz).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:ye(t.onPointerDown,d=>{const m=d.target;m.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(m)?m.focus():r(d)}),onPointerMove:ye(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:ye(t.onPointerUp,d=>{const m=d.target;m.hasPointerCapture(d.pointerId)&&(m.releasePointerCapture(d.pointerId),s(d))})})}),xz="SliderTrack",wz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Zv(xz,n);return f.jsx(Be.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});wz.displayName=xz;var yA="SliderRange",Sz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=Zv(yA,n),s=yz(yA,n),a=C.useRef(null),o=Ze(e,a),l=i.values.length,c=i.values.map(m=>Cz(m,i.min,i.max)),h=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(Be.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:d+"%"}})});Sz.displayName=yA;var bA="SliderThumb",_z=C.forwardRef((t,e)=>{const n=Yoe(t.__scopeSlider),[r,i]=C.useState(null),s=Ze(e,o=>i(o)),a=C.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return f.jsx(ele,{...t,ref:s,index:a})}),ele=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=Zv(bA,n),o=yz(bA,n),[l,c]=C.useState(null),h=Ze(e,_=>c(_)),d=l?a.form||!!l.closest("form"):!0,m=oE(l),g=a.values[r],x=g===void 0?0:Cz(g,a.min,a.max),y=rle(r,a.values.length),b=m?.[o.size],w=b?sle(b,x,o.direction):0;return C.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${w}px)`},children:[f.jsx(vA.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Be.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),d&&f.jsx(Az,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},r)]})});_z.displayName=bA;var tle="RadioBubbleInput",Az=C.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=C.useRef(null),s=Ze(i,r),a=fE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const d=new Event("input",{bubbles:!0});h.call(o,e),o.dispatchEvent(d)}},[a,e]),f.jsx(Be.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});Az.displayName=tle;function nle(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Cz(t,e,n){const s=100/(n-e)*(t-e);return vh(s,[0,100])}function rle(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function ile(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function sle(t,e,n){const r=t/2,s=PE([0,50],[0,r]);return(r-s(e)*n)*n}function ale(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function ole(t,e){if(e>0){const n=ale(t);return Math.min(...n)>=e}return!0}function PE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function lle(t){return(String(t).split(".")[1]||"").length}function cle(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var ule=gz,dle=wz,hle=Sz,fle=_z;function xA({className:t,defaultValue:e,value:n,min:r=0,max:i=100,...s}){const a=C.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,i],[n,e,r,i]);return f.jsxs(ule,{"data-slot":"slider",defaultValue:e,value:n,min:r,max:i,className:Fe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[f.jsx(dle,{"data-slot":"slider-track",className:Fe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(hle,{"data-slot":"slider-range",className:Fe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(o,l)=>f.jsx(fle,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var Jv="Switch",[ple]=Oi(Jv),[mle,gle]=ple(Jv),Pz=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:h,...d}=t,[m,g]=C.useState(null),x=Ze(e,A=>g(A)),y=C.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,_]=sa({prop:i,defaultProp:s??!1,onChange:c,caller:Jv});return f.jsxs(mle,{scope:n,checked:w,disabled:o,children:[f.jsx(Be.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":kz(w),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:x,onClick:ye(t.onClick,A=>{_(j=>!j),b&&(y.current=A.isPropagationStopped(),y.current||A.stopPropagation())})}),b&&f.jsx(jz,{control:m,bubbles:!y.current,name:r,value:l,checked:w,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Pz.displayName=Jv;var Ez="SwitchThumb",Tz=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=gle(Ez,n);return f.jsx(Be.span,{"data-state":kz(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Tz.displayName=Ez;var vle="SwitchBubbleInput",jz=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=C.useRef(null),o=Ze(a,s),l=fE(n),c=oE(e);return C.useEffect(()=>{const h=a.current;if(!h)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&g){const x=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(x)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jz.displayName=vle;function kz(t){return t?"checked":"unchecked"}var yle=Pz,ble=Tz;function th({className:t,...e}){return f.jsx(yle,{"data-slot":"switch",className:Fe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(ble,{"data-slot":"switch-thumb",className:Fe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const xle=[{type:"vehicle_purchase",label:"Two Wheeler",icon:"",suggestedAmount:8e4},{type:"vehicle_purchase",label:"Car Purchase",icon:"",suggestedAmount:6e5},{type:"housing",label:"Home Down Payment",icon:"",suggestedAmount:5e5},{type:"travel",label:"Dream Vacation",icon:"",suggestedAmount:1e5},{type:"wedding",label:"Wedding Fund",icon:"",suggestedAmount:5e5},{type:"emergency_fund",label:"Emergency Fund",icon:"",suggestedAmount:1e5},{type:"education",label:"Higher Education",icon:"",suggestedAmount:3e5},{type:"electronics",label:"New Phone/Laptop",icon:"",suggestedAmount:5e4},{type:"festival",label:"Festival Shopping",icon:"",suggestedAmount:25e3},{type:"business",label:"Start Business",icon:"",suggestedAmount:2e5}],wle=[{value:"high",label:"High Priority",color:"text-red-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"low",label:"Low Priority",color:"text-green-600"}];function Nz({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addGoal:i,accounts:s}=ot(),[a,o]=C.useState("select"),[l,c]=C.useState(null),[h,d]=C.useState(""),[m,g]=C.useState("other"),[x,y]=C.useState(""),[b,w]=C.useState(5e4),[_,A]=C.useState(5e3),[j,P]=C.useState(void 0),[T,k]=C.useState(""),[O,R]=C.useState("medium"),[F,M]=C.useState(!0),[D,$]=C.useState(""),[H,q]=C.useState(!1),V=_>0?Math.ceil(b/_):0,B=U=>{c(U),d(U.label),g(U.type),y(U.icon),w(U.suggestedAmount),A(Math.round(U.suggestedAmount/10)),o("custom")},L=()=>{c(null),d(""),g("other"),y(""),w(5e4),A(5e3),o("custom")},W=async()=>{if(!(!n||!r)){if(!h.trim()){ke.error("Please enter a goal name");return}if(b<=0){ke.error("Please enter a valid target amount");return}q(!0);try{const U={id:ln(),family_id:r.id,created_by:n.id,goal_name:h.trim(),goal_type:m,target_amount:b,current_amount:0,target_date:j?.toISOString(),description:T.trim()||void 0,goal_icon:x,priority:O,is_shared:F,is_active:!0,created_at:new Date().toISOString(),sync_status:"pending",monthly_contribution:_,linked_account_id:D||void 0};await i(U),ke.success(`Goal "${h}" created successfully!`),X()}catch(U){console.error("Failed to add goal:",U),ke.error("Failed to create goal")}finally{q(!1)}}},X=()=>{o("select"),c(null),d(""),g("other"),y(""),w(5e4),A(5e3),P(void 0),k(""),R("medium"),M(!0),$(""),e()};return f.jsx(Ht,{open:t,onOpenChange:X,children:f.jsx(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a==="select"?f.jsxs(f.Fragment,{children:[f.jsxs(an,{children:[f.jsxs(on,{className:"flex items-center gap-2",children:[f.jsx(eh,{className:"h-5 w-5 text-primary"}),"Choose Your Goal"]}),f.jsx(gn,{children:"Select a common goal or create your own custom goal"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium mb-3",children:"Common Goals"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:xle.map((U,K)=>f.jsxs("button",{onClick:()=>B(U),className:"flex flex-col items-start gap-2 p-4 rounded-xl border-2 border-border hover:border-primary hover:bg-primary-container/20 transition-all text-left group",children:[f.jsx("div",{className:"text-3xl",children:U.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium group-hover:text-primary transition-colors",children:U.label}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["",Ne(U.suggestedAmount)]})]})]},K))})]}),f.jsx(ve,{onClick:L,variant:"outline",className:"w-full h-auto py-4 border-2 border-dashed hover:border-primary hover:bg-primary-container/20",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-medium",children:"Custom Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Create your own savings goal"})]})]})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ve,{variant:"ghost",size:"sm",onClick:()=>o("select"),className:"mr-2",children:" Back"}),f.jsxs("div",{className:"flex-1",children:[f.jsx(on,{children:l?`Setup ${l.label}`:"Create Custom Goal"}),f.jsx(gn,{children:"Configure your savings goal details"})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"goalName",children:"Goal Name *"}),f.jsx(Mt,{id:"goalName",placeholder:"e.g., Dream Vacation to Goa",value:h,onChange:U=>d(U.target.value),className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Category"}),f.jsxs($n,{value:m,onValueChange:U=>g(U),children:[f.jsx(Un,{className:"h-11",children:f.jsx(Bn,{placeholder:"Select category"})}),f.jsxs(zn,{children:[f.jsx(De,{value:"vehicle_purchase",children:" Vehicle"}),f.jsx(De,{value:"housing",children:" Housing"}),f.jsx(De,{value:"travel",children:" Travel"}),f.jsx(De,{value:"wedding",children:" Wedding"}),f.jsx(De,{value:"emergency_fund",children:" Emergency Fund"}),f.jsx(De,{value:"education",children:" Education"}),f.jsx(De,{value:"electronics",children:" Electronics"}),f.jsx(De,{value:"festival",children:" Festival"}),f.jsx(De,{value:"business",children:" Business"}),f.jsx(De,{value:"other",children:" Other"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Oe,{children:"Target Amount *"}),f.jsxs("span",{className:"text-xl font-semibold text-primary",children:["",Ne(b)]})]}),f.jsx(xA,{value:[b],onValueChange:([U])=>{w(U),A(Math.round(U/10))},min:1e3,max:5e6,step:1e3,className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:"1k"}),f.jsx("span",{children:"50L"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Oe,{children:"Monthly Contribution"}),f.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["",Ne(_),"/mo"]})]}),f.jsx(xA,{value:[_],onValueChange:([U])=>A(U),min:500,max:Math.min(b,1e5),step:500,className:"w-full"}),V>0&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[f.jsx(Ka,{className:"h-4 w-4"}),f.jsxs("span",{children:[V," months to reach goal"]})]})]}),s.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"account",children:"Savings Account (Optional)"}),f.jsxs($n,{value:D,onValueChange:$,children:[f.jsx(Un,{id:"account",className:"h-11",children:f.jsx(Bn,{placeholder:"Select account for this goal"})}),f.jsxs(zn,{children:[f.jsx(De,{value:"",children:"No specific account"}),s.map(U=>f.jsxs(De,{value:U.id,children:[U.account_name," - ",U.account_type]},U.id))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Target Date (Optional)"}),f.jsxs(_h,{children:[f.jsx(Ah,{asChild:!0,children:f.jsxs(ve,{variant:"outline",className:"w-full h-11 justify-start text-left font-normal",children:[f.jsx(Ka,{className:"mr-2 h-4 w-4"}),j?Cs(j):"Pick a target date"]})}),f.jsx(Ch,{className:"w-auto p-0",align:"start",children:f.jsx(bg,{mode:"single",selected:j,onSelect:P,disabled:U=>U<new Date,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Priority"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:wle.map(U=>f.jsx(ve,{type:"button",variant:O===U.value?"default":"outline",onClick:()=>R(U.value),className:"h-11",children:U.label.split(" ")[0]},U.value))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(Ya,{id:"description",placeholder:"Add notes about this goal...",value:T,onChange:U=>k(U.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(bc,{className:"h-5 w-5 text-purple-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Shared Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Family members can contribute together"})]})]}),f.jsx(th,{checked:F,onCheckedChange:M})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"text-3xl",children:x}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:h||"Your Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:F?"Shared with family":"Personal goal"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Target"}),f.jsxs("div",{className:"font-semibold",children:["",Ne(b)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Monthly"}),f.jsxs("div",{className:"font-semibold",children:["",Ne(_)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Timeline"}),f.jsxs("div",{className:"font-semibold",children:[V," months"]})]})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ve,{variant:"outline",onClick:X,disabled:H,className:"flex-1",children:"Cancel"}),f.jsx(ve,{onClick:W,disabled:H||!h.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:H?f.jsxs(f.Fragment,{children:[f.jsx(eh,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(eh,{className:"mr-2 h-4 w-4"}),"Create Goal"]})})]})]})})})}var x0="rovingFocusGroup.onEntryFocus",Sle={bubbles:!1,cancelable:!0},Nf="RovingFocusGroup",[wA,Oz,_le]=Uv(Nf),[Ale,ey]=Oi(Nf,[_le]),[Cle,Ple]=Ale(Nf),Mz=C.forwardRef((t,e)=>f.jsx(wA.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(wA.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Ele,{...t,ref:e})})}));Mz.displayName=Nf;var Ele=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...d}=t,m=C.useRef(null),g=Ze(e,m),x=Su(s),[y,b]=sa({prop:a,defaultProp:o??null,onChange:l,caller:Nf}),[w,_]=C.useState(!1),A=Fn(c),j=Oz(n),P=C.useRef(!1),[T,k]=C.useState(0);return C.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(x0,A),()=>O.removeEventListener(x0,A)},[A]),f.jsx(Cle,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(O=>b(O),[b]),onItemShiftTab:C.useCallback(()=>_(!0),[]),onFocusableItemAdd:C.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>k(O=>O-1),[]),children:f.jsx(Be.div,{tabIndex:w||T===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{P.current=!0}),onFocus:ye(t.onFocus,O=>{const R=!P.current;if(O.target===O.currentTarget&&R&&!w){const F=new CustomEvent(x0,Sle);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const M=j().filter(V=>V.focusable),D=M.find(V=>V.active),$=M.find(V=>V.id===y),q=[D,$,...M].filter(Boolean).map(V=>V.ref.current);Iz(q,h)}}P.current=!1}),onBlur:ye(t.onBlur,()=>_(!1))})})}),Dz="RovingFocusGroupItem",Rz=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Ki(),c=s||l,h=Ple(Dz,n),d=h.currentTabStopId===c,m=Oz(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:y}=h;return C.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),f.jsx(wA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(Be.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?h.onItemFocus(c):b.preventDefault()}),onFocus:ye(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=kle(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let A=m().filter(j=>j.focusable).map(j=>j.ref.current);if(w==="last")A.reverse();else if(w==="prev"||w==="next"){w==="prev"&&A.reverse();const j=A.indexOf(b.currentTarget);A=h.loop?Nle(A,j+1):A.slice(j+1)}setTimeout(()=>Iz(A))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:y!=null}):a})})});Rz.displayName=Dz;var Tle={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jle(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function kle(t,e,n){const r=jle(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Tle[r]}function Iz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Nle(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Lz=Mz,Fz=Rz,ty="Tabs",[Ole]=Oi(ty,[ey]),$z=ey(),[Mle,EE]=Ole(ty),Bz=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,h=Su(o),[d,m]=sa({prop:r,onChange:i,defaultProp:s??"",caller:ty});return f.jsx(Mle,{scope:n,baseId:Ki(),value:d,onValueChange:m,orientation:a,dir:h,activationMode:l,children:f.jsx(Be.div,{dir:h,"data-orientation":a,...c,ref:e})})});Bz.displayName=ty;var Uz="TabsList",zz=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=EE(Uz,n),a=$z(n);return f.jsx(Lz,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(Be.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});zz.displayName=Uz;var Vz="TabsTrigger",Wz=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=EE(Vz,n),o=$z(n),l=Gz(a.baseId,r),c=Kz(a.baseId,r),h=r===a.value;return f.jsx(Fz,{asChild:!0,...o,focusable:!i,active:h,children:f.jsx(Be.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ye(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:ye(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const d=a.activationMode!=="manual";!h&&!i&&d&&a.onValueChange(r)})})})});Wz.displayName=Vz;var Hz="TabsContent",qz=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=EE(Hz,n),l=Gz(o.baseId,r),c=Kz(o.baseId,r),h=r===o.value,d=C.useRef(h);return C.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),f.jsx(wr,{present:i||h,children:({present:m})=>f.jsx(Be.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:m&&s})})});qz.displayName=Hz;function Gz(t,e){return`${t}-trigger-${e}`}function Kz(t,e){return`${t}-content-${e}`}var Dle=Bz,Rle=zz,Ile=Wz,Lle=qz;function $c({className:t,...e}){return f.jsx(Dle,{"data-slot":"tabs",className:Fe("flex flex-col gap-2",t),...e})}function Bc({className:t,...e}){return f.jsx(Rle,{"data-slot":"tabs-list",className:Fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Rr({className:t,...e}){return f.jsx(Ile,{"data-slot":"tabs-trigger",className:Fe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function qa({className:t,...e}){return f.jsx(Lle,{"data-slot":"tabs-content",className:Fe("flex-1 outline-none",t),...e})}const w0=[{value:"cash",label:"Cash",icon:zP},{value:"upi",label:"UPI",icon:QZ},{value:"card",label:"Card",icon:WP},{value:"bank",label:"Bank Transfer",icon:VP},{value:"wallet",label:"Wallet",icon:xu}];function Fle({line:t,index:e,users:n,currentUser:r,canRemove:i,onUpdate:s,onRemove:a,onBorrowedToggle:o}){const{accounts:l}=ot(),c=w0.find(m=>m.value===t.method)||w0[0],h=c.icon,d=l.filter(m=>{switch(t.method){case"cash":return m.type==="cash";case"bank":return m.type==="bank";case"card":return m.type==="card";case"upi":return m.type==="wallet";case"wallet":return m.type==="wallet";default:return!0}});return f.jsxs("div",{className:"border-2 border-border rounded-xl p-4 space-y-3 bg-card",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs($n,{value:t.method,onValueChange:m=>{s("method",m),s("account_id",void 0)},children:[f.jsx(Un,{className:"flex-1",children:f.jsx(Bn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(h,{className:"h-4 w-4"}),f.jsx("span",{children:c.label})]})})}),f.jsx(zn,{children:w0.map(m=>{const g=m.icon;return f.jsx(De,{value:m.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:m.label})]})},m.value)})})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:""}),f.jsx(Mt,{type:"number",placeholder:"Amount",value:t.amount||"",onChange:m=>s("amount",parseFloat(m.target.value)||0),className:"pl-7",step:"0.01"})]}),i&&f.jsx(ve,{variant:"ghost",size:"icon",onClick:a,className:"shrink-0",children:f.jsx(Mv,{className:"h-4 w-4 text-destructive"})})]}),d.length>0&&f.jsxs("div",{className:"pt-2",children:[f.jsx(Oe,{htmlFor:`account-${t.id}`,className:"text-sm font-medium",children:"Choose Account"}),f.jsxs($n,{value:t.account_id||"",onValueChange:m=>s("account_id",m),children:[f.jsx(Un,{id:`account-${t.id}`,className:"mt-1",children:f.jsx(Bn,{placeholder:`Select ${c.label.toLowerCase()} account`})}),f.jsx(zn,{children:d.map(m=>f.jsx(De,{value:m.id,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium",children:m.name}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["",m.current_balance.toFixed(2)]})]})},m.id))})]}),t.account_id&&t.amount&&d.find(m=>m.id===t.account_id)&&f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance after: ",(d.find(m=>m.id===t.account_id).current_balance-(t.amount||0)).toFixed(2)]})]}),f.jsxs("div",{className:"pt-3 border-t space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Oe,{htmlFor:`borrowed-${t.id}`,className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(Oc,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(th,{id:`borrowed-${t.id}`,checked:!!t.meta?.borrowed_from,onCheckedChange:m=>o(m?n.find(g=>g.id!==r?.id)?.id:void 0)})]}),t.meta?.borrowed_from&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(Oc,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs($n,{value:t.meta.borrowed_from,onValueChange:m=>o(m),children:[f.jsx(Un,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Bn,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:n.find(m=>m.id===t.meta?.borrowed_from)?.name||"someone"})]})})}),f.jsx(zn,{children:n.filter(m=>m.id!==r?.id).map(m=>f.jsx(De,{value:m.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:m.name})]})},m.id))})]}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",t.amount?.toFixed(2)||"0.00"," when you save this transaction"]})]})]})]})}const $le=[{value:"Groceries",label:"Groceries",icon:""},{value:"Utilities",label:"Utilities",icon:""},{value:"Transportation",label:"Transport",icon:""},{value:"Healthcare",label:"Healthcare",icon:""},{value:"Education",label:"Education",icon:""},{value:"Entertainment",label:"Entertainment",icon:""},{value:"Shopping",label:"Shopping",icon:""},{value:"Rent",label:"Rent",icon:""},{value:"Food & Dining",label:"Food & Dining",icon:""},{value:"Bills",label:"Bills",icon:""},{value:"Fuel",label:"Fuel",icon:""},{value:"Household Items",label:"Maid Salary",icon:""}],Ble=[{value:"Salary",label:"Salary",icon:""},{value:"Business",label:"Business",icon:""},{value:"Freelance",label:"Freelance",icon:""},{value:"Investment",label:"Investment",icon:""},{value:"Gift",label:"Gift",icon:""},{value:"Rental",label:"Rental",icon:""},{value:"Side Income",label:"Side Income",icon:""},{value:"Other",label:"Other",icon:""}];function Ule({type:t,value:e,onChange:n}){const{currentFamily:r,currentUser:i,customCategories:s,addCustomCategory:a}=ot(),[o,l]=C.useState(!1),[c,h]=C.useState(""),d=t==="expense",m=d?$le:Ble,g=s.filter(b=>b.type===t).map(b=>({value:b.name,label:b.name,icon:b.icon||""})),x=[...m,...g],y=async()=>{const b=c.trim();if(!b){ke.error("Please enter a category name");return}if(x.some(_=>_.value===b)){ke.error("This category already exists");return}if(!r||!i)return;const w={id:Dv(),family_id:r.id,name:b,type:t,icon:"",created_by:i.id,created_at:new Date().toISOString()};try{await a(w),n(b),h(""),l(!1),ke.success(`Custom ${d?"category":"source"} added`)}catch(_){console.error("Failed to add custom category:",_),ke.error("Failed to add custom category")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Category *"}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[x.map(b=>f.jsxs("button",{type:"button",onClick:()=>n(b.value),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-1 transition-all ${e===b.value?"border-primary bg-primary/10":"border-border bg-background hover:bg-accent"}`,children:[f.jsx("span",{className:"text-2xl",children:b.icon}),f.jsx("span",{className:"text-xs text-center leading-tight line-clamp-2",children:b.label})]},b.value)),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"p-3 rounded-lg border-2 border-dashed border-border hover:border-primary hover:bg-primary/5 flex flex-col items-center gap-1 transition-all",children:[f.jsx(Zr,{className:"h-6 w-6 text-muted-foreground"}),f.jsx("span",{className:"text-xs text-center text-muted-foreground",children:"Custom"})]})]})]}),f.jsx(Ht,{open:o,onOpenChange:l,children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsxs(on,{children:["Add Custom ",d?"Category":"Source"]}),f.jsxs(gn,{children:["Create a new ",d?"expense category":"income source"," for your family"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Oe,{htmlFor:"custom-category",children:[d?"Category":"Source"," Name"]}),f.jsx(Mt,{id:"custom-category",placeholder:`e.g., ${d?"Pet Supplies":"Side Hustle"}`,value:c,onChange:b=>h(b.target.value),onKeyDown:b=>{b.key==="Enter"&&y()},autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),f.jsxs(ve,{onClick:y,className:"flex-1",children:["Add ",d?"Category":"Source"]})]})]})]})})]})}function zle({receipts:t,onChange:e,maxFiles:n=4}){const r=C.useRef(null),i=C.useRef(null),s=async l=>{if(!l||l.length===0)return;if(t.length+l.length>n){ke.error(`Maximum ${n} receipts allowed`);return}const c=[];for(let h=0;h<l.length;h++){const d=l[h];if(!d.type.startsWith("image/")){ke.error(`${d.name} is not an image`);continue}if(d.size>5*1024*1024){ke.error(`${d.name} is too large (max 5MB)`);continue}try{const m=await a(d);c.push(m)}catch(m){console.error("Failed to process image:",m),ke.error(`Failed to process ${d.name}`)}}c.length>0&&(e([...t,...c]),ke.success(`${c.length} receipt${c.length>1?"s":""} added`))},a=l=>new Promise((c,h)=>{const d=new FileReader;d.readAsDataURL(l),d.onload=()=>c(d.result),d.onerror=m=>h(m)}),o=l=>{e(t.filter((c,h)=>h!==l))};return f.jsxs("div",{className:"space-y-3",children:[t.length>0&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((l,c)=>f.jsxs("div",{className:"relative aspect-square group",children:[f.jsx("img",{src:l,alt:`Receipt ${c+1}`,className:"w-full h-full object-cover rounded-lg border-2 border-border"}),f.jsx(ve,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>o(c),children:f.jsx(wu,{className:"h-3 w-3"})})]},c))}),t.length<n&&f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ve,{type:"button",variant:"outline",className:"flex-1",onClick:()=>i.current?.click(),children:[f.jsx(MQ,{className:"h-4 w-4 mr-2"}),"Take Photo"]}),f.jsxs(ve,{type:"button",variant:"outline",className:"flex-1",onClick:()=>r.current?.click(),children:[f.jsx(HP,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),f.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:l=>s(l.target.files)}),f.jsx("input",{ref:i,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:l=>s(l.target.files)}),t.length===0&&f.jsxs("div",{className:"flex items-center justify-center gap-2 p-8 border-2 border-dashed rounded-lg text-muted-foreground",children:[f.jsx(_Z,{className:"h-5 w-5"}),f.jsx("span",{className:"text-sm",children:"No receipts attached"})]}),t.length>0&&t.length<n&&f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[t.length," of ",n," receipts  Click to add more"]})]})}function Vle({open:t,onClose:e,defaultType:n="expense"}){const{currentUser:r,currentFamily:i,users:s,addExpense:a,addIncome:o,addDebt:l}=ot(),[c,h]=C.useState(n),[d,m]=C.useState(""),[g,x]=C.useState(""),[y,b]=C.useState(new Date),[w,_]=C.useState(""),[A,j]=C.useState(!0),[P,T]=C.useState(!1),[k,O]=C.useState(r?.id||""),[R,F]=C.useState("cash"),[M,D]=C.useState(""),[$,H]=C.useState(""),[q,V]=C.useState([{id:ln(),method:"cash",amount:0,payer_user_id:r?.id}]),[B,L]=C.useState([]),[W,X]=C.useState(!1),U=c==="expense";C.useEffect(()=>{r?.id&&!k&&O(r.id)},[r,k]);const K=()=>{V([...q,{id:ln(),method:"cash",amount:0,payer_user_id:r?.id}])},Z=ee=>{q.length>1&&V(q.filter((te,le)=>le!==ee))},ae=(ee,te,le)=>{const he=[...q];he[ee]={...he[ee],[te]:le},V(he)},ce=(ee,te)=>{const le=[...q];if(te)le[ee].meta={...le[ee].meta,borrowed_from:te};else{const{borrowed_from:he,...se}=le[ee].meta||{};le[ee].meta=Object.keys(se).length>0?se:void 0}V(le)},pe=async()=>{if(!r||!i)return;const ee=parseFloat(d);if(isNaN(ee)||ee<=0){ke.error("Please enter a valid amount");return}if(!y||isNaN(y.getTime())){ke.error("Please select a valid date");return}if(!g){ke.error(`Please select a ${U?"category":"source"}`);return}X(!0);try{if(U){const te=P?q:[{id:ln(),method:R,amount:ee,payer_user_id:k,meta:M?{borrowed_from:M,lender_name:M==="custom"?$:void 0}:void 0}],le=PJ(ee,te);if(!le.valid){ke.error(le.error);return}const he={id:ln(),family_id:i.id,created_by:r.id,total_amount:ee,currency:i.currency,category:g,date:y.toISOString(),notes:w.trim()||void 0,payment_lines:te,attachments:B,receipt_urls:B,is_shared:A,sync_status:"pending",created_at:new Date().toISOString()};await a(he);for(const se of te)if(se.meta?.borrowed_from){const We=se.meta.borrowed_from==="custom",Re={id:ln(),family_id:i.id,lender_user_id:We?"external":se.meta.borrowed_from,borrower_user_id:se.payer_user_id,amount:se.amount,currency:i.currency,status:"open",created_at:new Date().toISOString(),linked_expense_id:he.id,reminder_shown:!1};await l(Re)}ke.success(`Expense of ${Ne(ee)} added `)}else{const te={id:ln(),family_id:i.id,created_by:r.id,amount:ee,currency:i.currency,source:g,date:y.toISOString(),notes:w.trim()||void 0,is_shared:A,sync_status:"pending",created_at:new Date().toISOString()};await o(te),ke.success(`Income of ${Ne(ee)} added `)}re()}catch(te){console.error("Failed to add transaction:",te),ke.error(`Failed to add ${U?"expense":"income"}`)}finally{X(!1)}},re=()=>{m(""),x(""),b(new Date),_(""),j(!0),T(!1),O(r?.id||""),F("cash"),D(""),V([{id:ln(),method:"cash",amount:0,payer_user_id:r?.id}]),L([]),e()};return f.jsx(Ht,{open:t,onOpenChange:ee=>!ee&&re(),children:f.jsxs(qt,{className:"max-w-lg p-0 overflow-y-auto max-h-[90vh]",children:[f.jsx("div",{className:`sticky top-0 z-10 border-b px-4 py-3 transition-colors ${U?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-900"}`,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ve,{variant:"ghost",size:"icon",onClick:re,className:"h-10 w-10 rounded-full shrink-0",children:f.jsx(Nv,{className:"h-5 w-5"})}),f.jsx("h2",{className:"font-semibold flex items-center gap-2 flex-1",children:U?f.jsxs(f.Fragment,{children:[f.jsx(Zo,{className:"h-5 w-5 text-red-600"}),f.jsx("span",{children:"Add Expense"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Ei,{className:"h-5 w-5 text-green-600"}),f.jsx("span",{children:"Add Income"})]})})]}),f.jsx($c,{value:c,onValueChange:ee=>h(ee),className:"w-full",children:f.jsxs(Bc,{className:"grid w-full grid-cols-2 h-10 p-1",children:[f.jsxs(Rr,{value:"expense",className:"text-xs data-[state=active]:bg-red-500 data-[state=active]:text-white",children:[f.jsx(Zo,{className:"h-3 w-3 mr-1"}),"Expense"]}),f.jsxs(Rr,{value:"income",className:"text-xs data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[f.jsx(Ei,{className:"h-3 w-3 mr-1"}),"Income"]})]})})]})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"amount",className:"text-base",children:"Amount *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Mt,{id:"amount",type:"number",placeholder:"0",value:d,onChange:ee=>m(ee.target.value),step:"0.01",className:"pl-8 h-14 text-2xl"})]})]}),f.jsx(Ule,{type:c,value:g,onChange:x}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Date *"}),f.jsxs(_h,{children:[f.jsx(Ah,{asChild:!0,children:f.jsxs(ve,{variant:"outline",className:"w-full justify-start",children:[f.jsx(Ka,{className:"mr-2 h-4 w-4"}),Cs(y)]})}),f.jsx(Ch,{className:"w-auto p-0",align:"start",children:f.jsx(bg,{mode:"single",selected:y,onSelect:ee=>ee&&b(ee),initialFocus:!0})})]})]}),U&&f.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Oe,{htmlFor:"borrowedToggle",className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(Oc,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(th,{id:"borrowedToggle",checked:!!M,onCheckedChange:ee=>{if(ee){const te=s.find(le=>le.id!==r?.id);D(te?.id||"custom")}else D(""),H("")}})]}),M&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(Oc,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs($n,{value:M,onValueChange:D,children:[f.jsx(Un,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Bn,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:M==="custom"?$||"Someone else":s.find(ee=>ee.id===M)?.name||"someone"})]})})}),f.jsxs(zn,{children:[s.filter(ee=>ee.id!==r?.id).map(ee=>f.jsx(De,{value:ee.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:ee.name})]})},ee.id)),f.jsx(De,{value:"custom",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:"Someone else (Custom)"})]})})]})]}),M==="custom"&&f.jsx(Mt,{placeholder:"Enter lender's name",value:$,onChange:ee=>H(ee.target.value),className:"bg-background border-orange-300 dark:border-orange-800"}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",d||"0.00"," when you save this transaction"]})]})]}),U&&!P&&f.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"paidBy",children:"Paid By *"}),f.jsxs($n,{value:k,onValueChange:O,children:[f.jsx(Un,{id:"paidBy",children:f.jsx(Bn,{placeholder:"Who paid?"})}),f.jsx(zn,{children:s.map(ee=>f.jsxs(De,{value:ee.id,children:[ee.name," ",ee.id===r?.id&&"(You)"]},ee.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"paymentMethod",children:"Payment Method *"}),f.jsxs($n,{value:R,onValueChange:F,children:[f.jsx(Un,{id:"paymentMethod",children:f.jsx(Bn,{})}),f.jsxs(zn,{children:[f.jsx(De,{value:"cash",children:" Cash"}),f.jsx(De,{value:"upi",children:" UPI"}),f.jsx(De,{value:"card",children:" Card"}),f.jsx(De,{value:"bank",children:" Bank Transfer"}),f.jsx(De,{value:"wallet",children:" Wallet"})]})]})]})]}),U&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Oe,{htmlFor:"splitPayment",className:"cursor-pointer",children:"Split Payment"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple payment methods (UPI + Cash, etc.)"})]}),f.jsx(th,{id:"splitPayment",checked:P,onCheckedChange:T})]}),P&&f.jsxs("div",{className:"space-y-3",children:[f.jsx(Oe,{children:"Payment Methods"}),q.map((ee,te)=>f.jsx(Fle,{line:ee,index:te,users:s,currentUser:r,canRemove:q.length>1,onUpdate:(le,he)=>ae(te,le,he),onRemove:()=>Z(te),onBorrowedToggle:le=>ce(te,le)},ee.id)),f.jsxs(ve,{type:"button",variant:"outline",onClick:K,className:"w-full",children:[f.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]}),d&&f.jsxs("div",{className:"text-sm bg-muted/30 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Total:"}),f.jsx("span",{className:"font-medium",children:Ne(parseFloat(d)||0)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Split sum:"}),f.jsx("span",{className:Math.abs((parseFloat(d)||0)-q.reduce((ee,te)=>ee+(te.amount||0),0))<.01?"font-medium text-green-600":"font-medium text-destructive",children:Ne(q.reduce((ee,te)=>ee+(te.amount||0),0))})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Attach Receipt (optional)"}),f.jsx(zle,{receipts:B,onChange:L})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"notes",children:"Notes (optional)"}),f.jsx(Ya,{id:"notes",placeholder:"Add any additional details...",value:w,onChange:ee=>_(ee.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs(Oe,{htmlFor:"isShared",className:"cursor-pointer",children:["Shared ",U?"Expense":"Income"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible to all family members"})]}),f.jsx(th,{id:"isShared",checked:A,onCheckedChange:j})]}),f.jsx("div",{className:"sticky bottom-0 bg-background border-t p-4 -mx-4 -mb-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:re,className:"flex-1",size:"lg",children:"Cancel"}),f.jsx(ve,{onClick:pe,disabled:W,className:`flex-1 ${U?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,size:"lg",children:W?"Saving...":`Save ${U?"Expense":"Income"}`})]})})]})]})})}const Wle={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function Hle(t){t.toLowerCase();const e=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const n of e){const r=t.match(n);if(r){const i=n.source.startsWith("^?"),s=parseFloat(i?r[1]:r[2]),a=(i?r[2]:r[1]).trim();let o="cash",l="",c=a;const h=[/\b(by|via|using|paid by)\s+(upi|card|cash|net banking)\b/i,/\b(upi|card|cash|net banking)\b/i,/\b(by|via|using|paid by)\s+(.+?)(?:\s+|$)/i];let d=!1;for(const x of h){const y=t.match(x);if(y){const b=y[1]||y[0];if(/\bupi\b/.test(b.toLowerCase())){o="upi";const w=b.match(/\bupi\s+(\w+)/i);w&&(l=w[1])}else if(/\bcard\b/.test(b.toLowerCase())){o="card";const w=b.match(/\bcard\s+(\w+)/i);w&&(l=w[1])}else/\bcash\b/.test(b.toLowerCase())&&(o="cash");c=a.replace(y[0],"").trim(),d=!0;break}}if(!d){const x=t.match(/\b(by)\s+(.+)$/i);if(x&&x[2]){const y=x[2];if(/\b(upi|card|cash|net banking)\b/.test(y.toLowerCase())){const b=y.match(/(upi|card|cash|net banking)/i);b&&(o=b[1].toLowerCase(),l=y.replace(b[0],"").trim())}else l=y,o="upi";c=a.replace(x[0],"").trim()}}let m="other";const g=c.toLowerCase();for(const[x,{category:y,keywords:b}]of Object.entries(Wle))if(b.some(w=>g.includes(w))){m=y;break}return{amount:s,merchant:c,category:m,paymentMethod:o,bank:l}}}return null}function qle({open:t,onClose:e}){const{currentUser:n,users:r,addExpense:i}=ot(),[s,a]=C.useState(""),[o,l]=C.useState(null),[c,h]=C.useState(!1);C.useEffect(()=>{if(s.trim()){const g=Hle(s);l(g)}else l(null)},[s]);const d=async()=>{if(!(!n||!o)){h(!0);try{const g=o.paymentMethod==="cash"?"cash":o.paymentMethod==="upi"?"upi":o.paymentMethod==="card"?"card":"cash",x={id:ln(),method:o.paymentMethod,amount:o.amount,payer_user_id:n.id,account_id:g},y=o.bank?`${o.merchant} (via ${o.bank})`:o.merchant,b={id:ln(),family_id:n.family_id,created_by:n.id,total_amount:o.amount,currency:"INR",category:o.category,date:new Date().toISOString(),notes:y,payment_lines:[x],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await i(b),ke.success(`Added ${o.amount} expense for ${o.merchant}`),a(""),l(null),e()}catch(g){console.error("Error adding quick expense:",g),ke.error("Failed to add expense")}finally{h(!1)}}},m=()=>{a(""),l(null),e()};return f.jsx(Ht,{open:t,onOpenChange:m,children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsxs(on,{className:"flex items-center gap-2",children:[f.jsx(GP,{className:"h-5 w-5 text-yellow-500"}),"Quick Add Expense"]}),f.jsx(gn,{children:'Type naturally like "200 Uber" or "500 Zomato" or "500 travel by upi kotak"'})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"quickInput",children:"Quick Entry"}),f.jsx(Mt,{id:"quickInput",placeholder:"e.g., 200 Uber by upi, 500 Zomato, 500 travel by kotak",value:s,onChange:g=>a(g.target.value),className:"text-lg",autoFocus:!0})]}),o&&f.jsxs("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Ov,{className:"h-4 w-4 text-success"}),"Auto-detected:"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),f.jsxs("span",{className:"text-xl font-semibold text-destructive",children:["",o.amount]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),f.jsx("span",{className:"font-medium",children:o.merchant})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),f.jsx(yn,{variant:"secondary",className:"capitalize",children:o.category})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment:"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-sm capitalize",children:o.paymentMethod}),o.bank&&f.jsx(yn,{variant:"outline",className:"text-xs",children:o.bank})]})]})]})]}),f.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2",children:[f.jsx("p",{className:"text-sm font-medium",children:"Examples:"}),f.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"200 Uber"}),f.jsx("span",{children:" 200 Transport"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"500 travel by upi kotak"}),f.jsx("span",{children:" 500 Travel (UPI Kotak)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"600 BigBasket"}),f.jsx("span",{children:" 600 Groceries (Cash)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"300 movie by card"}),f.jsx("span",{children:" 300 Entertainment (Card)"})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ve,{variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),f.jsxs(ve,{onClick:d,disabled:!o||c,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:[f.jsx(Zo,{className:"h-4 w-4"}),"Add Expense"]})]})]})]})})}const Gle=lP("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function xg({className:t,variant:e,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(Gle({variant:e}),t),...n})}function wg({className:t,...e}){return f.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function Kle(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var TE="ScrollArea",[Yz]=Oi(TE),[Yle,Mi]=Yz(TE),Xz=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=C.useState(null),[c,h]=C.useState(null),[d,m]=C.useState(null),[g,x]=C.useState(null),[y,b]=C.useState(null),[w,_]=C.useState(0),[A,j]=C.useState(0),[P,T]=C.useState(!1),[k,O]=C.useState(!1),R=Ze(e,M=>l(M)),F=Su(i);return f.jsx(Yle,{scope:n,type:r,dir:F,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:h,content:d,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:P,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:_,onCornerHeightChange:j,children:f.jsx(Be.div,{dir:F,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});Xz.displayName=TE;var Qz="ScrollAreaViewport",Zz=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Mi(Qz,n),o=C.useRef(null),l=Ze(e,o,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Zz.displayName=Qz;var Os="ScrollAreaScrollbar",Jz=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Mi(Os,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return C.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?f.jsx(Xle,{...r,ref:e,forceMount:n}):i.type==="scroll"?f.jsx(Qle,{...r,ref:e,forceMount:n}):i.type==="auto"?f.jsx(eV,{...r,ref:e,forceMount:n}):i.type==="always"?f.jsx(jE,{...r,ref:e}):null});Jz.displayName=Os;var Xle=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Mi(Os,t.__scopeScrollArea),[s,a]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(wr,{present:n||s,children:f.jsx(eV,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Qle=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Mi(Os,t.__scopeScrollArea),s=t.orientation==="horizontal",a=ry(()=>l("SCROLL_END"),100),[o,l]=Kle("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,h=s?"scrollLeft":"scrollTop";if(c){let d=c[h];const m=()=>{const g=c[h];d!==g&&(l("SCROLL"),a()),d=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),f.jsx(wr,{present:n||o!=="hidden",children:f.jsx(jE,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),eV=C.forwardRef((t,e)=>{const n=Mi(Os,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=C.useState(!1),o=t.orientation==="horizontal",l=ry(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:h)}},10);return Uc(n.viewport,l),Uc(n.content,l),f.jsx(wr,{present:r||s,children:f.jsx(jE,{"data-state":s?"visible":"hidden",...i,ref:e})})}),jE=C.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Mi(Os,t.__scopeScrollArea),s=C.useRef(null),a=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=sV(o.viewport,o.content),h={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function d(m,g){return rce(m,a.current,o,g)}return n==="horizontal"?f.jsx(Zle,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,g=c2(m,o,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=d(m,i.dir))}}):n==="vertical"?f.jsx(Jle,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,g=c2(m,o);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=d(m))}}):null}),Zle=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Mi(Os,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=Ze(e,l,s.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(nV,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ny(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(s.viewport){const m=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),oV(m,d)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:_g(a.paddingLeft),paddingEnd:_g(a.paddingRight)}})}})}),Jle=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Mi(Os,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=Ze(e,l,s.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(nV,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ny(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(s.viewport){const m=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),oV(m,d)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:_g(a.paddingTop),paddingEnd:_g(a.paddingBottom)}})}})}),[ece,tV]=Yz(Os),nV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:h,onResize:d,...m}=t,g=Mi(Os,n),[x,y]=C.useState(null),b=Ze(e,R=>y(R)),w=C.useRef(null),_=C.useRef(""),A=g.viewport,j=r.content-r.viewport,P=Fn(h),T=Fn(l),k=ry(d,10);function O(R){if(w.current){const F=R.clientX-w.current.left,M=R.clientY-w.current.top;c({x:F,y:M})}}return C.useEffect(()=>{const R=F=>{const M=F.target;x?.contains(M)&&P(F,j)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[A,x,j,P]),C.useEffect(T,[r,T]),Uc(x,k),Uc(g.content,k),f.jsx(ece,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:Fn(s),onThumbPointerUp:Fn(a),onThumbPositionChange:T,onThumbPointerDown:Fn(o),children:f.jsx(Be.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:ye(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),w.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(R))}),onPointerMove:ye(t.onPointerMove,O),onPointerUp:ye(t.onPointerUp,R=>{const F=R.target;F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),Sg="ScrollAreaThumb",rV=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=tV(Sg,t.__scopeScrollArea);return f.jsx(wr,{present:n||i.hasThumb,children:f.jsx(tce,{ref:e,...r})})}),tce=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Mi(Sg,n),a=tV(Sg,n),{onThumbPositionChange:o}=a,l=Ze(e,d=>a.onThumbChange(d)),c=C.useRef(void 0),h=ry(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const d=s.viewport;if(d){const m=()=>{if(h(),!c.current){const g=ice(d,o);c.current=g,o()}};return o(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,h,o]),f.jsx(Be.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(t.onPointerDownCapture,d=>{const g=d.target.getBoundingClientRect(),x=d.clientX-g.left,y=d.clientY-g.top;a.onThumbPointerDown({x,y})}),onPointerUp:ye(t.onPointerUp,a.onThumbPointerUp)})});rV.displayName=Sg;var kE="ScrollAreaCorner",iV=C.forwardRef((t,e)=>{const n=Mi(kE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(nce,{...t,ref:e}):null});iV.displayName=kE;var nce=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Mi(kE,n),[s,a]=C.useState(0),[o,l]=C.useState(0),c=!!(s&&o);return Uc(i.scrollbarX,()=>{const h=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(h),l(h)}),Uc(i.scrollbarY,()=>{const h=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(h),a(h)}),c?f.jsx(Be.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function _g(t){return t?parseInt(t,10):0}function sV(t,e){const n=t/e;return isNaN(n)?0:n}function ny(t){const e=sV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function rce(t,e,n,r="ltr"){const i=ny(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,h=n.content-n.viewport,d=r==="ltr"?[0,h]:[h*-1,0];return aV([l,c],d)(t)}function c2(t,e,n="ltr"){const r=ny(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=vh(t,l);return aV([0,a],[0,o])(c)}function aV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function oV(t,e){return t>0&&t<e}var ice=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function ry(t,e){const n=Fn(t),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Uc(t,e){const n=Fn(e);bn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var sce=Xz,ace=Zz,oce=iV;function lce({className:t,children:e,...n}){return f.jsxs(sce,{"data-slot":"scroll-area",className:Fe("relative",t),...n,children:[f.jsx(ace,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),f.jsx(cce,{}),f.jsx(oce,{})]})}function cce({className:t,orientation:e="vertical",...n}){return f.jsx(Jz,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:f.jsx(rV,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const pr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),SA=[.001,0,0,.001,0,0],S0=1.35,qr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Wa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ph="pdfjs_internal_editor_",Xe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},st={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},uce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},_A={TRIANGLES:1,LATTICE:2},Kn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Qm={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},nc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},iy={ERRORS:0,WARNINGS:1,INFOS:5},Eh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Pd={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},dce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let sy=iy.WARNINGS;function hce(t){Number.isInteger(t)&&(sy=t)}function fce(){return sy}function ay(t){sy>=iy.INFOS&&console.info(`Info: ${t}`)}function Ke(t){sy>=iy.WARNINGS&&console.warn(`Warning: ${t}`)}function Et(t){throw new Error(t)}function at(t,e){t||Et(e)}function pce(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function lV(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=bce(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return pce(r)?r:null}function cV(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&lV(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Je(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const fl=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class u2 extends fl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class _0 extends fl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class AA extends fl{constructor(e){super(e,"InvalidPDFException")}}class Ag extends fl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class mce extends fl{constructor(e){super(e,"FormatError")}}class to extends fl{constructor(e){super(e,"AbortException")}}function uV(t){(typeof t!="object"||t?.length===void 0)&&Et("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Of(t){typeof t!="string"&&Et("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function gce(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function vce(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function yce(){try{return new Function(""),!0}catch{return!1}}class er{static get isLittleEndian(){return Je(this,"isLittleEndian",vce())}static get isEvalSupported(){return Je(this,"isEvalSupported",yce())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Je(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Je(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Je(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Je(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const A0=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class _e{static makeHexColor(e,n,r){return`#${A0[e]}${A0[n]}${A0[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let h=0;h<6;h+=2){const d=e[r+h],m=e[r+h+1];e[r+h]=d*i+m*a+l,e[r+h+1]=d*s+m*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],h=e[0],d=e[1],m=e[2],g=e[3];let x=i*h+l,y=x,b=i*m+l,w=b,_=o*d+c,A=_,j=o*g+c,P=j;if(s!==0||a!==0){const T=s*h,k=s*m,O=a*d,R=a*g;x+=O,w+=O,b+=R,y+=R,_+=T,P+=T,j+=k,A+=k}r[0]=Math.min(r[0],x,b,y,w),r[1]=Math.min(r[1],_,j,A,P),r[2]=Math.max(r[2],x,b,y,w),r[3]=Math.max(r[3],_,j,A,P)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,h=(o+c)/2,d=Math.sqrt(h**2-(o*c-l**2));n[0]=Math.sqrt(h+d||1),n[1]=Math.sqrt(h-d||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static#e(e,n,r,i,s,a,o,l,c,h){if(c<=0||c>=1)return;const d=1-c,m=c*c,g=m*c,x=d*(d*(d*e+3*c*n)+3*m*r)+g*i,y=d*(d*(d*s+3*c*a)+3*m*o)+g*l;h[0]=Math.min(h[0],x),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],x),h[3]=Math.max(h[3],y)}static#t(e,n,r,i,s,a,o,l,c,h,d,m){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,n,r,i,s,a,o,l,-d/h,m);return}const g=h**2-4*d*c;if(g<0)return;const x=Math.sqrt(g),y=2*c;this.#e(e,n,r,i,s,a,o,l,(-h+x)/y,m),this.#e(e,n,r,i,s,a,o,l,(-h-x)/y,m)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),this.#t(e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),this.#t(e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}function bce(t){return decodeURIComponent(escape(t))}let C0=null,d2=null;function xce(t){return C0||(C0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,d2=new Map([["","t"]])),t.replaceAll(C0,(e,n,r)=>n?n.normalize("NFKC"):d2.get(r))}function dV(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),uV(t)}const uc="pdfjs_internal_id_";function wce(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function mr(t,e,n){return Math.min(Math.max(t,e),n)}function hV(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(uV(t))}function Sce(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Of(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Th{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Th.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class fV{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);a.append(d),o&&Th.shouldBuildText(i.name)&&c.push(d)}return{textDivs:c}}const h=[[i,-1,a]];for(;h.length>0;){const[d,m,g]=h.at(-1);if(m+1===d.children.length){h.pop();continue}const x=d.children[++h.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const w=document.createTextNode(x.value);c.push(w),g.append(w);continue}const b=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(g.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:n,intent:s,linkService:r}),x.children?.length>0)h.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);o&&Th.shouldBuildText(y)&&c.push(w),b.append(w)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Gs="http://www.w3.org/2000/svg";class zc{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Mf(t,e="text"){if(zd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Df{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,m,g;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,d=0,m=0,g=1;break;case 90:h=0,d=1,m=1,g=0;break;case 270:h=0,d=-1,m=-1,g=0;break;case 0:h=1,d=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,g=-g);let x,y,b,w;h===0?(x=Math.abs(c-e[1])*r+s,y=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,w=(e[2]-e[0])*r):(x=Math.abs(l-e[0])*r+s,y=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,w=(e[3]-e[1])*r),this.transform=[h*r,d*r,m*r,g*r,x-h*r*l-m*r*c,y-d*r*l-g*r*c],this.width=b,this.height=w}get rawDims(){const e=this.viewBox;return Je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Df({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return _e.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];_e.applyTransform(n,this.transform);const r=[e[2],e[3]];return _e.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return _e.applyInverseTransform(r,this.transform),r}}class NE extends fl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function oy(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function OE(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function _ce(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Ace(t,e="document.pdf"){if(typeof t!="string")return e;if(oy(t))return Ke('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class h2{started=Object.create(null);times=[];time(e){e in this.started&&Ke(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ke(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function zd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function ki(t){t.preventDefault()}function Qt(t){t.preventDefault(),t.stopPropagation()}function Cce(t){console.log("Deprecated API usage: "+t)}class CA{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=h,o+=d):c==="+"&&(a-=h,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}function Pce(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Df({viewBox:s,userUnit:1,scale:e,rotation:n})}function Rf(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ke(`Not a valid color format: "${t}"`),[0,0,0])}function Ece(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Rf(r))}e.remove()}function Wt(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function ls(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function il(t,e,n=!1,r=!0){if(e instanceof Df){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=er.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Es{constructor(){const{pixelRatio:e}=Es;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=Es.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const PA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Tce{static get isDarkMode(){return Je(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class jce{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Je(this,"commentForegroundColor",Rf(r))}}function kce(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function f2(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function EA(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function p2(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function m2(t,e,n){EA(t,n),n.map(p2);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];EA(e,n),n.map(p2);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const g2=new Map;function Nce(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=g2.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);f2(t,a);const o=i.subarray(6,9);f2(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),m2(a,o,s)<c){let h,d;l?(h=a[2],d=1):(h=0,d=a[2]);const m=.005;for(;d-h>m;){const g=a[2]=(h+d)/2;l===m2(a,o,s)<c?h=g:d=g}a[2]=l?d:h}return EA(a,s),r=_e.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),g2.set(n,r),r}function pV({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else fV.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function mV(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Pd.moveTo:e.moveTo(t[n++],t[n++]);break;case Pd.lineTo:e.lineTo(t[n++],t[n++]);break;case Pd.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Pd.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Pd.closePath:e.closePath();break;default:Ke(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class nh{#e=null;#t=null;#r;#n=null;#a=null;#s=null;#i=null;#o=null;static#c=null;constructor(e){this.#r=e,nh.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",ki,{signal:n}),e.addEventListener("pointerdown",nh.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:s}=e,a=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,Qt(e)}#d(e){this.#r._focusEventsAllowed=!0,Qt(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",ki,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",nh.#c[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#g),this.#a=e}addComment(e,n=null){if(this.#s)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#g)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Oce{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",ki,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#a(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]}show(e,n,r){const[i,s]=this.#a(n,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=this.#r._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",ki,{signal:o}),s.addEventListener("click",i,{signal:o})),this.#e.append(s)}}function gV(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class ft{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(ft.#t||=new Set).add(e)}static setPointer(e,n){ft.#e||=n,ft.#n??=e}static setTimeStamp(e){ft.#r=e}static isSamePointerId(e){return ft.#e===e}static isSamePointerIdOrRemove(e){return ft.#e===e?!0:(ft.#t?.delete(e),!1)}static isSamePointerType(e){return ft.#n===e}static isInitializedAndDifferentPointerType(e){return ft.#n!==null&&!ft.isSamePointerType(e)}static isSameTimeStamp(e){return ft.#r===e}static isUsingMultiplePointers(){return ft.#t?.size>=1}static clearPointerType(){ft.#n=null}static clearPointerIds(){ft.#e=NaN,ft.#t=null}static clearTimeStamp(){ft.#r=NaN}}class Mce{#e=0;get id(){return`${Ph}${this.#e++}`}}class ME{#e=dV();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",s)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Mf(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=ME._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const d=r.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=h});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Ke(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return this.#n(`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Dce{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:n,post:r,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===s){o&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}const c=this.#n+1;c===this.#r?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class If{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=er.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||Qt(n))}}class DE{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Ece(e),Je(this,"_colors",e)}convert(e){const n=Rf(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return DE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?_e.makeHexColor(...n):e}}class no{#e=new AbortController;#t=null;#r=null;#n=new Map;#a=new Map;#s=null;#i=null;#o=null;#c=new Dce;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#C=null;#_=null;#w=null;#E=null;#x=!1;#A=null;#k=new Mce;#T=!1;#j=!1;#L=!1;#O=null;#D=null;#F=null;#R=null;#W=null;#P=Xe.NONE;#S=new Set;#M=null;#$=null;#U=null;#G=null;#q=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#I=null;#H=null;#Z=null;#J=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=no.prototype,n=a=>a.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new If([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,r,i,s,a,o,l,c,h,d,m,g,x,y,b){const w=this._signal=this.#e.signal;this.#H=e,this.#Z=n,this.#J=r,this.#s=i,this.#l=s,this.#$=a,this.#q=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#j=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#j=!1},{capture:!0,signal:w}),this.#ae(),this.#he(),this.#te(),this.#i=l.annotationStorage,this.#C=l.filterFactory,this.#U=c,this.#E=h||null,this.#v=d,this.#b=m,this.#y=g,this.#W=x||null,this.viewParameters={realScale:zc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s?.setSidebarUiManager(this)}destroy(){this.#B?.resolve(),this.#B=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#R?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#$?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#r=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#W}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Je(this,"hcmFilter",this.#U?this.#C.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Je(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return Je(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Je(this,"highlightColors",null);const n=new Map,r=!!this.#U;for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return Je(this,"highlightColors",n)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,n=!1){this.#s?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#a.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#$?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#$}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=n;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,n){for(const r of this.#a.values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*zc.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#a.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),h=this.#Q(r).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;r.empty();const m=this.#ee(h),g=this.#P===Xe.NONE,x=()=>{const y=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),n&&y?.editComment()};if(g){this.switchToMode(Xe.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#A||=new Oce(this),this.#A.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Ph}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#M=n,this.#N({hasSelectedText:!0}),!(this.#P!==Xe.HIGHLIGHT&&this.#P!==Xe.NONE)&&(this.#P===Xe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#P===Xe.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#j){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#P===Xe.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#D=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,n]=this.#D;this.#D=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#O)return;this.#O=new AbortController;const e=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#O?.abort(),this.#O=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ke(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#ne(l);this.#re(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ke(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#P!==Xe.NONE&&!this.isEditorHandlingKeyboard&&no._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#P===Xe.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#V([[st.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#N({isEditing:this.#P!==Xe.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#V(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#T?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1){if(this.#P!==e&&!(this.#B&&(await this.#B.promise,!this.#B))){if(this.#B=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#P===Xe.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#P=e,e===Xe.NONE){this.setEditingState(!1),this.#pe();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#B.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();e===Xe.SIGNATURE&&await this.#$?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===Xe.POPUP){this.#r||=await this.#q.getAnnotationsByType(new Set(this.#u.map(l=>l._editorType)));const a=new Set,o=[];for(const l of this.#n.values()){const{annotationElementId:c,hasComment:h,deleted:d}=l;c&&a.add(c),h&&!d&&o.push(l.getData())}for(const l of this.#r){const{id:c,popupRef:h,contentsObj:d}=l;h&&d?.str&&!a.has(c)&&!this.#g.has(c)&&o.push(l)}this.#l?.showSidebar(o)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#B.resolve();return}for(const a of this.#n.values())a.uid===n?(this.setSelected(a),s?a.editComment():i?a.enterInEditMode():a.focus()):a.unselect();this.#B.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#P&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case st.CREATE:this.currentLayer.addNewEditor(n);return;case st.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#G?.get(st.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#V([[st.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const n of this.#a.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#T){this.#T=!0;const e=[];for(const n of this.#a.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#T){this.#T=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#R?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#a.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#S);return e}updateUI(e){this.#me===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const s of n)this.#ne(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#P!==Xe.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=n;const[i,s]=this.#z,a=[...this.#S],o=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#S)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!n)return!1;const r=(i,s,a,o)=>{if(this.#n.has(i.id)){const l=this.#a.get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#m)for(const r of this.#m.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#P}isEditingMode(){return this.#P!==Xe.NONE}get imageManager(){return Je(this,"imageManager",new ME)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,h=n.rangeCount;c<h;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,h,d,m)=>({x:(h-i)/a,y:1-(c+d-r)/s,width:m/a,height:d/s});break;case"180":o=(c,h,d,m)=>({x:1-(c+d-r)/s,y:1-(h+m-i)/a,width:d/s,height:m/a});break;case"270":o=(c,h,d,m)=>({x:1-(h+m-i)/a,y:(c-r)/s,width:m/a,height:d/s});break;default:o=(c,h,d,m)=>({x:(c-r)/s,y:(h-i)/a,width:d/s,height:m/a});break}const l=[];for(let c=0,h=n.rangeCount;c<h;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:m,y:g,width:x,height:y}of d.getClientRects())x===0||y===0||l.push(o(m,g,x,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#P===Xe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#R?.get(e);i&&(i.setCanvas(n,r),this.#R.delete(e))}addMissingCanvas(e,n){(this.#R||=new Map).set(e,n)}}class ds{#e=null;#t=!1;#r=null;#n=null;#a=null;#s=null;#i=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,ds.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ds._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",ds.#f.missing),n.setAttribute("data-l10n-id",ds.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",ki,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,i(s))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await ds._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ds.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ds.#f[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class xm{#e=null;#t=null;#r=!1;#n=null;#a=null;#s=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#n.parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",ki,{signal:r}),n&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,Qt(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,Qt(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:h,height:d,x:m,y:g}=this.#n;r=m+r*h,i=g+i*d}const s=this.#n.parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;this.#n._uiManager.editComment(this.#n,a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#s=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#a=e,this.data=e,this.#o=null,this.#s=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#s=null,this.#o=null,this.#n=null,this.#r=!1,this.#c=!1}}class ly{#e;#t=!1;#r=null;#n;#a;#s;#i;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#r=r,this.#n=n,this.#a=i,this.#s=s,this.#i=a,this.#h=new AbortController,this.#c=AbortSignal.any([o,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Es.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(Qt(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const o=this.#m.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",Qt,a),s.addEventListener("pointermove",Qt,a),s.addEventListener("pointercancel",Qt,a),s.addEventListener("pointerup",Qt,a),this.#a?.()}if(Qt(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;Qt(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=this.#l,{touch0X:c,touch0Y:h,touch1X:d,touch1Y:m}=l,g=d-c,x=m-h,y=a-i,b=o-s,w=Math.hypot(y,b)||1,_=Math.hypot(g,x)||1;if(!this.#t&&Math.abs(_-w)<=ly.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const A=[(i+a)/2,(s+o)/2];this.#s?.(A,_,w)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(Qt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class Me{#e=null;#t=null;#r=null;#n=null;#a=null;#s=!1;#i=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#C=0;#_=0;#w=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=Me._zIndex++;static _borderLineWidth=-1;static _colorManager=new DE;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=Me.prototype._resizeWithKeyboard,n=no.TRANSLATE_SMALL,r=no.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],Me.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Rce({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Me._l10n??=e,Me._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),Me._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);Me._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Et("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:h}=r;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=Me,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=mr(s,0,r-o),a=mr(a,0,i-l);break;case 90:s=mr(s,0,r-l),a=mr(a,o,i);break;case 180:s=mr(s,o,r),a=mr(a,l,i);break;case 270:s=mr(s,l,r),a=mr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,h]=this.getBaseTranslation();s+=c,a+=h,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#T(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return Me.#T(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return Me.#T(e,n,360-this.parentRotation)}#j(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#O.bind(this,r),{signal:n}),i.addEventListener("contextmenu",ki,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#O(e,n){n.preventDefault();const{isMac:r}=er.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",Qt,{passive:!1,signal:a}),window.addEventListener("contextmenu",ki,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#D(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:this.#D.bind(this,s,a,o,l),undo:this.#D.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=Me.MIN_SIZE/r,h=Me.MIN_SIZE/i,d=this.#j(this.rotation),m=(V,B)=>[d[0]*V+d[2]*B,d[1]*V+d[3]*B],g=this.#j(360-this.rotation),x=(V,B)=>[g[0]*V+g[2]*B,g[1]*V+g[3]*B];let y,b,w=!1,_=!1;switch(e){case"topLeft":w=!0,y=(V,B)=>[0,0],b=(V,B)=>[V,B];break;case"topMiddle":y=(V,B)=>[V/2,0],b=(V,B)=>[V/2,B];break;case"topRight":w=!0,y=(V,B)=>[V,0],b=(V,B)=>[0,B];break;case"middleRight":_=!0,y=(V,B)=>[V,B/2],b=(V,B)=>[0,B/2];break;case"bottomRight":w=!0,y=(V,B)=>[V,B],b=(V,B)=>[0,0];break;case"bottomMiddle":y=(V,B)=>[V/2,B],b=(V,B)=>[V/2,0];break;case"bottomLeft":w=!0,y=(V,B)=>[0,B],b=(V,B)=>[V,0];break;case"middleLeft":_=!0,y=(V,B)=>[0,B/2],b=(V,B)=>[V,B/2];break}const A=y(o,l),j=b(o,l);let P=m(...j);const T=Me._round(s+P[0]),k=Me._round(a+P[1]);let O=1,R=1,F,M;if(n.fromKeyboard)({deltaX:F,deltaY:M}=n);else{const{screenX:V,screenY:B}=n,[L,W]=this.#l;[F,M]=this.screenToPageTranslation(V-L,B-W),this.#l[0]=V,this.#l[1]=B}if([F,M]=x(F/r,M/i),w){const V=Math.hypot(o,l);O=R=Math.max(Math.min(Math.hypot(j[0]-A[0]-F,j[1]-A[1]-M)/V,1/o,1/l),c/o,h/l)}else _?O=mr(Math.abs(j[0]-A[0]-F),c,1)/o:R=mr(Math.abs(j[1]-A[1]-M),h,1)/l;const D=Me._round(o*O),$=Me._round(l*R);P=m(...b(D,$));const H=T-P[0],q=k-P[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=D,this.height=$,this.x=H,this.y=q,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new nh(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(ds.initialize(Me._l10n),this.#r=new ds(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new xm(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new xm(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new xm(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new xm(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),gV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new ly({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#W.bind(this),onPinching:this.#P.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#W(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#P(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=this.#j(this.rotation),o=(T,k)=>[a[0]*T+a[2]*k,a[1]*T+a[3]*k],[l,c]=this.parentDimensions,h=this.x,d=this.y,m=this.width,g=this.height,x=Me.MIN_SIZE/l,y=Me.MIN_SIZE/c;s=Math.max(Math.min(s,1/m,1/g),x/m,y/g);const b=Me._round(m*s),w=Me._round(g*s);if(b===m&&w===g)return;this.#u||=[h,d,m,g];const _=o(m/2,g/2),A=Me._round(h+_[0]),j=Me._round(d+_[1]),P=o(b/2,w/2);this.x=A-P[0],this.y=j-P[1],this.width=b,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:n}=er.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#$(e);return}this.#M(e)}#M(e){const{isMac:n}=er.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#$(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#M(c),r&&this._onStopDragging()};n&&(this.#C=e.clientX,this.#_=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:d,pointerId:m}=c;if(m!==this.#i){Qt(c);return}const[g,x]=this.screenToPageTranslation(h-this.#C,d-this.#_);this.#C=h,this.#_=d,this._uiManager.dragSelectedEditors(g,x)},a),window.addEventListener("touchmove",Qt,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#E||c.isPrimary)&&o(c),Qt(c)},a));const l=c=>{if(!this.#i||this.#i===c.pointerId){o(c);return}Qt(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,h=n/i,d=this.x*s,m=this.y*a,g=this.width*s,x=this.height*a;switch(r){case 0:return[d+c+o,a-m-h-x+l,d+c+g+o,a-m-h+l];case 90:return[d+h+o,a-m+c+l,d+h+x+o,a-m+c+g+l];case 180:return[d-c-g+o,a-m+h+l,d-c+o,a-m+h+x+l];case 270:return[d-h-x+o,a-m-c-g+l,d-h+o,a-m-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Me._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:h}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||h,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#I(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#E?.destroy(),this.#E=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[Me._round(r+(s-r)*e),Me._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const a=this.#G.bind(this),o=this.#q.bind(this),l=this._uiManager._signal;for(const c of this.#t){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#K.bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",Me._l10nResizer[h])}}const r=this.#t[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)this.#c.append(this.#c.firstChild);else if(s>i)for(let o=0;o<s-i;o++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const o of n){const c=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Me._l10nResizer[c])}}this.#z(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){Me._resizerKeyboardManager.exec(this,e)}#q(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#K(e){this.#g=this.#b?e:""}#z(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#R(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#I(){this.#b=!1,this.#z(-1),this.#F()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},Me._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Rce extends Me{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const v2=3285377520,pi=4294901760,cs=65535;class vV{constructor(e){this.h1=e?e&4294967295:v2,this.h2=e?e&4294967295:v2}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const w=e.charCodeAt(y);w<=255?n[r++]=w:(n[r++]=w>>>8,n[r++]=w&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,h=this.h2;const d=3432918353,m=461845907,g=d&cs,x=m&cs;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*d&pi|o*g&cs,o=o<<15|o>>>17,o=o*m&pi|o*x&cs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*d&pi|l*g&cs,l=l<<15|l>>>17,l=l*m&pi|l*x&cs,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&pi|o*g&cs,o=o<<15|o>>>17,o=o*m&pi|o*x&cs,i&1?c^=o:h^=o}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&pi|e*36045&cs,n=n*4283543511&pi|((n<<16|e>>>16)*2950163797&pi)>>>16,e^=n>>>1,e=e*444984403&pi|e*60499&cs,n=n*3301882366&pi|((n<<16|e>>>16)*3120437893&pi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const TA=Object.freeze({map:null,hash:"",transfer:void 0});class RE{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof Me&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof Me)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,n);i&&this.#a(),n instanceof Me&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new yV(this)}get serializable(){if(this.#n.size===0)return TA;const e=new Map,n=new vV,r=[],i=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof Me?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:TA}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of this.#n.values()){if(!(s instanceof Me)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[c,h]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const m=d.get(h)??0;d.set(h,m+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class yV extends RE{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Et("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Je(this,"modifiedIds",{ids:new Set,hash:""})}}class Ice{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(at(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),r?.(e)}catch{Ke(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Et("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ke(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Je(this,"isSyncFontLoadingSupported",pr||er.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(at(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(j,P){return j.charCodeAt(P)<<24|j.charCodeAt(P+1)<<16|j.charCodeAt(P+2)<<8|j.charCodeAt(P+3)&255}function i(j,P,T,k){const O=j.substring(0,P),R=j.substring(P+T);return O+k+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function h(j,P){if(++c>30){Ke("Load test font never loaded."),P();return}if(l.font="30px "+j,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(h.bind(null,j,P))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,d.length,d);const x=16,y=1482184792;let b=r(m,x);for(s=0,a=d.length-3;s<a;s+=4)b=b-y+r(d,s)|0;s<d.length&&(b=b-y+r(d+"XXX",s)|0),m=i(m,x,4,gce(b));const w=`url(data:font/opentype;base64,${btoa(m)});`,_=`@font-face {font-family:"${d}";src:${w}}`;this.insertRule(_);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const j of[e.loadedName,d]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=j,A.append(P)}this._document.body.append(A),h(d,()=>{A.remove(),n.complete()})}}class Lce{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${hV(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Ke(`getPathGenerator - ignoring character: "${a}".`)}const s=mV(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Sc{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Sc.strings){const h=n.encode(e[c]);r[c]=h,i+=4+h.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of Sc.strings){const h=r[c],d=h.length;o.setUint32(l,d),a.set(h,l+4),l+=4+d}return at(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){at(e<Sc.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class _c{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const m of _c.strings){const g=n.encode(e[m]);r[m]=g,i+=4+g.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),h=new DataView(l);let d=0;h.setUint8(d++,e.guessFallback?1:0),h.setUint32(d,0),d+=4,i=0;for(const m of _c.strings){const g=r[m],x=g.length;i+=4+x,h.setUint32(d,x),c.set(g,d+4),d+=4+x}return h.setUint32(d-i-4,i),e.style&&(h.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,h.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),at(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){at(e<_c.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),s=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:s}}}class _t{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#a=this.#n+1+6;#s;#i;#o;constructor({data:e,extra:n}){this.#s=e,this.#i=new TextDecoder,this.#o=new DataView(this.#s),n&&Object.assign(this,n)}#c(e){at(e<_t.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return at(e<_t.numbers.length,"Invalid number index"),this.#o.getFloat64(_t.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=_t.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=_t.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=_t.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){at(e<_t.strings.length,"Invalid string index");let n=_t.#a+4;for(let s=0;s<e;s++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=_t.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=_t.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=_t.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#s,e+4,i)),new Sc(s.buffer)}get systemFontInfo(){let e=_t.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,e+4,r)),new _c(i.buffer)}static write(e){const n=e.systemFontInfo?_c.write(e.systemFontInfo):null,r=e.cssFontInfo?Sc.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of _t.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=_t.#a+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),h=new DataView(l);let d=0;const m=_t.bools.length;let g=0,x=0;for(let y=0;y<m;y++){const b=e[_t.bools[y]];g|=(b===void 0?0:b?2:1)<<x,x+=2,(x===8||y===m-1)&&(h.setUint8(d++,g),g=0,x=0)}at(d===_t.#e,"FontInfo.write: Boolean properties offset mismatch");for(const y of _t.numbers)h.setFloat64(d,e[y]),d+=8;if(at(d===_t.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(d++,4);for(const y of e.bbox)h.setInt16(d,y,!0),d+=2}else h.setUint8(d++,0),d+=8;if(at(d===_t.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(d++,6);for(const y of e.fontMatrix)h.setFloat64(d,y,!0),d+=8}else h.setUint8(d++,0),d+=48;if(at(d===_t.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(d++,1);for(const y of e.defaultVMetrics)h.setInt16(d,y,!0),d+=2}else h.setUint8(d++,0),d+=6;at(d===_t.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(_t.#a,0),d+=4;for(const y of _t.strings){const b=s[y],w=b.length;h.setUint32(d,w),c.set(b,d+4),d+=4+w}if(h.setUint32(_t.#a,d-_t.#a-4),!n)h.setUint32(d,0),d+=4;else{const y=n.byteLength;h.setUint32(d,y),at(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+y}if(!r)h.setUint32(d,0),d+=4;else{const y=r.byteLength;h.setUint32(d,y),at(d+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+y}return e.data===void 0?(h.setUint32(d,0),d+=4):(h.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),at(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}}class Mn{static#e=0;static#t=1;static#r=2;static#n=3;static#a=4;static#s=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),d=Math.floor(s.length/3),m=a.length,g=o.length;let x=0;for(const P of o)x+=1,x=Math.ceil(x/4)*4,x+=4+P.coords.length*4,x+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(x+=4);const y=20+h*8+d*3+m*8+(r?16:0)+(c?3:0)+x,b=new ArrayBuffer(y),w=new DataView(b),_=new Uint8Array(b);w.setUint8(Mn.#e,n),w.setUint8(Mn.#t,r?1:0),w.setUint8(Mn.#r,c?1:0),w.setUint8(Mn.#n,l),w.setUint32(Mn.#a,h,!0),w.setUint32(Mn.#s,d,!0),w.setUint32(Mn.#i,m,!0),w.setUint32(Mn.#o,g,!0);let A=20;new Float32Array(b,A,h*2).set(i),A+=h*8,_.set(s,A),A+=d*3;for(const[P,T]of a)w.setFloat32(A,P,!0),A+=4,w.setUint32(A,parseInt(T.slice(1),16),!0),A+=4;if(r)for(const P of r)w.setFloat32(A,P,!0),A+=4;c&&(_.set(c,A),A+=3);for(let P=0;P<o.length;P++){const T=o[P];w.setUint8(A,T.type),A+=1,A=Math.ceil(A/4)*4,w.setUint32(A,T.coords.length,!0),A+=4,new Int32Array(b,A,T.coords.length).set(T.coords),A+=T.coords.length*4,w.setUint32(A,T.colors.length,!0),A+=4,new Int32Array(b,A,T.colors.length).set(T.colors),A+=T.colors.length*4,T.verticesPerRow!==void 0&&(w.setUint32(A,T.verticesPerRow,!0),A+=4)}return b}getIR(){const e=this.view,n=this.data[Mn.#e],r=!!this.data[Mn.#t],i=!!this.data[Mn.#r],s=e.getUint32(Mn.#a,!0),a=e.getUint32(Mn.#s,!0),o=e.getUint32(Mn.#i,!0),l=e.getUint32(Mn.#o,!0);let c=20;const h=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const m=[];for(let b=0;b<o;++b){const w=e.getFloat32(c,!0);c+=4;const _=e.getUint32(c,!0);c+=4,m.push([w,`#${_.toString(16).padStart(6,"0")}`])}let g=null;if(r){g=[];for(let b=0;b<4;++b)g.push(e.getFloat32(c,!0)),c+=4}let x=null;i&&(x=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let b=0;b<l;++b){const w=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const _=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,_);c+=_*4;const j=e.getUint32(c,!0);c+=4;const P=new Int32Array(this.buffer,c,j);c+=j*4;const T={type:w,coords:A,colors:P};w===_A.LATTICE&&(T.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(T)}if(n===1)return["RadialAxial","axial",g,m,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",g,m,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(n===3){const b=this.data[Mn.#n];let w=null;if(h.length>0){let _=h[0],A=h[0],j=h[1],P=h[1];for(let T=0;T<h.length;T+=2){const k=h[T],O=h[T+1];_=_>k?k:_,j=j>O?O:j,A=A<k?k:A,P=P<O?O:P}w=[_,j,A,P]}return["Mesh",b,h,d,y,w,g,x]}throw new Error(`Unsupported pattern kind: ${n}`)}}function Fce(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(pr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function $ce(t){if(pr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Of(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function wm(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const jA=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,Bce=t=>typeof t=="object"&&typeof t?.name=="string",Uce=wce.bind(null,jA,Bce);class zce{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Ke("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Sm={DATA:1,ERROR:2},hn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function y2(){}function kr(t){if(t instanceof to||t instanceof AA||t instanceof u2||t instanceof Ag||t instanceof _0)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Et('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new to(t.message);case"InvalidPDFException":return new AA(t.message);case"PasswordException":return new u2(t.message,t.code);case"ResponseException":return new Ag(t.message,t.status,t.missing);case"UnknownErrorException":return new _0(t.message,t.details)}return new _0(t.message,t.toString())}class Vd{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Sm.DATA)i.resolve(e.data);else if(e.callback===Sm.ERROR)i.reject(kr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Sm.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Sm.ERROR,callbackId:e.callbackId,reason:kr(a)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:hn.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{at(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:hn.CANCEL,streamId:s,reason:kr(c)}),h.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:hn.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){at(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.ERROR,streamId:n,reason:kr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,reason:kr(c)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case hn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(kr(e.reason));break;case hn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(kr(e.reason));break;case hn.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||y2).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,reason:kr(c)})});break;case hn.ENQUEUE:if(at(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case hn.CLOSE:if(at(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,n);break;case hn.ERROR:at(a,"error should have stream controller"),a.controller.error(kr(e.reason)),this.#a(a,n);break;case hn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(kr(e.reason)),this.#a(a,n);break;case hn.CANCEL:if(!o)break;const l=kr(e.reason);Promise.try(o.onCancel||y2,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,reason:kr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class bV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Et("Abstract method `_createCanvas` called.")}}class Vce extends bV{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class xV{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class b2 extends xV{async _fetch(e){const n=await Mf(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Of(n)}}class wV{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}class Wce extends wV{#e;#t;#r;#n;#a;#s;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#a=n}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#r){const e=this.#a.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#a.createElementNS(Gs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#a.createElementNS(Gs,"defs"),e.append(r),r.append(this.#r),this.#a.body.append(e)}return this.#r}#h(e){if(e.length===1){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const h=c.join(",");return[h,h,h]}const[n,r,i]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=n[l]/255,a[l]=r[l]/255,o[l]=i[l]/255;return[s.join(","),a.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#a.URL;n!==this.#a.baseURI&&(oy(n)?Ke('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=cV(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const o=`g_${this.#n}_transfer_map_${this.#i++}`,l=this.#d(o);this.#o.set(e,l),this.#o.set(a,l);const c=this.#m(o);return this.#p(r,i,s,c),l}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let s=this.#c.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#c.set(i,s)),!e||!n))return s.url;const a=this.#b(e);e=_e.makeHexColor(...a);const o=this.#b(n);if(n=_e.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const l=new Array(256);for(let g=0;g<=255;g++){const x=g/255;l[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=l.join(","),h=`g_${this.#n}_hcm_filter`,d=s.filter=this.#m(h);this.#p(c,c,c,d),this.#g(d);const m=(g,x)=>{const y=a[g]/255,b=o[g]/255,w=new Array(x+1);for(let _=0;_<=x;_++)w[_]=y+_/x*(b-y);return w.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),d),s.url=this.#d(h),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_alpha_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#v(r,o),a}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_luminosity_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#f(o),e&&this.#v(r,o),a}addHighlightHCMFilter(e,n,r,i,s){const a=`${n}-${r}-${i}-${s}`;let o=this.#c.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(e,o)),!n||!r))return o.url;const[l,c]=[n,r].map(this.#b.bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[m,g]=[i,s].map(this.#b.bind(this));d<h&&([h,d,m,g]=[d,h,g,m]),this.#l.style.color="";const x=(w,_,A)=>{const j=new Array(256),P=(d-h)/A,T=w/255,k=(_-w)/(255*A);let O=0;for(let R=0;R<=A;R++){const F=Math.round(h+R*P),M=T+R*k;for(let D=O;D<=F;D++)j[D]=M;O=F+1}for(let R=O;R<256;R++)j[R]=j[O-1];return j.join(",")},y=`g_${this.#n}_hcm_${e}_filter`,b=o.filter=this.#m(y);return this.#g(b),this.#p(x(m[0],g[0],5),x(m[1],g[1],5),x(m[2],g[2],5),b),o.url=this.#d(y),o.url}destroy(e=!1){e&&this.#s?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#i=0)}#f(e){const n=this.#a.createElementNS(Gs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#a.createElementNS(Gs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#m(e){const n=this.#a.createElementNS(Gs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#a.createElementNS(Gs,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const s=this.#a.createElementNS(Gs,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",n),this.#u(s,"feFuncB",r)}#v(e,n){const r=this.#a.createElementNS(Gs,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,Rf(getComputedStyle(this.#l).getPropertyValue("color"))}}class SV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class x2 extends SV{async _fetch(e){const n=await Mf(e,"arraybuffer");return new Uint8Array(n)}}class _V{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Et("Abstract method `_fetch` called.")}}class w2 extends _V{async _fetch(e){const n=await Mf(e,"arraybuffer");return new Uint8Array(n)}}pr&&Ke("Please use the `legacy` build in Node.js environments.");async function IE(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Hce extends wV{}class qce extends bV{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class Gce extends xV{async _fetch(e){return IE(e)}}class Kce extends SV{async _fetch(e){return IE(e)}}class Yce extends _V{async _fetch(e){return IE(e)}}const Ql="__forcedDependency",{floor:S2,ceil:_2}=Math;function _m(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const kA=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Xce{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===kA}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Am=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class Qce{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Ql]:[]};#r=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(e,n,r=!1){this.#f=e.width,this.#g=e.height,this.#v(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(kA,n.length)):this.#u.fill(kA)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Ql]:{__proto__:this.#t[Ql]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(Am(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(Am(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const n=this.#a.pop();return n!==void 0&&(Am(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#s.push(_e.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Ql,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Ql,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=_e.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];_e.axialAlignedBoundingBox([r,s,i,a],o,l);const c=_e.intersect(this.#i,l);return c?(this.#i[0]=c[0],this.#i[1]=c[1],this.#i[2]=c[2],this.#i[3]=c[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=this.#i;if(o[0]===1/0)return this;const l=_e.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform());if(o[0]===-1/0)return _e.axialAlignedBoundingBox([r,s,i,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return _e.axialAlignedBoundingBox([r,s,i,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,h;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(r),c!==!1&&(h=[0,0,0,0],_e.axialAlignedBoundingBox(l,r.fontMatrix,h),(i!==1||s!==0||a!==0)&&_e.scaleMinMax([i,0,0,-i,s,a],h),c)))return this.recordBBox(e,n,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&h&&c===void 0&&(c=h[0]<=s-d.actualBoundingBoxLeft&&h[2]>=s+d.actualBoundingBoxRight&&h[1]<=a-d.actualBoundingBoxAscent&&h[3]>=a+d.actualBoundingBoxDescent,this.#d.set(r,c),c)?this.recordBBox(e,n,h[0],h[2],h[1],h[3]):this.recordBBox(e,n,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,s=this.#t;for(const a of n)a in this.#e?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Ql]),this.#p){const r=Am(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=S2(this.#o[0]*256/this.#f),i=S2(this.#o[1]*256/this.#g),s=_2(this.#o[2]*256/this.#f),a=_2(this.#o[3]*256/this.#g);_m(this.#m,e,r,i,s,a);for(const o of this.#l)o!==e&&_m(this.#m,o,r,i,s,a);for(const o of this.#n)o!==e&&_m(this.#m,o,r,i,s,a);for(const o of this.#a)o!==e&&_m(this.#m,o,r,i,s,a);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new Xce(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Cg{#e;#t;#r;#n=0;#a=0;constructor(e,n,r){if(e instanceof Cg&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,s,a){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return this.#r||this.#e.recordBBox(this.#t,n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,s,a,o),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const mi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Jn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function NA(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class LE{isModifyingCurrentTransform(){return!1}getPattern(){Et("Abstract method `getPattern` called.")}}class Zce extends LE{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===Jn.STROKE||i===Jn.FILL){const a=n.current.getClippedPathBoundingBox(i,Wt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=_e.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),NA(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else NA(e,this._bbox),s=this._createGradient(e);return s}}function P0(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,h=t.data,d=t.width*4;let m;l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=a,a=o,o=m),l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m);const g=(l[n]+e.offsetX)*e.scaleX,x=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY;if(x>=_)return;const A=c[s],j=c[s+1],P=c[s+2],T=c[a],k=c[a+1],O=c[a+2],R=c[o],F=c[o+1],M=c[o+2],D=Math.round(x),$=Math.round(_);let H,q,V,B,L,W,X,U;for(let K=D;K<=$;K++){if(K<b){const re=K<x?0:(x-K)/(x-b);H=g-(g-y)*re,q=A-(A-T)*re,V=j-(j-k)*re,B=P-(P-O)*re}else{let re;K>_?re=1:b===_?re=0:re=(b-K)/(b-_),H=y-(y-w)*re,q=T-(T-R)*re,V=k-(k-F)*re,B=O-(O-M)*re}let Z;K<x?Z=0:K>_?Z=1:Z=(x-K)/(x-_),L=g-(g-w)*Z,W=A-(A-R)*Z,X=j-(j-F)*Z,U=P-(P-M)*Z;const ae=Math.round(Math.min(H,L)),ce=Math.round(Math.max(H,L));let pe=d*K+ae*4;for(let re=ae;re<=ce;re++)Z=(H-re)/(H-L),Z<0?Z=0:Z>1&&(Z=1),h[pe++]=q-(q-W)*Z|0,h[pe++]=V-(V-X)*Z|0,h[pe++]=B-(B-U)*Z|0,h[pe++]=255}}function Jce(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case _A.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let h=s*o;for(let d=0;d<c;d++,h++)P0(t,n,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),P0(t,n,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case _A.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)P0(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class eue extends LE{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),g=c/d,x=h/m,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/x},b=d+4,w=m+4,_=r.getCanvas("mesh",b,w),A=_.context,j=A.createImageData(d,m);if(n){const T=j.data;for(let k=0,O=T.length;k<O;k+=4)T[k]=n[0],T[k+1]=n[1],T[k+2]=n[2],T[k+3]=255}for(const T of this._figures)Jce(j,T,y);return A.putImageData(j,2,2),{canvas:_.canvas,offsetX:o-2*g,offsetY:l-2*x,scaleX:g,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){NA(e,this._bbox);const s=new Float32Array(2);if(i===Jn.SHADING)_e.singularValueDecompose2dScale(Wt(e),s);else if(this.matrix){_e.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;_e.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else _e.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===Jn.SHADING?null:this._background,n.cachedCanvases);return i!==Jn.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class tue extends LE{getPattern(){return"hotpink"}}function nue(t){switch(t[0]){case"RadialAxial":return new Zce(t);case"Mesh":return new eue(t);case"Dummy":return new tue}throw new Error(`Unknown IR type: ${t[0]}`)}const A2={COLORED:1,UNCOLORED:2};class FE{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),ay("TilingType: "+a);const d=r[0],m=r[1],g=r[2],x=r[3],y=g-d,b=x-m,w=new Float32Array(2);_e.singularValueDecompose2dScale(this.matrix,w);const[_,A]=w;_e.singularValueDecompose2dScale(this.baseTransform,w);const j=_*w[0],P=A*w[1];let T=y,k=b,O=!1,R=!1;const F=Math.ceil(c*j),M=Math.ceil(h*P),D=Math.ceil(y*j),$=Math.ceil(b*P);F>=D?T=c:O=!0,M>=$?k=h:R=!0;const H=this.getSizeAndScale(T,this.ctx.canvas.width,j),q=this.getSizeAndScale(k,this.ctx.canvas.height,P),V=e.cachedCanvases.getCanvas("pattern",H.size,q.size),B=V.context,L=l.createCanvasGraphics(B,n);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,s,o),B.translate(-H.scale*d,-q.scale*m),L.transform(0,H.scale,0,0,q.scale,0,0),B.save(),L.dependencyTracker?.save(),this.clipBbox(L,d,m,g,x),L.baseTransform=Wt(L.ctx),L.executeOperatorList(i),L.endDrawing(),L.dependencyTracker?.restore(),B.restore(),O||R){const W=V.canvas;O&&(T=c),R&&(k=h);const X=this.getSizeAndScale(T,this.ctx.canvas.width,j),U=this.getSizeAndScale(k,this.ctx.canvas.height,P),K=X.size,Z=U.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",K,Z),ce=ae.context,pe=O?Math.floor(y/c):0,re=R?Math.floor(b/h):0;for(let ee=0;ee<=pe;ee++)for(let te=0;te<=re;te++)ce.drawImage(W,K*ee,Z*te,K,Z,0,0,K,Z);return{canvas:ae.canvas,scaleX:X.scale,scaleY:U.scale,offsetX:d,offsetY:m}}return{canvas:V.canvas,scaleX:H.scale,scaleY:q.scale,offsetX:d,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(FE.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),_e.axialAlignedBoundingBox([n,r,i,s],Wt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case A2.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case A2.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new mce(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==Jn.SHADING&&(a=_e.transform(a,n.baseTransform),this.matrix&&(a=_e.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function rue({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=er.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],h=r>>3,d=r&7,m=t.length;n=new Uint32Array(n.buffer);let g=0;for(let x=0;x<i;x++){for(const b=e+h;e<b;e++){const w=e<m?t[e]:255;n[g++]=w&128?c:l,n[g++]=w&64?c:l,n[g++]=w&32?c:l,n[g++]=w&16?c:l,n[g++]=w&8?c:l,n[g++]=w&4?c:l,n[g++]=w&2?c:l,n[g++]=w&1?c:l}if(d===0)continue;const y=e<m?t[e++]:255;for(let b=0;b<d;b++)n[g++]=y&1<<7-b?c:l}return{srcPos:e,destPos:g}}const C2=16,P2=100,iue=15,E2=10,Or=16,E0=new DOMMatrix,Kr=new Float32Array(2),dc=new Float32Array([1/0,1/0,-1/0,-1/0]);function sue(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class aue{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Cm(t,e,n,r,i,s,a,o,l,c){const[h,d,m,g,x,y]=Wt(t);if(d===0&&m===0){const _=a*h+x,A=Math.round(_),j=o*g+y,P=Math.round(j),T=(a+l)*h+x,k=Math.abs(Math.round(T)-A)||1,O=(o+c)*g+y,R=Math.abs(Math.round(O)-P)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(g),A,P),t.drawImage(e,n,r,i,s,0,0,k,R),t.setTransform(h,d,m,g,x,y),[k,R]}if(h===0&&g===0){const _=o*m+x,A=Math.round(_),j=a*d+y,P=Math.round(j),T=(o+c)*m+x,k=Math.abs(Math.round(T)-A)||1,O=(a+l)*d+y,R=Math.abs(Math.round(O)-P)||1;return t.setTransform(0,Math.sign(d),Math.sign(m),0,A,P),t.drawImage(e,n,r,i,s,0,0,R,k),t.setTransform(h,d,m,g,x,y),[R,k]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(h,d),w=Math.hypot(m,g);return[b*l,w*c]}class T2{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=SA;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Kn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=dc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Jn.FILL,n=null){const r=this.minMax.slice();if(e===Jn.STROKE){n||Et("Stroke bounding box must include transform."),_e.singularValueDecompose2dScale(n,Kr);const i=Kr[0]*this.lineWidth/2,s=Kr[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=_e.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(dc,0)}getClippedPathBoundingBox(e=Jn.FILL,n=null){return _e.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function j2(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Or,s=(n-i)/Or,a=i===0?s:s+1,o=t.createImageData(r,Or);let l=0,c;const h=e.data,d=o.data;let m,g,x,y;if(e.kind===Qm.GRAYSCALE_1BPP){const b=h.byteLength,w=new Uint32Array(d.buffer,0,d.byteLength>>2),_=w.length,A=r+7>>3,j=4294967295,P=er.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(x=m<s?Or:i,c=0,g=0;g<x;g++){const T=b-l;let k=0;const O=T>A?r:T*8-7,R=O&-8;let F=0,M=0;for(;k<R;k+=8)M=h[l++],w[c++]=M&128?j:P,w[c++]=M&64?j:P,w[c++]=M&32?j:P,w[c++]=M&16?j:P,w[c++]=M&8?j:P,w[c++]=M&4?j:P,w[c++]=M&2?j:P,w[c++]=M&1?j:P;for(;k<O;k++)F===0&&(M=h[l++],F=128),w[c++]=M&F?j:P,F>>=1}for(;c<_;)w[c++]=0;t.putImageData(o,0,m*Or)}}else if(e.kind===Qm.RGBA_32BPP){for(g=0,y=r*Or*4,m=0;m<s;m++)d.set(h.subarray(l,l+y)),l+=y,t.putImageData(o,0,g),g+=Or;m<a&&(y=r*i*4,d.set(h.subarray(l,l+y)),t.putImageData(o,0,g))}else if(e.kind===Qm.RGB_24BPP)for(x=Or,y=r*x,m=0;m<a;m++){for(m>=s&&(x=i,y=r*x),c=0,g=y;g--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;t.putImageData(o,0,m*Or)}else throw new Error(`bad image kind: ${e.kind}`)}function k2(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Or,s=(n-i)/Or,a=i===0?s:s+1,o=t.createImageData(r,Or);let l=0;const c=e.data,h=o.data;for(let d=0;d<a;d++){const m=d<s?Or:i;({srcPos:l}=rue({src:c,srcPos:l,dest:h,width:r,height:m,nonBlackColor:0})),t.putImageData(o,0,d*Or)}}function Ed(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Pm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function N2(t,e){if(e)return!0;_e.singularValueDecompose2dScale(t,Kr);const n=Math.fround(Es.pixelRatio*zc.PDF_TO_CSS_UNITS);return Kr[0]<=n&&Kr[1]<=n}const oue=["butt","round","square"],lue=["miter","round","bevel"],cue={},O2={};class Ac{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,h){this.ctx=e,this.current=new T2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new aue(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Wt(this.compositeCtx))}this.ctx.save(),Pm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Wt(this.ctx)}executeOperatorList(e,n,r,i,s){const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const h=c-l>E2&&typeof r=="function",d=h?Date.now()+iue:0;let m=0;const g=this.commonObjs,x=this.objs;let y,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(y=o[l],b=a[l]??null,y!==Eh.dependency)b===null?this[y](l):this[y](l,...b);else for(const w of b){this.dependencyTracker?.recordNamedData(w,l);const _=w.startsWith("g_")?g:x;if(!_.has(w))return _.get(w,r),l}if(l++,l===c)return l;if(h&&++m>E2){if(Date.now()>d)return r(),l;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",h,d;for(;s>2&&o>1||a>2&&l>1;){let m=o,g=l;s>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/m),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),h=this.cachedCanvases.getCanvas(c,m,g),d=h.context,d.clearRect(0,0,m,g),d.drawImage(e,0,0,o,l,0,0,m,g),e=h.canvas,o=m,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=Wt(r);let c,h,d,m;if((n.bitmap||n.data)&&n.count>1){const F=n.bitmap||n.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(F),c||(c=new Map,this._cachedBitmapsMap.set(F,c));const M=c.get(h);if(M&&!o){const D=Math.round(Math.min(l[0],l[2])+l[4]),$=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,mi.transformAndFill),{canvas:M,offsetX:D,offsetY:$}}d=M}d||(m=this.cachedCanvases.getCanvas("maskCanvas",i,s),k2(m.context,n));let g=_e.transform(l,[1/i,0,0,-1/s,0,0]);g=_e.transform(g,[1,0,0,1,0,-s]);const x=dc.slice();_e.axialAlignedBoundingBox([0,0,i,s],g,x);const[y,b,w,_]=x,A=Math.round(w-y)||1,j=Math.round(_-b)||1,P=this.cachedCanvases.getCanvas("fillCanvas",A,j),T=P.context,k=y,O=b;T.translate(-k,-O),T.transform(...g),d||(d=this._scaleImage(m.canvas,ls(T)),d=d.img,c&&o&&c.set(h,d)),T.imageSmoothingEnabled=N2(Wt(T),n.interpolate),Cm(T,d,0,0,d.width,d.height,0,0,i,s),T.globalCompositeOperation="source-in";const R=_e.transform(ls(T),[1,0,0,1,-k,-O]);return T.fillStyle=o?a.getPattern(r,this,R,Jn.FILL,e):a,T.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,P.canvas)),this.dependencyTracker?.recordDependencies(e,mi.transformAndFill),{canvas:P.canvas,offsetX:Math.round(k),offsetY:Math.round(O)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=oue[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=lue[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Ed(this.suspendedCtx,a),sue(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ed(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,h,d){let m=e.canvas,g=l-h,x=c-d;if(a)if(g<0||x<0||g+r>m.width||x+i>m.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),w=b.context;w.drawImage(m,-g,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,r,i),w.globalCompositeOperation="source-over",m=b.canvas,g=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(g,x,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(g,x,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(m,g,x,r,i,l,c,r,i),n.restore()}save(e){this.inSMaskMode&&Ed(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ed(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||=r[0]=new Path2D,this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Eh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=mV(s)),_e.axialAlignedBoundingBox(i,Wt(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,ls(i),Jn.STROKE,e),a){const o=new Path2D;o.addPath(n,i.getTransform().invertSelf().multiplySelf(a)),n=o}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,mi.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Jn.STROKE,Wt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,ls(i),Jn.FILL,e),c){const h=new Path2D;h.addPath(n,i.getTransform().invertSelf().multiplySelf(c)),n=h}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,mi.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,mi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=cue}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=O2}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:h}of n)h&&i.addPath(h,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||SA,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ke("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let h=r;r<C2?h=C2:r>P2&&(h=P2),this.current.fontSizeScale=r/h,this.ctx.font=`${c} ${l} ${h}px ${o}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,s,a){const o=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,m=h&Kn.FILL_STROKE_MASK,g=!!(h&Kn.ADD_TO_PATH_FLAG),x=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||g||x||y)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||x||y)){o.save(),o.translate(r,i),o.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(e,o,c);let w;if(m===Kn.FILL||m===Kn.FILL_STROKE)if(s){w=o.getTransform(),o.setTransform(...s);const _=this.#r(b,w,s);o.fill(_)}else o.fill(b);if(m===Kn.STROKE||m===Kn.FILL_STROKE)if(a){w||=o.getTransform(),o.setTransform(...a);const{a:_,b:A,c:j,d:P}=w,T=_e.inverseTransform(a),k=_e.transform([_,A,j,P,0,0],T);_e.singularValueDecompose2dScale(k,Kr),o.lineWidth*=Math.max(Kr[0],Kr[1])/d,o.stroke(this.#r(b,w,a))}else o.lineWidth/=d,o.stroke(b);o.restore()}else(m===Kn.FILL||m===Kn.FILL_STROKE)&&(o.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n))),(m===Kn.STROKE||m===Kn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n)).recordDependencies(e,mi.stroke),o.strokeText(n,r,i));g&&((this.pendingTextPaths||=[]).push({transform:Wt(o),x:r,y:i,fontSize:d,path:b}),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Je(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,mi.showText).resetBBox(e),this.current.textRenderingMode&Kn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,h=r.fontDirection,d=r.textHScale*h,m=n.length,g=i.vertical,x=g?1:-1,y=i.defaultVMetrics,b=s*r.fontMatrix[0],w=r.textRenderingMode===Kn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),h>0?a.scale(d,-1):a.scale(d,1);let _,A;if(r.patternFill){a.save();const O=r.fillColor.getPattern(a,this,ls(a),Jn.FILL,e);_=Wt(a),a.restore(),a.fillStyle=O}if(r.patternStroke){a.save();const O=r.strokeColor.getPattern(a,this,ls(a),Jn.STROKE,e);A=Wt(a),a.restore(),a.strokeStyle=O}let j=r.lineWidth;const P=r.textMatrixScale;if(P===0||j===0){const O=r.textRenderingMode&Kn.FILL_STROKE_MASK;(O===Kn.STROKE||O===Kn.FILL_STROKE)&&(j=this.getSinglePixelWidth())}else j/=P;if(o!==1&&(a.scale(o,o),j/=o),a.lineWidth=j,i.isInvalidPDFjsFont){const O=[];let R=0;for(const M of n)O.push(M.unicode),R+=M.width;const F=O.join("");if(a.fillText(F,0,0),this.dependencyTracker!==null){const M=a.measureText(F);this.dependencyTracker.recordBBox(e,this.ctx,-M.actualBoundingBoxLeft,M.actualBoundingBoxRight,-M.actualBoundingBoxAscent,M.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=R*b*d,a.restore(),this.compose();return}let T=0,k;for(k=0;k<m;++k){const O=n[k];if(typeof O=="number"){T+=x*O*s/1e3;continue}let R=!1;const F=(O.isSpace?c:0)+l,M=O.fontChar,D=O.accent;let $,H,q=O.width;if(g){const L=O.vmetric||y,W=-(O.vmetric?L[1]:q*.5)*b,X=L[2]*b;q=L?-L[0]:q,$=W/o,H=(T+X)/o}else $=T/o,H=0;let V;if(i.remeasure&&q>0){V=a.measureText(M);const L=V.width*1e3/s*o;if(q<L&&this.isFontSubpixelAAEnabled){const W=q/L;R=!0,a.save(),a.scale(W,1),$/=W}else q!==L&&($+=(q-L)/2e3*s/o)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(w&&!D)a.fillText(M,$,H),this.dependencyTracker?.recordCharacterBBox(e,a,V?{bbox:null}:i,s/o,$,H,()=>V??a.measureText(M));else if(this.paintChar(e,M,$,H,_,A),D){const L=$+s*D.offset.x/o,W=H-s*D.offset.y/o;this.paintChar(e,D.fontChar,L,W,_,A)}}const B=g?q*b-F*h:q*b+F*h;T+=B,R&&a.restore()}g?r.y-=T:r.x+=T*d,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,h=i.wordSpacing,d=i.textHScale*o,m=i.fontMatrix||SA,g=n.length,x=i.textRenderingMode===Kn.INVISIBLE;let y,b,w,_;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(d,o);const A=this.dependencyTracker;for(this.dependencyTracker=A?new Cg(A,e):null,y=0;y<g;++y){if(b=n[y],typeof b=="number"){_=l*b*a/1e3,this.ctx.translate(_,0),i.x+=_*d;continue}const j=(b.isSpace?h:0)+c,P=s.charProcOperatorList[b.operatorListId];P?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...m),this.executeOperatorList(P),this.restore()):Ke(`Type3 character "${b.operatorListId}" is not available.`);const T=[b.width,0];_e.applyTransform(T,m),w=T[0]*a+j,r.translate(w,0),i.x+=w*d}r.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Wt(this.ctx),s={createCanvasGraphics:(a,o)=>new Ac(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Cg(this.dependencyTracker,o,!0):null)};r=new FE(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=nue(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,ls(r),Jn.SHADING,e);const s=ls(r);if(s){const{width:a,height:o}=r.canvas,l=dc.slice();_e.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,h,d,m]=l;this.ctx.fillRect(c,h,d-c,m-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,mi.transform).recordDependencies(e,mi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Et("Should not call beginInlineImage")}beginImageData(){Et("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Wt(this.ctx),r)){_e.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,s,a,o]=r,l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||ay("TODO: Support non-isolated groups."),n.knockout&&Ke("Knockout groups not supported.");const i=Wt(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=dc.slice();_e.axialAlignedBoundingBox(n.bbox,Wt(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=_e.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;n.smask&&(d+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(d,c,h),g=m.context;g.translate(-o,-l),g.transform(...i);let x=new Path2D;const[y,b,w,_]=n.bbox;if(x.rect(y,b,w-y,_-b),n.matrix){const A=new Path2D;A.addPath(x,new DOMMatrix(n.matrix)),x=A}g.clip(x),n.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),Ed(r,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Wt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=dc.slice();_e.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,s,a){if(this.#e(),Pm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,_e.singularValueDecompose2dScale(Wt(this.ctx),Kr);const{viewportScale:c}=this,h=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Kr[0],0,0,-Kr[1],0,l*Kr[1]),Pm(this.ctx)}else{Pm(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new T2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Wt(l);l.transform(r,i,s,a,0,0);const h=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let d=0,m=o.length;d<m;d+=2){const g=_e.transform(c,[r,i,s,a,o[d],o[d+1]]);l.drawImage(h.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(e,this.ctx,g[4],g[4]+h.canvas.width,g[5],g[5]+h.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,mi.transformAndFill);for(const a of n){const{data:o,width:l,height:c,transform:h}=a,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),m=d.context;m.save();const g=this.getObject(e,o,a);k2(m,g),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,ls(r),Jn.FILL,e):i,m.fillRect(0,0,l,c),m.restore(),r.save(),r.transform(...h),r.scale(1,-1),Cm(r,d.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,l,0,c),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Ke("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Ke("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let h=0,d=s.length;h<d;h+=2)c.push({transform:[r,0,0,i,s[h],s[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;j2(h,n),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,ls(s));s.imageSmoothingEnabled=N2(Wt(s),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,mi.imageXObject).recordOperation(e),Cm(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const a=n.width,o=n.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;j2(c,n),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(const a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),Cm(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,mi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===O2?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Wt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/c;else{const h=l*e,d=c*e;a=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),h=Math.hypot(i,s);if(e===0)a=h/l,o=c/l;else{const d=e*l;a=h>d?h/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),E0.a=1/s,E0.d=1/a;const l=new Path2D;if(l.addPath(e,E0),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(h=>h/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Eh)Ac.prototype[t]!==void 0&&(Ac.prototype[Eh[t]]=Ac.prototype[t]);class Cc{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class uue{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const rc=Symbol("INTERNAL");class due{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&qr.DISPLAY),this.#t=!!(e&qr.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==rc&&Et("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class hue{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=qr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new due(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(rc,!1);for(const r of e.on)this.#t.get(r)._setVisible(rc,!0);for(const r of e.off)this.#t.get(r)._setVisible(rc,!1);this.#r=this.getHash()}}#a(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#a(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return Ke(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return ay("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ke(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return Ke(`Unknown optional content policy ${e.policy}.`),!0}return Ke(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){Ke(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(rc,!1,!0);i._setVisible(rc,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new vV;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class fue{constructor(e,{disableRange:n=!1,disableStream:r=!1}){at(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});at(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){at(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new pue(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new mue(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class pue{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=OE(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class mue{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function gue(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=o(n);return h=unescape(h),h=l(h),h=c(h),s(h)}if(n=a(t),n){const h=c(n);return s(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=o(n);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const m=new TextDecoder(h,{fatal:!0}),g=Of(d);d=m.decode(g),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const d=[];let m;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(h))!==null;){let[,y,b,w]=m;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[b,w]}const x=[];for(let y=0;y<d.length&&y in d;++y){let[b,w]=d[y];w=o(w),b&&(w=unescape(w),y===0&&(w=l(w))),x.push(w)}return x.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let m=0;m<d.length;++m){const g=d[m].indexOf('"');g!==-1&&(d[m]=d[m].slice(0,g),d.length=m+1),d[m]=d[m].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const m=h.slice(0,d),x=h.slice(d+1).replace(/^[^']*'/,"");return i(m,x)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,m,g,x){if(g==="q"||g==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(m,x);try{x=atob(x)}catch{}return i(m,x)})}return""}function AV(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function cy(t){return URL.parse(t)?.origin??null}function CV({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function PV(t){const e=t.get("Content-Disposition");if(e){let n=gue(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(OE(n))return n}return null}function Lf(t,e){return new Ag(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function EV(t){return t===200||t===206}function TV(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function jV(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ke(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class vue{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return at(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new yue(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new bue(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class yue{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,TV(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=cy(s.url),!EV(s.status))throw Lf(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=CV({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=PV(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new to("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:jV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class bue{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,TV(s,this._withCredentials,this._abortController)).then(o=>{const l=cy(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!EV(o.status))throw Lf(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:jV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const T0=200,j0=206;function xue(t){const e=t.response;return typeof e!="string"?e:Of(e).buffer}class wue{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AV(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=j0):i.expectedStatus=T0,n.responseType="arraybuffer",at(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||T0;if(!(s===T0&&r.expectedStatus===j0)&&s!==r.expectedStatus){r.onError(i.status);return}const o=xue(i);if(s===j0){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(Ke('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Sue{constructor(e){this._source=e,this._manager=new wue(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return at(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new _ue(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Aue(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class _ue{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=cy(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=CV({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=PV(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Lf(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Aue{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=cy(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Lf(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Cue=/^[a-z][a-z0-9\-+.]+:/i;function Pue(t){if(Cue.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Eue{constructor(e){this.source=e,this.url=Pue(e.url),at(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return at(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Tue(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new jue(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Tue{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Lf(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new to("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class jue{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Td=Symbol("INITIAL_DATA");class kV{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Td}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===Td)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==Td}delete(e){const n=this.#e[e];return!n||n.data===Td?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==Td&&(yield[e,n])}}}const kue=1e5,M2=30;class fr{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#i=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#_=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Es.pixelRatio,this.#h=r.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;this.#v=[1,0,0,-1,-a,o+s],this.#o=i,this.#i=s,fr.#j(),il(n,r),this.#e.promise.finally(()=>{fr.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=er.platform;return Je(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#a??=n.lang,Object.assign(this.#f,n.styles),this.#E(n.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),fr.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Es.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,il(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const s={div:null,properties:null,ctx:fr.#k(this.#a)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#A(s)}}cancel(){const e=new to("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#E(e){if(this.#r)return;this.#s.ctx??=fr.#k(this.#a);const n=this.#u,r=this.#g;for(const i of e){if(n.length>kue){Ke("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=_e.transform(this.#v,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#n&&a.fontSubstitution||a.fontFamily;o=fr.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*fr.#L(o,a,this.#a);let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const m="calc(var(--total-scale-factor) *",g=n.style;this.#t===this.#l?(g.left=`${(100*h/this.#o).toFixed(2)}%`,g.top=`${(100*d/this.#i).toFixed(2)}%`):(g.left=`${m}${h.toFixed(2)}px)`,g.top=`${m}${d.toFixed(2)}px)`),g.fontSize=`${m}${(fr.#_*l).toFixed(2)}px)`,g.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(x=!0)}if(x&&(r.canvasWidth=a.vertical?e.height:e.width),this.#p.set(n,r),this.#s.div=n,this.#s.properties=r,this.#A(this.#s),r.hasText&&this.#t.append(n),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#A(e){const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(fr.#_>1&&(a=`scale(${1/fr.#_})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=r;fr.#T(i,c*this.#d,o);const{width:h}=i.measureText(n.textContent);h>0&&(a=`scaleX(${l*this.#d/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#k(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#C.set(n,{size:0,family:""})}return n}static#T(e,n,r){const i=this.#C.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#j(){if(this.#_!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#_=e.getBoundingClientRect().height,e.remove()}static#L(e,n,r){const i=this.#b.get(e);if(i)return i;const s=this.#k(r);s.canvas.width=s.canvas.height=M2,this.#T(s,M2,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(er.platform.isFirefox&&Ke("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),this.#b.set(e,c),c}}const Nue=100;function NV(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new $E,{docId:n}=e,r=t.url?Fce(t.url):null,i=t.data?$ce(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof OV?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof Xn?t.worker:null;const d=t.verbosity,m=typeof t.docBaseUrl=="string"&&!oy(t.docBaseUrl)?t.docBaseUrl:null,g=wm(t.cMapUrl),x=t.cMapPacked!==!1,y=t.CMapReaderFactory||(pr?Gce:b2),b=wm(t.iccUrl),w=wm(t.standardFontDataUrl),_=t.StandardFontDataFactory||(pr?Kce:x2),A=wm(t.wasmUrl),j=t.WasmFactory||(pr?Yce:w2),P=t.stopAtErrors!==!0,T=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!pr,R=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!pr&&(er.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,M=typeof t.disableFontFace=="boolean"?t.disableFontFace:pr,D=t.fontExtraProperties===!0,$=t.enableXfa===!0,H=t.ownerDocument||globalThis.document,q=t.disableRange===!0,V=t.disableStream===!0,B=t.disableAutoFetch===!0,L=t.pdfBug===!0,W=t.CanvasFactory||(pr?qce:Vce),X=t.FilterFactory||(pr?Hce:Wce),U=t.enableHWA===!0,K=t.useWasm!==!1,Z=l?l.length:t.length??NaN,ae=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!pr&&!M,ce=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===b2&&_===x2&&j===w2&&g&&w&&A&&zd(g,document.baseURI)&&zd(w,document.baseURI)&&zd(A,document.baseURI)),pe=null;hce(d);const re={canvasFactory:new W({ownerDocument:H,enableHWA:U}),filterFactory:new X({docId:n,ownerDocument:H}),cMapReaderFactory:ce?null:new y({baseUrl:g,isCompressed:x}),standardFontDataFactory:ce?null:new _({baseUrl:w}),wasmFactory:ce?null:new j({baseUrl:A})};h||(h=Xn.create({verbosity:d,port:Cc.workerPort}),e._worker=h);const ee={docId:n,apiVersion:"5.4.394",data:i,password:o,disableAutoFetch:B,rangeChunkSize:c,length:Z,docBaseUrl:m,enableXfa:$,evaluatorOptions:{maxImageSize:T,disableFontFace:M,ignoreErrors:P,isEvalSupported:k,isOffscreenCanvasSupported:O,isImageDecoderSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:D,useSystemFonts:ae,useWasm:K,useWorkerFetch:ce,cMapUrl:g,iccUrl:b,standardFontDataUrl:w,wasmUrl:A}},te={ownerDocument:H,pdfBug:L,styleElement:pe,loadingParams:{disableAutoFetch:B,enableXfa:$}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const le=h.messageHandler.sendWithPromise("GetDocRequest",ee,i?[i.buffer]:null);let he;if(l)he=new fue(l,{disableRange:q,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const se=zd(r)?vue:pr?Eue:Sue;he=new se({url:r,length:Z,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:q,disableStream:V})}return le.then(se=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const We=new Vd(n,se,h.port),Re=new Due(We,e,he,te,re,U);e._transport=Re,We.send("Ready",null)})}).catch(e._capability.reject),e}class $E{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${$E.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class OV{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#a=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#a)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Et("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Oue{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Mue{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new h2:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new kV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Df({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=Wa.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:x=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,s,d,m),{renderingIntent:b,cacheKey:w}=y;this.#e=!1,l||=this._transport.getOptionalContentConfig(b);let _=this._intentStates.get(w);_||(_=Object.create(null),this._intentStates.set(w,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const A=!!(b&qr.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const j=!!(this._pdfBug&&globalThis.StepperManager?.enabled),P=!this.recordedBBoxes&&(g||j),T=R=>{if(_.renderTasks.delete(k),P){const F=k.gfx?.dependencyTracker.take();F&&(k.stepper&&k.stepper.setOperatorBBoxes(F,k.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=F))}A&&(this.#e=!0),this.#t(),R?(k.capability.reject(R),this._abortOperatorList({intentState:_,reason:R instanceof Error?R:new Error(R)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new hc({callback:T,params:{canvas:n,canvasContext:e,dependencyTracker:P?new Qce(n,_.operatorList.length,j):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:x});(_.renderTasks||=new Set).add(k);const O=k.task;return Promise.all([_.displayReadyCapability.promise,l]).then(([R,F])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(F.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:R,optionalContentConfig:F}),k.operatorListChanged()}).catch(T),O}getOperatorList({intent:e="display",annotationMode:n=Wa.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Th.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new h2),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:m})=>{if(m){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const m of c.renderTasks)m.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof NE){let i=Nue;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new to(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class Xn{#e=Promise.withResolvers();#t=null;#r=null;#n=null;static#a=0;static#s=!1;static#i=new WeakMap;static{pr&&(this.#s=!0,Cc.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},this._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},this.fromPort=e=>{if(Cce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:n=null,verbosity:r=fce()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(Xn.#i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");Xn.#i.set(n,this),this.#c(n)}else this.#l()}get promise(){return this.#e.promise}#o(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#r}get messageHandler(){return this.#t}#c(e){this.#r=e,this.#t=new Vd("main","worker",e),this.#t.on("ready",()=>{}),this.#o()}#l(){if(Xn.#s||Xn.#d){this.#h();return}let{workerSrc:e}=Xn;try{Xn._isSameOrigin(window.location,e)||(e=Xn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Vd("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},s=new AbortController;n.addEventListener("error",()=>{this.#n||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this.#t=r,this.#r=n,this.#n=n,this.#o()}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this.#h()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{ay("The worker has been disabled.")}this.#h()}#h(){Xn.#s||(Ke("Setting up fake worker."),Xn.#s=!0),Xn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const n=new zce;this.#r=n;const r=`fake${Xn.#a++}`,i=new Vd(r+"_worker",r,n);e.setup(i,n),this.#t=new Vd(r,r+"_worker",n),this.#o()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,Xn.#i.delete(this.#r),this.#r=null,this.#t?.destroy(),this.#t=null}static create(e){const n=this.#i.get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Xn(e)}static get workerSrc(){if(Cc.workerSrc)return Cc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>this.#d?this.#d:(await import(this.workerSrc)).WorkerMessageHandler)())}}class Due{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#a=null;constructor(e,n,r,i,s,a){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new kV,this.fontLoader=new Ice({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Je(this,"annotationStorage",new RE)}getRenderingIntent(e,n=Wa.ENABLE,r=null,i=!1,s=!1){let a=qr.DISPLAY,o=TA;switch(e){case"any":a=qr.ANY;break;case"display":break;case"print":a=qr.PRINT;break;default:Ke(`getRenderingIntent - invalid intent: ${e}`)}const l=a&qr.PRINT&&r instanceof yV?r:this.annotationStorage;switch(n){case Wa.DISABLE:a+=qr.ANNOTATIONS_DISABLE;break;case Wa.ENABLE:break;case Wa.ENABLE_FORMS:a+=qr.ANNOTATIONS_FORMS;break;case Wa.ENABLE_STORAGE:a+=qr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ke(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=qr.IS_EDITING),s&&(a+=qr.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[a,o.hash,h];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),fr.cleanup(),this._networkStream?.cancelAllRequests(new to("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{at(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}at(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{at(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}at(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Oue(r,this))}),e.on("DocException",r=>{n._capability.reject(kr(r))}),e.on("PasswordRequest",r=>{this.#a=Promise.withResolvers();try{if(!n.onPassword)throw kr(r);const i=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};n.onPassword(i,r.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const d=s.error;Ke(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const a=new _t(s),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,m)=>globalThis.FontInspector.fontAdded(d,m):null,l=new Lce(a,o,s.extra,s.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;at(c,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,m]of d.objs)if(m?.ref===c)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new Mn(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ke("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const a=new Mue(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#r.set(n,i),i}getPageIndex(e){return jA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(n=>new hue(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new uue(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),fr.cleanup()}}cachedPageNumber(e){if(!jA(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class Rue{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class hc{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:x=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Rue(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=g,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(hc.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");hc.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Ac(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),hc.#t.delete(this._canvas),e||=new NE(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),hc.#t.delete(this._canvas),this.callback())))}}const Iue="5.4.394",Lue="2cc809ade";class xi{#e=null;#t=null;#r;#n=null;#a=!1;#s=!1;#i=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Je(this,"_keyboardManager",new If([[["Escape","mac+Escape"],xi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],xi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],xi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],xi.prototype._moveToPrevious],[["Home","mac+Home"],xi.prototype._moveToBeginning],[["End","mac+End"],xi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#s=!1,this.#i=e):this.#s=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",xi.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",ki,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",xi.#h[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#r,s.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:st.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastChild?.focus()}#g(e){xi._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class jh{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,jh.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",jh.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function D2(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function jd(t){return Math.max(0,Math.min(255,255*t))}class R2{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=jd(e),[e,e,e]}static G_HTML([e]){const n=D2(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(jd)}static RGB_HTML(e){return`#${e.map(D2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[jd(1-Math.min(1,e+i)),jd(1-Math.min(1,r+i)),jd(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class Fue{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Et("Abstract method `_createSVG` called.")}}class Pg extends Fue{_createSVG(e){return document.createElementNS(Gs,e)}}const $ue=9,sl=new WeakSet,Bue=new Date().getTimezoneOffset()*60*1e3;class k0{static create(e){switch(e.data.annotationType){case fn.LINK:return new BE(e);case fn.TEXT:return new zue(e);case fn.WIDGET:switch(e.data.fieldType){case"Tx":return new Vue(e);case"Btn":return e.data.radioButton?new MV(e):e.data.checkBox?new Hue(e):new que(e);case"Ch":return new Gue(e);case"Sig":return new Wue(e)}return new pl(e);case fn.POPUP:return new OA(e);case fn.FREETEXT:return new DV(e);case fn.LINE:return new Yue(e);case fn.SQUARE:return new Xue(e);case fn.CIRCLE:return new Que(e);case fn.POLYLINE:return new RV(e);case fn.CARET:return new Jue(e);case fn.INK:return new UE(e);case fn.POLYGON:return new Zue(e);case fn.HIGHLIGHT:return new IV(e);case fn.UNDERLINE:return new ede(e);case fn.SQUIGGLY:return new tde(e);case fn.STRIKEOUT:return new nde(e);case fn.STAMP:return new LV(e);case fn.FILEATTACHMENT:return new rde(e);default:return new Kt(e)}}}class Kt{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Kt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if(n?.length>=8){for(let o=0;o<n.length;o+=8)n[o+1]>a?(a=n[o+1],s=n[o+2]):n[o+1]===a&&(s=Math.max(s,n[o+2]));return[s,a]}if(r?.length>=1){for(const o of r)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>a?(a=o[l+1],s=o[l]):o[l+1]===a&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Ph}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Ph}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof pl)&&!(this instanceof BE)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof OA){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const _=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=_}else if(this instanceof MV){const _=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=_}switch(n.borderStyle.style){case nc.SOLID:a.borderStyle="solid";break;case nc.DASHED:a.borderStyle="dashed";break;case nc.BEVELED:Ke("Unimplemented border style: beveled");break;case nc.INSET:Ke("Unimplemented border style: inset");break;case nc.UNDERLINE:a.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(this.#t=!0,a.borderColor=_e.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const c=_e.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:m,pageY:g}=i.rawDims;a.left=`${100*(c[0]-m)/h}%`,a.top=`${100*(c[1]-g)/d}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(a.width=`${100*o/h}%`,a.height=`${100*l/d}%`):this.setRotation(x,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=R2[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:R2[`${a}_rgb`](o)})};return Je(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,w,_]=e.subarray(2,6);if(i===y&&s===b&&n===w&&r===_)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const m=h.createElement("defs");d.append(m);const g=h.createElement("clipPath"),x=`clippath_${this.data.id}`;g.setAttribute("id",x),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let y=2,b=e.length;y<b;y+=8){const w=e[y],_=e[y+1],A=e[y+2],j=e[y+3],P=h.createElement("rect"),T=(A-n)/l,k=(s-_)/c,O=(w-A)/l,R=(_-j)/c;P.setAttribute("x",T),P.setAttribute("y",k),P.setAttribute("width",O),P.setAttribute("height",R),g.append(P),o?.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${O}" height="${R}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new OA({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Et("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!sl.has(c)){Ke(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&sl.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Uue extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class BE extends Kt{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ke('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=n,o=[];if(i.length!==0||s.length!==0){const h=new Set(s);for(const d of i){const m=this._fieldObjects[d]||[];for(const{id:g}of m)h.add(g)}for(const d of Object.values(this._fieldObjects))for(const m of d)h.has(m.id)===a&&o.push(m)}else for(const h of Object.values(this._fieldObjects))o.push(...h);const l=this.annotationStorage,c=[];for(const h of o){const{id:d}=h;switch(c.push(d),h.type){case"text":{const g=h.defaultValue||"";l.setValue(d,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;l.setValue(d,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";l.setValue(d,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${d}"]`);if(m){if(!sl.has(m)){Ke(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class zue extends Kt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class pl extends Kt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return er.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,n,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":_e.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||$ue,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(c/(S0*i))||1,d=c/h;a=Math.min(i,l(d/S0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/S0))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=_e.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Vue extends pl{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",o??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),sl.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:h,timeStep:d}=this.data,m=!!h&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",x=>{e.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",x=>{const y=this.data.defaultFieldValue??"";r.value=l.userValue=y,l.formattedValue=null});let g=x=>{const{formattedValue:y}=l;y!=null&&(x.target.value=y),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{if(l.focused)return;const{target:b}=y;if(m&&(b.type=h,d&&(b.step=d)),l.userValue){const w=l.userValue;if(m)if(h==="time"){const _=new Date(w),A=[_.getHours(),_.getMinutes(),_.getSeconds()];b.value=A.map(j=>j.toString().padStart(2,"0")).join(":")}else b.value=new Date(w-Bue).toISOString().split(h==="date"?"T":".",1)[0];else b.value=w}l.lastCommittedValue=b.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){l.userValue=w.detail.value??"",m||e.setValue(n,{value:l.userValue.toString()}),w.target.value=l.userValue},formattedValue(w){const{formattedValue:_}=w.detail;l.formattedValue=_,_!=null&&w.target!==document.activeElement&&(w.target.value=_);const A={formattedValue:_};m&&(A.value=_),e.setValue(n,A)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:_}=w.detail,{target:A}=w;if(_===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",_);let j=l.userValue;!j||j.length<=_||(j=j.slice(0,_),A.value=l.userValue=j,e.setValue(n,{value:j}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:j,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),r.addEventListener("keydown",y=>{l.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(l.commitKey=3),b===-1)return;const{value:w}=y.target;l.lastCommittedValue!==w&&(l.lastCommittedValue=w,l.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const x=g;g=null,r.addEventListener("blur",y=>{if(!l.focused||!y.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:b}=y;let{value:w}=b;if(m){if(w&&h==="time"){const _=w.split(":").map(A=>parseInt(A,10));w=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),b.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();b.type="text"}l.userValue=w,l.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:l.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),x(y)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",y=>{l.lastCommittedValue=null;const{data:b,target:w}=y,{value:_,selectionStart:A,selectionEnd:j}=w;let P=A,T=j;switch(y.inputType){case"deleteWordBackward":{const k=_.substring(0,A).match(/\w*[^\w]*$/);k&&(P-=k[0].length);break}case"deleteWordForward":{const k=_.substring(A).match(/^[^\w]*\w*/);k&&(T+=k[0].length);break}case"deleteContentBackward":A===j&&(P-=1);break;case"deleteContentForward":A===j&&(T+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:b||"",willCommit:!1,selStart:P,selEnd:T}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Wue extends pl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Hue extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return sl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const h=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class MV extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(sl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const h=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const m=h&&d.id===r;d.domElement&&(d.domElement.checked=m),e.setValue(d.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class que extends BE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class Gue extends pl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");sl.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:m,multiple:g}=i;return g?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[d]):m.selectedIndex===-1?null:m[m.selectedIndex][d]};let l=o(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(m){a?.();const g=m.detail.value,x=new Set(Array.isArray(g)?g:[g]);for(const y of i.options)y.selected=x.has(y.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const g=i.options,x=m.detail.remove;g[x].selected=!1,i.remove(x),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(m){const{index:g,displayValue:x,exportValue:y}=m.detail.insert,b=i.children[g],w=document.createElement("option");w.textContent=x,w.value=y,b?b.before(w):i.append(w),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},items(m){const{items:g}=m.detail;for(;i.length!==0;)i.remove(0);for(const x of g){const{displayValue:y,exportValue:b}=x,w=document.createElement("option");w.textContent=y,w.value=b,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},indices(m){const g=new Set(m.detail.indices);for(const x of m.target.options)x.selected=g.has(x.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{const d=o(!0),m=o(!1);e.setValue(n,{value:d}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:m,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class OA extends Kt{constructor(e){const{data:n,elements:r,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&Kt._hasPopupData(n)}),this.elements=r,s&&Kt._hasPopupData(n)){const a=this.popup=this.#e();for(const o of r)o.popup=a}else this.popup=null}#e(){return new Kue({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${uc}${i}`).join(",")),this.container}}class Kue{#e=null;#t=this.#W.bind(this);#r=this.#$.bind(this);#n=this.#M.bind(this);#a=this.#S.bind(this);#s=null;#i=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#C=null;#_=null;#w=null;#E=!1;#x=null;#A=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:h,open:d,commentManager:m=null}){this.#i=e,this.#_=i,this.#o=a,this.#C=o,this.#h=l,this.#s=n,this.#y=c,this.#d=h,this.#l=r,this.#e=m,this.#x=r[0],this.#c=CA.toDateObject(s),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup()),m||(this.#k(),this.#i.hidden=!0,d&&this.#S())}#k(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#a,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#T(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#T(),!this.#v)return;const{signal:e}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const o=this.#x.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#j(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}#j(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#L(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(e){e!==this.comment&&(this.#x.commentText=this.#A=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#x.layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;this.#e.showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const r=e.style.outlineColor=_e.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#_?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#_}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}pV({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#O(){const e=this.#C,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#C.html||null}get#D(){return this.#O?.attributes?.style?.fontSize||0}get#F(){return this.#O?.attributes?.style?.color||null}#R(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#F,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r}#W(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#A=null):n&&(n.deleted?this.remove():(this.#L(),this.#A=n.text)),e&&(this.#v=null,this.#T(),this.#j());return}if(r||n?.deleted){this.remove();return}this.#k(),this.#w||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),n&&n.text&&(this.#C=this.#R(n.text),this.#c=CA.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#C}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#E=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#P(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,o=a?this.#d:this.#y;for(const x of this.#l)if(!o||_e.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=_e.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,d=l[0]+h,m=l[1];this.#u=[100*(d-i)/n,100*(m-s)/r];const{style:g}=this.#i;g.left=`${this.#u[0]}%`,g.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#M(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#$(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#P(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#$(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#E&&(this.#g||this.#M(),this.#E=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class DV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Xe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Yue extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Xue extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Que extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class RV extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!n)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let h=0,d=n.length;h<d;h+=2){const m=n[h]-e[0],g=e[3]-n[h+1];l.push(`${m},${g}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Zue extends RV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Jue extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class UE extends Kt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Xe.HIGHLIGHT:Xe.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#r(n,e),c=this.svgFactory.create(o,l,!0),h=this.#e=this.svgFactory.createElement("svg:g");c.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let d=0,m=r.length;d<m;d++){const g=this.svgFactory.createElement(this.svgElementName);this.#t.push(g),g.setAttribute("points",r[d].join(",")),h.append(g)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),r)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:o,height:l}=this.#r(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class IV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Xe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class ede extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class tde extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class nde extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class LV extends Kt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Xe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class rde extends Kt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=er.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class zE{#e=null;#t=null;#r=null;#n=new Map;#a=null;#s=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:h}){this.div=e,this.#e=n,this.#t=r,this.#a=o||null,this.#s=c||null,this.#r=h||new RE,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;il(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Pg,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===fn.POPUP;if(l){const d=i.get(o.id);if(!d)continue;if(!this._commentManager){s.push(o);continue}a.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=k0.create(a);if(!c.isRenderable)continue;if(!l&&(this.#i.push(c),o.popupRef)){const d=i.get(o.popupRef);d?d.push(c):i.set(o.popupRef,[c])}const h=c.render();o.hidden&&(h.style.visibility="hidden"),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await this.#c();for(const o of s){const l=a.elements=i.get(o.id);a.data=o;const c=k0.create(a);if(!c.isRenderable)continue;const h=c.render();c.contentElement.id=`${uc}${o.id}`,o.hidden&&(h.style.visibility="hidden"),l.at(-1).container.after(h)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const s=r.id=`${uc}${i}`;e.push(this.#a?.getAriaAttributes(s).then(a=>{if(a)for(const[o,l]of a)r.setAttribute(o,l)}))}}this.#i.sort(({data:{rect:[r,i,s,a]}},{data:{rect:[o,l,c,h]}})=>{if(r===s&&i===a)return 1;if(o===c&&l===h)return-1;const d=a,m=i,g=(i+a)/2,x=h,y=l,b=(l+h)/2;if(g>=x&&b<=m)return-1;if(b>=d&&g<=y)return 1;const w=(r+s)/2,_=(o+c)/2;return w-_});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#s,svgFactory:new Pg,parent:this};for(const r of e){r.borderStyle||=zE._defaultBorderStyle,n.data=r;const i=k0.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${uc}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,il(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(n);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new Uue({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#r});return s.render(),s.contentElement.id=`${uc}${r}`,s.createOrUpdatePopup(),this.#i.push(s),s}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:nc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Em=/\r\n?|\n/g;class Dn extends Me{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Dn.prototype,n=s=>s.isEmpty(),r=no.TRANSLATE_SMALL,i=no.TRANSLATE_BIG;return Je(this,"_keyboardManager",new If([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Xe.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Dn._defaultColor||Me._defaultLineColor,this.#n=e.fontSize||Dn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){Me.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case st.FREETEXT_SIZE:Dn._defaultFontSize=n;break;case st.FREETEXT_COLOR:Dn._defaultColor=n;break}}updateParams(e,n){switch(e){case st.FREETEXT_SIZE:this.#a(n);break;case st.FREETEXT_COLOR:this.#s(n);break}}static get defaultPropertiesToUpdate(){return[[st.FREETEXT_SIZE,Dn._defaultFontSize],[st.FREETEXT_COLOR,Dn._defaultColor||Me._defaultLineColor]]}get propertiesToUpdate(){return[[st.FREETEXT_SIZE,this.#n],[st.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new jh(this),[["colorPicker",this._colorPicker]]}get colorType(){return st.FREETEXT_COLOR}#a(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Dn._internalPadding*e,-(Dn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Dn.#c(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Dn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,h]=this.pageDimensions,[d,m]=this.pageTranslation;let g,x;switch(this.rotation){case 0:g=e+(a[0]-d)/c,x=n+this.height-(a[1]-m)/h;break;case 90:g=e+(a[0]-d)/c,x=n-(a[1]-m)/h,[o,l]=[l,-o];break;case 180:g=e-this.width+(a[0]-d)/c,x=n-(a[1]-m)/h,[o,l]=[-o,-l];break;case 270:g=e+(a[0]-d-this.height*h)/c,x=n+(a[1]-m-this.width*c)/h,[o,l]=[-l,o];break}this.setAt(g*i,x*s,o,l)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Em,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Dn.#d(n.getData("text")||"").replaceAll(Em,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],h=[];if(o.nodeType===Node.TEXT_NODE){const g=o.parentElement;if(h.push(o.nodeValue.slice(l).replaceAll(Em,"")),g!==this.editorDiv){let x=c;for(const y of this.editorDiv.childNodes){if(y===g){x=h;continue}x.push(Dn.#c(y))}}c.push(o.nodeValue.slice(0,l).replaceAll(Em,""))}else if(o===this.editorDiv){let g=c,x=0;for(const y of this.editorDiv.childNodes)x++===l&&(g=h),g.push(Dn.#c(y))}this.#e=`${c.join(`
`)}${i}${h.join(`
`)}`,this.#l();const d=new Range;let m=Math.sumPrecise(c.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(m<=x){d.setStart(g,m),d.setEnd(g,m);break}m-=x}s.removeAllRanges(),s.addRange(d)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Dn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof DV){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:h,popupRef:d,richText:m,contentsObj:g,creationDate:x,modificationDate:y},textContent:b,textPosition:w,parent:{page:{pageNumber:_}}}=e;if(!b||b.length===0)return null;i=e={annotationType:Xe.FREETEXT,color:Array.from(o),fontSize:a,value:b.join(`
`),position:w,pageIndex:_-1,rect:l.slice(0),rotation:c,annotationElementId:h,id:h,deleted:!1,popupRef:d,comment:g?.str||null,richText:m,creationDate:x,modificationDate:y}}const s=await super.deserialize(e,n,r);return s.#n=e.fontSize,s.color=_e.makeHexColor(...e.color),s.#e=Dn.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=Me._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((a,o)=>a!==i[o])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),n.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class we{static PRECISION=1e-4;toSVGPath(){Et("Abstract method `toSVGPath` must be implemented.")}get box(){Et("Abstract getter `box` must be implemented.")}serialize(e,n){Et("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class zo{#e;#t=[];#r;#n;#a=[];#s=new Float32Array(18);#i;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=zo.#g+zo.#m;constructor({x:e,y:n},r,i,s,a,o=0){this.#e=r,this.#d=s*i,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=o,this.#l=zo.#g*i,this.#c=zo.#u*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),n=this.#s.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/s,(this.#o+(e[1]-n[1])/2-i)/a,(this.#i+(n[0]-e[0])/2-r)/s,(this.#o+(n[1]-e[1])/2-i)/a]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,s,a]=this.#e;let[o,l,c,h]=this.#s.subarray(8,12);const d=e-c,m=n-h,g=Math.hypot(d,m);if(g<this.#c)return!1;const x=g-this.#l,y=x/g,b=y*d,w=y*m;let _=o,A=l;o=c,l=h,c+=b,h+=w,this.#f?.push(e,n);const j=-w/x,P=b/x,T=j*this.#d,k=P*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+T,h+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-T,h-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([o+T,l+k],2),this.#a.push(NaN,NaN,NaN,NaN,(o+T-r)/s,(l+k-i)/a),this.#s.set([o-T,l-k],14),this.#t.push(NaN,NaN,NaN,NaN,(o-T-r)/s,(l-k-i)/a)),this.#s.set([_,A,o,l,c,h],6),!this.isEmpty()):(this.#s.set([_,A,o,l,c,h],6),Math.abs(Math.atan2(A-l,_-o)-Math.atan2(w,b))<Math.PI/2?([o,l,c,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+h)/2-i)/a),[o,l,_,A]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+o)/2-r)/s,((A+l)/2-i)/a),!0):([_,A,o,l,c,h]=this.#s.subarray(0,6),this.#a.push(((_+5*o)/6-r)/s,((A+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+h)/6-i)/a,((o+c)/2-r)/s,((l+h)/2-i)/a),[c,h,o,l,_,A]=this.#s.subarray(12,18),this.#t.push(((_+5*o)/6-r)/s,((A+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+h)/6-i)/a,((o+c)/2-r)/s,((l+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,n=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[s,a,o,l]=this.#p();return`M${(this.#s[2]-e)/r} ${(this.#s[3]-n)/i} L${(this.#s[4]-e)/r} ${(this.#s[5]-n)/i} L${s} ${a} L${o} ${l} L${(this.#s[16]-e)/r} ${(this.#s[17]-n)/i} L${(this.#s[14]-e)/r} ${(this.#s[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,s]=this.#e,a=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[l,c,h,d]=this.#p();e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${h} ${d} L${(o[0]-n)/i} ${(o[1]-r)/s}`)}newFreeDrawOutline(e,n,r,i,s,a){return new FV(e,n,r,i,s,a)}getOutlines(){const e=this.#a,n=this.#t,r=this.#s,[i,s,a,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,m=l.length-2;d<m;d+=2)l[d]=(this.#f[d]-i)/a,l[d+1]=(this.#f[d+1]-s)/o;if(l[l.length-2]=(this.#i-i)/a,l[l.length-1]=(this.#o-s)/o,isNaN(r[6])&&!this.isEmpty())return this.#C(l);const c=new Float32Array(this.#a.length+24+this.#t.length);let h=e.length;for(let d=0;d<h;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}h=this.#w(c,h);for(let d=n.length-6;d>=6;d-=6)for(let m=0;m<6;m+=2){if(isNaN(n[d+m])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=n[d+m],c[h+1]=n[d+m+1],h+=2}return this.#_(c,h),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#r,this.#n)}#C(e){const n=this.#s,[r,i,s,a]=this.#e,[o,l,c,h]=this.#p(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(d,e,this.#e,this.#h,this.#r,this.#n)}#_(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[s,a,o,l]=this.#e,[c,h,d,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,m,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24}}class FV extends we{#e;#t=new Float32Array(4);#r;#n;#a;#s;#i;constructor(e,n,r,i,s,a){super(),this.#i=e,this.#a=n,this.#e=r,this.#s=i,this.#r=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,h]=this.#t;for(let d=0,m=e.length;d<m;d+=2)e[d]=(e[d]-o)/c,e[d+1]=(e[d+1]-l)/h;for(let d=0,m=n.length;d<m;d+=2)n[d]=(n[d]-o)/c,n[d+1]=(n[d+1]-l)/h}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],s){const a=r-e,o=i-n;let l,c;switch(s){case 0:l=we._rescale(this.#i,e,i,a,-o),c=we._rescale(this.#a,e,i,a,-o);break;case 90:l=we._rescaleAndSwap(this.#i,e,n,a,o),c=we._rescaleAndSwap(this.#a,e,n,a,o);break;case 180:l=we._rescale(this.#i,r,n,-a,o),c=we._rescale(this.#a,r,n,-a,o);break;case 270:l=we._rescaleAndSwap(this.#i,r,i,-a,-o),c=we._rescaleAndSwap(this.#a,r,i,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const s=[r,i,r,i];let a=r,o=i,l=r,c=i;const h=e?Math.max:Math.min,d=new Float32Array(4);for(let g=6,x=n.length;g<x;g+=6){const y=n[g+4],b=n[g+5];isNaN(n[g])?(_e.pointBoundingBox(y,b,s),o>b?(a=y,o=b):o===b&&(a=h(a,y)),c<b?(l=y,c=b):c===b&&(l=h(l,y))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,_e.bezierBoundingBox(r,i,...n.slice(g,g+6),d),_e.rectBoundingBox(d[0],d[1],d[2],d[3],s),o>d[1]?(a=d[0],o=d[1]):o===d[1]&&(a=h(a,d[0])),c<d[3]?(l=d[2],c=d[3]):c===d[3]&&(l=h(l,d[2]))),r=y,i=b}const m=this.#t;m[0]=s[0]-this.#r,m[1]=s[1]-this.#r,m[2]=s[2]-s[0]+2*this.#r,m[3]=s[3]-s[1]+2*this.#r,this.firstPoint=[a,o],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,n,r,i,s,a=0){return new zo(e,n,r,i,s,a)}getNewOutline(e,n){const[r,i,s,a]=this.#t,[o,l,c,h]=this.#e,d=s*c,m=a*h,g=r*c+o,x=i*h+l,y=this.newOutliner({x:this.#a[0]*d+g,y:this.#a[1]*m+x},this.#e,this.#s,e,this.#n,n??this.#r);for(let b=2;b<this.#a.length;b+=2)y.add({x:this.#a[b]*d+g,y:this.#a[b+1]*m+x});return y.getOutlines()}}class MA{#e;#t;#r;#n=[];#a=[];constructor(e,n=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:b,width:w,height:_}of e){const A=Math.floor((y-n)/a)*a,j=Math.ceil((y+w+n)/a)*a,P=Math.floor((b-n)/a)*a,T=Math.ceil((b+_+n)/a)*a,k=[A,P,T,!0],O=[j,P,T,!1];this.#n.push(k,O),_e.rectBoundingBox(A,P,j,T,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,h=s[1]-r;let d=i?-1/0:1/0,m=1/0;const g=this.#n.at(i?-1:-2),x=[g[0],g[2]];for(const y of this.#n){const[b,w,_,A]=y;!A&&i?w<m?(m=w,d=b):w===m&&(d=Math.max(d,b)):A&&!i&&(w<m?(m=w,d=b):w===m&&(d=Math.min(d,b))),y[0]=(b-c)/o,y[1]=(w-h)/l,y[2]=(_-h)/l}this.#e=new Float32Array([c,h,o,l]),this.#t=[d,m],this.#r=x}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#s(e)}#s(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,h,d]=a;r.delete(a);let m=o,g=l;for(s=[o,c],i.push(s);;){let x;if(r.has(h))x=h;else if(r.has(d))x=d;else break;r.delete(x),[o,l,c,h,d]=x,m!==o&&(s.push(m,g,o,g===l?l:c),m=o),g=g===l?c:l}s.push(m,g)}return new ide(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#a;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#a.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#a.length;i++){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}}#l(e){const[n,r,i]=e,s=[[n,r,i]],a=this.#i(i);for(let o=0;o<a;o++){const[l,c]=this.#a[o];for(let h=0,d=s.length;h<d;h++){const[,m,g]=s[h];if(!(c<=m||g<=l)){if(m>=l){if(g>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,g>c&&s.push([n,c,g])}}}return s}}class ide extends we{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const a=n[s],o=n[s+1];a===r?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],s){const a=[],o=r-e,l=i-n;for(const c of this.#t){const h=new Array(c.length);for(let d=0;d<c.length;d+=2)h[d]=e+c[d]*o,h[d+1]=i-c[d+1]*l;a.push(h)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class DA extends zo{newFreeDrawOutline(e,n,r,i,s,a){return new sde(e,n,r,i,s,a)}}class sde extends FV{newOutliner(e,n,r,i,s,a=0){return new DA(e,n,r,i,s,a)}}class nn extends Me{#e=null;#t=0;#r;#n=null;#a=null;#s=null;#i=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Xe.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=nn.prototype;return Je(this,"_keyboardManager",new If([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||nn._defaultColor,this.#p=e.thickness||nn._defaultThickness,this.opacity=e.opacity||nn._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new MA(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new MA(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#s=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#s=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:nn.#A(this.#l.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:nn.#A(this.#s.box,d),path:{d:this.#s.toSVGPath()}})}const[s,a,o,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[d,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*m/d,this.height=l*d/m;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[d,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*m/d,this.height=l*d/m;break}}const{firstPoint:c}=e;this.#f=[(c[0]-s)/o,(c[1]-a)/l];const{lastPoint:h}=this.#s;this.#g=[(h[0]-s)/o,(h[1]-a)/l]}static initialize(e,n){Me.initialize(e,n),nn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case st.HIGHLIGHT_COLOR:nn._defaultColor=n;break;case st.HIGHLIGHT_THICKNESS:nn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case st.HIGHLIGHT_COLOR:this.#C(n);break;case st.HIGHLIGHT_THICKNESS:this.#_(n);break}}static get defaultPropertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,nn._defaultColor],[st.HIGHLIGHT_THICKNESS,nn._defaultThickness]]}get propertiesToUpdate(){return[[st.HIGHLIGHT_COLOR,this.color||nn._defaultColor],[st.HIGHLIGHT_THICKNESS,this.#p||nn._defaultThickness],[st.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(e){const n=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,nn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#_(e){const n=this.#p,r=i=>{this.#p=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:st.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new xi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#j())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#j())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#E():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#E(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([e,n,r,i],s){switch(s){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=nn.#A(this.#l.box,e)):r=nn.#A([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#m,{bbox:nn.#A(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),gV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#k(e){nn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#T(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#j(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#r,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:h,height:d}of s){const m=l*e+r,g=(1-c)*n+i;a[o]=a[o+4]=m,a[o+1]=a[o+3]=g,a[o+2]=a[o+6]=m+h*e,a[o+5]=a[o+7]=g-d*n,o+=8}return a}#O(e){return this.#l.serialize(e,this.#j())}static startHighlighting(e,n,{target:r,x:i,y:s}){const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),h=new AbortController,d=e.combinedSignal(h),m=g=>{h.abort(),this.#F(e,g)};window.addEventListener("blur",m,{signal:d}),window.addEventListener("pointerup",m,{signal:d}),window.addEventListener("pointerdown",Qt,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",ki,{signal:d}),r.addEventListener("pointermove",this.#D.bind(this,e),{signal:d}),this._freeHighlight=new DA({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof IV){const{data:{quadPoints:x,rect:y,rotation:b,id:w,color:_,opacity:A,popupRef:j,richText:P,contentsObj:T,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:Xe.HIGHLIGHT,color:Array.from(_),opacity:A,quadPoints:x,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:j,richText:P,comment:T?.str||null,creationDate:k,modificationDate:O}}else if(e instanceof UE){const{data:{inkLists:x,rect:y,rotation:b,id:w,color:_,borderStyle:{rawWidth:A},popupRef:j,richText:P,contentsObj:T,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:Xe.HIGHLIGHT,color:Array.from(_),thickness:A,inkLists:x,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:j,richText:P,comment:T?.str||null,creationDate:k,modificationDate:O}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=e,c=await super.deserialize(e,n,r);c.color=_e.makeHexColor(...s),c.opacity=l||1,o&&(c.#p=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e);const[h,d]=c.pageDimensions,[m,g]=c.pageTranslation;if(a){const x=c.#r=[];for(let y=0;y<a.length;y+=8)x.push({x:(a[y]-m)/h,y:1-(a[y+1]-g)/d,width:(a[y+2]-a[y])/h,height:(a[y+1]-a[y+5])/d});c.#b(),c.#x(),c.rotate(c.rotation)}else if(o){c.#d=!0;const x=o[0],y={x:x[0]-m,y:d-(x[1]-g)},b=new DA(y,[0,0,h,d],1,c.#p/2,!0,.001);for(let A=0,j=x.length;A<j;A+=2)y.x=x[A]-m,y.y=d-(x[A+1]-g),b.add(y);const{id:w,clipPathId:_}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:b.toSVGPath()}},!0,!0);c.#y({highlightOutlines:b.getOutlines(),highlightId:w,clipPathId:_}),c.#x(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=Me._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#L(),outlines:this.#O(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#R(r)?null:(r.id=this.annotationElementId,r)}#R(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class $V{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Et("Not implemented")}}class ht extends Me{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(ht._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(n))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Et("Not implemented")}static get typesMap(){Et("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(ht.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,s=i[n],a=o=>{i.updateProperty(n,o);const l=this.#e.updateProperty(n,o);l&&this.#d(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[n,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-n,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(o/l),i*(l/o),r*(o/l)];case 5:return[1-n,e,r*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-n,i*(l/o),r*(o/l)];case 7:return[n-r*(o/l),1-e-i*(l/o),r*(o/l),i*(l/o)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(l/o),n,i*(l/o),r*(o/l)];case 13:return[1-n-r*(o/l),e-i*(l/o),r*(o/l),i*(l/o)];case 14:return[1-e,1-n-r*(o/l),i*(l/o),r*(o/l)];case 15:return[n,1-e,r*(o/l),i*(l/o)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,s){Et("Not implemented")}static startDrawing(e,n,r,i){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=i;if(ft.isInitializedAndDifferentPointerType(c))return;const{viewport:{rotation:h}}=e,{width:d,height:m}=s.getBoundingClientRect(),g=ht.#n=new AbortController,x=e.combinedSignal(g);if(ft.setPointer(c,l),window.addEventListener("pointerup",y=>{ft.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:x}),window.addEventListener("pointercancel",y=>{ft.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",y=>{ft.isSamePointerType(y.pointerType)&&(ft.initializeAndAddPointerId(y.pointerId),ht.#r.isCancellable()&&(ht.#r.removeLastElement(),ht.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",ki,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",y=>{ft.isSameTimeStamp(y.timeStamp)&&Qt(y)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),ht.#r){e.drawLayer.updateProperties(this._currentDrawId,ht.#r.startNew(a,o,d,m,h));return}n.updateUIForDefaultProperties(this),ht.#r=this.createDrawerInstance(a,o,d,m,h),ht.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(ht.#a.toSVGProperties(),ht.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(ft.isSameTimeStamp(e.timeStamp),!ht.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(ft.isSamePointerId(i)){if(ft.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ht.#r.add(n,r)),ft.setTimeStamp(e.timeStamp),Qt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,ht.#r=null,ht.#a=null,ft.clearPointerType(),ft.clearTimeStamp()),ht.#n&&(ht.#n.abort(),ht.#n=null,ft.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,ht.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=ht.#r,i=this._currentDrawId,s=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:st.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(st.DRAW_STEP),!ht.#r.isEmpty()){const{pageDimensions:[r,i],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ht.#r.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:ht.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,s,a){Et("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=n.viewport,l=this.deserializeDraw(a,o,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,n,r);return c.createDrawingOptions(e),c.#s({drawOutlines:l}),c.#c(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[n,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([n,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class ade{#e=new Float64Array(6);#t;#r;#n;#a;#s;#i="";#o=0;#c=new Ff;#l;#h;constructor(e,n,r,i,s,a){this.#l=r,this.#h=i,this.#n=s,this.#a=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n],this.#r=[{line:o,points:this.#s}],this.#e.set(o,0)}updateProperty(e,n){e==="stroke-width"&&(this.#a=n)}#d(e,n){return we._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#s.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,s,a]=this.#e.subarray(2,6),o=e-s,l=n-a;return Math.hypot(this.#l*o,this.#h*l)<=2?null:(this.#s.push(e,n),isNaN(r)?(this.#e.set([s,a,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,n],0),this.#t.push(...we.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){this.#l=r,this.#h=i,this.#n=s,[e,n]=this.#d(e,n);const a=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n];const o=this.#r.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#r.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=we.svgRound(this.#t[4]),n=we.svgRound(this.#t[5]);if(this.#s.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#s.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#s.length===4){const i=we.svgRound(this.#t[10]),s=we.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${s}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,o,l,c,h,d]=this.#t.slice(i,i+6).map(we.svgRound);r.push(`C${a} ${o} ${l} ${c} ${h} ${d}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const s=this.#r.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#r,e,n,r,this.#n,this.#a,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Ff extends we{#e;#t=0;#r;#n;#a;#s;#i;#o;#c;build(e,n,r,i,s,a,o){this.#a=n,this.#s=r,this.#i=i,this.#o=s,this.#c=a,this.#r=o??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${we.svgRound(n[4])} ${we.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${we.svgRound(n[10])} ${we.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[s,a,o,l,c,h]=n.subarray(r,r+6).map(we.svgRound);e.push(`C${s} ${a} ${o} ${l} ${c} ${h}`)}}return e.join("")}serialize([e,n,r,i],s){const a=[],o=[],[l,c,h,d]=this.#h();let m,g,x,y,b,w,_,A,j;switch(this.#o){case 0:j=we._rescale,m=e,g=n+i,x=r,y=-i,b=e+l*r,w=n+(1-c-d)*i,_=e+(l+h)*r,A=n+(1-c)*i;break;case 90:j=we._rescaleAndSwap,m=e,g=n,x=r,y=i,b=e+c*r,w=n+l*i,_=e+(c+d)*r,A=n+(l+h)*i;break;case 180:j=we._rescale,m=e+r,g=n,x=-r,y=i,b=e+(1-l-h)*r,w=n+c*i,_=e+(1-l)*r,A=n+(c+d)*i;break;case 270:j=we._rescaleAndSwap,m=e+r,g=n+i,x=-r,y=-i,b=e+(1-c-d)*r,w=n+(1-l-h)*i,_=e+(1-c)*r,A=n+(1-l)*i;break}for(const{line:P,points:T}of this.#n)a.push(j(P,m,g,x,y,s?new Array(P.length):null)),o.push(j(T,m,g,x,y,s?new Array(T.length):null));return{lines:a,points:o,rect:[b,w,_,A]}}static deserialize(e,n,r,i,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const h=[];let d,m,g,x,y;switch(l){case 0:y=we._rescale,d=-e/r,m=n/i+1,g=1/r,x=-1/i;break;case 90:y=we._rescaleAndSwap,d=-n/i,m=-e/r,g=1/i,x=1/r;break;case 180:y=we._rescale,d=e/r+1,m=-n/i,g=-1/r,x=1/i;break;case 270:y=we._rescaleAndSwap,d=n/i+1,m=e/r+1,g=-1/i,x=-1/r;break}if(!a){a=[];for(const w of o){const _=w.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const A=new Float32Array(3*(_-2));a.push(A);let[j,P,T,k]=w.subarray(0,4);A.set([NaN,NaN,NaN,NaN,j,P],0);for(let O=4;O<_;O+=2){const R=w[O],F=w[O+1];A.set(we.createBezierPoints(j,P,T,k,R,F),(O-2)*3),[j,P,T,k]=[T,k,R,F]}}}for(let w=0,_=a.length;w<_;w++)h.push({line:y(a[w].map(A=>A??NaN),d,m,g,x),points:y(o[w].map(A=>A??NaN),d,m,g,x)});const b=new this.prototype.constructor;return b.build(h,r,i,1,l,c,s),b}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#a,n/this.#s]:[n/this.#s,n/this.#a]}#h(){const[e,n,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,n+a,r-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)_e.pointBoundingBox(i[o],i[o+1],e);continue}let s=i[4],a=i[5];for(let o=6,l=i.length;o<l;o+=6){const[c,h,d,m,g,x]=i.subarray(o,o+6);_e.bezierBoundingBox(s,a,c,h,d,m,g,x,e),s=g,a=x}}const[n,r]=this.#l();e[0]=mr(e[0]-n,0,1),e[1]=mr(e[1]-r,0,1),e[2]=mr(e[2]+n,0,1),e[3]=mr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,o]=[i-n,s-r],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,n],r){const[i,s]=this.#l();this.#a=e,this.#s=n,this.#i=r;const[a,o]=this.#l(),l=a-i,c=o-s,h=this.#e;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(we.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${we.svgRound(e)} ${we.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,s=0,a=0,o=0,l=0;switch(this.#t){case 90:i=n/e,s=-e/n,o=e;break;case 180:r=-1,a=-1,o=e,l=n;break;case 270:i=-n/e,s=e/n,l=n;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${we.svgRound(o)} ${we.svgRound(l)})`}getPathResizingSVGProperties([e,n,r,i]){const[s,a]=this.#l(),[o,l,c,h]=this.#e;if(Math.abs(c-s)<=we.PRECISION||Math.abs(h-a)<=we.PRECISION){const y=e+r/2-(o+c/2),b=n+i/2-(l+h/2);return{path:{"transform-origin":`${we.svgRound(e)} ${we.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const d=(r-2*s)/(c-2*s),m=(i-2*a)/(h-2*a),g=c/r,x=h/i;return{path:{"transform-origin":`${we.svgRound(o)} ${we.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${x}) translate(${we.svgRound(s)} ${we.svgRound(a)}) scale(${d} ${m}) translate(${we.svgRound(-s)} ${we.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[s,a]=this.#l(),o=this.#e,[l,c,h,d]=o;if(o[0]=e,o[1]=n,o[2]=r,o[3]=i,Math.abs(h-s)<=we.PRECISION||Math.abs(d-a)<=we.PRECISION){const b=e+r/2-(l+h/2),w=n+i/2-(c+d/2);for(const{line:_,points:A}of this.#n)we._translate(_,b,w,_),we._translate(A,b,w,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${we.svgRound(e)} ${we.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*s)/(h-2*s),g=(i-2*a)/(d-2*a),x=-m*(l+s)+e+s,y=-g*(c+a)+n+a;if(m!==1||g!==1||x!==0||y!==0)for(const{line:b,points:w}of this.#n)we._rescale(b,x,y,m,g,b),we._rescale(w,x,y,m,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${we.svgRound(e)} ${we.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,s]=r,a=this.#e,o=e-a[0],l=n-a[1];if(this.#a===i&&this.#s===s)for(const{line:c,points:h}of this.#n)we._translate(c,o,l,c),we._translate(h,o,l,h);else{const c=this.#a/i,h=this.#s/s;this.#a=i,this.#s=s;for(const{line:d,points:m}of this.#n)we._rescale(d,o,l,c,h,d),we._rescale(m,o,l,c,h,m);a[2]*=c,a[3]*=h}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${we.svgRound(e)} ${we.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${we.svgRound(e[0])} ${we.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class uy extends $V{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Me._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new uy(this._viewParameters);return e.updateAll(this),e}}class VE extends ht{static _type="ink";static _editorType=Xe.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){Me.initialize(e,n),this._defaultDrawingOptions=new uy(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Je(this,"typesMap",new Map([[st.INK_THICKNESS,"stroke-width"],[st.INK_COLOR,"stroke"],[st.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,s){return new ade(e,n,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,s,a){return Ff.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){let i=null;if(e instanceof UE){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:h,opacity:d,borderStyle:{rawWidth:m},popupRef:g,richText:x,contentsObj:y,creationDate:b,modificationDate:w},parent:{page:{pageNumber:_}}}=e;i=e={annotationType:Xe.INK,color:Array.from(h),thickness:m,opacity:d,paths:{points:a},boxes:null,pageIndex:_-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:g,richText:x,comment:y?.str||null,creationDate:b,modificationDate:w}}const s=await super.deserialize(e,n,r);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new jh(this),[["colorPicker",this._colorPicker]]}get colorType(){return st.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=VE.getDefaultDrawingOptions({stroke:_e.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:Me._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:n,points:r}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==n[o])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class RA extends Ff{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Tm=8,kd=3;class ic{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const h=(-c+l-o+16)%8,d=this.#r[2*h],m=this.#r[2*h+1];if(e[(r+d)*n+(i+m)]!==0)return h}return-1}static#a(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const h=(c+l+o+16)%8,d=this.#r[2*h],m=this.#r[2*h+1];if(e[(r+d)*n+(i+m)]!==0)return h}return-1}static#s(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let h=0;h<s;h++)a[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)a[h*n]=a[h*n+n-1]=0;for(let h=0;h<n;h++)a[h]=a[n*r-1-h]=0;let o=1,l;const c=[];for(let h=1;h<r-1;h++){l=1;for(let d=1;d<n-1;d++){const m=h*n+d,g=a[m];if(g===0)continue;let x=h,y=d;if(g===1&&a[m-1]===0)o+=1,y-=1;else if(g>=1&&a[m+1]===0)o+=1,y+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const b=[d,h],w=y===d+1,_={isHole:w,points:b,id:o,parent:0};c.push(_);let A;for(const M of c)if(M.id===l){A=M;break}A?A.isHole?_.parent=w?A.parent:l:_.parent=w?l:A.parent:_.parent=w?l:0;const j=this.#n(a,n,h,d,x,y,0);if(j===-1){a[m]=-o,a[m]!==1&&(l=Math.abs(a[m]));continue}let P=this.#r[2*j],T=this.#r[2*j+1];const k=h+P,O=d+T;x=k,y=O;let R=h,F=d;for(;;){const M=this.#a(a,n,R,F,x,y,1);P=this.#r[2*M],T=this.#r[2*M+1];const D=R+P,$=F+T;b.push($,D);const H=R*n+F;if(a[H+1]===0?a[H]=-o:a[H]===1&&(a[H]=o),D===h&&$===d&&R===k&&F===O){a[m]!==1&&(l=Math.abs(a[m]));break}else x=R,y=F,R=D,F=$}}}return c}static#i(e,n,r,i){if(r-n<=4){for(let k=n;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),h=o/c,d=l/c,m=h*a-d*s,g=l/o,x=1/c,y=Math.atan(g),b=Math.cos(y),w=Math.sin(y),_=x*(Math.abs(b)+Math.abs(w)),A=x*(1-_+_**2),j=Math.max(Math.atan(Math.abs(w+b)*A),Math.atan(Math.abs(w-b)*A));let P=0,T=n;for(let k=n+2;k<r-2;k+=2){const O=Math.abs(m-h*e[k+1]+d*e[k]);O>P&&(T=k,P=O)}P>(c*j)**2?(this.#i(e,n,T+2,i),this.#i(e,T,r,i)):i.push(s,a)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const b=(y-c)**2;for(let w=0;w<a;w++)o[y*a+w]=Math.exp((b+(w-c)**2)/l)}const h=new Float32Array(256),d=-2*s**2;for(let y=0;y<256;y++)h[y]=Math.exp(y**2/d);const m=e.length,g=new Uint8Array(m),x=new Uint32Array(256);for(let y=0;y<r;y++)for(let b=0;b<n;b++){const w=y*n+b,_=e[w];let A=0,j=0;for(let T=0;T<a;T++){const k=y+T-c;if(!(k<0||k>=r))for(let O=0;O<a;O++){const R=b+O-c;if(R<0||R>=n)continue;const F=e[k*n+R],M=o[T*a+O]*h[Math.abs(F-_)];A+=F*M,j+=M}}const P=g[w]=Math.round(A/j);x[P]++}return[g,x]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r}static#d(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,o=i;if(r>s||i>s){let m=r,g=i,x=Math.log2(Math.max(r,i)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let w=0;w<x;w++){a=Math.ceil(m/2),o=Math.ceil(g/2);const _=new OffscreenCanvas(a,o);_.getContext("2d").drawImage(e,0,0,m,g,0,0,a,o),m=a,g=o,e!==n&&e.close(),e=_.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const h=c.getImageData(0,0,a,o).data;return[this.#h(h),a,o]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,m=h.font=`${r} ${i} ${d}px ${n}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:w,fontBoundingBoxDescent:_,width:A}=h.measureText(e),j=1.5,P=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||0,A)*j),T=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||d,Math.abs(w)+Math.abs(_)||d)*j);c=new OffscreenCanvas(P,T),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,P,T),h.fillStyle="black",h.fillText(e,P*(j-1)/2,T*(3-j)/2);const k=this.#h(h.getImageData(0,0,P,T).data),O=this.#l(k),R=this.#d(O),F=this.#s(k,P,T,R);return this.processDrawnLines({lines:{curves:F,width:P,height:T},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=this.#f(e),[c,h]=this.#c(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#d(h),m=this.#s(c,o,l,d);return this.processDrawnLines({lines:{curves:m,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:h}=e,d=e.thickness??0,m=[],g=Math.min(n/c,r/h),x=g/n,y=g/r,b=[];for(const{points:_}of l){const A=a?this.#o(_):_;if(!A)continue;b.push(A);const j=A.length,P=new Float32Array(j),T=new Float32Array(3*(j===2?2:j-2));if(m.push({line:T,points:P}),j===2){P[0]=A[0]*x,P[1]=A[1]*y,T.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[k,O,R,F]=A;k*=x,O*=y,R*=x,F*=y,P.set([k,O,R,F],0),T.set([NaN,NaN,NaN,NaN,k,O],0);for(let M=4;M<j;M+=2){const D=P[M]=A[M]*x,$=P[M+1]=A[M+1]*y;T.set(we.createBezierPoints(k,O,R,F,D,$),(M-2)*3),[k,O,R,F]=[R,F,D,$]}}if(m.length===0)return null;const w=o?new RA:new Ff;return w.build(m,n,r,1,i,o?0:d,s),{outline:w,newCurves:b,areContours:o,thickness:d,width:c,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const A of e){l+=A.length;for(let j=2,P=A.length;j<P;j++){const T=A[j]-A[j-2];a=Math.min(a,T),o=Math.max(o,T)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const h=e.length,d=Tm+kd*h,m=new Uint32Array(d);let g=0;m[g++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=i,m[g++]=s,m[g++]=n?0:1,m[g++]=Math.max(0,Math.floor(r??0)),m[g++]=h,m[g++]=c.BYTES_PER_ELEMENT;for(const A of e)m[g++]=A.length-2,m[g++]=A[0],m[g++]=A[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(m);const b=c.prototype.constructor;for(const A of e){const j=new b(A.length-2);for(let P=2,T=A.length;P<T;P++)j[P-2]=A[P]-A[P-2];y.write(j)}y.close();const w=await new Response(x.readable).arrayBuffer(),_=new Uint8Array(w);return hV(_)}static async decompressSignature(e){try{const n=Sce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const A of r)a||=new Uint8Array(new Uint32Array(A.buffer,0,4)[0]),a.set(A,o),o+=A.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],m=l[4]===0,g=l[5],x=l[6],y=l[7],b=[],w=(Tm+kd*x)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(y){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(a.buffer,w);break}o=0;for(let A=0;A<x;A++){const j=l[kd*A+Tm],P=new Float32Array(j+2);b.push(P);for(let T=0;T<kd-1;T++)P[T]=l[kd*A+Tm+T+1];for(let T=0;T<j;T++)P[T+2]=P[T]+_[o++]}return{areContours:m,thickness:g,outlines:b,width:h,height:d}}catch(n){return Ke(`decompressSignature: ${n}`),null}}}class WE extends $V{constructor(){super(),super.updateProperties({fill:Me._defaultLineColor,"stroke-width":0})}clone(){const e=new WE;return e.updateAll(this),e}}class HE extends uy{constructor(e){super(e),super.updateProperties({stroke:Me._defaultLineColor,"stroke-width":1})}clone(){const e=new HE(this._viewParameters);return e.updateAll(this),e}}class us extends ht{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Xe.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){Me.initialize(e,n),this._defaultDrawingOptions=new WE,this._defaultDrawnSignatureOptions=new HE(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#r,{rawDims:{pageWidth:h,pageHeight:d},rotation:m}=this.parent.viewport,g=ic.processDrawnLines({lines:i,pageWidth:h,pageHeight:d,rotation:m,innerMargin:us._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(g,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:s}=this.#r,a=Math.max(i,s),o=ic.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:s,y:a}=this,{outline:o}=this.#r=e;this.#e=o instanceof RA,this.description=r;let l;this.#e?l=us.getDefaultDrawingOptions():(l=us._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,c]=this.pageDimensions;let h=n/c;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return ic.process(e,n,r,i,us._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return ic.extractContoursFromText(e,n,r,i,s,us._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return ic.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:us._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=us.getDefaultDrawingOptions():(this._drawingOptions=us._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:n,points:r},s.uuid=this.#n,s.isCopy=!0):s.lines=n,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,n,r,i,s,a){return a.areContours?RA.deserialize(e,n,r,i,s,a):Ff.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class ode extends Me{#e=null;#t=null;#r=null;#n=null;#a=null;#s="";#i=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Xe.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){Me.initialize(e,n)}static isHandlingMimeForPasting(e){return PA.includes(e)}static paste(e,n){n.pasteEditor({mode:Xe.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#m()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#a){const r=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=PA.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const l=Math.min(a*i/n,a*s/r);n*=l,r*=l}this._uiManager.enableWaiting(!1);const o=this.#i=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=n/i,this.height=r/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Es;let o=this.#e,l=i,c=s,h=null;if(n){if(i>n||s>n){const T=Math.min(n/i,n/s);l=Math.floor(i*T),c=Math.floor(s*T)}h=document.createElement("canvas");const m=h.width=Math.ceil(l*a.sx),g=h.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(m,g));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":Tce.isDarkMode&&(y="#8f8f9d",b="#42414d");const w=15,_=w*a.sx,A=w*a.sy,j=new OffscreenCanvas(_*2,A*2),P=j.getContext("2d");P.fillStyle=y,P.fillRect(0,0,_*2,A*2),P.fillStyle=b,P.fillRect(0,0,_,A),P.fillRect(_,A,_,A),x.fillStyle=x.createPattern(j,"repeat"),x.fillRect(0,0,m,g),x.drawImage(o,0,0,o.width,o.height,0,0,m,g)}let d=null;if(r){let m,g;if(a.symmetric&&o.width<e&&o.height<e)m=o.width,g=o.height;else if(o=this.#e,i>e||s>e){const b=Math.min(e/i,e/s);m=Math.floor(i*b),g=Math.floor(s*b),this.#l||(o=this.#u(m,g))}const y=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,m,g),d={width:m,height:g,data:y.getImageData(0,0,m,g).data}}return{canvas:h,width:l,height:c,imageData:d}}#u(e,n){const{width:r,height:i}=this.#e;let s=r,a=i,o=this.#e;for(;s>2*e||a>2*n;){const l=s,c=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(s,a);h.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=h.transferToImageBitmap()}return o}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,s=new Es,a=Math.ceil(r*e*s.sx),o=Math.ceil(i*n*s.sy),l=this.#i;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#e:this.#u(a,o),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*zc.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*zc.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,s=!1;if(e instanceof LV){const{data:{rect:y,rotation:b,id:w,structParent:_,popupRef:A,richText:j,contentsObj:P,creationDate:T,modificationDate:k},container:O,parent:{page:{pageNumber:R}},canvas:F}=e;let M,D;F?(delete e.canvas,{id:M,bitmap:D}=r.imageManager.getFromCanvas(O.id,F),F.remove()):(s=!0,e._hasNoCanvas=!0);const $=(await n._structTree.getAriaAttributes(`${uc}${w}`))?.get("aria-label")||"";i=e={annotationType:Xe.STAMP,bitmapId:M,bitmap:D,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:_,popupRef:A,richText:j,comment:P?.str||null,creationDate:T,modificationDate:k}}const a=await super.deserialize(e,n,r),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:m}=e;s?(r.addMissingCanvas(e.id,a),a.#o=!0):h&&r.imageManager.isValidId(h)?(a.#t=h,l&&(a.#e=l)):a.#n=c,a.#l=d;const[g,x]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/x,m&&(a.altTextData=m),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#b(r);return o.isSame?null:(o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const o=n.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ks{#e;#t=!1;#r=null;#n=null;#a=null;#s=new Map;#i=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Dn,VE,ode,nn,us].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:h}){const d=[...Ks.#p.values()];if(!Ks._initialized){Ks._initialized=!0;for(const m of d)m.initialize(h,e)}e.registerEditorTypes(d),this.#u=e,this.pageIndex=n,this.div=r,this.#e=s,this.#r=a,this.viewport=c,this.#d=l,this.drawLayer=o,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Xe.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Xe.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Xe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Xe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Xe.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of Ks.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,h=this.#m;if(c-h>500){this.#m=c;return}this.#m=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const m=document.elementsFromPoint(o,l);if(d.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const x=new RegExp(`^${Ph}[0-9]+$`);for(const b of m)if(x.test(b.id)){g=b.id;break}if(!g)return;const y=this.#s.get(g);y?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,s=new Map;for(const o of this.#v){if(o.disableEditing(),!o.annotationElementId){n.push(o);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(this.#u.isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Ks.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=er.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),nn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),Me.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#s.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return Ks.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#_(),s=this.getNextId(),a=this.#C({parent:this,id:s,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});a&&this.add(a)}async deserialize(e){return await Ks.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=this.#C({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#_(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,h=(a+l)/2-n,[d,m]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#_(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=er.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Xe.STAMP||r===Xe.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Xe.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=er.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,il(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,il(this.div,{rotation:r}),n!==r)for(const i of this.#s.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Yn{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Je(this,"_svgFactory",new Pg)}static#a(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#s(){const e=Yn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Yn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Yn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Yn.#n++,s=this.#s(),a=Yn._svgFactory.createElement("defs");s.append(a);const o=Yn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,o);const c=r?this.#i(a,l):null,h=Yn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=Yn.#n++,i=this.#s(),s=Yn._svgFactory.createElement("defs");i.append(s);const a=Yn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=Yn._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const m=Yn._svgFactory.createElement("rect");d.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=Yn._svgFactory.createElement("use");d.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Yn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return i.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?this.#t.get(e):e;if(o){if(r&&this.#o(o,r),i&&Yn.#a(o,i),s){const{classList:l}=o;for(const[c,h]of Object.entries(s))l.toggle(c,h)}if(a){const c=o.firstChild.firstChild;this.#o(c,a)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:MA};globalThis.pdfjsLib={AbortException:to,AnnotationEditorLayer:Ks,AnnotationEditorParamsType:st,AnnotationEditorType:Xe,AnnotationEditorUIManager:no,AnnotationLayer:zE,AnnotationMode:Wa,AnnotationType:fn,applyOpacity:kce,build:Lue,ColorPicker:xi,createValidAbsoluteUrl:lV,CSSConstants:jce,DOMSVGFactory:Pg,DrawLayer:Yn,FeatureTest:er,fetchData:Mf,findContrastColor:Nce,getDocument:NV,getFilenameFromUrl:_ce,getPdfFilenameFromUrl:Ace,getRGB:Rf,getUuid:dV,getXfaPageViewport:Pce,GlobalWorkerOptions:Cc,ImageKind:Qm,InvalidPDFException:AA,isDataScheme:oy,isPdfFile:OE,isValidExplicitDest:Uce,MathClamp:mr,noContextMenu:ki,normalizeUnicode:xce,OPS:Eh,OutputScale:Es,PasswordResponses:dce,PDFDataRangeTransport:OV,PDFDateString:CA,PDFWorker:Xn,PermissionFlag:uce,PixelsPerInch:zc,RenderingCancelledException:NE,renderRichText:pV,ResponseException:Ag,setLayerDimensions:il,shadow:Je,SignatureExtractor:ic,stopEvent:Qt,SupportedImageMimeTypes:PA,TextLayer:fr,TouchManager:ly,updateUrlHash:cV,Util:_e,VerbosityLevel:iy,version:Iue,XfaLayer:fV};const lde="/assets/pdf.worker.min-Cpi8b8z3.mjs";Cc.workerSrc=lde;const cde={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function qE(t){const e=t.toLowerCase();for(const[n,{category:r,keywords:i}]of Object.entries(cde))if(i.some(s=>e.includes(s)))return r;return"other"}function I2(t){const e=t.split(`
`).filter(r=>r.trim()),n=[];for(const r of e){const i=r.replace(/paid to/i,"").trim(),s=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const a of s){const o=i.match(a);if(o){const l=a.source.startsWith("^?"),c=parseFloat(l?o[1]:o[2]),h=(l?o[2]:o[1]).trim();if(!isNaN(c)){n.push({amount:c,merchant:h,category:qE(h)});break}}}}return n}function ude(t){try{const e=JSON.parse(t),n=[],r=Array.isArray(e)?e:[e];for(const i of r)if((i.amount||i.Amount)&&(i.merchant||i.Merchant||i.description||i.Description)){const s=parseFloat(i.amount||i.Amount),a=i.merchant||i.Merchant||i.description||i.Description;isNaN(s)||n.push({amount:s,merchant:a,category:i.category||qE(a),date:i.date||i.Date})}return n}catch{return[]}}function dde(t){const e=t.split(`
`).filter(l=>l.trim());if(e.length<2)return[];const n=[],r=e[0].toLowerCase().split(",").map(l=>l.trim().replace(/['"]/g,"")),i=r.findIndex(l=>l.includes("amount")||l.includes("debit")||l.includes("withdrawal")),s=r.findIndex(l=>l.includes("merchant")||l.includes("description")||l.includes("narration")||l.includes("remarks")||l.includes("name")),a=r.findIndex(l=>l.includes("category")),o=r.findIndex(l=>l.includes("date"));if(i===-1||s===-1)return[];for(let l=1;l<e.length;l++){const c=e[l].split(",").map(h=>h.trim().replace(/^"|"$/g,""));if(c.length>Math.max(i,s)){const h=c[i].replace(/[,]/g,""),d=parseFloat(h),m=c[s],g=a!==-1?c[a]:qE(m),x=o!==-1?c[o]:void 0;!isNaN(d)&&m&&d>0&&n.push({amount:d,merchant:m,category:g,date:x})}}return n}function hde({open:t,onClose:e}){const{currentUser:n,addExpense:r}=ot(),[i,s]=C.useState("pdf"),[a,o]=C.useState(""),[l,c]=C.useState([]),[h,d]=C.useState(!1),[m,g]=C.useState(!1),[x,y]=C.useState(null),[b,w]=C.useState(""),[_,A]=C.useState(!1),[j,P]=C.useState(null),T=async D=>{const $=D.target.files?.[0];$&&(y($),P(null))},k=async()=>{if(x){A(!0),P(null);try{const D=await x.arrayBuffer(),H=await NV({data:D,password:b}).promise;let q="";for(let B=1;B<=H.numPages;B++){const X=(await(await H.getPage(B)).getTextContent()).items.map(U=>U.str).join(" ");q+=X+`
`}const V=I2(q);if(V.length===0){const B=[/(\d{2}\/\d{2}\/\d{4})\s+(.+?)\s+([0-9,]+\.\d{2})/g,/([0-9,]+\.\d{2})\s+(.+?)\s+(\d{2}\/\d{2}\/\d{4})/g]}V.length>0?(c(V),d(!0)):P("Could not extract valid transactions. Please check the file format.")}catch(D){console.error("PDF Error:",D),D.name==="PasswordException"?P("Password required"):P("Failed to read PDF. "+D.message)}finally{A(!1)}}},O=()=>{let D=[];switch(i){case"paste":D=I2(a);break;case"json":D=ude(a);break;case"csv":D=dde(a);break}if(D.length===0){ke.error("No valid transactions found. Please check the format.");return}c(D),d(!0)},R=async()=>{if(!(!n||l.length===0)){g(!0);try{for(const D of l){const $={id:ln(),method:"upi",amount:D.amount,payer_user_id:n.id,account_id:"upi"},H={id:ln(),family_id:n.family_id,created_by:n.id,total_amount:D.amount,currency:"INR",category:D.category,date:D.date||Cs(new Date),notes:D.merchant,payment_lines:[$],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r(H)}ke.success(`Successfully imported ${l.length} transactions`),F()}catch(D){console.error("Error importing transactions:",D),ke.error("Failed to import some transactions")}finally{g(!1)}}},F=()=>{o(""),c([]),d(!1),y(null),w(""),P(null),e()},M=()=>{d(!1)};return f.jsx(Ht,{open:t,onOpenChange:F,children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[h&&f.jsx(ve,{variant:"ghost",size:"icon",onClick:M,className:"shrink-0",children:f.jsx(Nv,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs(on,{className:"flex items-center gap-2",children:[f.jsx(HP,{className:"h-5 w-5 text-primary"}),h?"Preview Transactions":"Import UPI Transactions"]}),f.jsx(gn,{children:h?`Review ${l.length} transactions before importing`:"Upload a PDF statement, JSON/CSV file, or paste transaction data."})]})]})}),h?f.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[f.jsx("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),f.jsx("p",{className:"text-2xl font-semibold",children:l.length})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),f.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:["",l.reduce((D,$)=>D+$.amount,0).toFixed(2)]})]})]})}),f.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:C.useMemo(()=>{const D={};return l.forEach($=>{const H=$.category||"other";D[H]=(D[H]||0)+$.amount}),Object.entries(D).sort(($,H)=>H[1]-$[1])},[l]).map(([D,$])=>f.jsxs("div",{className:"bg-muted/30 p-2 rounded-lg flex justify-between items-center text-sm",children:[f.jsx("span",{className:"capitalize text-muted-foreground",children:D}),f.jsx("span",{className:"font-medium",children:$.toFixed(0)})]},D))}),f.jsx(lce,{className:"flex-1 -mx-6 px-6",children:f.jsx("div",{className:"space-y-2",children:l.map((D,$)=>f.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-lg bg-destructive/10 flex items-center justify-center shrink-0",children:f.jsx(lZ,{className:"h-5 w-5 text-destructive"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium truncate",children:D.merchant}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(yn,{variant:"secondary",className:"text-xs capitalize",children:D.category}),D.date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:D.date})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("p",{className:"font-semibold text-destructive",children:["",D.amount]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"UPI"})]})]},$))})}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[f.jsx(ve,{variant:"outline",onClick:M,className:"flex-1",children:"Back"}),f.jsx(ve,{onClick:R,disabled:m,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:m?"Importing...":f.jsxs(f.Fragment,{children:[f.jsx(Ov,{className:"h-4 w-4"}),"Import ",l.length," Transactions"]})})]})]}):f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto",children:[f.jsxs(xg,{children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx(wg,{children:"We'll automatically detect categories based on merchant names."})]}),f.jsxs($c,{value:i,onValueChange:s,children:[f.jsxs(Bc,{className:"grid w-full grid-cols-4",children:[f.jsx(Rr,{value:"pdf",children:"PDF"}),f.jsx(Rr,{value:"paste",children:"Paste"}),f.jsx(Rr,{value:"json",children:"JSON"}),f.jsx(Rr,{value:"csv",children:"CSV"})]}),f.jsxs(qa,{value:"pdf",className:"space-y-4",children:[f.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl p-8 text-center space-y-4 hover:bg-muted/50 transition-colors",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:f.jsx(uZ,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:x?x.name:"Upload Bank Statement PDF"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?`${(x.size/1024).toFixed(1)} KB`:"Click to browse or drag and drop"})]}),f.jsx(Mt,{type:"file",accept:".pdf",className:"hidden",id:"pdf-upload",onChange:T}),f.jsx(ve,{variant:"outline",onClick:()=>document.getElementById("pdf-upload")?.click(),children:"Select PDF"})]}),x&&f.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"pdf-password",children:"Password (if protected)"}),f.jsxs("div",{className:"relative",children:[f.jsx(kZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Mt,{id:"pdf-password",type:"password",placeholder:"Enter PDF password",value:b,onChange:D=>w(D.target.value),className:"pl-9"})]})]}),j&&f.jsxs(xg,{variant:"destructive",children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx(wg,{children:j})]}),f.jsx(ve,{onClick:k,disabled:_,className:"w-full",children:_?"Reading PDF...":"Process PDF"})]})]}),f.jsxs(qa,{value:"paste",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Paste transaction data (one per line)"}),f.jsx(Ya,{placeholder:`250 Zomato
500 Uber
1200 BigBasket`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ve,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(qa,{value:"json",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Paste JSON data"}),f.jsx(Ya,{placeholder:`[
  {"amount": 250, "merchant": "Zomato"},
  {"amount": 500, "merchant": "Uber", "category": "transport"}
]`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ve,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(qa,{value:"csv",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Paste CSV data"}),f.jsx(Ya,{placeholder:`amount,merchant,category,date
250,Zomato,food,2025-11-04
500,Uber,transport,2025-11-04`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ve,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]})]})]})]})})}const fde=[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"week",label:"Week"},{value:"month",label:"Month"}],pde=["All Categories","Food & Dining","Transportation","Shopping","Bills & Utilities","Entertainment","Healthcare","Education","Personal Care","Home & Garden","Gifts & Donations","Travel","Other"],mde=["All Modes","Cash","UPI","Card","Net Banking","Other"];function gde({open:t,onClose:e,onApplyFilters:n}){const[r,i]=C.useState(""),[s,a]=C.useState("all"),[o,l]=C.useState("All Categories"),[c,h]=C.useState("All Modes"),d=()=>{n?.({searchQuery:r,timeRange:s,category:o,mode:c}),e()},m=()=>{i(""),a("all"),l("All Categories"),h("All Modes")};return f.jsx(Ht,{open:t,onOpenChange:e,children:f.jsxs(qt,{className:"max-w-md p-0 gap-0 bg-background",children:[f.jsx("div",{className:"p-4 pb-3 border-b",children:f.jsxs("div",{className:"relative",children:[f.jsx(VZ,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),f.jsx(Mt,{placeholder:"Search transactions...",value:r,onChange:g=>i(g.target.value),className:"pl-10 pr-12 h-11 bg-surface-variant/30 border-0"}),r&&f.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-muted-foreground hover:text-foreground hover:bg-surface-variant/50 rounded-sm z-10",children:f.jsx(wu,{className:"h-4 w-4"})})]})}),f.jsx("div",{className:"px-4 py-4 border-b",children:f.jsx("div",{className:"flex gap-2",children:fde.map(g=>f.jsx(ve,{variant:s===g.value?"default":"outline",size:"sm",onClick:()=>a(g.value),className:`flex-1 h-9 ${s===g.value?"bg-primary text-primary-foreground shadow-sm":"bg-surface-variant/30 hover:bg-surface-variant/50 border-0"}`,children:g.label},g.value))})}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs($n,{value:o,onValueChange:l,children:[f.jsx(Un,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Bn,{})}),f.jsx(zn,{children:pde.map(g=>f.jsx(De,{value:g,children:g},g))})]}),f.jsxs($n,{value:c,onValueChange:h,children:[f.jsx(Un,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Bn,{})}),f.jsx(zn,{children:mde.map(g=>f.jsx(De,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"p-4 pt-2 flex gap-3 border-t bg-surface-variant/10",children:[f.jsx(ve,{variant:"outline",onClick:m,className:"flex-1 h-11",children:"Reset"}),f.jsx(ve,{onClick:d,className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:"Apply Filters"})]})]})})}function vde(){const{expenses:t,income:e,currentFamily:n}=ot(),{t:r}=hl();if(!n)return null;const i=n.currency,s=(F,M)=>t.filter(D=>f0(new Date(D.date),{start:F,end:M})).reduce((D,$)=>D+$.amount,0),a=(F,M)=>e.filter(D=>f0(new Date(D.date),{start:F,end:M})).reduce((D,$)=>D+$.amount,0),o=new Date,l=ji(o,{weekStartsOn:1}),c=Sh(o,{weekStartsOn:1}),h=ji(i2(o),{weekStartsOn:1}),d=Sh(i2(o),{weekStartsOn:1}),m=ur(o),g=wh(o),x=ur(r2(o)),y=wh(r2(o)),b=s(l,c),w=s(h,d),_=a(m,g),A=s(m,g),j=_-A,P=a(x,y),T=s(x,y),k=P-T,O=[];if(b>w&&w>0){const F=Math.round((b-w)/w*100);O.push({icon:f.jsx(Ei,{className:"h-5 w-5 text-destructive"}),title:"Spending Alert",message:`You spent ${F}% more this week compared to last week.`,color:"bg-destructive/10 text-destructive-foreground"})}else if(b<w&&b>0){const F=Math.round((w-b)/w*100);O.push({icon:f.jsx(Zo,{className:"h-5 w-5 text-green-600"}),title:"Good Job!",message:`You've spent ${F}% less this week than last week. Keep it up!`,color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"})}if(j>k&&k>0){const F=j-k;O.push({icon:f.jsx(pM,{className:"h-5 w-5 text-yellow-600"}),title:"Savings Growth",message:`Great job! You saved ${i} ${F.toLocaleString()} more than usual this month.`,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"})}if(A>0){const F={};t.filter(D=>f0(new Date(D.date),{start:m,end:g})).forEach(D=>{F[D.category]=(F[D.category]||0)+D.amount});const M=Object.entries(F).sort((D,$)=>$[1]-D[1])[0];M&&M[1]/A>.4&&O.push({icon:f.jsx(Nc,{className:"h-5 w-5 text-orange-600"}),title:"Spending Insight",message:`Heads up! ${M[0]} makes up ${Math.round(M[1]/A*100)}% of your spending this month.`,color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"})}if(O.length===0&&t.length>0&&O.push({icon:f.jsx(pM,{className:"h-5 w-5 text-primary"}),title:"Tip",message:"Track your daily expenses to get better insights!",color:"bg-primary/10 text-primary-foreground"}),O.length===0)return null;const R=O.slice(0,2);return f.jsx("div",{className:"space-y-3",children:R.map((F,M)=>f.jsxs("div",{className:`p-4 rounded-xl border flex items-start gap-3 ${F.color}`,children:[f.jsx("div",{className:"shrink-0 mt-0.5",children:F.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm",children:F.title}),f.jsx("p",{className:"text-sm opacity-90",children:F.message})]})]},M))})}var N0,L2;function Lr(){if(L2)return N0;L2=1;var t=Array.isArray;return N0=t,N0}var O0,F2;function BV(){if(F2)return O0;F2=1;var t=typeof am=="object"&&am&&am.Object===Object&&am;return O0=t,O0}var M0,$2;function Ms(){if($2)return M0;$2=1;var t=BV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return M0=n,M0}var D0,B2;function $f(){if(B2)return D0;B2=1;var t=Ms(),e=t.Symbol;return D0=e,D0}var R0,U2;function yde(){if(U2)return R0;U2=1;var t=$f(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var h=r.call(a);return c&&(o?a[i]=l:delete a[i]),h}return R0=s,R0}var I0,z2;function bde(){if(z2)return I0;z2=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return I0=n,I0}var L0,V2;function da(){if(V2)return L0;V2=1;var t=$f(),e=yde(),n=bde(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return L0=a,L0}var F0,W2;function ha(){if(W2)return F0;W2=1;function t(e){return e!=null&&typeof e=="object"}return F0=t,F0}var $0,H2;function Tu(){if(H2)return $0;H2=1;var t=da(),e=ha(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return $0=r,$0}var B0,q2;function GE(){if(q2)return B0;q2=1;var t=Lr(),e=Tu(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return B0=i,B0}var U0,G2;function oo(){if(G2)return U0;G2=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return U0=t,U0}var z0,K2;function KE(){if(K2)return z0;K2=1;var t=da(),e=oo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return z0=a,z0}var V0,Y2;function xde(){if(Y2)return V0;Y2=1;var t=Ms(),e=t["__core-js_shared__"];return V0=e,V0}var W0,X2;function wde(){if(X2)return W0;X2=1;var t=xde(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return W0=n,W0}var H0,Q2;function UV(){if(Q2)return H0;Q2=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return H0=n,H0}var q0,Z2;function Sde(){if(Z2)return q0;Z2=1;var t=KE(),e=wde(),n=oo(),r=UV(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,h=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(m){if(!n(m)||e(m))return!1;var g=t(m)?h:s;return g.test(r(m))}return q0=d,q0}var G0,J2;function _de(){if(J2)return G0;J2=1;function t(e,n){return e?.[n]}return G0=t,G0}var K0,eD;function ml(){if(eD)return K0;eD=1;var t=Sde(),e=_de();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return K0=n,K0}var Y0,tD;function dy(){if(tD)return Y0;tD=1;var t=ml(),e=t(Object,"create");return Y0=e,Y0}var X0,nD;function Ade(){if(nD)return X0;nD=1;var t=dy();function e(){this.__data__=t?t(null):{},this.size=0}return X0=e,X0}var Q0,rD;function Cde(){if(rD)return Q0;rD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return Q0=t,Q0}var Z0,iD;function Pde(){if(iD)return Z0;iD=1;var t=dy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return Z0=i,Z0}var J0,sD;function Ede(){if(sD)return J0;sD=1;var t=dy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return J0=r,J0}var ew,aD;function Tde(){if(aD)return ew;aD=1;var t=dy(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return ew=n,ew}var tw,oD;function jde(){if(oD)return tw;oD=1;var t=Ade(),e=Cde(),n=Pde(),r=Ede(),i=Tde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,tw=s,tw}var nw,lD;function kde(){if(lD)return nw;lD=1;function t(){this.__data__=[],this.size=0}return nw=t,nw}var rw,cD;function YE(){if(cD)return rw;cD=1;function t(e,n){return e===n||e!==e&&n!==n}return rw=t,rw}var iw,uD;function hy(){if(uD)return iw;uD=1;var t=YE();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return iw=e,iw}var sw,dD;function Nde(){if(dD)return sw;dD=1;var t=hy(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return sw=r,sw}var aw,hD;function Ode(){if(hD)return aw;hD=1;var t=hy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return aw=e,aw}var ow,fD;function Mde(){if(fD)return ow;fD=1;var t=hy();function e(n){return t(this.__data__,n)>-1}return ow=e,ow}var lw,pD;function Dde(){if(pD)return lw;pD=1;var t=hy();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return lw=e,lw}var cw,mD;function fy(){if(mD)return cw;mD=1;var t=kde(),e=Nde(),n=Ode(),r=Mde(),i=Dde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,cw=s,cw}var uw,gD;function XE(){if(gD)return uw;gD=1;var t=ml(),e=Ms(),n=t(e,"Map");return uw=n,uw}var dw,vD;function Rde(){if(vD)return dw;vD=1;var t=jde(),e=fy(),n=XE();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return dw=r,dw}var hw,yD;function Ide(){if(yD)return hw;yD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return hw=t,hw}var fw,bD;function py(){if(bD)return fw;bD=1;var t=Ide();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return fw=e,fw}var pw,xD;function Lde(){if(xD)return pw;xD=1;var t=py();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return pw=e,pw}var mw,wD;function Fde(){if(wD)return mw;wD=1;var t=py();function e(n){return t(this,n).get(n)}return mw=e,mw}var gw,SD;function $de(){if(SD)return gw;SD=1;var t=py();function e(n){return t(this,n).has(n)}return gw=e,gw}var vw,_D;function Bde(){if(_D)return vw;_D=1;var t=py();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return vw=e,vw}var yw,AD;function QE(){if(AD)return yw;AD=1;var t=Rde(),e=Lde(),n=Fde(),r=$de(),i=Bde();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,yw=s,yw}var bw,CD;function zV(){if(CD)return bw;CD=1;var t=QE(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,bw=n,bw}var xw,PD;function Ude(){if(PD)return xw;PD=1;var t=zV(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return xw=n,xw}var ww,ED;function zde(){if(ED)return ww;ED=1;var t=Ude(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return ww=r,ww}var Sw,TD;function ZE(){if(TD)return Sw;TD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return Sw=t,Sw}var _w,jD;function Vde(){if(jD)return _w;jD=1;var t=$f(),e=ZE(),n=Lr(),r=Tu(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return _w=a,_w}var Aw,kD;function VV(){if(kD)return Aw;kD=1;var t=Vde();function e(n){return n==null?"":t(n)}return Aw=e,Aw}var Cw,ND;function WV(){if(ND)return Cw;ND=1;var t=Lr(),e=GE(),n=zde(),r=VV();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return Cw=i,Cw}var Pw,OD;function my(){if(OD)return Pw;OD=1;var t=Tu();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Pw=e,Pw}var Ew,MD;function JE(){if(MD)return Ew;MD=1;var t=WV(),e=my();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return Ew=n,Ew}var Tw,DD;function HV(){if(DD)return Tw;DD=1;var t=JE();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Tw=e,Tw}var Wde=HV();const ei=gt(Wde);var jw,RD;function Hde(){if(RD)return jw;RD=1;function t(e){return e==null}return jw=t,jw}var qde=Hde();const Ye=gt(qde);var kw,ID;function Gde(){if(ID)return kw;ID=1;var t=da(),e=Lr(),n=ha(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return kw=i,kw}var Kde=Gde();const al=gt(Kde);var Yde=KE();const qe=gt(Yde);var Xde=oo();const ju=gt(Xde);var Nw={exports:{}},pt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LD;function Qde(){if(LD)return pt;LD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case n:case i:case r:case c:case h:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case m:case d:case s:return b;default:return w}}case e:return w}}}return pt.ContextConsumer=a,pt.ContextProvider=s,pt.Element=t,pt.ForwardRef=l,pt.Fragment=n,pt.Lazy=m,pt.Memo=d,pt.Portal=e,pt.Profiler=i,pt.StrictMode=r,pt.Suspense=c,pt.SuspenseList=h,pt.isAsyncMode=function(){return!1},pt.isConcurrentMode=function(){return!1},pt.isContextConsumer=function(b){return y(b)===a},pt.isContextProvider=function(b){return y(b)===s},pt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},pt.isForwardRef=function(b){return y(b)===l},pt.isFragment=function(b){return y(b)===n},pt.isLazy=function(b){return y(b)===m},pt.isMemo=function(b){return y(b)===d},pt.isPortal=function(b){return y(b)===e},pt.isProfiler=function(b){return y(b)===i},pt.isStrictMode=function(b){return y(b)===r},pt.isSuspense=function(b){return y(b)===c},pt.isSuspenseList=function(b){return y(b)===h},pt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===h||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===d||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},pt.typeOf=y,pt}var FD;function Zde(){return FD||(FD=1,Nw.exports=Qde()),Nw.exports}var Jde=Zde(),Ow,$D;function qV(){if($D)return Ow;$D=1;var t=da(),e=ha(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Ow=r,Ow}var Mw,BD;function ehe(){if(BD)return Mw;BD=1;var t=qV();function e(n){return t(n)&&n!=+n}return Mw=e,Mw}var the=ehe();const Bf=gt(the);var nhe=qV();const rhe=gt(nhe);var yr=function(e){return e===0?0:e>0?1:-1},Vo=function(e){return al(e)&&e.indexOf("%")===e.length-1},ge=function(e){return rhe(e)&&!Bf(e)},ihe=function(e){return Ye(e)},En=function(e){return ge(e)||al(e)},she=0,ku=function(e){var n=++she;return"".concat(e||"").concat(n)},br=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!al(e))return r;var s;if(Vo(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Bf(s)&&(s=r),i&&s>n&&(s=n),s},Ha=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},ahe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Xr=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function Eg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ei(r,e))===n})}var ohe=function(e,n){return ge(e)&&ge(n)?e-n:al(e)&&al(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Pc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function IA(t){"@babel/helpers - typeof";return IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},IA(t)}var lhe=["viewBox","children"],che=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],UD=["points","pathLength"],Dw={svg:lhe,polygon:UD,polyline:UD},eT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!ju(r))return null;var i={};return Object.keys(r).forEach(function(s){eT.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},uhe=function(e,n,r){return function(i){return e(n,r,i),null}},ol=function(e,n,r){if(!ju(e)||IA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];eT.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=uhe(a,n,r))}),i},dhe=["children"],hhe=["children"];function zD(t,e){if(t==null)return{};var n=fhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LA(t){"@babel/helpers - typeof";return LA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LA(t)}var VD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ea=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},WD=null,Rw=null,tT=function t(e){if(e===WD&&Array.isArray(Rw))return Rw;var n=[];return C.Children.forEach(e,function(r){Ye(r)||(Jde.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Rw=n,WD=e,n};function ti(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ea(i)}):r=[ea(e)],tT(t).forEach(function(i){var s=ei(i,"type.displayName")||ei(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Gr(t,e){var n=ti(t,e);return n&&n[0]}var HD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},phe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],mhe=function(e){return e&&e.type&&al(e.type)&&phe.indexOf(e.type)>=0},ghe=function(e){return e&&LA(e)==="object"&&"clipDot"in e},vhe=function(e,n,r,i){var s,a=(s=Dw?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!qe(e)&&(i&&a.includes(n)||che.includes(n))||r&&eT.includes(n)},$e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!ju(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;vhe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},FA=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return qD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!qD(s,a))return!1}return!0},qD=function(e,n){if(Ye(e)&&Ye(n))return!0;if(!Ye(e)&&!Ye(n)){var r=e.props||{},i=r.children,s=zD(r,dhe),a=n.props||{},o=a.children,l=zD(a,hhe);return i&&o?Pc(s,l)&&FA(i,o):!i&&!o?Pc(s,l):!1}return!1},GD=function(e,n){var r=[],i={};return tT(e).forEach(function(s,a){if(mhe(s))r.push(s);else if(s){var o=ea(s.type),l=n[o]||{},c=l.handler,h=l.once;if(c&&(!h||!i[o])){var d=c(s,o,a);r.push(d),i[o]=!0}}}),r},yhe=function(e){var n=e&&e.type;return n&&VD[n]?VD[n]:null},bhe=function(e,n){return tT(n).indexOf(e)},xhe=["children","width","height","viewBox","className","style","title","desc"];function $A(){return $A=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$A.apply(this,arguments)}function whe(t,e){if(t==null)return{};var n=She(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function She(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=whe(t,xhe),h=i||{width:n,height:r,x:0,y:0},d=Qe("recharts-surface",s);return z.createElement("svg",$A({},$e(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),e)}var _he=["children","className"];function UA(){return UA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UA.apply(this,arguments)}function Ahe(t,e){if(t==null)return{};var n=Che(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Che(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Ahe(t,_he),s=Qe("recharts-layer",r);return z.createElement("g",UA({className:s},$e(i,!0),{ref:e}),n)}),Yi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Iw,KD;function Phe(){if(KD)return Iw;KD=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return Iw=t,Iw}var Lw,YD;function Ehe(){if(YD)return Lw;YD=1;var t=Phe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return Lw=e,Lw}var Fw,XD;function GV(){if(XD)return Fw;XD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return Fw=l,Fw}var $w,QD;function The(){if(QD)return $w;QD=1;function t(e){return e.split("")}return $w=t,$w}var Bw,ZD;function jhe(){if(ZD)return Bw;ZD=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",h="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",y="["+s+"]?",b="(?:"+g+"(?:"+[h,d,m].join("|")+")"+y+x+")*",w=y+x+b,_="(?:"+[h+o+"?",o,d,m,a].join("|")+")",A=RegExp(l+"(?="+l+")|"+_+w,"g");function j(P){return P.match(A)||[]}return Bw=j,Bw}var Uw,JD;function khe(){if(JD)return Uw;JD=1;var t=The(),e=GV(),n=jhe();function r(i){return e(i)?n(i):t(i)}return Uw=r,Uw}var zw,eR;function Nhe(){if(eR)return zw;eR=1;var t=Ehe(),e=GV(),n=khe(),r=VV();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,l=o?o[0]:a.charAt(0),c=o?t(o,1).join(""):a.slice(1);return l[s]()+c}}return zw=i,zw}var Vw,tR;function Ohe(){if(tR)return Vw;tR=1;var t=Nhe(),e=t("toUpperCase");return Vw=e,Vw}var Mhe=Ohe();const gy=gt(Mhe);function Nt(t){return function(){return t}}const KV=Math.cos,jg=Math.sin,ts=Math.sqrt,kg=Math.PI,vy=2*kg,zA=Math.PI,VA=2*zA,Lo=1e-6,Dhe=VA-Lo;function YV(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Rhe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YV;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ihe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YV:Rhe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,h=a-e,d=o-n,m=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Lo)if(!(Math.abs(d*l-c*h)>Lo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,x=i-o,y=l*l+c*c,b=g*g+x*x,w=Math.sqrt(y),_=Math.sqrt(m),A=s*Math.tan((zA-Math.acos((y+m-b)/(2*w*_)))/2),j=A/_,P=A/w;Math.abs(j-1)>Lo&&this._append`L${e+j*h},${n+j*d}`,this._append`A${s},${s},0,0,${+(d*g>h*x)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,h=n+l,d=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Lo||Math.abs(this._y1-h)>Lo)&&this._append`L${c},${h}`,r&&(m<0&&(m=m%VA+VA),m>Dhe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:m>Lo&&this._append`A${r},${r},0,${+(m>=zA)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ihe(e)}function rT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function XV(t){this._context=t}XV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yy(t){return new XV(t)}function QV(t){return t[0]}function ZV(t){return t[1]}function JV(t,e){var n=Nt(!0),r=null,i=yy,s=null,a=nT(o);t=typeof t=="function"?t:t===void 0?QV:Nt(t),e=typeof e=="function"?e:e===void 0?ZV:Nt(e);function o(l){var c,h=(l=rT(l)).length,d,m=!1,g;for(r==null&&(s=i(g=a())),c=0;c<=h;++c)!(c<h&&n(d=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(d,c,l),+e(d,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Nt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Nt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Nt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function jm(t,e,n){var r=null,i=Nt(!0),s=null,a=yy,o=null,l=nT(c);t=typeof t=="function"?t:t===void 0?QV:Nt(+t),e=typeof e=="function"?e:Nt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?ZV:Nt(+n);function c(d){var m,g,x,y=(d=rT(d)).length,b,w=!1,_,A=new Array(y),j=new Array(y);for(s==null&&(o=a(_=l())),m=0;m<=y;++m){if(!(m<y&&i(b=d[m],m,d))===w)if(w=!w)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(A[x],j[x]);o.lineEnd(),o.areaEnd()}w&&(A[m]=+t(b,m,d),j[m]=+e(b,m,d),o.point(r?+r(b,m,d):A[m],n?+n(b,m,d):j[m]))}if(_)return o=null,_+""||null}function h(){return JV().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Nt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Nt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Nt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Nt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Nt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Nt(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Nt(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class e6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Lhe(t){return new e6(t,!0)}function Fhe(t){return new e6(t,!1)}const iT={draw(t,e){const n=ts(e/kg);t.moveTo(n,0),t.arc(0,0,n,0,vy)}},$he={draw(t,e){const n=ts(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},t6=ts(1/3),Bhe=t6*2,Uhe={draw(t,e){const n=ts(e/Bhe),r=n*t6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},zhe={draw(t,e){const n=ts(e),r=-n/2;t.rect(r,r,n,n)}},Vhe=.8908130915292852,n6=jg(kg/10)/jg(7*kg/10),Whe=jg(vy/10)*n6,Hhe=-KV(vy/10)*n6,qhe={draw(t,e){const n=ts(e*Vhe),r=Whe*n,i=Hhe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=vy*s/5,o=KV(a),l=jg(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Ww=ts(3),Ghe={draw(t,e){const n=-ts(e/(Ww*3));t.moveTo(0,n*2),t.lineTo(-Ww*n,-n),t.lineTo(Ww*n,-n),t.closePath()}},gi=-.5,vi=ts(3)/2,WA=1/ts(12),Khe=(WA/2+1)*3,Yhe={draw(t,e){const n=ts(e/Khe),r=n/2,i=n*WA,s=r,a=n*WA+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(gi*r-vi*i,vi*r+gi*i),t.lineTo(gi*s-vi*a,vi*s+gi*a),t.lineTo(gi*o-vi*l,vi*o+gi*l),t.lineTo(gi*r+vi*i,gi*i-vi*r),t.lineTo(gi*s+vi*a,gi*a-vi*s),t.lineTo(gi*o+vi*l,gi*l-vi*o),t.closePath()}};function Xhe(t,e){let n=null,r=nT(i);t=typeof t=="function"?t:Nt(t||iT),e=typeof e=="function"?e:Nt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Nt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Ng(){}function Og(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function r6(t){this._context=t}r6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Og(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Qhe(t){return new r6(t)}function i6(t){this._context=t}i6.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zhe(t){return new i6(t)}function s6(t){this._context=t}s6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Og(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Jhe(t){return new s6(t)}function a6(t){this._context=t}a6.prototype={areaStart:Ng,areaEnd:Ng,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function efe(t){return new a6(t)}function nR(t){return t<0?-1:1}function rR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(nR(s)+nR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function iR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Hw(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Mg(t){this._context=t}Mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hw(this,this._t0,iR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Hw(this,iR(this,n=rR(this,t,e)),n);break;default:Hw(this,this._t0,n=rR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function o6(t){this._context=new l6(t)}(o6.prototype=Object.create(Mg.prototype)).point=function(t,e){Mg.prototype.point.call(this,e,t)};function l6(t){this._context=t}l6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function tfe(t){return new Mg(t)}function nfe(t){return new o6(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=sR(t),i=sR(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function sR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function rfe(t){return new c6(t)}function by(t,e){this._context=t,this._t=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function ife(t){return new by(t,.5)}function sfe(t){return new by(t,0)}function afe(t){return new by(t,1)}function Vc(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function HA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function ofe(t,e){return t[e]}function lfe(t){const e=[];return e.key=t,e}function cfe(){var t=Nt([]),e=HA,n=Vc,r=ofe;function i(s){var a=Array.from(t.apply(this,arguments),lfe),o,l=a.length,c=-1,h;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,h=rT(e(a));o<l;++o)a[h[o]].index=o;return n(a,h),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Nt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Nt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?HA:typeof s=="function"?s:Nt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Vc,i):n},i}function ufe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Vc(t,e)}}function dfe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Vc(t,e)}}function hfe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var h=t[e[o]],d=h[r][1]||0,m=h[r-1][1]||0,g=(d-m)/2,x=0;x<o;++x){var y=t[e[x]],b=y[r][1]||0,w=y[r-1][1]||0;g+=b-w}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Vc(t,e)}}function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}var ffe=["type","size","sizeType"];function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}function aR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aR(Object(n),!0).forEach(function(r){pfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pfe(t,e,n){return e=mfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mfe(t){var e=gfe(t,"string");return kh(e)=="symbol"?e:e+""}function gfe(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vfe(t,e){if(t==null)return{};var n=yfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var u6={symbolCircle:iT,symbolCross:$he,symbolDiamond:Uhe,symbolSquare:zhe,symbolStar:qhe,symbolTriangle:Ghe,symbolWye:Yhe},bfe=Math.PI/180,xfe=function(e){var n="symbol".concat(gy(e));return u6[n]||iT},wfe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*bfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Sfe=function(e,n){u6["symbol".concat(gy(e))]=n},sT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=vfe(e,ffe),c=oR(oR({},l),{},{type:r,size:s,sizeType:o}),h=function(){var b=xfe(r),w=Xhe().type(b).size(wfe(s,o,r));return w()},d=c.className,m=c.cx,g=c.cy,x=$e(c,!0);return m===+m&&g===+g&&s===+s?z.createElement("path",qA({},x,{className:Qe("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(g,")"),d:h()})):null};sT.registerSymbol=Sfe;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(this,arguments)}function lR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lR(Object(n),!0).forEach(function(r){Nh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h6(r.key),r)}}function Pfe(t,e,n){return e&&Cfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Efe(t,e,n){return e=Dg(e),Tfe(t,d6()?Reflect.construct(e,n||[],Dg(t).constructor):e.apply(t,n))}function Tfe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jfe(t)}function jfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d6=function(){return!!t})()}function Dg(t){return Dg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dg(t)}function kfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KA(t,e)}function Nh(t,e,n){return e=h6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h6(t){var e=Nfe(t,"string");return Wc(e)=="symbol"?e:e+""}function Nfe(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yi=32,aT=(function(t){function e(){return Afe(this,e),Efe(this,e,arguments)}return kfe(e,t),Pfe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=yi/2,a=yi/6,o=yi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:yi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(yi,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(yi/8,"h").concat(yi,"v").concat(yi*3/4,"h").concat(-yi,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=_fe({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(sT,{fill:l,cx:s,cy:s,size:yi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:yi,height:yi},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,x){var y=g.formatter||l,b=Qe(Nh(Nh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=qe(g.value)?null:g.value;Yi(!qe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?c:g.color;return z.createElement("li",GA({className:b,style:d,key:"legend-item-".concat(x)},ol(r.props,g,x)),z.createElement(BA,{width:a,height:a,viewBox:h,style:m},r.renderIcon(g)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},y?y(w,g,x):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(C.PureComponent);Nh(aT,"displayName","Legend");Nh(aT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var qw,cR;function Ofe(){if(cR)return qw;cR=1;var t=fy();function e(){this.__data__=new t,this.size=0}return qw=e,qw}var Gw,uR;function Mfe(){if(uR)return Gw;uR=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return Gw=t,Gw}var Kw,dR;function Dfe(){if(dR)return Kw;dR=1;function t(e){return this.__data__.get(e)}return Kw=t,Kw}var Yw,hR;function Rfe(){if(hR)return Yw;hR=1;function t(e){return this.__data__.has(e)}return Yw=t,Yw}var Xw,fR;function Ife(){if(fR)return Xw;fR=1;var t=fy(),e=XE(),n=QE(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return Xw=i,Xw}var Qw,pR;function f6(){if(pR)return Qw;pR=1;var t=fy(),e=Ofe(),n=Mfe(),r=Dfe(),i=Rfe(),s=Ife();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,Qw=a,Qw}var Zw,mR;function Lfe(){if(mR)return Zw;mR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return Zw=e,Zw}var Jw,gR;function Ffe(){if(gR)return Jw;gR=1;function t(e){return this.__data__.has(e)}return Jw=t,Jw}var e1,vR;function p6(){if(vR)return e1;vR=1;var t=QE(),e=Lfe(),n=Ffe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,e1=r,e1}var t1,yR;function m6(){if(yR)return t1;yR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return t1=t,t1}var n1,bR;function g6(){if(bR)return n1;bR=1;function t(e,n){return e.has(n)}return n1=t,n1}var r1,xR;function v6(){if(xR)return r1;xR=1;var t=p6(),e=m6(),n=g6(),r=1,i=2;function s(a,o,l,c,h,d){var m=l&r,g=a.length,x=o.length;if(g!=x&&!(m&&x>g))return!1;var y=d.get(a),b=d.get(o);if(y&&b)return y==o&&b==a;var w=-1,_=!0,A=l&i?new t:void 0;for(d.set(a,o),d.set(o,a);++w<g;){var j=a[w],P=o[w];if(c)var T=m?c(P,j,w,o,a,d):c(j,P,w,a,o,d);if(T!==void 0){if(T)continue;_=!1;break}if(A){if(!e(o,function(k,O){if(!n(A,O)&&(j===k||h(j,k,l,c,d)))return A.push(O)})){_=!1;break}}else if(!(j===P||h(j,P,l,c,d))){_=!1;break}}return d.delete(a),d.delete(o),_}return r1=s,r1}var i1,wR;function $fe(){if(wR)return i1;wR=1;var t=Ms(),e=t.Uint8Array;return i1=e,i1}var s1,SR;function Bfe(){if(SR)return s1;SR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return s1=t,s1}var a1,_R;function oT(){if(_R)return a1;_R=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return a1=t,a1}var o1,AR;function Ufe(){if(AR)return o1;AR=1;var t=$f(),e=$fe(),n=YE(),r=v6(),i=Bfe(),s=oT(),a=1,o=2,l="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Map]",m="[object Number]",g="[object RegExp]",x="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",A=t?t.prototype:void 0,j=A?A.valueOf:void 0;function P(T,k,O,R,F,M,D){switch(O){case _:if(T.byteLength!=k.byteLength||T.byteOffset!=k.byteOffset)return!1;T=T.buffer,k=k.buffer;case w:return!(T.byteLength!=k.byteLength||!M(new e(T),new e(k)));case l:case c:case m:return n(+T,+k);case h:return T.name==k.name&&T.message==k.message;case g:case y:return T==k+"";case d:var $=i;case x:var H=R&a;if($||($=s),T.size!=k.size&&!H)return!1;var q=D.get(T);if(q)return q==k;R|=o,D.set(T,k);var V=r($(T),$(k),R,F,M,D);return D.delete(T),V;case b:if(j)return j.call(T)==j.call(k)}return!1}return o1=P,o1}var l1,CR;function y6(){if(CR)return l1;CR=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return l1=t,l1}var c1,PR;function zfe(){if(PR)return c1;PR=1;var t=y6(),e=Lr();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return c1=n,c1}var u1,ER;function Vfe(){if(ER)return u1;ER=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return u1=t,u1}var d1,TR;function Wfe(){if(TR)return d1;TR=1;function t(){return[]}return d1=t,d1}var h1,jR;function Hfe(){if(jR)return h1;jR=1;var t=Vfe(),e=Wfe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return h1=s,h1}var f1,kR;function qfe(){if(kR)return f1;kR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return f1=t,f1}var p1,NR;function Gfe(){if(NR)return p1;NR=1;var t=da(),e=ha(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return p1=r,p1}var m1,OR;function lT(){if(OR)return m1;OR=1;var t=Gfe(),e=ha(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return m1=s,m1}var Wd={exports:{}},g1,MR;function Kfe(){if(MR)return g1;MR=1;function t(){return!1}return g1=t,g1}Wd.exports;var DR;function b6(){return DR||(DR=1,(function(t,e){var n=Ms(),r=Kfe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Wd,Wd.exports)),Wd.exports}var v1,RR;function cT(){if(RR)return v1;RR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return v1=n,v1}var y1,IR;function uT(){if(IR)return y1;IR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return y1=e,y1}var b1,LR;function Yfe(){if(LR)return b1;LR=1;var t=da(),e=uT(),n=ha(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",d="[object Object]",m="[object RegExp]",g="[object Set]",x="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",j="[object Int8Array]",P="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",M={};M[_]=M[A]=M[j]=M[P]=M[T]=M[k]=M[O]=M[R]=M[F]=!0,M[r]=M[i]=M[b]=M[s]=M[w]=M[a]=M[o]=M[l]=M[c]=M[h]=M[d]=M[m]=M[g]=M[x]=M[y]=!1;function D($){return n($)&&e($.length)&&!!M[t($)]}return b1=D,b1}var x1,FR;function x6(){if(FR)return x1;FR=1;function t(e){return function(n){return e(n)}}return x1=t,x1}var Hd={exports:{}};Hd.exports;var $R;function Xfe(){return $R||($R=1,(function(t,e){var n=BV(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Hd,Hd.exports)),Hd.exports}var w1,BR;function w6(){if(BR)return w1;BR=1;var t=Yfe(),e=x6(),n=Xfe(),r=n&&n.isTypedArray,i=r?e(r):t;return w1=i,w1}var S1,UR;function Qfe(){if(UR)return S1;UR=1;var t=qfe(),e=lT(),n=Lr(),r=b6(),i=cT(),s=w6(),a=Object.prototype,o=a.hasOwnProperty;function l(c,h){var d=n(c),m=!d&&e(c),g=!d&&!m&&r(c),x=!d&&!m&&!g&&s(c),y=d||m||g||x,b=y?t(c.length,String):[],w=b.length;for(var _ in c)(h||o.call(c,_))&&!(y&&(_=="length"||g&&(_=="offset"||_=="parent")||x&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,w)))&&b.push(_);return b}return S1=l,S1}var _1,zR;function Zfe(){if(zR)return _1;zR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return _1=e,_1}var A1,VR;function S6(){if(VR)return A1;VR=1;function t(e,n){return function(r){return e(n(r))}}return A1=t,A1}var C1,WR;function Jfe(){if(WR)return C1;WR=1;var t=S6(),e=t(Object.keys,Object);return C1=e,C1}var P1,HR;function epe(){if(HR)return P1;HR=1;var t=Zfe(),e=Jfe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return P1=i,P1}var E1,qR;function Uf(){if(qR)return E1;qR=1;var t=KE(),e=uT();function n(r){return r!=null&&e(r.length)&&!t(r)}return E1=n,E1}var T1,GR;function xy(){if(GR)return T1;GR=1;var t=Qfe(),e=epe(),n=Uf();function r(i){return n(i)?t(i):e(i)}return T1=r,T1}var j1,KR;function tpe(){if(KR)return j1;KR=1;var t=zfe(),e=Hfe(),n=xy();function r(i){return t(i,n,e)}return j1=r,j1}var k1,YR;function npe(){if(YR)return k1;YR=1;var t=tpe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,h){var d=o&e,m=t(s),g=m.length,x=t(a),y=x.length;if(g!=y&&!d)return!1;for(var b=g;b--;){var w=m[b];if(!(d?w in a:r.call(a,w)))return!1}var _=h.get(s),A=h.get(a);if(_&&A)return _==a&&A==s;var j=!0;h.set(s,a),h.set(a,s);for(var P=d;++b<g;){w=m[b];var T=s[w],k=a[w];if(l)var O=d?l(k,T,w,a,s,h):l(T,k,w,s,a,h);if(!(O===void 0?T===k||c(T,k,o,l,h):O)){j=!1;break}P||(P=w=="constructor")}if(j&&!P){var R=s.constructor,F=a.constructor;R!=F&&"constructor"in s&&"constructor"in a&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(j=!1)}return h.delete(s),h.delete(a),j}return k1=i,k1}var N1,XR;function rpe(){if(XR)return N1;XR=1;var t=ml(),e=Ms(),n=t(e,"DataView");return N1=n,N1}var O1,QR;function ipe(){if(QR)return O1;QR=1;var t=ml(),e=Ms(),n=t(e,"Promise");return O1=n,O1}var M1,ZR;function _6(){if(ZR)return M1;ZR=1;var t=ml(),e=Ms(),n=t(e,"Set");return M1=n,M1}var D1,JR;function spe(){if(JR)return D1;JR=1;var t=ml(),e=Ms(),n=t(e,"WeakMap");return D1=n,D1}var R1,eI;function ape(){if(eI)return R1;eI=1;var t=rpe(),e=XE(),n=ipe(),r=_6(),i=spe(),s=da(),a=UV(),o="[object Map]",l="[object Object]",c="[object Promise]",h="[object Set]",d="[object WeakMap]",m="[object DataView]",g=a(t),x=a(e),y=a(n),b=a(r),w=a(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=m||e&&_(new e)!=o||n&&_(n.resolve())!=c||r&&_(new r)!=h||i&&_(new i)!=d)&&(_=function(A){var j=s(A),P=j==l?A.constructor:void 0,T=P?a(P):"";if(T)switch(T){case g:return m;case x:return o;case y:return c;case b:return h;case w:return d}return j}),R1=_,R1}var I1,tI;function ope(){if(tI)return I1;tI=1;var t=f6(),e=v6(),n=Ufe(),r=npe(),i=ape(),s=Lr(),a=b6(),o=w6(),l=1,c="[object Arguments]",h="[object Array]",d="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function x(y,b,w,_,A,j){var P=s(y),T=s(b),k=P?h:i(y),O=T?h:i(b);k=k==c?d:k,O=O==c?d:O;var R=k==d,F=O==d,M=k==O;if(M&&a(y)){if(!a(b))return!1;P=!0,R=!1}if(M&&!R)return j||(j=new t),P||o(y)?e(y,b,w,_,A,j):n(y,b,k,w,_,A,j);if(!(w&l)){var D=R&&g.call(y,"__wrapped__"),$=F&&g.call(b,"__wrapped__");if(D||$){var H=D?y.value():y,q=$?b.value():b;return j||(j=new t),A(H,q,w,_,j)}}return M?(j||(j=new t),r(y,b,w,_,A,j)):!1}return I1=x,I1}var L1,nI;function dT(){if(nI)return L1;nI=1;var t=ope(),e=ha();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return L1=n,L1}var F1,rI;function lpe(){if(rI)return F1;rI=1;var t=f6(),e=dT(),n=1,r=2;function i(s,a,o,l){var c=o.length,h=c,d=!l;if(s==null)return!h;for(s=Object(s);c--;){var m=o[c];if(d&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++c<h;){m=o[c];var g=m[0],x=s[g],y=m[1];if(d&&m[2]){if(x===void 0&&!(g in s))return!1}else{var b=new t;if(l)var w=l(x,y,g,s,a,b);if(!(w===void 0?e(y,x,n|r,l,b):w))return!1}}return!0}return F1=i,F1}var $1,iI;function A6(){if(iI)return $1;iI=1;var t=oo();function e(n){return n===n&&!t(n)}return $1=e,$1}var B1,sI;function cpe(){if(sI)return B1;sI=1;var t=A6(),e=xy();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return B1=n,B1}var U1,aI;function C6(){if(aI)return U1;aI=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return U1=t,U1}var z1,oI;function upe(){if(oI)return z1;oI=1;var t=lpe(),e=cpe(),n=C6();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return z1=r,z1}var V1,lI;function dpe(){if(lI)return V1;lI=1;function t(e,n){return e!=null&&n in Object(e)}return V1=t,V1}var W1,cI;function hpe(){if(cI)return W1;cI=1;var t=WV(),e=lT(),n=Lr(),r=cT(),i=uT(),s=my();function a(o,l,c){l=t(l,o);for(var h=-1,d=l.length,m=!1;++h<d;){var g=s(l[h]);if(!(m=o!=null&&c(o,g)))break;o=o[g]}return m||++h!=d?m:(d=o==null?0:o.length,!!d&&i(d)&&r(g,d)&&(n(o)||e(o)))}return W1=a,W1}var H1,uI;function fpe(){if(uI)return H1;uI=1;var t=dpe(),e=hpe();function n(r,i){return r!=null&&e(r,i,t)}return H1=n,H1}var q1,dI;function ppe(){if(dI)return q1;dI=1;var t=dT(),e=HV(),n=fpe(),r=GE(),i=A6(),s=C6(),a=my(),o=1,l=2;function c(h,d){return r(h)&&i(d)?s(a(h),d):function(m){var g=e(m,h);return g===void 0&&g===d?n(m,h):t(d,g,o|l)}}return q1=c,q1}var G1,hI;function Nu(){if(hI)return G1;hI=1;function t(e){return e}return G1=t,G1}var K1,fI;function mpe(){if(fI)return K1;fI=1;function t(e){return function(n){return n?.[e]}}return K1=t,K1}var Y1,pI;function gpe(){if(pI)return Y1;pI=1;var t=JE();function e(n){return function(r){return t(r,n)}}return Y1=e,Y1}var X1,mI;function vpe(){if(mI)return X1;mI=1;var t=mpe(),e=gpe(),n=GE(),r=my();function i(s){return n(s)?t(r(s)):e(s)}return X1=i,X1}var Q1,gI;function Ds(){if(gI)return Q1;gI=1;var t=upe(),e=ppe(),n=Nu(),r=Lr(),i=vpe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return Q1=s,Q1}var Z1,vI;function P6(){if(vI)return Z1;vI=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return Z1=t,Z1}var J1,yI;function ype(){if(yI)return J1;yI=1;function t(e){return e!==e}return J1=t,J1}var eS,bI;function bpe(){if(bI)return eS;bI=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return eS=t,eS}var tS,xI;function xpe(){if(xI)return tS;xI=1;var t=P6(),e=ype(),n=bpe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return tS=r,tS}var nS,wI;function wpe(){if(wI)return nS;wI=1;var t=xpe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return nS=e,nS}var rS,SI;function Spe(){if(SI)return rS;SI=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return rS=t,rS}var iS,_I;function _pe(){if(_I)return iS;_I=1;function t(){}return iS=t,iS}var sS,AI;function Ape(){if(AI)return sS;AI=1;var t=_6(),e=_pe(),n=oT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return sS=i,sS}var aS,CI;function Cpe(){if(CI)return aS;CI=1;var t=p6(),e=wpe(),n=Spe(),r=g6(),i=Ape(),s=oT(),a=200;function o(l,c,h){var d=-1,m=e,g=l.length,x=!0,y=[],b=y;if(h)x=!1,m=n;else if(g>=a){var w=c?null:i(l);if(w)return s(w);x=!1,m=r,b=new t}else b=c?[]:y;e:for(;++d<g;){var _=l[d],A=c?c(_):_;if(_=h||_!==0?_:0,x&&A===A){for(var j=b.length;j--;)if(b[j]===A)continue e;c&&b.push(A),y.push(_)}else m(b,A,h)||(b!==y&&b.push(A),y.push(_))}return y}return aS=o,aS}var oS,PI;function Ppe(){if(PI)return oS;PI=1;var t=Ds(),e=Cpe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return oS=n,oS}var Epe=Ppe();const EI=gt(Epe);function E6(t,e,n){return e===!0?EI(t,n):qe(e)?EI(t,e):t}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var Tpe=["ref"];function TI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TI(Object(n),!0).forEach(function(r){wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,j6(r.key),r)}}function kpe(t,e,n){return e&&jI(t.prototype,e),n&&jI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Npe(t,e,n){return e=Rg(e),Ope(t,T6()?Reflect.construct(e,n||[],Rg(t).constructor):e.apply(t,n))}function Ope(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mpe(t)}function Mpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T6=function(){return!!t})()}function Rg(t){return Rg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rg(t)}function Dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YA(t,e)}function YA(t,e){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YA(t,e)}function wy(t,e,n){return e=j6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j6(t){var e=Rpe(t,"string");return Hc(e)=="symbol"?e:e+""}function Rpe(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Ipe(t,e){if(t==null)return{};var n=Lpe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fpe(t){return t.value}function $pe(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=Ipe(e,Tpe);return z.createElement(aT,n)}var kI=1,ms=(function(t){function e(){var n;jpe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Npe(this,e,[].concat(i)),wy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Dpe(e,t),kpe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>kI||Math.abs(i.height-this.lastBoundingBox.height)>kI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?qs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,h=i.chartHeight,d,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();m={top:((h||0)-x.height)/2}}else m=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return qs(qs({},d),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,d=qs(qs({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},$pe(s,qs(qs({},this.props),{},{payload:E6(h,c,Fpe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=qs(qs({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ge(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);wy(ms,"displayName","Legend");wy(ms,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var lS,NI;function Bpe(){if(NI)return lS;NI=1;var t=$f(),e=lT(),n=Lr(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return lS=i,lS}var cS,OI;function k6(){if(OI)return cS;OI=1;var t=y6(),e=Bpe();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var h=r[l];i>0&&s(h)?i>1?n(h,i-1,s,a,o):t(o,h):a||(o[o.length]=h)}return o}return cS=n,cS}var uS,MI;function Upe(){if(MI)return uS;MI=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return uS=t,uS}var dS,DI;function zpe(){if(DI)return dS;DI=1;var t=Upe(),e=t();return dS=e,dS}var hS,RI;function N6(){if(RI)return hS;RI=1;var t=zpe(),e=xy();function n(r,i){return r&&t(r,i,e)}return hS=n,hS}var fS,II;function Vpe(){if(II)return fS;II=1;var t=Uf();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return fS=e,fS}var pS,LI;function hT(){if(LI)return pS;LI=1;var t=N6(),e=Vpe(),n=e(t);return pS=n,pS}var mS,FI;function O6(){if(FI)return mS;FI=1;var t=hT(),e=Uf();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return mS=n,mS}var gS,$I;function Wpe(){if($I)return gS;$I=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return gS=t,gS}var vS,BI;function Hpe(){if(BI)return vS;BI=1;var t=Tu();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,h=r===r,d=t(r);if(!c&&!d&&!o&&n>r||o&&l&&h&&!c&&!d||s&&l&&h||!i&&h||!a)return 1;if(!s&&!o&&!d&&n<r||d&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!h)return-1}return 0}return vS=e,vS}var yS,UI;function qpe(){if(UI)return yS;UI=1;var t=Hpe();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var h=t(a[s],o[s]);if(h){if(s>=c)return h;var d=i[s];return h*(d=="desc"?-1:1)}}return n.index-r.index}return yS=e,yS}var bS,zI;function Gpe(){if(zI)return bS;zI=1;var t=ZE(),e=JE(),n=Ds(),r=O6(),i=Wpe(),s=x6(),a=qpe(),o=Nu(),l=Lr();function c(h,d,m){d.length?d=t(d,function(y){return l(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):d=[o];var g=-1;d=t(d,s(n));var x=r(h,function(y,b,w){var _=t(d,function(A){return A(y)});return{criteria:_,index:++g,value:y}});return i(x,function(y,b){return a(y,b,m)})}return bS=c,bS}var xS,VI;function Kpe(){if(VI)return xS;VI=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return xS=t,xS}var wS,WI;function Ype(){if(WI)return wS;WI=1;var t=Kpe(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=a[o];return h[i]=s(c),t(r,this,h)}}return wS=n,wS}var SS,HI;function Xpe(){if(HI)return SS;HI=1;function t(e){return function(){return e}}return SS=t,SS}var _S,qI;function M6(){if(qI)return _S;qI=1;var t=ml(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return _S=e,_S}var AS,GI;function Qpe(){if(GI)return AS;GI=1;var t=Xpe(),e=M6(),n=Nu(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return AS=r,AS}var CS,KI;function Zpe(){if(KI)return CS;KI=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return CS=r,CS}var PS,YI;function Jpe(){if(YI)return PS;YI=1;var t=Qpe(),e=Zpe(),n=e(t);return PS=n,PS}var ES,XI;function eme(){if(XI)return ES;XI=1;var t=Nu(),e=Ype(),n=Jpe();function r(i,s){return n(e(i,s,t),i+"")}return ES=r,ES}var TS,QI;function Sy(){if(QI)return TS;QI=1;var t=YE(),e=Uf(),n=cT(),r=oo();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return TS=i,TS}var jS,ZI;function tme(){if(ZI)return jS;ZI=1;var t=k6(),e=Gpe(),n=eme(),r=Sy(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return jS=i,jS}var nme=tme();const fT=gt(nme);function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XA.apply(this,arguments)}function rme(t,e){return ome(t)||ame(t,e)||sme(t,e)||ime()}function ime(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sme(t,e){if(t){if(typeof t=="string")return JI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JI(t,e)}}function JI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ame(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ome(t){if(Array.isArray(t))return t}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){lme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lme(t,e,n){return e=cme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cme(t){var e=ume(t,"string");return Oh(e)=="symbol"?e:e+""}function ume(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dme(t){return Array.isArray(t)&&En(t[0])&&En(t[1])?t.join(" ~ "):t}var hme=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,h=e.payload,d=e.formatter,m=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,y=e.label,b=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,A=function(){if(h&&h.length){var D={padding:0,margin:0},$=(m?fT(h,m):h).map(function(H,q){if(H.type==="none")return null;var V=kS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),B=H.formatter||d||dme,L=H.value,W=H.name,X=L,U=W;if(B&&X!=null&&U!=null){var K=B(L,W,H,q,h);if(Array.isArray(K)){var Z=rme(K,2);X=Z[0],U=Z[1]}else X=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:V},En(U)?z.createElement("span",{className:"recharts-tooltip-item-name"},U):null,En(U)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},X),z.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},j=kS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=kS({margin:0},c),T=!Ye(y),k=T?y:"",O=Qe("recharts-default-tooltip",g),R=Qe("recharts-tooltip-label",x);T&&b&&h!==void 0&&h!==null&&(k=b(y,h));var F=_?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",XA({className:O,style:j},F),z.createElement("p",{className:R,style:P},z.isValidElement(k)?k:"".concat(k)),A())};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function km(t,e,n){return e=fme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fme(t){var e=pme(t,"string");return Mh(e)=="symbol"?e:e+""}function pme(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nd="recharts-tooltip-wrapper",mme={visibility:"hidden"};function gme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Qe(Nd,km(km(km(km({},"".concat(Nd,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(Nd,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(Nd,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(Nd,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function tL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ge(s[r]))return s[r];var h=n[r]-o-i,d=n[r]+i;if(e[r])return a[r]?h:d;if(a[r]){var m=h,g=l[r];return m<g?Math.max(d,l[r]):Math.max(h,l[r])}var x=d+o,y=l[r]+c;return x>y?Math.max(h,l[r]):Math.max(d,l[r])}function vme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function yme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,h,d;return a.height>0&&a.width>0&&n?(h=tL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=tL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=vme({translateX:h,translateY:d,useTranslate3d:o})):c=mme,{cssProperties:c,cssClasses:gme({translateX:h,translateY:d,coordinate:n})}}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){ZA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R6(r.key),r)}}function wme(t,e,n){return e&&xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sme(t,e,n){return e=Ig(e),_me(t,D6()?Reflect.construct(e,n||[],Ig(t).constructor):e.apply(t,n))}function _me(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ame(t)}function Ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D6=function(){return!!t})()}function Ig(t){return Ig=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ig(t)}function Cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QA(t,e)}function ZA(t,e,n){return e=R6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R6(t){var e=Pme(t,"string");return qc(e)=="symbol"?e:e+""}function Pme(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iL=1,Eme=(function(t){function e(){var n;bme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Sme(this,e,[].concat(i)),ZA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ZA(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return Cme(e,t),wme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>iL||Math.abs(r.height-this.state.lastBoundingBox.height)>iL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,h=i.coordinate,d=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,A=yme({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:g,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),j=A.cssClasses,P=A.cssProperties,T=rL(rL({transition:m&&s?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return z.createElement("div",{tabIndex:-1,className:j,style:T,ref:function(O){r.wrapperNode=O}},c)}}])})(C.PureComponent),Tme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},gl={isSsr:Tme()};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){pT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L6(r.key),r)}}function Nme(t,e,n){return e&&kme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ome(t,e,n){return e=Lg(e),Mme(t,I6()?Reflect.construct(e,n||[],Lg(t).constructor):e.apply(t,n))}function Mme(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(t)}function Dme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I6=function(){return!!t})()}function Lg(t){return Lg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lg(t)}function Rme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JA(t,e)}function pT(t,e,n){return e=L6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L6(t){var e=Ime(t,"string");return Gc(e)=="symbol"?e:e+""}function Ime(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Lme(t){return t.dataKey}function Fme(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(hme,e)}var In=(function(t){function e(){return jme(this,e),Ome(this,e,arguments)}return Rme(e,t),Nme(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,d=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,y=i.payloadUniqBy,b=i.position,w=i.reverseDirection,_=i.useTranslate3d,A=i.viewBox,j=i.wrapperStyle,P=x??[];d&&P.length&&(P=E6(x.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),y,Lme));var T=P.length>0;return z.createElement(Eme,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:m,active:s,coordinate:h,hasPayload:T,offset:g,position:b,reverseDirection:w,useTranslate3d:_,viewBox:A,wrapperStyle:j},Fme(c,aL(aL({},this.props),{},{payload:P})))}}])})(C.PureComponent);pT(In,"displayName","Tooltip");pT(In,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!gl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var NS,oL;function $me(){if(oL)return NS;oL=1;var t=Ms(),e=function(){return t.Date.now()};return NS=e,NS}var OS,lL;function Bme(){if(lL)return OS;lL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return OS=e,OS}var MS,cL;function Ume(){if(cL)return MS;cL=1;var t=Bme(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return MS=n,MS}var DS,uL;function F6(){if(uL)return DS;uL=1;var t=Ume(),e=oo(),n=Tu(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=s.test(c);return d||a.test(c)?o(c.slice(2),d?2:8):i.test(c)?r:+c}return DS=l,DS}var RS,dL;function zme(){if(dL)return RS;dL=1;var t=oo(),e=$me(),n=F6(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var h,d,m,g,x,y,b=0,w=!1,_=!1,A=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,_="maxWait"in c,m=_?i(n(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function j($){var H=h,q=d;return h=d=void 0,b=$,g=o.apply(q,H),g}function P($){return b=$,x=setTimeout(O,l),w?j($):g}function T($){var H=$-y,q=$-b,V=l-H;return _?s(V,m-q):V}function k($){var H=$-y,q=$-b;return y===void 0||H>=l||H<0||_&&q>=m}function O(){var $=e();if(k($))return R($);x=setTimeout(O,T($))}function R($){return x=void 0,A&&h?j($):(h=d=void 0,g)}function F(){x!==void 0&&clearTimeout(x),b=0,h=y=d=x=void 0}function M(){return x===void 0?g:R(e())}function D(){var $=e(),H=k($);if(h=arguments,d=this,y=$,H){if(x===void 0)return P(y);if(_)return clearTimeout(x),x=setTimeout(O,l),j(y)}return x===void 0&&(x=setTimeout(O,l)),g}return D.cancel=F,D.flush=M,D}return RS=a,RS}var IS,hL;function Vme(){if(hL)return IS;hL=1;var t=zme(),e=oo(),n="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return IS=r,IS}var Wme=Vme();const $6=gt(Wme);function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function fL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fL(Object(n),!0).forEach(function(r){Hme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hme(t,e,n){return e=qme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qme(t){var e=Gme(t,"string");return Dh(e)=="symbol"?e:e+""}function Gme(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kme(t,e){return Zme(t)||Qme(t,e)||Xme(t,e)||Yme()}function Yme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xme(t,e){if(t){if(typeof t=="string")return pL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(t,e)}}function pL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Zme(t){if(Array.isArray(t))return t}var Xs=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,h=c===void 0?0:c,d=t.minHeight,m=t.maxHeight,g=t.children,x=t.debounce,y=x===void 0?0:x,b=t.id,w=t.className,_=t.onResize,A=t.style,j=A===void 0?{}:A,P=C.useRef(null),T=C.useRef();T.current=_,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=C.useState({containerWidth:i.width,containerHeight:i.height}),O=Kme(k,2),R=O[0],F=O[1],M=C.useCallback(function($,H){F(function(q){var V=Math.round($),B=Math.round(H);return q.containerWidth===V&&q.containerHeight===B?q:{containerWidth:V,containerHeight:B}})},[]);C.useEffect(function(){var $=function(W){var X,U=W[0].contentRect,K=U.width,Z=U.height;M(K,Z),(X=T.current)===null||X===void 0||X.call(T,K,Z)};y>0&&($=$6($,y,{trailing:!0,leading:!1}));var H=new ResizeObserver($),q=P.current.getBoundingClientRect(),V=q.width,B=q.height;return M(V,B),H.observe(P.current),function(){H.disconnect()}},[M,y]);var D=C.useMemo(function(){var $=R.containerWidth,H=R.containerHeight;if($<0||H<0)return null;Yi(Vo(a)||Vo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var q=Vo(a)?$:a,V=Vo(l)?H:l;n&&n>0&&(q?V=q/n:V&&(q=V*n),m&&V>m&&(V=m)),Yi(q>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,V,a,l,h,d,n);var B=!Array.isArray(g)&&ea(g.type).endsWith("Chart");return z.Children.map(g,function(L){return z.isValidElement(L)?C.cloneElement(L,Nm({width:q,height:V},B?{style:Nm({height:"100%",width:"100%",maxHeight:V,maxWidth:q},L.props.style)}:{})):L})},[n,g,l,m,d,h,R,a]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Qe("recharts-responsive-container",w),style:Nm(Nm({},j),{},{width:a,height:l,minWidth:h,minHeight:d,maxHeight:m}),ref:P},D)}),Yo=function(e){return null};Yo.displayName="Cell";function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){Jme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jme(t,e,n){return e=ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ege(t){var e=tge(t,"string");return Rh(e)=="symbol"?e:e+""}function tge(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zl={widthCache:{},cacheCount:0},nge=2e3,rge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},gL="recharts_measurement_span";function ige(t){var e=eC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var rh=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||gl.isSsr)return{width:0,height:0};var r=ige(n),i=JSON.stringify({text:e,copyStyle:r});if(Zl.widthCache[i])return Zl.widthCache[i];try{var s=document.getElementById(gL);s||(s=document.createElement("span"),s.setAttribute("id",gL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=eC(eC({},rge),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Zl.widthCache[i]=l,++Zl.cacheCount>nge&&(Zl.cacheCount=0,Zl.widthCache={}),l}catch{return{width:0,height:0}}},sge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function Fg(t,e){return cge(t)||lge(t,e)||oge(t,e)||age()}function age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oge(t,e){if(t){if(typeof t=="string")return vL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vL(t,e)}}function vL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function cge(t){if(Array.isArray(t))return t}function uge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hge(r.key),r)}}function dge(t,e,n){return e&&yL(t.prototype,e),n&&yL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hge(t){var e=fge(t,"string");return Ih(e)=="symbol"?e:e+""}function fge(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,B6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},gge=Object.keys(B6),fc="NaN";function vge(t,e){return t*B6[e]}var Om=(function(){function t(e,n){uge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!pge.test(n)&&(this.num=NaN,this.unit=""),gge.includes(n)&&(this.num=vge(e,n),this.unit="px")}return dge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=mge.exec(n))!==null&&r!==void 0?r:[],s=Fg(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function U6(t){if(t.includes(fc))return fc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=bL.exec(e))!==null&&n!==void 0?n:[],i=Fg(r,4),s=i[1],a=i[2],o=i[3],l=Om.parse(s??""),c=Om.parse(o??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return fc;e=e.replace(bL,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,m=(d=xL.exec(e))!==null&&d!==void 0?d:[],g=Fg(m,4),x=g[1],y=g[2],b=g[3],w=Om.parse(x??""),_=Om.parse(b??""),A=y==="+"?w.add(_):w.subtract(_);if(A.isNaN())return fc;e=e.replace(xL,A.toString())}return e}var wL=/\(([^()]*)\)/;function yge(t){for(var e=t;e.includes("(");){var n=wL.exec(e),r=Fg(n,2),i=r[1];e=e.replace(wL,U6(i))}return e}function bge(t){var e=t.replace(/\s+/g,"");return e=yge(e),e=U6(e),e}function xge(t){try{return bge(t)}catch{return fc}}function LS(t){var e=xge(t.slice(5,-1));return e===fc?"":e}var wge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Sge=["dx","dy","angle","className","breakAll"];function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(this,arguments)}function SL(t,e){if(t==null)return{};var n=_ge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _ge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _L(t,e){return Ege(t)||Pge(t,e)||Cge(t,e)||Age()}function Age(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cge(t,e){if(t){if(typeof t=="string")return AL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AL(t,e)}}function AL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ege(t){if(Array.isArray(t))return t}var z6=/[ \f\n\r\t\v\u2028\u2029]+/,V6=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Ye(n)||(r?s=n.toString().split(""):s=n.toString().split(z6));var a=s.map(function(l){return{word:l,width:rh(l,i).width}}),o=r?0:rh("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Tge=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,h=ge(a),d=o,m=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(V,B){var L=B.word,W=B.width,X=V[V.length-1];if(X&&(i==null||s||X.width+W+r<Number(i)))X.words.push(L),X.width+=W+r;else{var U={words:[L],width:W};V.push(U)}return V},[])},g=m(n),x=function(q){return q.reduce(function(V,B){return V.width>B.width?V:B})};if(!h)return g;for(var y="",b=function(q){var V=d.slice(0,q),B=V6({breakAll:c,style:l,children:V+y}).wordsWithComputedWidth,L=m(B),W=L.length>a||x(L).width>Number(i);return[W,L]},w=0,_=d.length-1,A=0,j;w<=_&&A<=d.length-1;){var P=Math.floor((w+_)/2),T=P-1,k=b(T),O=_L(k,2),R=O[0],F=O[1],M=b(P),D=_L(M,1),$=D[0];if(!R&&!$&&(w=P+1),R&&$&&(_=P-1),!R&&$){j=F;break}A++}return j||g},CL=function(e){var n=Ye(e)?[]:e.toString().split(z6);return[{words:n}]},jge=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!gl.isSsr){var l,c,h=V6({breakAll:a,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,m=h.spaceWidth;l=d,c=m}else return CL(i);return Tge({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return CL(i)},PL="#808080",ll=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,h=e.scaleToFit,d=h===void 0?!1:h,m=e.textAnchor,g=m===void 0?"start":m,x=e.verticalAnchor,y=x===void 0?"end":x,b=e.fill,w=b===void 0?PL:b,_=SL(e,wge),A=C.useMemo(function(){return jge({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),j=_.dx,P=_.dy,T=_.angle,k=_.className,O=_.breakAll,R=SL(_,Sge);if(!En(r)||!En(s))return null;var F=r+(ge(j)?j:0),M=s+(ge(P)?P:0),D;switch(y){case"start":D=LS("calc(".concat(c,")"));break;case"middle":D=LS("calc(".concat((A.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:D=LS("calc(".concat(A.length-1," * -").concat(o,")"));break}var $=[];if(d){var H=A[0].width,q=_.width;$.push("scale(".concat((ge(q)?q/H:1)/H,")"))}return T&&$.push("rotate(".concat(T,", ").concat(F,", ").concat(M,")")),$.length&&(R.transform=$.join(" ")),z.createElement("text",tC({},$e(R,!0),{x:F,y:M,className:Qe("recharts-text",k),textAnchor:g,fill:w.includes("url")?PL:w}),A.map(function(V,B){var L=V.words.join(O?"":" ");return z.createElement("tspan",{x:F,dy:B===0?D:o,key:"".concat(L,"-").concat(B)},L)}))};function Xa(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kge(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mT(t){let e,n,r;t.length!==2?(e=Xa,n=(o,l)=>Xa(t(o),l),r=(o,l)=>t(o)-l):(e=t===Xa||t===kge?t:Nge,n=t,r=t);function i(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<0?c=d+1:h=d}while(c<h)}return c}function s(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function a(o,l,c=0,h=o.length){const d=i(o,l,c,h-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function Nge(){return 0}function W6(t){return t===null?NaN:+t}function*Oge(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Mge=mT(Xa),zf=Mge.right;mT(W6).center;class EL extends Map{constructor(e,n=Ige){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(TL(this,e))}has(e){return super.has(TL(this,e))}set(e,n){return super.set(Dge(this,e),n)}delete(e){return super.delete(Rge(this,e))}}function TL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Dge({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Rge({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Ige(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Lge(t=Xa){if(t===Xa)return H6;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function H6(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Fge=Math.sqrt(50),$ge=Math.sqrt(10),Bge=Math.sqrt(2);function $g(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Fge?10:s>=$ge?5:s>=Bge?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?$g(t,e,n*2):[o,l,c]}function nC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?$g(e,t,n):$g(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function rC(t,e,n){return e=+e,t=+t,n=+n,$g(t,e,n)[2]}function iC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rC(e,t,n):rC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function jL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function kL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function q6(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?H6:Lge(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+m)),x=Math.min(r,Math.floor(e+(l-c)*d/l+m));q6(t,e,g,x,i)}const s=t[e];let a=n,o=r;for(Od(t,n,e),i(t[r],s)>0&&Od(t,n,r);a<o;){for(Od(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Od(t,n,o):(++o,Od(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Od(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Uge(t,e,n){if(t=Float64Array.from(Oge(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return kL(t);if(e>=1)return jL(t);var r,i=(r-1)*e,s=Math.floor(i),a=jL(q6(t,s).subarray(0,s+1)),o=kL(t.subarray(s+1));return a+(o-a)*(i-s)}}function zge(t,e,n=W6){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Vge(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Di(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function fa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sC=Symbol("implicit");function gT(){var t=new EL,e=[],n=[],r=sC;function i(s){let a=t.get(s);if(a===void 0){if(r!==sC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new EL;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gT(e,n).unknown(r)},Di.apply(i,arguments),i}function Lh(){var t=gT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,h=.5;delete t.unknown;function d(){var m=e().length,g=i<r,x=g?i:r,y=g?r:i;s=(y-x)/Math.max(1,m-l+c*2),o&&(s=Math.floor(s)),x+=(y-x-s*(m-l))*h,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var b=Vge(m).map(function(w){return x+s*w});return n(g?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),d()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(o=!!m,d()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),d()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),d()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,d()):c},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),d()):h},t.copy=function(){return Lh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(h)},Di.apply(d(),arguments)}function G6(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return G6(e())},t}function ih(){return G6(Lh.apply(null,arguments).paddingInner(1))}function vT(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function K6(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vf(){}var Fh=.7,Bg=1/Fh,Ec="\\s*([+-]?\\d+)\\s*",$h="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Wge=/^#([0-9a-f]{3,8})$/,Hge=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),qge=new RegExp(`^rgb\\(${_s},${_s},${_s}\\)$`),Gge=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${$h}\\)$`),Kge=new RegExp(`^rgba\\(${_s},${_s},${_s},${$h}\\)$`),Yge=new RegExp(`^hsl\\(${$h},${_s},${_s}\\)$`),Xge=new RegExp(`^hsla\\(${$h},${_s},${_s},${$h}\\)$`),NL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vT(Vf,Bh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OL,formatHex:OL,formatHex8:Qge,formatHsl:Zge,formatRgb:ML,toString:ML});function OL(){return this.rgb().formatHex()}function Qge(){return this.rgb().formatHex8()}function Zge(){return Y6(this).formatHsl()}function ML(){return this.rgb().formatRgb()}function Bh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Wge.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?DL(e):n===3?new Ir(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Mm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Mm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Hge.exec(t))?new Ir(e[1],e[2],e[3],1):(e=qge.exec(t))?new Ir(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Gge.exec(t))?Mm(e[1],e[2],e[3],e[4]):(e=Kge.exec(t))?Mm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Yge.exec(t))?LL(e[1],e[2]/100,e[3]/100,1):(e=Xge.exec(t))?LL(e[1],e[2]/100,e[3]/100,e[4]):NL.hasOwnProperty(t)?DL(NL[t]):t==="transparent"?new Ir(NaN,NaN,NaN,0):null}function DL(t){return new Ir(t>>16&255,t>>8&255,t&255,1)}function Mm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ir(t,e,n,r)}function Jge(t){return t instanceof Vf||(t=Bh(t)),t?(t=t.rgb(),new Ir(t.r,t.g,t.b,t.opacity)):new Ir}function aC(t,e,n,r){return arguments.length===1?Jge(t):new Ir(t,e,n,r??1)}function Ir(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vT(Ir,aC,K6(Vf,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new Ir(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ir(Xo(this.r),Xo(this.g),Xo(this.b),Ug(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:RL,formatHex:RL,formatHex8:eve,formatRgb:IL,toString:IL}));function RL(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}`}function eve(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}${Wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function IL(){const t=Ug(this.opacity);return`${t===1?"rgb(":"rgba("}${Xo(this.r)}, ${Xo(this.g)}, ${Xo(this.b)}${t===1?")":`, ${t})`}`}function Ug(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Xo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wo(t){return t=Xo(t),(t<16?"0":"")+t.toString(16)}function LL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Gi(t,e,n,r)}function Y6(t){if(t instanceof Gi)return new Gi(t.h,t.s,t.l,t.opacity);if(t instanceof Vf||(t=Bh(t)),!t)return new Gi;if(t instanceof Gi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Gi(a,o,l,t.opacity)}function tve(t,e,n,r){return arguments.length===1?Y6(t):new Gi(t,e,n,r??1)}function Gi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vT(Gi,tve,K6(Vf,{brighter(t){return t=t==null?Bg:Math.pow(Bg,t),new Gi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Fh:Math.pow(Fh,t),new Gi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ir(FS(t>=240?t-240:t+120,i,r),FS(t,i,r),FS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Gi(FL(this.h),Dm(this.s),Dm(this.l),Ug(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ug(this.opacity);return`${t===1?"hsl(":"hsla("}${FL(this.h)}, ${Dm(this.s)*100}%, ${Dm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function FL(t){return t=(t||0)%360,t<0?t+360:t}function Dm(t){return Math.max(0,Math.min(1,t||0))}function FS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yT=t=>()=>t;function nve(t,e){return function(n){return t+n*e}}function rve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function ive(t){return(t=+t)==1?X6:function(e,n){return n-e?rve(e,n,t):yT(isNaN(e)?n:e)}}function X6(t,e){var n=e-t;return n?nve(t,n):yT(isNaN(t)?e:t)}const $L=(function t(e){var n=ive(e);function r(i,s){var a=n((i=aC(i)).r,(s=aC(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=X6(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r})(1);function sve(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function ave(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ove(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Ou(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function lve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cve(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ou(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var oC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,$S=new RegExp(oC.source,"g");function uve(t){return function(){return t}}function dve(t){return function(e){return t(e)+""}}function hve(t,e){var n=oC.lastIndex=$S.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=oC.exec(t))&&(i=$S.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:zg(r,i)})),n=$S.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?dve(l[0].x):uve(e):(e=l.length,function(c){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(c);return o.join("")})}function Ou(t,e){var n=typeof e,r;return e==null||n==="boolean"?yT(e):(n==="number"?zg:n==="string"?(r=Bh(e))?(e=r,$L):hve:e instanceof Bh?$L:e instanceof Date?lve:ave(e)?sve:Array.isArray(e)?ove:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cve:zg)(t,e)}function bT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function fve(t,e){e===void 0&&(e=t,t=Ou);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function pve(t){return function(){return t}}function Vg(t){return+t}var BL=[0,1];function xr(t){return t}function lC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pve(isNaN(e)?NaN:.5)}function mve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gve(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=lC(i,r),s=n(a,s)):(r=lC(r,i),s=n(s,a)),function(o){return s(r(o))}}function vve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=lC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=zf(t,o,1,r)-1;return s[l](i[l](o))}}function Wf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _y(){var t=BL,e=BL,n=Ou,r,i,s,a=xr,o,l,c;function h(){var m=Math.min(t.length,e.length);return a!==xr&&(a=mve(t[0],t[m-1])),o=m>2?vve:gve,l=c=null,d}function d(m){return m==null||isNaN(m=+m)?s:(l||(l=o(t.map(r),e,n)))(r(a(m)))}return d.invert=function(m){return a(i((c||(c=o(e,t.map(r),zg)))(m)))},d.domain=function(m){return arguments.length?(t=Array.from(m,Vg),h()):t.slice()},d.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},d.rangeRound=function(m){return e=Array.from(m),n=bT,h()},d.clamp=function(m){return arguments.length?(a=m?!0:xr,h()):a!==xr},d.interpolate=function(m){return arguments.length?(n=m,h()):n},d.unknown=function(m){return arguments.length?(s=m,d):s},function(m,g){return r=m,i=g,h()}}function xT(){return _y()(xr,xr)}function yve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Kc(t){return t=Wg(Math.abs(t)),t?t[1]:NaN}function bve(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function xve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var wve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uh(t){if(!(e=wve.exec(t)))throw new Error("invalid format: "+t);var e;return new wT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uh.prototype=wT.prototype;function wT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Sve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Q6;function _ve(t,e){var n=Wg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Q6=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Wg(t,Math.max(0,e+s-1))[0]}function UL(t,e){var n=Wg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const zL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UL(t*100,e),r:UL,s:_ve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function VL(t){return t}var WL=Array.prototype.map,HL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ave(t){var e=t.grouping===void 0||t.thousands===void 0?VL:bve(WL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?VL:xve(WL.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Uh(d);var m=d.fill,g=d.align,x=d.sign,y=d.symbol,b=d.zero,w=d.width,_=d.comma,A=d.precision,j=d.trim,P=d.type;P==="n"?(_=!0,P="g"):zL[P]||(A===void 0&&(A=12),j=!0,P="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=y==="$"?r:/[%p]/.test(P)?a:"",O=zL[P],R=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function F(M){var D=T,$=k,H,q,V;if(P==="c")$=O(M)+$,M="";else{M=+M;var B=M<0||1/M<0;if(M=isNaN(M)?l:O(Math.abs(M),A),j&&(M=Sve(M)),B&&+M==0&&x!=="+"&&(B=!1),D=(B?x==="("?x:o:x==="-"||x==="("?"":x)+D,$=(P==="s"?HL[8+Q6/3]:"")+$+(B&&x==="("?")":""),R){for(H=-1,q=M.length;++H<q;)if(V=M.charCodeAt(H),48>V||V>57){$=(V===46?i+M.slice(H+1):M.slice(H))+$,M=M.slice(0,H);break}}}_&&!b&&(M=e(M,1/0));var L=D.length+M.length+$.length,W=L<w?new Array(w-L+1).join(m):"";switch(_&&b&&(M=e(W+M,W.length?w-$.length:1/0),W=""),g){case"<":M=D+M+$+W;break;case"=":M=D+W+M+$;break;case"^":M=W.slice(0,L=W.length>>1)+D+M+$+W.slice(L);break;default:M=W+D+M+$;break}return s(M)}return F.toString=function(){return d+""},F}function h(d,m){var g=c((d=Uh(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(Kc(m)/3)))*3,y=Math.pow(10,-x),b=HL[8+x/3];return function(w){return g(y*w)+b}}return{format:c,formatPrefix:h}}var Rm,ST,Z6;Cve({thousands:",",grouping:[3],currency:["$",""]});function Cve(t){return Rm=Ave(t),ST=Rm.format,Z6=Rm.formatPrefix,Rm}function Pve(t){return Math.max(0,-Kc(Math.abs(t)))}function Eve(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Kc(e)/3)))*3-Kc(Math.abs(t)))}function Tve(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Kc(e)-Kc(t))+1}function J6(t,e,n,r){var i=iC(t,e,n),s;switch(r=Uh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Eve(i,a))&&(r.precision=s),Z6(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Tve(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Pve(i))&&(r.precision=s-(r.type==="%")*2);break}}return ST(r)}function lo(t){var e=t.domain;return t.ticks=function(n){var r=e();return nC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return J6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,h=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);h-- >0;){if(c=rC(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Hg(){var t=xT();return t.copy=function(){return Wf(t,Hg())},Di.apply(t,arguments),lo(t)}function eW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Vg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return eW(t).unknown(e)},t=arguments.length?Array.from(t,Vg):[0,1],lo(n)}function tW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function qL(t){return Math.log(t)}function GL(t){return Math.exp(t)}function jve(t){return-Math.log(-t)}function kve(t){return-Math.exp(-t)}function Nve(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ove(t){return t===10?Nve:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Mve(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function KL(t){return(e,n)=>-t(-e,n)}function _T(t){const e=t(qL,GL),n=e.domain;let r=10,i,s;function a(){return i=Mve(r),s=Ove(r),n()[0]<0?(i=KL(i),s=KL(s),t(jve,kve)):t(qL,GL),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let m=i(c),g=i(h),x,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(x=1;x<r;++x)if(y=m<0?x/s(-m):x*s(m),!(y<c)){if(y>h)break;w.push(y)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(y=m>0?x/s(-m):x*s(m),!(y<c)){if(y>h)break;w.push(y)}w.length*2<b&&(w=nC(c,h,b))}else w=nC(m,g,Math.min(g-m,b)).map(s);return d?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Uh(l)).precision==null&&(l.trim=!0),l=ST(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?l(h):""}},e.nice=()=>n(tW(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function nW(){const t=_T(_y()).domain([1,10]);return t.copy=()=>Wf(t,nW()).base(t.base()),Di.apply(t,arguments),t}function YL(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function XL(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AT(t){var e=1,n=t(YL(e),XL(e));return n.constant=function(r){return arguments.length?t(YL(e=+r),XL(e)):e},lo(n)}function rW(){var t=AT(_y());return t.copy=function(){return Wf(t,rW()).constant(t.constant())},Di.apply(t,arguments)}function QL(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Dve(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Rve(t){return t<0?-t*t:t*t}function CT(t){var e=t(xr,xr),n=1;function r(){return n===1?t(xr,xr):n===.5?t(Dve,Rve):t(QL(n),QL(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},lo(e)}function PT(){var t=CT(_y());return t.copy=function(){return Wf(t,PT()).exponent(t.exponent())},Di.apply(t,arguments),t}function Ive(){return PT.apply(null,arguments).exponent(.5)}function ZL(t){return Math.sign(t)*t*t}function Lve(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function iW(){var t=xT(),e=[0,1],n=!1,r;function i(s){var a=Lve(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(ZL(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Vg)).map(ZL)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return iW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Di.apply(i,arguments),lo(i)}function sW(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=zge(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[zf(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Xa),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return sW().domain(t).range(e).unknown(r)},Di.apply(s,arguments)}function aW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[zf(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return aW().domain([t,e]).range(i).unknown(s)},Di.apply(lo(a),arguments)}function oW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[zf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return oW().domain(t).range(e).unknown(n)},Di.apply(i,arguments)}const BS=new Date,US=new Date;function Tn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Tn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(BS.setTime(+s),US.setTime(+a),t(BS),t(US),Math.floor(n(BS,US))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const qg=Tn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qg);qg.range;const Qs=1e3,_i=Qs*60,Zs=_i*60,la=Zs*24,ET=la*7,JL=la*30,zS=la*365,Ho=Tn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Qs)},(t,e)=>(e-t)/Qs,t=>t.getUTCSeconds());Ho.range;const TT=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qs)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getMinutes());TT.range;const jT=Tn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*_i)},(t,e)=>(e-t)/_i,t=>t.getUTCMinutes());jT.range;const kT=Tn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Qs-t.getMinutes()*_i)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getHours());kT.range;const NT=Tn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Zs)},(t,e)=>(e-t)/Zs,t=>t.getUTCHours());NT.range;const Hf=Tn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*_i)/la,t=>t.getDate()-1);Hf.range;const Ay=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/la,t=>t.getUTCDate()-1);Ay.range;const lW=Tn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/la,t=>Math.floor(t/la));lW.range;function vl(t){return Tn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*_i)/ET)}const Cy=vl(0),Gg=vl(1),Fve=vl(2),$ve=vl(3),Yc=vl(4),Bve=vl(5),Uve=vl(6);Cy.range;Gg.range;Fve.range;$ve.range;Yc.range;Bve.range;Uve.range;function yl(t){return Tn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/ET)}const Py=yl(0),Kg=yl(1),zve=yl(2),Vve=yl(3),Xc=yl(4),Wve=yl(5),Hve=yl(6);Py.range;Kg.range;zve.range;Vve.range;Xc.range;Wve.range;Hve.range;const OT=Tn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());OT.range;const MT=Tn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());MT.range;const ca=Tn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ca.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ca.range;const ua=Tn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ua.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});ua.range;function cW(t,e,n,r,i,s){const a=[[Ho,1,Qs],[Ho,5,5*Qs],[Ho,15,15*Qs],[Ho,30,30*Qs],[s,1,_i],[s,5,5*_i],[s,15,15*_i],[s,30,30*_i],[i,1,Zs],[i,3,3*Zs],[i,6,6*Zs],[i,12,12*Zs],[r,1,la],[r,2,2*la],[n,1,ET],[e,1,JL],[e,3,3*JL],[t,1,zS]];function o(c,h,d){const m=h<c;m&&([c,h]=[h,c]);const g=d&&typeof d.range=="function"?d:l(c,h,d),x=g?g.range(c,+h+1):[];return m?x.reverse():x}function l(c,h,d){const m=Math.abs(h-c)/d,g=mT(([,,b])=>b).right(a,m);if(g===a.length)return t.every(iC(c/zS,h/zS,d));if(g===0)return qg.every(Math.max(iC(c,h,d),1));const[x,y]=a[m/a[g-1][2]<a[g][2]/m?g-1:g];return x.every(y)}return[o,l]}const[qve,Gve]=cW(ua,MT,Py,lW,NT,jT),[Kve,Yve]=cW(ca,OT,Cy,Hf,kT,TT);function VS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function WS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Md(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Xve(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Dd(i),h=Rd(i),d=Dd(s),m=Rd(s),g=Dd(a),x=Rd(a),y=Dd(o),b=Rd(o),w=Dd(l),_=Rd(l),A={a:B,A:L,b:W,B:X,c:null,d:sF,e:sF,f:bye,g:jye,G:Nye,H:gye,I:vye,j:yye,L:uW,m:xye,M:wye,p:U,q:K,Q:lF,s:cF,S:Sye,u:_ye,U:Aye,V:Cye,w:Pye,W:Eye,x:null,X:null,y:Tye,Y:kye,Z:Oye,"%":oF},j={a:Z,A:ae,b:ce,B:pe,c:null,d:aF,e:aF,f:Iye,g:qye,G:Kye,H:Mye,I:Dye,j:Rye,L:hW,m:Lye,M:Fye,p:re,q:ee,Q:lF,s:cF,S:$ye,u:Bye,U:Uye,V:zye,w:Vye,W:Wye,x:null,X:null,y:Hye,Y:Gye,Z:Yye,"%":oF},P={a:F,A:M,b:D,B:$,c:H,d:rF,e:rF,f:hye,g:nF,G:tF,H:iF,I:iF,j:lye,L:dye,m:oye,M:cye,p:R,q:aye,Q:pye,s:mye,S:uye,u:tye,U:nye,V:rye,w:eye,W:iye,x:q,X:V,y:nF,Y:tF,Z:sye,"%":fye};A.x=T(n,A),A.X=T(r,A),A.c=T(e,A),j.x=T(n,j),j.X=T(r,j),j.c=T(e,j);function T(te,le){return function(he){var se=[],We=-1,Re=0,wt=te.length,vt,St,_r;for(he instanceof Date||(he=new Date(+he));++We<wt;)te.charCodeAt(We)===37&&(se.push(te.slice(Re,We)),(St=eF[vt=te.charAt(++We)])!=null?vt=te.charAt(++We):St=vt==="e"?" ":"0",(_r=le[vt])&&(vt=_r(he,St)),se.push(vt),Re=We+1);return se.push(te.slice(Re,We)),se.join("")}}function k(te,le){return function(he){var se=Md(1900,void 0,1),We=O(se,te,he+="",0),Re,wt;if(We!=he.length)return null;if("Q"in se)return new Date(se.Q);if("s"in se)return new Date(se.s*1e3+("L"in se?se.L:0));if(le&&!("Z"in se)&&(se.Z=0),"p"in se&&(se.H=se.H%12+se.p*12),se.m===void 0&&(se.m="q"in se?se.q:0),"V"in se){if(se.V<1||se.V>53)return null;"w"in se||(se.w=1),"Z"in se?(Re=WS(Md(se.y,0,1)),wt=Re.getUTCDay(),Re=wt>4||wt===0?Kg.ceil(Re):Kg(Re),Re=Ay.offset(Re,(se.V-1)*7),se.y=Re.getUTCFullYear(),se.m=Re.getUTCMonth(),se.d=Re.getUTCDate()+(se.w+6)%7):(Re=VS(Md(se.y,0,1)),wt=Re.getDay(),Re=wt>4||wt===0?Gg.ceil(Re):Gg(Re),Re=Hf.offset(Re,(se.V-1)*7),se.y=Re.getFullYear(),se.m=Re.getMonth(),se.d=Re.getDate()+(se.w+6)%7)}else("W"in se||"U"in se)&&("w"in se||(se.w="u"in se?se.u%7:"W"in se?1:0),wt="Z"in se?WS(Md(se.y,0,1)).getUTCDay():VS(Md(se.y,0,1)).getDay(),se.m=0,se.d="W"in se?(se.w+6)%7+se.W*7-(wt+5)%7:se.w+se.U*7-(wt+6)%7);return"Z"in se?(se.H+=se.Z/100|0,se.M+=se.Z%100,WS(se)):VS(se)}}function O(te,le,he,se){for(var We=0,Re=le.length,wt=he.length,vt,St;We<Re;){if(se>=wt)return-1;if(vt=le.charCodeAt(We++),vt===37){if(vt=le.charAt(We++),St=P[vt in eF?le.charAt(We++):vt],!St||(se=St(te,he,se))<0)return-1}else if(vt!=he.charCodeAt(se++))return-1}return se}function R(te,le,he){var se=c.exec(le.slice(he));return se?(te.p=h.get(se[0].toLowerCase()),he+se[0].length):-1}function F(te,le,he){var se=g.exec(le.slice(he));return se?(te.w=x.get(se[0].toLowerCase()),he+se[0].length):-1}function M(te,le,he){var se=d.exec(le.slice(he));return se?(te.w=m.get(se[0].toLowerCase()),he+se[0].length):-1}function D(te,le,he){var se=w.exec(le.slice(he));return se?(te.m=_.get(se[0].toLowerCase()),he+se[0].length):-1}function $(te,le,he){var se=y.exec(le.slice(he));return se?(te.m=b.get(se[0].toLowerCase()),he+se[0].length):-1}function H(te,le,he){return O(te,e,le,he)}function q(te,le,he){return O(te,n,le,he)}function V(te,le,he){return O(te,r,le,he)}function B(te){return a[te.getDay()]}function L(te){return s[te.getDay()]}function W(te){return l[te.getMonth()]}function X(te){return o[te.getMonth()]}function U(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function Z(te){return a[te.getUTCDay()]}function ae(te){return s[te.getUTCDay()]}function ce(te){return l[te.getUTCMonth()]}function pe(te){return o[te.getUTCMonth()]}function re(te){return i[+(te.getUTCHours()>=12)]}function ee(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var le=T(te+="",A);return le.toString=function(){return te},le},parse:function(te){var le=k(te+="",!1);return le.toString=function(){return te},le},utcFormat:function(te){var le=T(te+="",j);return le.toString=function(){return te},le},utcParse:function(te){var le=k(te+="",!0);return le.toString=function(){return te},le}}}var eF={"-":"",_:" ",0:"0"},Vn=/^\s*\d+/,Qve=/^%/,Zve=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Jve(t){return t.replace(Zve,"\\$&")}function Dd(t){return new RegExp("^(?:"+t.map(Jve).join("|")+")","i")}function Rd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eye(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tye(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function tF(t,e,n){var r=Vn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function nF(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aye(t,e,n){var r=Vn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function rF(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lye(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function iF(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uye(t,e,n){var r=Vn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function dye(t,e,n){var r=Vn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function hye(t,e,n){var r=Vn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function fye(t,e,n){var r=Qve.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pye(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mye(t,e,n){var r=Vn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function sF(t,e){return dt(t.getDate(),e,2)}function gye(t,e){return dt(t.getHours(),e,2)}function vye(t,e){return dt(t.getHours()%12||12,e,2)}function yye(t,e){return dt(1+Hf.count(ca(t),t),e,3)}function uW(t,e){return dt(t.getMilliseconds(),e,3)}function bye(t,e){return uW(t,e)+"000"}function xye(t,e){return dt(t.getMonth()+1,e,2)}function wye(t,e){return dt(t.getMinutes(),e,2)}function Sye(t,e){return dt(t.getSeconds(),e,2)}function _ye(t){var e=t.getDay();return e===0?7:e}function Aye(t,e){return dt(Cy.count(ca(t)-1,t),e,2)}function dW(t){var e=t.getDay();return e>=4||e===0?Yc(t):Yc.ceil(t)}function Cye(t,e){return t=dW(t),dt(Yc.count(ca(t),t)+(ca(t).getDay()===4),e,2)}function Pye(t){return t.getDay()}function Eye(t,e){return dt(Gg.count(ca(t)-1,t),e,2)}function Tye(t,e){return dt(t.getFullYear()%100,e,2)}function jye(t,e){return t=dW(t),dt(t.getFullYear()%100,e,2)}function kye(t,e){return dt(t.getFullYear()%1e4,e,4)}function Nye(t,e){var n=t.getDay();return t=n>=4||n===0?Yc(t):Yc.ceil(t),dt(t.getFullYear()%1e4,e,4)}function Oye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function aF(t,e){return dt(t.getUTCDate(),e,2)}function Mye(t,e){return dt(t.getUTCHours(),e,2)}function Dye(t,e){return dt(t.getUTCHours()%12||12,e,2)}function Rye(t,e){return dt(1+Ay.count(ua(t),t),e,3)}function hW(t,e){return dt(t.getUTCMilliseconds(),e,3)}function Iye(t,e){return hW(t,e)+"000"}function Lye(t,e){return dt(t.getUTCMonth()+1,e,2)}function Fye(t,e){return dt(t.getUTCMinutes(),e,2)}function $ye(t,e){return dt(t.getUTCSeconds(),e,2)}function Bye(t){var e=t.getUTCDay();return e===0?7:e}function Uye(t,e){return dt(Py.count(ua(t)-1,t),e,2)}function fW(t){var e=t.getUTCDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function zye(t,e){return t=fW(t),dt(Xc.count(ua(t),t)+(ua(t).getUTCDay()===4),e,2)}function Vye(t){return t.getUTCDay()}function Wye(t,e){return dt(Kg.count(ua(t)-1,t),e,2)}function Hye(t,e){return dt(t.getUTCFullYear()%100,e,2)}function qye(t,e){return t=fW(t),dt(t.getUTCFullYear()%100,e,2)}function Gye(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function Kye(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Xc(t):Xc.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Yye(){return"+0000"}function oF(){return"%"}function lF(t){return+t}function cF(t){return Math.floor(+t/1e3)}var Jl,pW,mW;Xye({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Xye(t){return Jl=Xve(t),pW=Jl.format,Jl.parse,mW=Jl.utcFormat,Jl.utcParse,Jl}function Qye(t){return new Date(t)}function Zye(t){return t instanceof Date?+t:+new Date(+t)}function DT(t,e,n,r,i,s,a,o,l,c){var h=xT(),d=h.invert,m=h.domain,g=c(".%L"),x=c(":%S"),y=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),_=c("%b %d"),A=c("%B"),j=c("%Y");function P(T){return(l(T)<T?g:o(T)<T?x:a(T)<T?y:s(T)<T?b:r(T)<T?i(T)<T?w:_:n(T)<T?A:j)(T)}return h.invert=function(T){return new Date(d(T))},h.domain=function(T){return arguments.length?m(Array.from(T,Zye)):m().map(Qye)},h.ticks=function(T){var k=m();return t(k[0],k[k.length-1],T??10)},h.tickFormat=function(T,k){return k==null?P:c(k)},h.nice=function(T){var k=m();return(!T||typeof T.range!="function")&&(T=e(k[0],k[k.length-1],T??10)),T?m(tW(k,T)):h},h.copy=function(){return Wf(h,DT(t,e,n,r,i,s,a,o,l,c))},h}function Jye(){return Di.apply(DT(Kve,Yve,ca,OT,Cy,Hf,kT,TT,Ho,pW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ebe(){return Di.apply(DT(qve,Gve,ua,MT,Py,Ay,NT,jT,Ho,mW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ey(){var t=0,e=1,n,r,i,s,a=xr,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function h(d){return function(m){var g,x;return arguments.length?([g,x]=m,a=d(g,x),c):[a(0),a(1)]}}return c.range=h(Ou),c.rangeRound=h(bT),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function co(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function gW(){var t=lo(Ey()(xr));return t.copy=function(){return co(t,gW())},fa.apply(t,arguments)}function vW(){var t=_T(Ey()).domain([1,10]);return t.copy=function(){return co(t,vW()).base(t.base())},fa.apply(t,arguments)}function yW(){var t=AT(Ey());return t.copy=function(){return co(t,yW()).constant(t.constant())},fa.apply(t,arguments)}function RT(){var t=CT(Ey());return t.copy=function(){return co(t,RT()).exponent(t.exponent())},fa.apply(t,arguments)}function tbe(){return RT.apply(null,arguments).exponent(.5)}function bW(){var t=[],e=xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((zf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Xa),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Uge(t,s/r))},n.copy=function(){return bW(e).domain(t)},fa.apply(n,arguments)}function Ty(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=xr,h,d=!1,m;function g(y){return isNaN(y=+y)?m:(y=.5+((y=+h(y))-s)*(r*y<r*s?o:l),c(d?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=h(t=+t),s=h(e=+e),a=h(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(d=!!y,g):d},g.interpolator=function(y){return arguments.length?(c=y,g):c};function x(y){return function(b){var w,_,A;return arguments.length?([w,_,A]=b,c=fve(y,[w,_,A]),g):[c(0),c(.5),c(1)]}}return g.range=x(Ou),g.rangeRound=x(bT),g.unknown=function(y){return arguments.length?(m=y,g):m},function(y){return h=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g}}function xW(){var t=lo(Ty()(xr));return t.copy=function(){return co(t,xW())},fa.apply(t,arguments)}function wW(){var t=_T(Ty()).domain([.1,1,10]);return t.copy=function(){return co(t,wW()).base(t.base())},fa.apply(t,arguments)}function SW(){var t=AT(Ty());return t.copy=function(){return co(t,SW()).constant(t.constant())},fa.apply(t,arguments)}function IT(){var t=CT(Ty());return t.copy=function(){return co(t,IT()).exponent(t.exponent())},fa.apply(t,arguments)}function nbe(){return IT.apply(null,arguments).exponent(.5)}const uF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Lh,scaleDiverging:xW,scaleDivergingLog:wW,scaleDivergingPow:IT,scaleDivergingSqrt:nbe,scaleDivergingSymlog:SW,scaleIdentity:eW,scaleImplicit:sC,scaleLinear:Hg,scaleLog:nW,scaleOrdinal:gT,scalePoint:ih,scalePow:PT,scaleQuantile:sW,scaleQuantize:aW,scaleRadial:iW,scaleSequential:gW,scaleSequentialLog:vW,scaleSequentialPow:RT,scaleSequentialQuantile:bW,scaleSequentialSqrt:tbe,scaleSequentialSymlog:yW,scaleSqrt:Ive,scaleSymlog:rW,scaleThreshold:oW,scaleTime:Jye,scaleUtc:ebe,tickFormat:J6},Symbol.toStringTag,{value:"Module"}));var HS,dF;function jy(){if(dF)return HS;dF=1;var t=Tu();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,h=o}return h}return HS=e,HS}var qS,hF;function _W(){if(hF)return qS;hF=1;function t(e,n){return e>n}return qS=t,qS}var GS,fF;function rbe(){if(fF)return GS;fF=1;var t=jy(),e=_W(),n=Nu();function r(i){return i&&i.length?t(i,n,e):void 0}return GS=r,GS}var ibe=rbe();const ky=gt(ibe);var KS,pF;function AW(){if(pF)return KS;pF=1;function t(e,n){return e<n}return KS=t,KS}var YS,mF;function sbe(){if(mF)return YS;mF=1;var t=jy(),e=AW(),n=Nu();function r(i){return i&&i.length?t(i,n,e):void 0}return YS=r,YS}var abe=sbe();const Ny=gt(abe);var XS,gF;function obe(){if(gF)return XS;gF=1;var t=ZE(),e=Ds(),n=O6(),r=Lr();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return XS=i,XS}var QS,vF;function lbe(){if(vF)return QS;vF=1;var t=k6(),e=obe();function n(r,i){return t(e(r,i),1)}return QS=n,QS}var cbe=lbe();const ube=gt(cbe);var ZS,yF;function dbe(){if(yF)return ZS;yF=1;var t=dT();function e(n,r){return t(n,r)}return ZS=e,ZS}var hbe=dbe();const qf=gt(hbe);var Mu=1e9,fbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},FT,Ut=!0,Ni="[DecimalError] ",Qo=Ni+"Invalid argument: ",LT=Ni+"Exponent out of range: ",Du=Math.floor,Fo=Math.pow,pbe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Qr,Rn=1e7,Ft=7,CW=9007199254740991,Yg=Du(CW/Ft),Se={};Se.absoluteValue=Se.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Se.comparedTo=Se.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Se.dividedBy=Se.div=function(t){return ta(this,new this.constructor(t))};Se.dividedToIntegerBy=Se.idiv=function(t){var e=this,n=e.constructor;return Tt(ta(e,new n(t),0,1),n.precision)};Se.equals=Se.eq=function(t){return!this.cmp(t)};Se.exponent=function(){return vn(this)};Se.greaterThan=Se.gt=function(t){return this.cmp(t)>0};Se.greaterThanOrEqualTo=Se.gte=function(t){return this.cmp(t)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(t){return this.cmp(t)<0};Se.lessThanOrEqualTo=Se.lte=function(t){return this.cmp(t)<1};Se.logarithm=Se.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Qr))throw Error(Ni+"NaN");if(n.s<1)throw Error(Ni+(n.s?"NaN":"-Infinity"));return n.eq(Qr)?new r(0):(Ut=!1,e=ta(zh(n,s),zh(t,s),s),Ut=!0,Tt(e,i))};Se.minus=Se.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?TW(e,t):PW(e,(t.s=-t.s,t))};Se.modulo=Se.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ni+"NaN");return n.s?(Ut=!1,e=ta(n,t,0,1).times(t),Ut=!0,n.minus(e)):Tt(new r(n),i)};Se.naturalExponential=Se.exp=function(){return EW(this)};Se.naturalLogarithm=Se.ln=function(){return zh(this)};Se.negated=Se.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Se.plus=Se.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PW(e,t):TW(e,(t.s=-t.s,t))};Se.precision=Se.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Qo+t);if(e=vn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Se.squareRoot=Se.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Ni+"NaN")}for(t=vn(o),Ut=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=gs(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Du((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(ta(o,s,a+2)).times(.5),gs(s.d).slice(0,a)===(e=gs(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Tt(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Ut=!0,Tt(r,n)};Se.times=Se.mul=function(t){var e,n,r,i,s,a,o,l,c,h=this,d=h.constructor,m=h.d,g=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+g[r]*m[i-r-1]+e,s[i--]=o%Rn|0,e=o/Rn|0;s[i]=(s[i]+e)%Rn|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Ut?Tt(t,d.precision):t};Se.toDecimalPlaces=Se.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ts(t,0,Mu),e===void 0?e=r.rounding:Ts(e,0,8),Tt(n,t+vn(n)+1,e))};Se.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=cl(r,!0):(Ts(t,0,Mu),e===void 0?e=i.rounding:Ts(e,0,8),r=Tt(new i(r),t+1,e),n=cl(r,!0,t+1)),n};Se.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?cl(i):(Ts(t,0,Mu),e===void 0?e=s.rounding:Ts(e,0,8),r=Tt(new s(i),t+vn(i)+1,e),n=cl(r.abs(),!1,t+vn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Se.toInteger=Se.toint=function(){var t=this,e=t.constructor;return Tt(new e(t),vn(t)+1,e.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,h=+(t=new l(t));if(!t.s)return new l(Qr);if(o=new l(o),!o.s){if(t.s<1)throw Error(Ni+"Infinity");return o}if(o.eq(Qr))return o;if(r=l.precision,t.eq(Qr))return Tt(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=h<0?-h:h)<=CW){for(i=new l(Qr),e=Math.ceil(r/Ft+4),Ut=!1;n%2&&(i=i.times(o),xF(i.d,e)),n=Du(n/2),n!==0;)o=o.times(o),xF(o.d,e);return Ut=!0,t.s<0?new l(Qr).div(i):Tt(i,r)}}else if(s<0)throw Error(Ni+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Ut=!1,i=t.times(zh(o,r+c)),Ut=!0,i=EW(i),i.s=s,i};Se.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=vn(i),r=cl(i,n<=s.toExpNeg||n>=s.toExpPos)):(Ts(t,1,Mu),e===void 0?e=s.rounding:Ts(e,0,8),i=Tt(new s(i),t,e),n=vn(i),r=cl(i,t<=n||n<=s.toExpNeg,t)),r};Se.toSignificantDigits=Se.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ts(t,1,Mu),e===void 0?e=r.rounding:Ts(e,0,8)),Tt(new r(n),t,e)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vn(t),n=t.constructor;return cl(t,e<=n.toExpNeg||e>=n.toExpPos)};function PW(t,e){var n,r,i,s,a,o,l,c,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Ut?Tt(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/Ft),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Rn|0,l[s]%=Rn;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Ut?Tt(e,d):e}function Ts(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Qo+t)}function gs(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(s+=Va(n)),s+=r;a=t[e],r=a+"",n=Ft-r.length,n&&(s+=Va(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var ta=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Rn|0,a=s/Rn|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Rn+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,h,d,m,g,x,y,b,w,_,A,j,P,T,k,O,R=r.constructor,F=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(Ni+"Division by zero");for(l=r.e-i.e,k=D.length,P=M.length,g=new R(F),x=g.d=[],c=0;D[c]==(M[c]||0);)++c;if(D[c]>(M[c]||0)&&--l,s==null?_=s=R.precision:a?_=s+(vn(r)-vn(i))+1:_=s,_<0)return new R(0);if(_=_/Ft+2|0,c=0,k==1)for(h=0,D=D[0],_++;(c<P||h)&&_--;c++)A=h*Rn+(M[c]||0),x[c]=A/D|0,h=A%D|0;else{for(h=Rn/(D[0]+1)|0,h>1&&(D=t(D,h),M=t(M,h),k=D.length,P=M.length),j=k,y=M.slice(0,k),b=y.length;b<k;)y[b++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=Rn/2&&++T;do h=0,o=e(D,y,k,b),o<0?(w=y[0],k!=b&&(w=w*Rn+(y[1]||0)),h=w/T|0,h>1?(h>=Rn&&(h=Rn-1),d=t(D,h),m=d.length,b=y.length,o=e(d,y,m,b),o==1&&(h--,n(d,k<m?O:D,m))):(h==0&&(o=h=1),d=D.slice()),m=d.length,m<b&&d.unshift(0),n(y,d,b),o==-1&&(b=y.length,o=e(D,y,k,b),o<1&&(h++,n(y,k<b?O:D,b))),b=y.length):o===0&&(h++,y=[0]),x[c++]=h,o&&y[0]?y[b++]=M[j]||0:(y=[M[j]],b=1);while((j++<P||y[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=l,Tt(g,a?s+vn(g)+1:s)}})();function EW(t,e){var n,r,i,s,a,o,l=0,c=0,h=t.constructor,d=h.precision;if(vn(t)>16)throw Error(LT+vn(t));if(!t.s)return new h(Qr);for(Ut=!1,o=d,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Fo(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new h(Qr),h.precision=o;;){if(i=Tt(i.times(t),o),n=n.times(++l),a=s.plus(ta(i,n,o)),gs(a.d).slice(0,o)===gs(s.d).slice(0,o)){for(;c--;)s=Tt(s.times(s),o);return h.precision=d,e==null?(Ut=!0,Tt(s,d)):s}s=a}}function vn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function JS(t,e,n){if(e>t.LN10.sd())throw Ut=!0,n&&(t.precision=n),Error(Ni+"LN10 precision limit exceeded");return Tt(new t(t.LN10),e)}function Va(t){for(var e="";t--;)e+="0";return e}function zh(t,e){var n,r,i,s,a,o,l,c,h,d=1,m=10,g=t,x=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(Ni+(g.s?"NaN":"-Infinity"));if(g.eq(Qr))return new y(0);if(e==null?(Ut=!1,c=b):c=e,g.eq(10))return e==null&&(Ut=!0),JS(y,c);if(c+=m,y.precision=c,n=gs(x),r=n.charAt(0),s=vn(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=gs(g.d),r=n.charAt(0),d++;s=vn(g),r>1?(g=new y("0."+n),s++):g=new y(r+"."+n.slice(1))}else return l=JS(y,c+2,b).times(s+""),g=zh(new y(r+"."+n.slice(1)),c-m).plus(l),y.precision=b,e==null?(Ut=!0,Tt(g,b)):g;for(o=a=g=ta(g.minus(Qr),g.plus(Qr),c),h=Tt(g.times(g),c),i=3;;){if(a=Tt(a.times(h),c),l=o.plus(ta(a,new y(i),c)),gs(l.d).slice(0,c)===gs(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(JS(y,c+2,b).times(s+""))),o=ta(o,new y(d),c),y.precision=b,e==null?(Ut=!0,Tt(o,b)):o;o=l,i+=2}}function bF(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Du(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Ut&&(t.e>Yg||t.e<-Yg))throw Error(LT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Tt(t,e,n){var r,i,s,a,o,l,c,h,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ft,i=e,c=d[h=0];else{if(h=Math.ceil((r+1)/Ft),s=d.length,h>=s)return t;for(c=s=d[h],a=1;s>=10;s/=10)a++;r%=Ft,i=r-Ft+a}if(n!==void 0&&(s=Fo(10,a-i-1),o=c/s%10|0,l=e<0||d[h+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Fo(10,a-i):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=vn(t),d.length=1,e=e-s-1,d[0]=Fo(10,(Ft-e%Ft)%Ft),t.e=Du(-e/Ft)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,s=1,h--):(d.length=h+1,s=Fo(10,Ft-r),d[h]=i>0?(c/Fo(10,a-i)%Fo(10,i)|0)*s:0),l)for(;;)if(h==0){(d[0]+=s)==Rn&&(d[0]=1,++t.e);break}else{if(d[h]+=s,d[h]!=Rn)break;d[h--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Ut&&(t.e>Yg||t.e<-Yg))throw Error(LT+vn(t));return t}function TW(t,e){var n,r,i,s,a,o,l,c,h,d,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Ut?Tt(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(h=a<0,h?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(g/Ft),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){h=l[i]<d[i];break}a=0}for(h&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Rn-1;--l[s],l[i]+=Rn}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Ut?Tt(e,g):e):new m(0)}function cl(t,e,n){var r,i=vn(t),s=gs(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Va(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Va(-i-1)+s,n&&(r=n-a)>0&&(s+=Va(r))):i>=a?(s+=Va(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Va(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Va(r))),t.s<0?"-"+s:s}function xF(t,e){if(t.length>e)return t.length=e,!0}function jW(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Qo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return bF(a,s.toString())}else if(typeof s!="string")throw Error(Qo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,pbe.test(s))bF(a,s);else throw Error(Qo+s)}if(i.prototype=Se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=jW,i.config=i.set=mbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function mbe(t){if(!t||typeof t!="object")throw Error(Ni+"Object expected");var e,n,r,i=["precision",1,Mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Du(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Qo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Qo+n+": "+r);return this}var FT=jW(fbe);Qr=new FT(1);const Pt=FT;function gbe(t){return xbe(t)||bbe(t)||ybe(t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(t,e){if(t){if(typeof t=="string")return cC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cC(t,e)}}function bbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function xbe(t){if(Array.isArray(t))return cC(t)}function cC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var wbe=function(e){return e},kW={},NW=function(e){return e===kW},wF=function(e){return function n(){return arguments.length===0||arguments.length===1&&NW(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Sbe=function t(e,n){return e===1?n:wF(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==kW}).length;return a>=e?n.apply(void 0,i):t(e-a,wF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=i.map(function(d){return NW(d)?l.shift():d});return n.apply(void 0,gbe(h).concat(l))}))})},Oy=function(e){return Sbe(e.length,e)},uC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},_be=Oy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Abe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return wbe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},dC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},OW=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Cbe(t){var e;return t===0?e=1:e=Math.floor(new Pt(t).abs().log(10).toNumber())+1,e}function Pbe(t,e,n){for(var r=new Pt(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Ebe=Oy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Tbe=Oy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),jbe=Oy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const My={rangeStep:Pbe,getDigitCount:Cbe,interpolateNumber:Ebe,uninterpolateNumber:Tbe,uninterpolateTruncation:jbe};function hC(t){return Obe(t)||Nbe(t)||MW(t)||kbe()}function kbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Obe(t){if(Array.isArray(t))return fC(t)}function Vh(t,e){return Rbe(t)||Dbe(t,e)||MW(t,e)||Mbe()}function Mbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(t,e){if(t){if(typeof t=="string")return fC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fC(t,e)}}function fC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dbe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function Rbe(t){if(Array.isArray(t))return t}function DW(t){var e=Vh(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function RW(t,e,n){if(t.lte(0))return new Pt(0);var r=My.getDigitCount(t.toNumber()),i=new Pt(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Pt(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Pt(Math.ceil(l))}function Ibe(t,e,n){var r=1,i=new Pt(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Pt(10).pow(My.getDigitCount(t)-1),i=new Pt(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Pt(Math.floor(t)))}else t===0?i=new Pt(Math.floor((e-1)/2)):n||(i=new Pt(Math.floor(t)));var a=Math.floor((e-1)/2),o=Abe(_be(function(l){return i.add(new Pt(l-a).mul(r)).toNumber()}),uC);return o(0,e)}function IW(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Pt(0),tickMin:new Pt(0),tickMax:new Pt(0)};var s=RW(new Pt(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Pt(0):(a=new Pt(t).add(e).div(2),a=a.sub(new Pt(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Pt(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?IW(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Pt(o).mul(s)),tickMax:a.add(new Pt(l).mul(s))})}function Lbe(t){var e=Vh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=DW([n,r]),l=Vh(o,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(hC(uC(0,i-1).map(function(){return 1/0}))):[].concat(hC(uC(0,i-1).map(function(){return-1/0})),[h]);return n>r?dC(d):d}if(c===h)return Ibe(c,i,s);var m=IW(c,h,a,s),g=m.step,x=m.tickMin,y=m.tickMax,b=My.rangeStep(x,y.add(new Pt(.1).mul(g)),g);return n>r?dC(b):b}function Fbe(t,e){var n=Vh(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=DW([r,i]),o=Vh(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(e,2),d=RW(new Pt(c).sub(l).div(h-1),s,0),m=[].concat(hC(My.rangeStep(new Pt(l),new Pt(c).sub(new Pt(.99).mul(d)),d)),[c]);return r>i?dC(m):m}var $be=OW(Lbe),Bbe=OW(Fbe),Ube="Invariant failed";function ul(t,e){throw new Error(Ube)}var zbe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}function Xg(){return Xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xg.apply(this,arguments)}function Vbe(t,e){return Gbe(t)||qbe(t,e)||Hbe(t,e)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return SF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SF(t,e)}}function SF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Gbe(t){if(Array.isArray(t))return t}function Kbe(t,e){if(t==null)return{};var n=Ybe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ybe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qbe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$W(r.key),r)}}function Zbe(t,e,n){return e&&Qbe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jbe(t,e,n){return e=Qg(e),exe(t,LW()?Reflect.construct(e,n||[],Qg(t).constructor):e.apply(t,n))}function exe(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return txe(t)}function txe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function Qg(t){return Qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qg(t)}function nxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function FW(t,e,n){return e=$W(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $W(t){var e=rxe(t,"string");return Qc(e)=="symbol"?e:e+""}function rxe(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gf=(function(t){function e(){return Xbe(this,e),Jbe(this,e,arguments)}return nxe(e,t),Zbe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,m=Kbe(r,zbe),g=$e(m,!1);this.props.direction==="x"&&h.type!=="number"&&ul();var x=l.map(function(y){var b=c(y,o),w=b.x,_=b.y,A=b.value,j=b.errorVal;if(!j)return null;var P=[],T,k;if(Array.isArray(j)){var O=Vbe(j,2);T=O[0],k=O[1]}else T=k=j;if(s==="vertical"){var R=h.scale,F=_+i,M=F+a,D=F-a,$=R(A-T),H=R(A+k);P.push({x1:H,y1:M,x2:H,y2:D}),P.push({x1:$,y1:F,x2:H,y2:F}),P.push({x1:$,y1:M,x2:$,y2:D})}else if(s==="horizontal"){var q=d.scale,V=w+i,B=V-a,L=V+a,W=q(A-T),X=q(A+k);P.push({x1:B,y1:X,x2:L,y2:X}),P.push({x1:V,y1:W,x2:V,y2:X}),P.push({x1:B,y1:W,x2:L,y2:W})}return z.createElement(ut,Xg({className:"recharts-errorBar",key:"bar-".concat(P.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},g),P.map(function(U){return z.createElement("line",Xg({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return z.createElement(ut,{className:"recharts-errorBars"},x)}}])})(z.Component);FW(Gf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});FW(Gf,"displayName","ErrorBar");function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function _F(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_F(Object(n),!0).forEach(function(r){ixe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_F(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ixe(t,e,n){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=axe(t,"string");return Wh(e)=="symbol"?e:e+""}function axe(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BW=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Gr(n,ms);if(!a)return null;var o=ms.defaultProps,l=o!==void 0?Oo(Oo({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(h,d){var m=d.item,g=d.props,x=g.sectors||g.data||[];return h.concat(x.map(function(y){return{type:a.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(h){var d=h.item,m=d.type.defaultProps,g=m!==void 0?Oo(Oo({},m),d.props):{},x=g.dataKey,y=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:x,type:l.iconType||b||"square",color:$T(d),value:y||x,payload:g}}),Oo(Oo(Oo({},l),ms.getWithHeight(a,i)),{},{payload:c,item:a})};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function AF(t){return uxe(t)||cxe(t)||lxe(t)||oxe()}function oxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lxe(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function cxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uxe(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CF(Object(n),!0).forEach(function(r){Tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tc(t,e,n){return e=dxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dxe(t){var e=hxe(t,"string");return Hh(e)=="symbol"?e:e+""}function hxe(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pn(t,e,n){return Ye(t)||Ye(e)?n:En(e)?ei(t,e,n):qe(e)?e(t):n}function sh(t,e,n,r){var i=ube(t,function(o){return Pn(o,e)});if(n==="number"){var s=i.filter(function(o){return ge(o)||parseFloat(o)});return s.length?[Ny(s),ky(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Ye(o)}):i;return a.map(function(o){return En(o)||o instanceof Date?o:""})}var fxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var h=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,m=c>=o-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(yr(d-h)!==yr(m-d)){var x=[];if(yr(m-d)===yr(l[1]-l[0])){g=m;var y=d+l[1]-l[0];x[0]=Math.min(y,(y+h)/2),x[1]=Math.max(y,(y+h)/2)}else{g=h;var b=m+l[1]-l[0];x[0]=Math.min(d,(b+d)/2),x[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var _=Math.min(h,m),A=Math.max(h,m);if(e>(_+d)/2&&e<=(A+d)/2){a=i[c].index;break}}}else for(var j=0;j<o;j++)if(j===0&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j>0&&j<o-1&&e>(r[j].coordinate+r[j-1].coordinate)/2&&e<=(r[j].coordinate+r[j+1].coordinate)/2||j===o-1&&e>(r[j].coordinate+r[j-1].coordinate)/2){a=r[j].index;break}return a},$T=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},pxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var h=s[o[l]].stackGroups,d=Object.keys(h),m=0,g=d.length;m<g;m++){var x=h[d[m]],y=x.items,b=x.cateAxisId,w=y.filter(function(k){return ea(k.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,A=_!==void 0?Zt(Zt({},_),w[0].props):w[0].props,j=A.barSize,P=A[b];a[P]||(a[P]=[]);var T=Ye(j)?n:j;a[P].push({item:w[0],stackList:w.slice(1),barSize:Ye(T)?void 0:br(T,r,0)})}}return a},mxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=br(n,i,0,!0),h,d=[];if(a[0].barSize===+a[0].barSize){var m=!1,g=i/l,x=a.reduce(function(j,P){return j+P.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(m=!0,g*=.9,x=l*g);var y=(i-x)/2>>0,b={offset:y-c,size:0};h=a.reduce(function(j,P){var T={item:P.item,position:{offset:b.offset+b.size+c,size:m?g:P.barSize}},k=[].concat(AF(j),[T]);return b=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:b})}),k},d)}else{var w=br(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var _=(i-2*w-(l-1)*c)/l;_>1&&(_>>=0);var A=o===+o?Math.min(_,o):_;h=a.reduce(function(j,P,T){var k=[].concat(AF(j),[{item:P.item,position:{offset:w+(_+c)*T+(_-A)/2,size:A}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},d)}return h},gxe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=BW({children:s,legendWidth:l});if(c){var h=i||{},d=h.width,m=h.height,g=c.align,x=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&g!=="center"&&ge(e[g]))return Zt(Zt({},e),{},Tc({},g,e[g]+(d||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&x!=="middle"&&ge(e[x]))return Zt(Zt({},e),{},Tc({},x,e[x]+(m||0)))}return e},vxe=function(e,n,r){return Ye(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},UW=function(e,n,r,i,s){var a=n.props.children,o=ti(a,Gf).filter(function(c){return vxe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var d=Pn(h,r);if(Ye(d))return c;var m=Array.isArray(d)?[Ny(d),ky(d)]:[d,d],g=l.reduce(function(x,y){var b=Pn(h,y,0),w=m[0]-Math.abs(Array.isArray(b)?b[0]:b),_=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},yxe=function(e,n,r,i,s){var a=n.map(function(o){return UW(e,o,r,s,i)}).filter(function(o){return!Ye(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},zW=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&UW(e,l,c,i)||sh(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var h=0,d=c.length;h<d;h++)o[c[h]]||(o[c[h]]=!0,l.push(c[h]));return l},[])},VW=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},WW=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Js=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?yr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var m=s?s.indexOf(d):d;return{coordinate:i(m)+c,value:d,offset:c}});return h.filter(function(d){return!Bf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,m){return{coordinate:i(d)+c,value:d,index:m,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,m){return{coordinate:i(d)+c,value:s?s[d]:d,index:m,offset:c}})},e_=new WeakMap,Im=function(e,n){if(typeof n!="function")return e;e_.has(e)||e_.set(e,new WeakMap);var r=e_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},HW=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Lh(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Hg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:ih(),realScaleType:"point"}:s==="category"?{scale:Lh(),realScaleType:"band"}:{scale:Hg(),realScaleType:"linear"};if(al(i)){var l="scale".concat(gy(i));return{scale:(uF[l]||ih)(),realScaleType:uF[l]?l:"point"}}return qe(i)?{scale:i}:{scale:ih(),realScaleType:"point"}},PF=1e-4,qW=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-PF,a=Math.max(i[0],i[1])+PF,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},bxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},xxe=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(s[0]=r),(!ge(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},wxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Bf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Sxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Bf(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},_xe={sign:wxe,expand:ufe,none:Vc,silhouette:dfe,wiggle:hfe,positive:Sxe},Axe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=_xe[r],a=cfe().keys(i).value(function(o,l){return+Pn(o,l,0)}).order(HA).offset(s);return a(e)},Cxe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(d,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?Zt(Zt({},m.type.defaultProps),m.props):m.props,y=x.stackId,b=x.hide;if(b)return d;var w=x[r],_=d[w]||{hasStack:!1,stackGroups:{}};if(En(y)){var A=_.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(m),_.hasStack=!0,_.stackGroups[y]=A}else _.stackGroups[ku("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return Zt(Zt({},d),{},Tc({},w,_))},l),h={};return Object.keys(c).reduce(function(d,m){var g=c[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var w=g.stackGroups[b];return Zt(Zt({},y),{},Tc({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Axe(e,w.items,s)}))},x)}return Zt(Zt({},d),{},Tc({},m,g))},h)},GW=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=$be(c,s,o);return e.domain([Ny(h),ky(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),m=Bbe(d,s,o);return{niceTicks:m}}return null};function EF(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Ye(i[e.dataKey])){var o=Eg(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Pn(i,Ye(a)?e.dataKey:a);return Ye(l)?null:e.scale(l)}var TF=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Pn(a,n.dataKey,n.domain[o]);return Ye(l)?null:n.scale(l)-s/2+i},Pxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Exe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(En(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Txe=function(e){return e.reduce(function(n,r){return[Ny(r.concat([n[0]]).filter(ge)),ky(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},KW=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,h){var d=Txe(h.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},jF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,gC=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(jF.test(e[0])){var s=+jF.exec(e[0])[1];i[0]=n[0]-s}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(kF.test(e[1])){var a=+kF.exec(e[1])[1];i[1]=n[1]+a}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zg=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=fT(n,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],h=s[o-1];a=Math.min((c.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},NF=function(e,n,r){return!e||!e.length||qf(e,ei(r,"type.defaultProps.domain"))?n:e},YW=function(e,n){var r=e.type.defaultProps?Zt(Zt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return Zt(Zt({},$e(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:$T(e),value:Pn(n,i),type:l,payload:n,chartType:c,hide:h})};function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function OF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(n),!0).forEach(function(r){XW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XW(t,e,n){return e=jxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t){var e=kxe(t,"string");return qh(e)=="symbol"?e:e+""}function kxe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nxe(t,e){return Rxe(t)||Dxe(t,e)||Mxe(t,e)||Oxe()}function Oxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mxe(t,e){if(t){if(typeof t=="string")return MF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MF(t,e)}}function MF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Rxe(t){if(Array.isArray(t))return t}var Jg=Math.PI/180,Ixe=function(e){return e*180/Math.PI},Ot=function(e,n,r,i){return{x:e+Math.cos(-Jg*i)*r,y:n+Math.sin(-Jg*i)*r}},QW=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Lxe=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,h=br(e.cx,a,a/2),d=br(e.cy,o,o/2),m=QW(a,o,r),g=br(e.innerRadius,m,0),x=br(e.outerRadius,m,m*.8),y=Object.keys(n);return y.reduce(function(b,w){var _=n[w],A=_.domain,j=_.reversed,P;if(Ye(_.range))i==="angleAxis"?P=[l,c]:i==="radiusAxis"&&(P=[g,x]),j&&(P=[P[1],P[0]]);else{P=_.range;var T=P,k=Nxe(T,2);l=k[0],c=k[1]}var O=HW(_,s),R=O.realScaleType,F=O.scale;F.domain(A).range(P),qW(F);var M=GW(F,Ys(Ys({},_),{},{realScaleType:R})),D=Ys(Ys(Ys({},_),M),{},{range:P,radius:x,realScaleType:R,scale:F,cx:h,cy:d,innerRadius:g,outerRadius:x,startAngle:l,endAngle:c});return Ys(Ys({},b),{},XW({},w,D))},{})},Fxe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},$xe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=Fxe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:Ixe(c),angleInRadian:c}},Bxe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},Uxe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},DF=function(e,n){var r=e.x,i=e.y,s=$xe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var h=Bxe(n),d=h.startAngle,m=h.endAngle,g=o,x;if(d<=m){for(;g>m;)g-=360;for(;g<d;)g+=360;x=g>=d&&g<=m}else{for(;g>d;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=d}return x?Ys(Ys({},n),{},{radius:a,angle:Uxe(g,n)}):null},ZW=function(e){return!C.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}var zxe=["offset"];function Vxe(t){return Gxe(t)||qxe(t)||Hxe(t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hxe(t,e){if(t){if(typeof t=="string")return vC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vC(t,e)}}function qxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gxe(t){if(Array.isArray(t))return vC(t)}function vC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kxe(t,e){if(t==null)return{};var n=Yxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){Xxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xxe(t,e,n){return e=Qxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qxe(t){var e=Zxe(t,"string");return Gh(e)=="symbol"?e:e+""}function Zxe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kh(){return Kh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kh.apply(this,arguments)}var Jxe=function(e){var n=e.value,r=e.formatter,i=Ye(e.children)?n:e.children;return qe(r)?r(i):i},e0e=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},t0e=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,h=l.cy,d=l.innerRadius,m=l.outerRadius,g=l.startAngle,x=l.endAngle,y=l.clockWise,b=(d+m)/2,w=e0e(g,x),_=w>=0?1:-1,A,j;i==="insideStart"?(A=g+_*a,j=y):i==="insideEnd"?(A=x-_*a,j=!y):i==="end"&&(A=x+_*a,j=y),j=w<=0?j:!j;var P=Ot(c,h,b,A),T=Ot(c,h,b,A+(j?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(j?0:1,`,
    `).concat(T.x,",").concat(T.y),O=Ye(e.id)?ku("recharts-radial-line-"):e.id;return z.createElement("text",Kh({},r,{dominantBaseline:"central",className:Qe("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:O,d:k})),z.createElement("textPath",{xlinkHref:"#".concat(O)},n))},n0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,h=s.startAngle,d=s.endAngle,m=(h+d)/2;if(i==="outside"){var g=Ot(a,o,c+r,m),x=g.x,y=g.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,w=Ot(a,o,b,m),_=w.x,A=w.y;return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},r0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,h=a.height,d=h>=0?1:-1,m=d*i,g=d>0?"end":"start",x=d>0?"start":"end",y=c>=0?1:-1,b=y*i,w=y>0?"end":"start",_=y>0?"start":"end";if(s==="top"){var A={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return Cn(Cn({},A),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var j={x:o+c/2,y:l+h+m,textAnchor:"middle",verticalAnchor:x};return Cn(Cn({},j),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(s==="left"){var P={x:o-b,y:l+h/2,textAnchor:w,verticalAnchor:"middle"};return Cn(Cn({},P),r?{width:Math.max(P.x-r.x,0),height:h}:{})}if(s==="right"){var T={x:o+c+b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"};return Cn(Cn({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:h}:{})}var k=r?{width:c,height:h}:{};return s==="insideLeft"?Cn({x:o+b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"},k):s==="insideRight"?Cn({x:o+c-b,y:l+h/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideTop"?Cn({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:x},k):s==="insideBottom"?Cn({x:o+c/2,y:l+h-m,textAnchor:"middle",verticalAnchor:g},k):s==="insideTopLeft"?Cn({x:o+b,y:l+m,textAnchor:_,verticalAnchor:x},k):s==="insideTopRight"?Cn({x:o+c-b,y:l+m,textAnchor:w,verticalAnchor:x},k):s==="insideBottomLeft"?Cn({x:o+b,y:l+h-m,textAnchor:_,verticalAnchor:g},k):s==="insideBottomRight"?Cn({x:o+c-b,y:l+h-m,textAnchor:w,verticalAnchor:g},k):ju(s)&&(ge(s.x)||Vo(s.x))&&(ge(s.y)||Vo(s.y))?Cn({x:o+br(s.x,c),y:l+br(s.y,h),textAnchor:"end",verticalAnchor:"end"},k):Cn({x:o+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},i0e=function(e){return"cx"in e&&ge(e.cx)};function Ln(t){var e=t.offset,n=e===void 0?5:e,r=Kxe(t,zxe),i=Cn({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,h=i.className,d=h===void 0?"":h,m=i.textBreakAll;if(!s||Ye(o)&&Ye(l)&&!C.isValidElement(c)&&!qe(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var g;if(qe(c)){if(g=C.createElement(c,i),C.isValidElement(g))return g}else g=Jxe(i);var x=i0e(s),y=$e(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return t0e(i,g,y);var b=x?n0e(i):r0e(i);return z.createElement(ll,Kh({className:Qe("recharts-label",d)},y,b,{breakAll:m}),g)}Ln.displayName="Label";var JW=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,h=e.outerRadius,d=e.x,m=e.y,g=e.top,x=e.left,y=e.width,b=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ge(y)&&ge(b)){if(ge(d)&&ge(m))return{x:d,y:m,width:y,height:b};if(ge(g)&&ge(x))return{x:g,y:x,width:y,height:b}}return ge(d)&&ge(m)?{x:d,y:m,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:h||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},s0e=function(e,n){return e?e===!0?z.createElement(Ln,{key:"label-implicit",viewBox:n}):En(e)?z.createElement(Ln,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Ln?C.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Ln,{key:"label-implicit",content:e,viewBox:n}):qe(e)?z.createElement(Ln,{key:"label-implicit",content:e,viewBox:n}):ju(e)?z.createElement(Ln,Kh({viewBox:n},e,{key:"label-implicit"})):null:null},a0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=JW(e),a=ti(i,Ln).map(function(l,c){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=s0e(e.label,n||s);return[o].concat(Vxe(a))};Ln.parseViewBox=JW;Ln.renderCallByParent=a0e;var t_,IF;function o0e(){if(IF)return t_;IF=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return t_=t,t_}var l0e=o0e();const c0e=gt(l0e);function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}var u0e=["valueAccessor"],d0e=["data","dataKey","clockWise","id","textBreakAll"];function h0e(t){return g0e(t)||m0e(t)||p0e(t)||f0e()}function f0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p0e(t,e){if(t){if(typeof t=="string")return yC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yC(t,e)}}function m0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g0e(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){v0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v0e(t,e,n){return e=y0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y0e(t){var e=b0e(t,"string");return Yh(e)=="symbol"?e:e+""}function b0e(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $F(t,e){if(t==null)return{};var n=x0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function x0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var w0e=function(e){return Array.isArray(e.value)?c0e(e.value):e.value};function na(t){var e=t.valueAccessor,n=e===void 0?w0e:e,r=$F(t,u0e),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=$F(r,d0e);return!i||!i.length?null:z.createElement(ut,{className:"recharts-label-list"},i.map(function(h,d){var m=Ye(s)?n(h,d):Pn(h&&h.payload,s),g=Ye(o)?{}:{id:"".concat(o,"-").concat(d)};return z.createElement(Ln,ev({},$e(h,!0),c,g,{parentViewBox:h.parentViewBox,value:m,textBreakAll:l,viewBox:Ln.parseViewBox(Ye(a)?h:FF(FF({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}na.displayName="LabelList";function S0e(t,e){return t?t===!0?z.createElement(na,{key:"labelList-implicit",data:e}):z.isValidElement(t)||qe(t)?z.createElement(na,{key:"labelList-implicit",data:e,content:t}):ju(t)?z.createElement(na,ev({data:e},t,{key:"labelList-implicit"})):null:null}function _0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ti(r,na).map(function(a,o){return C.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=S0e(t.label,e);return[s].concat(h0e(i))}na.renderCallByParent=_0e;function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function bC(){return bC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bC.apply(this,arguments)}function BF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(n),!0).forEach(function(r){A0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A0e(t,e,n){return e=C0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C0e(t){var e=P0e(t,"string");return Xh(e)=="symbol"?e:e+""}function P0e(t,e){if(Xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var E0e=function(e,n){var r=yr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Lm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,h=l*(o?1:-1)+i,d=Math.asin(l/h)/Jg,m=c?s:s+a*d,g=Ot(n,r,h,m),x=Ot(n,r,i,m),y=c?s-a*d:s,b=Ot(n,r,h*Math.cos(d*Jg),y);return{center:g,circleTangency:x,lineTangency:b,theta:d}},e8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=E0e(a,o),c=a+l,h=Ot(n,r,s,a),d=Ot(n,r,s,c),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ot(n,r,i,a),x=Ot(n,r,i,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},T0e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,d=yr(h-c),m=Lm({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),g=m.circleTangency,x=m.lineTangency,y=m.theta,b=Lm({cx:n,cy:r,radius:s,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,_=b.lineTangency,A=b.theta,j=l?Math.abs(c-h):Math.abs(c-h)-y-A;if(j<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):e8({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:h});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(j>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var T=Lm({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=T.circleTangency,O=T.lineTangency,R=T.theta,F=Lm({cx:n,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=F.circleTangency,D=F.lineTangency,$=F.theta,H=l?Math.abs(c-h):Math.abs(c-h)-R-$;if(H<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},j0e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},t8=function(e){var n=UF(UF({},j0e),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,m=n.className;if(a<s||h===d)return null;var g=Qe("recharts-sector",m),x=a-s,y=br(o,x,0,!0),b;return y>0&&Math.abs(h-d)<360?b=T0e({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}):b=e8({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:h,endAngle:d}),z.createElement("path",bC({},$e(n,!0),{className:g,d:b,role:"img"}))};function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xC.apply(this,arguments)}function zF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(n),!0).forEach(function(r){k0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k0e(t,e,n){return e=N0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N0e(t){var e=O0e(t,"string");return Qh(e)=="symbol"?e:e+""}function O0e(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WF={curveBasisClosed:Zhe,curveBasisOpen:Jhe,curveBasis:Qhe,curveBumpX:Lhe,curveBumpY:Fhe,curveLinearClosed:efe,curveLinear:yy,curveMonotoneX:tfe,curveMonotoneY:nfe,curveNatural:rfe,curveStep:ife,curveStepAfter:afe,curveStepBefore:sfe},Fm=function(e){return e.x===+e.x&&e.y===+e.y},Id=function(e){return e.x},Ld=function(e){return e.y},M0e=function(e,n){if(qe(e))return e;var r="curve".concat(gy(e));return(r==="curveMonotone"||r==="curveBump")&&n?WF["".concat(r).concat(n==="vertical"?"Y":"X")]:WF[r]||yy},D0e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,h=M0e(r,o),d=c?s.filter(function(y){return Fm(y)}):s,m;if(Array.isArray(a)){var g=c?a.filter(function(y){return Fm(y)}):a,x=d.map(function(y,b){return VF(VF({},y),{},{base:g[b]})});return o==="vertical"?m=jm().y(Ld).x1(Id).x0(function(y){return y.base.x}):m=jm().x(Id).y1(Ld).y0(function(y){return y.base.y}),m.defined(Fm).curve(h),m(x)}return o==="vertical"&&ge(a)?m=jm().y(Ld).x1(Id).x0(a):ge(a)?m=jm().x(Id).y1(Ld).y0(a):m=JV().x(Id).y(Ld),m.defined(Fm).curve(h),m(d)},tv=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?D0e(e):i;return C.createElement("path",xC({},$e(e,!1),Tg(e),{className:Qe("recharts-curve",n),d:a,ref:s}))},n_={exports:{}},r_,HF;function R0e(){if(HF)return r_;HF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return r_=t,r_}var i_,qF;function I0e(){if(qF)return i_;qF=1;var t=R0e();function e(){}function n(){}return n.resetWarningCache=e,i_=function(){function r(a,o,l,c,h,d){if(d!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},i_}var GF;function L0e(){return GF||(GF=1,n_.exports=I0e()()),n_.exports}var F0e=L0e();const mt=gt(F0e);var $0e=Object.getOwnPropertyNames,B0e=Object.getOwnPropertySymbols,U0e=Object.prototype.hasOwnProperty;function KF(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function $m(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function z0e(t){return t?.[Symbol.toStringTag]}function YF(t){return $0e(t).concat(B0e(t))}var V0e=Object.hasOwn||(function(t,e){return U0e.call(t,e)});function bl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var W0e="__v",H0e="__o",q0e="_owner",XF=Object.getOwnPropertyDescriptor,QF=Object.keys;function G0e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function K0e(t,e){return bl(t.getTime(),e.getTime())}function Y0e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function X0e(t,e){return t===e}function ZF(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),h=!1,d=0;(o=c.next())&&!o.done;){if(i[d]){d++;continue}var m=a.value,g=o.value;if(n.equals(m[0],g[0],l,d,t,e,n)&&n.equals(m[1],g[1],m[0],g[0],t,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;l++}return!0}var Q0e=bl;function Z0e(t,e,n){var r=QF(t),i=r.length;if(QF(e).length!==i)return!1;for(;i-- >0;)if(!n8(t,e,n,r[i]))return!1;return!0}function Fd(t,e,n){var r=YF(t),i=r.length;if(YF(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!n8(t,e,n,s)||(a=XF(t,s),o=XF(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function J0e(t,e){return bl(t.valueOf(),e.valueOf())}function ewe(t,e){return t.source===e.source&&t.flags===e.flags}function JF(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,h=0;(o=l.next())&&!o.done;){if(!i[h]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function twe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function nwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function n8(t,e,n,r){return(r===q0e||r===H0e||r===W0e)&&(t.$$typeof||e.$$typeof)?!0:V0e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var rwe="[object Arguments]",iwe="[object Boolean]",swe="[object Date]",awe="[object Error]",owe="[object Map]",lwe="[object Number]",cwe="[object Object]",uwe="[object RegExp]",dwe="[object Set]",hwe="[object String]",fwe="[object URL]",pwe=Array.isArray,e$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,t$=Object.assign,mwe=Object.prototype.toString.call.bind(Object.prototype.toString);function gwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,d=t.areTypedArraysEqual,m=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,b,w){if(y===b)return!0;if(y==null||b==null)return!1;var _=typeof y;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?a(y,b,w):_==="function"?i(y,b,w):!1;var A=y.constructor;if(A!==b.constructor)return!1;if(A===Object)return o(y,b,w);if(pwe(y))return e(y,b,w);if(e$!=null&&e$(y))return d(y,b,w);if(A===Date)return n(y,b,w);if(A===RegExp)return c(y,b,w);if(A===Map)return s(y,b,w);if(A===Set)return h(y,b,w);var j=mwe(y);if(j===swe)return n(y,b,w);if(j===uwe)return c(y,b,w);if(j===owe)return s(y,b,w);if(j===dwe)return h(y,b,w);if(j===cwe)return typeof y.then!="function"&&typeof b.then!="function"&&o(y,b,w);if(j===fwe)return m(y,b,w);if(j===awe)return r(y,b,w);if(j===rwe)return o(y,b,w);if(j===iwe||j===lwe||j===hwe)return l(y,b,w);if(g){var P=g[j];if(!P){var T=z0e(y);T&&(P=g[T])}if(P)return P(y,b,w)}return!1}}function vwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Fd:G0e,areDatesEqual:K0e,areErrorsEqual:Y0e,areFunctionsEqual:X0e,areMapsEqual:r?KF(ZF,Fd):ZF,areNumbersEqual:Q0e,areObjectsEqual:r?Fd:Z0e,arePrimitiveWrappersEqual:J0e,areRegExpsEqual:ewe,areSetsEqual:r?KF(JF,Fd):JF,areTypedArraysEqual:r?Fd:twe,areUrlsEqual:nwe,unknownTagComparators:void 0};if(n&&(i=t$({},i,n(i))),e){var s=$m(i.areArraysEqual),a=$m(i.areMapsEqual),o=$m(i.areObjectsEqual),l=$m(i.areSetsEqual);i=t$({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function ywe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function bwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var h=r(),d=h.cache,m=d===void 0?e?new WeakMap:void 0:d,g=h.meta;return n(l,c,{cache:m,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var xwe=uo();uo({strict:!0});uo({circular:!0});uo({circular:!0,strict:!0});uo({createInternalComparator:function(){return bl}});uo({strict:!0,createInternalComparator:function(){return bl}});uo({circular:!0,createInternalComparator:function(){return bl}});uo({circular:!0,createInternalComparator:function(){return bl},strict:!0});function uo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=vwe(t),l=gwe(o),c=r?r(l):ywe(l);return bwe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function wwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function n$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):wwe(i)};requestAnimationFrame(r)}function wC(t){"@babel/helpers - typeof";return wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wC(t)}function Swe(t){return Pwe(t)||Cwe(t)||Awe(t)||_we()}function _we(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Awe(t,e){if(t){if(typeof t=="string")return r$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r$(t,e)}}function r$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Cwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pwe(t){if(Array.isArray(t))return t}function Ewe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Swe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){n$(i.bind(null,c),l);return}i(l),n$(i.bind(null,c));return}wC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){r8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r8(t,e,n){return e=Twe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Twe(t){var e=jwe(t,"string");return Zh(e)==="symbol"?e:String(e)}function jwe(t,e){if(Zh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kwe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Nwe=function(e){return e},Owe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ah=function(e,n){return Object.keys(n).reduce(function(r,i){return s$(s$({},r),{},r8({},i,e(i,n[i])))},{})},a$=function(e,n,r){return e.map(function(i){return"".concat(Owe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Mwe(t,e){return Iwe(t)||Rwe(t,e)||i8(t,e)||Dwe()}function Dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Iwe(t){if(Array.isArray(t))return t}function Lwe(t){return Bwe(t)||$we(t)||i8(t)||Fwe()}function Fwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i8(t,e){if(t){if(typeof t=="string")return SC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SC(t,e)}}function $we(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bwe(t){if(Array.isArray(t))return SC(t)}function SC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nv=1e-4,s8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},a8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},o$=function(e,n){return function(r){var i=s8(e,n);return a8(i,r)}},Uwe=function(e,n){return function(r){var i=s8(e,n),s=[].concat(Lwe(i.map(function(a,o){return a*o}).slice(1)),[0]);return a8(s,r)}},l$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=Mwe(c,4);i=h[0],s=h[1],a=h[2],o=h[3]}}}var d=o$(i,a),m=o$(s,o),g=Uwe(i,a),x=function(w){return w>1?1:w<0?0:w},y=function(w){for(var _=w>1?1:w,A=_,j=0;j<8;++j){var P=d(A)-_,T=g(A);if(Math.abs(P-_)<nv||T<nv)return m(A);A=x(A-P/T)}return m(A)};return y.isStepper=!1,y},zwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(h,d,m){var g=-(h-d)*r,x=m*s,y=m+(g-x)*o/1e3,b=m*o/1e3+h;return Math.abs(b-d)<nv&&Math.abs(y)<nv?[d,0]:[b,y]};return l.isStepper=!0,l.dt=o,l},Vwe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return l$(i);case"spring":return zwe();default:if(i.split("(")[0]==="cubic-bezier")return l$(i)}return typeof i=="function"?i:null};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function c$(t){return qwe(t)||Hwe(t)||o8(t)||Wwe()}function Wwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qwe(t){if(Array.isArray(t))return AC(t)}function u$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u$(Object(n),!0).forEach(function(r){_C(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _C(t,e,n){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gwe(t){var e=Kwe(t,"string");return Jh(e)==="symbol"?e:String(e)}function Kwe(t,e){if(Jh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ywe(t,e){return Zwe(t)||Qwe(t,e)||o8(t,e)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o8(t,e){if(t){if(typeof t=="string")return AC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(t,e)}}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Zwe(t){if(Array.isArray(t))return t}var rv=function(e,n,r){return e+(n-e)*r},CC=function(e){var n=e.from,r=e.to;return n!==r},Jwe=function t(e,n,r){var i=ah(function(s,a){if(CC(a)){var o=e(a.from,a.to,a.velocity),l=Ywe(o,2),c=l[0],h=l[1];return Qn(Qn({},a),{},{from:c,velocity:h})}return a},n);return r<1?ah(function(s,a){return CC(a)?Qn(Qn({},a),{},{velocity:rv(a.velocity,i[s].velocity,r),from:rv(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const e1e=(function(t,e,n,r,i){var s=kwe(t,e),a=s.reduce(function(b,w){return Qn(Qn({},b),{},_C({},w,[t[w],e[w]]))},{}),o=s.reduce(function(b,w){return Qn(Qn({},b),{},_C({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,h,d=function(){return null},m=function(){return ah(function(w,_){return _.from},o)},g=function(){return!Object.values(o).filter(CC).length},x=function(w){c||(c=w);var _=w-c,A=_/n.dt;o=Jwe(n,o,A),i(Qn(Qn(Qn({},t),e),m())),c=w,g()||(l=requestAnimationFrame(d))},y=function(w){h||(h=w);var _=(w-h)/r,A=ah(function(P,T){return rv.apply(void 0,c$(T).concat([n(_)]))},a);if(i(Qn(Qn(Qn({},t),e),A)),_<1)l=requestAnimationFrame(d);else{var j=ah(function(P,T){return rv.apply(void 0,c$(T).concat([n(1)]))},a);i(Qn(Qn(Qn({},t),e),j))}};return d=n.isStepper?x:y,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}var t1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function n1e(t,e){if(t==null)return{};var n=r1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function r1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function s_(t){return o1e(t)||a1e(t)||s1e(t)||i1e()}function i1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s1e(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function a1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o1e(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(n),!0).forEach(function(r){qd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qd(t,e,n){return e=l8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l8(r.key),r)}}function u1e(t,e,n){return e&&c1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l8(t){var e=d1e(t,"string");return Zc(e)==="symbol"?e:String(e)}function d1e(t,e){if(Zc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EC(t,e)}function EC(t,e){return EC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EC(t,e)}function f1e(t){var e=p1e();return function(){var r=iv(t),i;if(e){var s=iv(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return TC(this,i)}}function TC(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jC(t)}function jC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}var js=(function(t){h1e(n,t);var e=f1e(n);function n(r,i){var s;l1e(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,h=a.to,d=a.steps,m=a.children,g=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(jC(s)),s.changeStyle=s.changeStyle.bind(jC(s)),!o||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:h}),TC(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof m=="function")return s.state={style:c},TC(s);s.state={style:l?qd({},l,c):c}}else s.state={style:{}};return s}return u1e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,h=s.to,d=s.from,m=this.state.style;if(o){if(!a){var g={style:l?qd({},l,h):h};this.state&&m&&(l&&m[l]!==h||!l&&m!==h)&&this.setState(g);return}if(!(xwe(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||c?d:i.to;if(this.state&&m){var b={style:l?qd({},l,y):y};(l&&m[l]!==y||!l&&m!==y)&&this.setState(b)}this.runAnimation(zi(zi({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,h=i.begin,d=i.onAnimationEnd,m=i.onAnimationStart,g=e1e(a,o,Vwe(c),l,this.changeStyle),x=function(){s.stopJSAnimation=g()};this.manager.start([m,h,x,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],h=c.style,d=c.duration,m=d===void 0?0:d,g=function(y,b,w){if(w===0)return y;var _=b.duration,A=b.easing,j=A===void 0?"ease":A,P=b.style,T=b.properties,k=b.onAnimationEnd,O=w>0?a[w-1]:b,R=T||Object.keys(P);if(typeof j=="function"||j==="spring")return[].concat(s_(y),[s.runJSAnimation.bind(s,{from:O.style,to:P,duration:_,easing:j}),_]);var F=a$(R,_,j),M=zi(zi(zi({},O.style),P),{},{transition:F});return[].concat(s_(y),[M,_,k]).filter(Nwe)};return this.manager.start([l].concat(s_(a.reduce(g,[h,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Ewe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=o?qd({},o,l):l,b=a$(Object.keys(y),a,c);x.start([h,s,zi(zi({},y),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=n1e(i,t1e),c=C.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!o||c===0||a<=0)return s;var d=function(g){var x=g.props,y=x.style,b=y===void 0?{}:y,w=x.className,_=C.cloneElement(g,zi(zi({},l),{},{style:zi(zi({},b),h),className:w}));return _};return c===1?d(C.Children.only(s)):z.createElement("div",null,C.Children.map(s,function(m){return d(m)}))}}]),n})(C.PureComponent);js.displayName="Animate";js.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};js.propTypes={from:mt.oneOfType([mt.object,mt.string]),to:mt.oneOfType([mt.object,mt.string]),attributeName:mt.string,duration:mt.number,begin:mt.number,easing:mt.oneOfType([mt.string,mt.func]),steps:mt.arrayOf(mt.shape({duration:mt.number.isRequired,style:mt.object.isRequired,easing:mt.oneOfType([mt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mt.func]),properties:mt.arrayOf("string"),onAnimationEnd:mt.func})),children:mt.oneOfType([mt.node,mt.func]),isActive:mt.bool,canBegin:mt.bool,onAnimationEnd:mt.func,shouldReAnimate:mt.bool,onAnimationStart:mt.func,onAnimationReStart:mt.func};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}function m1e(t,e){return b1e(t)||y1e(t,e)||v1e(t,e)||g1e()}function g1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v1e(t,e){if(t){if(typeof t=="string")return h$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h$(t,e)}}function h$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function b1e(t){if(Array.isArray(t))return t}function f$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f$(Object(n),!0).forEach(function(r){x1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x1e(t,e,n){return e=w1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w1e(t){var e=S1e(t,"string");return ef(e)=="symbol"?e:e+""}function S1e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var m$=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,g=4;m<g;m++)d[m]=s[m]>a?a:s[m];h="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),h+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),h+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),h+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),h+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);h="M ".concat(e,",").concat(n+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*x,`
            L `).concat(e+r,",").concat(n+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*x," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},_1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),h=Math.max(s,s+o),d=Math.min(a,a+l),m=Math.max(a,a+l);return r>=c&&r<=h&&i>=d&&i<=m}return!1},A1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},BT=function(e){var n=p$(p$({},A1e),e),r=C.useRef(),i=C.useState(-1),s=m1e(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var j=r.current.getTotalLength();j&&o(j)}catch{}},[]);var l=n.x,c=n.y,h=n.width,d=n.height,m=n.radius,g=n.className,x=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var A=Qe("recharts-rectangle",g);return _?z.createElement(js,{canBegin:a>0,from:{width:h,height:d,x:l,y:c},to:{width:h,height:d,x:l,y:c},duration:y,animationEasing:x,isActive:_},function(j){var P=j.width,T=j.height,k=j.x,O=j.y;return z.createElement(js,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:x},z.createElement("path",sv({},$e(n,!0),{className:A,d:m$(k,O,P,T,m),ref:r})))}):z.createElement("path",sv({},$e(n,!0),{className:A,d:m$(l,c,h,d,m)}))},C1e=["points","className","baseLinePoints","connectNulls"];function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function P1e(t,e){if(t==null)return{};var n=E1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function g$(t){return N1e(t)||k1e(t)||j1e(t)||T1e()}function T1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j1e(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function k1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function N1e(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var v$=function(e){return e&&e.x===+e.x&&e.y===+e.y},O1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){v$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),v$(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},oh=function(e,n){var r=O1e(e);n&&(r=[r.reduce(function(s,a){return[].concat(g$(s),g$(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},M1e=function(e,n,r){var i=oh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(oh(n.reverse(),r).slice(1))},D1e=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=P1e(e,C1e);if(!n||!n.length)return null;var o=Qe("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=M1e(n,i,s);return z.createElement("g",{className:o},z.createElement("path",pc({},$e(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?z.createElement("path",pc({},$e(a,!0),{fill:"none",d:oh(n,s)})):null,l?z.createElement("path",pc({},$e(a,!0),{fill:"none",d:oh(i,s)})):null)}var h=oh(n,s);return z.createElement("path",pc({},$e(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:o,d:h}))};function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(this,arguments)}var Dy=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=Qe("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",NC({},$e(e,!1),Tg(e),{className:a,cx:n,cy:r,r:i})):null};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}var R1e=["x","y","top","left","width","height","className"];function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){L1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L1e(t,e,n){return e=F1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F1e(t){var e=$1e(t,"string");return tf(e)=="symbol"?e:e+""}function $1e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B1e(t,e){if(t==null)return{};var n=U1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function U1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var z1e=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},V1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,h=e.width,d=h===void 0?0:h,m=e.height,g=m===void 0?0:m,x=e.className,y=B1e(e,R1e),b=I1e({x:r,y:s,top:o,left:c,width:d,height:g},y);return!ge(r)||!ge(s)||!ge(d)||!ge(g)||!ge(o)||!ge(c)?null:z.createElement("path",OC({},$e(b,!0),{className:Qe("recharts-cross",x),d:z1e(r,s,d,g,o,c)}))},a_,b$;function W1e(){if(b$)return a_;b$=1;var t=jy(),e=_W(),n=Ds();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return a_=r,a_}var H1e=W1e();const q1e=gt(H1e);var o_,x$;function G1e(){if(x$)return o_;x$=1;var t=jy(),e=Ds(),n=AW();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return o_=r,o_}var K1e=G1e();const Y1e=gt(K1e);var X1e=["cx","cy","angle","ticks","axisLine"],Q1e=["ticks","tick","angle","tickFormatter","stroke"];function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function lh(){return lh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lh.apply(this,arguments)}function w$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w$(Object(n),!0).forEach(function(r){Ry(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$(t,e){if(t==null)return{};var n=Z1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Z1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function J1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u8(r.key),r)}}function eSe(t,e,n){return e&&_$(t.prototype,e),n&&_$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function tSe(t,e,n){return e=av(e),nSe(t,c8()?Reflect.construct(e,n||[],av(t).constructor):e.apply(t,n))}function nSe(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rSe(t)}function rSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c8=function(){return!!t})()}function av(t){return av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},av(t)}function iSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MC(t,e)}function Ry(t,e,n){return e=u8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u8(t){var e=sSe(t,"string");return Jc(e)=="symbol"?e:e+""}function sSe(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iy=(function(t){function e(){return J1e(this,e),tSe(this,e,arguments)}return iSe(e,t),eSe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Ot(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=q1e(o,function(h){return h.coordinate||0}),c=Y1e(o,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=S$(r,X1e),h=o.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),d=Ot(i,s,h[0],a),m=Ot(i,s,h[1],a),g=Mo(Mo(Mo({},$e(c,!1)),{},{fill:"none"},$e(l,!1)),{},{x1:d.x,y1:d.y,x2:m.x,y2:m.y});return z.createElement("line",lh({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,h=S$(i,Q1e),d=this.getTickTextAnchor(),m=$e(h,!1),g=$e(a,!1),x=s.map(function(y,b){var w=r.getTickValueCoord(y),_=Mo(Mo(Mo(Mo({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:c},g),{},{index:b},w),{},{payload:y});return z.createElement(ut,lh({className:Qe("recharts-polar-radius-axis-tick",ZW(a)),key:"tick-".concat(y.coordinate)},ol(r.props,y,b)),e.renderTickItem(a,_,l?l(y.value,b):y.value))});return z.createElement(ut,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:z.createElement(ut,{className:Qe("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Ln.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):qe(r)?a=r(i):a=z.createElement(ll,lh({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(C.PureComponent);Ry(Iy,"displayName","PolarRadiusAxis");Ry(Iy,"axisType","radiusAxis");Ry(Iy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}function A$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A$(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,h8(r.key),r)}}function oSe(t,e,n){return e&&C$(t.prototype,e),n&&C$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lSe(t,e,n){return e=ov(e),cSe(t,d8()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function cSe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uSe(t)}function uSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ov(t)}function dSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DC(t,e)}function Ly(t,e,n){return e=h8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h8(t){var e=hSe(t,"string");return eu(e)=="symbol"?e:e+""}function hSe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fSe=Math.PI/180,P$=1e-5,Fy=(function(t){function e(){return aSe(this,e),lSe(this,e,arguments)}return dSe(e,t),oSe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,h=c||8,d=Ot(s,a,o,r.coordinate),m=Ot(s,a,o+(l==="inner"?-1:1)*h,r.coordinate);return{x1:d.x,y1:d.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*fSe),a;return s>P$?a=i==="outer"?"start":"end":s<-P$?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Do(Do({},$e(this.props,!1)),{},{fill:"none"},$e(o,!1));if(l==="circle")return z.createElement(Dy,$o({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var h=this.props.ticks,d=h.map(function(m){return Ot(i,s,a,m.coordinate)});return z.createElement(D1e,$o({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,h=$e(this.props,!1),d=$e(a,!1),m=Do(Do({},h),{},{fill:"none"},$e(o,!1)),g=s.map(function(x,y){var b=r.getTickLineCoord(x),w=r.getTickTextAnchor(x),_=Do(Do(Do({textAnchor:w},h),{},{stroke:"none",fill:c},d),{},{index:y,payload:x,x:b.x2,y:b.y2});return z.createElement(ut,$o({className:Qe("recharts-polar-angle-axis-tick",ZW(a)),key:"tick-".concat(x.coordinate)},ol(r.props,x,y)),o&&z.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},m,b)),a&&e.renderTickItem(a,_,l?l(x.value,y):x.value))});return z.createElement(ut,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:z.createElement(ut,{className:Qe("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):qe(r)?a=r(i):a=z.createElement(ll,$o({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(C.PureComponent);Ly(Fy,"displayName","PolarAngleAxis");Ly(Fy,"axisType","angleAxis");Ly(Fy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var l_,E$;function pSe(){if(E$)return l_;E$=1;var t=S6(),e=t(Object.getPrototypeOf,Object);return l_=e,l_}var c_,T$;function mSe(){if(T$)return c_;T$=1;var t=da(),e=pSe(),n=ha(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var m=o.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==l}return c_=c,c_}var gSe=mSe();const vSe=gt(gSe);var u_,j$;function ySe(){if(j$)return u_;j$=1;var t=da(),e=ha(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return u_=r,u_}var bSe=ySe();const xSe=gt(bSe);function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function wSe(t,e){return CSe(t)||ASe(t,e)||_Se(t,e)||SSe()}function SSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Se(t,e){if(t){if(typeof t=="string")return k$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k$(t,e)}}function k$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ASe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function CSe(t){if(Array.isArray(t))return t}function N$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N$(Object(n),!0).forEach(function(r){PSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PSe(t,e,n){return e=ESe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ESe(t){var e=TSe(t,"string");return nf(e)=="symbol"?e:e+""}function TSe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M$=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},jSe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kSe=function(e){var n=O$(O$({},jSe),e),r=C.useRef(),i=C.useState(-1),s=wSe(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,d=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||m!==+m||h===0&&d===0||m===0)return null;var _=Qe("recharts-trapezoid",g);return w?z.createElement(js,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:h,lowerWidth:d,height:m,x:l,y:c},duration:y,animationEasing:x,isActive:w},function(A){var j=A.upperWidth,P=A.lowerWidth,T=A.height,k=A.x,O=A.y;return z.createElement(js,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:x},z.createElement("path",lv({},$e(n,!0),{className:_,d:M$(k,O,j,P,T),ref:r})))}):z.createElement("g",null,z.createElement("path",lv({},$e(n,!0),{className:_,d:M$(l,c,h,d,m)})))},NSe=["option","shapeType","propTransformer","activeClassName","isActive"];function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function OSe(t,e){if(t==null)return{};var n=MSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(n),!0).forEach(function(r){DSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DSe(t,e,n){return e=RSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RSe(t){var e=ISe(t,"string");return rf(e)=="symbol"?e:e+""}function ISe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LSe(t,e){return cv(cv({},e),t)}function FSe(t,e){return t==="symbols"}function R$(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(BT,n);case"trapezoid":return z.createElement(kSe,n);case"sector":return z.createElement(t8,n);case"symbols":if(FSe(e))return z.createElement(sT,n);break;default:return null}}function $Se(t){return C.isValidElement(t)?t.props:t}function f8(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?LSe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=OSe(t,NSe),c;if(C.isValidElement(e))c=C.cloneElement(e,cv(cv({},l),$Se(e)));else if(qe(e))c=e(l);else if(vSe(e)&&!xSe(e)){var h=i(e,l);c=z.createElement(R$,{shapeType:n,elementProps:h})}else{var d=l;c=z.createElement(R$,{shapeType:n,elementProps:d})}return o?z.createElement(ut,{className:a},c):c}function $y(t,e){return e!=null&&"trapezoids"in t.props}function By(t,e){return e!=null&&"sectors"in t.props}function sf(t,e){return e!=null&&"points"in t.props}function BSe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function USe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function zSe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function VSe(t,e){var n;return $y(t,e)?n=BSe:By(t,e)?n=USe:sf(t,e)&&(n=zSe),n}function WSe(t,e){var n;return $y(t,e)?n="trapezoids":By(t,e)?n="sectors":sf(t,e)&&(n="points"),n}function HSe(t,e){if($y(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(By(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return sf(t,e)?e.payload:{}}function qSe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=WSe(n,e),s=HSe(n,e),a=r.filter(function(l,c){var h=qf(s,l),d=n.props[i].filter(function(x){var y=VSe(n,e);return y(x,e)}),m=n.props[i].indexOf(d[d.length-1]),g=c===m;return h&&g}),o=r.indexOf(a[a.length-1]);return o}var Zm;function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(n),!0).forEach(function(r){wi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m8(r.key),r)}}function KSe(t,e,n){return e&&L$(t.prototype,e),n&&L$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function YSe(t,e,n){return e=uv(e),XSe(t,p8()?Reflect.construct(e,n||[],uv(t).constructor):e.apply(t,n))}function XSe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QSe(t)}function QSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(p8=function(){return!!t})()}function uv(t){return uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uv(t)}function ZSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RC(t,e)}function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RC(t,e)}function wi(t,e,n){return e=m8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m8(t){var e=JSe(t,"string");return tu(e)=="symbol"?e:e+""}function JSe(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ji=(function(t){function e(n){var r;return GSe(this,e),r=YSe(this,e,[n]),wi(r,"pieRef",null),wi(r,"sectorRefs",[]),wi(r,"id",ku("recharts-pie-")),wi(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),wi(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return ZSe(e,t),KSe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,h=$e(this.props,!1),d=$e(a,!1),m=$e(o,!1),g=a&&a.offsetRadius||20,x=r.map(function(y,b){var w=(y.startAngle+y.endAngle)/2,_=Ot(y.cx,y.cy,y.outerRadius+g,w),A=kt(kt(kt(kt({},h),y),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(_.x,y.cx)},_),j=kt(kt(kt(kt({},h),y),{},{fill:"none",stroke:y.fill},m),{},{index:b,points:[Ot(y.cx,y.cy,y.outerRadius,w),_]}),P=l;return Ye(l)&&Ye(c)?P="value":Ye(l)&&(P=c),z.createElement(ut,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,j,"line"),e.renderLabelItem(a,A,Pn(y,P)))});return z.createElement(ut,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,h){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var d=i.isActiveIndex(h),m=l&&i.hasActiveIndex()?l:null,g=d?a:m,x=kt(kt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return z.createElement(ut,mc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},ol(i.props,c,h),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(h)}),z.createElement(f8,mc({option:g,isActive:d,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state,m=d.prevSectors,g=d.prevIsAnimationActive;return z.createElement(js,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,b=[],w=s&&s[0],_=w.startAngle;return s.forEach(function(A,j){var P=m&&m[j],T=j>0?ei(A,"paddingAngle",0):0;if(P){var k=Xr(P.endAngle-P.startAngle,A.endAngle-A.startAngle),O=kt(kt({},A),{},{startAngle:_+T,endAngle:_+k(y)+T});b.push(O),_=O.endAngle}else{var R=A.endAngle,F=A.startAngle,M=Xr(0,R-F),D=M(y),$=kt(kt({},A),{},{startAngle:_+T,endAngle:_+D+T});b.push($),_=$.endAngle}}),z.createElement(ut,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!qf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,h=i.cy,d=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!ge(c)||!ge(h)||!ge(d)||!ge(m))return null;var y=Qe("recharts-pie",o);return z.createElement(ut,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Ln.renderCallByParent(this.props,null,!1),(!g||x)&&na.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);if(qe(r))return r(i);var a=Qe("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(tv,mc({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);var a=s;if(qe(r)&&(a=r(i),z.isValidElement(a)))return a;var o=Qe("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return z.createElement(ll,mc({},i,{alignmentBaseline:"middle",className:o}),a)}}])})(C.PureComponent);Zm=Ji;wi(Ji,"displayName","Pie");wi(Ji,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!gl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});wi(Ji,"parseDeltaAngle",function(t,e){var n=yr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});wi(Ji,"getRealPieData",function(t){var e=t.data,n=t.children,r=$e(t,!1),i=ti(n,Yo);return e&&e.length?e.map(function(s,a){return kt(kt(kt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return kt(kt({},r),s.props)}):[]});wi(Ji,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=QW(i,s),o=r+br(t.cx,i,i/2),l=n+br(t.cy,s,s/2),c=br(t.innerRadius,a,0),h=br(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:h,maxRadius:d}});wi(Ji,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?kt(kt({},e.type.defaultProps),e.props):e.props,i=Zm.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,h=r.nameKey,d=r.valueKey,m=r.tooltipType,g=Math.abs(r.minAngle),x=Zm.parseCoordinateOfPie(r,n),y=Zm.parseDeltaAngle(a,o),b=Math.abs(y),w=c;Ye(c)&&Ye(d)?(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Ye(c)&&(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var _=i.filter(function(O){return Pn(O,w,0)!==0}).length,A=(b>=360?_:_-1)*l,j=b-_*g-A,P=i.reduce(function(O,R){var F=Pn(R,w,0);return O+(ge(F)?F:0)},0),T;if(P>0){var k;T=i.map(function(O,R){var F=Pn(O,w,0),M=Pn(O,h,R),D=(ge(F)?F:0)/P,$;R?$=k.endAngle+yr(y)*l*(F!==0?1:0):$=a;var H=$+yr(y)*((F!==0?g:0)+D*j),q=($+H)/2,V=(x.innerRadius+x.outerRadius)/2,B=[{name:M,value:F,payload:O,dataKey:w,type:m}],L=Ot(x.cx,x.cy,V,q);return k=kt(kt(kt({percent:D,cornerRadius:s,name:M,tooltipPayload:B,midAngle:q,middleRadius:V,tooltipPosition:L},O),x),{},{value:Pn(O,w),startAngle:$,endAngle:H,payload:O,paddingAngle:yr(y)*l}),k})}return kt(kt({},x),{},{sectors:T,data:i})});var d_,F$;function e_e(){if(F$)return d_;F$=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return d_=n,d_}var h_,$$;function g8(){if($$)return h_;$$=1;var t=F6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return h_=r,h_}var f_,B$;function t_e(){if(B$)return f_;B$=1;var t=e_e(),e=Sy(),n=g8();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return f_=r,f_}var p_,U$;function n_e(){if(U$)return p_;U$=1;var t=t_e(),e=t();return p_=e,p_}var r_e=n_e();const dv=gt(r_e);function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function z$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z$(Object(n),!0).forEach(function(r){v8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function v8(t,e,n){return e=i_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i_e(t){var e=s_e(t,"string");return af(e)=="symbol"?e:e+""}function s_e(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a_e=["Webkit","Moz","O","ms"],o_e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=a_e.reduce(function(s,a){return V$(V$({},s),{},v8({},a+r,n))},{});return i[e]=n,i};function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function W$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(n),!0).forEach(function(r){Hr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b8(r.key),r)}}function c_e(t,e,n){return e&&H$(t.prototype,e),n&&H$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u_e(t,e,n){return e=fv(e),d_e(t,y8()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function d_e(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y8=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function f_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IC(t,e)}function IC(t,e){return IC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IC(t,e)}function Hr(t,e,n){return e=b8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b8(t){var e=p_e(t,"string");return nu(e)=="symbol"?e:e+""}function p_e(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=ih().domain(dv(0,l)).range([s,s+a-o]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},q$=function(e){return e.changedTouches&&!!e.changedTouches.length},ru=(function(t){function e(n){var r;return l_e(this,e),r=u_e(this,e,[n]),Hr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Hr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Hr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Hr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Hr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Hr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Hr(r,"handleSlideDragStart",function(i){var s=q$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return f_e(e,t),c_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,h=c.length-1,d=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(a,d),x=e.getIndexInRange(a,m);return{startIndex:g-g%l,endIndex:x===h?h:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Pn(s[r],o,r);return qe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,h=l.width,d=l.travellerWidth,m=l.startIndex,g=l.endIndex,x=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+h-d-o,c+h-d-a):y<0&&(y=Math.max(y,c-a,c-o));var b=this.getIndex({startX:a+y,endX:o+y});(b.startIndex!==m||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=q$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],h=this.props,d=h.x,m=h.width,g=h.travellerWidth,x=h.onChange,y=h.gap,b=h.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,d+m-g-c):_<0&&(_=Math.max(_,d-c)),w[a]=c+_;var A=this.getIndex(w),j=A.startIndex,P=A.endIndex,T=function(){var O=b.length-1;return a==="startX"&&(o>l?j%y===0:P%y===0)||o<l&&P===O||a==="endX"&&(o>l?P%y===0:j%y===0)||o>l&&P===O};this.setState(Hr(Hr({},a,c+_),"brushMoveStartX",r.pageX),function(){x&&T()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,h=this.state[i],d=o.indexOf(h);if(d!==-1){var m=d+r;if(!(m===-1||m>=o.length)){var g=o[m];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Hr({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,h=r.padding,d=C.Children.only(c);return d?z.cloneElement(d,{x:i,y:s,width:a,height:o,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,h=l.travellerWidth,d=l.height,m=l.traveller,g=l.ariaLabel,x=l.data,y=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),_=m_(m_({},$e(this.props,!1)),{},{x:w,y:c,width:h,height:d}),A=g||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return z.createElement(ut,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,h=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:a,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,m=h.endX,g=5,x={pointerEvents:"none",fill:c};return z.createElement(ut,{className:"recharts-brush-texts"},z.createElement(ll,hv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-g,y:a+o/2},x),this.getTextOfTick(i)),z.createElement(ll,hv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+l+g,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,h=r.height,d=r.alwaysShowText,m=this.state,g=m.startX,x=m.endX,y=m.isTextActive,b=m.isSlideMoving,w=m.isTravellerMoving,_=m.isTravellerFocused;if(!i||!i.length||!ge(o)||!ge(l)||!ge(c)||!ge(h)||c<=0||h<=0)return null;var A=Qe("recharts-brush",s),j=z.Children.count(a)===1,P=o_e("userSelect","none");return z.createElement(ut,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),j&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(y||b||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):qe(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return m_({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?m_e({data:s,width:a,x:o,travellerWidth:l,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])})(C.PureComponent);Hr(ru,"displayName","Brush");Hr(ru,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var g_,G$;function g_e(){if(G$)return g_;G$=1;var t=hT();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return g_=e,g_}var v_,K$;function v_e(){if(K$)return v_;K$=1;var t=m6(),e=Ds(),n=g_e(),r=Lr(),i=Sy();function s(a,o,l){var c=r(a)?t:n;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return v_=s,v_}var y_e=v_e();const b_e=gt(y_e);var As=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},y_,Y$;function x_e(){if(Y$)return y_;Y$=1;var t=M6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return y_=e,y_}var b_,X$;function w_e(){if(X$)return b_;X$=1;var t=x_e(),e=N6(),n=Ds();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return b_=r,b_}var S_e=w_e();const __e=gt(S_e);var x_,Q$;function A_e(){if(Q$)return x_;Q$=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return x_=t,x_}var w_,Z$;function C_e(){if(Z$)return w_;Z$=1;var t=hT();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return w_=e,w_}var S_,J$;function P_e(){if(J$)return S_;J$=1;var t=A_e(),e=C_e(),n=Ds(),r=Lr(),i=Sy();function s(a,o,l){var c=r(a)?t:e;return l&&i(a,o,l)&&(o=void 0),c(a,n(o,3))}return S_=s,S_}var E_e=P_e();const x8=gt(E_e);var T_e=["x","y"];function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $d(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){j_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function j_e(t,e,n){return e=k_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k_e(t){var e=N_e(t,"string");return of(e)=="symbol"?e:e+""}function N_e(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O_e(t,e){if(t==null)return{};var n=M_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function D_e(t,e){var n=t.x,r=t.y,i=O_e(t,T_e),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),h=parseInt(c,10),d="".concat(e.width||i.width),m=parseInt(d,10);return $d($d($d($d($d({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:h,width:m,name:e.name,radius:e.radius})}function tB(t){return z.createElement(f8,LC({shapeType:"rectangle",propTransformer:D_e,activeClassName:"recharts-active-bar"},t))}var R_e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ge(r)||ihe(r);return s?e(r,i):(s||ul(),n)}},I_e=["value","background"],w8;function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}function L_e(t,e){if(t==null)return{};var n=F_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){Ga(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_8(r.key),r)}}function B_e(t,e,n){return e&&rB(t.prototype,e),n&&rB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function U_e(t,e,n){return e=mv(e),z_e(t,S8()?Reflect.construct(e,n||[],mv(t).constructor):e.apply(t,n))}function z_e(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V_e(t)}function V_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}function W_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FC(t,e)}function Ga(t,e,n){return e=_8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _8(t){var e=H_e(t,"string");return iu(e)=="symbol"?e:e+""}function H_e(t,e){if(iu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ai=(function(t){function e(){var n;$_e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=U_e(this,e,[].concat(i)),Ga(n,"state",{isAnimationFinished:!1}),Ga(n,"id",ku("recharts-bar-")),Ga(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ga(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return W_e(e,t),B_e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,h=$e(this.props,!1);return r&&r.map(function(d,m){var g=m===l,x=g?c:a,y=pn(pn(pn({},h),d),{},{isActive:g,option:x,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(ut,pv({className:"recharts-bar-rectangle"},ol(i.props,d,m),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(m)}),z.createElement(tB,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,d=i.animationId,m=this.state.prevData;return z.createElement(js,{begin:l,duration:c,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,y=s.map(function(b,w){var _=m&&m[w];if(_){var A=Xr(_.x,b.x),j=Xr(_.y,b.y),P=Xr(_.width,b.width),T=Xr(_.height,b.height);return pn(pn({},b),{},{x:A(x),y:j(x),width:P(x),height:T(x)})}if(a==="horizontal"){var k=Xr(0,b.height),O=k(x);return pn(pn({},b),{},{y:b.y+b.height-O,height:O})}var R=Xr(0,b.width),F=R(x);return pn(pn({},b),{},{width:F})});return z.createElement(ut,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!qf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=$e(this.props.background,!1);return s.map(function(c,h){c.value;var d=c.background,m=L_e(c,I_e);if(!d)return null;var g=pn(pn(pn(pn(pn({},m),{},{fill:"#eee"},d),l),ol(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(tB,pv({key:"background-bar-".concat(h),option:r.props.background,isActive:h===o},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,h=s.children,d=ti(h,Gf);if(!d)return null;var m=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:Pn(b,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(ut,x,d.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,h=r.top,d=r.width,m=r.height,g=r.isAnimationActive,x=r.background,y=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=Qe("recharts-bar",a),_=o&&o.allowDataOverflow,A=l&&l.allowDataOverflow,j=_||A,P=Ye(y)?this.id:y;return z.createElement(ut,{className:w},_||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:_?c:c-d/2,y:A?h:h-m/2,width:_?d:d*2,height:A?m:m*2}))):null,z.createElement(ut,{className:"recharts-bar-rectangles",clipPath:j?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(j,P),(!g||b)&&na.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);w8=Ai;Ga(Ai,"displayName","Bar");Ga(Ai,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!gl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ga(Ai,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,d=t.displayedData,m=t.offset,g=bxe(r,n);if(!g)return null;var x=e.layout,y=n.type.defaultProps,b=y!==void 0?pn(pn({},y),n.props):n.props,w=b.dataKey,_=b.children,A=b.minPointSize,j=x==="horizontal"?a:s,P=c?j.scale.domain():null,T=Pxe({numericAxis:j}),k=ti(_,Yo),O=d.map(function(R,F){var M,D,$,H,q,V;c?M=xxe(c[h+F],P):(M=Pn(R,w),Array.isArray(M)||(M=[T,M]));var B=R_e(A,w8.defaultProps.minPointSize)(M[1],F);if(x==="horizontal"){var L,W=[a.scale(M[0]),a.scale(M[1])],X=W[0],U=W[1];D=TF({axis:s,ticks:o,bandSize:i,offset:g.offset,entry:R,index:F}),$=(L=U??X)!==null&&L!==void 0?L:void 0,H=g.size;var K=X-U;if(q=Number.isNaN(K)?0:K,V={x:D,y:a.y,width:H,height:a.height},Math.abs(B)>0&&Math.abs(q)<Math.abs(B)){var Z=yr(q||B)*(Math.abs(B)-Math.abs(q));$-=Z,q+=Z}}else{var ae=[s.scale(M[0]),s.scale(M[1])],ce=ae[0],pe=ae[1];if(D=ce,$=TF({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:R,index:F}),H=pe-ce,q=g.size,V={x:s.x,y:$,width:s.width,height:q},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var re=yr(H||B)*(Math.abs(B)-Math.abs(H));H+=re}}return pn(pn(pn({},R),{},{x:D,y:$,width:H,height:q,value:c?M:M[1],payload:R,background:V},k&&k[F]&&k[F].props),{},{tooltipPayload:[YW(n,R)],tooltipPosition:{x:D+H/2,y:$+q/2}})});return pn({data:O,layout:x},m)});function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function q_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A8(r.key),r)}}function G_e(t,e,n){return e&&iB(t.prototype,e),n&&iB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uy(t,e,n){return e=A8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A8(t){var e=K_e(t,"string");return lf(e)=="symbol"?e:e+""}function K_e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C8=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},m=!!Gr(c,Ai);return h.reduce(function(g,x){var y=n[x],b=y.orientation,w=y.domain,_=y.padding,A=_===void 0?{}:_,j=y.mirror,P=y.reversed,T="".concat(b).concat(j?"Mirror":""),k,O,R,F,M;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=w[1]-w[0],$=1/0,H=y.categoricalDomain.sort(ohe);if(H.forEach(function(ae,ce){ce>0&&($=Math.min((ae||0)-(H[ce-1]||0),$))}),Number.isFinite($)){var q=$/D,V=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(k=q*V/2),y.padding==="no-gap"){var B=br(e.barCategoryGap,q*V),L=q*V/2;k=L-B-(L-B)/V*B}}}i==="xAxis"?O=[r.left+(A.left||0)+(k||0),r.left+r.width-(A.right||0)-(k||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(k||0),r.top+r.height-(A.bottom||0)-(k||0)]:O=y.range,P&&(O=[O[1],O[0]]);var W=HW(y,s,m),X=W.scale,U=W.realScaleType;X.domain(w).range(O),qW(X);var K=GW(X,Hi(Hi({},y),{},{realScaleType:U}));i==="xAxis"?(M=b==="top"&&!j||b==="bottom"&&j,R=r.left,F=d[T]-M*y.height):i==="yAxis"&&(M=b==="left"&&!j||b==="right"&&j,R=d[T]-M*y.width,F=r.top);var Z=Hi(Hi(Hi({},y),K),{},{realScaleType:U,x:R,y:F,scale:X,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Z.bandSize=Zg(Z,K),!y.hide&&i==="xAxis"?d[T]+=(M?-1:1)*Z.height:y.hide||(d[T]+=(M?-1:1)*Z.width),Hi(Hi({},g),{},Uy({},x,Z))},{})},P8=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},Y_e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return P8({x:n,y:r},{x:i,y:s})},E8=(function(){function t(e){q_e(this,t),this.scale=e}return G_e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Uy(E8,"EPS",1e-4);var UT=function(e){var n=Object.keys(e).reduce(function(r,i){return Hi(Hi({},r),{},Uy({},i,E8.create(e[i])))},{});return Hi(Hi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return __e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return x8(i,function(s,a){return n[a].isInRange(s)})}})};function X_e(t){return(t%180+180)%180}var Q_e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=X_e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},__,aB;function Z_e(){if(aB)return __;aB=1;var t=Ds(),e=Uf(),n=xy();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(d){return c(l[d],d,l)}}var h=i(s,a,o);return h>-1?l[c?s[h]:h]:void 0}}return __=r,__}var A_,oB;function J_e(){if(oB)return A_;oB=1;var t=g8();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return A_=e,A_}var C_,lB;function eAe(){if(lB)return C_;lB=1;var t=P6(),e=Ds(),n=J_e(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return C_=i,C_}var P_,cB;function tAe(){if(cB)return P_;cB=1;var t=Z_e(),e=eAe(),n=t(e);return P_=n,P_}var nAe=tAe();const rAe=gt(nAe);var iAe=zV();const sAe=gt(iAe);var aAe=sAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),zT=C.createContext(void 0),VT=C.createContext(void 0),T8=C.createContext(void 0),j8=C.createContext({}),k8=C.createContext(void 0),N8=C.createContext(0),O8=C.createContext(0),uB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,h=aAe(s);return z.createElement(zT.Provider,{value:r},z.createElement(VT.Provider,{value:i},z.createElement(j8.Provider,{value:s},z.createElement(T8.Provider,{value:h},z.createElement(k8.Provider,{value:a},z.createElement(N8.Provider,{value:c},z.createElement(O8.Provider,{value:l},o)))))))},oAe=function(){return C.useContext(k8)},M8=function(e){var n=C.useContext(zT);n==null&&ul();var r=n[e];return r==null&&ul(),r},lAe=function(){var e=C.useContext(zT);return Ha(e)},cAe=function(){var e=C.useContext(VT),n=rAe(e,function(r){return x8(r.domain,Number.isFinite)});return n||Ha(e)},D8=function(e){var n=C.useContext(VT);n==null&&ul();var r=n[e];return r==null&&ul(),r},uAe=function(){var e=C.useContext(T8);return e},dAe=function(){return C.useContext(j8)},WT=function(){return C.useContext(O8)},HT=function(){return C.useContext(N8)};function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function hAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I8(r.key),r)}}function pAe(t,e,n){return e&&fAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mAe(t,e,n){return e=gv(e),gAe(t,R8()?Reflect.construct(e,n||[],gv(t).constructor):e.apply(t,n))}function gAe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(t)}function vAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function gv(t){return gv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gv(t)}function yAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$C(t,e)}function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){qT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qT(t,e,n){return e=I8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8(t){var e=bAe(t,"string");return su(e)=="symbol"?e:e+""}function bAe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function xAe(t,e){return AAe(t)||_Ae(t,e)||SAe(t,e)||wAe()}function wAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SAe(t,e){if(t){if(typeof t=="string")return fB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fB(t,e)}}function fB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function AAe(t){if(Array.isArray(t))return t}function BC(){return BC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BC.apply(this,arguments)}var CAe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):qe(e)?r=e(n):r=z.createElement("line",BC({},n,{className:"recharts-reference-line-line"})),r},PAe=function(e,n,r,i,s,a,o,l,c){var h=s.x,d=s.y,m=s.width,g=s.height;if(r){var x=c.y,y=e.y.apply(x,{position:a});if(As(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:h+m,y},{x:h,y}];return l==="left"?b.reverse():b}if(n){var w=c.x,_=e.x.apply(w,{position:a});if(As(c,"discard")&&!e.x.isInRange(_))return null;var A=[{x:_,y:d+g},{x:_,y:d}];return o==="top"?A.reverse():A}if(i){var j=c.segment,P=j.map(function(T){return e.apply(T,{position:a})});return As(c,"discard")&&b_e(P,function(T){return!e.isInRange(T)})?null:P}return null};function EAe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=oAe(),h=M8(i),d=D8(s),m=uAe();if(!c||!m)return null;Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=UT({x:h.scale,y:d.scale}),x=En(e),y=En(n),b=r&&r.length===2,w=PAe(g,x,y,b,m,t.position,h.orientation,d.orientation,t);if(!w)return null;var _=xAe(w,2),A=_[0],j=A.x,P=A.y,T=_[1],k=T.x,O=T.y,R=As(t,"hidden")?"url(#".concat(c,")"):void 0,F=hB(hB({clipPath:R},$e(t,!0)),{},{x1:j,y1:P,x2:k,y2:O});return z.createElement(ut,{className:Qe("recharts-reference-line",o)},CAe(a,F),Ln.renderCallByParent(t,Y_e({x1:j,y1:P,x2:k,y2:O})))}var GT=(function(t){function e(){return hAe(this,e),mAe(this,e,arguments)}return yAe(e,t),pAe(e,[{key:"render",value:function(){return z.createElement(EAe,this.props)}}])})(z.Component);qT(GT,"displayName","ReferenceLine");qT(GT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UC.apply(this,arguments)}function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function pB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pB(Object(n),!0).forEach(function(r){zy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F8(r.key),r)}}function kAe(t,e,n){return e&&jAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NAe(t,e,n){return e=vv(e),OAe(t,L8()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function OAe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MAe(t)}function MAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L8=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function DAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zC(t,e)}function zy(t,e,n){return e=F8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F8(t){var e=RAe(t,"string");return au(e)=="symbol"?e:e+""}function RAe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var IAe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=UT({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return As(e,"discard")&&!a.isInRange(o)?null:o},Vy=(function(t){function e(){return TAe(this,e),NAe(this,e,arguments)}return DAe(e,t),kAe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=En(i),h=En(s);if(Yi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var d=IAe(this.props);if(!d)return null;var m=d.x,g=d.y,x=this.props,y=x.shape,b=x.className,w=As(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=mB(mB({clipPath:w},$e(this.props,!0)),{},{cx:m,cy:g});return z.createElement(ut,{className:Qe("recharts-reference-dot",b)},e.renderDot(y,_),Ln.renderCallByParent(this.props,{x:m-a,y:g-a,width:2*a,height:2*a}))}}])})(z.Component);zy(Vy,"displayName","ReferenceDot");zy(Vy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});zy(Vy,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(Dy,UC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){Wy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B8(r.key),r)}}function $Ae(t,e,n){return e&&FAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t,e,n){return e=yv(e),UAe(t,$8()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function UAe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zAe(t)}function zAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($8=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function VAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function Wy(t,e,n){return e=B8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t){var e=WAe(t,"string");return ou(e)=="symbol"?e:e+""}function WAe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HAe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var m=UT({x:h.scale,y:d.scale}),g={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return As(s,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:P8(g,x)},Hy=(function(t){function e(){return LAe(this,e),BAe(this,e,arguments)}return VAe(e,t),$Ae(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=En(i),m=En(s),g=En(a),x=En(o),y=this.props.shape;if(!d&&!m&&!g&&!x&&!y)return null;var b=HAe(d,m,g,x,this.props);if(!b&&!y)return null;var w=As(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(ut,{className:Qe("recharts-reference-area",l)},e.renderRect(y,vB(vB({clipPath:w},$e(this.props,!0)),b)),Ln.renderCallByParent(this.props,b))}}])})(z.Component);Wy(Hy,"displayName","ReferenceArea");Wy(Hy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Wy(Hy,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(BT,VC({},e,{className:"recharts-reference-area-rect"})),n});function U8(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function qAe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Q_e(r,n)}function GAe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function bv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function KAe(t,e){return U8(t,e+1)}function YAe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,h=a,d=function(){var x=r?.[l];if(x===void 0)return{v:U8(r,c)};var y=l,b,w=function(){return b===void 0&&(b=n(x,y)),b},_=x.coordinate,A=l===0||bv(t,_,w,h,o);A||(l=0,h=a,c+=1),A&&(h=_+t*(w()/2+i),l+=c)},m;c<=s.length;)if(m=d(),m)return m.v;return[]}function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function yB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(n),!0).forEach(function(r){XAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XAe(t,e,n){return e=QAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QAe(t){var e=ZAe(t,"string");return cf(e)=="symbol"?e:e+""}function ZAe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JAe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(m){var g=s[m],x,y=function(){return x===void 0&&(x=n(g,m)),x};if(m===a-1){var b=t*(g.coordinate+t*y()/2-l);s[m]=g=or(or({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else s[m]=g=or(or({},g),{},{tickCoord:g.coordinate});var w=bv(t,g.tickCoord,y,o,l);w&&(l=g.tickCoord-t*(y()/2+i),s[m]=or(or({},g),{},{isShow:!0}))},h=a-1;h>=0;h--)c(h);return s}function eCe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var h=r[o-1],d=n(h,o-1),m=t*(h.coordinate+t*d/2-c);a[o-1]=h=or(or({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate});var g=bv(t,h.tickCoord,function(){return d},l,c);g&&(c=h.tickCoord-t*(d/2+i),a[o-1]=or(or({},h),{},{isShow:!0}))}for(var x=s?o-1:o,y=function(_){var A=a[_],j,P=function(){return j===void 0&&(j=n(A,_)),j};if(_===0){var T=t*(A.coordinate-t*P()/2-l);a[_]=A=or(or({},A),{},{tickCoord:T<0?A.coordinate-T*t:A.coordinate})}else a[_]=A=or(or({},A),{},{tickCoord:A.coordinate});var k=bv(t,A.tickCoord,P,l,c);k&&(l=A.tickCoord+t*(P()/2+i),a[_]=or(or({},A),{},{isShow:!0}))},b=0;b<x;b++)y(b);return a}function KT(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,h=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(l)||gl.isSsr)return KAe(i,typeof l=="number"&&ge(l)?l:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",x=h&&g==="width"?rh(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(A,j){var P=qe(c)?c(A.value,j):A.value;return g==="width"?qAe(rh(P,{fontSize:e,letterSpacing:n}),x,d):rh(P,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?yr(i[1].coordinate-i[0].coordinate):1,w=GAe(s,b,g);return l==="equidistantPreserveStart"?YAe(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=eCe(b,w,y,i,a,l==="preserveStartEnd"):m=JAe(b,w,y,i,a),m.filter(function(_){return _.isShow}))}var tCe=["viewBox"],nCe=["viewBox"],rCe=["ticks"];function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){YT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E_(t,e){if(t==null)return{};var n=iCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,V8(r.key),r)}}function aCe(t,e,n){return e&&xB(t.prototype,e),n&&xB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oCe(t,e,n){return e=xv(e),lCe(t,z8()?Reflect.construct(e,n||[],xv(t).constructor):e.apply(t,n))}function lCe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cCe(t)}function cCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z8=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function uCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HC(t,e)}function YT(t,e,n){return e=V8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V8(t){var e=dCe(t,"string");return lu(e)=="symbol"?e:e+""}function dCe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ru=(function(t){function e(n){var r;return sCe(this,e),r=oCe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return uCe(e,t),aCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=E_(r,tCe),o=this.props,l=o.viewBox,c=E_(o,nCe);return!Pc(s,l)||!Pc(a,c)||!Pc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,h=i.tickSize,d=i.mirror,m=i.tickMargin,g,x,y,b,w,_,A=d?-1:1,j=r.tickSize||h,P=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=x=r.coordinate,b=a+ +!d*l,y=b-A*j,_=y-A*m,w=P;break;case"left":y=b=r.coordinate,x=s+ +!d*o,g=x-A*j,w=g-A*m,_=P;break;case"right":y=b=r.coordinate,x=s+ +d*o,g=x+A*j,w=g+A*m,_=P;break;default:g=x=r.coordinate,b=a+ +d*l,y=b+A*j,_=y+A*m,w=P;break}return{line:{x1:g,y1:y,x2:x,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,d=An(An(An({},$e(this.props,!1)),$e(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);d=An(An({},d),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=An(An({},d),{},{x1:i+g*a,y1:s,x2:i+g*a,y2:s+o})}return z.createElement("line",gc({},d,{className:Qe("recharts-cartesian-axis-line",ei(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,h=o.tick,d=o.tickFormatter,m=o.unit,g=KT(An(An({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=$e(this.props,!1),w=$e(h,!1),_=An(An({},b),{},{fill:"none"},$e(l,!1)),A=g.map(function(j,P){var T=a.getTickLineCoord(j),k=T.line,O=T.tick,R=An(An(An(An({textAnchor:x,verticalAnchor:y},b),{},{stroke:"none",fill:c},w),O),{},{index:P,payload:j,visibleTicksCount:g.length,tickFormatter:d});return z.createElement(ut,gc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(j.value,"-").concat(j.coordinate,"-").concat(j.tickCoord)},ol(a.props,j,P)),l&&z.createElement("line",gc({},_,k,{className:Qe("recharts-cartesian-axis-tick-line",ei(l,"className"))})),h&&e.renderTickItem(h,R,"".concat(qe(d)?d(j.value,P):j.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var d=this.props,m=d.ticks,g=E_(d,rCe),x=m;return qe(l)&&(x=m&&m.length>0?l(this.props):l(g)),a<=0||o<=0||!x||!x.length?null:z.createElement(ut,{className:Qe("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Ln.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=Qe(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?a=z.cloneElement(r,An(An({},i),{},{className:o})):qe(r)?a=r(An(An({},i),{},{className:o})):a=z.createElement(ll,gc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(C.Component);YT(Ru,"displayName","CartesianAxis");YT(Ru,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var hCe=["x1","y1","x2","y2","key"],fCe=["offset"];function dl(t){"@babel/helpers - typeof";return dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dl(t)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){pCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pCe(t,e,n){return e=mCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mCe(t){var e=gCe(t,"string");return dl(e)=="symbol"?e:e+""}function gCe(t,e){if(dl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(dl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function SB(t,e){if(t==null)return{};var n=vCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var yCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function W8(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=SB(e,hCe),c=$e(l,!1);c.offset;var h=SB(c,fCe);n=z.createElement("line",qo({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function bCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=lr(lr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return W8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function xCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=lr(lr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return W8(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function wCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var h=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var x=!h[g+1],y=x?i+a-m:h[g+1]-m;if(y<=0)return null;var b=g%e.length;return z.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:y,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function SCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var x=!h[g+1],y=x?s+o-m:h[g+1]-m;if(y<=0)return null;var b=g%r.length;return z.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var _Ce=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return WW(KT(lr(lr(lr({},Ru.defaultProps),r),{},{ticks:Js(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},ACe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return WW(KT(lr(lr(lr({},Ru.defaultProps),r),{},{ticks:Js(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},ec={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gd(t){var e,n,r,i,s,a,o=WT(),l=HT(),c=dAe(),h=lr(lr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ec.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ec.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ec.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ec.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ec.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ec.verticalFill,x:ge(t.x)?t.x:c.left,y:ge(t.y)?t.y:c.top,width:ge(t.width)?t.width:c.width,height:ge(t.height)?t.height:c.height}),d=h.x,m=h.y,g=h.width,x=h.height,y=h.syncWithTicks,b=h.horizontalValues,w=h.verticalValues,_=lAe(),A=cAe();if(!ge(g)||g<=0||!ge(x)||x<=0||!ge(d)||d!==+d||!ge(m)||m!==+m)return null;var j=h.verticalCoordinatesGenerator||_Ce,P=h.horizontalCoordinatesGenerator||ACe,T=h.horizontalPoints,k=h.verticalPoints;if((!T||!T.length)&&qe(P)){var O=b&&b.length,R=P({yAxis:A?lr(lr({},A),{},{ticks:O?b:A.ticks}):void 0,width:o,height:l,offset:c},O?!0:y);Yi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(dl(R),"]")),Array.isArray(R)&&(T=R)}if((!k||!k.length)&&qe(j)){var F=w&&w.length,M=j({xAxis:_?lr(lr({},_),{},{ticks:F?w:_.ticks}):void 0,width:o,height:l,offset:c},F?!0:y);Yi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(dl(M),"]")),Array.isArray(M)&&(k=M)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(yCe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(bCe,qo({},h,{offset:c,horizontalPoints:T,xAxis:_,yAxis:A})),z.createElement(xCe,qo({},h,{offset:c,verticalPoints:k,xAxis:_,yAxis:A})),z.createElement(wCe,qo({},h,{horizontalPoints:T})),z.createElement(SCe,qo({},h,{verticalPoints:k})))}Gd.displayName="CartesianGrid";var CCe=["type","layout","connectNulls","ref"],PCe=["key"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function _B(t,e){if(t==null)return{};var n=ECe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ECe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){qi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tc(t){return NCe(t)||kCe(t)||jCe(t)||TCe()}function TCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jCe(t,e){if(t){if(typeof t=="string")return qC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qC(t,e)}}function kCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NCe(t){if(Array.isArray(t))return qC(t)}function qC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,q8(r.key),r)}}function MCe(t,e,n){return e&&CB(t.prototype,e),n&&CB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,n){return e=wv(e),RCe(t,H8()?Reflect.construct(e,n||[],wv(t).constructor):e.apply(t,n))}function RCe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(t)}function ICe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(H8=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function LCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GC(t,e)}function qi(t,e,n){return e=q8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q8(t){var e=FCe(t,"string");return cu(e)=="symbol"?e:e+""}function FCe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kf=(function(t){function e(){var n;OCe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=DCe(this,e,[].concat(i)),qi(n,"state",{isAnimationFinished:!0,totalLength:0}),qi(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),qi(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(w,_){return w+_});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var h=Math.floor(a/c),d=a%c,m=o-a,g=[],x=0,y=0;x<l.length;y+=l[x],++x)if(y+l[x]>d){g=[].concat(tc(l.slice(0,x)),[d-y]);break}var b=g.length%2===0?[0,m]:[m];return[].concat(tc(e.repeat(l,h)),tc(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),qi(n,"id",ku("recharts-line-")),qi(n,"pathRef",function(a){n.mainCurve=a}),qi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),qi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return LCe(e,t),MCe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,h=s.children,d=ti(h,Gf);if(!d)return null;var m=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Pn(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(ut,g,d.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,h=o.dataKey,d=$e(this.props,!1),m=$e(l,!0),g=c.map(function(y,b){var w=Wr(Wr(Wr({key:"dot-".concat(b),r:3},d),m),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:h,payload:y.payload,points:c});return e.renderDotItem(l,w)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(ut,ch({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,h=o.connectNulls;o.ref;var d=_B(o,CCe),m=Wr(Wr(Wr({},$e(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:h});return z.createElement(tv,ch({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,h=a.animationBegin,d=a.animationDuration,m=a.animationEasing,g=a.animationId,x=a.animateNewValues,y=a.width,b=a.height,w=this.state,_=w.prevPoints,A=w.totalLength;return z.createElement(js,{begin:h,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(j){var P=j.t;if(_){var T=_.length/o.length,k=o.map(function(D,$){var H=Math.floor($*T);if(_[H]){var q=_[H],V=Xr(q.x,D.x),B=Xr(q.y,D.y);return Wr(Wr({},D),{},{x:V(P),y:B(P)})}if(x){var L=Xr(y*2,D.x),W=Xr(b/2,D.y);return Wr(Wr({},D),{},{x:L(P),y:W(P)})}return Wr(Wr({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(k,r,i)}var O=Xr(0,A),R=O(P),F;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});F=s.getStrokeDasharray(R,A,M)}else F=s.generateSimpleStrokeDasharray(A,R);return s.renderCurveStatically(o,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return o&&a&&a.length&&(!c&&h>0||!qf(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,h=i.yAxis,d=i.top,m=i.left,g=i.width,x=i.height,y=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=o.length===1,A=Qe("recharts-line",l),j=c&&c.allowDataOverflow,P=h&&h.allowDataOverflow,T=j||P,k=Ye(b)?this.id:b,O=(r=$e(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=O.r,F=R===void 0?3:R,M=O.strokeWidth,D=M===void 0?2:M,$=ghe(a)?a:{},H=$.clipDot,q=H===void 0?!0:H,V=F*2+D;return z.createElement(ut,{className:A},j||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(k)},z.createElement("rect",{x:j?m:m-g/2,y:P?d:d-x/2,width:j?g:g*2,height:P?x:x*2})),!q&&z.createElement("clipPath",{id:"clipPath-dots-".concat(k)},z.createElement("rect",{x:m-V/2,y:d-V/2,width:g+V,height:x+V}))):null,!_&&this.renderCurve(T,k),this.renderErrorBar(T,k),(_||a)&&this.renderDots(T,q,k),(!y||w)&&na.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(tc(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(tc(a),tc(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(z.isValidElement(r))s=z.cloneElement(r,i);else if(qe(r))s=r(i);else{var a=i.key,o=_B(i,PCe),l=Qe("recharts-line-dot",typeof r!="boolean"?r.className:"");s=z.createElement(Dy,ch({key:a},o,{className:l}))}return s}}])})(C.PureComponent);qi(Kf,"displayName","Line");qi(Kf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!gl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});qi(Kf,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,h=e.layout,d=l.map(function(m,g){var x=Pn(m,a);return h==="horizontal"?{x:EF({axis:n,ticks:i,bandSize:o,entry:m,index:g}),y:Ye(x)?null:r.scale(x),value:x,payload:m}:{x:Ye(x)?null:n.scale(x),y:EF({axis:r,ticks:s,bandSize:o,entry:m,index:g}),value:x,payload:m}});return Wr({points:d,layout:h},c)});function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function $Ce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y8(r.key),r)}}function UCe(t,e,n){return e&&BCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zCe(t,e,n){return e=Sv(e),VCe(t,G8()?Reflect.construct(e,n||[],Sv(t).constructor):e.apply(t,n))}function VCe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WCe(t)}function WCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G8=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(t)}function HCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KC(t,e)}function K8(t,e,n){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8(t){var e=qCe(t,"string");return uu(e)=="symbol"?e:e+""}function qCe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function GCe(t){var e=t.xAxisId,n=WT(),r=HT(),i=M8(e);return i==null?null:C.createElement(Ru,YC({},i,{className:Qe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Js(a,!0)}}))}var vs=(function(t){function e(){return $Ce(this,e),zCe(this,e,arguments)}return HCe(e,t),UCe(e,[{key:"render",value:function(){return C.createElement(GCe,this.props)}}])})(C.Component);K8(vs,"displayName","XAxis");K8(vs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function KCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Z8(r.key),r)}}function XCe(t,e,n){return e&&YCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QCe(t,e,n){return e=_v(e),ZCe(t,X8()?Reflect.construct(e,n||[],_v(t).constructor):e.apply(t,n))}function ZCe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(t)}function JCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X8=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}function ePe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XC(t,e)}function Q8(t,e,n){return e=Z8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z8(t){var e=tPe(t,"string");return du(e)=="symbol"?e:e+""}function tPe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(this,arguments)}var nPe=function(e){var n=e.yAxisId,r=WT(),i=HT(),s=D8(n);return s==null?null:C.createElement(Ru,QC({},s,{className:Qe("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Js(o,!0)}}))},ys=(function(t){function e(){return KCe(this,e),QCe(this,e,arguments)}return ePe(e,t),XCe(e,[{key:"render",value:function(){return C.createElement(nPe,this.props)}}])})(C.Component);Q8(ys,"displayName","YAxis");Q8(ys,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function PB(t){return aPe(t)||sPe(t)||iPe(t)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iPe(t,e){if(t){if(typeof t=="string")return ZC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZC(t,e)}}function sPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aPe(t){if(Array.isArray(t))return ZC(t)}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JC=function(e,n,r,i,s){var a=ti(e,GT),o=ti(e,Vy),l=[].concat(PB(a),PB(o)),c=ti(e,Hy),h="".concat(i,"Id"),d=i[0],m=n;if(l.length&&(m=l.reduce(function(y,b){if(b.props[h]===r&&As(b.props,"extendDomain")&&ge(b.props[d])){var w=b.props[d];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},m)),c.length){var g="".concat(d,"1"),x="".concat(d,"2");m=c.reduce(function(y,b){if(b.props[h]===r&&As(b.props,"extendDomain")&&ge(b.props[g])&&ge(b.props[x])){var w=b.props[g],_=b.props[x];return[Math.min(y[0],w,_),Math.max(y[1],w,_)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,b){return ge(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},m)),m},T_={exports:{}},EB;function oPe(){return EB||(EB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,d,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,d||l,m),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,g=d.length,x=new Array(g);m<g;m++)x[m]=d[m].fn;return x},o.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,h,d,m,g,x){var y=n?n+c:c;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,_,A;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,d),!0;case 4:return b.fn.call(b.context,h,d,m),!0;case 5:return b.fn.call(b.context,h,d,m,g),!0;case 6:return b.fn.call(b.context,h,d,m,g,x),!0}for(A=1,_=new Array(w-1);A<w;A++)_[A-1]=arguments[A];b.fn.apply(b.context,_)}else{var j=b.length,P;for(A=0;A<j;A++)switch(b[A].once&&this.removeListener(c,b[A].fn,void 0,!0),w){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,h);break;case 3:b[A].fn.call(b[A].context,h,d);break;case 4:b[A].fn.call(b[A].context,h,d,m);break;default:if(!_)for(P=1,_=new Array(w-1);P<w;P++)_[P-1]=arguments[P];b[A].fn.apply(b[A].context,_)}}return!0},o.prototype.on=function(c,h,d){return s(this,c,h,d,!1)},o.prototype.once=function(c,h,d){return s(this,c,h,d,!0)},o.prototype.removeListener=function(c,h,d,m){var g=n?n+c:c;if(!this._events[g])return this;if(!h)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===h&&(!m||x.once)&&(!d||x.context===d)&&a(this,g);else{for(var y=0,b=[],w=x.length;y<w;y++)(x[y].fn!==h||m&&!x[y].once||d&&x[y].context!==d)&&b.push(x[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(T_)),T_.exports}var lPe=oPe();const cPe=gt(lPe);var j_=new cPe,k_="recharts.syncMouseEvents";function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function uPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J8(r.key),r)}}function hPe(t,e,n){return e&&dPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function N_(t,e,n){return e=J8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=fPe(t,"string");return uf(e)=="symbol"?e:e+""}function fPe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pPe=(function(){function t(){uPe(this,t),N_(this,"activeIndex",0),N_(this,"coordinateList",[]),N_(this,"layout","horizontal")}return hPe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,h=n.offset,d=h===void 0?null:h,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,m=a+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:d,pageY:m})}}}])})();function mPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function gPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function eH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Ot(e,n,r,i),o=Ot(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function vPe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,h=e.outerRadius,d=e.angle,m=Ot(o,l,c,d),g=Ot(o,l,h,d);r=m.x,i=m.y,s=g.x,a=g.y}else return eH(e);return[{x:r,y:i},{x:s,y:a}]}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function TB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(n),!0).forEach(function(r){yPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yPe(t,e,n){return e=bPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bPe(t){var e=xPe(t,"string");return df(e)=="symbol"?e:e+""}function xPe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wPe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,m=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,y=tv;if(m==="ScatterChart")x=a,y=V1e;else if(m==="BarChart")x=gPe(d,a,l,h),y=BT;else if(d==="radial"){var b=eH(a),w=b.cx,_=b.cy,A=b.radius,j=b.startAngle,P=b.endAngle;x={cx:w,cy:_,startAngle:j,endAngle:P,innerRadius:A,outerRadius:A},y=t8}else x={points:vPe(d,a,l)},y=tv;var T=Bm(Bm(Bm(Bm({stroke:"#ccc",pointerEvents:"none"},l),x),$e(g,!1)),{},{payload:o,payloadIndex:c,className:Qe("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,T):C.createElement(y,T)}var SPe=["item"],_Pe=["children","className","width","height","style","compact","title","desc"];function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}function jB(t,e){return PPe(t)||CPe(t,e)||nH(t,e)||APe()}function APe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function PPe(t){if(Array.isArray(t))return t}function kB(t,e){if(t==null)return{};var n=EPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rH(r.key),r)}}function kPe(t,e,n){return e&&jPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NPe(t,e,n){return e=Av(e),OPe(t,tH()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function OPe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MPe(t)}function MPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function DPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eP(t,e)}function eP(t,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eP(t,e)}function fu(t){return LPe(t)||IPe(t)||nH(t)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nH(t,e){if(t){if(typeof t=="string")return tP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(t,e)}}function IPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LPe(t){if(Array.isArray(t))return tP(t)}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=rH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rH(t){var e=FPe(t,"string");return hu(e)=="symbol"?e:e+""}function FPe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Pe={xAxis:["bottom","top"],yAxis:["left","right"]},BPe={width:"100%",height:"100%"},iH={x:0,y:0};function Um(t){return t}var UPe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},zPe=function(e,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return oe(oe(oe({},i),Ot(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return oe(oe(oe({},i),Ot(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return iH},qy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(fu(o),fu(c)):o},[]);return a.length>0?a:e&&e.length&&ge(i)&&ge(s)?e.slice(i,s+1):[]};function sH(t){return t==="number"?[0,"auto"]:void 0}var nP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=qy(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?o:d;m=Eg(g,a.dataKey,i)}else m=d&&d[r]||o[r];return m?[].concat(fu(l),[YW(c,m)]):l},[])},OB=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=UPe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,h=fxe(a,o,c,l);if(h>=0&&c){var d=c[h]&&c[h].value,m=nP(e,n,h,d),g=zPe(r,o,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:m,activeCoordinate:g}}return null},VPe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,m=e.stackOffset,g=VW(h,s);return r.reduce(function(x,y){var b,w=y.type.defaultProps!==void 0?oe(oe({},y.type.defaultProps),y.props):y.props,_=w.type,A=w.dataKey,j=w.allowDataOverflow,P=w.allowDuplicatedCategory,T=w.scale,k=w.ticks,O=w.includeHidden,R=w[a];if(x[R])return x;var F=qy(e.data,{graphicalItems:i.filter(function(K){var Z,ae=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a];return ae===R}),dataStartIndex:l,dataEndIndex:c}),M=F.length,D,$,H;mPe(w.domain,j,_)&&(D=gC(w.domain,null,j),g&&(_==="number"||T!=="auto")&&(H=sh(F,A,"category")));var q=sH(_);if(!D||D.length===0){var V,B=(V=w.domain)!==null&&V!==void 0?V:q;if(A){if(D=sh(F,A,_),_==="category"&&g){var L=ahe(D);P&&L?($=D,D=dv(0,M)):P||(D=NF(B,D,y).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(fu(K),[Z])},[]))}else if(_==="category")P?D=D.filter(function(K){return K!==""&&!Ye(K)}):D=NF(B,D,y).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||Ye(Z)?K:[].concat(fu(K),[Z])},[]);else if(_==="number"){var W=yxe(F,i.filter(function(K){var Z,ae,ce=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a],pe="hide"in K.props?K.props.hide:(ae=K.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ce===R&&(O||!pe)}),A,s,h);W&&(D=W)}g&&(_==="number"||T!=="auto")&&(H=sh(F,A,"category"))}else g?D=dv(0,M):o&&o[R]&&o[R].hasStack&&_==="number"?D=m==="expand"?[0,1]:KW(o[R].stackGroups,l,c):D=zW(F,i.filter(function(K){var Z=a in K.props?K.props[a]:K.type.defaultProps[a],ae="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===R&&(O||!ae)}),_,h,!0);if(_==="number")D=JC(d,D,R,s,k),B&&(D=gC(B,D,j));else if(_==="category"&&B){var X=B,U=D.every(function(K){return X.indexOf(K)>=0});U&&(D=X)}}return oe(oe({},x),{},Ue({},R,oe(oe({},w),{},{axisType:s,domain:D,categoricalDomain:H,duplicateDomain:$,originalDomain:(b=w.domain)!==null&&b!==void 0?b:q,isCategorical:g,layout:h})))},{})},WPe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,m=qy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=m.length,x=VW(h,s),y=-1;return r.reduce(function(b,w){var _=w.type.defaultProps!==void 0?oe(oe({},w.type.defaultProps),w.props):w.props,A=_[a],j=sH("number");if(!b[A]){y++;var P;return x?P=dv(0,g):o&&o[A]&&o[A].hasStack?(P=KW(o[A].stackGroups,l,c),P=JC(d,P,A,s)):(P=gC(j,zW(m,r.filter(function(T){var k,O,R=a in T.props?T.props[a]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[a],F="hide"in T.props?T.props.hide:(O=T.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===A&&!F}),"number",h),i.defaultProps.allowDataOverflow),P=JC(d,P,A,s)),oe(oe({},b),{},Ue({},A,oe(oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ei($Pe,"".concat(s,".").concat(y%2),null),domain:P,originalDomain:j,isCategorical:x,layout:h})))}return b},{})},HPe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),m=ti(h,s),g={};return m&&m.length?g=VPe(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=WPe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),g},qPe=function(e){var n=Ha(e),r=Js(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:fT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zg(n,r)}},MB=function(e){var n=e.children,r=e.defaultShowTooltip,i=Gr(n,ru),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},GPe=function(e){return!e||!e.length?!1:e.some(function(n){var r=ea(n&&n.type);return r&&r.indexOf("Bar")>=0})},DB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KPe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,h=r.height,d=r.children,m=r.margin||{},g=Gr(d,ru),x=Gr(d,ms),y=Object.keys(l).reduce(function(P,T){var k=l[T],O=k.orientation;return!k.mirror&&!k.hide?oe(oe({},P),{},Ue({},O,P[O]+k.width)):P},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(P,T){var k=a[T],O=k.orientation;return!k.mirror&&!k.hide?oe(oe({},P),{},Ue({},O,ei(P,"".concat(O))+k.height)):P},{top:m.top||0,bottom:m.bottom||0}),w=oe(oe({},b),y),_=w.bottom;g&&(w.bottom+=g.props.height||ru.defaultProps.height),x&&n&&(w=gxe(w,i,r,n));var A=c-w.left-w.right,j=h-w.top-w.bottom;return oe(oe({brushBottom:_},w),{},{width:Math.max(A,0),height:Math.max(j,0)})},YPe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},XT=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,m=function(w,_){var A=_.graphicalItems,j=_.stackGroups,P=_.offset,T=_.updateId,k=_.dataStartIndex,O=_.dataEndIndex,R=w.barSize,F=w.layout,M=w.barGap,D=w.barCategoryGap,$=w.maxBarSize,H=DB(F),q=H.numericAxisName,V=H.cateAxisName,B=GPe(A),L=[];return A.forEach(function(W,X){var U=qy(w.data,{graphicalItems:[W],dataStartIndex:k,dataEndIndex:O}),K=W.type.defaultProps!==void 0?oe(oe({},W.type.defaultProps),W.props):W.props,Z=K.dataKey,ae=K.maxBarSize,ce=K["".concat(q,"Id")],pe=K["".concat(V,"Id")],re={},ee=l.reduce(function(tr,Rt){var Fr=_["".concat(Rt.axisType,"Map")],ho=K["".concat(Rt.axisType,"Id")];Fr&&Fr[ho]||Rt.axisType==="zAxis"||ul();var fo=Fr[ho];return oe(oe({},tr),{},Ue(Ue({},Rt.axisType,fo),"".concat(Rt.axisType,"Ticks"),Js(fo)))},re),te=ee[V],le=ee["".concat(V,"Ticks")],he=j&&j[ce]&&j[ce].hasStack&&Exe(W,j[ce].stackGroups),se=ea(W.type).indexOf("Bar")>=0,We=Zg(te,le),Re=[],wt=B&&pxe({barSize:R,stackGroups:j,totalSize:YPe(ee,V)});if(se){var vt,St,_r=Ye(ae)?$:ae,cn=(vt=(St=Zg(te,le,!0))!==null&&St!==void 0?St:_r)!==null&&vt!==void 0?vt:0;Re=mxe({barGap:M,barCategoryGap:D,bandSize:cn!==We?cn:We,sizeList:wt[pe],maxBarSize:_r}),cn!==We&&(Re=Re.map(function(tr){return oe(oe({},tr),{},{position:oe(oe({},tr.position),{},{offset:tr.position.offset-cn/2})})}))}var ri=W&&W.type&&W.type.getComposedData;ri&&L.push({props:oe(oe({},ri(oe(oe({},ee),{},{displayedData:U,props:w,dataKey:Z,item:W,bandSize:We,barPosition:Re,offset:P,stackedData:he,layout:F,dataStartIndex:k,dataEndIndex:O}))),{},Ue(Ue(Ue({key:W.key||"item-".concat(X)},q,ee[q]),V,ee[V]),"animationId",T)),childIndex:bhe(W,w.children),item:W})}),L},g=function(w,_){var A=w.props,j=w.dataStartIndex,P=w.dataEndIndex,T=w.updateId;if(!HD({props:A}))return null;var k=A.children,O=A.layout,R=A.stackOffset,F=A.data,M=A.reverseStackOrder,D=DB(O),$=D.numericAxisName,H=D.cateAxisName,q=ti(k,r),V=Cxe(F,q,"".concat($,"Id"),"".concat(H,"Id"),R,M),B=l.reduce(function(K,Z){var ae="".concat(Z.axisType,"Map");return oe(oe({},K),{},Ue({},ae,HPe(A,oe(oe({},Z),{},{graphicalItems:q,stackGroups:Z.axisType===$&&V,dataStartIndex:j,dataEndIndex:P}))))},{}),L=KPe(oe(oe({},B),{},{props:A,graphicalItems:q}),_?.legendBBox);Object.keys(B).forEach(function(K){B[K]=h(A,B[K],L,K.replace("Map",""),n)});var W=B["".concat(H,"Map")],X=qPe(W),U=m(A,oe(oe({},B),{},{dataStartIndex:j,dataEndIndex:P,updateId:T,graphicalItems:q,stackGroups:V,offset:L}));return oe(oe({formattedGraphicalItems:U,graphicalItems:q,offset:L,stackGroups:V},X),B)},x=(function(b){function w(_){var A,j,P;return TPe(this,w),P=NPe(this,w,[_]),Ue(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(P,"accessibilityManager",new pPe),Ue(P,"handleLegendBBoxUpdate",function(T){if(T){var k=P.state,O=k.dataStartIndex,R=k.dataEndIndex,F=k.updateId;P.setState(oe({legendBBox:T},g({props:P.props,dataStartIndex:O,dataEndIndex:R,updateId:F},oe(oe({},P.state),{},{legendBBox:T}))))}}),Ue(P,"handleReceiveSyncEvent",function(T,k,O){if(P.props.syncId===T){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),Ue(P,"handleBrushChange",function(T){var k=T.startIndex,O=T.endIndex;if(k!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var R=P.state.updateId;P.setState(function(){return oe({dataStartIndex:k,dataEndIndex:O},g({props:P.props,dataStartIndex:k,dataEndIndex:O,updateId:R},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),Ue(P,"handleMouseEnter",function(T){var k=P.getMouseInfo(T);if(k){var O=oe(oe({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var R=P.props.onMouseEnter;qe(R)&&R(O,T)}}),Ue(P,"triggeredAfterMouseMove",function(T){var k=P.getMouseInfo(T),O=k?oe(oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var R=P.props.onMouseMove;qe(R)&&R(O,T)}),Ue(P,"handleItemMouseEnter",function(T){P.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ue(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ue(P,"handleMouseMove",function(T){T.persist(),P.throttleTriggeredAfterMouseMove(T)}),Ue(P,"handleMouseLeave",function(T){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var O=P.props.onMouseLeave;qe(O)&&O(k,T)}),Ue(P,"handleOuterEvent",function(T){var k=yhe(T),O=ei(P.props,"".concat(k));if(k&&qe(O)){var R,F;/.*touch.*/i.test(k)?F=P.getMouseInfo(T.changedTouches[0]):F=P.getMouseInfo(T),O((R=F)!==null&&R!==void 0?R:{},T)}}),Ue(P,"handleClick",function(T){var k=P.getMouseInfo(T);if(k){var O=oe(oe({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var R=P.props.onClick;qe(R)&&R(O,T)}}),Ue(P,"handleMouseDown",function(T){var k=P.props.onMouseDown;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleMouseUp",function(T){var k=P.props.onMouseUp;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ue(P,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.handleMouseDown(T.changedTouches[0])}),Ue(P,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.handleMouseUp(T.changedTouches[0])}),Ue(P,"handleDoubleClick",function(T){var k=P.props.onDoubleClick;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleContextMenu",function(T){var k=P.props.onContextMenu;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"triggerSyncEvent",function(T){P.props.syncId!==void 0&&j_.emit(k_,P.props.syncId,T,P.eventEmitterSymbol)}),Ue(P,"applySyncEvent",function(T){var k=P.props,O=k.layout,R=k.syncMethod,F=P.state.updateId,M=T.dataStartIndex,D=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)P.setState(oe({dataStartIndex:M,dataEndIndex:D},g({props:P.props,dataStartIndex:M,dataEndIndex:D,updateId:F},P.state)));else if(T.activeTooltipIndex!==void 0){var $=T.chartX,H=T.chartY,q=T.activeTooltipIndex,V=P.state,B=V.offset,L=V.tooltipTicks;if(!B)return;if(typeof R=="function")q=R(L,T);else if(R==="value"){q=-1;for(var W=0;W<L.length;W++)if(L[W].value===T.activeLabel){q=W;break}}var X=oe(oe({},B),{},{x:B.left,y:B.top}),U=Math.min($,X.x+X.width),K=Math.min(H,X.y+X.height),Z=L[q]&&L[q].value,ae=nP(P.state,P.props.data,q),ce=L[q]?{x:O==="horizontal"?L[q].coordinate:U,y:O==="horizontal"?K:L[q].coordinate}:iH;P.setState(oe(oe({},T),{},{activeLabel:Z,activeCoordinate:ce,activePayload:ae,activeTooltipIndex:q}))}else P.setState(T)}),Ue(P,"renderCursor",function(T){var k,O=P.state,R=O.isTooltipActive,F=O.activeCoordinate,M=O.activePayload,D=O.offset,$=O.activeTooltipIndex,H=O.tooltipAxisBandSize,q=P.getTooltipEventType(),V=(k=T.props.active)!==null&&k!==void 0?k:R,B=P.props.layout,L=T.key||"_recharts-cursor";return z.createElement(wPe,{key:L,activeCoordinate:F,activePayload:M,activeTooltipIndex:$,chartName:n,element:T,isActive:V,layout:B,offset:D,tooltipAxisBandSize:H,tooltipEventType:q})}),Ue(P,"renderPolarAxis",function(T,k,O){var R=ei(T,"type.axisType"),F=ei(P.state,"".concat(R,"Map")),M=T.type.defaultProps,D=M!==void 0?oe(oe({},M),T.props):T.props,$=F&&F[D["".concat(R,"Id")]];return C.cloneElement(T,oe(oe({},$),{},{className:Qe(R,$.className),key:T.key||"".concat(k,"-").concat(O),ticks:Js($,!0)}))}),Ue(P,"renderPolarGrid",function(T){var k=T.props,O=k.radialLines,R=k.polarAngles,F=k.polarRadius,M=P.state,D=M.radiusAxisMap,$=M.angleAxisMap,H=Ha(D),q=Ha($),V=q.cx,B=q.cy,L=q.innerRadius,W=q.outerRadius;return C.cloneElement(T,{polarAngles:Array.isArray(R)?R:Js(q,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(F)?F:Js(H,!0).map(function(X){return X.coordinate}),cx:V,cy:B,innerRadius:L,outerRadius:W,key:T.key||"polar-grid",radialLines:O})}),Ue(P,"renderLegend",function(){var T=P.state.formattedGraphicalItems,k=P.props,O=k.children,R=k.width,F=k.height,M=P.props.margin||{},D=R-(M.left||0)-(M.right||0),$=BW({children:O,formattedGraphicalItems:T,legendWidth:D,legendContent:c});if(!$)return null;var H=$.item,q=kB($,SPe);return C.cloneElement(H,oe(oe({},q),{},{chartWidth:R,chartHeight:F,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ue(P,"renderTooltip",function(){var T,k=P.props,O=k.children,R=k.accessibilityLayer,F=Gr(O,In);if(!F)return null;var M=P.state,D=M.isTooltipActive,$=M.activeCoordinate,H=M.activePayload,q=M.activeLabel,V=M.offset,B=(T=F.props.active)!==null&&T!==void 0?T:D;return C.cloneElement(F,{viewBox:oe(oe({},V),{},{x:V.left,y:V.top}),active:B,label:q,payload:B?H:[],coordinate:$,accessibilityLayer:R})}),Ue(P,"renderBrush",function(T){var k=P.props,O=k.margin,R=k.data,F=P.state,M=F.offset,D=F.dataStartIndex,$=F.dataEndIndex,H=F.updateId;return C.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Im(P.handleBrushChange,T.props.onChange),data:R,x:ge(T.props.x)?T.props.x:M.left,y:ge(T.props.y)?T.props.y:M.top+M.height+M.brushBottom-(O.bottom||0),width:ge(T.props.width)?T.props.width:M.width,startIndex:D,endIndex:$,updateId:"brush-".concat(H)})}),Ue(P,"renderReferenceElement",function(T,k,O){if(!T)return null;var R=P,F=R.clipPathId,M=P.state,D=M.xAxisMap,$=M.yAxisMap,H=M.offset,q=T.type.defaultProps||{},V=T.props,B=V.xAxisId,L=B===void 0?q.xAxisId:B,W=V.yAxisId,X=W===void 0?q.yAxisId:W;return C.cloneElement(T,{key:T.key||"".concat(k,"-").concat(O),xAxis:D[L],yAxis:$[X],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:F})}),Ue(P,"renderActivePoints",function(T){var k=T.item,O=T.activePoint,R=T.basePoint,F=T.childIndex,M=T.isRange,D=[],$=k.props.key,H=k.item.type.defaultProps!==void 0?oe(oe({},k.item.type.defaultProps),k.item.props):k.item.props,q=H.activeDot,V=H.dataKey,B=oe(oe({index:F,dataKey:V,cx:O.x,cy:O.y,r:4,fill:$T(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},$e(q,!1)),Tg(q));return D.push(w.renderActiveDot(q,B,"".concat($,"-activePoint-").concat(F))),R?D.push(w.renderActiveDot(q,oe(oe({},B),{},{cx:R.x,cy:R.y}),"".concat($,"-basePoint-").concat(F))):M&&D.push(null),D}),Ue(P,"renderGraphicChild",function(T,k,O){var R=P.filterFormatItem(T,k,O);if(!R)return null;var F=P.getTooltipEventType(),M=P.state,D=M.isTooltipActive,$=M.tooltipAxis,H=M.activeTooltipIndex,q=M.activeLabel,V=P.props.children,B=Gr(V,In),L=R.props,W=L.points,X=L.isRange,U=L.baseLine,K=R.item.type.defaultProps!==void 0?oe(oe({},R.item.type.defaultProps),R.item.props):R.item.props,Z=K.activeDot,ae=K.hide,ce=K.activeBar,pe=K.activeShape,re=!!(!ae&&D&&B&&(Z||ce||pe)),ee={};F!=="axis"&&B&&B.props.trigger==="click"?ee={onClick:Im(P.handleItemMouseEnter,T.props.onClick)}:F!=="axis"&&(ee={onMouseLeave:Im(P.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Im(P.handleItemMouseEnter,T.props.onMouseEnter)});var te=C.cloneElement(T,oe(oe({},R.props),ee));function le(Rt){return typeof $.dataKey=="function"?$.dataKey(Rt.payload):null}if(re)if(H>=0){var he,se;if($.dataKey&&!$.allowDuplicatedCategory){var We=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());he=Eg(W,We,q),se=X&&U&&Eg(U,We,q)}else he=W?.[H],se=X&&U&&U[H];if(pe||ce){var Re=T.props.activeIndex!==void 0?T.props.activeIndex:H;return[C.cloneElement(T,oe(oe(oe({},R.props),ee),{},{activeIndex:Re})),null,null]}if(!Ye(he))return[te].concat(fu(P.renderActivePoints({item:R,activePoint:he,basePoint:se,childIndex:H,isRange:X})))}else{var wt,vt=(wt=P.getItemByXY(P.state.activeCoordinate))!==null&&wt!==void 0?wt:{graphicalItem:te},St=vt.graphicalItem,_r=St.item,cn=_r===void 0?T:_r,ri=St.childIndex,tr=oe(oe(oe({},R.props),ee),{},{activeIndex:ri});return[C.cloneElement(cn,tr),null,null]}return X?[te,null,null]:[te,null]}),Ue(P,"renderCustomized",function(T,k,O){return C.cloneElement(T,oe(oe({key:"recharts-customized-".concat(O)},P.props),P.state))}),Ue(P,"renderMap",{CartesianGrid:{handler:Um,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Um},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Um},YAxis:{handler:Um},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((A=_.id)!==null&&A!==void 0?A:ku("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=$6(P.triggeredAfterMouseMove,(j=_.throttleDelay)!==null&&j!==void 0?j:1e3/60),P.state={},P}return DPe(w,b),kPe(w,[{key:"componentDidMount",value:function(){var A,j;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(j=this.props.margin.top)!==null&&j!==void 0?j:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,j=A.children,P=A.data,T=A.height,k=A.layout,O=Gr(j,In);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=nP(this.state,P,R,F),D=this.state.tooltipTicks[R].coordinate,$=(this.state.offset.top+T)/2,H=k==="horizontal",q=H?{x:D,y:$}:{y:D,x:$},V=this.state.formattedGraphicalItems.find(function(L){var W=L.item;return W.type.name==="Scatter"});V&&(q=oe(oe({},q),V.props.points[R].tooltipPosition),M=V.props.points[R].tooltipPayload);var B={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:M,activeCoordinate:q};this.setState(B),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,j){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==j.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var P,T;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(A){FA([Gr(A.children,In)],[Gr(this.props.children,In)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Gr(this.props.children,In);if(A&&typeof A.props.shared=="boolean"){var j=A.props.shared?"axis":"item";return o.indexOf(j)>=0?j:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var j=this.container,P=j.getBoundingClientRect(),T=sge(P),k={chartX:Math.round(A.pageX-T.left),chartY:Math.round(A.pageY-T.top)},O=P.width/j.offsetWidth||1,R=this.inRange(k.chartX,k.chartY,O);if(!R)return null;var F=this.state,M=F.xAxisMap,D=F.yAxisMap,$=this.getTooltipEventType(),H=OB(this.state,this.props.data,this.props.layout,R);if($!=="axis"&&M&&D){var q=Ha(M).scale,V=Ha(D).scale,B=q&&q.invert?q.invert(k.chartX):null,L=V&&V.invert?V.invert(k.chartY):null;return oe(oe({},k),{},{xValue:B,yValue:L},H)}return H?oe(oe({},k),H):null}},{key:"inRange",value:function(A,j){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=A/P,O=j/P;if(T==="horizontal"||T==="vertical"){var R=this.state.offset,F=k>=R.left&&k<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return F?{x:k,y:O}:null}var M=this.state,D=M.angleAxisMap,$=M.radiusAxisMap;if(D&&$){var H=Ha(D);return DF({x:k,y:O},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,j=this.getTooltipEventType(),P=Gr(A,In),T={};P&&j==="axis"&&(P.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Tg(this.props,this.handleOuterEvent);return oe(oe({},k),T)}},{key:"addListener",value:function(){j_.on(k_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){j_.removeListener(k_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,j,P){for(var T=this.state.formattedGraphicalItems,k=0,O=T.length;k<O;k++){var R=T[k];if(R.item===A||R.props.key===A.key||j===ea(R.item.type)&&P===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,j=this.state.offset,P=j.left,T=j.top,k=j.height,O=j.width;return z.createElement("defs",null,z.createElement("clipPath",{id:A},z.createElement("rect",{x:P,y:T,height:k,width:O})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(j,P){var T=jB(P,2),k=T[0],O=T[1];return oe(oe({},j),{},Ue({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(j,P){var T=jB(P,2),k=T[0],O=T[1];return oe(oe({},j),{},Ue({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var j;return(j=this.state.xAxisMap)===null||j===void 0||(j=j[A])===null||j===void 0?void 0:j.scale}},{key:"getYScaleByAxisId",value:function(A){var j;return(j=this.state.yAxisMap)===null||j===void 0||(j=j[A])===null||j===void 0?void 0:j.scale}},{key:"getItemByXY",value:function(A){var j=this.state,P=j.formattedGraphicalItems,T=j.activeItem;if(P&&P.length)for(var k=0,O=P.length;k<O;k++){var R=P[k],F=R.props,M=R.item,D=M.type.defaultProps!==void 0?oe(oe({},M.type.defaultProps),M.props):M.props,$=ea(M.type);if($==="Bar"){var H=(F.data||[]).find(function(L){return _1e(A,L)});if(H)return{graphicalItem:R,payload:H}}else if($==="RadialBar"){var q=(F.data||[]).find(function(L){return DF(A,L)});if(q)return{graphicalItem:R,payload:q}}else if($y(R,T)||By(R,T)||sf(R,T)){var V=qSe({graphicalItem:R,activeTooltipItem:T,itemData:D.data}),B=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:oe(oe({},R),{},{childIndex:B}),payload:sf(R,T)?D.data[V]:R.props.data[V]}}}return null}},{key:"render",value:function(){var A=this;if(!HD(this))return null;var j=this.props,P=j.children,T=j.className,k=j.width,O=j.height,R=j.style,F=j.compact,M=j.title,D=j.desc,$=kB(j,_Pe),H=$e($,!1);if(F)return z.createElement(uB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(BA,vc({},H,{width:k,height:O,title:M,desc:D}),this.renderClipPath(),GD(P,this.renderMap)));if(this.props.accessibilityLayer){var q,V;H.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,H.role=(V=this.props.role)!==null&&V!==void 0?V:"application",H.onKeyDown=function(L){A.accessibilityManager.keyboardEvent(L)},H.onFocus=function(){A.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return z.createElement(uB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",vc({className:Qe("recharts-wrapper",T),style:oe({position:"relative",cursor:"default",width:k,height:O},R)},B,{ref:function(W){A.container=W}}),z.createElement(BA,vc({},H,{width:k,height:O,title:M,desc:D,style:BPe}),this.renderClipPath(),GD(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Ue(x,"displayName",n),Ue(x,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ue(x,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,A=b.data,j=b.children,P=b.width,T=b.height,k=b.layout,O=b.stackOffset,R=b.margin,F=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var D=MB(b);return oe(oe(oe({},D),{},{updateId:0},g(oe(oe({props:b},D),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:T,prevLayout:k,prevStackOffset:O,prevMargin:R,prevChildren:j})}if(_!==w.prevDataKey||A!==w.prevData||P!==w.prevWidth||T!==w.prevHeight||k!==w.prevLayout||O!==w.prevStackOffset||!Pc(R,w.prevMargin)){var $=MB(b),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},q=oe(oe({},OB(w,A,k)),{},{updateId:w.updateId+1}),V=oe(oe(oe({},$),H),q);return oe(oe(oe({},V),g(oe({props:b},V),w)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:T,prevLayout:k,prevStackOffset:O,prevMargin:R,prevChildren:j})}if(!FA(j,w.prevChildren)){var B,L,W,X,U=Gr(j,ru),K=U&&(B=(L=U.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:F,Z=U&&(W=(X=U.props)===null||X===void 0?void 0:X.endIndex)!==null&&W!==void 0?W:M,ae=K!==F||Z!==M,ce=!Ye(A),pe=ce&&!ae?w.updateId:w.updateId+1;return oe(oe({updateId:pe},g(oe(oe({props:b},w),{},{updateId:pe,dataStartIndex:K,dataEndIndex:Z}),w)),{},{prevChildren:j,dataStartIndex:K,dataEndIndex:Z})}return null}),Ue(x,"renderActiveDot",function(b,w,_){var A;return C.isValidElement(b)?A=C.cloneElement(b,w):qe(b)?A=b(w):A=z.createElement(Dy,w),z.createElement(ut,{className:"recharts-active-dot",key:_},A)});var y=C.forwardRef(function(w,_){return z.createElement(x,vc({},w,{ref:_}))});return y.displayName=x.displayName,y},XPe=XT({chartName:"LineChart",GraphicalChild:Kf,axisComponents:[{axisType:"xAxis",AxisComp:vs},{axisType:"yAxis",AxisComp:ys}],formatAxisMap:C8}),uh=XT({chartName:"BarChart",GraphicalChild:Ai,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:vs},{axisType:"yAxis",AxisComp:ys}],formatAxisMap:C8}),rP=XT({chartName:"PieChart",GraphicalChild:Ji,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Fy},{axisType:"radiusAxis",AxisComp:Iy}],formatAxisMap:Lxe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const zm={groceries:"#10b981",food:"#f59e0b",transport:"#3b82f6",shopping:"#ec4899",utilities:"#8b5cf6",entertainment:"#ef4444",health:"#14b8a6",education:"#6366f1",other:"#6b7280"},RB={cash:"#10b981",upi:"#3b82f6",card:"#8b5cf6",bank:"#f59e0b"};function QPe({onBack:t}){const{expenses:e,debts:n,goals:r,accounts:i,currentFamily:s,currentUser:a}=ot(),o=C.useMemo(()=>{const x=e.reduce((_,A)=>_+A.total_amount,0),y=e.length,b=y>0?x/y:0,w=new Set(e.map(_=>_.category));return{totalSpent:x,transactionCount:y,averageTransaction:b,categoriesUsed:w.size}},[e]),l=C.useMemo(()=>{const x={};return e.forEach(y=>{x[y.category]||(x[y.category]=0),x[y.category]+=y.total_amount}),Object.entries(x).map(([y,b])=>({name:y.charAt(0).toUpperCase()+y.slice(1),value:b,percentage:(b/o.totalSpent*100).toFixed(1)})).sort((y,b)=>b.value-y.value)},[e,o.totalSpent]),c=C.useMemo(()=>{const x={},y=new Date;for(let b=5;b>=0;b--){const _=new Date(y.getFullYear(),y.getMonth()-b,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});x[_]=0}return e.forEach(b=>{const _=new Date(b.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});x.hasOwnProperty(_)&&(x[_]+=b.total_amount)}),Object.entries(x).map(([b,w])=>({month:b,amount:w}))},[e]),h=C.useMemo(()=>{const x={};return e.forEach(y=>{y.payment_lines.forEach(b=>{let w="other";b.account_id==="cash"?w="cash":b.account_id==="upi"?w="upi":b.account_id&&b.account_id.includes("card")?w="card":b.account_id&&(w="bank"),x[w]||(x[w]=0),x[w]+=b.amount})}),Object.entries(x).map(([y,b])=>({name:y.toUpperCase(),value:b,percentage:(b/o.totalSpent*100).toFixed(1)})).sort((y,b)=>b.value-y.value)},[e,o.totalSpent]),d=C.useMemo(()=>{if(!s||!a)return[];const x=n.filter(b=>b.borrower_user_id===a.id&&b.status==="open").reduce((b,w)=>b+w.amount,0),y=n.filter(b=>b.lender_user_id===a.id&&b.status==="open").reduce((b,w)=>b+w.amount,0);return[{name:"You Owe",value:x,fill:"#ef4444"},{name:"Owed to You",value:y,fill:"#10b981"}].filter(b=>b.value>0)},[n,a,s]),m=C.useMemo(()=>r.filter(x=>x.is_active).sort((x,y)=>y.current_amount/y.target_amount-x.current_amount/x.target_amount).slice(0,5).map(x=>({name:x.goal_name,saved:x.current_amount,remaining:x.target_amount-x.current_amount,target:x.target_amount})),[r]),g=C.useMemo(()=>i.map(x=>({name:x.name,balance:x.current_balance})).sort((x,y)=>y.balance-x.balance),[i]);return f.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ve,{variant:"ghost",size:"icon",onClick:t,className:"text-primary-foreground hover:bg-primary-foreground/10 shrink-0",children:f.jsx(Nv,{className:"h-5 w-5"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{children:"Reports & Analytics"}),f.jsx("p",{className:"text-sm opacity-90",children:"Visual spending insights"})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(et,{className:"bg-gradient-to-br from-destructive/10 to-destructive/5 border-destructive/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(Zo,{className:"h-3 w-3"}),"Total Spent"]}),f.jsx(Ct,{className:"text-2xl text-destructive",children:Ne(o.totalSpent)})]})}),f.jsx(et,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(ag,{className:"h-3 w-3"}),"Transactions"]}),f.jsx(Ct,{className:"text-2xl text-primary",children:o.transactionCount})]})}),f.jsx(et,{className:"bg-gradient-to-br from-tertiary/10 to-tertiary/5 border-tertiary/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(Ei,{className:"h-3 w-3"}),"Average"]}),f.jsx(Ct,{className:"text-2xl text-tertiary",children:Ne(o.averageTransaction)})]})}),f.jsx(et,{className:"bg-gradient-to-br from-success/10 to-success/5 border-success/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(sn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(hM,{className:"h-3 w-3"}),"Categories"]}),f.jsx(Ct,{className:"text-2xl text-success",children:o.categoriesUsed})]})})]}),f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Spending by Category"}),f.jsx(sn,{children:"Distribution of expenses across categories"})]}),f.jsx(xt,{children:l.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Xs,{width:"100%",height:300,children:f.jsxs(rP,{children:[f.jsx(Ji,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percentage:y})=>`${x} ${y}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((x,y)=>f.jsx(Yo,{fill:zm[x.name.toLowerCase()]||zm.other},`cell-${y}`))}),f.jsx(In,{formatter:x=>Ne(x)})]})}),f.jsx("div",{className:"space-y-2",children:l.map(x=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:zm[x.name.toLowerCase()]||zm.other}}),f.jsx("span",{className:"capitalize",children:x.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Ne(x.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage,"%"]})]})]},x.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(hM,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No expense data available"})]})})]}),f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Spending Trend"}),f.jsx(sn,{children:"Monthly expenses over the last 6 months"})]}),f.jsx(xt,{children:c.length>0?f.jsx(Xs,{width:"100%",height:250,children:f.jsxs(XPe,{data:c,children:[f.jsx(Gd,{strokeDasharray:"3 3"}),f.jsx(vs,{dataKey:"month"}),f.jsx(ys,{}),f.jsx(In,{formatter:x=>Ne(x)}),f.jsx(ms,{}),f.jsx(Kf,{type:"monotone",dataKey:"amount",stroke:"#ef4444",strokeWidth:2,name:"Spent"})]})}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(Ei,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No trend data available"})]})})]}),d.length>0&&f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Debt Overview"}),f.jsx(sn,{children:"Summary of what you owe and what is owed to you"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:250,children:f.jsxs(rP,{children:[f.jsx(Ji,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:d.map((x,y)=>f.jsx(Yo,{fill:x.fill},`cell-${y}`))}),f.jsx(In,{formatter:x=>Ne(x)}),f.jsx(ms,{})]})})})]}),m.length>0&&f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Goal Progress"}),f.jsx(sn,{children:"Top active goals by completion status"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:300,children:f.jsxs(uh,{layout:"vertical",data:m,margin:{left:40},children:[f.jsx(Gd,{strokeDasharray:"3 3"}),f.jsx(vs,{type:"number"}),f.jsx(ys,{dataKey:"name",type:"category",width:100}),f.jsx(In,{formatter:x=>Ne(x)}),f.jsx(ms,{}),f.jsx(Ai,{dataKey:"saved",name:"Saved",stackId:"a",fill:"#10b981"}),f.jsx(Ai,{dataKey:"remaining",name:"Remaining",stackId:"a",fill:"#e5e7eb"})]})})})]}),g.length>0&&f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Account Balances"}),f.jsx(sn,{children:"Current balance across all accounts"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:250,children:f.jsxs(uh,{data:g,children:[f.jsx(Gd,{strokeDasharray:"3 3"}),f.jsx(vs,{dataKey:"name"}),f.jsx(ys,{}),f.jsx(In,{formatter:x=>Ne(x)}),f.jsx(Ai,{dataKey:"balance",name:"Balance",fill:"#3b82f6"})]})})})]}),f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Payment Methods"}),f.jsx(sn,{children:"How you're paying for expenses"})]}),f.jsx(xt,{children:h.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Xs,{width:"100%",height:250,children:f.jsxs(uh,{data:h,children:[f.jsx(Gd,{strokeDasharray:"3 3"}),f.jsx(vs,{dataKey:"name"}),f.jsx(ys,{}),f.jsx(In,{formatter:x=>Ne(x)}),f.jsx(ms,{}),f.jsx(Ai,{dataKey:"value",name:"Amount",children:h.map((x,y)=>f.jsx(Yo,{fill:RB[x.name.toLowerCase()]||"#6b7280"},`cell-${y}`))})]})}),f.jsx("div",{className:"space-y-2",children:h.map(x=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:RB[x.name.toLowerCase()]||"#6b7280"}}),f.jsx("span",{children:x.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Ne(x.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage,"%"]})]})]},x.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(ag,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No payment data available"})]})})]})]})]})}function ZPe(){const{currentUser:t,currentFamily:e,users:n}=ot();return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(et,{children:[f.jsx(At,{children:f.jsx(Ct,{children:"Family Information"})}),f.jsxs(xt,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Family Name"}),f.jsx("span",{className:"font-medium",children:e?.name})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Currency"}),f.jsx("span",{className:"font-medium",children:e?.currency})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),f.jsx("span",{className:"font-medium",children:e?.created_at?new Date(e.created_at).toLocaleDateString("en-IN"):"Unknown"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Invite Code"}),f.jsx(yn,{variant:"secondary",className:"font-mono",children:e?.invite_code})]})]})]}),f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Family Members"}),f.jsxs(sn,{children:[n.length," ",n.length===1?"member":"members"]})]}),f.jsx(xt,{children:f.jsx("div",{className:"space-y-3",children:n.map(r=>f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${r.id===t?.id?"bg-accent/50 border-primary/20":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:Mc(r.name)})}),f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("p",{className:"font-medium",children:[r.name,r.id===t?.id&&f.jsx("span",{className:"text-muted-foreground ml-1",children:"(You)"})]})}),r.phone&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r.phone}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",new Date(r.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsx(yn,{variant:r.role==="admin"?"default":"secondary",className:"gap-1",children:r.role==="admin"?f.jsxs(f.Fragment,{children:[f.jsx(tZ,{className:"h-3 w-3"}),"Admin"]}):f.jsxs(f.Fragment,{children:[f.jsx(qP,{className:"h-3 w-3"}),"Member"]})})]},r.id))})})]}),f.jsxs(et,{children:[f.jsx(At,{children:f.jsx(Ct,{children:"About KharchaPal"})}),f.jsxs(xt,{className:"text-sm text-muted-foreground space-y-2",children:[f.jsx("p",{children:"KharchaPal is your simple, offline-first household expense tracker designed for Indian families."}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[f.jsx("li",{children:"Track expenses together with your family"}),f.jsx("li",{children:"Split payments across UPI, Cash, and Card"}),f.jsx("li",{children:"Manage informal IOUs"}),f.jsx("li",{children:"Set budgets and get alerts"}),f.jsx("li",{children:"Works offline - all data stored locally"})]}),f.jsx("p",{className:"pt-2 text-xs",children:"Version 1.0.0  Built with  for Indian households"})]})]})]})}const QT=["Groceries/Kirana","Vegetables/Fruits","Milk/Dairy","Maid/Helper","Rent","Utilities","Transportation/Auto","Fuel/Petrol","Chai/Snacks","Food & Dining","Healthcare/Meds","Education/Tuition","Entertainment","Shopping","Puja/Festivals","Personal Care","Gifts/Shagun","Recharge/Mobile","Other"],JPe=["Salary","Business","Freelance","Investment","Rental Income","Gift/Bonus","Refund","Other"],eEe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function tEe(){const{customCategories:t,addCustomCategory:e,deleteCustomCategory:n,currentFamily:r,currentUser:i}=ot(),{t:s}=hl(),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("expense"),[m,g]=C.useState(!1),x=async()=>{if(!a.trim()||!r||!i)return;const _={id:Dv(),family_id:r.id,name:a.trim(),type:h,icon:l,created_by:i.id,created_at:new Date().toISOString()};try{await e(_),o(""),c(""),ke.success("Category added successfully")}catch(A){console.error("Failed to add category:",A),ke.error("Failed to add category")}},y=async _=>{if(confirm("Are you sure you want to delete this category?"))try{await n(_),ke.success("Category deleted")}catch(A){console.error("Failed to delete category:",A),ke.error("Failed to delete category")}},b=t.filter(_=>_.type===h),w=h==="expense"?QT:JPe;return f.jsx("div",{className:"space-y-6",children:f.jsxs($c,{value:h,onValueChange:_=>d(_),children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2",children:[f.jsx(Rr,{value:"expense",children:"Expense Categories"}),f.jsx(Rr,{value:"income",children:"Income Sources"})]}),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(_h,{open:m,onOpenChange:g,children:[f.jsx(Ah,{asChild:!0,children:f.jsx(ve,{variant:"outline",size:"icon",className:"shrink-0",children:f.jsx("span",{className:"text-lg",children:l})})}),f.jsx(Ch,{className:"w-64 p-2",children:f.jsx("div",{className:"grid grid-cols-6 gap-1",children:eEe.map(_=>f.jsx("button",{className:"h-8 w-8 flex items-center justify-center rounded hover:bg-accent text-lg",onClick:()=>{c(_),g(!1)},children:_},_))})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx(Oe,{htmlFor:"new-category",className:"sr-only",children:"New Category"}),f.jsx(Mt,{id:"new-category",placeholder:`Add new ${h} category...`,value:a,onChange:_=>o(_.target.value),onKeyDown:_=>_.key==="Enter"&&x()})]}),f.jsx(ve,{onClick:x,disabled:!a.trim(),children:f.jsx(Zr,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Custom Categories"}),b.length===0?f.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No custom categories yet."}):f.jsx("div",{className:"grid gap-2",children:b.map(_=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-card border rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:_.icon||""}),f.jsx("span",{children:_.name})]}),f.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90",onClick:()=>y(_.id),children:f.jsx(Mv,{className:"h-4 w-4"})})]},_.id))})]}),f.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Default Categories"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(_=>f.jsx("div",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:_},_))})]})]})]})})}function nEe(){const{recurringTransactions:t,addRecurringTransaction:e,updateRecurringTransaction:n,deleteRecurringTransaction:r,currentFamily:i,currentUser:s}=ot(),[a,o]=C.useState(!1),[l,c]=C.useState(null),[h,d]=C.useState(""),[m,g]=C.useState(""),[x,y]=C.useState(""),[b,w]=C.useState("monthly"),[_,A]=C.useState(Ss(new Date,"yyyy-MM-dd")),j=async()=>{if(!h||!m||!x||!i||!s){ke.error("Please fill in all required fields");return}try{if(l){const O=t.find(F=>F.id===l);if(!O)return;const R={...O,amount:parseFloat(m),category:x,description:h,frequency:b,start_date:_};await n(R),ke.success("Recurring transaction updated")}else{const O={id:Dv(),family_id:i.id,amount:parseFloat(m),currency:i.currency,category:x,description:h,frequency:b,start_date:_,next_due_date:_,is_active:!0,created_by:s.id,created_at:new Date().toISOString()};await e(O),ke.success("Recurring transaction added")}o(!1),k()}catch(O){console.error("Failed to save recurring transaction:",O),ke.error("Failed to save recurring transaction")}},P=O=>{c(O.id),d(O.description),g(O.amount.toString()),y(O.category),w(O.frequency),A(O.start_date),o(!0)},T=async O=>{if(confirm("Are you sure you want to delete this recurring transaction?"))try{await r(O),ke.success("Recurring transaction deleted")}catch(R){console.error("Failed to delete recurring transaction:",R),ke.error("Failed to delete recurring transaction")}},k=()=>{c(null),d(""),g(""),y(""),w("monthly"),A(Ss(new Date,"yyyy-MM-dd"))};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Subscriptions & Recurring"}),f.jsxs(Ht,{open:a,onOpenChange:O=>{o(O),O||k()},children:[f.jsx(Fie,{asChild:!0,children:f.jsxs(ve,{size:"sm",children:[f.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add New"]})}),f.jsxs(qt,{children:[f.jsxs(an,{children:[f.jsxs(on,{children:[l?"Edit":"Add"," Recurring Transaction"]}),f.jsx(gn,{children:l?"Update details of your recurring expense":"Set up a recurring expense or subscription"})]}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"description",children:"Description"}),f.jsx(Mt,{id:"description",placeholder:"e.g., Netflix Subscription",value:h,onChange:O=>d(O.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"amount",children:"Amount"}),f.jsx(Mt,{id:"amount",type:"number",placeholder:"0.00",value:m,onChange:O=>g(O.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"frequency",children:"Frequency"}),f.jsxs($n,{value:b,onValueChange:O=>w(O),children:[f.jsx(Un,{children:f.jsx(Bn,{})}),f.jsxs(zn,{children:[f.jsx(De,{value:"daily",children:"Daily"}),f.jsx(De,{value:"weekly",children:"Weekly"}),f.jsx(De,{value:"monthly",children:"Monthly"}),f.jsx(De,{value:"yearly",children:"Yearly"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"category",children:"Category"}),f.jsxs($n,{value:x,onValueChange:y,children:[f.jsx(Un,{children:f.jsx(Bn,{placeholder:"Select category"})}),f.jsx(zn,{children:QT.map(O=>f.jsx(De,{value:O,children:O},O))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"startDate",children:"Start Date"}),f.jsx(Mt,{id:"startDate",type:"date",value:_,onChange:O=>A(O.target.value)})]}),f.jsxs(ve,{className:"w-full",onClick:j,children:[l?"Update":"Save"," Recurring Transaction"]})]})]})]})]}),t.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(og,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{children:"No recurring transactions set up yet."})]}):f.jsx("div",{className:"grid gap-3",children:t.map(O=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card border rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:f.jsx(og,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:O.description}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.currency," ",O.amount,"  ",O.frequency]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"text-right mr-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Next due"}),f.jsx("p",{className:"text-sm font-medium",children:Ss(new Date(O.next_due_date),"MMM d")})]}),f.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>P(O),children:f.jsx(FZ,{className:"h-4 w-4"})}),f.jsx(ve,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive/90",onClick:()=>T(O.id),children:f.jsx(Mv,{className:"h-4 w-4"})})]})]},O.id))})]})}function rEe(){return f.jsx("div",{className:"space-y-4",children:f.jsxs(et,{children:[f.jsx(At,{children:f.jsx(Ct,{className:"text-base",children:" Quick Start Guide"})}),f.jsxs(xt,{className:"space-y-4 text-sm",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"1. Add Your First Expense"}),f.jsx(yn,{variant:"secondary",className:"text-xs",children:"Easy"})]}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:["Tap the ",f.jsx("strong",{children:"+ button"})," at bottom-right"]}),f.jsx("li",{children:"Enter amount, category, and date"}),f.jsx("li",{children:'Toggle "Split Payment" for multi-tender (UPI + Cash + Card)'}),f.jsx("li",{children:'Mark as "Borrowed" if you need to track an IOU'})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"2. Multi-Tender Split Example"}),f.jsxs("div",{className:"bg-accent/50 p-3 rounded text-xs space-y-1",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Total:"})," 800 (Grocery shopping)"]}),f.jsx("p",{children:" Card: 500"}),f.jsx("p",{children:" Cash: 300"}),f.jsx("p",{className:"text-muted-foreground pt-1",children:" The app ensures split amounts match the total"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"3. Track IOUs"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'When adding expense, toggle "Borrowed" on any payment line'}),f.jsx("li",{children:"Select who you borrowed from"}),f.jsx("li",{children:'View all IOUs in the "IOUs" tab'}),f.jsx("li",{children:"Settle debts when you pay back"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"4. Set Budgets"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'Go to "Budgets" tab'}),f.jsx("li",{children:'Tap "Add Budget" and select category'}),f.jsx("li",{children:"Set monthly/weekly limits"}),f.jsx("li",{children:"Get alerts when you reach threshold (default 80%)"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"5. Invite Family Members"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Admin:"}),' Tap "Invite" button in header']}),f.jsx("li",{children:"Share the 6-character invite code"}),f.jsxs("li",{children:[f.jsx("strong",{children:"Member:"}),' Use "Join Family" at welcome screen']})]})]}),f.jsx("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:f.jsxs("p",{className:"text-xs",children:[f.jsx("strong",{children:" Tip:"})," All data is stored locally on your device and works offline. Admin can view all family expenses, while members see their own and shared expenses."]})})]})]})})}const IB=["#8b5cf6","#f97316","#06b6d4","#10b981","#f59e0b","#ef4444"];function iEe(){const{currentUser:t,currentFamily:e,expenses:n,users:r}=ot(),{categoryData:i,memberData:s,paymentMethodData:a}=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),1),c=n.filter(b=>new Date(b.date)>=l&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)),h={};c.forEach(b=>{h[b.category]=(h[b.category]||0)+b.total_amount});const d=Object.entries(h).map(([b,w])=>({name:b,value:w})).sort((b,w)=>w.value-b.value).slice(0,5),m={};t?.role==="admin"&&c.forEach(b=>{m[b.created_by]=(m[b.created_by]||0)+b.total_amount});const g=Object.entries(m).map(([b,w])=>({name:r.find(_=>_.id===b)?.name||"Unknown",value:w})).sort((b,w)=>w.value-b.value),x={};c.forEach(b=>{b.payment_lines.forEach(w=>{x[w.method]=(x[w.method]||0)+w.amount})});const y=Object.entries(x).map(([b,w])=>({name:b.charAt(0).toUpperCase()+b.slice(1),value:w})).sort((b,w)=>w.value-b.value);return{categoryData:d,memberData:g,paymentMethodData:y}},[n,t,r]);return i.length===0?f.jsx(et,{className:"border-dashed",children:f.jsxs(xt,{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-3",children:f.jsx("span",{className:"text-2xl",children:""})}),f.jsx("p",{className:"font-medium",children:"No spending data for this month"}),f.jsx("p",{className:"text-sm",children:"Add an expense to see your analytics"})]})}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Top Categories"}),f.jsx(sn,{children:"This month's spending by category"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:250,children:f.jsxs(rP,{children:[f.jsx(Ji,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} (${(l*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>f.jsx(Yo,{fill:IB[l%IB.length]},`cell-${l}`))}),f.jsx(In,{formatter:o=>Ne(o,e?.currency)})]})})})]}),a.length>0&&f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Payment Methods"}),f.jsx(sn,{children:"How you're paying"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:200,children:f.jsxs(uh,{data:a,children:[f.jsx(vs,{dataKey:"name"}),f.jsx(ys,{}),f.jsx(In,{formatter:o=>Ne(o,e?.currency)}),f.jsx(Ai,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})})]}),t?.role==="admin"&&s.length>0&&f.jsxs(et,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Member Spending"}),f.jsx(sn,{children:"Expenses by family member"})]}),f.jsx(xt,{children:f.jsx(Xs,{width:"100%",height:200,children:f.jsxs(uh,{data:s,children:[f.jsx(vs,{dataKey:"name"}),f.jsx(ys,{}),f.jsx(In,{formatter:o=>Ne(o,e?.currency)}),f.jsx(Ai,{dataKey:"value",fill:"#f97316",radius:[8,8,0,0]})]})})})]})]})}function sEe({debt:t,open:e,onClose:n}){const{users:r,updateDebt:i}=ot(),[s,a]=C.useState("cash"),[o,l]=C.useState(!1),c=r.find(d=>d.id===t.lender_user_id),h=async()=>{l(!0);try{const d={...t,status:"settled",settled_at:new Date().toISOString(),settlement_method:s};await i(d),ke.success("IOU marked as settled"),n()}catch(d){console.error("Failed to settle debt:",d),ke.error("Failed to settle IOU")}finally{l(!1)}};return f.jsx(Ht,{open:e,onOpenChange:d=>!d&&n(),children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Settle IOU"}),f.jsxs(gn,{children:["Record how you paid back ",c?.name||"the lender"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-accent/50 p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Amount to Settle"}),f.jsx("p",{className:"text-2xl font-semibold",children:Ne(t.amount,t.currency)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"settlementMethod",children:"How did you pay?"}),f.jsxs($n,{value:s,onValueChange:d=>a(d),children:[f.jsx(Un,{id:"settlementMethod",children:f.jsx(Bn,{})}),f.jsxs(zn,{children:[f.jsx(De,{value:"cash",children:" Cash"}),f.jsx(De,{value:"upi",children:" UPI"}),f.jsx(De,{value:"card",children:" Card"})]})]})]}),f.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:f.jsx("p",{className:"text-sm",children:" This will mark the IOU as settled and remove it from your active debts."})}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ve,{variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),f.jsx(ve,{onClick:h,disabled:o,className:"flex-1",children:o?"Settling...":"Mark as Settled"})]})]})]})})}function aEe(){const{currentUser:t,debts:e,users:n}=ot(),[r,i]=C.useState(null),s=e.filter(c=>c.status==="open"&&c.borrower_user_id===t?.id),a=e.filter(c=>c.status==="open"&&c.lender_user_id===t?.id),o=c=>n.find(d=>d.id===c)?.name||"Unknown",l=c=>n.find(h=>h.id===c);return s.length===0&&a.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No active IOUs"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Borrowed payments will appear here"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"You Owe"}),f.jsx("div",{className:"space-y-2",children:s.map(c=>{const h=l(c.lender_user_id);return f.jsx(et,{className:"p-4 bg-error-container/20 border-destructive/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:h?Mc(h.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["To ",o(c.lender_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("p",{className:"font-semibold text-red-600",children:Ne(c.amount,c.currency)}),f.jsx(ve,{size:"sm",onClick:()=>i(c),children:"Settle"})]})]})},c.id)})})]}),a.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"Owed to You"}),f.jsx("div",{className:"space-y-2",children:a.map(c=>{const h=l(c.borrower_user_id);return f.jsx(et,{className:"p-4 bg-tertiary-container/20 border-tertiary/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:h?Mc(h.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["From ",o(c.borrower_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-green-600",children:Ne(c.amount,c.currency)}),f.jsx(yn,{variant:"outline",className:"mt-1",children:"Pending"})]})]})},c.id)})})]})]}),r&&f.jsx(sEe,{debt:r,open:!!r,onClose:()=>i(null)})]})}function oEe(){const{currentUser:t,currentFamily:e,budgets:n,expenses:r}=ot(),i=C.useMemo(()=>{const s=new Date,a=new Date(s.getFullYear(),s.getMonth(),1),o=new Date(s);return o.setDate(s.getDate()-s.getDay()),n.map(l=>{const c=l.period==="monthly"?a:o,d=r.filter(b=>b.category===l.category&&new Date(b.date)>=c&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)).reduce((b,w)=>b+w.total_amount,0),m=d/l.limit_amount*100,g=d>l.limit_amount,x=m>=l.notify_threshold_percent&&!g,y=l.limit_amount-d;return{...l,spent:d,percentage:Math.min(m,100),isOverBudget:g,isNearLimit:x,remaining:y}})},[n,r,t]);return n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No budgets set yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tap 'Add Budget' to create your first budget"})]}):f.jsx("div",{className:"space-y-3",children:i.map(s=>f.jsxs(et,{className:s.isOverBudget?"border-red-300 bg-red-50/50":s.isNearLimit?"border-orange-300 bg-orange-50/50":"",children:[f.jsx(At,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:lg(s.category)}),f.jsxs("div",{children:[f.jsx(Ct,{className:"text-base",children:s.category}),f.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[s.period," budget"]})]})]}),s.isOverBudget?f.jsxs(yn,{variant:"destructive",className:"gap-1",children:[f.jsx(Nc,{className:"h-3 w-3"}),"Over Budget"]}):s.isNearLimit?f.jsxs(yn,{variant:"secondary",className:"gap-1 bg-orange-100 text-orange-700 border-orange-300",children:[f.jsx(Ei,{className:"h-3 w-3"}),s.notify_threshold_percent,"% reached"]}):null]})}),f.jsxs(xt,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-end justify-between text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Spent: "}),f.jsx("span",{className:s.isOverBudget?"font-semibold text-red-600":"font-semibold",children:Ne(s.spent,e?.currency)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Limit: "}),f.jsx("span",{className:"font-semibold",children:Ne(s.limit_amount,e?.currency)})]})]}),f.jsx(Rv,{value:s.percentage,className:s.isOverBudget?"bg-red-200":s.isNearLimit?"bg-orange-200":""}),f.jsxs("div",{className:"flex justify-between text-xs",children:[f.jsx("span",{className:s.remaining>=0?"text-green-600":"text-red-600",children:s.remaining>=0?`${Ne(s.remaining,e?.currency)} remaining`:`${Ne(Math.abs(s.remaining),e?.currency)} over`}),f.jsxs("span",{className:"text-muted-foreground",children:[s.percentage.toFixed(0),"% used"]})]})]})]},s.id))})}function lEe(t){const e=cEe(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(dEe);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function cEe(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=fEe(i),o=hEe(s,i.props);return i.type!==C.Fragment&&(o.ref=r?ks(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var uEe=Symbol("radix.slottable");function dEe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===uEe}function hEe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function fEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var iP=["Enter"," "],pEe=["ArrowDown","PageUp","Home"],aH=["ArrowUp","PageDown","End"],mEe=[...pEe,...aH],gEe={ltr:[...iP,"ArrowRight"],rtl:[...iP,"ArrowLeft"]},vEe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yf="Menu",[hf,yEe,bEe]=Uv(Yf),[xl,oH]=Oi(Yf,[bEe,Cu,ey]),Gy=Cu(),lH=ey(),[xEe,wl]=xl(Yf),[wEe,Xf]=xl(Yf),cH=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=Gy(e),[l,c]=C.useState(null),h=C.useRef(!1),d=Fn(s),m=Su(i);return C.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),f.jsx(uE,{...o,children:f.jsx(xEe,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(wEe,{scope:e,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};cH.displayName=Yf;var SEe="MenuAnchor",ZT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gy(n);return f.jsx(qv,{...i,...r,ref:e})});ZT.displayName=SEe;var JT="MenuPortal",[_Ee,uH]=xl(JT,{forceMount:void 0}),dH=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=wl(JT,e);return f.jsx(_Ee,{scope:e,forceMount:n,children:f.jsx(wr,{present:n||s.open,children:f.jsx(_f,{asChild:!0,container:i,children:r})})})};dH.displayName=JT;var Pi="MenuContent",[AEe,ej]=xl(Pi),hH=C.forwardRef((t,e)=>{const n=uH(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=wl(Pi,t.__scopeMenu),a=Xf(Pi,t.__scopeMenu);return f.jsx(hf.Provider,{scope:t.__scopeMenu,children:f.jsx(wr,{present:r||s.open,children:f.jsx(hf.Slot,{scope:t.__scopeMenu,children:a.modal?f.jsx(CEe,{...i,ref:e}):f.jsx(PEe,{...i,ref:e})})})})}),CEe=C.forwardRef((t,e)=>{const n=wl(Pi,t.__scopeMenu),r=C.useRef(null),i=Ze(e,r);return C.useEffect(()=>{const s=r.current;if(s)return Fv(s)},[]),f.jsx(tj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),PEe=C.forwardRef((t,e)=>{const n=wl(Pi,t.__scopeMenu);return f.jsx(tj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EEe=lEe("MenuContent.ScrollLock"),tj=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...y}=t,b=wl(Pi,n),w=Xf(Pi,n),_=Gy(n),A=lH(n),j=yEe(n),[P,T]=C.useState(null),k=C.useRef(null),O=Ze(e,k,b.onContentChange),R=C.useRef(0),F=C.useRef(""),M=C.useRef(0),D=C.useRef(null),$=C.useRef("right"),H=C.useRef(0),q=x?Af:C.Fragment,V=x?{as:EEe,allowPinchZoom:!0}:void 0,B=W=>{const X=F.current+W,U=j().filter(re=>!re.disabled),K=document.activeElement,Z=U.find(re=>re.ref.current===K)?.textValue,ae=U.map(re=>re.textValue),ce=$Ee(ae,X,Z),pe=U.find(re=>re.textValue===ce)?.ref.current;(function re(ee){F.current=ee,window.clearTimeout(R.current),ee!==""&&(R.current=window.setTimeout(()=>re(""),1e3))})(X),pe&&setTimeout(()=>pe.focus())};C.useEffect(()=>()=>window.clearTimeout(R.current),[]),Iv();const L=C.useCallback(W=>$.current===D.current?.side&&UEe(W,D.current?.area),[]);return f.jsx(AEe,{scope:n,searchRef:F,onItemEnter:C.useCallback(W=>{L(W)&&W.preventDefault()},[L]),onItemLeave:C.useCallback(W=>{L(W)||(k.current?.focus(),T(null))},[L]),onTriggerLeave:C.useCallback(W=>{L(W)&&W.preventDefault()},[L]),pointerGraceTimerRef:M,onPointerGraceIntentChange:C.useCallback(W=>{D.current=W},[]),children:f.jsx(q,{...V,children:f.jsx(Sf,{asChild:!0,trapped:i,onMountAutoFocus:ye(s,W=>{W.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:f.jsx(wf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:g,children:f.jsx(Lz,{asChild:!0,...A,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:T,onEntryFocus:ye(l,W=>{w.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(dE,{role:"menu","aria-orientation":"vertical","data-state":TH(b.open),"data-radix-menu-content":"",dir:w.dir,..._,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,W=>{const U=W.target.closest("[data-radix-menu-content]")===W.currentTarget,K=W.ctrlKey||W.altKey||W.metaKey,Z=W.key.length===1;U&&(W.key==="Tab"&&W.preventDefault(),!K&&Z&&B(W.key));const ae=k.current;if(W.target!==ae||!mEe.includes(W.key))return;W.preventDefault();const pe=j().filter(re=>!re.disabled).map(re=>re.ref.current);aH.includes(W.key)&&pe.reverse(),LEe(pe)}),onBlur:ye(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(R.current),F.current="")}),onPointerMove:ye(t.onPointerMove,ff(W=>{const X=W.target,U=H.current!==W.clientX;if(W.currentTarget.contains(X)&&U){const K=W.clientX>H.current?"right":"left";$.current=K,H.current=W.clientX}}))})})})})})})});hH.displayName=Pi;var TEe="MenuGroup",nj=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{role:"group",...r,ref:e})});nj.displayName=TEe;var jEe="MenuLabel",fH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{...r,ref:e})});fH.displayName=jEe;var Cv="MenuItem",LB="menu.itemSelect",Ky=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),a=Xf(Cv,t.__scopeMenu),o=ej(Cv,t.__scopeMenu),l=Ze(e,s),c=C.useRef(!1),h=()=>{const d=s.current;if(!n&&d){const m=new CustomEvent(LB,{bubbles:!0,cancelable:!0});d.addEventListener(LB,g=>r?.(g),{once:!0}),Q4(d,m),m.defaultPrevented?c.current=!1:a.onClose()}};return f.jsx(pH,{...i,ref:l,disabled:n,onClick:ye(t.onClick,h),onPointerDown:d=>{t.onPointerDown?.(d),c.current=!0},onPointerUp:ye(t.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:ye(t.onKeyDown,d=>{const m=o.searchRef.current!=="";n||m&&d.key===" "||iP.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});Ky.displayName=Cv;var pH=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=ej(Cv,n),o=lH(n),l=C.useRef(null),c=Ze(e,l),[h,d]=C.useState(!1),[m,g]=C.useState("");return C.useEffect(()=>{const x=l.current;x&&g((x.textContent??"").trim())},[s.children]),f.jsx(hf.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:f.jsx(Fz,{asChild:!0,...o,focusable:!r,children:f.jsx(Be.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ye(t.onPointerMove,ff(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,ff(x=>a.onItemLeave(x))),onFocus:ye(t.onFocus,()=>d(!0)),onBlur:ye(t.onBlur,()=>d(!1))})})})}),kEe="MenuCheckboxItem",mH=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return f.jsx(xH,{scope:t.__scopeMenu,checked:n,children:f.jsx(Ky,{role:"menuitemcheckbox","aria-checked":Pv(n)?"mixed":n,...i,ref:e,"data-state":ij(n),onSelect:ye(i.onSelect,()=>r?.(Pv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});mH.displayName=kEe;var gH="MenuRadioGroup",[NEe,OEe]=xl(gH,{value:void 0,onValueChange:()=>{}}),vH=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Fn(r);return f.jsx(NEe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:f.jsx(nj,{...i,ref:e})})});vH.displayName=gH;var yH="MenuRadioItem",bH=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=OEe(yH,t.__scopeMenu),s=n===i.value;return f.jsx(xH,{scope:t.__scopeMenu,checked:s,children:f.jsx(Ky,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":ij(s),onSelect:ye(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});bH.displayName=yH;var rj="MenuItemIndicator",[xH,MEe]=xl(rj,{checked:!1}),wH=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=MEe(rj,n);return f.jsx(wr,{present:r||Pv(s.checked)||s.checked===!0,children:f.jsx(Be.span,{...i,ref:e,"data-state":ij(s.checked)})})});wH.displayName=rj;var DEe="MenuSeparator",SH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});SH.displayName=DEe;var REe="MenuArrow",_H=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Gy(n);return f.jsx(hE,{...i,...r,ref:e})});_H.displayName=REe;var IEe="MenuSub",[pje,AH]=xl(IEe),Kd="MenuSubTrigger",CH=C.forwardRef((t,e)=>{const n=wl(Kd,t.__scopeMenu),r=Xf(Kd,t.__scopeMenu),i=AH(Kd,t.__scopeMenu),s=ej(Kd,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},h=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>h,[h]),C.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),f.jsx(ZT,{asChild:!0,...c,children:f.jsx(pH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":TH(n.open),...t,ref:ks(e,i.onTriggerChange),onClick:d=>{t.onClick?.(d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,ff(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ye(t.onPointerLeave,ff(d=>{h();const m=n.content?.getBoundingClientRect();if(m){const g=n.content?.dataset.side,x=g==="right",y=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,d=>{const m=s.searchRef.current!=="";t.disabled||m&&d.key===" "||gEe[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});CH.displayName=Kd;var PH="MenuSubContent",EH=C.forwardRef((t,e)=>{const n=uH(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=wl(Pi,t.__scopeMenu),a=Xf(Pi,t.__scopeMenu),o=AH(PH,t.__scopeMenu),l=C.useRef(null),c=Ze(e,l);return f.jsx(hf.Provider,{scope:t.__scopeMenu,children:f.jsx(wr,{present:r||s.open,children:f.jsx(hf.Slot,{scope:t.__scopeMenu,children:f.jsx(tj,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&l.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ye(t.onFocusOutside,h=>{h.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),m=vEe[a.dir].includes(h.key);d&&m&&(s.onOpenChange(!1),o.trigger?.focus(),h.preventDefault())})})})})})});EH.displayName=PH;function TH(t){return t?"open":"closed"}function Pv(t){return t==="indeterminate"}function ij(t){return Pv(t)?"indeterminate":t?"checked":"unchecked"}function LEe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function FEe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function $Ee(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=FEe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function BEe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,h=o.y,d=l.x,m=l.y;h>r!=m>r&&n<(d-c)*(r-h)/(m-h)+c&&(i=!i)}return i}function UEe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return BEe(n,e)}function ff(t){return e=>e.pointerType==="mouse"?t(e):void 0}var zEe=cH,VEe=ZT,WEe=dH,HEe=hH,qEe=nj,GEe=fH,KEe=Ky,YEe=mH,XEe=vH,QEe=bH,ZEe=wH,JEe=SH,eTe=_H,tTe=CH,nTe=EH,Yy="DropdownMenu",[rTe]=Oi(Yy,[oH]),Sr=oH(),[iTe,jH]=rTe(Yy),kH=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Sr(e),c=C.useRef(null),[h,d]=sa({prop:i,defaultProp:s??!1,onChange:a,caller:Yy});return f.jsx(iTe,{scope:e,triggerId:Ki(),triggerRef:c,contentId:Ki(),open:h,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(m=>!m),[d]),modal:o,children:f.jsx(zEe,{...l,open:h,onOpenChange:d,dir:r,modal:o,children:n})})};kH.displayName=Yy;var NH="DropdownMenuTrigger",OH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=jH(NH,n),a=Sr(n);return f.jsx(VEe,{asChild:!0,...a,children:f.jsx(Be.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ks(e,s.triggerRef),onPointerDown:ye(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:ye(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});OH.displayName=NH;var sTe="DropdownMenuPortal",MH=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Sr(e);return f.jsx(WEe,{...r,...n})};MH.displayName=sTe;var DH="DropdownMenuContent",RH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=jH(DH,n),s=Sr(n),a=C.useRef(!1);return f.jsx(HEe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RH.displayName=DH;var aTe="DropdownMenuGroup",oTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(qEe,{...i,...r,ref:e})});oTe.displayName=aTe;var lTe="DropdownMenuLabel",cTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(GEe,{...i,...r,ref:e})});cTe.displayName=lTe;var uTe="DropdownMenuItem",IH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(KEe,{...i,...r,ref:e})});IH.displayName=uTe;var dTe="DropdownMenuCheckboxItem",hTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(YEe,{...i,...r,ref:e})});hTe.displayName=dTe;var fTe="DropdownMenuRadioGroup",pTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(XEe,{...i,...r,ref:e})});pTe.displayName=fTe;var mTe="DropdownMenuRadioItem",gTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(QEe,{...i,...r,ref:e})});gTe.displayName=mTe;var vTe="DropdownMenuItemIndicator",yTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(ZEe,{...i,...r,ref:e})});yTe.displayName=vTe;var bTe="DropdownMenuSeparator",xTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(JEe,{...i,...r,ref:e})});xTe.displayName=bTe;var wTe="DropdownMenuArrow",STe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(eTe,{...i,...r,ref:e})});STe.displayName=wTe;var _Te="DropdownMenuSubTrigger",ATe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(tTe,{...i,...r,ref:e})});ATe.displayName=_Te;var CTe="DropdownMenuSubContent",PTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Sr(n);return f.jsx(nTe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});PTe.displayName=CTe;var ETe=kH,TTe=OH,jTe=MH,kTe=RH,NTe=IH;function OTe({...t}){return f.jsx(ETe,{"data-slot":"dropdown-menu",...t})}function MTe({...t}){return f.jsx(TTe,{"data-slot":"dropdown-menu-trigger",...t})}function DTe({className:t,sideOffset:e=4,...n}){return f.jsx(jTe,{children:f.jsx(kTe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function O_({className:t,inset:e,variant:n="default",...r}){return f.jsx(NTe,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}const RTe={cash:zP,bank:VP,card:WP,wallet:xu},ITe={cash:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",bank:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",card:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400",wallet:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"};function LTe({account:t,compact:e=!1,onEdit:n,onDelete:r,onQuickAdd:i}){const s=RTe[t.type],a=ITe[t.type],o=t.current_balance>t.opening_balance?"positive":t.current_balance<t.opening_balance?"negative":"zero";return e?f.jsx(et,{className:"hover:shadow-md transition-shadow",children:f.jsx(xt,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${a}`,children:f.jsx(s,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t.type})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Ne(t.current_balance)}),o!=="zero"&&f.jsxs("p",{className:`text-xs ${o==="positive"?"text-green-600":"text-red-600"}`,children:[o==="positive"?"+":"",Ne(t.current_balance-t.opening_balance)]})]})]})})}):f.jsx(et,{className:"hover:shadow-lg transition-shadow",children:f.jsxs(xt,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-3 rounded-xl ${a}`,children:f.jsx(s,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:t.name}),f.jsx(yn,{variant:"secondary",className:"text-xs capitalize mt-1",children:t.type})]})]}),f.jsxs(OTe,{children:[f.jsx(MTe,{asChild:!0,children:f.jsx(ve,{variant:"ghost",size:"icon",children:f.jsx(sZ,{className:"h-4 w-4"})})}),f.jsxs(DTe,{align:"end",children:[i&&f.jsxs(O_,{onClick:i,children:[f.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Quick Add"]}),n&&f.jsx(O_,{onClick:n,children:"Edit Account"}),r&&f.jsx(O_,{onClick:r,className:"text-destructive",children:"Delete Account"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-baseline",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Balance"}),f.jsx("span",{className:"text-2xl font-bold",children:Ne(t.current_balance)})]}),f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Opening Balance"}),f.jsx("span",{children:Ne(t.opening_balance)})]}),o!=="zero"&&f.jsx("div",{className:"pt-2 border-t",children:f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Change"}),f.jsxs("span",{className:o==="positive"?"text-green-600 font-medium":"text-red-600 font-medium",children:[o==="positive"?"+":"",Ne(t.current_balance-t.opening_balance)]})]})})]}),t.notes&&f.jsx("p",{className:"text-sm text-muted-foreground mt-4 pt-4 border-t",children:t.notes})]})})}const M_=[{value:"cash",label:"Cash",icon:zP,description:"Physical cash at home or wallet"},{value:"bank",label:"Bank Account",icon:VP,description:"Savings or current account"},{value:"card",label:"Credit/Debit Card",icon:WP,description:"Card balance or limit"},{value:"wallet",label:"Digital Wallet",icon:xu,description:"UPI, PayTM, PhonePe, etc."}];function sP({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addAccount:i}=ot(),[s,a]=C.useState(""),[o,l]=C.useState("cash"),[c,h]=C.useState(""),[d,m]=C.useState(""),[g,x]=C.useState(!1),y=async()=>{if(!n||!r)return;if(!s.trim()){ke.error("Please enter an account name");return}const A=parseFloat(c)||0;if(isNaN(A)){ke.error("Please enter a valid amount");return}x(!0);try{const j={id:ln(),family_id:r.id,name:s.trim(),type:o,opening_balance:A,current_balance:A,currency:r.currency,notes:d.trim()||void 0,created_by:n.id,created_at:new Date().toISOString()};await i(j),ke.success(`Account "${s}" added successfully`),b()}catch(j){console.error("Failed to add account:",j),ke.error("Failed to add account")}finally{x(!1)}},b=()=>{a(""),l("cash"),h(""),m(""),e()},w=M_.find(A=>A.value===o)||M_[0],_=w.icon;return f.jsx(Ht,{open:t,onOpenChange:A=>!A&&b(),children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Add Account"}),f.jsx(gn,{children:"Track your cash, bank accounts, cards, and digital wallets"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"name",children:"Account Name *"}),f.jsx(Mt,{id:"name",placeholder:"e.g., Home Cash, HDFC Savings, Paytm",value:s,onChange:A=>a(A.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"type",children:"Account Type *"}),f.jsxs($n,{value:o,onValueChange:A=>l(A),children:[f.jsx(Un,{id:"type",children:f.jsx(Bn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_,{className:"h-4 w-4"}),f.jsx("span",{children:w.label})]})})}),f.jsx(zn,{children:M_.map(A=>{const j=A.icon;return f.jsx(De,{value:A.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(j,{className:"h-4 w-4"}),f.jsxs("div",{children:[f.jsx("div",{children:A.label}),f.jsx("div",{className:"text-xs text-muted-foreground",children:A.description})]})]})},A.value)})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"balance",children:"Current Balance *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Mt,{id:"balance",type:"number",placeholder:"0.00",value:c,onChange:A=>h(A.target.value),className:"pl-8",step:"0.01"})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the current amount in this account"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"notes",children:"Notes (optional)"}),f.jsx(Ya,{id:"notes",placeholder:"e.g., Last 4 digits: 1234",value:d,onChange:A=>m(A.target.value),rows:2})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ve,{variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),f.jsx(ve,{onClick:y,disabled:g,className:"flex-1",children:g?"Adding...":"Add Account"})]})]})]})})}function FTe(){const{accounts:t=[]}=ot(),[e,n]=C.useState(!1),r=t.reduce((i,s)=>i+s.current_balance,0);return t.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs(xg,{children:[f.jsx(xu,{className:"h-4 w-4"}),f.jsx(wg,{children:"No accounts found. Add your first account to track cash, bank balance, cards, and wallets."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs(ve,{onClick:()=>n(!0),children:[f.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Your First Account"]})}),f.jsx(sP,{open:e,onClose:()=>n(!1)})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Accounts"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Balance: ",f.jsxs("span",{className:"font-medium text-foreground",children:["",r.toFixed(2)]})]})]}),f.jsxs(ve,{onClick:()=>n(!0),size:"sm",children:[f.jsx(Zr,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),f.jsx("div",{className:"space-y-6",children:["cash","bank","card","wallet"].map(i=>{const s=t.filter(o=>o.type===i);if(s.length===0)return null;const a={cash:"Cash",bank:"Bank Accounts",card:"Cards",wallet:"Wallets & UPI"}[i];return f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:a}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(o=>f.jsx(LTe,{account:o,compact:!0},o.id))})]},i)})}),f.jsx(sP,{open:e,onClose:()=>n(!1)})]})}function $Te({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addBudget:i,budgets:s}=ot(),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("monthly"),[m,g]=C.useState([80]),[x,y]=C.useState(!1),b=QT.filter(A=>!s.some(j=>j.category===A&&j.period===h)),w=async()=>{if(!n||!r)return;const A=parseFloat(l);if(isNaN(A)||A<=0){ke.error("Please enter a valid amount");return}if(!a){ke.error("Please select a category");return}y(!0);try{const j={id:ln(),family_id:r.id,category:a,limit_amount:A,period:h,notify_threshold_percent:m[0],created_by_user_id:n.id,created_at:new Date().toISOString()};await i(j),ke.success("Budget created successfully"),_()}catch(j){console.error("Failed to create budget:",j),ke.error("Failed to create budget")}finally{y(!1)}},_=()=>{o(""),c(""),d("monthly"),g([80]),e()};return f.jsx(Ht,{open:t,onOpenChange:A=>!A&&_(),children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Add Budget"}),f.jsx(gn,{children:"Set a spending limit for a category"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"category",children:"Category *"}),f.jsxs($n,{value:a,onValueChange:o,children:[f.jsx(Un,{id:"category",children:f.jsx(Bn,{placeholder:"Select category"})}),f.jsx(zn,{children:b.length>0?b.map(A=>f.jsx(De,{value:A,children:A},A)):f.jsx(De,{value:"_disabled",disabled:!0,children:"All categories have budgets"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"period",children:"Period *"}),f.jsxs($n,{value:h,onValueChange:A=>d(A),children:[f.jsx(Un,{id:"period",children:f.jsx(Bn,{})}),f.jsxs(zn,{children:[f.jsx(De,{value:"monthly",children:"Monthly"}),f.jsx(De,{value:"weekly",children:"Weekly"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"limitAmount",children:"Limit Amount *"}),f.jsx(Mt,{id:"limitAmount",type:"number",placeholder:"0.00",value:l,onChange:A=>c(A.target.value),step:"0.01"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Oe,{htmlFor:"threshold",children:["Alert at ",m[0],"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:l&&!isNaN(parseFloat(l))?`${(parseFloat(l)*m[0]/100).toFixed(2)}`:"0.00"})]}),f.jsx(xA,{id:"threshold",value:m,onValueChange:g,min:50,max:100,step:5}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll be notified when spending reaches this percentage"})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ve,{variant:"outline",onClick:_,className:"flex-1",children:"Cancel"}),f.jsx(ve,{onClick:w,disabled:!a||!l||x||b.length===0,className:"flex-1",children:x?"Creating...":"Create Budget"})]})]})]})})}function BTe({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addDebt:i}=ot(),[s,a]=C.useState("gave"),[o,l]=C.useState(""),[c,h]=C.useState(""),[d,m]=C.useState(new Date),[g,x]=C.useState(void 0),[y,b]=C.useState(""),[w,_]=C.useState(!1),A=async()=>{if(!n||!r)return;const P=parseFloat(c);if(isNaN(P)||P<=0){ke.error("Please enter a valid amount");return}if(!o.trim()){ke.error("Please enter the person's name");return}_(!0);try{const T={id:ln(),family_id:r.id,lender_user_id:s==="gave"?n.id:o,borrower_user_id:s==="gave"?o:n.id,amount:P,currency:r.currency,status:"open",created_at:d.toISOString()};await i(T),ke.success(s==="gave"?`Recorded: You lent ${P} to ${o}`:`Recorded: You borrowed ${P} from ${o}`),j()}catch(T){console.error("Failed to add debt:",T),ke.error("Failed to record debt")}finally{_(!1)}},j=()=>{l(""),h(""),m(new Date),x(void 0),b(""),a("gave"),e()};return f.jsx(Ht,{open:t,onOpenChange:P=>!P&&j(),children:f.jsxs(qt,{className:"max-w-lg",children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(on,{className:"text-xl",children:"Add Debt Record"}),f.jsx(ve,{variant:"ghost",size:"icon",onClick:j,className:"h-6 w-6 rounded-full",children:f.jsx(wu,{className:"h-4 w-4"})})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsx($c,{value:s,onValueChange:P=>a(P),className:"w-full",children:f.jsxs(Bc,{className:"grid w-full grid-cols-2 h-auto p-1 bg-muted",children:[f.jsxs(Rr,{value:"gave",className:"h-12 data-[state=active]:bg-emerald-500 data-[state=active]:text-white",children:[f.jsx(Ei,{className:"mr-2 h-5 w-5"}),"I Gave"]}),f.jsxs(Rr,{value:"took",className:"h-12 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[f.jsx(Zo,{className:"mr-2 h-5 w-5"}),"I Took"]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"personName",children:s==="gave"?"Lent To":"Borrowed From"}),f.jsx(Mt,{id:"personName",placeholder:"Person's name",value:o,onChange:P=>l(P.target.value),className:"h-12"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"amount",children:"Amount ()"}),f.jsx(Mt,{id:"amount",type:"number",placeholder:"0.00",value:c,onChange:P=>h(P.target.value),step:"10",className:"h-14 text-xl"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{children:"Date"}),f.jsxs(_h,{children:[f.jsx(Ah,{asChild:!0,children:f.jsxs(ve,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(Ka,{className:"mr-2 h-4 w-4"}),Cs(d)]})}),f.jsx(Ch,{className:"w-auto p-0",align:"start",children:f.jsx(bg,{mode:"single",selected:d,onSelect:P=>P&&m(P),initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Oe,{className:"flex items-center gap-2",children:[f.jsx(Ka,{className:"h-4 w-4"}),"Due Date (Optional)"]}),f.jsxs(_h,{children:[f.jsx(Ah,{asChild:!0,children:f.jsxs(ve,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(Ka,{className:"mr-2 h-4 w-4"}),g?Cs(g):"dd-mm-yyyy"]})}),f.jsx(Ch,{className:"w-auto p-0",align:"start",children:f.jsx(bg,{mode:"single",selected:g,onSelect:x,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Oe,{htmlFor:"notes",children:"Notes (Optional)"}),f.jsx(Ya,{id:"notes",placeholder:"Add any additional details...",value:y,onChange:P=>b(P.target.value),rows:3,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ve,{variant:"outline",onClick:j,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ve,{onClick:A,disabled:w,className:`flex-1 h-12 ${s==="gave"?"bg-emerald-500 hover:bg-emerald-600":"bg-orange-500 hover:bg-orange-600"}`,children:w?"Saving...":"Save Record"})]})]})]})})}function UTe({onViewChange:t,onShowReports:e}){const{currentUser:n,currentFamily:r,logout:i,debts:s,goals:a,budgets:o,accounts:l,expenses:c,income:h,goalTransfers:d,users:m}=ot(),{language:g,setLanguage:x,t:y}=hl(),[b,w]=C.useState(null),[_,A]=C.useState(!1),[j,P]=C.useState(!1),[T,k]=C.useState(!1),[O,R]=C.useState(!1),[F,M]=C.useState(!1),D=s.filter(W=>W.status==="open");a.filter(W=>W.is_active);const $=o.length,H=l.length,q=()=>{ke.info(" Coming Soon!",{description:"Invite feature is being enhanced and will be available soon!"})},V=()=>{const W={expenses:c,incomes:h,debts:s,goals:a,goalTransfers:d,accounts:l,budgets:o,users:m,family:r,exportDate:new Date().toISOString()},X=JSON.stringify(W,null,2),U=new Blob([X],{type:"application/json"}),K=URL.createObjectURL(U),Z=document.createElement("a");Z.href=K,Z.download=`kharchapal-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z);const ae=["Date","Category","Amount","Notes","Merchant","Payment_Method","Created_By"],ce=c.map(le=>[le.date,le.category,le.total_amount,le.notes||"","",le.payment_lines?.[0]?.method||"cash",m.find(he=>he.id===le.created_by)?.name||"Unknown"]),pe=[ae,...ce].map(le=>le.map(he=>`"${he}"`).join(",")).join(`
`),re=new Blob([pe],{type:"text/csv"}),ee=URL.createObjectURL(re),te=document.createElement("a");te.href=ee,te.download=`kharchapal-expenses-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(K),URL.revokeObjectURL(ee),ke.success("Data exported successfully as JSON and CSV files!")},B=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())},L=[{id:"reports",title:y("reports"),description:"View spending insights",icon:LQ,iconColor:"text-chart-1",onClick:e||(()=>w("reports"))},{id:"about",title:y("about"),description:"Developer info & support",icon:bc,iconColor:"text-tertiary",onClick:()=>w("about")},{id:"budgets",title:y("budgets"),description:"Set spending limits",icon:XQ,iconColor:"text-purple-600",badge:$>0?`${$}`:void 0,onClick:()=>w("budgets")},{id:"accounts",title:y("accounts"),description:"Manage payment accounts",icon:xu,iconColor:"text-green-600",badge:H>0?`${H}`:void 0,onClick:()=>w("accounts")},{id:"ious",title:y("debts"),description:"Money lent and borrowed",icon:Oc,iconColor:"text-orange-600",badge:D.length>0?`${D.length}`:void 0,onClick:()=>w("ious")},{id:"family",title:y("family"),description:"Invite & manage members",icon:bc,iconColor:"text-primary",onClick:()=>w("invite"),adminOnly:!0},{id:"guide",title:y("guide"),description:"Learn how to use KharchaPal",icon:jQ,iconColor:"text-tertiary",onClick:()=>w("guide")},{id:"settings",title:y("settings"),description:"Family preferences",icon:HZ,iconColor:"text-on-surface-variant",onClick:()=>w("settings")},{id:"categories",title:"Categories",description:"Manage custom categories",icon:U4,iconColor:"text-pink-600",onClick:()=>w("categories")},{id:"subscriptions",title:"Subscriptions",description:"Manage recurring payments",icon:og,iconColor:"text-purple-600",onClick:()=>w("subscriptions")},{id:"language",title:y("language"),description:"Change app language",icon:EZ,iconColor:"text-blue-600",badge:g.toUpperCase(),onClick:()=>w("language")}];return f.jsxs("div",{className:"space-y-4",children:[f.jsx(et,{className:"bg-gradient-to-br from-primary/10 to-tertiary/10 border-primary/20",children:f.jsx(At,{children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xl",children:n?.name.charAt(0).toUpperCase()}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx(Ct,{className:"truncate",children:n?.name}),f.jsx(sn,{className:"truncate",children:r?.name})]}),n?.role==="admin"&&f.jsx(yn,{variant:"secondary",className:"shrink-0",children:"Admin"})]})})}),f.jsx("div",{className:"space-y-2",children:L.map(W=>{const X=W.icon;return W.adminOnly&&n?.role!=="admin"?null:f.jsxs("button",{onClick:W.onClick,className:"w-full bg-card border border-border rounded-xl p-4 flex items-center gap-4 hover:bg-accent/50 transition-all duration-200 elevation-1 hover:elevation-2",children:[f.jsx("div",{className:`h-10 w-10 rounded-lg bg-surface-variant/50 flex items-center justify-center ${W.iconColor}`,children:f.jsx(X,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-left min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"truncate",children:W.title}),W.badge&&f.jsx(yn,{variant:"secondary",className:"shrink-0",children:W.badge})]}),f.jsx("p",{className:"text-sm text-muted-foreground truncate",children:W.description})]}),f.jsx(F4,{className:"h-5 w-5 text-muted-foreground shrink-0"})]},W.id)})}),f.jsx(et,{className:"bg-muted/30",children:f.jsxs(xt,{className:"pt-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"App Version"}),f.jsx("span",{className:"text-sm",children:"1.0.0"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Storage"}),f.jsx("span",{className:"text-sm",children:"Local (Offline-first)"})]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(ve,{variant:"outline",className:"w-full justify-start gap-3",onClick:V,children:[f.jsx(rZ,{className:"h-4 w-4"}),"Export Data"]}),f.jsxs(ve,{variant:"outline",className:"w-full justify-start gap-3 text-destructive hover:text-destructive",onClick:B,children:[f.jsx(Mv,{className:"h-4 w-4"}),"Clear All Data"]})]}),f.jsxs(ve,{variant:"destructive",className:"w-full gap-2",onClick:i,children:[f.jsx(OZ,{className:"h-4 w-4"}),"Logout"]}),f.jsx(Ht,{open:b==="reports",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Reports & Charts"}),f.jsx(gn,{children:"Visualize your spending patterns and trends"})]}),f.jsx(iEe,{})]})}),f.jsx(Ht,{open:b==="budgets",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(on,{children:"Monthly Budgets"}),f.jsx(gn,{children:"Set spending limits for different categories"})]}),f.jsxs(ve,{size:"sm",onClick:()=>R(!0),className:"gap-2",children:[f.jsx(Zr,{className:"h-4 w-4"}),"Add Budget"]})]})}),f.jsx(oEe,{})]})}),f.jsx(Ht,{open:b==="accounts",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(on,{children:"Bank Accounts"}),f.jsx(gn,{children:"Manage your payment methods and accounts"})]}),f.jsxs(ve,{size:"sm",onClick:()=>M(!0),className:"gap-2",children:[f.jsx(Zr,{className:"h-4 w-4"}),"Add Account"]})]})}),f.jsx(FTe,{})]})}),f.jsx(Ht,{open:b==="ious",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(an,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(on,{children:"Debts & Loans"}),f.jsx(gn,{children:"Money you've lent to or borrowed from others"})]}),f.jsxs(ve,{size:"sm",onClick:()=>k(!0),className:"gap-2",children:[f.jsx(Zr,{className:"h-4 w-4"}),"Add Record"]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx(Oc,{className:"h-4 w-4"}),"How this works"]}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Money Lent:"})," Money you gave to others (they owe you)"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Money Borrowed:"})," Money you took from others (you owe them)"]}),f.jsx("li",{children:'IOUs are created automatically when you mark a payment as "borrowed"'}),f.jsx("li",{children:'Click "Settle" to mark the debt as paid'})]})]}),f.jsx(aEe,{})]})]})}),f.jsx(Ht,{open:b==="invite",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Invite Family Members"}),f.jsx(gn,{children:"Share this code with family members to join"})]}),f.jsxs(et,{children:[f.jsx(At,{children:f.jsx(Ct,{className:"text-center text-3xl tracking-widest font-mono",children:r?.invite_code})}),f.jsxs(xt,{children:[f.jsx(ve,{onClick:q,className:"w-full",children:_?f.jsxs(f.Fragment,{children:[f.jsx(Ov,{className:"h-4 w-4 mr-2"}),"Copied!"]}):f.jsxs(f.Fragment,{children:[f.jsx(ZQ,{className:"h-4 w-4 mr-2"}),"Copy Invite Code"]})}),f.jsx(xg,{className:"mt-4",children:f.jsx(wg,{children:"New members can enter this code when joining your family"})})]})]})]})}),f.jsx(Ht,{open:b==="guide",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Quick Guide"}),f.jsx(gn,{children:"Learn how to use KharchaPal effectively"})]}),f.jsx(rEe,{})]})}),f.jsx(Ht,{open:b==="about",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-md",children:[f.jsxs(an,{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary to-tertiary flex items-center justify-center text-4xl",children:""}),f.jsx(on,{className:"text-2xl",children:"KharchaPal"}),f.jsx(gn,{className:"text-base",children:"Your simple household expense tracker"})]}),f.jsxs("div",{className:"space-y-4 text-center",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-tertiary/10 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Developed by"}),f.jsx("p",{className:"text-xl font-bold text-on-primary-container",children:"Nitesh Jha"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Im Nitesh Jha, a UI/UX Designer who uses AI extensively to plan, design, and develop mobile applications with high speed and clarity. I follow a structured product development approach where every idea begins with a PRD (Product Requirement Document). Using AI tools, I convert the PRD into task lists, flows, wireframes, and development-ready assets, ensuring that the entire processfrom concept to a fully functional mobile appbecomes smooth, fast, and extremely efficient. My workflow is simple and scalable: Create the PRD  Define the problem, goals, features, user journeys, and success metrics. Break It Into Tasks Using AI  Convert the PRD into atomic tasks for design, development, and testing. Generate User Flows & Wireframes  Use AI models to instantly create low-fidelity and high-fidelity screens. Build the App With AI Agents  Transform the design into a working PWA, Android APK, or iOS app using another AI tool. Validate & Iterate  Run automated validation flows and refine based on feedback. I combine design thinking with AI automation to build apps faster than traditional methodswhile still maintaining clarity, structure, and user experience."})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ve,{variant:"outline",className:"flex-1",onClick:()=>{window.open("https://www.linkedin.com/in/nitesh-jha-2021/","_blank")},children:[f.jsx(bc,{className:"h-4 w-4 mr-2"}),"LinkedIn"]}),f.jsx(ve,{onClick:()=>{const W=encodeURIComponent("Feedback: KharchaPal App"),X=encodeURIComponent(`Hi Nitesh,

I wanted to share some feedback about KharchaPal:

[Please share your suggestions, feedback, or any issues you encountered]

- App version: 1.0.0
- Family: ${r?.name||"Not set"}

Thank you!`);window.open(`mailto:niteshjha1333@gmail.com subject=${W}&body=${X}`)},className:"flex-1",children:" Feedback"})]}),f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"If you have time, your suggestions are helpful for improving the app."}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"App Version 1.0.0"})]})]})]})}),f.jsx(Ht,{open:b==="settings",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Family Settings"}),f.jsx(gn,{children:"Manage your family preferences and members"})]}),f.jsx(ZPe,{})]})}),f.jsx(Ht,{open:b==="categories",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs(an,{children:[f.jsx(on,{children:"Manage Categories"}),f.jsx(gn,{children:"Add or remove custom categories"})]}),f.jsx(tEe,{})]})}),f.jsx(Ht,{open:b==="subscriptions",onOpenChange:()=>w(null),children:f.jsx(qt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:f.jsx(nEe,{})})}),f.jsx($Te,{open:O,onClose:()=>R(!1)}),f.jsx(sP,{open:F,onClose:()=>M(!1)}),f.jsx(Nz,{open:j,onClose:()=>P(!1)}),f.jsx(BTe,{open:T,onClose:()=>k(!1)}),f.jsx(Ht,{open:b==="language",onOpenChange:()=>w(null),children:f.jsxs(qt,{className:"max-w-sm",children:[f.jsxs(an,{children:[f.jsx(on,{children:y("select_language")}),f.jsx(gn,{children:"Choose your preferred language"})]}),f.jsx("div",{className:"grid gap-2",children:[{code:"en",name:"English",native:"English"},{code:"hi",name:"Hindi",native:""},{code:"mr",name:"Marathi",native:""},{code:"ta",name:"Tamil",native:""},{code:"gu",name:"Gujarati",native:""}].map(W=>f.jsxs(ve,{variant:g===W.code?"default":"outline",className:"justify-between",onClick:()=>{x(W.code),w(null)},children:[f.jsx("span",{children:W.name}),f.jsx("span",{className:"text-xs opacity-70",children:W.native})]},W.code))})]})})]})}function zTe({activeTab:t,onTabChange:e}){const{t:n}=hl(),r=[{id:"home",label:n("home"),icon:wZ},{id:"transactions",label:n("transactions"),icon:ag},{id:"goals",label:n("goals"),icon:eh},{id:"more",label:n("more"),icon:DZ}];return f.jsxs("nav",{className:"fixed bottom-safe bottom-0 left-0 right-0 z-50 bg-surface/95 backdrop-blur-lg border-t border-border elevation-4",children:[f.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-around h-16 px-2",children:r.map(i=>{const s=i.icon,a=t===i.id;return f.jsxs("button",{onClick:()=>e(i.id),className:`
                flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl
                transition-all duration-200 min-w-0 flex-1 max-w-[80px]
                active:scale-95
                ${a?"text-primary bg-primary-container/60 shadow-sm":"text-on-surface-variant hover:bg-surface-variant/40 hover:text-foreground"}
              `,children:[f.jsx(s,{className:`h-5 w-5 shrink-0 transition-all ${a?"fill-primary/20 scale-110":""}`}),f.jsx("span",{className:`text-xs truncate w-full text-center transition-all ${a?"font-medium":""}`,children:i.label})]},i.id)})}),f.jsx("div",{className:"absolute top-0 left-0 h-0.5 bg-primary transition-all duration-300 ease-out",style:{width:"25%",transform:`translateX(${r.findIndex(i=>i.id===t)*100}%)`}})]})}const VTe="/assets/kharchapal-5yiOkW9g.png";function WTe(){const{currentUser:t,currentFamily:e}=ot(),{t:n}=hl(),[r,i]=C.useState("home"),[s,a]=C.useState("expenses"),[o,l]=C.useState(!1),[c,h]=C.useState("expense"),[d,m]=C.useState(!1),[g,x]=C.useState(!1),[y,b]=C.useState(!1),[w,_]=C.useState(!1),[A,j]=C.useState(!1),[P,T]=C.useState({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),[k,O]=C.useState(!1),R=()=>{h(s==="income"?"income":"expense"),l(!0)},F=$=>{T($),O($.searchQuery!==""||$.timeRange!=="all"||$.category!=="All Categories"||$.mode!=="All Modes"),j(!1)},M=()=>{T({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),O(!1)},D=r==="home"||r==="transactions";return y?f.jsx(QPe,{onBack:()=>b(!1)}):f.jsxs("div",{className:"min-h-screen bg-background pb-safe",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10 pt-safe",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:VTe,alt:"KharchaPal",className:"h-8 w-8"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{className:"truncate",children:e?.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-sm opacity-90 truncate",children:t?.name}),t?.role==="admin"&&f.jsx(yn,{variant:"secondary",className:"text-xs bg-primary-container text-on-primary-container shrink-0",children:"Admin"})]})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-4 pb-4",children:[r==="home"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-5 border border-primary/20",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-purple-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:f.jsx("span",{className:"text-2xl font-bold",children:""})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[n("welcome"),", ",t?.name,"! "]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:new Date().toLocaleDateString("en-IN",{month:"long",year:"numeric"})})]})]}),f.jsx("div",{className:"text-4xl",children:new Date().getHours()<12?"":new Date().getHours()<17?"":""})]})}),f.jsx(vde,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(GP,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-green-900 dark:text-green-100",children:n("quick_add")}),f.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:n("quick_add_desc")})]})]}),f.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(HP,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:n("import_upi")}),f.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:n("import_upi_desc")})]})]})]}),f.jsx(WJ,{}),f.jsx(HJ,{}),f.jsx(jJ,{}),f.jsx(NJ,{}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3",children:n("recent_transactions")}),f.jsxs($c,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Rr,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Rr,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(qa,{value:"expenses",className:"mt-4",children:f.jsx(YM,{})}),f.jsx(qa,{value:"income",className:"mt-4",children:f.jsx(XM,{})})]})]})]}),r==="transactions"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{children:n("transactions")}),f.jsxs("div",{className:"flex items-center gap-2",children:[k&&f.jsxs(ve,{variant:"ghost",size:"sm",onClick:M,className:"gap-2 h-9 px-3",children:[f.jsx(wu,{className:"h-4 w-4"}),"Clear Filters"]}),f.jsxs(ve,{variant:k?"default":"outline",size:"sm",onClick:()=>j(!0),className:"gap-2",children:[f.jsx(pZ,{className:"h-4 w-4"}),"Filter",k&&f.jsx(yn,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs",children:"On"})]})]})]}),f.jsxs($c,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Rr,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Rr,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(qa,{value:"expenses",className:"mt-4",children:f.jsx(YM,{filters:P})}),f.jsx(qa,{value:"income",className:"mt-4",children:f.jsx(XM,{filters:P})})]})]}),r==="goals"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{children:n("savings_goals")}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your financial targets"})]}),f.jsxs(ve,{size:"sm",onClick:()=>_(!0),className:"gap-2",children:[f.jsx(Zr,{className:"h-4 w-4"}),"Add Goal"]})]}),f.jsx(zie,{})]}),r==="more"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{children:n("more_options")}),f.jsx(UTe,{onShowReports:()=>b(!0)})]})]}),f.jsx(zTe,{activeTab:r,onTabChange:i}),D&&f.jsx("div",{className:"fixed right-4 bottom-4 z-40",style:{bottom:"calc(max(env(safe-area-inset-bottom), 16px) + 84px)"},children:f.jsx(ve,{size:"icon",className:"rounded-full h-14 w-14 elevation-4 hover:elevation-5 bg-primary hover:bg-primary/90 text-primary-foreground transition-all duration-300 hover:scale-105 active:scale-95",onClick:R,children:f.jsx(Zr,{className:"h-6 w-6"})})}),f.jsx(Vle,{open:o,onClose:()=>l(!1),defaultType:c}),f.jsx(qle,{open:d,onClose:()=>m(!1)}),f.jsx(hde,{open:g,onClose:()=>x(!1)}),f.jsx(Nz,{open:w,onClose:()=>_(!1)}),f.jsx(gde,{open:A,onClose:()=>j(!1),onApplyFilters:F})]})}var HTe=(t,e,n,r,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function h(g){(Array.isArray(t)?t:[t]).forEach(x=>{let y=x==="class",b=y&&s?i.map(w=>s[w]||w):i;y?(l.classList.remove(...b),l.classList.add(s&&s[g]?s[g]:g)):l.setAttribute(x,g)}),d(g)}function d(g){o&&c.includes(g)&&(l.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let g=localStorage.getItem(e)||n,x=a&&g==="system"?m():g;h(x)}catch{}},qTe=C.createContext(void 0),GTe={setTheme:t=>{},themes:[]},KTe=()=>{var t;return(t=C.useContext(qTe))!=null?t:GTe};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let h=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return C.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${HTe.toString()})(${h})`}})});const YTe=({...t})=>{const{theme:e="system"}=KTe();return f.jsx(kie,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var pu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(pu||(pu={}));class D_ extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const XTe=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},QTe=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:XTe(t),s=()=>i()!=="web",a=d=>{const m=c.get(d);return!!(m?.platforms.has(i())||o(d))},o=d=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===d)},l=d=>t.console.error(d),c=new Map,h=(d,m={})=>{const g=c.get(d);if(g)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),g.proxy;const x=i(),y=o(d);let b;const w=async()=>(!b&&x in m?b=typeof m[x]=="function"?b=await m[x]():b=m[x]:e!==null&&!b&&"web"in m&&(b=typeof m.web=="function"?b=await m.web():b=m.web),b),_=(O,R)=>{var F,M;if(y){const D=y?.methods.find($=>R===$.name);if(D)return D.rtype==="promise"?$=>n.nativePromise(d,R.toString(),$):($,H)=>n.nativeCallback(d,R.toString(),$,H);if(O)return(F=O[R])===null||F===void 0?void 0:F.bind(O)}else{if(O)return(M=O[R])===null||M===void 0?void 0:M.bind(O);throw new D_(`"${d}" plugin is not implemented on ${x}`,pu.Unimplemented)}},A=O=>{let R;const F=(...M)=>{const D=w().then($=>{const H=_($,O);if(H){const q=H(...M);return R=q?.remove,q}else throw new D_(`"${d}.${O}()" is not implemented on ${x}`,pu.Unimplemented)});return O==="addListener"&&(D.remove=async()=>R()),D};return F.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:O,writable:!1,configurable:!1}),F},j=A("addListener"),P=A("removeListener"),T=(O,R)=>{const F=j({eventName:O},R),M=async()=>{const $=await F;P({eventName:O,callbackId:$},R)},D=new Promise($=>F.then(()=>$({remove:M})));return D.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},D},k=new Proxy({},{get(O,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?T:j;case"removeListener":return P;default:return A(R)}}});return r[d]=k,c.set(d,{name:d,proxy:k,platforms:new Set([...Object.keys(m),...y?[x]:[]])}),k};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=i,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=h,n.Exception=D_,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},ZTe=t=>t.Capacitor=QTe(t),pf=ZTe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Qf=pf.registerPlugin;class LH{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new pf.Exception(e,pu.Unimplemented)}unavailable(e="not available"){return new pf.Exception(e,pu.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const FB=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),$B=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class JTe extends LH{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=$B(i).trim(),s=$B(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=FB(e.key),r=FB(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Qf("CapacitorCookies",{web:()=>new JTe});const eje=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),tje=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},nje=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${r}&${l}`},"").substr(1):null,rje=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=tje(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class ije extends LH{async request(e){const n=rje(e,e.webFetchExtra),r=nje(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await s.blob(),l=await eje(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const h={};return s.headers.forEach((d,m)=>{h[m]=d}),{data:l,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Qf("CapacitorHttp",{web:()=>new ije});var aP;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(aP||(aP={}));var BB;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(BB||(BB={}));const R_=Qf("StatusBar"),sje="modulepreload",aje=function(t){return"/"+t},UB={},oje=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=a(n.map(c=>{if(c=aje(c),c in UB)return;UB[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":sje,h||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},lje=Qf("Device",{web:()=>oje(()=>import("./web-CceaRUkE.js"),[]).then(t=>new t.DeviceWeb)}),cje=Qf("EdgeToEdge",{});function uje(){const{currentUser:t,currentFamily:e,isLoading:n}=ot(),[r,i]=C.useState("welcome"),[s,a]=C.useState(!1);C.useEffect(()=>{pf.isNativePlatform()&&(R_.setStyle({style:aP.Light}),R_.setBackgroundColor({color:"#4F46E5"}),R_.show())},[]),C.useEffect(()=>{(async()=>{if(pf.isNativePlatform())try{const{osVersion:c}=await lje.getInfo();+c>=15&&await cje.enable()}catch(c){console.warn("EdgeToEdge not supported or failed to enable:",c)}})()},[]),C.useEffect(()=>{if(n){const l=setTimeout(()=>{a(!0)},5e3);return()=>clearTimeout(l)}else a(!1)},[n]);const o=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())};return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-tertiary/5 p-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-6",children:f.jsx("div",{className:"text-7xl animate-pulse",children:""})}),f.jsx("h2",{className:"text-2xl mb-2 text-primary",children:"KharchaPal"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Loading your expenses..."}),f.jsx("div",{className:"w-48 h-1 bg-surface-variant rounded-full mx-auto overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary rounded-full animate-[loading_1.5s_ease-in-out_infinite]"})}),s&&f.jsxs("div",{className:"mt-8 p-6 bg-error-container/20 border-2 border-destructive/20 rounded-xl elevation-2",children:[f.jsx("p",{className:"text-sm mb-4 text-on-error-container",children:"Taking longer than usual?"}),f.jsx("button",{onClick:o,className:"px-6 py-3 bg-destructive text-destructive-foreground rounded-xl hover:bg-destructive/90 transition-all duration-200 elevation-1 hover:elevation-2",children:"Reset App Data"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Check the console (F12) for error details"})]})]})}):t&&e?f.jsx(WTe,{}):f.jsxs(f.Fragment,{children:[r==="welcome"&&f.jsx(fJ,{onCreateFamily:()=>i("create"),onJoinFamily:()=>i("join")}),r==="create"&&f.jsx(EJ,{onComplete:()=>{},onBack:()=>i("welcome")}),r==="join"&&f.jsx(TJ,{onComplete:()=>{},onBack:()=>i("welcome")})]})}function dje(){return f.jsx(zG,{children:f.jsxs(VJ,{children:[f.jsx(uje,{}),f.jsx(YTe,{position:"top-center"})]})})}$G.createRoot(document.getElementById("root")).render(f.jsx(dje,{}));export{LH as W};
