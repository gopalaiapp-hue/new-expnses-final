function r9(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function At(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gx={exports:{}},Pd={},Kx={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tO;function i9(){if(tO)return at;tO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;function m(U){return U===null||typeof U!="object"?null:(U=d&&U[d]||U["@@iterator"],typeof U=="function"?U:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,v={};function b(U,K,Z){this.props=U,this.context=K,this.refs=v,this.updater=Z||g}b.prototype.isReactComponent={},b.prototype.setState=function(U,K){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,K,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function w(){}w.prototype=b.prototype;function _(U,K,Z){this.props=U,this.context=K,this.refs=v,this.updater=Z||g}var A=_.prototype=new w;A.constructor=_,x(A,b.prototype),A.isPureReactComponent=!0;var T=Array.isArray,P=Object.prototype.hasOwnProperty,E={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(U,K,Z){var se,oe={},pe=null,te=null;if(K!=null)for(se in K.ref!==void 0&&(te=K.ref),K.key!==void 0&&(pe=""+K.key),K)P.call(K,se)&&!k.hasOwnProperty(se)&&(oe[se]=K[se]);var le=arguments.length-2;if(le===1)oe.children=Z;else if(1<le){for(var ie=Array(le),he=0;he<le;he++)ie[he]=arguments[he+2];oe.children=ie}if(U&&U.defaultProps)for(se in le=U.defaultProps,le)oe[se]===void 0&&(oe[se]=le[se]);return{$$typeof:t,type:U,key:pe,ref:te,props:oe,_owner:E.current}}function D(U,K){return{$$typeof:t,type:U.type,key:K,ref:U.ref,props:U.props,_owner:U._owner}}function F(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var K={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Z){return K[Z]})}var R=/\/+/g;function $(U,K){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):K.toString(36)}function H(U,K,Z,se,oe){var pe=typeof U;(pe==="undefined"||pe==="boolean")&&(U=null);var te=!1;if(U===null)te=!0;else switch(pe){case"string":case"number":te=!0;break;case"object":switch(U.$$typeof){case t:case e:te=!0}}if(te)return te=U,oe=oe(te),U=se===""?"."+$(te,0):se,T(oe)?(Z="",U!=null&&(Z=U.replace(R,"$&/")+"/"),H(oe,K,Z,"",function(he){return he})):oe!=null&&(F(oe)&&(oe=D(oe,Z+(!oe.key||te&&te.key===oe.key?"":(""+oe.key).replace(R,"$&/")+"/")+U)),K.push(oe)),1;if(te=0,se=se===""?".":se+":",T(U))for(var le=0;le<U.length;le++){pe=U[le];var ie=se+$(pe,le);te+=H(pe,K,Z,ie,oe)}else if(ie=m(U),typeof ie=="function")for(U=ie.call(U),le=0;!(pe=U.next()).done;)pe=pe.value,ie=se+$(pe,le++),te+=H(pe,K,Z,ie,oe);else if(pe==="object")throw K=String(U),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return te}function G(U,K,Z){if(U==null)return U;var se=[],oe=0;return H(U,se,"","",function(pe){return K.call(Z,pe,oe++)}),se}function V(U){if(U._status===-1){var K=U._result;K=K(),K.then(function(Z){(U._status===0||U._status===-1)&&(U._status=1,U._result=Z)},function(Z){(U._status===0||U._status===-1)&&(U._status=2,U._result=Z)}),U._status===-1&&(U._status=0,U._result=K)}if(U._status===1)return U._result.default;throw U._result}var B={current:null},L={transition:null},W={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:L,ReactCurrentOwner:E};function X(){throw Error("act(...) is not supported in production builds of React.")}return at.Children={map:G,forEach:function(U,K,Z){G(U,function(){K.apply(this,arguments)},Z)},count:function(U){var K=0;return G(U,function(){K++}),K},toArray:function(U){return G(U,function(K){return K})||[]},only:function(U){if(!F(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},at.Component=b,at.Fragment=n,at.Profiler=i,at.PureComponent=_,at.StrictMode=r,at.Suspense=l,at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,at.act=X,at.cloneElement=function(U,K,Z){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var se=x({},U.props),oe=U.key,pe=U.ref,te=U._owner;if(K!=null){if(K.ref!==void 0&&(pe=K.ref,te=E.current),K.key!==void 0&&(oe=""+K.key),U.type&&U.type.defaultProps)var le=U.type.defaultProps;for(ie in K)P.call(K,ie)&&!k.hasOwnProperty(ie)&&(se[ie]=K[ie]===void 0&&le!==void 0?le[ie]:K[ie])}var ie=arguments.length-2;if(ie===1)se.children=Z;else if(1<ie){le=Array(ie);for(var he=0;he<ie;he++)le[he]=arguments[he+2];se.children=le}return{$$typeof:t,type:U.type,key:oe,ref:pe,props:se,_owner:te}},at.createContext=function(U){return U={$$typeof:a,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:s,_context:U},U.Consumer=U},at.createElement=O,at.createFactory=function(U){var K=O.bind(null,U);return K.type=U,K},at.createRef=function(){return{current:null}},at.forwardRef=function(U){return{$$typeof:o,render:U}},at.isValidElement=F,at.lazy=function(U){return{$$typeof:h,_payload:{_status:-1,_result:U},_init:V}},at.memo=function(U,K){return{$$typeof:c,type:U,compare:K===void 0?null:K}},at.startTransition=function(U){var K=L.transition;L.transition={};try{U()}finally{L.transition=K}},at.unstable_act=X,at.useCallback=function(U,K){return B.current.useCallback(U,K)},at.useContext=function(U){return B.current.useContext(U)},at.useDebugValue=function(){},at.useDeferredValue=function(U){return B.current.useDeferredValue(U)},at.useEffect=function(U,K){return B.current.useEffect(U,K)},at.useId=function(){return B.current.useId()},at.useImperativeHandle=function(U,K,Z){return B.current.useImperativeHandle(U,K,Z)},at.useInsertionEffect=function(U,K){return B.current.useInsertionEffect(U,K)},at.useLayoutEffect=function(U,K){return B.current.useLayoutEffect(U,K)},at.useMemo=function(U,K){return B.current.useMemo(U,K)},at.useReducer=function(U,K,Z){return B.current.useReducer(U,K,Z)},at.useRef=function(U){return B.current.useRef(U)},at.useState=function(U){return B.current.useState(U)},at.useSyncExternalStore=function(U,K,Z){return B.current.useSyncExternalStore(U,K,Z)},at.useTransition=function(){return B.current.useTransition()},at.version="18.3.1",at}var nO;function Fv(){return nO||(nO=1,Kx.exports=i9()),Kx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rO;function s9(){if(rO)return Pd;rO=1;var t=Fv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var h,d={},m=null,g=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(h in l)r.call(l,h)&&!s.hasOwnProperty(h)&&(d[h]=l[h]);if(o&&o.defaultProps)for(h in l=o.defaultProps,l)d[h]===void 0&&(d[h]=l[h]);return{$$typeof:e,type:o,key:m,ref:g,props:d,_owner:i.current}}return Pd.Fragment=n,Pd.jsx=a,Pd.jsxs=a,Pd}var iO;function a9(){return iO||(iO=1,Gx.exports=s9()),Gx.exports}var f=a9(),gm={},Yx={exports:{}},Mr={},Xx={exports:{}},Qx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO;function o9(){return sO||(sO=1,(function(t){function e(L,W){var X=L.length;L.push(W);e:for(;0<X;){var U=X-1>>>1,K=L[U];if(0<i(K,W))L[U]=W,L[X]=K,X=U;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],X=L.pop();if(X!==W){L[0]=X;e:for(var U=0,K=L.length,Z=K>>>1;U<Z;){var se=2*(U+1)-1,oe=L[se],pe=se+1,te=L[pe];if(0>i(oe,X))pe<K&&0>i(te,oe)?(L[U]=te,L[pe]=X,U=pe):(L[U]=oe,L[se]=X,U=se);else if(pe<K&&0>i(te,X))L[U]=te,L[pe]=X,U=pe;else break e}}return W}function i(L,W){var X=L.sortIndex-W.sortIndex;return X!==0?X:L.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],h=1,d=null,m=3,g=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(L){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=L)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function T(L){if(v=!1,A(L),!x)if(n(l)!==null)x=!0,V(P);else{var W=n(c);W!==null&&B(T,W.startTime-L)}}function P(L,W){x=!1,v&&(v=!1,w(O),O=-1),g=!0;var X=m;try{for(A(W),d=n(l);d!==null&&(!(d.expirationTime>W)||L&&!M());){var U=d.callback;if(typeof U=="function"){d.callback=null,m=d.priorityLevel;var K=U(d.expirationTime<=W);W=t.unstable_now(),typeof K=="function"?d.callback=K:d===n(l)&&r(l),A(W)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var se=n(c);se!==null&&B(T,se.startTime-W),Z=!1}return Z}finally{d=null,m=X,g=!1}}var E=!1,k=null,O=-1,D=5,F=-1;function M(){return!(t.unstable_now()-F<D)}function R(){if(k!==null){var L=t.unstable_now();F=L;var W=!0;try{W=k(!0,L)}finally{W?$():(E=!1,k=null)}}else E=!1}var $;if(typeof _=="function")$=function(){_(R)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=R,$=function(){G.postMessage(null)}}else $=function(){b(R,0)};function V(L){k=L,E||(E=!0,$())}function B(L,W){O=b(function(){L(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,V(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var X=m;m=W;try{return L()}finally{m=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=m;m=L;try{return W()}finally{m=X}},t.unstable_scheduleCallback=function(L,W,X){var U=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?U+X:U):X=U,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=X+K,L={id:h++,callback:W,priorityLevel:L,startTime:X,expirationTime:K,sortIndex:-1},X>U?(L.sortIndex=X,e(c,L),n(l)===null&&L===n(c)&&(v?(w(O),O=-1):v=!0,B(T,X-U))):(L.sortIndex=K,e(l,L),x||g||(x=!0,V(P))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var W=m;return function(){var X=m;m=W;try{return L.apply(this,arguments)}finally{m=X}}}})(Qx)),Qx}var aO;function l9(){return aO||(aO=1,Xx.exports=o9()),Xx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oO;function c9(){if(oO)return Mr;oO=1;var t=Fv(),e=l9();function n(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,y=1;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,p){a(u,p),a(u+"Capture",p)}function a(u,p){for(i[u]=p,u=0;u<p.length;u++)r.add(p[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},d={};function m(u){return l.call(d,u)?!0:l.call(h,u)?!1:c.test(u)?d[u]=!0:(h[u]=!0,!1)}function g(u,p,y,S){if(y!==null&&y.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return S?!1:y!==null?!y.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,p,y,S){if(p===null||typeof p>"u"||g(u,p,y,S))return!0;if(S)return!1;if(y!==null)switch(y.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function v(u,p,y,S,j,N,I){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=S,this.attributeNamespace=j,this.mustUseProperty=y,this.propertyName=u,this.type=p,this.sanitizeURL=N,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new v(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];b[p]=new v(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new v(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new v(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new v(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new v(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new v(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new v(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new v(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function _(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(w,_);b[p]=new v(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(w,_);b[p]=new v(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(w,_);b[p]=new v(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!0,!0)});function A(u,p,y,S){var j=b.hasOwnProperty(p)?b[p]:null;(j!==null?j.type!==0:S||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,y,j,S)&&(y=null),S||j===null?m(p)&&(y===null?u.removeAttribute(p):u.setAttribute(p,""+y)):j.mustUseProperty?u[j.propertyName]=y===null?j.type===3?!1:"":y:(p=j.attributeName,S=j.attributeNamespace,y===null?u.removeAttribute(p):(j=j.type,y=j===3||j===4&&y===!0?"":""+y,S?u.setAttributeNS(S,p,y):u.setAttribute(p,y))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),E=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),L=Symbol.iterator;function W(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var X=Object.assign,U;function K(u){if(U===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);U=p&&p[1]||""}return`
`+U+u}var Z=!1;function se(u,p){if(!u||Z)return"";Z=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(ne){var S=ne}Reflect.construct(u,[],p)}else{try{p.call()}catch(ne){S=ne}u.call(p.prototype)}else{try{throw Error()}catch(ne){S=ne}u()}}catch(ne){if(ne&&S&&typeof ne.stack=="string"){for(var j=ne.stack.split(`
`),N=S.stack.split(`
`),I=j.length-1,q=N.length-1;1<=I&&0<=q&&j[I]!==N[q];)q--;for(;1<=I&&0<=q;I--,q--)if(j[I]!==N[q]){if(I!==1||q!==1)do if(I--,q--,0>q||j[I]!==N[q]){var Y=`
`+j[I].replace(" at new "," at ");return u.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",u.displayName)),Y}while(1<=I&&0<=q);break}}}finally{Z=!1,Error.prepareStackTrace=y}return(u=u?u.displayName||u.name:"")?K(u):""}function oe(u){switch(u.tag){case 5:return K(u.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return u=se(u.type,!1),u;case 11:return u=se(u.type.render,!1),u;case 1:return u=se(u.type,!0),u;default:return""}}function pe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case k:return"Fragment";case E:return"Portal";case D:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case H:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case F:return(u._context.displayName||"Context")+".Provider";case R:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case G:return p=u.displayName||null,p!==null?p:pe(u.type)||"Memo";case V:p=u._payload,u=u._init;try{return pe(u(p))}catch{}}return null}function te(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function le(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function ie(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function he(u){var p=ie(u)?"checked":"value",y=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),S=""+u[p];if(!u.hasOwnProperty(p)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var j=y.get,N=y.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return j.call(this)},set:function(I){S=""+I,N.call(this,I)}}),Object.defineProperty(u,p,{enumerable:y.enumerable}),{getValue:function(){return S},setValue:function(I){S=""+I},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function ve(u){u._valueTracker||(u._valueTracker=he(u))}function re(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var y=p.getValue(),S="";return u&&(S=ie(u)?u.checked?"true":"false":u.value),u=S,u!==y?(p.setValue(u),!0):!1}function qe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Ie(u,p){var y=p.checked;return X({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:y??u._wrapperState.initialChecked})}function xt(u,p){var y=p.defaultValue==null?"":p.defaultValue,S=p.checked!=null?p.checked:p.defaultChecked;y=le(p.value!=null?p.value:y),u._wrapperState={initialChecked:S,initialValue:y,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function vt(u,p){p=p.checked,p!=null&&A(u,"checked",p,!1)}function ft(u,p){vt(u,p);var y=le(p.value),S=p.type;if(y!=null)S==="number"?(y===0&&u.value===""||u.value!=y)&&(u.value=""+y):u.value!==""+y&&(u.value=""+y);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?Re(u,p.type,y):p.hasOwnProperty("defaultValue")&&Re(u,p.type,le(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function be(u,p,y){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var S=p.type;if(!(S!=="submit"&&S!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,y||p===u.value||(u.value=p),u.defaultValue=p}y=u.name,y!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,y!==""&&(u.name=y)}function Re(u,p,y){(p!=="number"||qe(u.ownerDocument)!==u)&&(y==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+y&&(u.defaultValue=""+y))}var rt=Array.isArray;function kt(u,p,y,S){if(u=u.options,p){p={};for(var j=0;j<y.length;j++)p["$"+y[j]]=!0;for(y=0;y<u.length;y++)j=p.hasOwnProperty("$"+u[y].value),u[y].selected!==j&&(u[y].selected=j),j&&S&&(u[y].defaultSelected=!0)}else{for(y=""+le(y),p=null,j=0;j<u.length;j++){if(u[j].value===y){u[j].selected=!0,S&&(u[j].defaultSelected=!0);return}p!==null||u[j].disabled||(p=u[j])}p!==null&&(p.selected=!0)}}function ct(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function ar(u,p){var y=p.value;if(y==null){if(y=p.children,p=p.defaultValue,y!=null){if(p!=null)throw Error(n(92));if(rt(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),y=p}u._wrapperState={initialValue:le(y)}}function Er(u,p){var y=le(p.value),S=le(p.defaultValue);y!=null&&(y=""+y,y!==u.value&&(u.value=y),p.defaultValue==null&&u.defaultValue!==y&&(u.defaultValue=y)),S!=null&&(u.defaultValue=""+S)}function ai(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function Ls(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zu(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?Ls(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var bo,El=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,y,S,j){MSApp.execUnsafeLocalFunction(function(){return u(p,y,S,j)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=bo.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function oi(u,p){if(p){var y=u.firstChild;if(y&&y===u.lastChild&&y.nodeType===3){y.nodeValue=p;return}}u.textContent=p}var ba={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xa=["Webkit","ms","Moz","O"];Object.keys(ba).forEach(function(u){xa.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),ba[p]=ba[u]})});function op(u,p,y){return p==null||typeof p=="boolean"||p===""?"":y||typeof p!="number"||p===0||ba.hasOwnProperty(u)&&ba[u]?(""+p).trim():p+"px"}function lp(u,p){u=u.style;for(var y in p)if(p.hasOwnProperty(y)){var S=y.indexOf("--")===0,j=op(y,p[y],S);y==="float"&&(y="cssFloat"),S?u.setProperty(y,j):u[y]=j}}var cp=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jl(u,p){if(p){if(cp[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Vu(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xo=null;function li(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Wu=null,wa=null,Fs=null;function Hu(u){if(u=dd(u)){if(typeof Wu!="function")throw Error(n(280));var p=u.stateNode;p&&(p=kp(p),Wu(u.stateNode,u.type,p))}}function Ye(u){wa?Fs?Fs.push(u):Fs=[u]:wa=u}function ln(){if(wa){var u=wa,p=Fs;if(Fs=wa=null,Hu(u),p)for(u=0;u<p.length;u++)Hu(p[u])}}function _n(u,p){return u(p)}function or(){}var Sa=!1;function mn(u,p,y){if(Sa)return u(p,y);Sa=!0;try{return _n(u,p,y)}finally{Sa=!1,(wa!==null||Fs!==null)&&(or(),ln())}}function Mn(u,p){var y=u.stateNode;if(y===null)return null;var S=kp(y);if(S===null)return null;y=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(y&&typeof y!="function")throw Error(n(231,p,typeof y));return y}var _a=!1;if(o)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){_a=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{_a=!1}function zr(u,p,y,S,j,N,I,q,Y){var ne=Array.prototype.slice.call(arguments,3);try{p.apply(y,ne)}catch(de){this.onError(de)}}var Aa=!1,ci=null,qu=!1,hb=null,uq={onError:function(u){Aa=!0,ci=u}};function dq(u,p,y,S,j,N,I,q,Y){Aa=!1,ci=null,zr.apply(uq,arguments)}function hq(u,p,y,S,j,N,I,q,Y){if(dq.apply(this,arguments),Aa){if(Aa){var ne=ci;Aa=!1,ci=null}else throw Error(n(198));qu||(qu=!0,hb=ne)}}function wo(u){var p=u,y=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(y=p.return),u=p.return;while(u)}return p.tag===3?y:null}function AT(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function CT(u){if(wo(u)!==u)throw Error(n(188))}function fq(u){var p=u.alternate;if(!p){if(p=wo(u),p===null)throw Error(n(188));return p!==u?null:u}for(var y=u,S=p;;){var j=y.return;if(j===null)break;var N=j.alternate;if(N===null){if(S=j.return,S!==null){y=S;continue}break}if(j.child===N.child){for(N=j.child;N;){if(N===y)return CT(j),u;if(N===S)return CT(j),p;N=N.sibling}throw Error(n(188))}if(y.return!==S.return)y=j,S=N;else{for(var I=!1,q=j.child;q;){if(q===y){I=!0,y=j,S=N;break}if(q===S){I=!0,S=j,y=N;break}q=q.sibling}if(!I){for(q=N.child;q;){if(q===y){I=!0,y=N,S=j;break}if(q===S){I=!0,S=N,y=j;break}q=q.sibling}if(!I)throw Error(n(189))}}if(y.alternate!==S)throw Error(n(190))}if(y.tag!==3)throw Error(n(188));return y.stateNode.current===y?u:p}function PT(u){return u=fq(u),u!==null?ET(u):null}function ET(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=ET(u);if(p!==null)return p;u=u.sibling}return null}var jT=e.unstable_scheduleCallback,TT=e.unstable_cancelCallback,pq=e.unstable_shouldYield,mq=e.unstable_requestPaint,cn=e.unstable_now,gq=e.unstable_getCurrentPriorityLevel,fb=e.unstable_ImmediatePriority,kT=e.unstable_UserBlockingPriority,up=e.unstable_NormalPriority,vq=e.unstable_LowPriority,NT=e.unstable_IdlePriority,dp=null,ss=null;function yq(u){if(ss&&typeof ss.onCommitFiberRoot=="function")try{ss.onCommitFiberRoot(dp,u,void 0,(u.current.flags&128)===128)}catch{}}var Fi=Math.clz32?Math.clz32:wq,bq=Math.log,xq=Math.LN2;function wq(u){return u>>>=0,u===0?32:31-(bq(u)/xq|0)|0}var hp=64,fp=4194304;function Gu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function pp(u,p){var y=u.pendingLanes;if(y===0)return 0;var S=0,j=u.suspendedLanes,N=u.pingedLanes,I=y&268435455;if(I!==0){var q=I&~j;q!==0?S=Gu(q):(N&=I,N!==0&&(S=Gu(N)))}else I=y&~j,I!==0?S=Gu(I):N!==0&&(S=Gu(N));if(S===0)return 0;if(p!==0&&p!==S&&(p&j)===0&&(j=S&-S,N=p&-p,j>=N||j===16&&(N&4194240)!==0))return p;if((S&4)!==0&&(S|=y&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=S;0<p;)y=31-Fi(p),j=1<<y,S|=u[y],p&=~j;return S}function Sq(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _q(u,p){for(var y=u.suspendedLanes,S=u.pingedLanes,j=u.expirationTimes,N=u.pendingLanes;0<N;){var I=31-Fi(N),q=1<<I,Y=j[I];Y===-1?((q&y)===0||(q&S)!==0)&&(j[I]=Sq(q,p)):Y<=p&&(u.expiredLanes|=q),N&=~q}}function pb(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function OT(){var u=hp;return hp<<=1,(hp&4194240)===0&&(hp=64),u}function mb(u){for(var p=[],y=0;31>y;y++)p.push(u);return p}function Ku(u,p,y){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-Fi(p),u[p]=y}function Aq(u,p){var y=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<y;){var j=31-Fi(y),N=1<<j;p[j]=0,S[j]=-1,u[j]=-1,y&=~N}}function gb(u,p){var y=u.entangledLanes|=p;for(u=u.entanglements;y;){var S=31-Fi(y),j=1<<S;j&p|u[S]&p&&(u[S]|=p),y&=~j}}var Ct=0;function MT(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var DT,vb,RT,IT,LT,yb=!1,mp=[],Ca=null,Pa=null,Ea=null,Yu=new Map,Xu=new Map,ja=[],Cq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FT(u,p){switch(u){case"focusin":case"focusout":Ca=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":Yu.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xu.delete(p.pointerId)}}function Qu(u,p,y,S,j,N){return u===null||u.nativeEvent!==N?(u={blockedOn:p,domEventName:y,eventSystemFlags:S,nativeEvent:N,targetContainers:[j]},p!==null&&(p=dd(p),p!==null&&vb(p)),u):(u.eventSystemFlags|=S,p=u.targetContainers,j!==null&&p.indexOf(j)===-1&&p.push(j),u)}function Pq(u,p,y,S,j){switch(p){case"focusin":return Ca=Qu(Ca,u,p,y,S,j),!0;case"dragenter":return Pa=Qu(Pa,u,p,y,S,j),!0;case"mouseover":return Ea=Qu(Ea,u,p,y,S,j),!0;case"pointerover":var N=j.pointerId;return Yu.set(N,Qu(Yu.get(N)||null,u,p,y,S,j)),!0;case"gotpointercapture":return N=j.pointerId,Xu.set(N,Qu(Xu.get(N)||null,u,p,y,S,j)),!0}return!1}function $T(u){var p=So(u.target);if(p!==null){var y=wo(p);if(y!==null){if(p=y.tag,p===13){if(p=AT(y),p!==null){u.blockedOn=p,LT(u.priority,function(){RT(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){u.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}u.blockedOn=null}function gp(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var y=xb(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(y===null){y=u.nativeEvent;var S=new y.constructor(y.type,y);xo=S,y.target.dispatchEvent(S),xo=null}else return p=dd(y),p!==null&&vb(p),u.blockedOn=y,!1;p.shift()}return!0}function BT(u,p,y){gp(u)&&y.delete(p)}function Eq(){yb=!1,Ca!==null&&gp(Ca)&&(Ca=null),Pa!==null&&gp(Pa)&&(Pa=null),Ea!==null&&gp(Ea)&&(Ea=null),Yu.forEach(BT),Xu.forEach(BT)}function Zu(u,p){u.blockedOn===p&&(u.blockedOn=null,yb||(yb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Eq)))}function Ju(u){function p(j){return Zu(j,u)}if(0<mp.length){Zu(mp[0],u);for(var y=1;y<mp.length;y++){var S=mp[y];S.blockedOn===u&&(S.blockedOn=null)}}for(Ca!==null&&Zu(Ca,u),Pa!==null&&Zu(Pa,u),Ea!==null&&Zu(Ea,u),Yu.forEach(p),Xu.forEach(p),y=0;y<ja.length;y++)S=ja[y],S.blockedOn===u&&(S.blockedOn=null);for(;0<ja.length&&(y=ja[0],y.blockedOn===null);)$T(y),y.blockedOn===null&&ja.shift()}var Tl=T.ReactCurrentBatchConfig,vp=!0;function jq(u,p,y,S){var j=Ct,N=Tl.transition;Tl.transition=null;try{Ct=1,bb(u,p,y,S)}finally{Ct=j,Tl.transition=N}}function Tq(u,p,y,S){var j=Ct,N=Tl.transition;Tl.transition=null;try{Ct=4,bb(u,p,y,S)}finally{Ct=j,Tl.transition=N}}function bb(u,p,y,S){if(vp){var j=xb(u,p,y,S);if(j===null)Lb(u,p,S,yp,y),FT(u,S);else if(Pq(j,u,p,y,S))S.stopPropagation();else if(FT(u,S),p&4&&-1<Cq.indexOf(u)){for(;j!==null;){var N=dd(j);if(N!==null&&DT(N),N=xb(u,p,y,S),N===null&&Lb(u,p,S,yp,y),N===j)break;j=N}j!==null&&S.stopPropagation()}else Lb(u,p,S,null,y)}}var yp=null;function xb(u,p,y,S){if(yp=null,u=li(S),u=So(u),u!==null)if(p=wo(u),p===null)u=null;else if(y=p.tag,y===13){if(u=AT(p),u!==null)return u;u=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return yp=u,null}function UT(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gq()){case fb:return 1;case kT:return 4;case up:case vq:return 16;case NT:return 536870912;default:return 16}default:return 16}}var Ta=null,wb=null,bp=null;function zT(){if(bp)return bp;var u,p=wb,y=p.length,S,j="value"in Ta?Ta.value:Ta.textContent,N=j.length;for(u=0;u<y&&p[u]===j[u];u++);var I=y-u;for(S=1;S<=I&&p[y-S]===j[N-S];S++);return bp=j.slice(u,1<S?1-S:void 0)}function xp(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function wp(){return!0}function VT(){return!1}function Vr(u){function p(y,S,j,N,I){this._reactName=y,this._targetInst=j,this.type=S,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var q in u)u.hasOwnProperty(q)&&(y=u[q],this[q]=y?y(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?wp:VT,this.isPropagationStopped=VT,this}return X(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=wp)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=wp)},persist:function(){},isPersistent:wp}),p}var kl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sb=Vr(kl),ed=X({},kl,{view:0,detail:0}),kq=Vr(ed),_b,Ab,td,Sp=X({},ed,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pb,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==td&&(td&&u.type==="mousemove"?(_b=u.screenX-td.screenX,Ab=u.screenY-td.screenY):Ab=_b=0,td=u),_b)},movementY:function(u){return"movementY"in u?u.movementY:Ab}}),WT=Vr(Sp),Nq=X({},Sp,{dataTransfer:0}),Oq=Vr(Nq),Mq=X({},ed,{relatedTarget:0}),Cb=Vr(Mq),Dq=X({},kl,{animationName:0,elapsedTime:0,pseudoElement:0}),Rq=Vr(Dq),Iq=X({},kl,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Lq=Vr(Iq),Fq=X({},kl,{data:0}),HT=Vr(Fq),$q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zq(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=Uq[u])?!!p[u]:!1}function Pb(){return zq}var Vq=X({},ed,{key:function(u){if(u.key){var p=$q[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=xp(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Bq[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pb,charCode:function(u){return u.type==="keypress"?xp(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?xp(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Wq=Vr(Vq),Hq=X({},Sp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qT=Vr(Hq),qq=X({},ed,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pb}),Gq=Vr(qq),Kq=X({},kl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yq=Vr(Kq),Xq=X({},Sp,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Qq=Vr(Xq),Zq=[9,13,27,32],Eb=o&&"CompositionEvent"in window,nd=null;o&&"documentMode"in document&&(nd=document.documentMode);var Jq=o&&"TextEvent"in window&&!nd,GT=o&&(!Eb||nd&&8<nd&&11>=nd),KT=" ",YT=!1;function XT(u,p){switch(u){case"keyup":return Zq.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QT(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Nl=!1;function eG(u,p){switch(u){case"compositionend":return QT(p);case"keypress":return p.which!==32?null:(YT=!0,KT);case"textInput":return u=p.data,u===KT&&YT?null:u;default:return null}}function tG(u,p){if(Nl)return u==="compositionend"||!Eb&&XT(u,p)?(u=zT(),bp=wb=Ta=null,Nl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return GT&&p.locale!=="ko"?null:p.data;default:return null}}var nG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ZT(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!nG[u.type]:p==="textarea"}function JT(u,p,y,S){Ye(S),p=Ep(p,"onChange"),0<p.length&&(y=new Sb("onChange","change",null,y,S),u.push({event:y,listeners:p}))}var rd=null,id=null;function rG(u){vk(u,0)}function _p(u){var p=Il(u);if(re(p))return u}function iG(u,p){if(u==="change")return p}var ek=!1;if(o){var jb;if(o){var Tb="oninput"in document;if(!Tb){var tk=document.createElement("div");tk.setAttribute("oninput","return;"),Tb=typeof tk.oninput=="function"}jb=Tb}else jb=!1;ek=jb&&(!document.documentMode||9<document.documentMode)}function nk(){rd&&(rd.detachEvent("onpropertychange",rk),id=rd=null)}function rk(u){if(u.propertyName==="value"&&_p(id)){var p=[];JT(p,id,u,li(u)),mn(rG,p)}}function sG(u,p,y){u==="focusin"?(nk(),rd=p,id=y,rd.attachEvent("onpropertychange",rk)):u==="focusout"&&nk()}function aG(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return _p(id)}function oG(u,p){if(u==="click")return _p(p)}function lG(u,p){if(u==="input"||u==="change")return _p(p)}function cG(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var $i=typeof Object.is=="function"?Object.is:cG;function sd(u,p){if($i(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var y=Object.keys(u),S=Object.keys(p);if(y.length!==S.length)return!1;for(S=0;S<y.length;S++){var j=y[S];if(!l.call(p,j)||!$i(u[j],p[j]))return!1}return!0}function ik(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sk(u,p){var y=ik(u);u=0;for(var S;y;){if(y.nodeType===3){if(S=u+y.textContent.length,u<=p&&S>=p)return{node:y,offset:p-u};u=S}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=ik(y)}}function ak(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?ak(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function ok(){for(var u=window,p=qe();p instanceof u.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)u=p.contentWindow;else break;p=qe(u.document)}return p}function kb(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function uG(u){var p=ok(),y=u.focusedElem,S=u.selectionRange;if(p!==y&&y&&y.ownerDocument&&ak(y.ownerDocument.documentElement,y)){if(S!==null&&kb(y)){if(p=S.start,u=S.end,u===void 0&&(u=p),"selectionStart"in y)y.selectionStart=p,y.selectionEnd=Math.min(u,y.value.length);else if(u=(p=y.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var j=y.textContent.length,N=Math.min(S.start,j);S=S.end===void 0?N:Math.min(S.end,j),!u.extend&&N>S&&(j=S,S=N,N=j),j=sk(y,N);var I=sk(y,S);j&&I&&(u.rangeCount!==1||u.anchorNode!==j.node||u.anchorOffset!==j.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(p=p.createRange(),p.setStart(j.node,j.offset),u.removeAllRanges(),N>S?(u.addRange(p),u.extend(I.node,I.offset)):(p.setEnd(I.node,I.offset),u.addRange(p)))}}for(p=[],u=y;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<p.length;y++)u=p[y],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var dG=o&&"documentMode"in document&&11>=document.documentMode,Ol=null,Nb=null,ad=null,Ob=!1;function lk(u,p,y){var S=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Ob||Ol==null||Ol!==qe(S)||(S=Ol,"selectionStart"in S&&kb(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),ad&&sd(ad,S)||(ad=S,S=Ep(Nb,"onSelect"),0<S.length&&(p=new Sb("onSelect","select",null,p,y),u.push({event:p,listeners:S}),p.target=Ol)))}function Ap(u,p){var y={};return y[u.toLowerCase()]=p.toLowerCase(),y["Webkit"+u]="webkit"+p,y["Moz"+u]="moz"+p,y}var Ml={animationend:Ap("Animation","AnimationEnd"),animationiteration:Ap("Animation","AnimationIteration"),animationstart:Ap("Animation","AnimationStart"),transitionend:Ap("Transition","TransitionEnd")},Mb={},ck={};o&&(ck=document.createElement("div").style,"AnimationEvent"in window||(delete Ml.animationend.animation,delete Ml.animationiteration.animation,delete Ml.animationstart.animation),"TransitionEvent"in window||delete Ml.transitionend.transition);function Cp(u){if(Mb[u])return Mb[u];if(!Ml[u])return u;var p=Ml[u],y;for(y in p)if(p.hasOwnProperty(y)&&y in ck)return Mb[u]=p[y];return u}var uk=Cp("animationend"),dk=Cp("animationiteration"),hk=Cp("animationstart"),fk=Cp("transitionend"),pk=new Map,mk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ka(u,p){pk.set(u,p),s(p,[u])}for(var Db=0;Db<mk.length;Db++){var Rb=mk[Db],hG=Rb.toLowerCase(),fG=Rb[0].toUpperCase()+Rb.slice(1);ka(hG,"on"+fG)}ka(uk,"onAnimationEnd"),ka(dk,"onAnimationIteration"),ka(hk,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(fk,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var od="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pG=new Set("cancel close invalid load scroll toggle".split(" ").concat(od));function gk(u,p,y){var S=u.type||"unknown-event";u.currentTarget=y,hq(S,p,void 0,u),u.currentTarget=null}function vk(u,p){p=(p&4)!==0;for(var y=0;y<u.length;y++){var S=u[y],j=S.event;S=S.listeners;e:{var N=void 0;if(p)for(var I=S.length-1;0<=I;I--){var q=S[I],Y=q.instance,ne=q.currentTarget;if(q=q.listener,Y!==N&&j.isPropagationStopped())break e;gk(j,q,ne),N=Y}else for(I=0;I<S.length;I++){if(q=S[I],Y=q.instance,ne=q.currentTarget,q=q.listener,Y!==N&&j.isPropagationStopped())break e;gk(j,q,ne),N=Y}}}if(qu)throw u=hb,qu=!1,hb=null,u}function Bt(u,p){var y=p[Vb];y===void 0&&(y=p[Vb]=new Set);var S=u+"__bubble";y.has(S)||(yk(p,u,2,!1),y.add(S))}function Ib(u,p,y){var S=0;p&&(S|=4),yk(y,u,S,p)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function ld(u){if(!u[Pp]){u[Pp]=!0,r.forEach(function(y){y!=="selectionchange"&&(pG.has(y)||Ib(y,!1,u),Ib(y,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[Pp]||(p[Pp]=!0,Ib("selectionchange",!1,p))}}function yk(u,p,y,S){switch(UT(p)){case 1:var j=jq;break;case 4:j=Tq;break;default:j=bb}y=j.bind(null,p,y,u),j=void 0,!_a||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(j=!0),S?j!==void 0?u.addEventListener(p,y,{capture:!0,passive:j}):u.addEventListener(p,y,!0):j!==void 0?u.addEventListener(p,y,{passive:j}):u.addEventListener(p,y,!1)}function Lb(u,p,y,S,j){var N=S;if((p&1)===0&&(p&2)===0&&S!==null)e:for(;;){if(S===null)return;var I=S.tag;if(I===3||I===4){var q=S.stateNode.containerInfo;if(q===j||q.nodeType===8&&q.parentNode===j)break;if(I===4)for(I=S.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===j||Y.nodeType===8&&Y.parentNode===j))return;I=I.return}for(;q!==null;){if(I=So(q),I===null)return;if(Y=I.tag,Y===5||Y===6){S=N=I;continue e}q=q.parentNode}}S=S.return}mn(function(){var ne=N,de=li(y),fe=[];e:{var ce=pk.get(u);if(ce!==void 0){var xe=Sb,Ee=u;switch(u){case"keypress":if(xp(y)===0)break e;case"keydown":case"keyup":xe=Wq;break;case"focusin":Ee="focus",xe=Cb;break;case"focusout":Ee="blur",xe=Cb;break;case"beforeblur":case"afterblur":xe=Cb;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=WT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Oq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Gq;break;case uk:case dk:case hk:xe=Rq;break;case fk:xe=Yq;break;case"scroll":xe=kq;break;case"wheel":xe=Qq;break;case"copy":case"cut":case"paste":xe=Lq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=qT}var Ne=(p&4)!==0,un=!Ne&&u==="scroll",J=Ne?ce!==null?ce+"Capture":null:ce;Ne=[];for(var Q=ne,ee;Q!==null;){ee=Q;var me=ee.stateNode;if(ee.tag===5&&me!==null&&(ee=me,J!==null&&(me=Mn(Q,J),me!=null&&Ne.push(cd(Q,me,ee)))),un)break;Q=Q.return}0<Ne.length&&(ce=new xe(ce,Ee,null,y,de),fe.push({event:ce,listeners:Ne}))}}if((p&7)===0){e:{if(ce=u==="mouseover"||u==="pointerover",xe=u==="mouseout"||u==="pointerout",ce&&y!==xo&&(Ee=y.relatedTarget||y.fromElement)&&(So(Ee)||Ee[$s]))break e;if((xe||ce)&&(ce=de.window===de?de:(ce=de.ownerDocument)?ce.defaultView||ce.parentWindow:window,xe?(Ee=y.relatedTarget||y.toElement,xe=ne,Ee=Ee?So(Ee):null,Ee!==null&&(un=wo(Ee),Ee!==un||Ee.tag!==5&&Ee.tag!==6)&&(Ee=null)):(xe=null,Ee=ne),xe!==Ee)){if(Ne=WT,me="onMouseLeave",J="onMouseEnter",Q="mouse",(u==="pointerout"||u==="pointerover")&&(Ne=qT,me="onPointerLeave",J="onPointerEnter",Q="pointer"),un=xe==null?ce:Il(xe),ee=Ee==null?ce:Il(Ee),ce=new Ne(me,Q+"leave",xe,y,de),ce.target=un,ce.relatedTarget=ee,me=null,So(de)===ne&&(Ne=new Ne(J,Q+"enter",Ee,y,de),Ne.target=ee,Ne.relatedTarget=un,me=Ne),un=me,xe&&Ee)t:{for(Ne=xe,J=Ee,Q=0,ee=Ne;ee;ee=Dl(ee))Q++;for(ee=0,me=J;me;me=Dl(me))ee++;for(;0<Q-ee;)Ne=Dl(Ne),Q--;for(;0<ee-Q;)J=Dl(J),ee--;for(;Q--;){if(Ne===J||J!==null&&Ne===J.alternate)break t;Ne=Dl(Ne),J=Dl(J)}Ne=null}else Ne=null;xe!==null&&bk(fe,ce,xe,Ne,!1),Ee!==null&&un!==null&&bk(fe,un,Ee,Ne,!0)}}e:{if(ce=ne?Il(ne):window,xe=ce.nodeName&&ce.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ce.type==="file")var Oe=iG;else if(ZT(ce))if(ek)Oe=lG;else{Oe=aG;var Fe=sG}else(xe=ce.nodeName)&&xe.toLowerCase()==="input"&&(ce.type==="checkbox"||ce.type==="radio")&&(Oe=oG);if(Oe&&(Oe=Oe(u,ne))){JT(fe,Oe,y,de);break e}Fe&&Fe(u,ce,ne),u==="focusout"&&(Fe=ce._wrapperState)&&Fe.controlled&&ce.type==="number"&&Re(ce,"number",ce.value)}switch(Fe=ne?Il(ne):window,u){case"focusin":(ZT(Fe)||Fe.contentEditable==="true")&&(Ol=Fe,Nb=ne,ad=null);break;case"focusout":ad=Nb=Ol=null;break;case"mousedown":Ob=!0;break;case"contextmenu":case"mouseup":case"dragend":Ob=!1,lk(fe,y,de);break;case"selectionchange":if(dG)break;case"keydown":case"keyup":lk(fe,y,de)}var $e;if(Eb)e:{switch(u){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else Nl?XT(u,y)&&(Ge="onCompositionEnd"):u==="keydown"&&y.keyCode===229&&(Ge="onCompositionStart");Ge&&(GT&&y.locale!=="ko"&&(Nl||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&Nl&&($e=zT()):(Ta=de,wb="value"in Ta?Ta.value:Ta.textContent,Nl=!0)),Fe=Ep(ne,Ge),0<Fe.length&&(Ge=new HT(Ge,u,null,y,de),fe.push({event:Ge,listeners:Fe}),$e?Ge.data=$e:($e=QT(y),$e!==null&&(Ge.data=$e)))),($e=Jq?eG(u,y):tG(u,y))&&(ne=Ep(ne,"onBeforeInput"),0<ne.length&&(de=new HT("onBeforeInput","beforeinput",null,y,de),fe.push({event:de,listeners:ne}),de.data=$e))}vk(fe,p)})}function cd(u,p,y){return{instance:u,listener:p,currentTarget:y}}function Ep(u,p){for(var y=p+"Capture",S=[];u!==null;){var j=u,N=j.stateNode;j.tag===5&&N!==null&&(j=N,N=Mn(u,y),N!=null&&S.unshift(cd(u,N,j)),N=Mn(u,p),N!=null&&S.push(cd(u,N,j))),u=u.return}return S}function Dl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function bk(u,p,y,S,j){for(var N=p._reactName,I=[];y!==null&&y!==S;){var q=y,Y=q.alternate,ne=q.stateNode;if(Y!==null&&Y===S)break;q.tag===5&&ne!==null&&(q=ne,j?(Y=Mn(y,N),Y!=null&&I.unshift(cd(y,Y,q))):j||(Y=Mn(y,N),Y!=null&&I.push(cd(y,Y,q)))),y=y.return}I.length!==0&&u.push({event:p,listeners:I})}var mG=/\r\n?/g,gG=/\u0000|\uFFFD/g;function xk(u){return(typeof u=="string"?u:""+u).replace(mG,`
`).replace(gG,"")}function jp(u,p,y){if(p=xk(p),xk(u)!==p&&y)throw Error(n(425))}function Tp(){}var Fb=null,$b=null;function Bb(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ub=typeof setTimeout=="function"?setTimeout:void 0,vG=typeof clearTimeout=="function"?clearTimeout:void 0,wk=typeof Promise=="function"?Promise:void 0,yG=typeof queueMicrotask=="function"?queueMicrotask:typeof wk<"u"?function(u){return wk.resolve(null).then(u).catch(bG)}:Ub;function bG(u){setTimeout(function(){throw u})}function zb(u,p){var y=p,S=0;do{var j=y.nextSibling;if(u.removeChild(y),j&&j.nodeType===8)if(y=j.data,y==="/$"){if(S===0){u.removeChild(j),Ju(p);return}S--}else y!=="$"&&y!=="$?"&&y!=="$!"||S++;y=j}while(y);Ju(p)}function Na(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function Sk(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var y=u.data;if(y==="$"||y==="$!"||y==="$?"){if(p===0)return u;p--}else y==="/$"&&p++}u=u.previousSibling}return null}var Rl=Math.random().toString(36).slice(2),as="__reactFiber$"+Rl,ud="__reactProps$"+Rl,$s="__reactContainer$"+Rl,Vb="__reactEvents$"+Rl,xG="__reactListeners$"+Rl,wG="__reactHandles$"+Rl;function So(u){var p=u[as];if(p)return p;for(var y=u.parentNode;y;){if(p=y[$s]||y[as]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(u=Sk(u);u!==null;){if(y=u[as])return y;u=Sk(u)}return p}u=y,y=u.parentNode}return null}function dd(u){return u=u[as]||u[$s],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function Il(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function kp(u){return u[ud]||null}var Wb=[],Ll=-1;function Oa(u){return{current:u}}function Ut(u){0>Ll||(u.current=Wb[Ll],Wb[Ll]=null,Ll--)}function Rt(u,p){Ll++,Wb[Ll]=u.current,u.current=p}var Ma={},lr=Oa(Ma),jr=Oa(!1),_o=Ma;function Fl(u,p){var y=u.type.contextTypes;if(!y)return Ma;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===p)return S.__reactInternalMemoizedMaskedChildContext;var j={},N;for(N in y)j[N]=p[N];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=j),j}function Tr(u){return u=u.childContextTypes,u!=null}function Np(){Ut(jr),Ut(lr)}function _k(u,p,y){if(lr.current!==Ma)throw Error(n(168));Rt(lr,p),Rt(jr,y)}function Ak(u,p,y){var S=u.stateNode;if(p=p.childContextTypes,typeof S.getChildContext!="function")return y;S=S.getChildContext();for(var j in S)if(!(j in p))throw Error(n(108,te(u)||"Unknown",j));return X({},y,S)}function Op(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ma,_o=lr.current,Rt(lr,u),Rt(jr,jr.current),!0}function Ck(u,p,y){var S=u.stateNode;if(!S)throw Error(n(169));y?(u=Ak(u,p,_o),S.__reactInternalMemoizedMergedChildContext=u,Ut(jr),Ut(lr),Rt(lr,u)):Ut(jr),Rt(jr,y)}var Bs=null,Mp=!1,Hb=!1;function Pk(u){Bs===null?Bs=[u]:Bs.push(u)}function SG(u){Mp=!0,Pk(u)}function Da(){if(!Hb&&Bs!==null){Hb=!0;var u=0,p=Ct;try{var y=Bs;for(Ct=1;u<y.length;u++){var S=y[u];do S=S(!0);while(S!==null)}Bs=null,Mp=!1}catch(j){throw Bs!==null&&(Bs=Bs.slice(u+1)),jT(fb,Da),j}finally{Ct=p,Hb=!1}}return null}var $l=[],Bl=0,Dp=null,Rp=0,ui=[],di=0,Ao=null,Us=1,zs="";function Co(u,p){$l[Bl++]=Rp,$l[Bl++]=Dp,Dp=u,Rp=p}function Ek(u,p,y){ui[di++]=Us,ui[di++]=zs,ui[di++]=Ao,Ao=u;var S=Us;u=zs;var j=32-Fi(S)-1;S&=~(1<<j),y+=1;var N=32-Fi(p)+j;if(30<N){var I=j-j%5;N=(S&(1<<I)-1).toString(32),S>>=I,j-=I,Us=1<<32-Fi(p)+j|y<<j|S,zs=N+u}else Us=1<<N|y<<j|S,zs=u}function qb(u){u.return!==null&&(Co(u,1),Ek(u,1,0))}function Gb(u){for(;u===Dp;)Dp=$l[--Bl],$l[Bl]=null,Rp=$l[--Bl],$l[Bl]=null;for(;u===Ao;)Ao=ui[--di],ui[di]=null,zs=ui[--di],ui[di]=null,Us=ui[--di],ui[di]=null}var Wr=null,Hr=null,Vt=!1,Bi=null;function jk(u,p){var y=mi(5,null,null,0);y.elementType="DELETED",y.stateNode=p,y.return=u,p=u.deletions,p===null?(u.deletions=[y],u.flags|=16):p.push(y)}function Tk(u,p){switch(u.tag){case 5:var y=u.type;return p=p.nodeType!==1||y.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,Wr=u,Hr=Na(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,Wr=u,Hr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(y=Ao!==null?{id:Us,overflow:zs}:null,u.memoizedState={dehydrated:p,treeContext:y,retryLane:1073741824},y=mi(18,null,null,0),y.stateNode=p,y.return=u,u.child=y,Wr=u,Hr=null,!0):!1;default:return!1}}function Kb(u){return(u.mode&1)!==0&&(u.flags&128)===0}function Yb(u){if(Vt){var p=Hr;if(p){var y=p;if(!Tk(u,p)){if(Kb(u))throw Error(n(418));p=Na(y.nextSibling);var S=Wr;p&&Tk(u,p)?jk(S,y):(u.flags=u.flags&-4097|2,Vt=!1,Wr=u)}}else{if(Kb(u))throw Error(n(418));u.flags=u.flags&-4097|2,Vt=!1,Wr=u}}}function kk(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Wr=u}function Ip(u){if(u!==Wr)return!1;if(!Vt)return kk(u),Vt=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!Bb(u.type,u.memoizedProps)),p&&(p=Hr)){if(Kb(u))throw Nk(),Error(n(418));for(;p;)jk(u,p),p=Na(p.nextSibling)}if(kk(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var y=u.data;if(y==="/$"){if(p===0){Hr=Na(u.nextSibling);break e}p--}else y!=="$"&&y!=="$!"&&y!=="$?"||p++}u=u.nextSibling}Hr=null}}else Hr=Wr?Na(u.stateNode.nextSibling):null;return!0}function Nk(){for(var u=Hr;u;)u=Na(u.nextSibling)}function Ul(){Hr=Wr=null,Vt=!1}function Xb(u){Bi===null?Bi=[u]:Bi.push(u)}var _G=T.ReactCurrentBatchConfig;function hd(u,p,y){if(u=y.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(y._owner){if(y=y._owner,y){if(y.tag!==1)throw Error(n(309));var S=y.stateNode}if(!S)throw Error(n(147,u));var j=S,N=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(I){var q=j.refs;I===null?delete q[N]:q[N]=I},p._stringRef=N,p)}if(typeof u!="string")throw Error(n(284));if(!y._owner)throw Error(n(290,u))}return u}function Lp(u,p){throw u=Object.prototype.toString.call(p),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function Ok(u){var p=u._init;return p(u._payload)}function Mk(u){function p(J,Q){if(u){var ee=J.deletions;ee===null?(J.deletions=[Q],J.flags|=16):ee.push(Q)}}function y(J,Q){if(!u)return null;for(;Q!==null;)p(J,Q),Q=Q.sibling;return null}function S(J,Q){for(J=new Map;Q!==null;)Q.key!==null?J.set(Q.key,Q):J.set(Q.index,Q),Q=Q.sibling;return J}function j(J,Q){return J=za(J,Q),J.index=0,J.sibling=null,J}function N(J,Q,ee){return J.index=ee,u?(ee=J.alternate,ee!==null?(ee=ee.index,ee<Q?(J.flags|=2,Q):ee):(J.flags|=2,Q)):(J.flags|=1048576,Q)}function I(J){return u&&J.alternate===null&&(J.flags|=2),J}function q(J,Q,ee,me){return Q===null||Q.tag!==6?(Q=Ux(ee,J.mode,me),Q.return=J,Q):(Q=j(Q,ee),Q.return=J,Q)}function Y(J,Q,ee,me){var Oe=ee.type;return Oe===k?de(J,Q,ee.props.children,me,ee.key):Q!==null&&(Q.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Ok(Oe)===Q.type)?(me=j(Q,ee.props),me.ref=hd(J,Q,ee),me.return=J,me):(me=om(ee.type,ee.key,ee.props,null,J.mode,me),me.ref=hd(J,Q,ee),me.return=J,me)}function ne(J,Q,ee,me){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ee.containerInfo||Q.stateNode.implementation!==ee.implementation?(Q=zx(ee,J.mode,me),Q.return=J,Q):(Q=j(Q,ee.children||[]),Q.return=J,Q)}function de(J,Q,ee,me,Oe){return Q===null||Q.tag!==7?(Q=Mo(ee,J.mode,me,Oe),Q.return=J,Q):(Q=j(Q,ee),Q.return=J,Q)}function fe(J,Q,ee){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Ux(""+Q,J.mode,ee),Q.return=J,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return ee=om(Q.type,Q.key,Q.props,null,J.mode,ee),ee.ref=hd(J,null,Q),ee.return=J,ee;case E:return Q=zx(Q,J.mode,ee),Q.return=J,Q;case V:var me=Q._init;return fe(J,me(Q._payload),ee)}if(rt(Q)||W(Q))return Q=Mo(Q,J.mode,ee,null),Q.return=J,Q;Lp(J,Q)}return null}function ce(J,Q,ee,me){var Oe=Q!==null?Q.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number")return Oe!==null?null:q(J,Q,""+ee,me);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:return ee.key===Oe?Y(J,Q,ee,me):null;case E:return ee.key===Oe?ne(J,Q,ee,me):null;case V:return Oe=ee._init,ce(J,Q,Oe(ee._payload),me)}if(rt(ee)||W(ee))return Oe!==null?null:de(J,Q,ee,me,null);Lp(J,ee)}return null}function xe(J,Q,ee,me,Oe){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(ee)||null,q(Q,J,""+me,Oe);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return J=J.get(me.key===null?ee:me.key)||null,Y(Q,J,me,Oe);case E:return J=J.get(me.key===null?ee:me.key)||null,ne(Q,J,me,Oe);case V:var Fe=me._init;return xe(J,Q,ee,Fe(me._payload),Oe)}if(rt(me)||W(me))return J=J.get(ee)||null,de(Q,J,me,Oe,null);Lp(Q,me)}return null}function Ee(J,Q,ee,me){for(var Oe=null,Fe=null,$e=Q,Ge=Q=0,In=null;$e!==null&&Ge<ee.length;Ge++){$e.index>Ge?(In=$e,$e=null):In=$e.sibling;var pt=ce(J,$e,ee[Ge],me);if(pt===null){$e===null&&($e=In);break}u&&$e&&pt.alternate===null&&p(J,$e),Q=N(pt,Q,Ge),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt,$e=In}if(Ge===ee.length)return y(J,$e),Vt&&Co(J,Ge),Oe;if($e===null){for(;Ge<ee.length;Ge++)$e=fe(J,ee[Ge],me),$e!==null&&(Q=N($e,Q,Ge),Fe===null?Oe=$e:Fe.sibling=$e,Fe=$e);return Vt&&Co(J,Ge),Oe}for($e=S(J,$e);Ge<ee.length;Ge++)In=xe($e,J,Ge,ee[Ge],me),In!==null&&(u&&In.alternate!==null&&$e.delete(In.key===null?Ge:In.key),Q=N(In,Q,Ge),Fe===null?Oe=In:Fe.sibling=In,Fe=In);return u&&$e.forEach(function(Va){return p(J,Va)}),Vt&&Co(J,Ge),Oe}function Ne(J,Q,ee,me){var Oe=W(ee);if(typeof Oe!="function")throw Error(n(150));if(ee=Oe.call(ee),ee==null)throw Error(n(151));for(var Fe=Oe=null,$e=Q,Ge=Q=0,In=null,pt=ee.next();$e!==null&&!pt.done;Ge++,pt=ee.next()){$e.index>Ge?(In=$e,$e=null):In=$e.sibling;var Va=ce(J,$e,pt.value,me);if(Va===null){$e===null&&($e=In);break}u&&$e&&Va.alternate===null&&p(J,$e),Q=N(Va,Q,Ge),Fe===null?Oe=Va:Fe.sibling=Va,Fe=Va,$e=In}if(pt.done)return y(J,$e),Vt&&Co(J,Ge),Oe;if($e===null){for(;!pt.done;Ge++,pt=ee.next())pt=fe(J,pt.value,me),pt!==null&&(Q=N(pt,Q,Ge),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt);return Vt&&Co(J,Ge),Oe}for($e=S(J,$e);!pt.done;Ge++,pt=ee.next())pt=xe($e,J,Ge,pt.value,me),pt!==null&&(u&&pt.alternate!==null&&$e.delete(pt.key===null?Ge:pt.key),Q=N(pt,Q,Ge),Fe===null?Oe=pt:Fe.sibling=pt,Fe=pt);return u&&$e.forEach(function(n9){return p(J,n9)}),Vt&&Co(J,Ge),Oe}function un(J,Q,ee,me){if(typeof ee=="object"&&ee!==null&&ee.type===k&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case P:e:{for(var Oe=ee.key,Fe=Q;Fe!==null;){if(Fe.key===Oe){if(Oe=ee.type,Oe===k){if(Fe.tag===7){y(J,Fe.sibling),Q=j(Fe,ee.props.children),Q.return=J,J=Q;break e}}else if(Fe.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===V&&Ok(Oe)===Fe.type){y(J,Fe.sibling),Q=j(Fe,ee.props),Q.ref=hd(J,Fe,ee),Q.return=J,J=Q;break e}y(J,Fe);break}else p(J,Fe);Fe=Fe.sibling}ee.type===k?(Q=Mo(ee.props.children,J.mode,me,ee.key),Q.return=J,J=Q):(me=om(ee.type,ee.key,ee.props,null,J.mode,me),me.ref=hd(J,Q,ee),me.return=J,J=me)}return I(J);case E:e:{for(Fe=ee.key;Q!==null;){if(Q.key===Fe)if(Q.tag===4&&Q.stateNode.containerInfo===ee.containerInfo&&Q.stateNode.implementation===ee.implementation){y(J,Q.sibling),Q=j(Q,ee.children||[]),Q.return=J,J=Q;break e}else{y(J,Q);break}else p(J,Q);Q=Q.sibling}Q=zx(ee,J.mode,me),Q.return=J,J=Q}return I(J);case V:return Fe=ee._init,un(J,Q,Fe(ee._payload),me)}if(rt(ee))return Ee(J,Q,ee,me);if(W(ee))return Ne(J,Q,ee,me);Lp(J,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"?(ee=""+ee,Q!==null&&Q.tag===6?(y(J,Q.sibling),Q=j(Q,ee),Q.return=J,J=Q):(y(J,Q),Q=Ux(ee,J.mode,me),Q.return=J,J=Q),I(J)):y(J,Q)}return un}var zl=Mk(!0),Dk=Mk(!1),Fp=Oa(null),$p=null,Vl=null,Qb=null;function Zb(){Qb=Vl=$p=null}function Jb(u){var p=Fp.current;Ut(Fp),u._currentValue=p}function ex(u,p,y){for(;u!==null;){var S=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),u===y)break;u=u.return}}function Wl(u,p){$p=u,Qb=Vl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(kr=!0),u.firstContext=null)}function hi(u){var p=u._currentValue;if(Qb!==u)if(u={context:u,memoizedValue:p,next:null},Vl===null){if($p===null)throw Error(n(308));Vl=u,$p.dependencies={lanes:0,firstContext:u}}else Vl=Vl.next=u;return p}var Po=null;function tx(u){Po===null?Po=[u]:Po.push(u)}function Rk(u,p,y,S){var j=p.interleaved;return j===null?(y.next=y,tx(p)):(y.next=j.next,j.next=y),p.interleaved=y,Vs(u,S)}function Vs(u,p){u.lanes|=p;var y=u.alternate;for(y!==null&&(y.lanes|=p),y=u,u=u.return;u!==null;)u.childLanes|=p,y=u.alternate,y!==null&&(y.childLanes|=p),y=u,u=u.return;return y.tag===3?y.stateNode:null}var Ra=!1;function nx(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ik(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ws(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function Ia(u,p,y){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(ht&2)!==0){var j=S.pending;return j===null?p.next=p:(p.next=j.next,j.next=p),S.pending=p,Vs(u,y)}return j=S.interleaved,j===null?(p.next=p,tx(S)):(p.next=j.next,j.next=p),S.interleaved=p,Vs(u,y)}function Bp(u,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194240)!==0)){var S=p.lanes;S&=u.pendingLanes,y|=S,p.lanes=y,gb(u,y)}}function Lk(u,p){var y=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,y===S)){var j=null,N=null;if(y=y.firstBaseUpdate,y!==null){do{var I={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};N===null?j=N=I:N=N.next=I,y=y.next}while(y!==null);N===null?j=N=p:N=N.next=p}else j=N=p;y={baseState:S.baseState,firstBaseUpdate:j,lastBaseUpdate:N,shared:S.shared,effects:S.effects},u.updateQueue=y;return}u=y.lastBaseUpdate,u===null?y.firstBaseUpdate=p:u.next=p,y.lastBaseUpdate=p}function Up(u,p,y,S){var j=u.updateQueue;Ra=!1;var N=j.firstBaseUpdate,I=j.lastBaseUpdate,q=j.shared.pending;if(q!==null){j.shared.pending=null;var Y=q,ne=Y.next;Y.next=null,I===null?N=ne:I.next=ne,I=Y;var de=u.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==I&&(q===null?de.firstBaseUpdate=ne:q.next=ne,de.lastBaseUpdate=Y))}if(N!==null){var fe=j.baseState;I=0,de=ne=Y=null,q=N;do{var ce=q.lane,xe=q.eventTime;if((S&ce)===ce){de!==null&&(de=de.next={eventTime:xe,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ee=u,Ne=q;switch(ce=p,xe=y,Ne.tag){case 1:if(Ee=Ne.payload,typeof Ee=="function"){fe=Ee.call(xe,fe,ce);break e}fe=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=Ne.payload,ce=typeof Ee=="function"?Ee.call(xe,fe,ce):Ee,ce==null)break e;fe=X({},fe,ce);break e;case 2:Ra=!0}}q.callback!==null&&q.lane!==0&&(u.flags|=64,ce=j.effects,ce===null?j.effects=[q]:ce.push(q))}else xe={eventTime:xe,lane:ce,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(ne=de=xe,Y=fe):de=de.next=xe,I|=ce;if(q=q.next,q===null){if(q=j.shared.pending,q===null)break;ce=q,q=ce.next,ce.next=null,j.lastBaseUpdate=ce,j.shared.pending=null}}while(!0);if(de===null&&(Y=fe),j.baseState=Y,j.firstBaseUpdate=ne,j.lastBaseUpdate=de,p=j.shared.interleaved,p!==null){j=p;do I|=j.lane,j=j.next;while(j!==p)}else N===null&&(j.shared.lanes=0);To|=I,u.lanes=I,u.memoizedState=fe}}function Fk(u,p,y){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var S=u[p],j=S.callback;if(j!==null){if(S.callback=null,S=y,typeof j!="function")throw Error(n(191,j));j.call(S)}}}var fd={},os=Oa(fd),pd=Oa(fd),md=Oa(fd);function Eo(u){if(u===fd)throw Error(n(174));return u}function rx(u,p){switch(Rt(md,p),Rt(pd,u),Rt(os,fd),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:zu(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=zu(p,u)}Ut(os),Rt(os,p)}function Hl(){Ut(os),Ut(pd),Ut(md)}function $k(u){Eo(md.current);var p=Eo(os.current),y=zu(p,u.type);p!==y&&(Rt(pd,u),Rt(os,y))}function ix(u){pd.current===u&&(Ut(os),Ut(pd))}var Kt=Oa(0);function zp(u){for(var p=u;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||y.data==="$?"||y.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var sx=[];function ax(){for(var u=0;u<sx.length;u++)sx[u]._workInProgressVersionPrimary=null;sx.length=0}var Vp=T.ReactCurrentDispatcher,ox=T.ReactCurrentBatchConfig,jo=0,Yt=null,An=null,Dn=null,Wp=!1,gd=!1,vd=0,AG=0;function cr(){throw Error(n(321))}function lx(u,p){if(p===null)return!1;for(var y=0;y<p.length&&y<u.length;y++)if(!$i(u[y],p[y]))return!1;return!0}function cx(u,p,y,S,j,N){if(jo=N,Yt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Vp.current=u===null||u.memoizedState===null?jG:TG,u=y(S,j),gd){N=0;do{if(gd=!1,vd=0,25<=N)throw Error(n(301));N+=1,Dn=An=null,p.updateQueue=null,Vp.current=kG,u=y(S,j)}while(gd)}if(Vp.current=Gp,p=An!==null&&An.next!==null,jo=0,Dn=An=Yt=null,Wp=!1,p)throw Error(n(300));return u}function ux(){var u=vd!==0;return vd=0,u}function ls(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Yt.memoizedState=Dn=u:Dn=Dn.next=u,Dn}function fi(){if(An===null){var u=Yt.alternate;u=u!==null?u.memoizedState:null}else u=An.next;var p=Dn===null?Yt.memoizedState:Dn.next;if(p!==null)Dn=p,An=u;else{if(u===null)throw Error(n(310));An=u,u={memoizedState:An.memoizedState,baseState:An.baseState,baseQueue:An.baseQueue,queue:An.queue,next:null},Dn===null?Yt.memoizedState=Dn=u:Dn=Dn.next=u}return Dn}function yd(u,p){return typeof p=="function"?p(u):p}function dx(u){var p=fi(),y=p.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var S=An,j=S.baseQueue,N=y.pending;if(N!==null){if(j!==null){var I=j.next;j.next=N.next,N.next=I}S.baseQueue=j=N,y.pending=null}if(j!==null){N=j.next,S=S.baseState;var q=I=null,Y=null,ne=N;do{var de=ne.lane;if((jo&de)===de)Y!==null&&(Y=Y.next={lane:0,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),S=ne.hasEagerState?ne.eagerState:u(S,ne.action);else{var fe={lane:de,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null};Y===null?(q=Y=fe,I=S):Y=Y.next=fe,Yt.lanes|=de,To|=de}ne=ne.next}while(ne!==null&&ne!==N);Y===null?I=S:Y.next=q,$i(S,p.memoizedState)||(kr=!0),p.memoizedState=S,p.baseState=I,p.baseQueue=Y,y.lastRenderedState=S}if(u=y.interleaved,u!==null){j=u;do N=j.lane,Yt.lanes|=N,To|=N,j=j.next;while(j!==u)}else j===null&&(y.lanes=0);return[p.memoizedState,y.dispatch]}function hx(u){var p=fi(),y=p.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=u;var S=y.dispatch,j=y.pending,N=p.memoizedState;if(j!==null){y.pending=null;var I=j=j.next;do N=u(N,I.action),I=I.next;while(I!==j);$i(N,p.memoizedState)||(kr=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),y.lastRenderedState=N}return[N,S]}function Bk(){}function Uk(u,p){var y=Yt,S=fi(),j=p(),N=!$i(S.memoizedState,j);if(N&&(S.memoizedState=j,kr=!0),S=S.queue,fx(Wk.bind(null,y,S,u),[u]),S.getSnapshot!==p||N||Dn!==null&&Dn.memoizedState.tag&1){if(y.flags|=2048,bd(9,Vk.bind(null,y,S,j,p),void 0,null),Rn===null)throw Error(n(349));(jo&30)!==0||zk(y,p,j)}return j}function zk(u,p,y){u.flags|=16384,u={getSnapshot:p,value:y},p=Yt.updateQueue,p===null?(p={lastEffect:null,stores:null},Yt.updateQueue=p,p.stores=[u]):(y=p.stores,y===null?p.stores=[u]:y.push(u))}function Vk(u,p,y,S){p.value=y,p.getSnapshot=S,Hk(p)&&qk(u)}function Wk(u,p,y){return y(function(){Hk(p)&&qk(u)})}function Hk(u){var p=u.getSnapshot;u=u.value;try{var y=p();return!$i(u,y)}catch{return!0}}function qk(u){var p=Vs(u,1);p!==null&&Wi(p,u,1,-1)}function Gk(u){var p=ls();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:u},p.queue=u,u=u.dispatch=EG.bind(null,Yt,u),[p.memoizedState,u]}function bd(u,p,y,S){return u={tag:u,create:p,destroy:y,deps:S,next:null},p=Yt.updateQueue,p===null?(p={lastEffect:null,stores:null},Yt.updateQueue=p,p.lastEffect=u.next=u):(y=p.lastEffect,y===null?p.lastEffect=u.next=u:(S=y.next,y.next=u,u.next=S,p.lastEffect=u)),u}function Kk(){return fi().memoizedState}function Hp(u,p,y,S){var j=ls();Yt.flags|=u,j.memoizedState=bd(1|p,y,void 0,S===void 0?null:S)}function qp(u,p,y,S){var j=fi();S=S===void 0?null:S;var N=void 0;if(An!==null){var I=An.memoizedState;if(N=I.destroy,S!==null&&lx(S,I.deps)){j.memoizedState=bd(p,y,N,S);return}}Yt.flags|=u,j.memoizedState=bd(1|p,y,N,S)}function Yk(u,p){return Hp(8390656,8,u,p)}function fx(u,p){return qp(2048,8,u,p)}function Xk(u,p){return qp(4,2,u,p)}function Qk(u,p){return qp(4,4,u,p)}function Zk(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function Jk(u,p,y){return y=y!=null?y.concat([u]):null,qp(4,4,Zk.bind(null,p,u),y)}function px(){}function eN(u,p){var y=fi();p=p===void 0?null:p;var S=y.memoizedState;return S!==null&&p!==null&&lx(p,S[1])?S[0]:(y.memoizedState=[u,p],u)}function tN(u,p){var y=fi();p=p===void 0?null:p;var S=y.memoizedState;return S!==null&&p!==null&&lx(p,S[1])?S[0]:(u=u(),y.memoizedState=[u,p],u)}function nN(u,p,y){return(jo&21)===0?(u.baseState&&(u.baseState=!1,kr=!0),u.memoizedState=y):($i(y,p)||(y=OT(),Yt.lanes|=y,To|=y,u.baseState=!0),p)}function CG(u,p){var y=Ct;Ct=y!==0&&4>y?y:4,u(!0);var S=ox.transition;ox.transition={};try{u(!1),p()}finally{Ct=y,ox.transition=S}}function rN(){return fi().memoizedState}function PG(u,p,y){var S=Ba(u);if(y={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null},iN(u))sN(p,y);else if(y=Rk(u,p,y,S),y!==null){var j=vr();Wi(y,u,S,j),aN(y,p,S)}}function EG(u,p,y){var S=Ba(u),j={lane:S,action:y,hasEagerState:!1,eagerState:null,next:null};if(iN(u))sN(p,j);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var I=p.lastRenderedState,q=N(I,y);if(j.hasEagerState=!0,j.eagerState=q,$i(q,I)){var Y=p.interleaved;Y===null?(j.next=j,tx(p)):(j.next=Y.next,Y.next=j),p.interleaved=j;return}}catch{}finally{}y=Rk(u,p,j,S),y!==null&&(j=vr(),Wi(y,u,S,j),aN(y,p,S))}}function iN(u){var p=u.alternate;return u===Yt||p!==null&&p===Yt}function sN(u,p){gd=Wp=!0;var y=u.pending;y===null?p.next=p:(p.next=y.next,y.next=p),u.pending=p}function aN(u,p,y){if((y&4194240)!==0){var S=p.lanes;S&=u.pendingLanes,y|=S,p.lanes=y,gb(u,y)}}var Gp={readContext:hi,useCallback:cr,useContext:cr,useEffect:cr,useImperativeHandle:cr,useInsertionEffect:cr,useLayoutEffect:cr,useMemo:cr,useReducer:cr,useRef:cr,useState:cr,useDebugValue:cr,useDeferredValue:cr,useTransition:cr,useMutableSource:cr,useSyncExternalStore:cr,useId:cr,unstable_isNewReconciler:!1},jG={readContext:hi,useCallback:function(u,p){return ls().memoizedState=[u,p===void 0?null:p],u},useContext:hi,useEffect:Yk,useImperativeHandle:function(u,p,y){return y=y!=null?y.concat([u]):null,Hp(4194308,4,Zk.bind(null,p,u),y)},useLayoutEffect:function(u,p){return Hp(4194308,4,u,p)},useInsertionEffect:function(u,p){return Hp(4,2,u,p)},useMemo:function(u,p){var y=ls();return p=p===void 0?null:p,u=u(),y.memoizedState=[u,p],u},useReducer:function(u,p,y){var S=ls();return p=y!==void 0?y(p):p,S.memoizedState=S.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},S.queue=u,u=u.dispatch=PG.bind(null,Yt,u),[S.memoizedState,u]},useRef:function(u){var p=ls();return u={current:u},p.memoizedState=u},useState:Gk,useDebugValue:px,useDeferredValue:function(u){return ls().memoizedState=u},useTransition:function(){var u=Gk(!1),p=u[0];return u=CG.bind(null,u[1]),ls().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,y){var S=Yt,j=ls();if(Vt){if(y===void 0)throw Error(n(407));y=y()}else{if(y=p(),Rn===null)throw Error(n(349));(jo&30)!==0||zk(S,p,y)}j.memoizedState=y;var N={value:y,getSnapshot:p};return j.queue=N,Yk(Wk.bind(null,S,N,u),[u]),S.flags|=2048,bd(9,Vk.bind(null,S,N,y,p),void 0,null),y},useId:function(){var u=ls(),p=Rn.identifierPrefix;if(Vt){var y=zs,S=Us;y=(S&~(1<<32-Fi(S)-1)).toString(32)+y,p=":"+p+"R"+y,y=vd++,0<y&&(p+="H"+y.toString(32)),p+=":"}else y=AG++,p=":"+p+"r"+y.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},TG={readContext:hi,useCallback:eN,useContext:hi,useEffect:fx,useImperativeHandle:Jk,useInsertionEffect:Xk,useLayoutEffect:Qk,useMemo:tN,useReducer:dx,useRef:Kk,useState:function(){return dx(yd)},useDebugValue:px,useDeferredValue:function(u){var p=fi();return nN(p,An.memoizedState,u)},useTransition:function(){var u=dx(yd)[0],p=fi().memoizedState;return[u,p]},useMutableSource:Bk,useSyncExternalStore:Uk,useId:rN,unstable_isNewReconciler:!1},kG={readContext:hi,useCallback:eN,useContext:hi,useEffect:fx,useImperativeHandle:Jk,useInsertionEffect:Xk,useLayoutEffect:Qk,useMemo:tN,useReducer:hx,useRef:Kk,useState:function(){return hx(yd)},useDebugValue:px,useDeferredValue:function(u){var p=fi();return An===null?p.memoizedState=u:nN(p,An.memoizedState,u)},useTransition:function(){var u=hx(yd)[0],p=fi().memoizedState;return[u,p]},useMutableSource:Bk,useSyncExternalStore:Uk,useId:rN,unstable_isNewReconciler:!1};function Ui(u,p){if(u&&u.defaultProps){p=X({},p),u=u.defaultProps;for(var y in u)p[y]===void 0&&(p[y]=u[y]);return p}return p}function mx(u,p,y,S){p=u.memoizedState,y=y(S,p),y=y==null?p:X({},p,y),u.memoizedState=y,u.lanes===0&&(u.updateQueue.baseState=y)}var Kp={isMounted:function(u){return(u=u._reactInternals)?wo(u)===u:!1},enqueueSetState:function(u,p,y){u=u._reactInternals;var S=vr(),j=Ba(u),N=Ws(S,j);N.payload=p,y!=null&&(N.callback=y),p=Ia(u,N,j),p!==null&&(Wi(p,u,j,S),Bp(p,u,j))},enqueueReplaceState:function(u,p,y){u=u._reactInternals;var S=vr(),j=Ba(u),N=Ws(S,j);N.tag=1,N.payload=p,y!=null&&(N.callback=y),p=Ia(u,N,j),p!==null&&(Wi(p,u,j,S),Bp(p,u,j))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var y=vr(),S=Ba(u),j=Ws(y,S);j.tag=2,p!=null&&(j.callback=p),p=Ia(u,j,S),p!==null&&(Wi(p,u,S,y),Bp(p,u,S))}};function oN(u,p,y,S,j,N,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,N,I):p.prototype&&p.prototype.isPureReactComponent?!sd(y,S)||!sd(j,N):!0}function lN(u,p,y){var S=!1,j=Ma,N=p.contextType;return typeof N=="object"&&N!==null?N=hi(N):(j=Tr(p)?_o:lr.current,S=p.contextTypes,N=(S=S!=null)?Fl(u,j):Ma),p=new p(y,N),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Kp,u.stateNode=p,p._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=j,u.__reactInternalMemoizedMaskedChildContext=N),p}function cN(u,p,y,S){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,S),p.state!==u&&Kp.enqueueReplaceState(p,p.state,null)}function gx(u,p,y,S){var j=u.stateNode;j.props=y,j.state=u.memoizedState,j.refs={},nx(u);var N=p.contextType;typeof N=="object"&&N!==null?j.context=hi(N):(N=Tr(p)?_o:lr.current,j.context=Fl(u,N)),j.state=u.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(mx(u,p,N,y),j.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(p=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),p!==j.state&&Kp.enqueueReplaceState(j,j.state,null),Up(u,y,j,S),j.state=u.memoizedState),typeof j.componentDidMount=="function"&&(u.flags|=4194308)}function ql(u,p){try{var y="",S=p;do y+=oe(S),S=S.return;while(S);var j=y}catch(N){j=`
Error generating stack: `+N.message+`
`+N.stack}return{value:u,source:p,stack:j,digest:null}}function vx(u,p,y){return{value:u,source:null,stack:y??null,digest:p??null}}function yx(u,p){try{console.error(p.value)}catch(y){setTimeout(function(){throw y})}}var NG=typeof WeakMap=="function"?WeakMap:Map;function uN(u,p,y){y=Ws(-1,y),y.tag=3,y.payload={element:null};var S=p.value;return y.callback=function(){tm||(tm=!0,Mx=S),yx(u,p)},y}function dN(u,p,y){y=Ws(-1,y),y.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var j=p.value;y.payload=function(){return S(j)},y.callback=function(){yx(u,p)}}var N=u.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(y.callback=function(){yx(u,p),typeof S!="function"&&(Fa===null?Fa=new Set([this]):Fa.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})}),y}function hN(u,p,y){var S=u.pingCache;if(S===null){S=u.pingCache=new NG;var j=new Set;S.set(p,j)}else j=S.get(p),j===void 0&&(j=new Set,S.set(p,j));j.has(y)||(j.add(y),u=HG.bind(null,u,p,y),p.then(u,u))}function fN(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function pN(u,p,y,S,j){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:(p=Ws(-1,1),p.tag=2,Ia(y,p,1))),y.lanes|=1),u):(u.flags|=65536,u.lanes=j,u)}var OG=T.ReactCurrentOwner,kr=!1;function gr(u,p,y,S){p.child=u===null?Dk(p,null,y,S):zl(p,u.child,y,S)}function mN(u,p,y,S,j){y=y.render;var N=p.ref;return Wl(p,j),S=cx(u,p,y,S,N,j),y=ux(),u!==null&&!kr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~j,Hs(u,p,j)):(Vt&&y&&qb(p),p.flags|=1,gr(u,p,S,j),p.child)}function gN(u,p,y,S,j){if(u===null){var N=y.type;return typeof N=="function"&&!Bx(N)&&N.defaultProps===void 0&&y.compare===null&&y.defaultProps===void 0?(p.tag=15,p.type=N,vN(u,p,N,S,j)):(u=om(y.type,null,S,p,p.mode,j),u.ref=p.ref,u.return=p,p.child=u)}if(N=u.child,(u.lanes&j)===0){var I=N.memoizedProps;if(y=y.compare,y=y!==null?y:sd,y(I,S)&&u.ref===p.ref)return Hs(u,p,j)}return p.flags|=1,u=za(N,S),u.ref=p.ref,u.return=p,p.child=u}function vN(u,p,y,S,j){if(u!==null){var N=u.memoizedProps;if(sd(N,S)&&u.ref===p.ref)if(kr=!1,p.pendingProps=S=N,(u.lanes&j)!==0)(u.flags&131072)!==0&&(kr=!0);else return p.lanes=u.lanes,Hs(u,p,j)}return bx(u,p,y,S,j)}function yN(u,p,y){var S=p.pendingProps,j=S.children,N=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(Kl,qr),qr|=y;else{if((y&1073741824)===0)return u=N!==null?N.baseLanes|y:y,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,Rt(Kl,qr),qr|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=N!==null?N.baseLanes:y,Rt(Kl,qr),qr|=S}else N!==null?(S=N.baseLanes|y,p.memoizedState=null):S=y,Rt(Kl,qr),qr|=S;return gr(u,p,j,y),p.child}function bN(u,p){var y=p.ref;(u===null&&y!==null||u!==null&&u.ref!==y)&&(p.flags|=512,p.flags|=2097152)}function bx(u,p,y,S,j){var N=Tr(y)?_o:lr.current;return N=Fl(p,N),Wl(p,j),y=cx(u,p,y,S,N,j),S=ux(),u!==null&&!kr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~j,Hs(u,p,j)):(Vt&&S&&qb(p),p.flags|=1,gr(u,p,y,j),p.child)}function xN(u,p,y,S,j){if(Tr(y)){var N=!0;Op(p)}else N=!1;if(Wl(p,j),p.stateNode===null)Xp(u,p),lN(p,y,S),gx(p,y,S,j),S=!0;else if(u===null){var I=p.stateNode,q=p.memoizedProps;I.props=q;var Y=I.context,ne=y.contextType;typeof ne=="object"&&ne!==null?ne=hi(ne):(ne=Tr(y)?_o:lr.current,ne=Fl(p,ne));var de=y.getDerivedStateFromProps,fe=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";fe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(q!==S||Y!==ne)&&cN(p,I,S,ne),Ra=!1;var ce=p.memoizedState;I.state=ce,Up(p,S,I,j),Y=p.memoizedState,q!==S||ce!==Y||jr.current||Ra?(typeof de=="function"&&(mx(p,y,de,S),Y=p.memoizedState),(q=Ra||oN(p,y,q,S,ce,Y,ne))?(fe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(p.flags|=4194308)):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=Y),I.props=S,I.state=Y,I.context=ne,S=q):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{I=p.stateNode,Ik(u,p),q=p.memoizedProps,ne=p.type===p.elementType?q:Ui(p.type,q),I.props=ne,fe=p.pendingProps,ce=I.context,Y=y.contextType,typeof Y=="object"&&Y!==null?Y=hi(Y):(Y=Tr(y)?_o:lr.current,Y=Fl(p,Y));var xe=y.getDerivedStateFromProps;(de=typeof xe=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(q!==fe||ce!==Y)&&cN(p,I,S,Y),Ra=!1,ce=p.memoizedState,I.state=ce,Up(p,S,I,j);var Ee=p.memoizedState;q!==fe||ce!==Ee||jr.current||Ra?(typeof xe=="function"&&(mx(p,y,xe,S),Ee=p.memoizedState),(ne=Ra||oN(p,y,ne,S,ce,Ee,Y)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(S,Ee,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(S,Ee,Y)),typeof I.componentDidUpdate=="function"&&(p.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof I.componentDidUpdate!="function"||q===u.memoizedProps&&ce===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||q===u.memoizedProps&&ce===u.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=Ee),I.props=S,I.state=Ee,I.context=Y,S=ne):(typeof I.componentDidUpdate!="function"||q===u.memoizedProps&&ce===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||q===u.memoizedProps&&ce===u.memoizedState||(p.flags|=1024),S=!1)}return xx(u,p,y,S,N,j)}function xx(u,p,y,S,j,N){bN(u,p);var I=(p.flags&128)!==0;if(!S&&!I)return j&&Ck(p,y,!1),Hs(u,p,N);S=p.stateNode,OG.current=p;var q=I&&typeof y.getDerivedStateFromError!="function"?null:S.render();return p.flags|=1,u!==null&&I?(p.child=zl(p,u.child,null,N),p.child=zl(p,null,q,N)):gr(u,p,q,N),p.memoizedState=S.state,j&&Ck(p,y,!0),p.child}function wN(u){var p=u.stateNode;p.pendingContext?_k(u,p.pendingContext,p.pendingContext!==p.context):p.context&&_k(u,p.context,!1),rx(u,p.containerInfo)}function SN(u,p,y,S,j){return Ul(),Xb(j),p.flags|=256,gr(u,p,y,S),p.child}var wx={dehydrated:null,treeContext:null,retryLane:0};function Sx(u){return{baseLanes:u,cachePool:null,transitions:null}}function _N(u,p,y){var S=p.pendingProps,j=Kt.current,N=!1,I=(p.flags&128)!==0,q;if((q=I)||(q=u!==null&&u.memoizedState===null?!1:(j&2)!==0),q?(N=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(j|=1),Rt(Kt,j&1),u===null)return Yb(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(I=S.children,u=S.fallback,N?(S=p.mode,N=p.child,I={mode:"hidden",children:I},(S&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=I):N=lm(I,S,0,null),u=Mo(u,S,y,null),N.return=p,u.return=p,N.sibling=u,p.child=N,p.child.memoizedState=Sx(y),p.memoizedState=wx,u):_x(p,I));if(j=u.memoizedState,j!==null&&(q=j.dehydrated,q!==null))return MG(u,p,I,S,q,j,y);if(N){N=S.fallback,I=p.mode,j=u.child,q=j.sibling;var Y={mode:"hidden",children:S.children};return(I&1)===0&&p.child!==j?(S=p.child,S.childLanes=0,S.pendingProps=Y,p.deletions=null):(S=za(j,Y),S.subtreeFlags=j.subtreeFlags&14680064),q!==null?N=za(q,N):(N=Mo(N,I,y,null),N.flags|=2),N.return=p,S.return=p,S.sibling=N,p.child=S,S=N,N=p.child,I=u.child.memoizedState,I=I===null?Sx(y):{baseLanes:I.baseLanes|y,cachePool:null,transitions:I.transitions},N.memoizedState=I,N.childLanes=u.childLanes&~y,p.memoizedState=wx,S}return N=u.child,u=N.sibling,S=za(N,{mode:"visible",children:S.children}),(p.mode&1)===0&&(S.lanes=y),S.return=p,S.sibling=null,u!==null&&(y=p.deletions,y===null?(p.deletions=[u],p.flags|=16):y.push(u)),p.child=S,p.memoizedState=null,S}function _x(u,p){return p=lm({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function Yp(u,p,y,S){return S!==null&&Xb(S),zl(p,u.child,null,y),u=_x(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function MG(u,p,y,S,j,N,I){if(y)return p.flags&256?(p.flags&=-257,S=vx(Error(n(422))),Yp(u,p,I,S)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(N=S.fallback,j=p.mode,S=lm({mode:"visible",children:S.children},j,0,null),N=Mo(N,j,I,null),N.flags|=2,S.return=p,N.return=p,S.sibling=N,p.child=S,(p.mode&1)!==0&&zl(p,u.child,null,I),p.child.memoizedState=Sx(I),p.memoizedState=wx,N);if((p.mode&1)===0)return Yp(u,p,I,null);if(j.data==="$!"){if(S=j.nextSibling&&j.nextSibling.dataset,S)var q=S.dgst;return S=q,N=Error(n(419)),S=vx(N,S,void 0),Yp(u,p,I,S)}if(q=(I&u.childLanes)!==0,kr||q){if(S=Rn,S!==null){switch(I&-I){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(S.suspendedLanes|I))!==0?0:j,j!==0&&j!==N.retryLane&&(N.retryLane=j,Vs(u,j),Wi(S,u,j,-1))}return $x(),S=vx(Error(n(421))),Yp(u,p,I,S)}return j.data==="$?"?(p.flags|=128,p.child=u.child,p=qG.bind(null,u),j._reactRetry=p,null):(u=N.treeContext,Hr=Na(j.nextSibling),Wr=p,Vt=!0,Bi=null,u!==null&&(ui[di++]=Us,ui[di++]=zs,ui[di++]=Ao,Us=u.id,zs=u.overflow,Ao=p),p=_x(p,S.children),p.flags|=4096,p)}function AN(u,p,y){u.lanes|=p;var S=u.alternate;S!==null&&(S.lanes|=p),ex(u.return,p,y)}function Ax(u,p,y,S,j){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:y,tailMode:j}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=y,N.tailMode=j)}function CN(u,p,y){var S=p.pendingProps,j=S.revealOrder,N=S.tail;if(gr(u,p,S.children,y),S=Kt.current,(S&2)!==0)S=S&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&AN(u,y,p);else if(u.tag===19)AN(u,y,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(Rt(Kt,S),(p.mode&1)===0)p.memoizedState=null;else switch(j){case"forwards":for(y=p.child,j=null;y!==null;)u=y.alternate,u!==null&&zp(u)===null&&(j=y),y=y.sibling;y=j,y===null?(j=p.child,p.child=null):(j=y.sibling,y.sibling=null),Ax(p,!1,j,y,N);break;case"backwards":for(y=null,j=p.child,p.child=null;j!==null;){if(u=j.alternate,u!==null&&zp(u)===null){p.child=j;break}u=j.sibling,j.sibling=y,y=j,j=u}Ax(p,!0,y,null,N);break;case"together":Ax(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Xp(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function Hs(u,p,y){if(u!==null&&(p.dependencies=u.dependencies),To|=p.lanes,(y&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(n(153));if(p.child!==null){for(u=p.child,y=za(u,u.pendingProps),p.child=y,y.return=p;u.sibling!==null;)u=u.sibling,y=y.sibling=za(u,u.pendingProps),y.return=p;y.sibling=null}return p.child}function DG(u,p,y){switch(p.tag){case 3:wN(p),Ul();break;case 5:$k(p);break;case 1:Tr(p.type)&&Op(p);break;case 4:rx(p,p.stateNode.containerInfo);break;case 10:var S=p.type._context,j=p.memoizedProps.value;Rt(Fp,S._currentValue),S._currentValue=j;break;case 13:if(S=p.memoizedState,S!==null)return S.dehydrated!==null?(Rt(Kt,Kt.current&1),p.flags|=128,null):(y&p.child.childLanes)!==0?_N(u,p,y):(Rt(Kt,Kt.current&1),u=Hs(u,p,y),u!==null?u.sibling:null);Rt(Kt,Kt.current&1);break;case 19:if(S=(y&p.childLanes)!==0,(u.flags&128)!==0){if(S)return CN(u,p,y);p.flags|=128}if(j=p.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Rt(Kt,Kt.current),S)break;return null;case 22:case 23:return p.lanes=0,yN(u,p,y)}return Hs(u,p,y)}var PN,Cx,EN,jN;PN=function(u,p){for(var y=p.child;y!==null;){if(y.tag===5||y.tag===6)u.appendChild(y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},Cx=function(){},EN=function(u,p,y,S){var j=u.memoizedProps;if(j!==S){u=p.stateNode,Eo(os.current);var N=null;switch(y){case"input":j=Ie(u,j),S=Ie(u,S),N=[];break;case"select":j=X({},j,{value:void 0}),S=X({},S,{value:void 0}),N=[];break;case"textarea":j=ct(u,j),S=ct(u,S),N=[];break;default:typeof j.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Tp)}jl(y,S);var I;y=null;for(ne in j)if(!S.hasOwnProperty(ne)&&j.hasOwnProperty(ne)&&j[ne]!=null)if(ne==="style"){var q=j[ne];for(I in q)q.hasOwnProperty(I)&&(y||(y={}),y[I]="")}else ne!=="dangerouslySetInnerHTML"&&ne!=="children"&&ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&ne!=="autoFocus"&&(i.hasOwnProperty(ne)?N||(N=[]):(N=N||[]).push(ne,null));for(ne in S){var Y=S[ne];if(q=j?.[ne],S.hasOwnProperty(ne)&&Y!==q&&(Y!=null||q!=null))if(ne==="style")if(q){for(I in q)!q.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(y||(y={}),y[I]="");for(I in Y)Y.hasOwnProperty(I)&&q[I]!==Y[I]&&(y||(y={}),y[I]=Y[I])}else y||(N||(N=[]),N.push(ne,y)),y=Y;else ne==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,q=q?q.__html:void 0,Y!=null&&q!==Y&&(N=N||[]).push(ne,Y)):ne==="children"?typeof Y!="string"&&typeof Y!="number"||(N=N||[]).push(ne,""+Y):ne!=="suppressContentEditableWarning"&&ne!=="suppressHydrationWarning"&&(i.hasOwnProperty(ne)?(Y!=null&&ne==="onScroll"&&Bt("scroll",u),N||q===Y||(N=[])):(N=N||[]).push(ne,Y))}y&&(N=N||[]).push("style",y);var ne=N;(p.updateQueue=ne)&&(p.flags|=4)}},jN=function(u,p,y,S){y!==S&&(p.flags|=4)};function xd(u,p){if(!Vt)switch(u.tailMode){case"hidden":p=u.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?u.tail=null:y.sibling=null;break;case"collapsed":y=u.tail;for(var S=null;y!==null;)y.alternate!==null&&(S=y),y=y.sibling;S===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function ur(u){var p=u.alternate!==null&&u.alternate.child===u.child,y=0,S=0;if(p)for(var j=u.child;j!==null;)y|=j.lanes|j.childLanes,S|=j.subtreeFlags&14680064,S|=j.flags&14680064,j.return=u,j=j.sibling;else for(j=u.child;j!==null;)y|=j.lanes|j.childLanes,S|=j.subtreeFlags,S|=j.flags,j.return=u,j=j.sibling;return u.subtreeFlags|=S,u.childLanes=y,p}function RG(u,p,y){var S=p.pendingProps;switch(Gb(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ur(p),null;case 1:return Tr(p.type)&&Np(),ur(p),null;case 3:return S=p.stateNode,Hl(),Ut(jr),Ut(lr),ax(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Ip(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Bi!==null&&(Ix(Bi),Bi=null))),Cx(u,p),ur(p),null;case 5:ix(p);var j=Eo(md.current);if(y=p.type,u!==null&&p.stateNode!=null)EN(u,p,y,S,j),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!S){if(p.stateNode===null)throw Error(n(166));return ur(p),null}if(u=Eo(os.current),Ip(p)){S=p.stateNode,y=p.type;var N=p.memoizedProps;switch(S[as]=p,S[ud]=N,u=(p.mode&1)!==0,y){case"dialog":Bt("cancel",S),Bt("close",S);break;case"iframe":case"object":case"embed":Bt("load",S);break;case"video":case"audio":for(j=0;j<od.length;j++)Bt(od[j],S);break;case"source":Bt("error",S);break;case"img":case"image":case"link":Bt("error",S),Bt("load",S);break;case"details":Bt("toggle",S);break;case"input":xt(S,N),Bt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!N.multiple},Bt("invalid",S);break;case"textarea":ar(S,N),Bt("invalid",S)}jl(y,N),j=null;for(var I in N)if(N.hasOwnProperty(I)){var q=N[I];I==="children"?typeof q=="string"?S.textContent!==q&&(N.suppressHydrationWarning!==!0&&jp(S.textContent,q,u),j=["children",q]):typeof q=="number"&&S.textContent!==""+q&&(N.suppressHydrationWarning!==!0&&jp(S.textContent,q,u),j=["children",""+q]):i.hasOwnProperty(I)&&q!=null&&I==="onScroll"&&Bt("scroll",S)}switch(y){case"input":ve(S),be(S,N,!0);break;case"textarea":ve(S),ai(S);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(S.onclick=Tp)}S=j,p.updateQueue=S,S!==null&&(p.flags|=4)}else{I=j.nodeType===9?j:j.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ls(y)),u==="http://www.w3.org/1999/xhtml"?y==="script"?(u=I.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=I.createElement(y,{is:S.is}):(u=I.createElement(y),y==="select"&&(I=u,S.multiple?I.multiple=!0:S.size&&(I.size=S.size))):u=I.createElementNS(u,y),u[as]=p,u[ud]=S,PN(u,p,!1,!1),p.stateNode=u;e:{switch(I=Vu(y,S),y){case"dialog":Bt("cancel",u),Bt("close",u),j=S;break;case"iframe":case"object":case"embed":Bt("load",u),j=S;break;case"video":case"audio":for(j=0;j<od.length;j++)Bt(od[j],u);j=S;break;case"source":Bt("error",u),j=S;break;case"img":case"image":case"link":Bt("error",u),Bt("load",u),j=S;break;case"details":Bt("toggle",u),j=S;break;case"input":xt(u,S),j=Ie(u,S),Bt("invalid",u);break;case"option":j=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},j=X({},S,{value:void 0}),Bt("invalid",u);break;case"textarea":ar(u,S),j=ct(u,S),Bt("invalid",u);break;default:j=S}jl(y,j),q=j;for(N in q)if(q.hasOwnProperty(N)){var Y=q[N];N==="style"?lp(u,Y):N==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&El(u,Y)):N==="children"?typeof Y=="string"?(y!=="textarea"||Y!=="")&&oi(u,Y):typeof Y=="number"&&oi(u,""+Y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Y!=null&&N==="onScroll"&&Bt("scroll",u):Y!=null&&A(u,N,Y,I))}switch(y){case"input":ve(u),be(u,S,!1);break;case"textarea":ve(u),ai(u);break;case"option":S.value!=null&&u.setAttribute("value",""+le(S.value));break;case"select":u.multiple=!!S.multiple,N=S.value,N!=null?kt(u,!!S.multiple,N,!1):S.defaultValue!=null&&kt(u,!!S.multiple,S.defaultValue,!0);break;default:typeof j.onClick=="function"&&(u.onclick=Tp)}switch(y){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return ur(p),null;case 6:if(u&&p.stateNode!=null)jN(u,p,u.memoizedProps,S);else{if(typeof S!="string"&&p.stateNode===null)throw Error(n(166));if(y=Eo(md.current),Eo(os.current),Ip(p)){if(S=p.stateNode,y=p.memoizedProps,S[as]=p,(N=S.nodeValue!==y)&&(u=Wr,u!==null))switch(u.tag){case 3:jp(S.nodeValue,y,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&jp(S.nodeValue,y,(u.mode&1)!==0)}N&&(p.flags|=4)}else S=(y.nodeType===9?y:y.ownerDocument).createTextNode(S),S[as]=p,p.stateNode=S}return ur(p),null;case 13:if(Ut(Kt),S=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Vt&&Hr!==null&&(p.mode&1)!==0&&(p.flags&128)===0)Nk(),Ul(),p.flags|=98560,N=!1;else if(N=Ip(p),S!==null&&S.dehydrated!==null){if(u===null){if(!N)throw Error(n(318));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[as]=p}else Ul(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;ur(p),N=!1}else Bi!==null&&(Ix(Bi),Bi=null),N=!0;if(!N)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=y,p):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(Kt.current&1)!==0?Cn===0&&(Cn=3):$x())),p.updateQueue!==null&&(p.flags|=4),ur(p),null);case 4:return Hl(),Cx(u,p),u===null&&ld(p.stateNode.containerInfo),ur(p),null;case 10:return Jb(p.type._context),ur(p),null;case 17:return Tr(p.type)&&Np(),ur(p),null;case 19:if(Ut(Kt),N=p.memoizedState,N===null)return ur(p),null;if(S=(p.flags&128)!==0,I=N.rendering,I===null)if(S)xd(N,!1);else{if(Cn!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(I=zp(u),I!==null){for(p.flags|=128,xd(N,!1),S=I.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),p.subtreeFlags=0,S=y,y=p.child;y!==null;)N=y,u=S,N.flags&=14680066,I=N.alternate,I===null?(N.childLanes=0,N.lanes=u,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=I.childLanes,N.lanes=I.lanes,N.child=I.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=I.memoizedProps,N.memoizedState=I.memoizedState,N.updateQueue=I.updateQueue,N.type=I.type,u=I.dependencies,N.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),y=y.sibling;return Rt(Kt,Kt.current&1|2),p.child}u=u.sibling}N.tail!==null&&cn()>Yl&&(p.flags|=128,S=!0,xd(N,!1),p.lanes=4194304)}else{if(!S)if(u=zp(I),u!==null){if(p.flags|=128,S=!0,y=u.updateQueue,y!==null&&(p.updateQueue=y,p.flags|=4),xd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!Vt)return ur(p),null}else 2*cn()-N.renderingStartTime>Yl&&y!==1073741824&&(p.flags|=128,S=!0,xd(N,!1),p.lanes=4194304);N.isBackwards?(I.sibling=p.child,p.child=I):(y=N.last,y!==null?y.sibling=I:p.child=I,N.last=I)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=cn(),p.sibling=null,y=Kt.current,Rt(Kt,S?y&1|2:y&1),p):(ur(p),null);case 22:case 23:return Fx(),S=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(p.flags|=8192),S&&(p.mode&1)!==0?(qr&1073741824)!==0&&(ur(p),p.subtreeFlags&6&&(p.flags|=8192)):ur(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function IG(u,p){switch(Gb(p),p.tag){case 1:return Tr(p.type)&&Np(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return Hl(),Ut(jr),Ut(lr),ax(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return ix(p),null;case 13:if(Ut(Kt),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Ul()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return Ut(Kt),null;case 4:return Hl(),null;case 10:return Jb(p.type._context),null;case 22:case 23:return Fx(),null;case 24:return null;default:return null}}var Qp=!1,dr=!1,LG=typeof WeakSet=="function"?WeakSet:Set,Se=null;function Gl(u,p){var y=u.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(S){tn(u,p,S)}else y.current=null}function Px(u,p,y){try{y()}catch(S){tn(u,p,S)}}var TN=!1;function FG(u,p){if(Fb=vp,u=ok(),kb(u)){if("selectionStart"in u)var y={start:u.selectionStart,end:u.selectionEnd};else e:{y=(y=u.ownerDocument)&&y.defaultView||window;var S=y.getSelection&&y.getSelection();if(S&&S.rangeCount!==0){y=S.anchorNode;var j=S.anchorOffset,N=S.focusNode;S=S.focusOffset;try{y.nodeType,N.nodeType}catch{y=null;break e}var I=0,q=-1,Y=-1,ne=0,de=0,fe=u,ce=null;t:for(;;){for(var xe;fe!==y||j!==0&&fe.nodeType!==3||(q=I+j),fe!==N||S!==0&&fe.nodeType!==3||(Y=I+S),fe.nodeType===3&&(I+=fe.nodeValue.length),(xe=fe.firstChild)!==null;)ce=fe,fe=xe;for(;;){if(fe===u)break t;if(ce===y&&++ne===j&&(q=I),ce===N&&++de===S&&(Y=I),(xe=fe.nextSibling)!==null)break;fe=ce,ce=fe.parentNode}fe=xe}y=q===-1||Y===-1?null:{start:q,end:Y}}else y=null}y=y||{start:0,end:0}}else y=null;for($b={focusedElem:u,selectionRange:y},vp=!1,Se=p;Se!==null;)if(p=Se,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,Se=u;else for(;Se!==null;){p=Se;try{var Ee=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ee!==null){var Ne=Ee.memoizedProps,un=Ee.memoizedState,J=p.stateNode,Q=J.getSnapshotBeforeUpdate(p.elementType===p.type?Ne:Ui(p.type,Ne),un);J.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ee=p.stateNode.containerInfo;ee.nodeType===1?ee.textContent="":ee.nodeType===9&&ee.documentElement&&ee.removeChild(ee.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){tn(p,p.return,me)}if(u=p.sibling,u!==null){u.return=p.return,Se=u;break}Se=p.return}return Ee=TN,TN=!1,Ee}function wd(u,p,y){var S=p.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var j=S=S.next;do{if((j.tag&u)===u){var N=j.destroy;j.destroy=void 0,N!==void 0&&Px(p,y,N)}j=j.next}while(j!==S)}}function Zp(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var y=p=p.next;do{if((y.tag&u)===u){var S=y.create;y.destroy=S()}y=y.next}while(y!==p)}}function Ex(u){var p=u.ref;if(p!==null){var y=u.stateNode;switch(u.tag){case 5:u=y;break;default:u=y}typeof p=="function"?p(u):p.current=u}}function kN(u){var p=u.alternate;p!==null&&(u.alternate=null,kN(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[as],delete p[ud],delete p[Vb],delete p[xG],delete p[wG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function NN(u){return u.tag===5||u.tag===3||u.tag===4}function ON(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||NN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function jx(u,p,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?y.nodeType===8?y.parentNode.insertBefore(u,p):y.insertBefore(u,p):(y.nodeType===8?(p=y.parentNode,p.insertBefore(u,y)):(p=y,p.appendChild(u)),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=Tp));else if(S!==4&&(u=u.child,u!==null))for(jx(u,p,y),u=u.sibling;u!==null;)jx(u,p,y),u=u.sibling}function Tx(u,p,y){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?y.insertBefore(u,p):y.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(Tx(u,p,y),u=u.sibling;u!==null;)Tx(u,p,y),u=u.sibling}var Yn=null,zi=!1;function La(u,p,y){for(y=y.child;y!==null;)MN(u,p,y),y=y.sibling}function MN(u,p,y){if(ss&&typeof ss.onCommitFiberUnmount=="function")try{ss.onCommitFiberUnmount(dp,y)}catch{}switch(y.tag){case 5:dr||Gl(y,p);case 6:var S=Yn,j=zi;Yn=null,La(u,p,y),Yn=S,zi=j,Yn!==null&&(zi?(u=Yn,y=y.stateNode,u.nodeType===8?u.parentNode.removeChild(y):u.removeChild(y)):Yn.removeChild(y.stateNode));break;case 18:Yn!==null&&(zi?(u=Yn,y=y.stateNode,u.nodeType===8?zb(u.parentNode,y):u.nodeType===1&&zb(u,y),Ju(u)):zb(Yn,y.stateNode));break;case 4:S=Yn,j=zi,Yn=y.stateNode.containerInfo,zi=!0,La(u,p,y),Yn=S,zi=j;break;case 0:case 11:case 14:case 15:if(!dr&&(S=y.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){j=S=S.next;do{var N=j,I=N.destroy;N=N.tag,I!==void 0&&((N&2)!==0||(N&4)!==0)&&Px(y,p,I),j=j.next}while(j!==S)}La(u,p,y);break;case 1:if(!dr&&(Gl(y,p),S=y.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=y.memoizedProps,S.state=y.memoizedState,S.componentWillUnmount()}catch(q){tn(y,p,q)}La(u,p,y);break;case 21:La(u,p,y);break;case 22:y.mode&1?(dr=(S=dr)||y.memoizedState!==null,La(u,p,y),dr=S):La(u,p,y);break;default:La(u,p,y)}}function DN(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var y=u.stateNode;y===null&&(y=u.stateNode=new LG),p.forEach(function(S){var j=GG.bind(null,u,S);y.has(S)||(y.add(S),S.then(j,j))})}}function Vi(u,p){var y=p.deletions;if(y!==null)for(var S=0;S<y.length;S++){var j=y[S];try{var N=u,I=p,q=I;e:for(;q!==null;){switch(q.tag){case 5:Yn=q.stateNode,zi=!1;break e;case 3:Yn=q.stateNode.containerInfo,zi=!0;break e;case 4:Yn=q.stateNode.containerInfo,zi=!0;break e}q=q.return}if(Yn===null)throw Error(n(160));MN(N,I,j),Yn=null,zi=!1;var Y=j.alternate;Y!==null&&(Y.return=null),j.return=null}catch(ne){tn(j,p,ne)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)RN(p,u),p=p.sibling}function RN(u,p){var y=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Vi(p,u),cs(u),S&4){try{wd(3,u,u.return),Zp(3,u)}catch(Ne){tn(u,u.return,Ne)}try{wd(5,u,u.return)}catch(Ne){tn(u,u.return,Ne)}}break;case 1:Vi(p,u),cs(u),S&512&&y!==null&&Gl(y,y.return);break;case 5:if(Vi(p,u),cs(u),S&512&&y!==null&&Gl(y,y.return),u.flags&32){var j=u.stateNode;try{oi(j,"")}catch(Ne){tn(u,u.return,Ne)}}if(S&4&&(j=u.stateNode,j!=null)){var N=u.memoizedProps,I=y!==null?y.memoizedProps:N,q=u.type,Y=u.updateQueue;if(u.updateQueue=null,Y!==null)try{q==="input"&&N.type==="radio"&&N.name!=null&&vt(j,N),Vu(q,I);var ne=Vu(q,N);for(I=0;I<Y.length;I+=2){var de=Y[I],fe=Y[I+1];de==="style"?lp(j,fe):de==="dangerouslySetInnerHTML"?El(j,fe):de==="children"?oi(j,fe):A(j,de,fe,ne)}switch(q){case"input":ft(j,N);break;case"textarea":Er(j,N);break;case"select":var ce=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!N.multiple;var xe=N.value;xe!=null?kt(j,!!N.multiple,xe,!1):ce!==!!N.multiple&&(N.defaultValue!=null?kt(j,!!N.multiple,N.defaultValue,!0):kt(j,!!N.multiple,N.multiple?[]:"",!1))}j[ud]=N}catch(Ne){tn(u,u.return,Ne)}}break;case 6:if(Vi(p,u),cs(u),S&4){if(u.stateNode===null)throw Error(n(162));j=u.stateNode,N=u.memoizedProps;try{j.nodeValue=N}catch(Ne){tn(u,u.return,Ne)}}break;case 3:if(Vi(p,u),cs(u),S&4&&y!==null&&y.memoizedState.isDehydrated)try{Ju(p.containerInfo)}catch(Ne){tn(u,u.return,Ne)}break;case 4:Vi(p,u),cs(u);break;case 13:Vi(p,u),cs(u),j=u.child,j.flags&8192&&(N=j.memoizedState!==null,j.stateNode.isHidden=N,!N||j.alternate!==null&&j.alternate.memoizedState!==null||(Ox=cn())),S&4&&DN(u);break;case 22:if(de=y!==null&&y.memoizedState!==null,u.mode&1?(dr=(ne=dr)||de,Vi(p,u),dr=ne):Vi(p,u),cs(u),S&8192){if(ne=u.memoizedState!==null,(u.stateNode.isHidden=ne)&&!de&&(u.mode&1)!==0)for(Se=u,de=u.child;de!==null;){for(fe=Se=de;Se!==null;){switch(ce=Se,xe=ce.child,ce.tag){case 0:case 11:case 14:case 15:wd(4,ce,ce.return);break;case 1:Gl(ce,ce.return);var Ee=ce.stateNode;if(typeof Ee.componentWillUnmount=="function"){S=ce,y=ce.return;try{p=S,Ee.props=p.memoizedProps,Ee.state=p.memoizedState,Ee.componentWillUnmount()}catch(Ne){tn(S,y,Ne)}}break;case 5:Gl(ce,ce.return);break;case 22:if(ce.memoizedState!==null){FN(fe);continue}}xe!==null?(xe.return=ce,Se=xe):FN(fe)}de=de.sibling}e:for(de=null,fe=u;;){if(fe.tag===5){if(de===null){de=fe;try{j=fe.stateNode,ne?(N=j.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(q=fe.stateNode,Y=fe.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,q.style.display=op("display",I))}catch(Ne){tn(u,u.return,Ne)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=ne?"":fe.memoizedProps}catch(Ne){tn(u,u.return,Ne)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===u)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===u)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===u)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:Vi(p,u),cs(u),S&4&&DN(u);break;case 21:break;default:Vi(p,u),cs(u)}}function cs(u){var p=u.flags;if(p&2){try{e:{for(var y=u.return;y!==null;){if(NN(y)){var S=y;break e}y=y.return}throw Error(n(160))}switch(S.tag){case 5:var j=S.stateNode;S.flags&32&&(oi(j,""),S.flags&=-33);var N=ON(u);Tx(u,N,j);break;case 3:case 4:var I=S.stateNode.containerInfo,q=ON(u);jx(u,q,I);break;default:throw Error(n(161))}}catch(Y){tn(u,u.return,Y)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function $G(u,p,y){Se=u,IN(u)}function IN(u,p,y){for(var S=(u.mode&1)!==0;Se!==null;){var j=Se,N=j.child;if(j.tag===22&&S){var I=j.memoizedState!==null||Qp;if(!I){var q=j.alternate,Y=q!==null&&q.memoizedState!==null||dr;q=Qp;var ne=dr;if(Qp=I,(dr=Y)&&!ne)for(Se=j;Se!==null;)I=Se,Y=I.child,I.tag===22&&I.memoizedState!==null?$N(j):Y!==null?(Y.return=I,Se=Y):$N(j);for(;N!==null;)Se=N,IN(N),N=N.sibling;Se=j,Qp=q,dr=ne}LN(u)}else(j.subtreeFlags&8772)!==0&&N!==null?(N.return=j,Se=N):LN(u)}}function LN(u){for(;Se!==null;){var p=Se;if((p.flags&8772)!==0){var y=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:dr||Zp(5,p);break;case 1:var S=p.stateNode;if(p.flags&4&&!dr)if(y===null)S.componentDidMount();else{var j=p.elementType===p.type?y.memoizedProps:Ui(p.type,y.memoizedProps);S.componentDidUpdate(j,y.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&Fk(p,N,S);break;case 3:var I=p.updateQueue;if(I!==null){if(y=null,p.child!==null)switch(p.child.tag){case 5:y=p.child.stateNode;break;case 1:y=p.child.stateNode}Fk(p,I,y)}break;case 5:var q=p.stateNode;if(y===null&&p.flags&4){y=q;var Y=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&y.focus();break;case"img":Y.src&&(y.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var ne=p.alternate;if(ne!==null){var de=ne.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Ju(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}dr||p.flags&512&&Ex(p)}catch(ce){tn(p,p.return,ce)}}if(p===u){Se=null;break}if(y=p.sibling,y!==null){y.return=p.return,Se=y;break}Se=p.return}}function FN(u){for(;Se!==null;){var p=Se;if(p===u){Se=null;break}var y=p.sibling;if(y!==null){y.return=p.return,Se=y;break}Se=p.return}}function $N(u){for(;Se!==null;){var p=Se;try{switch(p.tag){case 0:case 11:case 15:var y=p.return;try{Zp(4,p)}catch(Y){tn(p,y,Y)}break;case 1:var S=p.stateNode;if(typeof S.componentDidMount=="function"){var j=p.return;try{S.componentDidMount()}catch(Y){tn(p,j,Y)}}var N=p.return;try{Ex(p)}catch(Y){tn(p,N,Y)}break;case 5:var I=p.return;try{Ex(p)}catch(Y){tn(p,I,Y)}}}catch(Y){tn(p,p.return,Y)}if(p===u){Se=null;break}var q=p.sibling;if(q!==null){q.return=p.return,Se=q;break}Se=p.return}}var BG=Math.ceil,Jp=T.ReactCurrentDispatcher,kx=T.ReactCurrentOwner,pi=T.ReactCurrentBatchConfig,ht=0,Rn=null,gn=null,Xn=0,qr=0,Kl=Oa(0),Cn=0,Sd=null,To=0,em=0,Nx=0,_d=null,Nr=null,Ox=0,Yl=1/0,qs=null,tm=!1,Mx=null,Fa=null,nm=!1,$a=null,rm=0,Ad=0,Dx=null,im=-1,sm=0;function vr(){return(ht&6)!==0?cn():im!==-1?im:im=cn()}function Ba(u){return(u.mode&1)===0?1:(ht&2)!==0&&Xn!==0?Xn&-Xn:_G.transition!==null?(sm===0&&(sm=OT()),sm):(u=Ct,u!==0||(u=window.event,u=u===void 0?16:UT(u.type)),u)}function Wi(u,p,y,S){if(50<Ad)throw Ad=0,Dx=null,Error(n(185));Ku(u,y,S),((ht&2)===0||u!==Rn)&&(u===Rn&&((ht&2)===0&&(em|=y),Cn===4&&Ua(u,Xn)),Or(u,S),y===1&&ht===0&&(p.mode&1)===0&&(Yl=cn()+500,Mp&&Da()))}function Or(u,p){var y=u.callbackNode;_q(u,p);var S=pp(u,u===Rn?Xn:0);if(S===0)y!==null&&TT(y),u.callbackNode=null,u.callbackPriority=0;else if(p=S&-S,u.callbackPriority!==p){if(y!=null&&TT(y),p===1)u.tag===0?SG(UN.bind(null,u)):Pk(UN.bind(null,u)),yG(function(){(ht&6)===0&&Da()}),y=null;else{switch(MT(S)){case 1:y=fb;break;case 4:y=kT;break;case 16:y=up;break;case 536870912:y=NT;break;default:y=up}y=YN(y,BN.bind(null,u))}u.callbackPriority=p,u.callbackNode=y}}function BN(u,p){if(im=-1,sm=0,(ht&6)!==0)throw Error(n(327));var y=u.callbackNode;if(Xl()&&u.callbackNode!==y)return null;var S=pp(u,u===Rn?Xn:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||p)p=am(u,S);else{p=S;var j=ht;ht|=2;var N=VN();(Rn!==u||Xn!==p)&&(qs=null,Yl=cn()+500,No(u,p));do try{VG();break}catch(q){zN(u,q)}while(!0);Zb(),Jp.current=N,ht=j,gn!==null?p=0:(Rn=null,Xn=0,p=Cn)}if(p!==0){if(p===2&&(j=pb(u),j!==0&&(S=j,p=Rx(u,j))),p===1)throw y=Sd,No(u,0),Ua(u,S),Or(u,cn()),y;if(p===6)Ua(u,S);else{if(j=u.current.alternate,(S&30)===0&&!UG(j)&&(p=am(u,S),p===2&&(N=pb(u),N!==0&&(S=N,p=Rx(u,N))),p===1))throw y=Sd,No(u,0),Ua(u,S),Or(u,cn()),y;switch(u.finishedWork=j,u.finishedLanes=S,p){case 0:case 1:throw Error(n(345));case 2:Oo(u,Nr,qs);break;case 3:if(Ua(u,S),(S&130023424)===S&&(p=Ox+500-cn(),10<p)){if(pp(u,0)!==0)break;if(j=u.suspendedLanes,(j&S)!==S){vr(),u.pingedLanes|=u.suspendedLanes&j;break}u.timeoutHandle=Ub(Oo.bind(null,u,Nr,qs),p);break}Oo(u,Nr,qs);break;case 4:if(Ua(u,S),(S&4194240)===S)break;for(p=u.eventTimes,j=-1;0<S;){var I=31-Fi(S);N=1<<I,I=p[I],I>j&&(j=I),S&=~N}if(S=j,S=cn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*BG(S/1960))-S,10<S){u.timeoutHandle=Ub(Oo.bind(null,u,Nr,qs),S);break}Oo(u,Nr,qs);break;case 5:Oo(u,Nr,qs);break;default:throw Error(n(329))}}}return Or(u,cn()),u.callbackNode===y?BN.bind(null,u):null}function Rx(u,p){var y=_d;return u.current.memoizedState.isDehydrated&&(No(u,p).flags|=256),u=am(u,p),u!==2&&(p=Nr,Nr=y,p!==null&&Ix(p)),u}function Ix(u){Nr===null?Nr=u:Nr.push.apply(Nr,u)}function UG(u){for(var p=u;;){if(p.flags&16384){var y=p.updateQueue;if(y!==null&&(y=y.stores,y!==null))for(var S=0;S<y.length;S++){var j=y[S],N=j.getSnapshot;j=j.value;try{if(!$i(N(),j))return!1}catch{return!1}}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ua(u,p){for(p&=~Nx,p&=~em,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var y=31-Fi(p),S=1<<y;u[y]=-1,p&=~S}}function UN(u){if((ht&6)!==0)throw Error(n(327));Xl();var p=pp(u,0);if((p&1)===0)return Or(u,cn()),null;var y=am(u,p);if(u.tag!==0&&y===2){var S=pb(u);S!==0&&(p=S,y=Rx(u,S))}if(y===1)throw y=Sd,No(u,0),Ua(u,p),Or(u,cn()),y;if(y===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,Oo(u,Nr,qs),Or(u,cn()),null}function Lx(u,p){var y=ht;ht|=1;try{return u(p)}finally{ht=y,ht===0&&(Yl=cn()+500,Mp&&Da())}}function ko(u){$a!==null&&$a.tag===0&&(ht&6)===0&&Xl();var p=ht;ht|=1;var y=pi.transition,S=Ct;try{if(pi.transition=null,Ct=1,u)return u()}finally{Ct=S,pi.transition=y,ht=p,(ht&6)===0&&Da()}}function Fx(){qr=Kl.current,Ut(Kl)}function No(u,p){u.finishedWork=null,u.finishedLanes=0;var y=u.timeoutHandle;if(y!==-1&&(u.timeoutHandle=-1,vG(y)),gn!==null)for(y=gn.return;y!==null;){var S=y;switch(Gb(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Np();break;case 3:Hl(),Ut(jr),Ut(lr),ax();break;case 5:ix(S);break;case 4:Hl();break;case 13:Ut(Kt);break;case 19:Ut(Kt);break;case 10:Jb(S.type._context);break;case 22:case 23:Fx()}y=y.return}if(Rn=u,gn=u=za(u.current,null),Xn=qr=p,Cn=0,Sd=null,Nx=em=To=0,Nr=_d=null,Po!==null){for(p=0;p<Po.length;p++)if(y=Po[p],S=y.interleaved,S!==null){y.interleaved=null;var j=S.next,N=y.pending;if(N!==null){var I=N.next;N.next=j,S.next=I}y.pending=S}Po=null}return u}function zN(u,p){do{var y=gn;try{if(Zb(),Vp.current=Gp,Wp){for(var S=Yt.memoizedState;S!==null;){var j=S.queue;j!==null&&(j.pending=null),S=S.next}Wp=!1}if(jo=0,Dn=An=Yt=null,gd=!1,vd=0,kx.current=null,y===null||y.return===null){Cn=1,Sd=p,gn=null;break}e:{var N=u,I=y.return,q=y,Y=p;if(p=Xn,q.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ne=Y,de=q,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var ce=de.alternate;ce?(de.updateQueue=ce.updateQueue,de.memoizedState=ce.memoizedState,de.lanes=ce.lanes):(de.updateQueue=null,de.memoizedState=null)}var xe=fN(I);if(xe!==null){xe.flags&=-257,pN(xe,I,q,N,p),xe.mode&1&&hN(N,ne,p),p=xe,Y=ne;var Ee=p.updateQueue;if(Ee===null){var Ne=new Set;Ne.add(Y),p.updateQueue=Ne}else Ee.add(Y);break e}else{if((p&1)===0){hN(N,ne,p),$x();break e}Y=Error(n(426))}}else if(Vt&&q.mode&1){var un=fN(I);if(un!==null){(un.flags&65536)===0&&(un.flags|=256),pN(un,I,q,N,p),Xb(ql(Y,q));break e}}N=Y=ql(Y,q),Cn!==4&&(Cn=2),_d===null?_d=[N]:_d.push(N),N=I;do{switch(N.tag){case 3:N.flags|=65536,p&=-p,N.lanes|=p;var J=uN(N,Y,p);Lk(N,J);break e;case 1:q=Y;var Q=N.type,ee=N.stateNode;if((N.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ee!==null&&typeof ee.componentDidCatch=="function"&&(Fa===null||!Fa.has(ee)))){N.flags|=65536,p&=-p,N.lanes|=p;var me=dN(N,q,p);Lk(N,me);break e}}N=N.return}while(N!==null)}HN(y)}catch(Oe){p=Oe,gn===y&&y!==null&&(gn=y=y.return);continue}break}while(!0)}function VN(){var u=Jp.current;return Jp.current=Gp,u===null?Gp:u}function $x(){(Cn===0||Cn===3||Cn===2)&&(Cn=4),Rn===null||(To&268435455)===0&&(em&268435455)===0||Ua(Rn,Xn)}function am(u,p){var y=ht;ht|=2;var S=VN();(Rn!==u||Xn!==p)&&(qs=null,No(u,p));do try{zG();break}catch(j){zN(u,j)}while(!0);if(Zb(),ht=y,Jp.current=S,gn!==null)throw Error(n(261));return Rn=null,Xn=0,Cn}function zG(){for(;gn!==null;)WN(gn)}function VG(){for(;gn!==null&&!pq();)WN(gn)}function WN(u){var p=KN(u.alternate,u,qr);u.memoizedProps=u.pendingProps,p===null?HN(u):gn=p,kx.current=null}function HN(u){var p=u;do{var y=p.alternate;if(u=p.return,(p.flags&32768)===0){if(y=RG(y,p,qr),y!==null){gn=y;return}}else{if(y=IG(y,p),y!==null){y.flags&=32767,gn=y;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{Cn=6,gn=null;return}}if(p=p.sibling,p!==null){gn=p;return}gn=p=u}while(p!==null);Cn===0&&(Cn=5)}function Oo(u,p,y){var S=Ct,j=pi.transition;try{pi.transition=null,Ct=1,WG(u,p,y,S)}finally{pi.transition=j,Ct=S}return null}function WG(u,p,y,S){do Xl();while($a!==null);if((ht&6)!==0)throw Error(n(327));y=u.finishedWork;var j=u.finishedLanes;if(y===null)return null;if(u.finishedWork=null,u.finishedLanes=0,y===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var N=y.lanes|y.childLanes;if(Aq(u,N),u===Rn&&(gn=Rn=null,Xn=0),(y.subtreeFlags&2064)===0&&(y.flags&2064)===0||nm||(nm=!0,YN(up,function(){return Xl(),null})),N=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||N){N=pi.transition,pi.transition=null;var I=Ct;Ct=1;var q=ht;ht|=4,kx.current=null,FG(u,y),RN(y,u),uG($b),vp=!!Fb,$b=Fb=null,u.current=y,$G(y),mq(),ht=q,Ct=I,pi.transition=N}else u.current=y;if(nm&&(nm=!1,$a=u,rm=j),N=u.pendingLanes,N===0&&(Fa=null),yq(y.stateNode),Or(u,cn()),p!==null)for(S=u.onRecoverableError,y=0;y<p.length;y++)j=p[y],S(j.value,{componentStack:j.stack,digest:j.digest});if(tm)throw tm=!1,u=Mx,Mx=null,u;return(rm&1)!==0&&u.tag!==0&&Xl(),N=u.pendingLanes,(N&1)!==0?u===Dx?Ad++:(Ad=0,Dx=u):Ad=0,Da(),null}function Xl(){if($a!==null){var u=MT(rm),p=pi.transition,y=Ct;try{if(pi.transition=null,Ct=16>u?16:u,$a===null)var S=!1;else{if(u=$a,$a=null,rm=0,(ht&6)!==0)throw Error(n(331));var j=ht;for(ht|=4,Se=u.current;Se!==null;){var N=Se,I=N.child;if((Se.flags&16)!==0){var q=N.deletions;if(q!==null){for(var Y=0;Y<q.length;Y++){var ne=q[Y];for(Se=ne;Se!==null;){var de=Se;switch(de.tag){case 0:case 11:case 15:wd(8,de,N)}var fe=de.child;if(fe!==null)fe.return=de,Se=fe;else for(;Se!==null;){de=Se;var ce=de.sibling,xe=de.return;if(kN(de),de===ne){Se=null;break}if(ce!==null){ce.return=xe,Se=ce;break}Se=xe}}}var Ee=N.alternate;if(Ee!==null){var Ne=Ee.child;if(Ne!==null){Ee.child=null;do{var un=Ne.sibling;Ne.sibling=null,Ne=un}while(Ne!==null)}}Se=N}}if((N.subtreeFlags&2064)!==0&&I!==null)I.return=N,Se=I;else e:for(;Se!==null;){if(N=Se,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:wd(9,N,N.return)}var J=N.sibling;if(J!==null){J.return=N.return,Se=J;break e}Se=N.return}}var Q=u.current;for(Se=Q;Se!==null;){I=Se;var ee=I.child;if((I.subtreeFlags&2064)!==0&&ee!==null)ee.return=I,Se=ee;else e:for(I=Q;Se!==null;){if(q=Se,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Zp(9,q)}}catch(Oe){tn(q,q.return,Oe)}if(q===I){Se=null;break e}var me=q.sibling;if(me!==null){me.return=q.return,Se=me;break e}Se=q.return}}if(ht=j,Da(),ss&&typeof ss.onPostCommitFiberRoot=="function")try{ss.onPostCommitFiberRoot(dp,u)}catch{}S=!0}return S}finally{Ct=y,pi.transition=p}}return!1}function qN(u,p,y){p=ql(y,p),p=uN(u,p,1),u=Ia(u,p,1),p=vr(),u!==null&&(Ku(u,1,p),Or(u,p))}function tn(u,p,y){if(u.tag===3)qN(u,u,y);else for(;p!==null;){if(p.tag===3){qN(p,u,y);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Fa===null||!Fa.has(S))){u=ql(y,u),u=dN(p,u,1),p=Ia(p,u,1),u=vr(),p!==null&&(Ku(p,1,u),Or(p,u));break}}p=p.return}}function HG(u,p,y){var S=u.pingCache;S!==null&&S.delete(p),p=vr(),u.pingedLanes|=u.suspendedLanes&y,Rn===u&&(Xn&y)===y&&(Cn===4||Cn===3&&(Xn&130023424)===Xn&&500>cn()-Ox?No(u,0):Nx|=y),Or(u,p)}function GN(u,p){p===0&&((u.mode&1)===0?p=1:(p=fp,fp<<=1,(fp&130023424)===0&&(fp=4194304)));var y=vr();u=Vs(u,p),u!==null&&(Ku(u,p,y),Or(u,y))}function qG(u){var p=u.memoizedState,y=0;p!==null&&(y=p.retryLane),GN(u,y)}function GG(u,p){var y=0;switch(u.tag){case 13:var S=u.stateNode,j=u.memoizedState;j!==null&&(y=j.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(p),GN(u,y)}var KN;KN=function(u,p,y){if(u!==null)if(u.memoizedProps!==p.pendingProps||jr.current)kr=!0;else{if((u.lanes&y)===0&&(p.flags&128)===0)return kr=!1,DG(u,p,y);kr=(u.flags&131072)!==0}else kr=!1,Vt&&(p.flags&1048576)!==0&&Ek(p,Rp,p.index);switch(p.lanes=0,p.tag){case 2:var S=p.type;Xp(u,p),u=p.pendingProps;var j=Fl(p,lr.current);Wl(p,y),j=cx(null,p,S,u,j,y);var N=ux();return p.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Tr(S)?(N=!0,Op(p)):N=!1,p.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,nx(p),j.updater=Kp,p.stateNode=j,j._reactInternals=p,gx(p,S,u,y),p=xx(null,p,S,!0,N,y)):(p.tag=0,Vt&&N&&qb(p),gr(null,p,j,y),p=p.child),p;case 16:S=p.elementType;e:{switch(Xp(u,p),u=p.pendingProps,j=S._init,S=j(S._payload),p.type=S,j=p.tag=YG(S),u=Ui(S,u),j){case 0:p=bx(null,p,S,u,y);break e;case 1:p=xN(null,p,S,u,y);break e;case 11:p=mN(null,p,S,u,y);break e;case 14:p=gN(null,p,S,Ui(S.type,u),y);break e}throw Error(n(306,S,""))}return p;case 0:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Ui(S,j),bx(u,p,S,j,y);case 1:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Ui(S,j),xN(u,p,S,j,y);case 3:e:{if(wN(p),u===null)throw Error(n(387));S=p.pendingProps,N=p.memoizedState,j=N.element,Ik(u,p),Up(p,S,null,y);var I=p.memoizedState;if(S=I.element,N.isDehydrated)if(N={element:S,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){j=ql(Error(n(423)),p),p=SN(u,p,S,y,j);break e}else if(S!==j){j=ql(Error(n(424)),p),p=SN(u,p,S,y,j);break e}else for(Hr=Na(p.stateNode.containerInfo.firstChild),Wr=p,Vt=!0,Bi=null,y=Dk(p,null,S,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling;else{if(Ul(),S===j){p=Hs(u,p,y);break e}gr(u,p,S,y)}p=p.child}return p;case 5:return $k(p),u===null&&Yb(p),S=p.type,j=p.pendingProps,N=u!==null?u.memoizedProps:null,I=j.children,Bb(S,j)?I=null:N!==null&&Bb(S,N)&&(p.flags|=32),bN(u,p),gr(u,p,I,y),p.child;case 6:return u===null&&Yb(p),null;case 13:return _N(u,p,y);case 4:return rx(p,p.stateNode.containerInfo),S=p.pendingProps,u===null?p.child=zl(p,null,S,y):gr(u,p,S,y),p.child;case 11:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Ui(S,j),mN(u,p,S,j,y);case 7:return gr(u,p,p.pendingProps,y),p.child;case 8:return gr(u,p,p.pendingProps.children,y),p.child;case 12:return gr(u,p,p.pendingProps.children,y),p.child;case 10:e:{if(S=p.type._context,j=p.pendingProps,N=p.memoizedProps,I=j.value,Rt(Fp,S._currentValue),S._currentValue=I,N!==null)if($i(N.value,I)){if(N.children===j.children&&!jr.current){p=Hs(u,p,y);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var q=N.dependencies;if(q!==null){I=N.child;for(var Y=q.firstContext;Y!==null;){if(Y.context===S){if(N.tag===1){Y=Ws(-1,y&-y),Y.tag=2;var ne=N.updateQueue;if(ne!==null){ne=ne.shared;var de=ne.pending;de===null?Y.next=Y:(Y.next=de.next,de.next=Y),ne.pending=Y}}N.lanes|=y,Y=N.alternate,Y!==null&&(Y.lanes|=y),ex(N.return,y,p),q.lanes|=y;break}Y=Y.next}}else if(N.tag===10)I=N.type===p.type?null:N.child;else if(N.tag===18){if(I=N.return,I===null)throw Error(n(341));I.lanes|=y,q=I.alternate,q!==null&&(q.lanes|=y),ex(I,y,p),I=N.sibling}else I=N.child;if(I!==null)I.return=N;else for(I=N;I!==null;){if(I===p){I=null;break}if(N=I.sibling,N!==null){N.return=I.return,I=N;break}I=I.return}N=I}gr(u,p,j.children,y),p=p.child}return p;case 9:return j=p.type,S=p.pendingProps.children,Wl(p,y),j=hi(j),S=S(j),p.flags|=1,gr(u,p,S,y),p.child;case 14:return S=p.type,j=Ui(S,p.pendingProps),j=Ui(S.type,j),gN(u,p,S,j,y);case 15:return vN(u,p,p.type,p.pendingProps,y);case 17:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Ui(S,j),Xp(u,p),p.tag=1,Tr(S)?(u=!0,Op(p)):u=!1,Wl(p,y),lN(p,S,j),gx(p,S,j,y),xx(null,p,S,!0,u,y);case 19:return CN(u,p,y);case 22:return yN(u,p,y)}throw Error(n(156,p.tag))};function YN(u,p){return jT(u,p)}function KG(u,p,y,S){this.tag=u,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mi(u,p,y,S){return new KG(u,p,y,S)}function Bx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function YG(u){if(typeof u=="function")return Bx(u)?1:0;if(u!=null){if(u=u.$$typeof,u===R)return 11;if(u===G)return 14}return 2}function za(u,p){var y=u.alternate;return y===null?(y=mi(u.tag,p,u.key,u.mode),y.elementType=u.elementType,y.type=u.type,y.stateNode=u.stateNode,y.alternate=u,u.alternate=y):(y.pendingProps=p,y.type=u.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=u.flags&14680064,y.childLanes=u.childLanes,y.lanes=u.lanes,y.child=u.child,y.memoizedProps=u.memoizedProps,y.memoizedState=u.memoizedState,y.updateQueue=u.updateQueue,p=u.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=u.sibling,y.index=u.index,y.ref=u.ref,y}function om(u,p,y,S,j,N){var I=2;if(S=u,typeof u=="function")Bx(u)&&(I=1);else if(typeof u=="string")I=5;else e:switch(u){case k:return Mo(y.children,j,N,p);case O:I=8,j|=8;break;case D:return u=mi(12,y,p,j|2),u.elementType=D,u.lanes=N,u;case $:return u=mi(13,y,p,j),u.elementType=$,u.lanes=N,u;case H:return u=mi(19,y,p,j),u.elementType=H,u.lanes=N,u;case B:return lm(y,j,N,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case F:I=10;break e;case M:I=9;break e;case R:I=11;break e;case G:I=14;break e;case V:I=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return p=mi(I,y,p,j),p.elementType=u,p.type=S,p.lanes=N,p}function Mo(u,p,y,S){return u=mi(7,u,S,p),u.lanes=y,u}function lm(u,p,y,S){return u=mi(22,u,S,p),u.elementType=B,u.lanes=y,u.stateNode={isHidden:!1},u}function Ux(u,p,y){return u=mi(6,u,null,p),u.lanes=y,u}function zx(u,p,y){return p=mi(4,u.children!==null?u.children:[],u.key,p),p.lanes=y,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function XG(u,p,y,S,j){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mb(0),this.expirationTimes=mb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mb(0),this.identifierPrefix=S,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Vx(u,p,y,S,j,N,I,q,Y){return u=new XG(u,p,y,q,Y),p===1?(p=1,N===!0&&(p|=8)):p=0,N=mi(3,null,null,p),u.current=N,N.stateNode=u,N.memoizedState={element:S,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},nx(N),u}function QG(u,p,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:S==null?null:""+S,children:u,containerInfo:p,implementation:y}}function XN(u){if(!u)return Ma;u=u._reactInternals;e:{if(wo(u)!==u||u.tag!==1)throw Error(n(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Tr(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(u.tag===1){var y=u.type;if(Tr(y))return Ak(u,y,p)}return p}function QN(u,p,y,S,j,N,I,q,Y){return u=Vx(y,S,!0,u,j,N,I,q,Y),u.context=XN(null),y=u.current,S=vr(),j=Ba(y),N=Ws(S,j),N.callback=p??null,Ia(y,N,j),u.current.lanes=j,Ku(u,j,S),Or(u,S),u}function cm(u,p,y,S){var j=p.current,N=vr(),I=Ba(j);return y=XN(y),p.context===null?p.context=y:p.pendingContext=y,p=Ws(N,I),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=Ia(j,p,I),u!==null&&(Wi(u,j,I,N),Bp(u,j,I)),I}function um(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function ZN(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var y=u.retryLane;u.retryLane=y!==0&&y<p?y:p}}function Wx(u,p){ZN(u,p),(u=u.alternate)&&ZN(u,p)}function ZG(){return null}var JN=typeof reportError=="function"?reportError:function(u){console.error(u)};function Hx(u){this._internalRoot=u}dm.prototype.render=Hx.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(n(409));cm(u,p,null,null)},dm.prototype.unmount=Hx.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;ko(function(){cm(null,u,null,null)}),p[$s]=null}};function dm(u){this._internalRoot=u}dm.prototype.unstable_scheduleHydration=function(u){if(u){var p=IT();u={blockedOn:null,target:u,priority:p};for(var y=0;y<ja.length&&p!==0&&p<ja[y].priority;y++);ja.splice(y,0,u),y===0&&$T(u)}};function qx(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function hm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function eO(){}function JG(u,p,y,S,j){if(j){if(typeof S=="function"){var N=S;S=function(){var ne=um(I);N.call(ne)}}var I=QN(p,S,u,0,null,!1,!1,"",eO);return u._reactRootContainer=I,u[$s]=I.current,ld(u.nodeType===8?u.parentNode:u),ko(),I}for(;j=u.lastChild;)u.removeChild(j);if(typeof S=="function"){var q=S;S=function(){var ne=um(Y);q.call(ne)}}var Y=Vx(u,0,!1,null,null,!1,!1,"",eO);return u._reactRootContainer=Y,u[$s]=Y.current,ld(u.nodeType===8?u.parentNode:u),ko(function(){cm(p,Y,y,S)}),Y}function fm(u,p,y,S,j){var N=y._reactRootContainer;if(N){var I=N;if(typeof j=="function"){var q=j;j=function(){var Y=um(I);q.call(Y)}}cm(p,I,u,j)}else I=JG(y,p,u,j,S);return um(I)}DT=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var y=Gu(p.pendingLanes);y!==0&&(gb(p,y|1),Or(p,cn()),(ht&6)===0&&(Yl=cn()+500,Da()))}break;case 13:ko(function(){var S=Vs(u,1);if(S!==null){var j=vr();Wi(S,u,1,j)}}),Wx(u,1)}},vb=function(u){if(u.tag===13){var p=Vs(u,134217728);if(p!==null){var y=vr();Wi(p,u,134217728,y)}Wx(u,134217728)}},RT=function(u){if(u.tag===13){var p=Ba(u),y=Vs(u,p);if(y!==null){var S=vr();Wi(y,u,p,S)}Wx(u,p)}},IT=function(){return Ct},LT=function(u,p){var y=Ct;try{return Ct=u,p()}finally{Ct=y}},Wu=function(u,p,y){switch(p){case"input":if(ft(u,y),p=y.name,y.type==="radio"&&p!=null){for(y=u;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<y.length;p++){var S=y[p];if(S!==u&&S.form===u.form){var j=kp(S);if(!j)throw Error(n(90));re(S),ft(S,j)}}}break;case"textarea":Er(u,y);break;case"select":p=y.value,p!=null&&kt(u,!!y.multiple,p,!1)}},_n=Lx,or=ko;var e9={usingClientEntryPoint:!1,Events:[dd,Il,kp,Ye,ln,Lx]},Cd={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t9={bundleType:Cd.bundleType,version:Cd.version,rendererPackageName:Cd.rendererPackageName,rendererConfig:Cd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=PT(u),u===null?null:u.stateNode},findFiberByHostInstance:Cd.findFiberByHostInstance||ZG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pm.isDisabled&&pm.supportsFiber)try{dp=pm.inject(t9),ss=pm}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e9,Mr.createPortal=function(u,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qx(p))throw Error(n(200));return QG(u,p,null,y)},Mr.createRoot=function(u,p){if(!qx(u))throw Error(n(299));var y=!1,S="",j=JN;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onRecoverableError!==void 0&&(j=p.onRecoverableError)),p=Vx(u,1,!1,null,null,y,!1,S,j),u[$s]=p.current,ld(u.nodeType===8?u.parentNode:u),new Hx(p)},Mr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=PT(p),u=u===null?null:u.stateNode,u},Mr.flushSync=function(u){return ko(u)},Mr.hydrate=function(u,p,y){if(!hm(p))throw Error(n(200));return fm(null,u,p,!0,y)},Mr.hydrateRoot=function(u,p,y){if(!qx(u))throw Error(n(405));var S=y!=null&&y.hydratedSources||null,j=!1,N="",I=JN;if(y!=null&&(y.unstable_strictMode===!0&&(j=!0),y.identifierPrefix!==void 0&&(N=y.identifierPrefix),y.onRecoverableError!==void 0&&(I=y.onRecoverableError)),p=QN(p,null,u,1,y??null,j,!1,N,I),u[$s]=p.current,ld(u),S)for(u=0;u<S.length;u++)y=S[u],j=y._getVersion,j=j(y._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[y,j]:p.mutableSourceEagerHydrationData.push(y,j);return new dm(p)},Mr.render=function(u,p,y){if(!hm(p))throw Error(n(200));return fm(null,u,p,!1,y)},Mr.unmountComponentAtNode=function(u){if(!hm(u))throw Error(n(40));return u._reactRootContainer?(ko(function(){fm(null,null,u,!1,function(){u._reactRootContainer=null,u[$s]=null})}),!0):!1},Mr.unstable_batchedUpdates=Lx,Mr.unstable_renderSubtreeIntoContainer=function(u,p,y,S){if(!hm(y))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return fm(u,p,y,!1,S)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var lO;function l3(){if(lO)return Yx.exports;lO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Yx.exports=c9(),Yx.exports}var cO;function u9(){if(cO)return gm;cO=1;var t=l3();return gm.createRoot=t.createRoot,gm.hydrateRoot=t.hydrateRoot,gm}var d9=u9(),C=Fv();const z=At(C),AP=r9({__proto__:null,default:z},[C]),h9="KharchaPalDB",uO=4;class f9{db=null;async init(){return new Promise((e,n)=>{const r=indexedDB.open(h9,uO);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const s=i.target.result,a=i.oldVersion;if(console.log(`Upgrading database from version ${a} to ${uO}`),s.objectStoreNames.contains("users")||s.createObjectStore("users",{keyPath:"id"}),s.objectStoreNames.contains("families")||s.createObjectStore("families",{keyPath:"id"}),!s.objectStoreNames.contains("expenses")){const o=s.createObjectStore("expenses",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("income")){const o=s.createObjectStore("income",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("debts")){const o=s.createObjectStore("debts",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("status","status",{unique:!1})}s.objectStoreNames.contains("budgets")||s.createObjectStore("budgets",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("accounts")||s.createObjectStore("accounts",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goals")||s.createObjectStore("goals",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goal_transfers")||s.createObjectStore("goal_transfers",{keyPath:"id"}).createIndex("goal_id","goal_id",{unique:!1}),s.objectStoreNames.contains("syncQueue")||s.createObjectStore("syncQueue",{keyPath:"id"}).createIndex("status","status",{unique:!1}),s.objectStoreNames.contains("custom_categories")||s.createObjectStore("custom_categories",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("recurring_transactions")||s.createObjectStore("recurring_transactions",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1})}})}getStore(e,n="readonly"){if(!this.db)throw new Error("Database not initialized");return this.db.transaction(e,n).objectStore(e)}async add(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.add(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async put(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.put(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async get(e,n){const r=this.getStore(e);return new Promise((i,s)=>{const a=r.get(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async getAll(e){const n=this.getStore(e);return new Promise((r,i)=>{const s=n.getAll();s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async getAllByIndex(e,n,r){const s=this.getStore(e).index(n);return new Promise((a,o)=>{const l=s.getAll(r);l.onsuccess=()=>a(l.result),l.onerror=()=>o(l.error)})}async delete(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.delete(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async clear(e){const n=this.getStore(e,"readwrite");return new Promise((r,i)=>{const s=n.clear();s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async addUser(e){return this.add("users",e)}async getUser(e){return this.get("users",e)}async getAllUsers(){return this.getAll("users")}async updateUser(e){return this.put("users",e)}async addFamily(e){return this.add("families",e)}async getFamily(e){return this.get("families",e)}async addExpense(e){return this.add("expenses",e)}async updateExpense(e){return this.put("expenses",e)}async getExpensesByFamily(e){return this.getAllByIndex("expenses","family_id",e)}async addIncome(e){return this.add("income",e)}async updateIncome(e){return this.put("income",e)}async getIncomeByFamily(e){return this.getAllByIndex("income","family_id",e)}async addDebt(e){return this.add("debts",e)}async updateDebt(e){return this.put("debts",e)}async getDebtsByFamily(e){return this.getAllByIndex("debts","family_id",e)}async addBudget(e){return this.add("budgets",e)}async updateBudget(e){return this.put("budgets",e)}async getBudgetsByFamily(e){return this.getAllByIndex("budgets","family_id",e)}async addAccount(e){return this.add("accounts",e)}async updateAccount(e){return this.put("accounts",e)}async getAccountsByFamily(e){return this.getAllByIndex("accounts","family_id",e)}async addGoal(e){return this.add("goals",e)}async updateGoal(e){return this.put("goals",e)}async getGoalsByFamily(e){return this.getAllByIndex("goals","family_id",e)}async addGoalTransfer(e){return this.add("goal_transfers",e)}async getGoalTransfersByFamily(e){const n=await this.getAll("goal_transfers"),r=await this.getGoalsByFamily(e),i=new Set(r.map(s=>s.id));return n.filter(s=>i.has(s.goal_id))}async addSyncItem(e){return this.add("syncQueue",e)}async getPendingSyncItems(){return this.getAllByIndex("syncQueue","status","pending")}async addCustomCategory(e){return this.add("custom_categories",e)}async getCustomCategoriesByFamily(e){return this.getAllByIndex("custom_categories","family_id",e)}async deleteCustomCategory(e){return this.delete("custom_categories",e)}async addRecurringTransaction(e){return this.add("recurring_transactions",e)}async updateRecurringTransaction(e){return this.put("recurring_transactions",e)}async getRecurringTransactionsByFamily(e){return this.getAllByIndex("recurring_transactions","family_id",e)}async deleteRecurringTransaction(e){return this.delete("recurring_transactions",e)}}const st=new f9,c3=C.createContext(void 0);function p9({children:t}){const[e,n]=C.useState({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!0});C.useEffect(()=>{(async()=>{try{console.log("Initializing KharchaPal..."),await st.init(),console.log("Database initialized successfully");const R=localStorage.getItem("currentUserId"),$=localStorage.getItem("currentFamilyId");if(R&&$){console.log("Attempting to restore session...");const H=await st.getUser(R),G=await st.getFamily($);H&&G?(console.log("Session restored successfully"),n(V=>({...V,currentUser:H,currentFamily:G})),await r($)):(console.log("Session data not found, clearing localStorage"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"))}else console.log("No saved session found")}catch(R){if(console.error("Failed to initialize app:",R),R instanceof Error&&R.name==="InvalidStateError"){console.log("Attempting to recover from database error...");try{indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),console.log("Database reset. Please refresh the page.")}catch($){console.error("Failed to reset database:",$)}}}finally{n(R=>({...R,isLoading:!1}))}})()},[]);const r=async M=>{try{const[R,$,H,G,V,B,L,W,X,U]=await Promise.all([st.getAllUsers(),st.getExpensesByFamily(M),st.getIncomeByFamily(M),st.getDebtsByFamily(M),st.getBudgetsByFamily(M),st.getAccountsByFamily(M),st.getGoalsByFamily?.(M)??Promise.resolve([]),st.getGoalTransfersByFamily?.(M)??Promise.resolve([]),st.getCustomCategoriesByFamily(M),st.getRecurringTransactionsByFamily(M)]);n(K=>({...K,users:R.filter(Z=>Z.family_id===M),expenses:$.sort((Z,se)=>new Date(se.date).getTime()-new Date(Z.date).getTime()),income:H.sort((Z,se)=>new Date(se.date).getTime()-new Date(Z.date).getTime()),debts:G,budgets:V,accounts:B,goals:L.sort((Z,se)=>new Date(se.created_at).getTime()-new Date(Z.created_at).getTime()),goalTransfers:W,customCategories:X,recurringTransactions:U}))}catch(R){console.error("Failed to load family data:",R)}},i=M=>{n(R=>({...R,currentUser:M})),M?localStorage.setItem("currentUserId",M.id):localStorage.removeItem("currentUserId")},s=M=>{n(R=>({...R,currentFamily:M})),M?localStorage.setItem("currentFamilyId",M.id):localStorage.removeItem("currentFamilyId")},a=async()=>{e.currentFamily&&await r(e.currentFamily.id)},o=async M=>{await st.addExpense(M);const R=[...e.accounts];for(const $ of M.payment_lines)if($.account_id){const H=e.accounts.findIndex(G=>G.id===$.account_id);if(H!==-1){const G=e.accounts[H];R[H]={...G,current_balance:G.current_balance-$.amount,updated_at:new Date().toISOString()},await st.updateAccount(R[H])}}n($=>({...$,expenses:[M,...$.expenses],accounts:R}))},l=async M=>{await st.updateExpense(M),n(R=>({...R,expenses:R.expenses.map($=>$.id===M.id?M:$)}))},c=async M=>{await st.addIncome(M),n(R=>({...R,income:[M,...R.income]}))},h=async M=>{await st.updateIncome(M),n(R=>({...R,income:R.income.map($=>$.id===M.id?M:$)}))},d=async M=>{await st.addDebt(M),n(R=>({...R,debts:[...R.debts,M]}))},m=async M=>{await st.updateDebt(M),n(R=>({...R,debts:R.debts.map($=>$.id===M.id?M:$)}))},g=async M=>{await st.addBudget(M),n(R=>({...R,budgets:[...R.budgets,M]}))},x=async M=>{await st.updateBudget(M),n(R=>({...R,budgets:R.budgets.map($=>$.id===M.id?M:$)}))},v=async M=>{await st.addUser(M),n(R=>({...R,users:[...R.users,M]}))},b=async M=>{await st.addAccount(M),n(R=>({...R,accounts:[...R.accounts,M]}))},w=async M=>{await st.updateAccount(M),n(R=>({...R,accounts:R.accounts.map($=>$.id===M.id?M:$)}))},_=async M=>{await st.addGoal?.(M),n(R=>({...R,goals:[...R.goals,M]}))},A=async M=>{await st.updateGoal?.(M),n(R=>({...R,goals:R.goals.map($=>$.id===M.id?M:$)}))},T=async M=>{if(await st.addGoalTransfer?.(M),M.contributed_by&&e.currentFamily&&e.currentUser){const R={id:`goal-${M.id}`,family_id:e.currentFamily.id,created_by:M.contributed_by,total_amount:M.amount,currency:"INR",category:"goal",date:M.transfer_date,notes:`Goal contribution: ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`,payment_lines:[{id:`payment-${M.id}`,method:M.transfer_method,amount:M.amount,payer_user_id:M.contributed_by,account_id:M.from_account_id,meta:{note:`Goal transfer to ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`}}],attachments:[],is_shared:!0,sync_status:"synced",created_at:M.created_at,updated_at:M.created_at};await st.addExpense(R),n($=>({...$,expenses:[R,...$.expenses],goalTransfers:[...$.goalTransfers,M]}))}else n(R=>({...R,goalTransfers:[...R.goalTransfers,M]}))},P=async M=>{await st.addCustomCategory(M),n(R=>({...R,customCategories:[...R.customCategories,M]}))},E=async M=>{await st.deleteCustomCategory(M),n(R=>({...R,customCategories:R.customCategories.filter($=>$.id!==M)}))},k=async M=>{await st.addRecurringTransaction(M),n(R=>({...R,recurringTransactions:[...R.recurringTransactions,M]}))},O=async M=>{await st.updateRecurringTransaction(M),n(R=>({...R,recurringTransactions:R.recurringTransactions.map($=>$.id===M.id?M:$)}))},D=async M=>{await st.deleteRecurringTransaction(M),n(R=>({...R,recurringTransactions:R.recurringTransactions.filter($=>$.id!==M)}))},F=()=>{localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"),n({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!1})};return f.jsx(c3.Provider,{value:{...e,setCurrentUser:i,setCurrentFamily:s,loadFamilyData:a,addExpense:o,updateExpense:l,addIncome:c,updateIncome:h,addDebt:d,updateDebt:m,addBudget:g,updateBudget:x,addAccount:b,updateAccount:w,addGoal:_,updateGoal:A,addGoalTransfer:T,addUser:v,updateUser:async M=>{await st.updateUser(M),n(R=>({...R,users:R.users.map($=>$.id===M.id?M:$),currentUser:R.currentUser?.id===M.id?M:R.currentUser}))},addCustomCategory:P,deleteCustomCategory:E,addRecurringTransaction:k,updateRecurringTransaction:O,deleteRecurringTransaction:D,logout:F},children:t})}function ot(){const t=C.useContext(c3);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}function dO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Os(...t){return e=>{let n=!1;const r=t.map(i=>{const s=dO(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():dO(t[i],null)}}}}function et(...t){return C.useCallback(Os(...t),t)}var m9=Symbol.for("react.lazy"),ug=AP[" use ".trim().toString()];function g9(t){return typeof t=="object"&&t!==null&&"then"in t}function u3(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===m9&&"_payload"in t&&g9(t._payload)}function _f(t){const e=v9(t),n=C.forwardRef((r,i)=>{let{children:s,...a}=r;u3(s)&&typeof ug=="function"&&(s=ug(s._payload));const o=C.Children.toArray(s),l=o.find(b9);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var d3=_f("Slot");function v9(t){const e=C.forwardRef((n,r)=>{let{children:i,...s}=n;if(u3(i)&&typeof ug=="function"&&(i=ug(i._payload)),C.isValidElement(i)){const a=w9(i),o=x9(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var y9=Symbol("radix.slottable");function b9(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===y9}function x9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function w9(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function h3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=h3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Je(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=h3(t))&&(r&&(r+=" "),r+=e);return r}const hO=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,fO=Je,CP=(t,e)=>n=>{var r;if(e?.variants==null)return fO(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const h=n?.[c],d=s?.[c];if(h===null)return null;const m=hO(h)||hO(d);return i[c][m]}),o=n&&Object.entries(n).reduce((c,h)=>{let[d,m]=h;return m===void 0||(c[d]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:d,className:m,...g}=h;return Object.entries(g).every(x=>{let[v,b]=x;return Array.isArray(b)?b.includes({...s,...o}[v]):{...s,...o}[v]===b})?[...c,d,m]:c},[]);return fO(t,a,l,n?.class,n?.className)},S9=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},_9=(t,e)=>({classGroupId:t,validator:e}),f3=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),dg="-",pO=[],A9="arbitrary..",C9=t=>{const e=E9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return P9(a);const o=a.split(dg),l=o[0]===""&&o.length>1?1:0;return p3(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=r[a],c=n[a];return l?c?S9(c,l):l:c||pO}return n[a]||pO}}},p3=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=p3(t,e+1,s);if(c)return c}const a=n.validators;if(a===null)return;const o=e===0?t.join(dg):t.slice(e).join(dg),l=a.length;for(let c=0;c<l;c++){const h=a[c];if(h.validator(o))return h.classGroupId}},P9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?A9+r:void 0})(),E9=t=>{const{theme:e,classGroups:n}=t;return j9(n,e)},j9=(t,e)=>{const n=f3();for(const r in t){const i=t[r];PP(i,n,r,e)}return n},PP=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];T9(a,e,n,r)}},T9=(t,e,n,r)=>{if(typeof t=="string"){k9(t,e,n);return}if(typeof t=="function"){N9(t,e,n,r);return}O9(t,e,n,r)},k9=(t,e,n)=>{const r=t===""?e:m3(e,t);r.classGroupId=n},N9=(t,e,n,r)=>{if(M9(t)){PP(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(_9(n,t))},O9=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];PP(l,m3(e,o),n,r)}},m3=(t,e)=>{let n=t;const r=e.split(dg),i=r.length;for(let s=0;s<i;s++){const a=r[s];let o=n.nextPart.get(a);o||(o=f3(),n.nextPart.set(a,o)),n=o}return n},M9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,D9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},Z_="!",mO=":",R9=[],gO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),I9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;const h=i.length;for(let v=0;v<h;v++){const b=i[v];if(a===0&&o===0){if(b===mO){s.push(i.slice(l,v)),l=v+1;continue}if(b==="/"){c=v;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const d=s.length===0?i:i.slice(l);let m=d,g=!1;d.endsWith(Z_)?(m=d.slice(0,-1),g=!0):d.startsWith(Z_)&&(m=d.slice(1),g=!0);const x=c&&c>l?c-l:void 0;return gO(s,g,m,x)};if(e){const i=e+mO,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):gO(R9,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},L9=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},F9=t=>({cache:D9(t.cacheSize),parseClassName:I9(t),sortModifiers:L9(t),...C9(t)}),$9=/\s+/,B9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split($9);let l="";for(let c=o.length-1;c>=0;c-=1){const h=o[c],{isExternal:d,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:v}=n(h);if(d){l=h+(l.length>0?" "+l:l);continue}let b=!!v,w=r(b?x.substring(0,v):x);if(!w){if(!b){l=h+(l.length>0?" "+l:l);continue}if(w=r(x),!w){l=h+(l.length>0?" "+l:l);continue}b=!1}const _=m.length===0?"":m.length===1?m[0]:s(m).join(":"),A=g?_+Z_:_,T=A+w;if(a.indexOf(T)>-1)continue;a.push(T);const P=i(w,b);for(let E=0;E<P.length;++E){const k=P[E];a.push(A+k)}l=h+(l.length>0?" "+l:l)}return l},U9=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=g3(n))&&(i&&(i+=" "),i+=r);return i},g3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=g3(t[r]))&&(n&&(n+=" "),n+=e);return n},z9=(t,...e)=>{let n,r,i,s;const a=l=>{const c=e.reduce((h,d)=>d(h),t());return n=F9(c),r=n.cache.get,i=n.cache.set,s=o,o(l)},o=l=>{const c=r(l);if(c)return c;const h=B9(l,n);return i(l,h),h};return s=a,(...l)=>s(U9(...l))},V9=[],Pn=t=>{const e=n=>n[t]||V9;return e.isThemeGetter=!0,e},v3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,y3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,W9=/^\d+\/\d+$/,H9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,q9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,G9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,K9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Y9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ql=t=>W9.test(t),it=t=>!!t&&!Number.isNaN(Number(t)),Wa=t=>!!t&&Number.isInteger(Number(t)),Zx=t=>t.endsWith("%")&&it(t.slice(0,-1)),Gs=t=>H9.test(t),X9=()=>!0,Q9=t=>q9.test(t)&&!G9.test(t),b3=()=>!1,Z9=t=>K9.test(t),J9=t=>Y9.test(t),e7=t=>!je(t)&&!Te(t),t7=t=>xu(t,S3,b3),je=t=>v3.test(t),Do=t=>xu(t,_3,Q9),Jx=t=>xu(t,a7,it),vO=t=>xu(t,x3,b3),n7=t=>xu(t,w3,J9),vm=t=>xu(t,A3,Z9),Te=t=>y3.test(t),Ed=t=>wu(t,_3),r7=t=>wu(t,o7),yO=t=>wu(t,x3),i7=t=>wu(t,S3),s7=t=>wu(t,w3),ym=t=>wu(t,A3,!0),xu=(t,e,n)=>{const r=v3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},wu=(t,e,n=!1)=>{const r=y3.exec(t);return r?r[1]?e(r[1]):n:!1},x3=t=>t==="position"||t==="percentage",w3=t=>t==="image"||t==="url",S3=t=>t==="length"||t==="size"||t==="bg-size",_3=t=>t==="length",a7=t=>t==="number",o7=t=>t==="family-name",A3=t=>t==="shadow",l7=()=>{const t=Pn("color"),e=Pn("font"),n=Pn("text"),r=Pn("font-weight"),i=Pn("tracking"),s=Pn("leading"),a=Pn("breakpoint"),o=Pn("container"),l=Pn("spacing"),c=Pn("radius"),h=Pn("shadow"),d=Pn("inset-shadow"),m=Pn("text-shadow"),g=Pn("drop-shadow"),x=Pn("blur"),v=Pn("perspective"),b=Pn("aspect"),w=Pn("ease"),_=Pn("animate"),A=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...T(),Te,je],E=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[Te,je,l],D=()=>[Ql,"full","auto",...O()],F=()=>[Wa,"none","subgrid",Te,je],M=()=>["auto",{span:["full",Wa,Te,je]},Wa,Te,je],R=()=>[Wa,"auto",Te,je],$=()=>["auto","min","max","fr",Te,je],H=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],G=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],B=()=>[Ql,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],L=()=>[t,Te,je],W=()=>[...T(),yO,vO,{position:[Te,je]}],X=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",i7,t7,{size:[Te,je]}],K=()=>[Zx,Ed,Do],Z=()=>["","none","full",c,Te,je],se=()=>["",it,Ed,Do],oe=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[it,Zx,yO,vO],le=()=>["","none",x,Te,je],ie=()=>["none",it,Te,je],he=()=>["none",it,Te,je],ve=()=>[it,Te,je],re=()=>[Ql,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[X9],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[e7],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",it],text:[Gs],"text-shadow":[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ql,je,Te,b]}],container:["container"],columns:[{columns:[it,je,Te,o]}],"break-after":[{"break-after":A()}],"break-before":[{"break-before":A()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[Wa,"auto",Te,je]}],basis:[{basis:[Ql,"full","auto",o,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[it,Ql,"auto","initial","none",je]}],grow:[{grow:["",it,Te,je]}],shrink:[{shrink:["",it,Te,je]}],order:[{order:[Wa,"first","last","none",Te,je]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...H(),"normal"]}],"justify-items":[{"justify-items":[...G(),"normal"]}],"justify-self":[{"justify-self":["auto",...G()]}],"align-content":[{content:["normal",...H()]}],"align-items":[{items:[...G(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...G(),{baseline:["","last"]}]}],"place-content":[{"place-content":H()}],"place-items":[{"place-items":[...G(),"baseline"]}],"place-self":[{"place-self":["auto",...G()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[o,"screen",...B()]}],"min-w":[{"min-w":[o,"screen","none",...B()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",n,Ed,Do]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Te,Jx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zx,je]}],"font-family":[{font:[r7,je,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Te,je]}],"line-clamp":[{"line-clamp":[it,"none",Te,Jx]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Te,je]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Te,je]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[it,"from-font","auto",Te,Do]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[it,"auto",Te,je]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Te,je]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Te,je]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:W()}],"bg-repeat":[{bg:X()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Wa,Te,je],radial:["",Te,je],conic:[Wa,Te,je]},s7,n7]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:se()}],"border-w-x":[{"border-x":se()}],"border-w-y":[{"border-y":se()}],"border-w-s":[{"border-s":se()}],"border-w-e":[{"border-e":se()}],"border-w-t":[{"border-t":se()}],"border-w-r":[{"border-r":se()}],"border-w-b":[{"border-b":se()}],"border-w-l":[{"border-l":se()}],"divide-x":[{"divide-x":se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[it,Te,je]}],"outline-w":[{outline:["",it,Ed,Do]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",h,ym,vm]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",d,ym,vm]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[it,Do]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":se()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,ym,vm]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[it,Te,je]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[it]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Te,je]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[it]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:W()}],"mask-repeat":[{mask:X()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Te,je]}],filter:[{filter:["","none",Te,je]}],blur:[{blur:le()}],brightness:[{brightness:[it,Te,je]}],contrast:[{contrast:[it,Te,je]}],"drop-shadow":[{"drop-shadow":["","none",g,ym,vm]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",it,Te,je]}],"hue-rotate":[{"hue-rotate":[it,Te,je]}],invert:[{invert:["",it,Te,je]}],saturate:[{saturate:[it,Te,je]}],sepia:[{sepia:["",it,Te,je]}],"backdrop-filter":[{"backdrop-filter":["","none",Te,je]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[it,Te,je]}],"backdrop-contrast":[{"backdrop-contrast":[it,Te,je]}],"backdrop-grayscale":[{"backdrop-grayscale":["",it,Te,je]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[it,Te,je]}],"backdrop-invert":[{"backdrop-invert":["",it,Te,je]}],"backdrop-opacity":[{"backdrop-opacity":[it,Te,je]}],"backdrop-saturate":[{"backdrop-saturate":[it,Te,je]}],"backdrop-sepia":[{"backdrop-sepia":["",it,Te,je]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Te,je]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[it,"initial",Te,je]}],ease:[{ease:["linear","initial",w,Te,je]}],delay:[{delay:[it,Te,je]}],animate:[{animate:["none",_,Te,je]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[v,Te,je]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:ie()}],"rotate-x":[{"rotate-x":ie()}],"rotate-y":[{"rotate-y":ie()}],"rotate-z":[{"rotate-z":ie()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ve()}],"skew-x":[{"skew-x":ve()}],"skew-y":[{"skew-y":ve()}],transform:[{transform:[Te,je,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:re()}],"translate-x":[{"translate-x":re()}],"translate-y":[{"translate-y":re()}],"translate-z":[{"translate-z":re()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Te,je]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Te,je]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[it,Ed,Do,Jx]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},c7=z9(l7);function Le(...t){return c7(Je(t))}const J_=CP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 elevation-1 hover:elevation-2",destructive:"bg-destructive text-white hover:bg-destructive/90 elevation-1 hover:elevation-2 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-2 border-outline bg-background text-foreground hover:bg-surface-variant/50 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary-container text-on-secondary-container hover:bg-secondary-container/80 elevation-1",ghost:"hover:bg-surface-variant/50 hover:text-on-surface dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2 has-[>svg]:px-4",sm:"h-9 rounded-lg gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-12 rounded-xl px-6 has-[>svg]:px-5",icon:"size-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),ue=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?d3:"button";return f.jsx(a,{"data-slot":"button",className:Le(J_({variant:e,size:n,className:t})),ref:s,...i})});ue.displayName="Button";function tt({className:t,...e}){return f.jsx("div",{"data-slot":"card",className:Le("bg-card text-card-foreground flex flex-col gap-6 rounded-2xl border border-outline-variant/30 transition-all duration-200",t),...e})}function Et({className:t,...e}){return f.jsx("div",{"data-slot":"card-header",className:Le("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function jt({className:t,...e}){return f.jsx("h4",{"data-slot":"card-title",className:Le("leading-none",t),...e})}function fn({className:t,...e}){return f.jsx("p",{"data-slot":"card-description",className:Le("text-muted-foreground",t),...e})}function _t({className:t,...e}){return f.jsx("div",{"data-slot":"card-content",className:Le("px-6 [&:last-child]:pb-6",t),...e})}const EP=C.createContext({});function jP(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const TP=typeof window<"u",C3=TP?C.useLayoutEffect:C.useEffect,$v=C.createContext(null);function kP(t,e){t.indexOf(e)===-1&&t.push(e)}function NP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const oa=(t,e,n)=>n>e?e:n<t?t:n;let OP=()=>{};const la={},P3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function E3(t){return typeof t=="object"&&t!==null}const j3=t=>/^0[^.\s]+$/u.test(t);function MP(t){let e;return()=>(e===void 0&&(e=t()),e)}const ji=t=>t,u7=(t,e)=>n=>e(t(n)),Af=(...t)=>t.reduce(u7),vh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class DP{constructor(){this.subscriptions=[]}add(e){return kP(this.subscriptions,e),()=>NP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ss=t=>t*1e3,Ci=t=>t/1e3;function T3(t,e){return e?t*(1e3/e):0}const k3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,d7=1e-7,h7=12;function f7(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=k3(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>d7&&++o<h7);return a}function Cf(t,e,n,r){if(t===e&&n===r)return ji;const i=s=>f7(s,0,1,t,n);return s=>s===0||s===1?s:k3(i(s),e,r)}const N3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,O3=t=>e=>1-t(1-e),M3=Cf(.33,1.53,.69,.99),RP=O3(M3),D3=N3(RP),R3=t=>(t*=2)<1?.5*RP(t):.5*(2-Math.pow(2,-10*(t-1))),IP=t=>1-Math.sin(Math.acos(t)),I3=O3(IP),L3=N3(IP),p7=Cf(.42,0,1,1),m7=Cf(0,0,.58,1),F3=Cf(.42,0,.58,1),g7=t=>Array.isArray(t)&&typeof t[0]!="number",$3=t=>Array.isArray(t)&&typeof t[0]=="number",v7={linear:ji,easeIn:p7,easeInOut:F3,easeOut:m7,circIn:IP,circInOut:L3,circOut:I3,backIn:RP,backInOut:D3,backOut:M3,anticipate:R3},y7=t=>typeof t=="string",bO=t=>{if($3(t)){OP(t.length===4);const[e,n,r,i]=t;return Cf(e,n,r,i)}else if(y7(t))return v7[t];return t},bm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function b7(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(h){a.has(h)&&(c.schedule(h),t()),h(o)}const c={schedule:(h,d=!1,m=!1)=>{const x=m&&i?n:r;return d&&a.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),a.delete(h)},process:h=>{if(o=h,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(h))}};return c}const x7=40;function B3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=bm.reduce((A,T)=>(A[T]=b7(s),A),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:h,update:d,preRender:m,render:g,postRender:x}=a,v=()=>{const A=la.useManualTiming?i.timestamp:performance.now();n=!1,la.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,x7),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),h.process(i),d.process(i),m.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},b=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:bm.reduce((A,T)=>{const P=a[T];return A[T]=(E,k=!1,O=!1)=>(n||b(),P.schedule(E,k,O)),A},{}),cancel:A=>{for(let T=0;T<bm.length;T++)a[bm[T]].cancel(A)},state:i,steps:a}}const{schedule:qt,cancel:no,state:nr,steps:e0}=B3(typeof requestAnimationFrame<"u"?requestAnimationFrame:ji,!0);let eg;function w7(){eg=void 0}const Lr={now:()=>(eg===void 0&&Lr.set(nr.isProcessing||la.useManualTiming?nr.timestamp:performance.now()),eg),set:t=>{eg=t,queueMicrotask(w7)}},U3=t=>e=>typeof e=="string"&&e.startsWith(t),LP=U3("--"),S7=U3("var(--"),FP=t=>S7(t)?_7.test(t.split("/*")[0].trim()):!1,_7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Su={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yh={...Su,transform:t=>oa(0,1,t)},xm={...Su,default:1},nh=t=>Math.round(t*1e5)/1e5,$P=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function A7(t){return t==null}const C7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,BP=(t,e)=>n=>!!(typeof n=="string"&&C7.test(n)&&n.startsWith(t)||e&&!A7(n)&&Object.prototype.hasOwnProperty.call(n,e)),z3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match($P);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},P7=t=>oa(0,255,t),t0={...Su,transform:t=>Math.round(P7(t))},Wo={test:BP("rgb","red"),parse:z3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+t0.transform(t)+", "+t0.transform(e)+", "+t0.transform(n)+", "+nh(yh.transform(r))+")"};function E7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const eA={test:BP("#"),parse:E7,transform:Wo.transform},Pf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ga=Pf("deg"),_s=Pf("%"),We=Pf("px"),j7=Pf("vh"),T7=Pf("vw"),xO={..._s,parse:t=>_s.parse(t)/100,transform:t=>_s.transform(t*100)},dc={test:BP("hsl","hue"),parse:z3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+_s.transform(nh(e))+", "+_s.transform(nh(n))+", "+nh(yh.transform(r))+")"},xn={test:t=>Wo.test(t)||eA.test(t)||dc.test(t),parse:t=>Wo.test(t)?Wo.parse(t):dc.test(t)?dc.parse(t):eA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Wo.transform(t):dc.transform(t),getAnimatableNone:t=>{const e=xn.parse(t);return e.alpha=0,xn.transform(e)}},k7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function N7(t){return isNaN(t)&&typeof t=="string"&&(t.match($P)?.length||0)+(t.match(k7)?.length||0)>0}const V3="number",W3="color",O7="var",M7="var(",wO="${}",D7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function bh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(D7,l=>(xn.test(l)?(r.color.push(s),i.push(W3),n.push(xn.parse(l))):l.startsWith(M7)?(r.var.push(s),i.push(O7),n.push(l)):(r.number.push(s),i.push(V3),n.push(parseFloat(l))),++s,wO)).split(wO);return{values:n,split:o,indexes:r,types:i}}function H3(t){return bh(t).values}function q3(t){const{split:e,types:n}=bh(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===V3?s+=nh(i[a]):o===W3?s+=xn.transform(i[a]):s+=i[a]}return s}}const R7=t=>typeof t=="number"?0:xn.test(t)?xn.getAnimatableNone(t):t;function I7(t){const e=H3(t);return q3(t)(e.map(R7))}const ro={test:N7,parse:H3,createTransformer:q3,getAnimatableNone:I7};function n0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function L7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=n0(l,o,t+1/3),s=n0(l,o,t),a=n0(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function hg(t,e){return n=>n>0?e:t}const Zt=(t,e,n)=>t+(e-t)*n,r0=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},F7=[eA,Wo,dc],$7=t=>F7.find(e=>e.test(t));function SO(t){const e=$7(t);if(!e)return!1;let n=e.parse(t);return e===dc&&(n=L7(n)),n}const _O=(t,e)=>{const n=SO(t),r=SO(e);if(!n||!r)return hg(t,e);const i={...n};return s=>(i.red=r0(n.red,r.red,s),i.green=r0(n.green,r.green,s),i.blue=r0(n.blue,r.blue,s),i.alpha=Zt(n.alpha,r.alpha,s),Wo.transform(i))},tA=new Set(["none","hidden"]);function B7(t,e){return tA.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function U7(t,e){return n=>Zt(t,e,n)}function UP(t){return typeof t=="number"?U7:typeof t=="string"?FP(t)?hg:xn.test(t)?_O:W7:Array.isArray(t)?G3:typeof t=="object"?xn.test(t)?_O:z7:hg}function G3(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>UP(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function z7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=UP(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function V7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const W7=(t,e)=>{const n=ro.createTransformer(e),r=bh(t),i=bh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tA.has(t)&&!i.values.length||tA.has(e)&&!r.values.length?B7(t,e):Af(G3(V7(r,i),i.values),n):hg(t,e)};function K3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Zt(t,e,n):UP(t)(t,e)}const H7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>qt.update(e,n),stop:()=>no(e),now:()=>nr.isProcessing?nr.timestamp:Lr.now()}},Y3=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},fg=2e4;function zP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<fg;)e+=n,r=t.next(e);return e>=fg?1/0:e}function q7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(zP(r),fg);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Ci(i)}}const G7=5;function X3(t,e,n){const r=Math.max(e-G7,0);return T3(n-t(r),e-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},i0=.001;function K7({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let i,s,a=1-e;a=oa(nn.minDamping,nn.maxDamping,a),t=oa(nn.minDuration,nn.maxDuration,Ci(t)),a<1?(i=c=>{const h=c*a,d=h*t,m=h-n,g=nA(c,a),x=Math.exp(-d);return i0-m/g*x},s=c=>{const d=c*a*t,m=d*n+n,g=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-d),v=nA(Math.pow(c,2),a);return(-i(c)+i0>0?-1:1)*((m-g)*x)/v}):(i=c=>{const h=Math.exp(-c*t),d=(c-n)*t+1;return-i0+h*d},s=c=>{const h=Math.exp(-c*t),d=(n-c)*(t*t);return h*d});const o=5/t,l=X7(i,s,o);if(t=Ss(t),isNaN(l))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const Y7=12;function X7(t,e,n){let r=n;for(let i=1;i<Y7;i++)r=r-t(r)/e(r);return r}function nA(t,e){return t*Math.sqrt(1-e*e)}const Q7=["duration","bounce"],Z7=["stiffness","damping","mass"];function AO(t,e){return e.some(n=>t[n]!==void 0)}function J7(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!AO(t,Z7)&&AO(t,Q7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*oa(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:nn.mass,stiffness:i,damping:s}}else{const n=K7(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function pg(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:d,velocity:m,isResolvedFromDuration:g}=J7({...n,velocity:-Ci(n.velocity||0)}),x=m||0,v=c/(2*Math.sqrt(l*h)),b=a-s,w=Ci(Math.sqrt(l/h)),_=Math.abs(b)<5;r||(r=_?nn.restSpeed.granular:nn.restSpeed.default),i||(i=_?nn.restDelta.granular:nn.restDelta.default);let A;if(v<1){const P=nA(w,v);A=E=>{const k=Math.exp(-v*w*E);return a-k*((x+v*w*b)/P*Math.sin(P*E)+b*Math.cos(P*E))}}else if(v===1)A=P=>a-Math.exp(-w*P)*(b+(x+w*b)*P);else{const P=w*Math.sqrt(v*v-1);A=E=>{const k=Math.exp(-v*w*E),O=Math.min(P*E,300);return a-k*((x+v*w*b)*Math.sinh(O)+P*b*Math.cosh(O))/P}}const T={calculatedDuration:g&&d||null,next:P=>{const E=A(P);if(g)o.done=P>=d;else{let k=P===0?x:0;v<1&&(k=P===0?Ss(x):X3(A,P,E));const O=Math.abs(k)<=r,D=Math.abs(a-E)<=i;o.done=O&&D}return o.value=o.done?a:E,o},toString:()=>{const P=Math.min(zP(T),fg),E=Y3(k=>T.next(P*k).value,P,30);return P+"ms "+E},toTransition:()=>{}};return T}pg.applyToOptions=t=>{const e=q7(t,100,pg);return t.ease=e.ease,t.duration=Ss(e.duration),t.type="keyframes",t};function rA({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:h}){const d=t[0],m={done:!1,value:d},g=O=>o!==void 0&&O<o||l!==void 0&&O>l,x=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let v=n*e;const b=d+v,w=a===void 0?b:a(b);w!==b&&(v=w-d);const _=O=>-v*Math.exp(-O/r),A=O=>w+_(O),T=O=>{const D=_(O),F=A(O);m.done=Math.abs(D)<=c,m.value=m.done?w:F};let P,E;const k=O=>{g(m.value)&&(P=O,E=pg({keyframes:[m.value,x(m.value)],velocity:X3(A,O,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return k(0),{calculatedDuration:null,next:O=>{let D=!1;return!E&&P===void 0&&(D=!0,T(O),k(O)),P!==void 0&&O>=P?E.next(O-P):(!D&&T(O),m)}}}function eK(t,e,n){const r=[],i=n||la.mix||K3,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||ji:e;o=Af(l,o)}r.push(o)}return r}function tK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(OP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=eK(e,r,i),l=o.length,c=h=>{if(a&&h<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(h<t[d+1]);d++);const m=vh(t[d],t[d+1],h);return o[d](m)};return n?h=>c(oa(t[0],t[s-1],h)):c}function nK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=vh(0,e,r);t.push(Zt(n,1,i))}}function rK(t){const e=[0];return nK(e,t.length-1),e}function iK(t,e){return t.map(n=>n*e)}function sK(t,e){return t.map(()=>e||F3).splice(0,t.length-1)}function rh({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=g7(r)?r.map(bO):bO(r),s={done:!1,value:e[0]},a=iK(n&&n.length===e.length?n:rK(e),t),o=tK(a,e,{ease:Array.isArray(i)?i:sK(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const aK=t=>t!==null;function VP(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(aK),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const oK={decay:rA,inertia:rA,tween:rh,keyframes:rh,spring:pg};function Q3(t){typeof t.type=="string"&&(t.type=oK[t.type])}class WP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const lK=t=>t/100;class HP extends WP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Lr.now()&&this.tick(Lr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Q3(e);const{type:n=rh,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||rh;l!==rh&&typeof o[0]!="number"&&(this.mixKeyframes=Af(lK,K3(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=zP(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:d,repeatType:m,repeatDelay:g,type:x,onUpdate:v,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,T=r;if(d){const O=Math.min(this.currentTime,i)/o;let D=Math.floor(O),F=O%1;!F&&O>=1&&(F=1),F===1&&D--,D=Math.min(D,d+1),!!(D%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/o)):m==="mirror"&&(T=a)),A=oa(0,1,F)*o}const P=_?{done:!1,value:h[0]}:T.next(A);s&&(P.value=s(P.value));let{done:E}=P;!_&&l!==null&&(E=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return k&&x!==rA&&(P.value=VP(h,this.options,b,this.speed)),v&&v(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return Ci(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(this.currentTime)}set time(e){e=Ss(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Lr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Ci(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=H7,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Lr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function cK(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Ho=t=>t*180/Math.PI,iA=t=>{const e=Ho(Math.atan2(t[1],t[0]));return sA(e)},uK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:iA,rotateZ:iA,skewX:t=>Ho(Math.atan(t[1])),skewY:t=>Ho(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sA=t=>(t=t%360,t<0&&(t+=360),t),CO=iA,PO=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),EO=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),dK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:PO,scaleY:EO,scale:t=>(PO(t)+EO(t))/2,rotateX:t=>sA(Ho(Math.atan2(t[6],t[5]))),rotateY:t=>sA(Ho(Math.atan2(-t[2],t[0]))),rotateZ:CO,rotate:CO,skewX:t=>Ho(Math.atan(t[4])),skewY:t=>Ho(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function aA(t){return t.includes("scale")?1:0}function oA(t,e){if(!t||t==="none")return aA(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=dK,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=uK,i=o}if(!i)return aA(e);const s=r[e],a=i[1].split(",").map(fK);return typeof s=="function"?s(a):a[s]}const hK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return oA(n,e)};function fK(t){return parseFloat(t.trim())}const _u=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Au=new Set(_u),jO=t=>t===Su||t===We,pK=new Set(["x","y","z"]),mK=_u.filter(t=>!pK.has(t));function gK(t){const e=[];return mK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Zo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>oA(e,"x"),y:(t,{transform:e})=>oA(e,"y")};Zo.translateX=Zo.x;Zo.translateY=Zo.y;const Jo=new Set;let lA=!1,cA=!1,uA=!1;function Z3(){if(cA){const t=Array.from(Jo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=gK(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}cA=!1,lA=!1,Jo.forEach(t=>t.complete(uA)),Jo.clear()}function J3(){Jo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(cA=!0)})}function vK(){uA=!0,J3(),Z3(),uA=!1}class qP{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Jo.add(this),lA||(lA=!0,qt.read(J3),qt.resolveKeyframes(Z3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}cK(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Jo.delete(this)}cancel(){this.state==="scheduled"&&(Jo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const yK=t=>t.startsWith("--");function bK(t,e,n){yK(e)?t.style.setProperty(e,n):t.style[e]=n}const xK=MP(()=>window.ScrollTimeline!==void 0),wK={};function SK(t,e){const n=MP(t);return()=>wK[e]??n()}const e4=SK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gd([0,.65,.55,1]),circOut:Gd([.55,0,1,.45]),backIn:Gd([.31,.01,.66,-.59]),backOut:Gd([.33,1.53,.69,.99])};function t4(t,e){if(t)return typeof t=="function"?e4()?Y3(t,e):"ease-out":$3(t)?Gd(t):Array.isArray(t)?t.map(n=>t4(n,e)||TO.easeOut):TO[t]}function _K(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const d=t4(o,i);Array.isArray(d)&&(h.easing=d);const m={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(h,m)}function n4(t){return typeof t=="function"&&"applyToOptions"in t}function AK({type:t,...e}){return n4(t)&&e4()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class CK extends WP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,OP(typeof e.type!="string");const c=AK(e);this.animation=_K(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const h=VP(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(h):bK(n,r,h),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ci(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ci(e)}get time(){return Ci(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ss(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&xK()?(this.animation.timeline=e,ji):n(this)}}const r4={anticipate:R3,backInOut:D3,circInOut:L3};function PK(t){return t in r4}function EK(t){typeof t.ease=="string"&&PK(t.ease)&&(t.ease=r4[t.ease])}const kO=10;class jK extends CK{constructor(e){EK(e),Q3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new HP({...a,autoplay:!1}),l=Ss(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-kO).value,o.sample(l).value,kO),o.stop()}}const NO=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ro.test(t)||t==="0")&&!t.startsWith("url("));function TK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function kK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=NO(i,e),o=NO(s,e);return!a||!o?!1:TK(t)||(n==="spring"||n4(n))&&r}function dA(t){t.duration=0,t.type="keyframes"}const NK=new Set(["opacity","clipPath","filter","transform"]),OK=MP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function MK(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return OK()&&n&&NK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const DK=40;class RK extends WP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:h,...d}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Lr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:h,...d},g=h?.KeyframeResolver||qP;this.keyframeResolver=new g(o,(x,v,b)=>this.onKeyframesResolved(x,v,m,!b),l,c,h),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Lr.now(),kK(e,s,a,o)||((la.instantAnimations||!l)&&h?.(VP(e,r,n)),e[0]=e[e.length-1],dA(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>DK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&MK(m)?new jK({...m,element:m.motionValue.owner.current}):new HP(m);g.finished.then(()=>this.notifyFinished()).catch(ji),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),vK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const IK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LK(t){const e=IK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function i4(t,e,n=1){const[r,i]=LK(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return P3(a)?parseFloat(a):a}return FP(i)?i4(i,e,n+1):i}function GP(t,e){return t?.[e]??t?.default??t}const s4=new Set(["width","height","top","left","right","bottom",..._u]),FK={test:t=>t==="auto",parse:t=>t},a4=t=>e=>e.test(t),o4=[Su,We,_s,Ga,T7,j7,FK],OO=t=>o4.find(a4(t));function $K(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||j3(t):!0}const BK=new Set(["brightness","contrast","saturate","opacity"]);function UK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($P)||[];if(!r)return t;const i=n.replace(r,"");let s=BK.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const zK=/\b([a-z-]*)\(.*?\)/gu,hA={...ro,getAnimatableNone:t=>{const e=t.match(zK);return e?e.map(UK).join(" "):t}},MO={...Su,transform:Math.round},VK={rotate:Ga,rotateX:Ga,rotateY:Ga,rotateZ:Ga,scale:xm,scaleX:xm,scaleY:xm,scaleZ:xm,skew:Ga,skewX:Ga,skewY:Ga,distance:We,translateX:We,translateY:We,translateZ:We,x:We,y:We,z:We,perspective:We,transformPerspective:We,opacity:yh,originX:xO,originY:xO,originZ:We},KP={borderWidth:We,borderTopWidth:We,borderRightWidth:We,borderBottomWidth:We,borderLeftWidth:We,borderRadius:We,radius:We,borderTopLeftRadius:We,borderTopRightRadius:We,borderBottomRightRadius:We,borderBottomLeftRadius:We,width:We,maxWidth:We,height:We,maxHeight:We,top:We,right:We,bottom:We,left:We,padding:We,paddingTop:We,paddingRight:We,paddingBottom:We,paddingLeft:We,margin:We,marginTop:We,marginRight:We,marginBottom:We,marginLeft:We,backgroundPositionX:We,backgroundPositionY:We,...VK,zIndex:MO,fillOpacity:yh,strokeOpacity:yh,numOctaves:MO},WK={...KP,color:xn,backgroundColor:xn,outlineColor:xn,fill:xn,stroke:xn,borderColor:xn,borderTopColor:xn,borderRightColor:xn,borderBottomColor:xn,borderLeftColor:xn,filter:hA,WebkitFilter:hA},l4=t=>WK[t];function c4(t,e){let n=l4(t);return n!==hA&&(n=ro),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const HK=new Set(["auto","none","0"]);function qK(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!HK.has(s)&&bh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=c4(n,i)}class GK extends qP{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),FP(c))){const h=i4(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!s4.has(r)||e.length!==2)return;const[i,s]=e,a=OO(i),o=OO(s);if(a!==o)if(jO(a)&&jO(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Zo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||$K(e[i]))&&r.push(i);r.length&&qK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Zo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function KK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const u4=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function d4(t){return E3(t)&&"offsetHeight"in t}const DO=30,YK=t=>!isNaN(parseFloat(t));class XK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Lr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=YK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new DP);const r=this.events[e].add(n);return e==="change"?()=>{r(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>DO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,DO);return T3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Dc(t,e){return new XK(t,e)}const{schedule:YP}=B3(queueMicrotask,!1),qi={x:!1,y:!1};function h4(){return qi.x||qi.y}function QK(t){return t==="x"||t==="y"?qi[t]?null:(qi[t]=!0,()=>{qi[t]=!1}):qi.x||qi.y?null:(qi.x=qi.y=!0,()=>{qi.x=qi.y=!1})}function f4(t,e){const n=KK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function RO(t){return!(t.pointerType==="touch"||h4())}function ZK(t,e,n={}){const[r,i,s]=f4(t,n),a=o=>{if(!RO(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const h=d=>{RO(d)&&(c(d),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const p4=(t,e)=>e?t===e?!0:p4(t,e.parentElement):!1,XP=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,JK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function eY(t){return JK.has(t.tagName)||t.tabIndex!==-1}const tg=new WeakSet;function IO(t){return e=>{e.key==="Enter"&&t(e)}}function s0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const tY=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=IO(()=>{if(tg.has(n))return;s0(n,"down");const i=IO(()=>{s0(n,"up")}),s=()=>s0(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function LO(t){return XP(t)&&!h4()}function nY(t,e,n={}){const[r,i,s]=f4(t,n),a=o=>{const l=o.currentTarget;if(!LO(o))return;tg.add(l);const c=e(l,o),h=(g,x)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",m),tg.has(l)&&tg.delete(l),LO(g)&&typeof c=="function"&&c(g,{success:x})},d=g=>{h(g,l===window||l===document||n.useGlobalTarget||p4(l,g.target))},m=g=>{h(g,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),d4(o)&&(o.addEventListener("focus",c=>tY(c,i)),!eY(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function m4(t){return E3(t)&&"ownerSVGElement"in t}function rY(t){return m4(t)&&t.tagName==="svg"}const pr=t=>!!(t&&t.getVelocity),iY=[...o4,xn,ro],sY=t=>iY.find(a4(t)),QP=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function FO(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aY(...t){return e=>{let n=!1;const r=t.map(i=>{const s=FO(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():FO(t[i],null)}}}}function oY(...t){return C.useCallback(aY(...t),t)}class lY extends C.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=d4(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cY({children:t,isPresent:e,anchorX:n,root:r}){const i=C.useId(),s=C.useRef(null),a=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(QP),l=oY(s,t?.ref);return C.useInsertionEffect(()=>{const{width:c,height:h,top:d,left:m,right:g}=a.current;if(e||!s.current||!c||!h)return;const x=n==="left"?`left: ${m}`:`right: ${g}`;s.current.dataset.motionPopId=i;const v=document.createElement("style");o&&(v.nonce=o);const b=r??document.head;return b.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.contains(v)&&b.removeChild(v)}},[e]),f.jsx(lY,{isPresent:e,childRef:s,sizeRef:a,children:C.cloneElement(t,{ref:l})})}const uY=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=jP(dY),h=C.useId();let d=!0,m=C.useMemo(()=>(d=!1,{id:h,initial:e,isPresent:n,custom:i,onExitComplete:g=>{c.set(g,!0);for(const x of c.values())if(!x)return;r&&r()},register:g=>(c.set(g,!1),()=>c.delete(g))}),[n,c,r]);return s&&d&&(m={...m}),C.useMemo(()=>{c.forEach((g,x)=>c.set(x,!1))},[n]),C.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=f.jsx(cY,{isPresent:n,anchorX:o,root:l,children:t})),f.jsx($v.Provider,{value:m,children:t})};function dY(){return new Map}function g4(t=!0){const e=C.useContext($v);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const wm=t=>t.key||"";function $O(t){const e=[];return C.Children.forEach(t,n=>{C.isValidElement(n)&&e.push(n)}),e}const hY=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,h]=g4(a),d=C.useMemo(()=>$O(t),[t]),m=a&&!c?[]:d.map(wm),g=C.useRef(!0),x=C.useRef(d),v=jP(()=>new Map),[b,w]=C.useState(d),[_,A]=C.useState(d);C3(()=>{g.current=!1,x.current=d;for(let E=0;E<_.length;E++){const k=wm(_[E]);m.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[_,m.length,m.join("-")]);const T=[];if(d!==b){let E=[...d];for(let k=0;k<_.length;k++){const O=_[k],D=wm(O);m.includes(D)||(E.splice(k,0,O),T.push(O))}return s==="wait"&&T.length&&(E=T),A($O(E)),w(d),null}const{forceRender:P}=C.useContext(EP);return f.jsx(f.Fragment,{children:_.map(E=>{const k=wm(E),O=a&&!c?!1:d===_||m.includes(k),D=()=>{if(v.has(k))v.set(k,!0);else return;let F=!0;v.forEach(M=>{M||(F=!1)}),F&&(P?.(),A(x.current),a&&h?.(),r&&r())};return f.jsx(uY,{isPresent:O,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:O?void 0:D,anchorX:o,children:E},k)})})},v4=C.createContext({strict:!1}),BO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Rc={};for(const t in BO)Rc[t]={isEnabled:e=>BO[t].some(n=>!!e[n])};function fY(t){for(const e in t)Rc[e]={...Rc[e],...t[e]}}const pY=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||pY.has(t)}let y4=t=>!mg(t);function mY(t){typeof t=="function"&&(y4=e=>e.startsWith("on")?!mg(e):t(e))}try{mY(require("@emotion/is-prop-valid").default)}catch{}function gY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(y4(i)||n===!0&&mg(i)||!e&&!mg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Bv=C.createContext({});function Uv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xh(t){return typeof t=="string"||Array.isArray(t)}const ZP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],JP=["initial",...ZP];function zv(t){return Uv(t.animate)||JP.some(e=>xh(t[e]))}function b4(t){return!!(zv(t)||t.variants)}function vY(t,e){if(zv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||xh(n)?n:void 0,animate:xh(r)?r:void 0}}return t.inherit!==!1?e:{}}function yY(t){const{initial:e,animate:n}=vY(t,C.useContext(Bv));return C.useMemo(()=>({initial:e,animate:n}),[UO(e),UO(n)])}function UO(t){return Array.isArray(t)?t.join(" "):t}const wh={};function bY(t){for(const e in t)wh[e]=t[e],LP(e)&&(wh[e].isCSSVariable=!0)}function x4(t,{layout:e,layoutId:n}){return Au.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!wh[t]||t==="opacity")}const xY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wY=_u.length;function SY(t,e,n){let r="",i=!0;for(let s=0;s<wY;s++){const a=_u[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=u4(o,KP[a]);if(!l){i=!1;const h=xY[a]||a;r+=`${h}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function eE(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(Au.has(l)){a=!0;continue}else if(LP(l)){i[l]=c;continue}else{const h=u4(c,KP[l]);l.startsWith("origin")?(o=!0,s[l]=h):r[l]=h}}if(e.transform||(a||n?r.transform=SY(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const tE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function w4(t,e,n){for(const r in e)!pr(e[r])&&!x4(r,n)&&(t[r]=e[r])}function _Y({transformTemplate:t},e){return C.useMemo(()=>{const n=tE();return eE(n,e,t),Object.assign({},n.vars,n.style)},[e])}function AY(t,e){const n=t.style||{},r={};return w4(r,n,t),Object.assign(r,_Y(t,e)),r}function CY(t,e){const n={},r=AY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const PY={offset:"stroke-dashoffset",array:"stroke-dasharray"},EY={offset:"strokeDashoffset",array:"strokeDasharray"};function jY(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?PY:EY;t[s.offset]=We.transform(-r);const a=We.transform(e),o=We.transform(n);t[s.array]=`${a} ${o}`}function S4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,h){if(eE(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:m}=t;d.transform&&(m.transform=d.transform,delete d.transform),(m.transform||d.transformOrigin)&&(m.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),m.transform&&(m.transformBox=h?.transformBox??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&jY(d,i,s,a,!1)}const _4=()=>({...tE(),attrs:{}}),A4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TY(t,e,n,r){const i=C.useMemo(()=>{const s=_4();return S4(s,e,A4(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};w4(s,t.style,t),i.style={...s,...i.style}}return i}const kY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function nE(t){return typeof t!="string"||t.includes("-")?!1:!!(kY.indexOf(t)>-1||/[A-Z]/u.test(t))}function NY(t,e,n,{latestValues:r},i,s=!1){const o=(nE(t)?TY:CY)(e,r,i,t),l=gY(e,typeof t=="string",s),c=t!==C.Fragment?{...l,...o,ref:n}:{},{children:h}=e,d=C.useMemo(()=>pr(h)?h.get():h,[h]);return C.createElement(t,{...c,children:d})}function zO(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function rE(t,e,n,r){if(typeof e=="function"){const[i,s]=zO(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=zO(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function ng(t){return pr(t)?t.get():t}function OY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:MY(n,r,i,t),renderState:e()}}function MY(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=ng(s[m]);let{initial:a,animate:o}=t;const l=zv(t),c=b4(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const d=h?o:a;if(d&&typeof d!="boolean"&&!Uv(d)){const m=Array.isArray(d)?d:[d];for(let g=0;g<m.length;g++){const x=rE(t,m[g]);if(x){const{transitionEnd:v,transition:b,...w}=x;for(const _ in w){let A=w[_];if(Array.isArray(A)){const T=h?A.length-1:0;A=A[T]}A!==null&&(i[_]=A)}for(const _ in v)i[_]=v[_]}}}return i}const C4=t=>(e,n)=>{const r=C.useContext(Bv),i=C.useContext($v),s=()=>OY(t,e,r,i);return n?s():jP(s)};function iE(t,e,n){const{style:r}=t,i={};for(const s in r)(pr(r[s])||e.style&&pr(e.style[s])||x4(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const DY=C4({scrapeMotionValuesFromProps:iE,createRenderState:tE});function P4(t,e,n){const r=iE(t,e,n);for(const i in t)if(pr(t[i])||pr(e[i])){const s=_u.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const RY=C4({scrapeMotionValuesFromProps:P4,createRenderState:_4}),IY=Symbol.for("motionComponentSymbol");function hc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function LY(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hc(n)&&(n.current=r))},[e])}const sE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FY="framerAppearId",E4="data-"+sE(FY),j4=C.createContext({});function $Y(t,e,n,r,i){const{visualElement:s}=C.useContext(Bv),a=C.useContext(v4),o=C.useContext($v),l=C.useContext(QP).reducedMotion,c=C.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const h=c.current,d=C.useContext(j4);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&BY(c.current,n,i,d);const m=C.useRef(!1);C.useInsertionEffect(()=>{h&&m.current&&h.update(n,o)});const g=n[E4],x=C.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return C3(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),x.current&&h.animationState&&h.animationState.animateChanges())}),C.useEffect(()=>{h&&(!x.current&&h.animationState&&h.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),h.enteringChildren=void 0)}),h}function BY(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:T4(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&hc(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function T4(t){if(t)return t.options.allowProjection!==!1?t.projection:T4(t.parent)}function a0(t,{forwardMotionProps:e=!1}={},n,r){n&&fY(n);const i=nE(t)?RY:DY;function s(o,l){let c;const h={...C.useContext(QP),...o,layoutId:UY(o)},{isStatic:d}=h,m=yY(o),g=i(o,d);if(!d&&TP){zY();const x=VY(h);c=x.MeasureLayout,m.visualElement=$Y(t,g,h,r,x.ProjectionNode)}return f.jsxs(Bv.Provider,{value:m,children:[c&&m.visualElement?f.jsx(c,{visualElement:m.visualElement,...h}):null,NY(t,o,LY(g,m.visualElement,l),g,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(s);return a[IY]=t,a}function UY({layoutId:t}){const e=C.useContext(EP).id;return e&&t!==void 0?e+"-"+t:t}function zY(t,e){C.useContext(v4).strict}function VY(t){const{drag:e,layout:n}=Rc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function WY(t,e){if(typeof Proxy>"u")return a0;const n=new Map,r=(s,a)=>a0(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,a0(a,void 0,t,e)),n.get(a))})}function k4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function HY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function qY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function o0(t){return t===void 0||t===1}function fA({scale:t,scaleX:e,scaleY:n}){return!o0(t)||!o0(e)||!o0(n)}function $o(t){return fA(t)||N4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function N4(t){return VO(t.x)||VO(t.y)}function VO(t){return t&&t!=="0%"}function gg(t,e,n){const r=t-n,i=e*r;return n+i}function WO(t,e,n,r,i){return i!==void 0&&(t=gg(t,i,r)),gg(t,n,r)+e}function pA(t,e=0,n=1,r,i){t.min=WO(t.min,e,n,r,i),t.max=WO(t.max,e,n,r,i)}function O4(t,{x:e,y:n}){pA(t.x,e.translate,e.scale,e.originPoint),pA(t.y,n.translate,n.scale,n.originPoint)}const HO=.999999999999,qO=1.0000000000001;function GY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&pc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,O4(t,a)),r&&$o(s.latestValues)&&pc(t,s.latestValues))}e.x<qO&&e.x>HO&&(e.x=1),e.y<qO&&e.y>HO&&(e.y=1)}function fc(t,e){t.min=t.min+e,t.max=t.max+e}function GO(t,e,n,r,i=.5){const s=Zt(t.min,t.max,i);pA(t,e,n,s,r)}function pc(t,e){GO(t.x,e.x,e.scaleX,e.scale,e.originX),GO(t.y,e.y,e.scaleY,e.scale,e.originY)}function M4(t,e){return k4(qY(t.getBoundingClientRect(),e))}function KY(t,e,n){const r=M4(t,n),{scroll:i}=e;return i&&(fc(r.x,i.offset.x),fc(r.y,i.offset.y)),r}const KO=()=>({translate:0,scale:1,origin:0,originPoint:0}),mc=()=>({x:KO(),y:KO()}),YO=()=>({min:0,max:0}),hn=()=>({x:YO(),y:YO()}),mA={current:null},D4={current:!1};function YY(){if(D4.current=!0,!!TP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mA.current=t.matches;t.addEventListener("change",e),e()}else mA.current=!1}const XY=new WeakMap;function QY(t,e,n){for(const r in e){const i=e[r],s=n[r];if(pr(i))t.addValue(r,i);else if(pr(s))t.addValue(r,Dc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Dc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const XO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Lr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,qt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=zv(n),this.isVariantNode=b4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in d){const g=d[m];l[m]!==void 0&&pr(g)&&g.set(l[m])}}mount(e){this.current=e,XY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),D4.current||YY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),no(this.notifyUpdate),no(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Au.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&qt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Rc){const n=Rc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<XO.length;r++){const i=XO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=QY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Dc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(P3(r)||j3(r))?r=parseFloat(r):!sY(r)&&ro.test(n)&&(r=c4(e,n)),this.setBaseTarget(e,pr(r)?r.get():r)),pr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=rE(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new DP),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){YP.render(this.render)}}class R4 extends ZY{constructor(){super(...arguments),this.KeyframeResolver=GK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function I4(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function JY(t){return window.getComputedStyle(t)}class eX extends R4{constructor(){super(...arguments),this.type="html",this.renderInstance=I4}readValueFromInstance(e,n){if(Au.has(n))return this.projection?.isProjecting?aA(n):hK(e,n);{const r=JY(e),i=(LP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return M4(e,n)}build(e,n,r){eE(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return iE(e,n,r)}}const L4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tX(t,e,n,r){I4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(L4.has(i)?i:sE(i),e.attrs[i])}class nX extends R4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=hn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Au.has(n)){const r=l4(n);return r&&r.default||0}return n=L4.has(n)?n:sE(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return P4(e,n,r)}build(e,n,r){S4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){tX(e,n,r,i)}mount(e){this.isSVGTag=A4(e.tagName),super.mount(e)}}const rX=(t,e)=>nE(t)?new nX(e):new eX(e,{allowProjection:t!==C.Fragment});function Ac(t,e,n){const r=t.getProps();return rE(r,e,n!==void 0?n:r.custom,t)}const gA=t=>Array.isArray(t);function iX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Dc(n))}function sX(t){return gA(t)?t[t.length-1]||0:t}function aX(t,e){const n=Ac(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=sX(s[a]);iX(t,a,o)}}function oX(t){return!!(pr(t)&&t.add)}function vA(t,e){const n=t.getValue("willChange");if(oX(n))return n.add(e);if(!n&&la.WillChange){const r=new la.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function F4(t){return t.props[E4]}const lX=t=>t!==null;function cX(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(lX),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const uX={type:"spring",stiffness:500,damping:25,restSpeed:10},dX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hX={type:"keyframes",duration:.8},fX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pX=(t,{keyframes:e})=>e.length>2?hX:Au.has(t)?t.startsWith("scale")?dX(e[1]):uX:fX;function mX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const aE=(t,e,n,r={},i,s)=>a=>{const o=GP(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Ss(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};mX(o)||Object.assign(h,pX(t,h)),h.duration&&(h.duration=Ss(h.duration)),h.repeatDelay&&(h.repeatDelay=Ss(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let d=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(dA(h),h.delay===0&&(d=!0)),(la.instantAnimations||la.skipAnimations)&&(d=!0,dA(h),h.delay=0),h.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const m=cX(h.keyframes,o);if(m!==void 0){qt.update(()=>{h.onUpdate(m),h.onComplete()});return}}return o.isSync?new HP(h):new RK(h)};function gX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function $4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const h in o){const d=t.getValue(h,t.latestValues[h]??null),m=o[h];if(m===void 0||c&&gX(c,h))continue;const g={delay:n,...GP(s||{},h)},x=d.get();if(x!==void 0&&!d.isAnimating&&!Array.isArray(m)&&m===x&&!g.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const w=F4(t);if(w){const _=window.MotionHandoffAnimation(w,h,qt);_!==null&&(g.startTime=_,v=!0)}}vA(t,h),d.start(aE(h,d,m,t.shouldReduceMotion&&s4.has(h)?{type:!1}:g,t,v));const b=d.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{qt.update(()=>{a&&aX(t,a)})}),l}function B4(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function yA(t,e,n={}){const r=Ac(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all($4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:h,staggerDirection:d}=i;return vX(t,e,l,c,h,d,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function vX(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(yA(l,e,{...a,delay:n+(typeof r=="function"?0:r)+B4(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function yX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>yA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=yA(t,e,n);else{const i=typeof e=="function"?Ac(t,e,n.custom):e;r=Promise.all($4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function U4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const bX=JP.length;function z4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?z4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<bX;n++){const r=JP[n],i=t.props[r];(xh(i)||i===!1)&&(e[r]=i)}return e}const xX=[...ZP].reverse(),wX=ZP.length;function SX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yX(t,n,r)))}function _X(t){let e=SX(t),n=QO(),r=!0;const i=l=>(c,h)=>{const d=Ac(t,h,l==="exit"?t.presenceContext?.custom:void 0);if(d){const{transition:m,transitionEnd:g,...x}=d;c={...c,...x,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,h=z4(t.parent)||{},d=[],m=new Set;let g={},x=1/0;for(let b=0;b<wX;b++){const w=xX[b],_=n[w],A=c[w]!==void 0?c[w]:h[w],T=xh(A),P=w===l?_.isActive:null;P===!1&&(x=b);let E=A===h[w]&&A!==c[w]&&T;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...g},!_.isActive&&P===null||!A&&!_.prevProp||Uv(A)||typeof A=="boolean")continue;const k=AX(_.prevProp,A);let O=k||w===l&&_.isActive&&!E&&T||b>x&&T,D=!1;const F=Array.isArray(A)?A:[A];let M=F.reduce(i(w),{});P===!1&&(M={});const{prevResolvedValues:R={}}=_,$={...R,...M},H=B=>{O=!0,m.has(B)&&(D=!0,m.delete(B)),_.needsAnimating[B]=!0;const L=t.getValue(B);L&&(L.liveStyle=!1)};for(const B in $){const L=M[B],W=R[B];if(g.hasOwnProperty(B))continue;let X=!1;gA(L)&&gA(W)?X=!U4(L,W):X=L!==W,X?L!=null?H(B):m.add(B):L!==void 0&&m.has(B)?H(B):_.protectedKeys[B]=!0}_.prevProp=A,_.prevResolvedValues=M,_.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(O=!1);const G=E&&k;O&&(!G||D)&&d.push(...F.map(B=>{const L={type:w};if(typeof B=="string"&&r&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:W}=t,X=Ac(W,B);if(W.enteringChildren&&X){const{delayChildren:U}=X.transition||{};L.delay=B4(W.enteringChildren,t,U)}}return{animation:B,options:L}}))}if(m.size){const b={};if(typeof c.initial!="boolean"){const w=Ac(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(b.transition=w.transition)}m.forEach(w=>{const _=t.getBaseTarget(w),A=t.getValue(w);A&&(A.liveStyle=!0),b[w]=_??null}),d.push({animation:b})}let v=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(d):Promise.resolve()}function o(l,c){if(n[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(d=>d.animationState?.setActive(l,c)),n[l].isActive=c;const h=a(l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=QO()}}}function AX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!U4(e,t):!1}function Ro(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function QO(){return{animate:Ro(!0),whileInView:Ro(),whileHover:Ro(),whileTap:Ro(),whileDrag:Ro(),whileFocus:Ro(),exit:Ro()}}class uo{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CX extends uo{constructor(e){super(e),e.animationState||(e.animationState=_X(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Uv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let PX=0;class EX extends uo{constructor(){super(...arguments),this.id=PX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const jX={animation:{Feature:CX},exit:{Feature:EX}};function Sh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ef(t){return{point:{x:t.pageX,y:t.pageY}}}const TX=t=>e=>XP(e)&&t(e,Ef(e));function ih(t,e,n,r){return Sh(t,e,TX(n),r)}const V4=1e-4,kX=1-V4,NX=1+V4,W4=.01,OX=0-W4,MX=0+W4;function wr(t){return t.max-t.min}function DX(t,e,n){return Math.abs(t-e)<=n}function ZO(t,e,n,r=.5){t.origin=r,t.originPoint=Zt(e.min,e.max,t.origin),t.scale=wr(n)/wr(e),t.translate=Zt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=kX&&t.scale<=NX||isNaN(t.scale))&&(t.scale=1),(t.translate>=OX&&t.translate<=MX||isNaN(t.translate))&&(t.translate=0)}function sh(t,e,n,r){ZO(t.x,e.x,n.x,r?r.originX:void 0),ZO(t.y,e.y,n.y,r?r.originY:void 0)}function JO(t,e,n){t.min=n.min+e.min,t.max=t.min+wr(e)}function RX(t,e,n){JO(t.x,e.x,n.x),JO(t.y,e.y,n.y)}function e2(t,e,n){t.min=e.min-n.min,t.max=t.min+wr(e)}function ah(t,e,n){e2(t.x,e.x,n.x),e2(t.y,e.y,n.y)}function Si(t){return[t("x"),t("y")]}const H4=({current:t})=>t?t.ownerDocument.defaultView:null,t2=(t,e)=>Math.abs(t-e);function IX(t,e){const n=t2(t.x,e.x),r=t2(t.y,e.y);return Math.sqrt(n**2+r**2)}class q4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=c0(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=IX(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:v}=m,{timestamp:b}=nr;this.history.push({...v,timestamp:b});const{onStart:w,onMove:_}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=l0(g,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=c0(m.type==="pointercancel"?this.lastMoveEventInfo:l0(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),v&&v(m,w)},!XP(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=Ef(e),l=l0(o,this.transformPagePoint),{point:c}=l,{timestamp:h}=nr;this.history=[{...c,timestamp:h}];const{onSessionStart:d}=n;d&&d(e,c0(l,this.history)),this.removeListeners=Af(ih(this.contextWindow,"pointermove",this.handlePointerMove),ih(this.contextWindow,"pointerup",this.handlePointerUp),ih(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),no(this.updatePoint)}}function l0(t,e){return e?{point:e(t.point)}:t}function n2(t,e){return{x:t.x-e.x,y:t.y-e.y}}function c0({point:t},e){return{point:t,delta:n2(t,G4(e)),offset:n2(t,LX(e)),velocity:FX(e,.1)}}function LX(t){return t[0]}function G4(t){return t[t.length-1]}function FX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=G4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Ss(e)));)n--;if(!r)return{x:0,y:0};const s=Ci(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function $X(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Zt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Zt(n,t,r.max):Math.min(t,n)),t}function r2(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function BX(t,{top:e,left:n,bottom:r,right:i}){return{x:r2(t.x,n,i),y:r2(t.y,e,r)}}function i2(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function UX(t,e){return{x:i2(t.x,e.x),y:i2(t.y,e.y)}}function zX(t,e){let n=.5;const r=wr(t),i=wr(e);return i>r?n=vh(e.min,e.max-r,t.min):r>i&&(n=vh(t.min,t.max-i,e.min)),oa(0,1,n)}function VX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const bA=.35;function WX(t=bA){return t===!1?t=0:t===!0&&(t=bA),{x:s2(t,"left","right"),y:s2(t,"top","bottom")}}function s2(t,e,n){return{min:a2(t,e),max:a2(t,n)}}function a2(t,e){return typeof t=="number"?t:t[e]||0}const HX=new WeakMap;class qX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ef(d).point)},a=(d,m)=>{const{drag:g,dragPropagation:x,onDragStart:v}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=QK(g),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(w=>{let _=this.getAxisMotionValue(w).get()||0;if(_s.test(_)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[w];T&&(_=wr(T)*(parseFloat(_)/100))}}this.originPoint[w]=_}),v&&qt.postRender(()=>v(d,m)),vA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:v,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=m;if(x&&this.currentDirection===null){this.currentDirection=GX(w),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),b&&b(d,m)},l=(d,m)=>{this.latestPointerEvent=d,this.latestPanInfo=m,this.stop(d,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Si(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:h}=this.getProps();this.panSession=new q4(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:H4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&qt.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sm(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=$X(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&hc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=BX(r.layoutBox,e):this.constraints=!1,this.elastic=WX(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Si(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=VX(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=KY(r,i.root,this.visualElement.getTransformPagePoint());let a=UX(i.layout.layoutBox,s);if(n){const o=n(HY(a));this.hasMutatedConstraints=!!o,o&&(a=k4(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Si(h=>{if(!Sm(h,n,this.currentDirection))return;let d=l&&l[h]||{};a&&(d={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(h,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return vA(this.visualElement,e),r.start(aE(e,r,0,n,this.visualElement,!1))}stopAnimation(){Si(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Si(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Si(n=>{const{drag:r}=this.getProps();if(!Sm(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Zt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Si(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=zX({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Si(a=>{if(!Sm(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Zt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;HX.set(this.visualElement,this);const e=this.visualElement.current,n=ih(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),qt.read(r);const a=Sh(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Si(h=>{const d=this.getAxisMotionValue(h);d&&(this.originPoint[h]+=l[h].translate,d.set(d.get()+l[h].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=bA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Sm(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function GX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class KX extends uo{constructor(e){super(e),this.removeGroupControls=ji,this.removeListeners=ji,this.controls=new qX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ji}unmount(){this.removeGroupControls(),this.removeListeners()}}const o2=t=>(e,n)=>{t&&qt.postRender(()=>t(e,n))};class YX extends uo{constructor(){super(...arguments),this.removePointerDownListener=ji}onPointerDown(e){this.session=new q4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:H4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:o2(e),onStart:o2(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&qt.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ih(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function l2(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jd={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(We.test(t))t=parseFloat(t);else return t;const n=l2(t,e.target.x),r=l2(t,e.target.y);return`${n}% ${r}%`}},XX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ro.parse(t);if(i.length>5)return r;const s=ro.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Zt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let u0=!1;class QX extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;bY(ZX),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),u0&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,u0=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||qt.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),YP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;u0=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function K4(t){const[e,n]=g4(),r=C.useContext(EP);return f.jsx(QX,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(j4),isPresent:e,safeToRemove:n})}const ZX={borderRadius:{...jd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jd,borderTopRightRadius:jd,borderBottomLeftRadius:jd,borderBottomRightRadius:jd,boxShadow:XX};function JX(t,e,n){const r=pr(t)?t:Dc(t);return r.start(aE("",r,e,n)),r.animation}const eQ=(t,e)=>t.depth-e.depth;class tQ{constructor(){this.children=[],this.isDirty=!1}add(e){kP(this.children,e),this.isDirty=!0}remove(e){NP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eQ),this.isDirty=!1,this.children.forEach(e)}}function nQ(t,e){const n=Lr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(no(r),t(s-e))};return qt.setup(r,!0),()=>no(r)}const Y4=["TopLeft","TopRight","BottomLeft","BottomRight"],rQ=Y4.length,c2=t=>typeof t=="string"?parseFloat(t):t,u2=t=>typeof t=="number"||We.test(t);function iQ(t,e,n,r,i,s){i?(t.opacity=Zt(0,n.opacity??1,sQ(r)),t.opacityExit=Zt(e.opacity??1,0,aQ(r))):s&&(t.opacity=Zt(e.opacity??1,n.opacity??1,r));for(let a=0;a<rQ;a++){const o=`border${Y4[a]}Radius`;let l=d2(e,o),c=d2(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||u2(l)===u2(c)?(t[o]=Math.max(Zt(c2(l),c2(c),r),0),(_s.test(c)||_s.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Zt(e.rotate||0,n.rotate||0,r))}function d2(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const sQ=X4(0,.5,I3),aQ=X4(.5,.95,ji);function X4(t,e,n){return r=>r<t?0:r>e?1:n(vh(t,e,r))}function h2(t,e){t.min=e.min,t.max=e.max}function gi(t,e){h2(t.x,e.x),h2(t.y,e.y)}function f2(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function p2(t,e,n,r,i){return t-=e,t=gg(t,1/n,r),i!==void 0&&(t=gg(t,1/i,r)),t}function oQ(t,e=0,n=1,r=.5,i,s=t,a=t){if(_s.test(e)&&(e=parseFloat(e),e=Zt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Zt(s.min,s.max,r);t===s&&(o-=e),t.min=p2(t.min,e,n,o,i),t.max=p2(t.max,e,n,o,i)}function m2(t,e,[n,r,i],s,a){oQ(t,e[n],e[r],e[i],e.scale,s,a)}const lQ=["x","scaleX","originX"],cQ=["y","scaleY","originY"];function g2(t,e,n,r){m2(t.x,e,lQ,n?n.x:void 0,r?r.x:void 0),m2(t.y,e,cQ,n?n.y:void 0,r?r.y:void 0)}function v2(t){return t.translate===0&&t.scale===1}function Q4(t){return v2(t.x)&&v2(t.y)}function y2(t,e){return t.min===e.min&&t.max===e.max}function uQ(t,e){return y2(t.x,e.x)&&y2(t.y,e.y)}function b2(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Z4(t,e){return b2(t.x,e.x)&&b2(t.y,e.y)}function x2(t){return wr(t.x)/wr(t.y)}function w2(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dQ{constructor(){this.members=[]}add(e){kP(this.members,e),e.scheduleRender()}remove(e){if(NP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function hQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:d,rotateY:m,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),d&&(r+=`rotateX(${d}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const d0=["","X","Y","Z"],fQ=1e3;let pQ=0;function h0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function J4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=F4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&J4(r)}function e5({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=pQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vQ),this.nodes.forEach(wQ),this.nodes.forEach(SQ),this.nodes.forEach(yQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new tQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new DP),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=m4(a)&&!rY(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let h,d=0;const m=()=>this.root.updateBlockedByResize=!1;qt.read(()=>{d=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==d&&(d=g,this.root.updateBlockedByResize=!0,h&&h(),h=nQ(m,250),rg.hasAnimatedSinceResize&&(rg.hasAnimatedSinceResize=!1,this.nodes.forEach(A2)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:d,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||EQ,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=c.getProps(),w=!this.targetLayout||!Z4(this.targetLayout,g),_=!d&&m;if(this.options.layoutRoot||this.resumeFrom||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...GP(x,"layout"),onPlay:v,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(h,_)}else d||A2(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),no(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_Q),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&J4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const d=this.path[h];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S2);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(_2);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(xQ),this.nodes.forEach(mQ),this.nodes.forEach(gQ)):this.nodes.forEach(_2),this.clearAllSnapshots();const o=Lr.now();nr.delta=oa(0,1e3/60,o-nr.timestamp),nr.timestamp=o,nr.isProcessing=!0,e0.update.process(nr),e0.preRender.process(nr),e0.render.process(nr),nr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,YP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(bQ),this.sharedNodes.forEach(AQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wr(this.snapshot.measuredBox.x)&&!wr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Q4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||$o(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),jQ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return hn();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(TQ))){const{scroll:c}=this.root;c&&(fc(o.x,c.offset.x),fc(o.y,c.offset.y))}return o}removeElementScroll(a){const o=hn();if(gi(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:h,options:d}=c;c!==this.root&&h&&d.layoutScroll&&(h.wasRoot&&gi(o,a),fc(o.x,h.offset.x),fc(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=hn();gi(l,a);for(let c=0;c<this.path.length;c++){const h=this.path[c];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),$o(h.latestValues)&&pc(l,h.latestValues)}return $o(this.latestValues)&&pc(l,this.latestValues),l}removeTransform(a){const o=hn();gi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!$o(c.latestValues))continue;fA(c.latestValues)&&c.updateSnapshot();const h=hn(),d=c.measurePageBox();gi(h,d),g2(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return $o(this.latestValues)&&g2(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==nr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:d}=this.options;if(!(!this.layout||!(h||d))){if(this.resolvedRelativeTargetAt=nr.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),ah(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),RX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),O4(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),ah(this.relativeTargetOrigin,this.target,m.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fA(this.parent.latestValues)||N4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===nr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;gi(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,m=this.treeScale.y;GY(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=hn());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(f2(this.prevProjectionDelta.x,this.projectionDelta.x),f2(this.prevProjectionDelta.y,this.projectionDelta.y)),sh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==m||!w2(this.projectionDelta.x,this.prevProjectionDelta.x)||!w2(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mc(),this.projectionDelta=mc(),this.projectionDeltaWithTransform=mc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},d=mc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=hn(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=g!==x,b=this.getStack(),w=!b||b.members.length<=1,_=!!(v&&!w&&this.options.crossfade===!0&&!this.path.some(PQ));this.animationProgress=0;let A;this.mixTargetDelta=T=>{const P=T/1e3;C2(d.x,a.x,P),C2(d.y,a.y,P),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ah(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CQ(this.relativeTarget,this.relativeTargetOrigin,m,P),A&&uQ(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=hn()),gi(A,this.relativeTarget)),v&&(this.animationValues=h,iQ(h,c,this.latestValues,P,_,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(no(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{rg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Dc(0)),this.currentAnimation=JX(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:h}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&t5(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||hn();const d=wr(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const m=wr(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}gi(o,l),pc(o,h),sh(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new dQ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&h0("z",a,c,this.animationValues);for(let h=0;h<d0.length;h++)h0(`rotate${d0[h]}`,a,c,this.animationValues),h0(`skew${d0[h]}`,a,c,this.animationValues);a.render();for(const h in c)a.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=ng(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=ng(o?.pointerEvents)||""),this.hasProjected&&!$o(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=hQ(this.projectionDeltaWithTransform,this.treeScale,h);l&&(d=l(h,d)),a.transform=d;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:a.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in wh){if(h[x]===void 0)continue;const{correct:v,applyTo:b,isCSSVariable:w}=wh[x],_=d==="none"?h[x]:v(h[x],c);if(b){const A=b.length;for(let T=0;T<A;T++)a[b[T]]=_}else w?this.options.visualElement.renderState.vars[x]=_:a[x]=_}this.options.layoutId&&(a.pointerEvents=c===this?ng(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(S2),this.root.sharedNodes.clear()}}}function mQ(t){t.updateLayout()}function gQ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?Si(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=wr(d);d.min=n[h].min,d.max=d.min+m}):t5(i,e.layoutBox,n)&&Si(h=>{const d=s?e.measuredBox[h]:e.layoutBox[h],m=wr(n[h]);d.max=d.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+m)});const a=mc();sh(a,n,e.layoutBox);const o=mc();s?sh(o,t.applyTransform(r,!0),e.measuredBox):sh(o,n,e.layoutBox);const l=!Q4(a);let c=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:d,layout:m}=h;if(d&&m){const g=hn();ah(g,e.layoutBox,d.layoutBox);const x=hn();ah(x,n,m.layoutBox),Z4(g,x)||(c=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function vQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function yQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function bQ(t){t.clearSnapshot()}function S2(t){t.clearMeasurements()}function _2(t){t.isLayoutDirty=!1}function xQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function A2(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function wQ(t){t.resolveTargetDelta()}function SQ(t){t.calcProjection()}function _Q(t){t.resetSkewAndRotation()}function AQ(t){t.removeLeadSnapshot()}function C2(t,e,n){t.translate=Zt(e.translate,0,n),t.scale=Zt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function P2(t,e,n,r){t.min=Zt(e.min,n.min,r),t.max=Zt(e.max,n.max,r)}function CQ(t,e,n,r){P2(t.x,e.x,n.x,r),P2(t.y,e.y,n.y,r)}function PQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EQ={duration:.45,ease:[.4,0,.1,1]},E2=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),j2=E2("applewebkit/")&&!E2("chrome/")?Math.round:ji;function T2(t){t.min=j2(t.min),t.max=j2(t.max)}function jQ(t){T2(t.x),T2(t.y)}function t5(t,e,n){return t==="position"||t==="preserve-aspect"&&!DX(x2(e),x2(n),.2)}function TQ(t){return t!==t.root&&t.scroll?.wasRoot}const kQ=e5({attachResizeListener:(t,e)=>Sh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),f0={current:void 0},n5=e5({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!f0.current){const t=new kQ({});t.mount(window),t.setOptions({layoutScroll:!0}),f0.current=t}return f0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NQ={pan:{Feature:YX},drag:{Feature:KX,ProjectionNode:n5,MeasureLayout:K4}};function k2(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&qt.postRender(()=>s(e,Ef(e)))}class OQ extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=ZK(e,(n,r)=>(k2(this.node,r,"Start"),i=>k2(this.node,i,"End"))))}unmount(){}}class MQ extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Af(Sh(this.node.current,"focus",()=>this.onFocus()),Sh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function N2(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&qt.postRender(()=>s(e,Ef(e)))}class DQ extends uo{mount(){const{current:e}=this.node;e&&(this.unmount=nY(e,(n,r)=>(N2(this.node,r,"Start"),(i,{success:s})=>N2(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const xA=new WeakMap,p0=new WeakMap,RQ=t=>{const e=xA.get(t.target);e&&e(t)},IQ=t=>{t.forEach(RQ)};function LQ({root:t,...e}){const n=t||document;p0.has(n)||p0.set(n,{});const r=p0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(IQ,{root:t,...e})),r[i]}function FQ(t,e,n){const r=LQ(e);return xA.set(t,n),r.observe(t),()=>{xA.delete(t),r.unobserve(t)}}const $Q={some:0,all:1};class BQ extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$Q[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:d}=this.node.getProps(),m=c?h:d;m&&m(l)};return FQ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(UQ(e,n))&&this.startObserver()}unmount(){}}function UQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const zQ={inView:{Feature:BQ},tap:{Feature:DQ},focus:{Feature:MQ},hover:{Feature:OQ}},VQ={layout:{ProjectionNode:n5,MeasureLayout:K4}},WQ={...jX,...zQ,...NQ,...VQ},oc=WY(WQ,rX);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),O2=t=>{const e=qQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},r5=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...GQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:r5("lucide",i),...o},[...a.map(([c,h])=>C.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(KQ,{ref:s,iconNode:e,className:r5(`lucide-${HQ(O2(t))}`,`lucide-${t}`,r),...i}));return n.displayName=O2(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],XQ=we("arrow-down-left",YQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jf=we("arrow-left",QQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JQ=we("arrow-right",ZQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tZ=we("arrow-up-right",eZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],oE=we("banknote",nZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],iZ=we("book-open",rZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],lE=we("building-2",sZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ra=we("calendar",aZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],lZ=we("camera",oZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],uZ=we("car",cZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],hZ=we("chart-column",dZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],M2=we("chart-pie",fZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Vv=we("check",pZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],i5=we("chevron-down",mZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],s5=we("chevron-left",gZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wv=we("chevron-right",vZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bZ=we("chevron-up",yZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ic=we("circle-alert",xZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],a5=we("circle-arrow-up",wZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],wA=we("circle-check",SZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],AZ=we("circle-dollar-sign",_Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],PZ=we("clock",CZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jZ=we("copy",EZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],cE=we("credit-card",TZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],NZ=we("crown",kZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],MZ=we("download",OZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],RZ=we("ellipsis-vertical",DZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],o5=we("ellipsis",IZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FZ=we("file-text",LZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],BZ=we("file",$Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],zZ=we("film",UZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],WZ=we("funnel",VZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],qZ=we("graduation-cap",HZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],io=we("hand-coins",GZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],YZ=we("heart",KZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],QZ=we("house",XZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],JZ=we("image",ZZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],tJ=we("info",eJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nJ=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],rJ=we("languages",nJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iJ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],D2=we("lightbulb",iJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],l5=we("lock",sJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],oJ=we("log-out",aJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],cJ=we("menu",lJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dJ=we("message-circle",uJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],fJ=we("mic",hJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],mJ=we("pen",pJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],c5=we("pencil",gJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Br=we("plus",vJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Lc=we("receipt",yJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],vg=we("refresh-cw",bJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wJ=we("search",xJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_J=we("settings",SJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],CJ=we("share-2",AJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],EJ=we("shopping-bag",PJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],TJ=we("shopping-cart",jJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],NJ=we("smartphone",kJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OJ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],MJ=we("sparkles",OJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],u5=we("tag",DJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],el=we("target",RJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hv=we("trash-2",IJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],so=we("trending-down",LJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],ii=we("trending-up",FJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],qv=we("upload",$J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gv=we("user",BJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],tl=we("users",UJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJ=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],VJ=we("utensils",zJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cu=we("wallet",WJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pu=we("x",HJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uE=we("zap",qJ),R2={en:{"app.name":"KharchaPal",welcome:"Namaste",quick_add:"Quick Add",quick_add_desc:"Type: 200 Uber",import_upi:"Import UPI",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"Recent Transactions",expenses:"Expenses",income:"Income",savings_goals:"Savings Goals",more_options:"More Options",reports:"Reports & Charts",about:"About App",budgets:"Monthly Budgets",accounts:"Bank Accounts",debts:"Debts & Loans",family:"Family Members",guide:"Quick Guide",settings:"Settings",language:"Language",select_language:"Select Language",add_expense:"Add Expense",save:"Save",cancel:"Cancel",amount:"Amount",category:"Category",date:"Date",notes:"Notes",borrowed:"Borrowed",borrowed_from:"Borrowed from",paid_by:"Paid by",split_payment:"Split Payment",shared_expense:"Shared Expense",goal_transfer:"Transfer to Goal",total_balance:"Total Balance",monthly_spending:"Monthly Spending",view_all:"View All",home:"Home",transactions:"Transactions",goals:"Goals",more:"More",welcome_title:"KharchaPal",welcome_desc:"Your simple household expense tracker for the whole family",create_family:"I'm Family Head - Create Family",join_family:"Join Existing Family",join_family_soon:"Join Family - Coming Soon",offline_first:"Offline-first  Privacy-focused  Made for Indian families",track_together:"Track Together",track_together_desc:"Manage household expenses with your family in one place. No more confusion about who paid for what.",smart_budgeting:"Smart Budgeting",smart_budgeting_desc:"Set monthly limits for Groceries, Travel, and more. Get alerts before you overspend.",settle_debts:"Settle Debts",settle_debts_desc:"Keep track of IOUs. Know exactly who owes whom and settle debts with a single click.",get_started:"Get Started",next:"Next",back:"Back"},hi:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"  ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:"   ",budgets:" ",accounts:" ",debts:"  ",family:"  ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:"  ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:"",welcome_title:"",welcome_desc:"        ",create_family:"     -  ",join_family:"    ",join_family_soon:"    -    ",offline_first:"-  -     ",track_together:"   ",track_together_desc:"                ,     ",smart_budgeting:" ",smart_budgeting_desc:",                 ",settle_debts:"  ",settle_debts_desc:"                 ",get_started:" ",next:"",back:""},mr:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:" ",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},ta:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:" & ",about:" ",budgets:"  ",accounts:" ",debts:"",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:"",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:"",split_payment:" ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},gu:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:"  ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""}},d5=C.createContext(void 0);function GJ({children:t}){const[e,n]=C.useState(()=>localStorage.getItem("kharchapal_language")||"en");C.useEffect(()=>{localStorage.setItem("kharchapal_language",e)},[e]);const r=i=>R2[e][i]||R2.en[i]||i;return f.jsx(d5.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function ma(){const t=C.useContext(d5);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}const Ha=[{id:1,titleKey:"track_together",descKey:"track_together_desc",icon:"",color:"bg-primary/10 text-primary"},{id:2,titleKey:"smart_budgeting",descKey:"smart_budgeting_desc",icon:"",color:"bg-green-500/10 text-green-600"},{id:3,titleKey:"settle_debts",descKey:"settle_debts_desc",icon:"",color:"bg-orange-500/10 text-orange-600"}];function KJ({onComplete:t}){const{t:e}=ma(),[n,r]=C.useState(0),i=()=>{n<Ha.length-1?r(n+1):t()},s=()=>{n>0&&r(n-1)};return f.jsxs("div",{className:"w-full py-4",children:[f.jsx("div",{className:"relative overflow-hidden min-h-[200px] flex flex-col items-center justify-center text-center",children:f.jsx(hY,{mode:"wait",children:f.jsxs(oc.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"w-full px-4",children:[f.jsx("div",{className:`w-20 h-20 mx-auto mb-4 rounded-full flex items-center justify-center text-4xl ${Ha[n].color}`,children:Ha[n].icon}),f.jsx("h3",{className:"text-xl font-bold mb-2",children:e(Ha[n].titleKey)}),f.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:e(Ha[n].descKey)})]},n)})}),f.jsx("div",{className:"flex justify-center gap-2 mt-6 mb-6",children:Ha.map((a,o)=>f.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${o===n?"w-6 bg-primary":"w-2 bg-primary/20"}`},o))}),f.jsxs("div",{className:"flex items-center justify-between px-2",children:[f.jsxs(ue,{variant:"ghost",size:"sm",onClick:s,disabled:n===0,className:n===0?"opacity-0":"opacity-100",children:[f.jsx(s5,{className:"h-4 w-4 mr-1"}),e("back")]}),f.jsxs(ue,{onClick:i,size:"sm",className:"px-6",children:[n===Ha.length-1?e("get_started"):e("next"),n!==Ha.length-1&&f.jsx(Wv,{className:"h-4 w-4 ml-1"})]})]})]})}function YJ({onCreateFamily:t,onJoinFamily:e}){const{t:n}=ma(),[r,i]=C.useState(!1);return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-tertiary/5",children:f.jsxs(oc.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[f.jsxs(tt,{className:"elevation-4 overflow-hidden border-2 border-outline-variant/50",children:[f.jsxs(Et,{className:"text-center pb-6 pt-8 bg-gradient-to-b from-primary-container/20 to-transparent",children:[f.jsx(oc.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-7xl mb-4",children:""}),f.jsx(jt,{className:"text-3xl",children:n("welcome_title")}),f.jsx(fn,{className:"mt-3 text-base",children:n("welcome_desc")})]}),f.jsx(_t,{className:"space-y-4 pt-2 pb-8",children:r?f.jsxs("div",{className:"pt-4 space-y-4",children:[f.jsx(oc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:f.jsxs(ue,{onClick:t,className:"w-full h-14 bg-primary hover:bg-primary/90 elevation-2 hover:elevation-3 transition-all duration-200 rounded-xl",children:[f.jsx(MJ,{className:"h-5 w-5 mr-2"}),n("create_family")]})}),f.jsx(oc.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:f.jsxs(ue,{onClick:e,variant:"outline",className:"w-full h-14 border-2 border-primary/20 hover:bg-primary/5 transition-all duration-200 rounded-xl",children:[f.jsx(tl,{className:"h-5 w-5 mr-2"}),n("join_family")]})}),f.jsx(oc.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:f.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>i(!1),className:"w-full text-muted-foreground",children:"Back to Intro"})})]}):f.jsx(KJ,{onComplete:()=>i(!0)})})]}),f.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:n("offline_first")})]})})}function Tt({className:t,type:e,...n}){return f.jsx("input",{type:e,"data-slot":"input",className:Le("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-outline-variant flex h-11 w-full min-w-0 rounded-xl border-2 px-4 py-2 text-base bg-surface-variant/30 transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-primary focus-visible:bg-surface-variant/50 focus-visible:ring-primary/20 focus-visible:ring-[3px]","hover:border-outline hover:bg-surface-variant/40","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Tf=l3();const h5=At(Tf);var XJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],QJ=XJ.reduce((t,e)=>{const n=_f(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),ZJ="Label",f5=C.forwardRef((t,e)=>f.jsx(QJ.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));f5.displayName=ZJ;var JJ=f5;function Me({className:t,...e}){return f.jsx(JJ,{"data-slot":"label",className:Le("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Qn=[];for(let t=0;t<256;++t)Qn.push((t+256).toString(16).slice(1));function eee(t,e=0){return(Qn[t[e+0]]+Qn[t[e+1]]+Qn[t[e+2]]+Qn[t[e+3]]+"-"+Qn[t[e+4]]+Qn[t[e+5]]+"-"+Qn[t[e+6]]+Qn[t[e+7]]+"-"+Qn[t[e+8]]+Qn[t[e+9]]+"-"+Qn[t[e+10]]+Qn[t[e+11]]+Qn[t[e+12]]+Qn[t[e+13]]+Qn[t[e+14]]+Qn[t[e+15]]).toLowerCase()}let m0;const tee=new Uint8Array(16);function nee(){if(!m0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");m0=crypto.getRandomValues.bind(crypto)}return m0(tee)}const ree=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I2={randomUUID:ree};function iee(t,e,n){t=t||{};const r=t.random??t.rng?.()??nee();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,eee(r)}function Kv(t,e,n){return I2.randomUUID&&!t?I2.randomUUID():iee(t)}function Qt(){return Kv()}function see(){return Math.random().toString(36).substring(2,8).toUpperCase()}function Pe(t,e="INR"){return new Intl.NumberFormat("en-IN",{style:"currency",currency:e,maximumFractionDigits:2}).format(t)}function ki(t){const e=typeof t=="string"?new Date(t):t;if(isNaN(e.getTime()))return"Unknown Date";const n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),e.toDateString()===n.toDateString()?"Today":e.toDateString()===r.toDateString()?"Yesterday":e.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:e.getFullYear()!==n.getFullYear()?"numeric":void 0})}function aee(t){return(typeof t=="string"?new Date(t):t).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function p5(t){switch(t){case"cash":return"";case"upi":return"";case"card":return"";case"borrowed":return"";default:return""}}function oee(t){switch(t){case"cash":return"Cash";case"upi":return"UPI";case"card":return"Card";case"borrowed":return"Borrowed";default:return t}}function yg(t){return{Groceries:"",Utilities:"",Rent:"",Transportation:"",Healthcare:"",Education:"",Entertainment:"","Food & Dining":"",Shopping:"","Household Items":"","Personal Care":"",Gifts:"",Other:""}[t]||""}function lee(t,e){if(e.length===0)return{valid:!1,error:"At least one payment method is required"};const n=e.reduce((i,s)=>i+s.amount,0);if(Math.abs(n-t)>.01)return{valid:!1,error:`Split amounts (${n.toFixed(2)}) must equal total (${t.toFixed(2)})`};for(const i of e)if(i.amount<=0)return{valid:!1,error:"Payment amounts must be greater than 0"};return{valid:!0}}function Fc(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)}function cee({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=ot(),[i,s]=C.useState(1),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(""),[m,g]=C.useState(!1),x=async()=>{if(!(!a.trim()||!l.trim())){g(!0);try{const v=Qt(),b=Qt(),w=see(),_={id:v,name:a.trim(),created_at:new Date().toISOString(),invite_code:w,currency:"INR"},A={id:b,family_id:v,name:l.trim(),phone:h.trim()||void 0,role:"admin",created_at:new Date().toISOString()};await st.addFamily(_),await st.addUser(A),r(_),n(A),t()}catch(v){console.error("Failed to create family:",v),alert("Failed to create family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(tt,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Create Your Family"}),f.jsx(fn,{children:i===1?"Let's start by setting up your family account":"Almost done! Tell us about yourself"})]}),f.jsx(_t,{className:"space-y-4",children:i===1?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"familyName",children:"Family Name"}),f.jsx(Tt,{id:"familyName",placeholder:"e.g., Sharma Family",value:a,onChange:v=>o(v.target.value),onKeyDown:v=>v.key==="Enter"&&a.trim()&&s(2)})]}),f.jsxs("div",{className:"flex gap-2",children:[e&&f.jsx(ue,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ue,{onClick:()=>s(2),disabled:!a.trim(),className:e?"flex-1":"w-full",children:"Continue"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"adminName",children:"Your Name"}),f.jsx(Tt,{id:"adminName",placeholder:"e.g., Priya Sharma",value:l,onChange:v=>c(v.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"adminPhone",children:"Phone Number (optional)"}),f.jsx(Tt,{id:"adminPhone",type:"tel",placeholder:"+91 9876543210",value:h,onChange:v=>d(v.target.value)})]}),f.jsx("div",{className:"bg-primary-container/30 p-4 rounded-lg border border-primary/20",children:f.jsxs("p",{className:"text-sm text-on-primary-container",children:[f.jsx("strong",{children:"You'll be the Admin"}),"  You can view all family expenses and manage members."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:()=>s(1),className:"flex-1",children:"Back"}),f.jsx(ue,{onClick:x,disabled:!l.trim()||m,className:"flex-1",children:m?"Creating...":"Create Family"})]})]})})]})})}function uee({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=ot(),[i,s]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState(null),[m,g]=C.useState(!1),[x,v]=C.useState(""),b=async()=>{if(i.trim()){g(!0),v("");try{const A=(await st.getAll("families")).find(T=>T.invite_code.toLowerCase()===i.trim().toLowerCase());A?d(A):v("Invalid invite code. Please check and try again.")}catch(_){console.error("Failed to search family:",_),v("Something went wrong. Please try again.")}finally{g(!1)}}},w=async()=>{if(!(!h||!a.trim())){g(!0);try{const A={id:Qt(),family_id:h.id,name:a.trim(),phone:l.trim()||void 0,role:"member",created_at:new Date().toISOString()};await st.addUser(A),r(h),n(A),t()}catch(_){console.error("Failed to join family:",_),alert("Failed to join family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(tt,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Join a Family"}),f.jsx(fn,{children:h?`Join ${h.name}`:"Enter the invite code shared by your family admin"})]}),f.jsx(_t,{className:"space-y-4",children:h?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-tertiary-container/30 p-4 rounded-lg border border-tertiary/20",children:f.jsxs("p",{className:"text-sm text-on-tertiary-container",children:[" Family found: ",f.jsx("strong",{children:h.name})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"memberName",children:"Your Name"}),f.jsx(Tt,{id:"memberName",placeholder:"e.g., Rohit Sharma",value:a,onChange:_=>o(_.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"memberPhone",children:"Phone Number (optional)"}),f.jsx(Tt,{id:"memberPhone",type:"tel",placeholder:"+91 9876543210",value:l,onChange:_=>c(_.target.value)})]}),f.jsx("div",{className:"bg-secondary-container/30 p-4 rounded-lg border border-secondary/20",children:f.jsxs("p",{className:"text-sm text-on-secondary-container",children:[f.jsx("strong",{children:"You'll be a Member"}),"  You can track your own expenses and view shared family data."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:()=>{d(null),s("")},className:"flex-1",children:"Back"}),f.jsx(ue,{onClick:w,disabled:!a.trim()||m,className:"flex-1",children:m?"Joining...":"Join Family"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"inviteCode",children:"Invite Code"}),f.jsx(Tt,{id:"inviteCode",placeholder:"e.g., ABC123",value:i,onChange:_=>{s(_.target.value.toUpperCase()),v("")},onKeyDown:_=>_.key==="Enter"&&i.trim()&&b(),maxLength:6}),x&&f.jsx("p",{className:"text-sm text-red-500",children:x})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ue,{onClick:b,disabled:!i.trim()||m,className:"flex-1",children:m?"Searching...":"Continue"})]})]})})]})})}function dee(){const{currentUser:t,currentFamily:e,expenses:n,income:r,debts:i,users:s}=ot(),a=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(o.getFullYear(),o.getMonth(),1),h=t?.role==="admin"?n:n.filter(E=>E.is_shared||E.created_by===t?.id),d=t?.role==="admin"?r:r.filter(E=>E.is_shared||E.created_by===t?.id),m=h.filter(E=>new Date(E.date)>=l),g=h.filter(E=>new Date(E.date)>=c),x=d.filter(E=>new Date(E.date)>=c),v=m.reduce((E,k)=>E+k.total_amount,0),b=g.reduce((E,k)=>E+k.total_amount,0),w=x.reduce((E,k)=>E+k.amount,0),_=i.filter(E=>E.status==="open"&&E.borrower_user_id===t?.id),A=i.filter(E=>E.status==="open"&&E.lender_user_id===t?.id),T=_.reduce((E,k)=>E+k.amount,0),P=A.reduce((E,k)=>E+k.amount,0);return{todayTotal:v,monthTotal:b,monthIncomeTotal:w,todayCount:m.length,monthCount:g.length,totalOwed:T,totalOwedToMe:P,activeMembers:s.length,netBalance:w-b}},[n,r,i,t,s]);return f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(tt,{className:"bg-error-container/30 border-destructive/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1.5 text-on-error-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-destructive/10",children:f.jsx(so,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Expenses (Month)"})]}),f.jsx(jt,{className:"text-destructive text-2xl",children:Pe(a.monthTotal,e?.currency)})]}),f.jsx(_t,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.monthCount," ",a.monthCount===1?"expense":"expenses"]})})]}),f.jsxs(tt,{className:"bg-success-container/20 border-success/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1.5 text-on-success-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-success/10",children:f.jsx(ii,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Income (Month)"})]}),f.jsx(jt,{className:"text-success text-2xl",children:Pe(a.monthIncomeTotal,e?.currency)})]}),f.jsx(_t,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Net: ",f.jsx("span",{className:a.netBalance>=0?"text-success":"text-destructive",children:Pe(a.netBalance,e?.currency)})]})})]}),t?.role==="admin"&&f.jsx(tt,{className:"bg-primary-container/30 border-primary/20 elevation-1 hover:elevation-3 transition-all duration-300",children:f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1.5 text-on-primary-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-primary/10",children:f.jsx(tl,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Family Members"})]}),f.jsx(jt,{className:"text-xl text-primary",children:a.activeMembers})]})})]})}const hee={groceries:TJ,food:VJ,transport:uZ,shopping:EJ,utilities:uE,entertainment:zZ,health:YZ,education:qZ,other:o5},L2={groceries:"bg-green-100 dark:bg-green-950/30 text-green-600 dark:text-green-400",food:"bg-orange-100 dark:bg-orange-950/30 text-orange-600 dark:text-orange-400",transport:"bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400",shopping:"bg-pink-100 dark:bg-pink-950/30 text-pink-600 dark:text-pink-400",utilities:"bg-purple-100 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400",entertainment:"bg-red-100 dark:bg-red-950/30 text-red-600 dark:text-red-400",health:"bg-teal-100 dark:bg-teal-950/30 text-teal-600 dark:text-teal-400",education:"bg-indigo-100 dark:bg-indigo-950/30 text-indigo-600 dark:text-indigo-400",other:"bg-gray-100 dark:bg-gray-950/30 text-gray-600 dark:text-gray-400"};function fee(){const{expenses:t,currentUser:e,currentFamily:n}=ot(),r=C.useMemo(()=>{const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),1),o=(e?.role==="admin"?t:t.filter(d=>d.is_shared||d.created_by===e?.id)).filter(d=>new Date(d.date)>=s),l={};o.forEach(d=>{l[d.category]||(l[d.category]=0),l[d.category]+=d.total_amount});const c=Object.values(l).reduce((d,m)=>d+m,0);return Object.entries(l).map(([d,m])=>({category:d,amount:m,percentage:c>0?Math.round(m/c*100):0})).sort((d,m)=>m.amount-d.amount).slice(0,5)},[t,e]);return r.length===0?null:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ii,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{children:"Top Spending"})]}),f.jsx("div",{className:"space-y-2",children:r.map(({category:i,amount:s,percentage:a})=>{const o=hee[i]||o5,l=L2[i]||L2.other;return f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-card border border-border hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center shrink-0 ${l}`,children:f.jsx(o,{className:"h-6 w-6"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium capitalize",children:i}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Pe(s,n?.currency)})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsxs("p",{className:"font-semibold text-lg",children:[a,"%"]})})]},i)})})]})}function pee(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,v=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,mee(i,...e)]}function mee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var gee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],m5=gee.reduce((t,e)=>{const n=_f(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),dE="Progress",hE=100,[vee]=pee(dE),[yee,bee]=vee(dE),g5=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=xee,...a}=t;(i||i===0)&&!F2(i)&&console.error(wee(`${i}`,"Progress"));const o=F2(i)?i:hE;r!==null&&!$2(r,o)&&console.error(See(`${r}`,"Progress"));const l=$2(r,o)?r:null,c=bg(l)?s(l,o):void 0;return f.jsx(yee,{scope:n,value:l,max:o,children:f.jsx(m5.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":bg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":b5(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});g5.displayName=dE;var v5="ProgressIndicator",y5=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=bee(v5,n);return f.jsx(m5.div,{"data-state":b5(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});y5.displayName=v5;function xee(t,e){return`${Math.round(t/e*100)}%`}function b5(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function bg(t){return typeof t=="number"}function F2(t){return bg(t)&&!isNaN(t)&&t>0}function $2(t,e){return bg(t)&&!isNaN(t)&&t<=e&&t>=0}function wee(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${hE}\`.`}function See(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${hE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _ee=g5,Aee=y5;function kf({className:t,value:e,indicatorClassName:n,...r}){return f.jsx(_ee,{"data-slot":"progress",className:Le("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...r,children:f.jsx(Aee,{"data-slot":"progress-indicator",className:Le("bg-primary h-full w-full flex-1 transition-all",n),style:{transform:`translateX(-${100-(e||0)}%)`}})})}function Cee(){const{budgets:t,expenses:e}=ot(),{t:n}=ma(),r=C.useMemo(()=>{const i=new Date,s=i.getMonth(),a=i.getFullYear(),o=t.filter(x=>x.period==="monthly");if(o.length===0)return null;const l=o.reduce((x,v)=>x+v.limit_amount,0),c=new Set(o.map(x=>x.category)),d=e.filter(x=>{const v=new Date(x.date);return isNaN(v.getTime())?!1:v.getMonth()===s&&v.getFullYear()===a&&c.has(x.category)}).reduce((x,v)=>x+v.total_amount,0),m=Math.min(Math.round(d/l*100),100);let g="bg-primary";return m>=90?g="bg-destructive":m>=75&&(g="bg-orange-500"),{totalBudgetLimit:l,totalSpent:d,percentage:m,statusColor:g,count:o.length}},[t,e]);return r?f.jsxs(tt,{className:"bg-gradient-to-br from-surface-variant/30 to-surface-variant/10 border-surface-variant/50 overflow-hidden",children:[f.jsx(Et,{className:"pb-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(jt,{className:"text-base font-medium flex items-center gap-2",children:[f.jsx(ii,{className:"h-4 w-4 text-primary"}),n("monthly_budget")]}),f.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-surface-variant text-on-surface-variant",children:[r.count," ",n("categories")]})]})}),f.jsx(_t,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsxs("span",{className:"text-2xl font-bold",children:["",r.totalSpent.toLocaleString("en-IN")]}),f.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["/ ",r.totalBudgetLimit.toLocaleString("en-IN")]})]}),f.jsxs("span",{className:`font-bold ${r.percentage>=90?"text-destructive":r.percentage>=75?"text-orange-600":"text-primary"}`,children:[r.percentage,"%"]})]}),f.jsx(kf,{value:r.percentage,className:"h-2",indicatorClassName:r.statusColor}),r.percentage>=90&&f.jsxs("div",{className:"flex items-center gap-2 text-xs text-destructive mt-2 bg-destructive/10 p-2 rounded-lg",children:[f.jsx(Ic,{className:"h-3 w-3"}),f.jsx("span",{children:"You've almost reached your budget limit!"})]})]})})]}):null}function Pee({onShowHistory:t}){const{debts:e,currentUser:n}=ot(),{t:r}=ma(),i=C.useMemo(()=>{if(!n)return null;const s=e.filter(l=>l.status==="open");if(s.length===0)return null;const a=s.filter(l=>l.borrower_user_id===n.id).reduce((l,c)=>l+c.amount,0),o=s.filter(l=>l.lender_user_id===n.id).reduce((l,c)=>l+c.amount,0);return a===0&&o===0?null:{youOwe:a,owedToYou:o}},[e,n]);return i?f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.youOwe>0&&f.jsx(tt,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200 dark:border-orange-800 cursor-pointer hover:shadow-md transition-all",onClick:t,children:f.jsxs(_t,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/40 rounded-full",children:f.jsx(tZ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:r("you_owe")})]}),f.jsxs("span",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:["",i.youOwe.toLocaleString("en-IN")]})]})}),i.owedToYou>0&&f.jsx(tt,{className:"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800 cursor-pointer hover:shadow-md transition-all",onClick:t,children:f.jsxs(_t,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/40 rounded-full",children:f.jsx(XQ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:r("owed_to_you")})]}),f.jsxs("span",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:["",i.owedToYou.toLocaleString("en-IN")]})]})})]}):null}const Eee=CP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Jt({className:t,variant:e,asChild:n=!1,...r}){const i=n?d3:"span";return f.jsx(i,{"data-slot":"badge",className:Le(Eee({variant:e}),t),...r})}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function jee(t,e){const n=C.createContext(e),r=s=>{const{children:a,...o}=s,l=C.useMemo(()=>o,Object.values(o));return f.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ri(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a),l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,v=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Tee(i,...e)]}function Tee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Sn=globalThis?.document?C.useLayoutEffect:()=>{},kee=AP[" useId ".trim().toString()]||(()=>{}),Nee=0;function Qi(t){const[e,n]=C.useState(kee());return Sn(()=>{n(r=>r??String(Nee++))},[t]),t||(e?`radix-${e}`:"")}var Oee=AP[" useInsertionEffect ".trim().toString()]||Sn;function ca({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=Mee({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const h=C.useRef(t!==void 0);C.useEffect(()=>{const d=h.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=o},[o,r])}const c=C.useCallback(h=>{if(o){const d=Dee(h)?h(t):h;d!==t&&a.current?.(d)}else s(h)},[o,t,s,a]);return[l,c]}function Mee({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return Oee(()=>{s.current=e},[e]),C.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function Dee(t){return typeof t=="function"}function Ree(t){const e=Iee(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Fee);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Iee(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Bee(i),o=$ee(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Lee=Symbol("radix.slottable");function Fee(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Lee}function $ee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Bee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Uee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ue=Uee.reduce((t,e)=>{const n=Ree(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function x5(t,e){t&&Tf.flushSync(()=>t.dispatchEvent(e))}function zn(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function zee(t,e=globalThis?.document){const n=zn(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Vee="DismissableLayer",SA="dismissableLayer.update",Wee="dismissableLayer.pointerDownOutside",Hee="dismissableLayer.focusOutside",B2,w5=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Nf=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=C.useContext(w5),[h,d]=C.useState(null),m=h?.ownerDocument??globalThis?.document,[,g]=C.useState({}),x=et(e,k=>d(k)),v=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=v.indexOf(b),_=h?v.indexOf(h):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,T=_>=w,P=Kee(k=>{const O=k.target,D=[...c.branches].some(F=>F.contains(O));!T||D||(i?.(k),a?.(k),k.defaultPrevented||o?.())},m),E=Yee(k=>{const O=k.target;[...c.branches].some(F=>F.contains(O))||(s?.(k),a?.(k),k.defaultPrevented||o?.())},m);return zee(k=>{_===c.layers.size-1&&(r?.(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},m),C.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(B2=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),U2(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=B2)}},[h,m,n,c]),C.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),U2())},[h,c]),C.useEffect(()=>{const k=()=>g({});return document.addEventListener(SA,k),()=>document.removeEventListener(SA,k)},[]),f.jsx(Ue.div,{...l,ref:x,style:{pointerEvents:A?T?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,E.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,P.onPointerDownCapture)})});Nf.displayName=Vee;var qee="DismissableLayerBranch",Gee=C.forwardRef((t,e)=>{const n=C.useContext(w5),r=C.useRef(null),i=et(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(Ue.div,{...t,ref:i})});Gee.displayName=qee;function Kee(t,e=globalThis?.document){const n=zn(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){S5(Wee,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Yee(t,e=globalThis?.document){const n=zn(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&S5(Hee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function U2(){const t=new CustomEvent(SA);document.dispatchEvent(t)}function S5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?x5(i,s):i.dispatchEvent(s)}var g0="focusScope.autoFocusOnMount",v0="focusScope.autoFocusOnUnmount",z2={bubbles:!1,cancelable:!0},Xee="FocusScope",Of=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=C.useState(null),c=zn(i),h=zn(s),d=C.useRef(null),m=et(e,v=>l(v)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let v=function(A){if(g.paused||!o)return;const T=A.target;o.contains(T)?d.current=T:Ka(d.current,{select:!0})},b=function(A){if(g.paused||!o)return;const T=A.relatedTarget;T!==null&&(o.contains(T)||Ka(d.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const P of A)P.removedNodes.length>0&&Ka(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const _=new MutationObserver(w);return o&&_.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),_.disconnect()}}},[r,o,g.paused]),C.useEffect(()=>{if(o){W2.add(g);const v=document.activeElement;if(!o.contains(v)){const w=new CustomEvent(g0,z2);o.addEventListener(g0,c),o.dispatchEvent(w),w.defaultPrevented||(Qee(nte(_5(o)),{select:!0}),document.activeElement===v&&Ka(o))}return()=>{o.removeEventListener(g0,c),setTimeout(()=>{const w=new CustomEvent(v0,z2);o.addEventListener(v0,h),o.dispatchEvent(w),w.defaultPrevented||Ka(v??document.body,{select:!0}),o.removeEventListener(v0,h),W2.remove(g)},0)}}},[o,c,h,g]);const x=C.useCallback(v=>{if(!n&&!r||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,w=document.activeElement;if(b&&w){const _=v.currentTarget,[A,T]=Zee(_);A&&T?!v.shiftKey&&w===T?(v.preventDefault(),n&&Ka(A,{select:!0})):v.shiftKey&&w===A&&(v.preventDefault(),n&&Ka(T,{select:!0})):w===_&&v.preventDefault()}},[n,r,g.paused]);return f.jsx(Ue.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});Of.displayName=Xee;function Qee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ka(r,{select:e}),document.activeElement!==n)return}function Zee(t){const e=_5(t),n=V2(e,t),r=V2(e.reverse(),t);return[n,r]}function _5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function V2(t,e){for(const n of t)if(!Jee(n,{upTo:e}))return n}function Jee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ete(t){return t instanceof HTMLInputElement&&"select"in t}function Ka(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ete(t)&&e&&t.select()}}var W2=tte();function tte(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=H2(t,e),t.unshift(e)},remove(e){t=H2(t,e),t[0]?.resume()}}}function H2(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function nte(t){return t.filter(e=>e.tagName!=="A")}var rte="Portal",Mf=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=C.useState(!1);Sn(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?h5.createPortal(f.jsx(Ue.div,{...r,ref:e}),a):null});Mf.displayName=rte;function ite(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var Cr=t=>{const{present:e,children:n}=t,r=ste(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=et(r.ref,ate(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};Cr.displayName="Presence";function ste(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[o,l]=ite(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=_m(r.current);s.current=o==="mounted"?c:"none"},[o]),Sn(()=>{const c=r.current,h=i.current;if(h!==t){const m=s.current,g=_m(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Sn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,d=g=>{const v=_m(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&v&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(s.current=_m(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function _m(t){return t?.animationName||"none"}function ate(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var y0=0;function Yv(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??q2()),document.body.insertAdjacentElement("beforeend",t[1]??q2()),y0++,()=>{y0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),y0--}},[])}function q2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ms=function(){return ms=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ms.apply(this,arguments)};function A5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ote(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ig="right-scroll-bar-position",sg="width-before-scroll-bar",lte="with-scroll-bars-hidden",cte="--removed-body-scroll-bar-size";function b0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function ute(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var dte=typeof window<"u"?C.useLayoutEffect:C.useEffect,G2=new WeakMap;function hte(t,e){var n=ute(null,function(r){return t.forEach(function(i){return b0(i,r)})});return dte(function(){var r=G2.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||b0(o,null)}),s.forEach(function(o){i.has(o)||b0(o,a)})}G2.set(n,t)},[t]),n}function fte(t){return t}function pte(t,e){e===void 0&&(e=fte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var h=a;a=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){a.push(h),c()},filter:function(h){return a=a.filter(h),n}}}};return i}function mte(t){t===void 0&&(t={});var e=pte(null);return e.options=ms({async:!0,ssr:!1},t),e}var C5=function(t){var e=t.sideCar,n=A5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,ms({},n))};C5.isSideCarExport=!0;function gte(t,e){return t.useMedium(e),C5}var P5=mte(),x0=function(){},Xv=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:x0,onWheelCapture:x0,onTouchMoveCapture:x0}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,d=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,v=t.inert,b=t.allowPinchZoom,w=t.as,_=w===void 0?"div":w,A=t.gapMode,T=A5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,E=hte([n,e]),k=ms(ms({},T),i);return C.createElement(C.Fragment,null,h&&C.createElement(P,{sideCar:P5,removeScrollBar:c,shards:d,noRelative:g,noIsolation:x,inert:v,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:A}),a?C.cloneElement(C.Children.only(o),ms(ms({},k),{ref:E})):C.createElement(_,ms({},k,{className:l,ref:E}),o))});Xv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Xv.classNames={fullWidth:sg,zeroRight:ig};var vte=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yte(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=vte();return e&&t.setAttribute("nonce",e),t}function bte(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xte(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wte=function(){var t=0,e=null;return{add:function(n){t==0&&(e=yte())&&(bte(e,n),xte(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Ste=function(){var t=wte();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},E5=function(){var t=Ste(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},_te={left:0,top:0,right:0,gap:0},w0=function(t){return parseInt(t||"",10)||0},Ate=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[w0(n),w0(r),w0(i)]},Cte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return _te;var e=Ate(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Pte=E5(),Cc="data-scroll-locked",Ete=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Cc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ig,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(sg,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cc,`] {
    `).concat(cte,": ").concat(o,`px;
  }
`)},K2=function(){var t=parseInt(document.body.getAttribute(Cc)||"0",10);return isFinite(t)?t:0},jte=function(){C.useEffect(function(){return document.body.setAttribute(Cc,(K2()+1).toString()),function(){var t=K2()-1;t<=0?document.body.removeAttribute(Cc):document.body.setAttribute(Cc,t.toString())}},[])},Tte=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;jte();var s=C.useMemo(function(){return Cte(i)},[i]);return C.createElement(Pte,{styles:Ete(s,!e,i,n?"":"!important")})},_A=!1;if(typeof window<"u")try{var Am=Object.defineProperty({},"passive",{get:function(){return _A=!0,!0}});window.addEventListener("test",Am,Am),window.removeEventListener("test",Am,Am)}catch{_A=!1}var Zl=_A?{passive:!1}:!1,kte=function(t){return t.tagName==="TEXTAREA"},j5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!kte(t)&&n[e]==="visible")},Nte=function(t){return j5(t,"overflowY")},Ote=function(t){return j5(t,"overflowX")},Y2=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=T5(t,r);if(i){var s=k5(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Mte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Dte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},T5=function(t,e){return t==="v"?Nte(e):Ote(e)},k5=function(t,e){return t==="v"?Mte(e):Dte(e)},Rte=function(t,e){return t==="h"&&e==="rtl"?-1:1},Ite=function(t,e,n,r,i){var s=Rte(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,h=a>0,d=0,m=0;do{if(!o)break;var g=k5(t,o),x=g[0],v=g[1],b=g[2],w=v-b-s*x;(x||w)&&T5(t,o)&&(d+=w,m+=x);var _=o.parentNode;o=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(h&&Math.abs(d)<1||!h&&Math.abs(m)<1)&&(c=!0),c},Cm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},X2=function(t){return[t.deltaX,t.deltaY]},Q2=function(t){return t&&"current"in t?t.current:t},Lte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Fte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},$te=0,Jl=[];function Bte(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState($te++)[0],s=C.useState(E5)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var v=ote([t.lockRef.current],(t.shards||[]).map(Q2),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var w=Cm(v),_=n.current,A="deltaX"in v?v.deltaX:_[0]-w[0],T="deltaY"in v?v.deltaY:_[1]-w[1],P,E=v.target,k=Math.abs(A)>Math.abs(T)?"h":"v";if("touches"in v&&k==="h"&&E.type==="range")return!1;var O=Y2(k,E);if(!O)return!0;if(O?P=k:(P=k==="v"?"h":"v",O=Y2(k,E)),!O)return!1;if(!r.current&&"changedTouches"in v&&(A||T)&&(r.current=P),!P)return!0;var D=r.current||P;return Ite(D,b,v,D==="h"?A:T)},[]),l=C.useCallback(function(v){var b=v;if(!(!Jl.length||Jl[Jl.length-1]!==s)){var w="deltaY"in b?X2(b):Cm(b),_=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&Lte(P.delta,w)})[0];if(_&&_.should){b.cancelable&&b.preventDefault();return}if(!_){var A=(a.current.shards||[]).map(Q2).filter(Boolean).filter(function(P){return P.contains(b.target)}),T=A.length>0?o(b,A[0]):!a.current.noIsolation;T&&b.cancelable&&b.preventDefault()}}},[]),c=C.useCallback(function(v,b,w,_){var A={name:v,delta:b,target:w,should:_,shadowParent:Ute(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(T){return T!==A})},1)},[]),h=C.useCallback(function(v){n.current=Cm(v),r.current=void 0},[]),d=C.useCallback(function(v){c(v.type,X2(v),v.target,o(v,t.lockRef.current))},[]),m=C.useCallback(function(v){c(v.type,Cm(v),v.target,o(v,t.lockRef.current))},[]);C.useEffect(function(){return Jl.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Zl),document.addEventListener("touchmove",l,Zl),document.addEventListener("touchstart",h,Zl),function(){Jl=Jl.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Zl),document.removeEventListener("touchmove",l,Zl),document.removeEventListener("touchstart",h,Zl)}},[]);var g=t.removeScrollBar,x=t.inert;return C.createElement(C.Fragment,null,x?C.createElement(s,{styles:Fte(i)}):null,g?C.createElement(Tte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ute(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const zte=gte(P5,Bte);var Df=C.forwardRef(function(t,e){return C.createElement(Xv,ms({},t,{ref:e,sideCar:zte}))});Df.classNames=Xv.classNames;var Vte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},ec=new WeakMap,Pm=new WeakMap,Em={},S0=0,N5=function(t){return t&&(t.host||N5(t.parentNode))},Wte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=N5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Hte=function(t,e,n,r){var i=Wte(e,Array.isArray(t)?t:[t]);Em[n]||(Em[n]=new WeakMap);var s=Em[n],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var h=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(m){if(o.has(m))h(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",v=(ec.get(m)||0)+1,b=(s.get(m)||0)+1;ec.set(m,v),s.set(m,b),a.push(m),v===1&&x&&Pm.set(m,!0),b===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return h(e),o.clear(),S0++,function(){a.forEach(function(d){var m=ec.get(d)-1,g=s.get(d)-1;ec.set(d,m),s.set(d,g),m||(Pm.has(d)||d.removeAttribute(r),Pm.delete(d)),g||d.removeAttribute(n)}),S0--,S0||(ec=new WeakMap,ec=new WeakMap,Pm=new WeakMap,Em={})}},Qv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Vte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),Hte(r,i,n,"aria-hidden")):function(){return null}};function qte(t){const e=Gte(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Yte);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Gte(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Qte(i),o=Xte(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kte=Symbol("radix.slottable");function Yte(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kte}function Xte(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Qte(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Zv="Dialog",[O5]=Ri(Zv),[Zte,rs]=O5(Zv),M5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=C.useRef(null),l=C.useRef(null),[c,h]=ca({prop:r,defaultProp:i??!1,onChange:s,caller:Zv});return f.jsx(Zte,{scope:e,triggerRef:o,contentRef:l,contentId:Qi(),titleId:Qi(),descriptionId:Qi(),open:c,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(d=>!d),[h]),modal:a,children:n})};M5.displayName=Zv;var D5="DialogTrigger",R5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(D5,n),s=et(e,i.triggerRef);return f.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":mE(i.open),...r,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});R5.displayName=D5;var fE="DialogPortal",[Jte,I5]=O5(fE,{forceMount:void 0}),L5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=rs(fE,e);return f.jsx(Jte,{scope:e,forceMount:n,children:C.Children.map(r,a=>f.jsx(Cr,{present:n||s.open,children:f.jsx(Mf,{asChild:!0,container:i,children:a})}))})};L5.displayName=fE;var xg="DialogOverlay",F5=C.forwardRef((t,e)=>{const n=I5(xg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=rs(xg,t.__scopeDialog);return s.modal?f.jsx(Cr,{present:r||s.open,children:f.jsx(tne,{...i,ref:e})}):null});F5.displayName=xg;var ene=qte("DialogOverlay.RemoveScroll"),tne=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(xg,n);return f.jsx(Df,{as:ene,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Ue.div,{"data-state":mE(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sl="DialogContent",$5=C.forwardRef((t,e)=>{const n=I5(sl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=rs(sl,t.__scopeDialog);return f.jsx(Cr,{present:r||s.open,children:s.modal?f.jsx(nne,{...i,ref:e}):f.jsx(rne,{...i,ref:e})})});$5.displayName=sl;var nne=C.forwardRef((t,e)=>{const n=rs(sl,t.__scopeDialog),r=C.useRef(null),i=et(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return Qv(s)},[]),f.jsx(B5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),rne=C.forwardRef((t,e)=>{const n=rs(sl,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(B5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),B5=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=rs(sl,n),l=C.useRef(null),c=et(e,l);return Yv(),f.jsxs(f.Fragment,{children:[f.jsx(Of,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Nf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":mE(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(ine,{titleId:o.titleId}),f.jsx(ane,{contentRef:l,descriptionId:o.descriptionId})]})]})}),pE="DialogTitle",U5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(pE,n);return f.jsx(Ue.h2,{id:i.titleId,...r,ref:e})});U5.displayName=pE;var z5="DialogDescription",V5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(z5,n);return f.jsx(Ue.p,{id:i.descriptionId,...r,ref:e})});V5.displayName=z5;var W5="DialogClose",H5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=rs(W5,n);return f.jsx(Ue.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});H5.displayName=W5;function mE(t){return t?"open":"closed"}var q5="DialogTitleWarning",[dke,G5]=jee(q5,{contentName:sl,titleName:pE,docsSlug:"dialog"}),ine=({titleId:t})=>{const e=G5(q5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},sne="DialogDescriptionWarning",ane=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${G5(sne).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},K5=M5,Y5=R5,X5=L5,Jv=F5,Q5=$5,Z5=U5,J5=V5,eU=H5;function ey({...t}){return f.jsx(K5,{"data-slot":"sheet",...t})}function one({...t}){return f.jsx(Y5,{"data-slot":"sheet-trigger",...t})}function lne({...t}){return f.jsx(X5,{"data-slot":"sheet-portal",...t})}const tU=C.forwardRef(({className:t,...e},n)=>f.jsx(Jv,{ref:n,"data-slot":"sheet-overlay",className:Le("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));tU.displayName=Jv.displayName;function ty({className:t,children:e,side:n="right",...r}){return f.jsxs(lne,{children:[f.jsx(tU,{}),f.jsxs(Q5,{"data-slot":"sheet-content",className:Le("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,f.jsxs(eU,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[f.jsx(Pu,{className:"size-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function gE({className:t,...e}){return f.jsx("div",{"data-slot":"sheet-header",className:Le("flex flex-col gap-1.5 p-4",t),...e})}function ny({className:t,...e}){return f.jsx(Z5,{"data-slot":"sheet-title",className:Le("text-foreground font-semibold",t),...e})}function vE({className:t,...e}){return f.jsx(J5,{"data-slot":"sheet-description",className:Le("text-muted-foreground text-sm",t),...e})}function cne(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=d=>{const{scope:m,children:g,...x}=d,v=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(v.Provider,{value:b,children:g})};c.displayName=s+"Provider";function h(d,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,une(i,...e)]}function une(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var dne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yE=dne.reduce((t,e)=>{const n=_f(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),_0={exports:{}},A0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z2;function hne(){if(Z2)return A0;Z2=1;var t=Fv();function e(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(d,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),v=x[0].inst,b=x[1];return s(function(){v.value=g,v.getSnapshot=m,l(v)&&b({inst:v})},[d,g,m]),i(function(){return l(v)&&b({inst:v}),d(function(){l(v)&&b({inst:v})})},[d]),a(g),g}function l(d){var m=d.getSnapshot;d=d.value;try{var g=m();return!n(d,g)}catch{return!0}}function c(d,m){return m()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return A0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,A0}var J2;function fne(){return J2||(J2=1,_0.exports=hne()),_0.exports}var pne=fne();function mne(){return pne.useSyncExternalStore(gne,()=>!0,()=>!1)}function gne(){return()=>{}}var bE="Avatar",[vne]=cne(bE),[yne,nU]=vne(bE),rU=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return f.jsx(yne,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:f.jsx(yE.span,{...r,ref:e})})});rU.displayName=bE;var iU="AvatarImage",bne=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=nU(iU,n),o=xne(r,s),l=zn(c=>{i(c),a.onImageLoadingStatusChange(c)});return Sn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?f.jsx(yE.img,{...s,ref:e,src:r}):null});bne.displayName=iU;var sU="AvatarFallback",aU=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=nU(sU,n),[a,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?f.jsx(yE.span,{...i,ref:e}):null});aU.displayName=sU;function eM(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function xne(t,{referrerPolicy:e,crossOrigin:n}){const r=mne(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=C.useState(()=>eM(s,t));return Sn(()=>{o(eM(s,t))},[s,t]),Sn(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),h=l("error");return s.addEventListener("load",c),s.addEventListener("error",h),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",h)}},[s,n,e]),a}var wne=rU,Sne=aU;function $c({className:t,...e}){return f.jsx(wne,{"data-slot":"avatar",className:Le("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Bc({className:t,...e}){return f.jsx(Sne,{"data-slot":"avatar-fallback",className:Le("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function _h(t,[e,n]){return Math.min(n,Math.max(e,t))}function tM(t){const e=_ne(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Cne);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function _ne(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Ene(i),o=Pne(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ane=Symbol("radix.slottable");function Cne(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ane}function Pne(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Ene(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ry(t){const e=t+"CollectionProvider",[n,r]=Ri(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:b,children:w}=v,_=z.useRef(null),A=z.useRef(new Map).current;return f.jsx(i,{scope:b,itemMap:A,collectionRef:_,children:w})};a.displayName=e;const o=t+"CollectionSlot",l=tM(o),c=z.forwardRef((v,b)=>{const{scope:w,children:_}=v,A=s(o,w),T=et(b,A.collectionRef);return f.jsx(l,{ref:T,children:_})});c.displayName=o;const h=t+"CollectionItemSlot",d="data-radix-collection-item",m=tM(h),g=z.forwardRef((v,b)=>{const{scope:w,children:_,...A}=v,T=z.useRef(null),P=et(b,T),E=s(h,w);return z.useEffect(()=>(E.itemMap.set(T,{ref:T,...A}),()=>void E.itemMap.delete(T))),f.jsx(m,{[d]:"",ref:P,children:_})});g.displayName=h;function x(v){const b=s(t+"CollectionConsumer",v);return z.useCallback(()=>{const _=b.collectionRef.current;if(!_)return[];const A=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(b.itemMap.values()).sort((E,k)=>A.indexOf(E.ref.current)-A.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},x,r]}var jne=C.createContext(void 0);function Eu(t){const e=C.useContext(jne);return t||e||"ltr"}const Tne=["top","right","bottom","left"],ao=Math.min,Zr=Math.max,wg=Math.round,jm=Math.floor,As=t=>({x:t,y:t}),kne={left:"right",right:"left",bottom:"top",top:"bottom"},Nne={start:"end",end:"start"};function AA(t,e,n){return Zr(t,ao(e,n))}function ua(t,e){return typeof t=="function"?t(e):t}function da(t){return t.split("-")[0]}function ju(t){return t.split("-")[1]}function xE(t){return t==="x"?"y":"x"}function wE(t){return t==="y"?"height":"width"}const One=new Set(["top","bottom"]);function gs(t){return One.has(da(t))?"y":"x"}function SE(t){return xE(gs(t))}function Mne(t,e,n){n===void 0&&(n=!1);const r=ju(t),i=SE(t),s=wE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Sg(a)),[a,Sg(a)]}function Dne(t){const e=Sg(t);return[CA(t),e,CA(e)]}function CA(t){return t.replace(/start|end/g,e=>Nne[e])}const nM=["left","right"],rM=["right","left"],Rne=["top","bottom"],Ine=["bottom","top"];function Lne(t,e,n){switch(t){case"top":case"bottom":return n?e?rM:nM:e?nM:rM;case"left":case"right":return e?Rne:Ine;default:return[]}}function Fne(t,e,n,r){const i=ju(t);let s=Lne(da(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(CA)))),s}function Sg(t){return t.replace(/left|right|bottom|top/g,e=>kne[e])}function $ne(t){return{top:0,right:0,bottom:0,left:0,...t}}function oU(t){return typeof t!="number"?$ne(t):{top:t,right:t,bottom:t,left:t}}function _g(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function iM(t,e,n){let{reference:r,floating:i}=t;const s=gs(e),a=SE(e),o=wE(a),l=da(e),c=s==="y",h=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:h,y:r.y-i.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(ju(e)){case"start":g[a]-=m*(n&&c?-1:1);break;case"end":g[a]+=m*(n&&c?-1:1);break}return g}const Bne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:d}=iM(c,r,l),m=r,g={},x=0;for(let v=0;v<o.length;v++){const{name:b,fn:w}=o[v],{x:_,y:A,data:T,reset:P}=await w({x:h,y:d,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});h=_??h,d=A??d,g={...g,[b]:{...g[b],...T}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:h,y:d}=iM(c,m,l)),v=-1)}return{x:h,y:d,placement:m,strategy:i,middlewareData:g}};async function Ah(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:d="floating",altBoundary:m=!1,padding:g=0}=ua(e,t),x=oU(g),b=o[m?d==="floating"?"reference":"floating":d],w=_g(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:h,strategy:l})),_=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),T=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},P=_g(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:A,strategy:l}):_);return{top:(w.top-P.top+x.top)/T.y,bottom:(P.bottom-w.bottom+x.bottom)/T.y,left:(w.left-P.left+x.left)/T.x,right:(P.right-w.right+x.right)/T.x}}const Une=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:h=0}=ua(t,e)||{};if(c==null)return{};const d=oU(h),m={x:n,y:r},g=SE(i),x=wE(g),v=await a.getDimensions(c),b=g==="y",w=b?"top":"left",_=b?"bottom":"right",A=b?"clientHeight":"clientWidth",T=s.reference[x]+s.reference[g]-m[g]-s.floating[x],P=m[g]-s.reference[g],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let k=E?E[A]:0;(!k||!await(a.isElement==null?void 0:a.isElement(E)))&&(k=o.floating[A]||s.floating[x]);const O=T/2-P/2,D=k/2-v[x]/2-1,F=ao(d[w],D),M=ao(d[_],D),R=F,$=k-v[x]-M,H=k/2-v[x]/2+O,G=AA(R,H,$),V=!l.arrow&&ju(i)!=null&&H!==G&&s.reference[x]/2-(H<R?F:M)-v[x]/2<0,B=V?H<R?H-R:H-$:0;return{[g]:m[g]+B,data:{[g]:G,centerOffset:H-G-B,...V&&{alignmentOffset:B}},reset:V}}}),zne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:d=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...b}=ua(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=da(i),_=gs(o),A=da(o)===o,T=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(A||!v?[Sg(o)]:Dne(o)),E=x!=="none";!m&&E&&P.push(...Fne(o,v,x,T));const k=[o,...P],O=await Ah(e,b),D=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&D.push(O[w]),d){const H=Mne(i,a,T);D.push(O[H[0]],O[H[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every(H=>H<=0)){var M,R;const H=(((M=s.flip)==null?void 0:M.index)||0)+1,G=k[H];if(G&&(!(d==="alignment"?_!==gs(G):!1)||F.every(L=>gs(L.placement)===_?L.overflows[0]>0:!0)))return{data:{index:H,overflows:F},reset:{placement:G}};let V=(R=F.filter(B=>B.overflows[0]<=0).sort((B,L)=>B.overflows[1]-L.overflows[1])[0])==null?void 0:R.placement;if(!V)switch(g){case"bestFit":{var $;const B=($=F.filter(L=>{if(E){const W=gs(L.placement);return W===_||W==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(W=>W>0).reduce((W,X)=>W+X,0)]).sort((L,W)=>L[1]-W[1])[0])==null?void 0:$[0];B&&(V=B);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function sM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function aM(t){return Tne.some(e=>t[e]>=0)}const Vne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ua(t,e);switch(r){case"referenceHidden":{const s=await Ah(e,{...i,elementContext:"reference"}),a=sM(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:aM(a)}}}case"escaped":{const s=await Ah(e,{...i,altBoundary:!0}),a=sM(s,n.floating);return{data:{escapedOffsets:a,escaped:aM(a)}}}default:return{}}}}},lU=new Set(["left","top"]);async function Wne(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=da(n),o=ju(n),l=gs(n)==="y",c=lU.has(a)?-1:1,h=s&&l?-1:1,d=ua(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),l?{x:g*h,y:m*c}:{x:m*c,y:g*h}}const Hne=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Wne(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},qne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:w,y:_}=b;return{x:w,y:_}}},...l}=ua(t,e),c={x:n,y:r},h=await Ah(e,l),d=gs(da(i)),m=xE(d);let g=c[m],x=c[d];if(s){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",_=g+h[b],A=g-h[w];g=AA(_,g,A)}if(a){const b=d==="y"?"top":"left",w=d==="y"?"bottom":"right",_=x+h[b],A=x-h[w];x=AA(_,x,A)}const v=o.fn({...e,[m]:g,[d]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:s,[d]:a}}}}}},Gne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ua(t,e),h={x:n,y:r},d=gs(i),m=xE(d);let g=h[m],x=h[d];const v=ua(o,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const A=m==="y"?"height":"width",T=s.reference[m]-s.floating[A]+b.mainAxis,P=s.reference[m]+s.reference[A]-b.mainAxis;g<T?g=T:g>P&&(g=P)}if(c){var w,_;const A=m==="y"?"width":"height",T=lU.has(da(i)),P=s.reference[d]-s.floating[A]+(T&&((w=a.offset)==null?void 0:w[d])||0)+(T?0:b.crossAxis),E=s.reference[d]+s.reference[A]+(T?0:((_=a.offset)==null?void 0:_[d])||0)-(T?b.crossAxis:0);x<P?x=P:x>E&&(x=E)}return{[m]:g,[d]:x}}}},Kne=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=ua(t,e),h=await Ah(e,c),d=da(i),m=ju(i),g=gs(i)==="y",{width:x,height:v}=s.floating;let b,w;d==="top"||d==="bottom"?(b=d,w=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=d,b=m==="end"?"top":"bottom");const _=v-h.top-h.bottom,A=x-h.left-h.right,T=ao(v-h[b],_),P=ao(x-h[w],A),E=!e.middlewareData.shift;let k=T,O=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=_),E&&!m){const F=Zr(h.left,0),M=Zr(h.right,0),R=Zr(h.top,0),$=Zr(h.bottom,0);g?O=x-2*(F!==0||M!==0?F+M:Zr(h.left,h.right)):k=v-2*(R!==0||$!==0?R+$:Zr(h.top,h.bottom))}await l({...e,availableWidth:O,availableHeight:k});const D=await a.getDimensions(o.floating);return x!==D.width||v!==D.height?{reset:{rects:!0}}:{}}}};function iy(){return typeof window<"u"}function Tu(t){return cU(t)?(t.nodeName||"").toLowerCase():"#document"}function ti(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ms(t){var e;return(e=(cU(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cU(t){return iy()?t instanceof Node||t instanceof ti(t).Node:!1}function Ji(t){return iy()?t instanceof Element||t instanceof ti(t).Element:!1}function js(t){return iy()?t instanceof HTMLElement||t instanceof ti(t).HTMLElement:!1}function oM(t){return!iy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ti(t).ShadowRoot}const Yne=new Set(["inline","contents"]);function Rf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=es(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Yne.has(i)}const Xne=new Set(["table","td","th"]);function Qne(t){return Xne.has(Tu(t))}const Zne=[":popover-open",":modal"];function sy(t){return Zne.some(e=>{try{return t.matches(e)}catch{return!1}})}const Jne=["transform","translate","scale","rotate","perspective"],ere=["transform","translate","scale","rotate","perspective","filter"],tre=["paint","layout","strict","content"];function _E(t){const e=AE(),n=Ji(t)?es(t):t;return Jne.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||ere.some(r=>(n.willChange||"").includes(r))||tre.some(r=>(n.contain||"").includes(r))}function nre(t){let e=oo(t);for(;js(e)&&!Uc(e);){if(_E(e))return e;if(sy(e))return null;e=oo(e)}return null}function AE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rre=new Set(["html","body","#document"]);function Uc(t){return rre.has(Tu(t))}function es(t){return ti(t).getComputedStyle(t)}function ay(t){return Ji(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function oo(t){if(Tu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||oM(t)&&t.host||Ms(t);return oM(e)?e.host:e}function uU(t){const e=oo(t);return Uc(e)?t.ownerDocument?t.ownerDocument.body:t.body:js(e)&&Rf(e)?e:uU(e)}function Ch(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=uU(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ti(i);if(s){const o=PA(a);return e.concat(a,a.visualViewport||[],Rf(i)?i:[],o&&n?Ch(o):[])}return e.concat(i,Ch(i,[],n))}function PA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dU(t){const e=es(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=js(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=wg(n)!==s||wg(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function CE(t){return Ji(t)?t:t.contextElement}function Pc(t){const e=CE(t);if(!js(e))return As(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=dU(e);let a=(s?wg(n.width):n.width)/r,o=(s?wg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const ire=As(0);function hU(t){const e=ti(t);return!AE()||!e.visualViewport?ire:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sre(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ti(t)?!1:e}function al(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=CE(t);let a=As(1);e&&(r?Ji(r)&&(a=Pc(r)):a=Pc(t));const o=sre(s,n,r)?hU(s):As(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(s){const m=ti(s),g=r&&Ji(r)?ti(r):r;let x=m,v=PA(x);for(;v&&r&&g!==x;){const b=Pc(v),w=v.getBoundingClientRect(),_=es(v),A=w.left+(v.clientLeft+parseFloat(_.paddingLeft))*b.x,T=w.top+(v.clientTop+parseFloat(_.paddingTop))*b.y;l*=b.x,c*=b.y,h*=b.x,d*=b.y,l+=A,c+=T,x=ti(v),v=PA(x)}}return _g({width:h,height:d,x:l,y:c})}function oy(t,e){const n=ay(t).scrollLeft;return e?e.left+n:al(Ms(t)).left+n}function fU(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-oy(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function are(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ms(r),o=e?sy(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=As(1);const h=As(0),d=js(r);if((d||!d&&!s)&&((Tu(r)!=="body"||Rf(a))&&(l=ay(r)),js(r))){const g=al(r);c=Pc(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=a&&!d&&!s?fU(a,l):As(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function ore(t){return Array.from(t.getClientRects())}function lre(t){const e=Ms(t),n=ay(t),r=t.ownerDocument.body,i=Zr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Zr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+oy(t);const o=-n.scrollTop;return es(r).direction==="rtl"&&(a+=Zr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const lM=25;function cre(t,e){const n=ti(t),r=Ms(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const h=AE();(!h||h&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=oy(r);if(c<=0){const h=r.ownerDocument,d=h.body,m=getComputedStyle(d),g=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-d.clientWidth-g);x<=lM&&(s-=x)}else c<=lM&&(s+=c);return{width:s,height:a,x:o,y:l}}const ure=new Set(["absolute","fixed"]);function dre(t,e){const n=al(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=js(t)?Pc(t):As(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function cM(t,e,n){let r;if(e==="viewport")r=cre(t,n);else if(e==="document")r=lre(Ms(t));else if(Ji(e))r=dre(e,n);else{const i=hU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return _g(r)}function pU(t,e){const n=oo(t);return n===e||!Ji(n)||Uc(n)?!1:es(n).position==="fixed"||pU(n,e)}function hre(t,e){const n=e.get(t);if(n)return n;let r=Ch(t,[],!1).filter(o=>Ji(o)&&Tu(o)!=="body"),i=null;const s=es(t).position==="fixed";let a=s?oo(t):t;for(;Ji(a)&&!Uc(a);){const o=es(a),l=_E(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&ure.has(i.position)||Rf(a)&&!l&&pU(t,a))?r=r.filter(h=>h!==a):i=o,a=oo(a)}return e.set(t,r),r}function fre(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?sy(e)?[]:hre(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,h)=>{const d=cM(e,h,i);return c.top=Zr(d.top,c.top),c.right=ao(d.right,c.right),c.bottom=ao(d.bottom,c.bottom),c.left=Zr(d.left,c.left),c},cM(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pre(t){const{width:e,height:n}=dU(t);return{width:e,height:n}}function mre(t,e,n){const r=js(e),i=Ms(e),s=n==="fixed",a=al(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=As(0);function c(){l.x=oy(i)}if(r||!r&&!s)if((Tu(e)!=="body"||Rf(i))&&(o=ay(e)),r){const g=al(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const h=i&&!r&&!s?fU(i,o):As(0),d=a.left+o.scrollLeft-l.x-h.x,m=a.top+o.scrollTop-l.y-h.y;return{x:d,y:m,width:a.width,height:a.height}}function C0(t){return es(t).position==="static"}function uM(t,e){if(!js(t)||es(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ms(t)===n&&(n=n.ownerDocument.body),n}function mU(t,e){const n=ti(t);if(sy(t))return n;if(!js(t)){let i=oo(t);for(;i&&!Uc(i);){if(Ji(i)&&!C0(i))return i;i=oo(i)}return n}let r=uM(t,e);for(;r&&Qne(r)&&C0(r);)r=uM(r,e);return r&&Uc(r)&&C0(r)&&!_E(r)?n:r||nre(t)||n}const gre=async function(t){const e=this.getOffsetParent||mU,n=this.getDimensions,r=await n(t.floating);return{reference:mre(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function vre(t){return es(t).direction==="rtl"}const yre={convertOffsetParentRelativeRectToViewportRelativeRect:are,getDocumentElement:Ms,getClippingRect:fre,getOffsetParent:mU,getElementRects:gre,getClientRects:ore,getDimensions:pre,getScale:Pc,isElement:Ji,isRTL:vre};function gU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bre(t,e){let n=null,r;const i=Ms(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:h,top:d,width:m,height:g}=c;if(o||e(),!m||!g)return;const x=jm(d),v=jm(i.clientWidth-(h+m)),b=jm(i.clientHeight-(d+g)),w=jm(h),A={rootMargin:-x+"px "+-v+"px "+-b+"px "+-w+"px",threshold:Zr(0,ao(1,l))||1};let T=!0;function P(E){const k=E[0].intersectionRatio;if(k!==l){if(!T)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!gU(c,t.getBoundingClientRect())&&a(),T=!1}try{n=new IntersectionObserver(P,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,A)}n.observe(t)}return a(!0),s}function xre(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=CE(t),h=i||s?[...c?Ch(c):[],...Ch(e)]:[];h.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const d=c&&o?bre(c,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[_]=w;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,v=l?al(t):null;l&&b();function b(){const w=al(t);v&&!gU(v,w)&&n(),v=w,x=requestAnimationFrame(b)}return n(),()=>{var w;h.forEach(_=>{i&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),d?.(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const wre=Hne,Sre=qne,_re=zne,Are=Kne,Cre=Vne,dM=Une,Pre=Gne,Ere=(t,e,n)=>{const r=new Map,i={platform:yre,...n},s={...i.platform,_c:r};return Bne(t,e,{...i,platform:s})};var jre=typeof document<"u",Tre=function(){},ag=jre?C.useLayoutEffect:Tre;function Ag(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ag(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!Ag(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function hM(t,e){const n=vU(t);return Math.round(e*n)/n}function P0(t){const e=C.useRef(t);return ag(()=>{e.current=t}),e}function kre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[h,d]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);Ag(m,r)||g(r);const[x,v]=C.useState(null),[b,w]=C.useState(null),_=C.useCallback(L=>{L!==E.current&&(E.current=L,v(L))},[]),A=C.useCallback(L=>{L!==k.current&&(k.current=L,w(L))},[]),T=s||x,P=a||b,E=C.useRef(null),k=C.useRef(null),O=C.useRef(h),D=l!=null,F=P0(l),M=P0(i),R=P0(c),$=C.useCallback(()=>{if(!E.current||!k.current)return;const L={placement:e,strategy:n,middleware:m};M.current&&(L.platform=M.current),Ere(E.current,k.current,L).then(W=>{const X={...W,isPositioned:R.current!==!1};H.current&&!Ag(O.current,X)&&(O.current=X,Tf.flushSync(()=>{d(X)}))})},[m,e,n,M,R]);ag(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,d(L=>({...L,isPositioned:!1})))},[c]);const H=C.useRef(!1);ag(()=>(H.current=!0,()=>{H.current=!1}),[]),ag(()=>{if(T&&(E.current=T),P&&(k.current=P),T&&P){if(F.current)return F.current(T,P,$);$()}},[T,P,$,F,D]);const G=C.useMemo(()=>({reference:E,floating:k,setReference:_,setFloating:A}),[_,A]),V=C.useMemo(()=>({reference:T,floating:P}),[T,P]),B=C.useMemo(()=>{const L={position:n,left:0,top:0};if(!V.floating)return L;const W=hM(V.floating,h.x),X=hM(V.floating,h.y);return o?{...L,transform:"translate("+W+"px, "+X+"px)",...vU(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:X}},[n,o,V.floating,h.x,h.y]);return C.useMemo(()=>({...h,update:$,refs:G,elements:V,floatingStyles:B}),[h,$,G,V,B])}const Nre=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?dM({element:r.current,padding:i}).fn(n):{}:r?dM({element:r,padding:i}).fn(n):{}}}},Ore=(t,e)=>({...wre(t),options:[t,e]}),Mre=(t,e)=>({...Sre(t),options:[t,e]}),Dre=(t,e)=>({...Pre(t),options:[t,e]}),Rre=(t,e)=>({..._re(t),options:[t,e]}),Ire=(t,e)=>({...Are(t),options:[t,e]}),Lre=(t,e)=>({...Cre(t),options:[t,e]}),Fre=(t,e)=>({...Nre(t),options:[t,e]});var $re="Arrow",yU=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(Ue.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});yU.displayName=$re;var Bre=yU;function PE(t){const[e,n]=C.useState(void 0);return Sn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var EE="Popper",[bU,ku]=Ri(EE),[Ure,xU]=bU(EE),wU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return f.jsx(Ure,{scope:e,anchor:r,onAnchorChange:i,children:n})};wU.displayName=EE;var SU="PopperAnchor",_U=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=xU(SU,n),a=C.useRef(null),o=et(e,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:f.jsx(Ue.div,{...i,ref:o})});_U.displayName=SU;var jE="PopperContent",[zre,Vre]=bU(jE),AU=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:d="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...v}=t,b=xU(jE,n),[w,_]=C.useState(null),A=et(e,te=>_(te)),[T,P]=C.useState(null),E=PE(T),k=E?.width??0,O=E?.height??0,D=r+(s!=="center"?"-"+s:""),F=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},M=Array.isArray(c)?c:[c],R=M.length>0,$={padding:F,boundary:M.filter(Hre),altBoundary:R},{refs:H,floatingStyles:G,placement:V,isPositioned:B,middlewareData:L}=kre({strategy:"fixed",placement:D,whileElementsMounted:(...te)=>xre(...te,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[Ore({mainAxis:i+O,alignmentAxis:a}),l&&Mre({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Dre():void 0,...$}),l&&Rre({...$}),Ire({...$,apply:({elements:te,rects:le,availableWidth:ie,availableHeight:he})=>{const{width:ve,height:re}=le.reference,qe=te.floating.style;qe.setProperty("--radix-popper-available-width",`${ie}px`),qe.setProperty("--radix-popper-available-height",`${he}px`),qe.setProperty("--radix-popper-anchor-width",`${ve}px`),qe.setProperty("--radix-popper-anchor-height",`${re}px`)}}),T&&Fre({element:T,padding:o}),qre({arrowWidth:k,arrowHeight:O}),m&&Lre({strategy:"referenceHidden",...$})]}),[W,X]=EU(V),U=zn(x);Sn(()=>{B&&U?.()},[B,U]);const K=L.arrow?.x,Z=L.arrow?.y,se=L.arrow?.centerOffset!==0,[oe,pe]=C.useState();return Sn(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:B?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(zre,{scope:n,placedSide:W,onArrowChange:P,arrowX:K,arrowY:Z,shouldHideArrow:se,children:f.jsx(Ue.div,{"data-side":W,"data-align":X,...v,ref:A,style:{...v.style,animation:B?void 0:"none"}})})})});AU.displayName=jE;var CU="PopperArrow",Wre={top:"bottom",right:"left",bottom:"top",left:"right"},PU=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Vre(CU,r),a=Wre[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(Bre,{...i,ref:n,style:{...i.style,display:"block"}})})});PU.displayName=CU;function Hre(t){return t!==null}var qre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,h]=EU(n),d={start:"0%",center:"50%",end:"100%"}[h],m=(i.arrow?.x??0)+o/2,g=(i.arrow?.y??0)+l/2;let x="",v="";return c==="bottom"?(x=a?d:`${m}px`,v=`${-l}px`):c==="top"?(x=a?d:`${m}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=a?d:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=a?d:`${g}px`),{data:{x,y:v}}}});function EU(t){const[e,n="center"]=t.split("-");return[e,n]}var TE=wU,ly=_U,kE=AU,NE=PU;function Gre(t){const e=Kre(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Xre);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Kre(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Zre(i),o=Qre(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yre=Symbol("radix.slottable");function Xre(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yre}function Qre(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Zre(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function OE(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var jU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Jre="VisuallyHidden",eie=C.forwardRef((t,e)=>f.jsx(Ue.span,{...t,ref:e,style:{...jU,...t.style}}));eie.displayName=Jre;var tie=[" ","Enter","ArrowUp","ArrowDown"],nie=[" ","Enter"],ol="Select",[cy,uy,rie]=ry(ol),[Nu]=Ri(ol,[rie,ku]),dy=ku(),[iie,ho]=Nu(ol),[sie,aie]=Nu(ol),TU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:h,autoComplete:d,disabled:m,required:g,form:x}=t,v=dy(e),[b,w]=C.useState(null),[_,A]=C.useState(null),[T,P]=C.useState(!1),E=Eu(c),[k,O]=ca({prop:r,defaultProp:i??!1,onChange:s,caller:ol}),[D,F]=ca({prop:a,defaultProp:o,onChange:l,caller:ol}),M=C.useRef(null),R=b?x||!!b.closest("form"):!0,[$,H]=C.useState(new Set),G=Array.from($).map(V=>V.props.value).join(";");return f.jsx(TE,{...v,children:f.jsxs(iie,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:_,onValueNodeChange:A,valueNodeHasChildren:T,onValueNodeHasChildrenChange:P,contentId:Qi(),value:D,onValueChange:F,open:k,onOpenChange:O,dir:E,triggerPointerDownPosRef:M,disabled:m,children:[f.jsx(cy.Provider,{scope:e,children:f.jsx(sie,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(V=>{H(B=>new Set(B).add(V))},[]),onNativeOptionRemove:C.useCallback(V=>{H(B=>{const L=new Set(B);return L.delete(V),L})},[]),children:n})}),R?f.jsxs(QU,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:d,value:D,onChange:V=>F(V.target.value),disabled:m,form:x,children:[D===void 0?f.jsx("option",{value:""}):null,Array.from($)]},G):null]})})};TU.displayName=ol;var kU="SelectTrigger",NU=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=dy(n),a=ho(kU,n),o=a.disabled||r,l=et(e,a.onTriggerChange),c=uy(n),h=C.useRef("touch"),[d,m,g]=JU(v=>{const b=c().filter(A=>!A.disabled),w=b.find(A=>A.value===a.value),_=ez(b,v,w);_!==void 0&&a.onValueChange(_.value)}),x=v=>{o||(a.onOpenChange(!0),g()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return f.jsx(ly,{asChild:!0,...s,children:f.jsx(Ue.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":ZU(a.value)?"":void 0,...i,ref:l,onClick:ye(i.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&x(v)}),onPointerDown:ye(i.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(x(v),v.preventDefault())}),onKeyDown:ye(i.onKeyDown,v=>{const b=d.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&tie.includes(v.key)&&(x(),v.preventDefault())})})})});NU.displayName=kU;var OU="SelectValue",MU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=ho(OU,n),{onValueNodeHasChildrenChange:c}=l,h=s!==void 0,d=et(e,l.onValueNodeChange);return Sn(()=>{c(h)},[c,h]),f.jsx(Ue.span,{...o,ref:d,style:{pointerEvents:"none"},children:ZU(l.value)?f.jsx(f.Fragment,{children:a}):s})});MU.displayName=OU;var oie="SelectIcon",DU=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(Ue.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});DU.displayName=oie;var lie="SelectPortal",RU=t=>f.jsx(Mf,{asChild:!0,...t});RU.displayName=lie;var ll="SelectContent",IU=C.forwardRef((t,e)=>{const n=ho(ll,t.__scopeSelect),[r,i]=C.useState();if(Sn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Tf.createPortal(f.jsx(LU,{scope:t.__scopeSelect,children:f.jsx(cy.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(FU,{...t,ref:e})});IU.displayName=ll;var Gi=10,[LU,fo]=Nu(ll),cie="SelectContentImpl",uie=Gre("SelectContent.RemoveScroll"),FU=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b,...w}=t,_=ho(ll,n),[A,T]=C.useState(null),[P,E]=C.useState(null),k=et(e,te=>T(te)),[O,D]=C.useState(null),[F,M]=C.useState(null),R=uy(n),[$,H]=C.useState(!1),G=C.useRef(!1);C.useEffect(()=>{if(A)return Qv(A)},[A]),Yv();const V=C.useCallback(te=>{const[le,...ie]=R().map(re=>re.ref.current),[he]=ie.slice(-1),ve=document.activeElement;for(const re of te)if(re===ve||(re?.scrollIntoView({block:"nearest"}),re===le&&P&&(P.scrollTop=0),re===he&&P&&(P.scrollTop=P.scrollHeight),re?.focus(),document.activeElement!==ve))return},[R,P]),B=C.useCallback(()=>V([O,A]),[V,O,A]);C.useEffect(()=>{$&&B()},[$,B]);const{onOpenChange:L,triggerPointerDownPosRef:W}=_;C.useEffect(()=>{if(A){let te={x:0,y:0};const le=he=>{te={x:Math.abs(Math.round(he.pageX)-(W.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(W.current?.y??0))}},ie=he=>{te.x<=10&&te.y<=10?he.preventDefault():A.contains(he.target)||L(!1),document.removeEventListener("pointermove",le),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",ie,{capture:!0})}}},[A,L,W]),C.useEffect(()=>{const te=()=>L(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[L]);const[X,U]=JU(te=>{const le=R().filter(ve=>!ve.disabled),ie=le.find(ve=>ve.ref.current===document.activeElement),he=ez(le,te,ie);he&&setTimeout(()=>he.ref.current.focus())}),K=C.useCallback((te,le,ie)=>{const he=!G.current&&!ie;(_.value!==void 0&&_.value===le||he)&&(D(te),he&&(G.current=!0))},[_.value]),Z=C.useCallback(()=>A?.focus(),[A]),se=C.useCallback((te,le,ie)=>{const he=!G.current&&!ie;(_.value!==void 0&&_.value===le||he)&&M(te)},[_.value]),oe=r==="popper"?EA:$U,pe=oe===EA?{side:o,sideOffset:l,align:c,alignOffset:h,arrowPadding:d,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:v,avoidCollisions:b}:{};return f.jsx(LU,{scope:n,content:A,viewport:P,onViewportChange:E,itemRefCallback:K,selectedItem:O,onItemLeave:Z,itemTextRefCallback:se,focusSelectedItem:B,selectedItemText:F,position:r,isPositioned:$,searchRef:X,children:f.jsx(Df,{as:uie,allowPinchZoom:!0,children:f.jsx(Of,{asChild:!0,trapped:_.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:ye(i,te=>{_.trigger?.focus({preventScroll:!0}),te.preventDefault()}),children:f.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:f.jsx(oe,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:te=>te.preventDefault(),...w,...pe,onPlaced:()=>H(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,te=>{const le=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!le&&te.key.length===1&&U(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let he=R().filter(ve=>!ve.disabled).map(ve=>ve.ref.current);if(["ArrowUp","End"].includes(te.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ve=te.target,re=he.indexOf(ve);he=he.slice(re+1)}setTimeout(()=>V(he)),te.preventDefault()}})})})})})})});FU.displayName=cie;var die="SelectItemAlignedPosition",$U=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ho(ll,n),a=fo(ll,n),[o,l]=C.useState(null),[c,h]=C.useState(null),d=et(e,k=>h(k)),m=uy(n),g=C.useRef(!1),x=C.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:w,focusSelectedItem:_}=a,A=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&v&&b&&w){const k=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),D=s.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(s.dir!=="rtl"){const ve=F.left-O.left,re=D.left-ve,qe=k.left-re,Ie=k.width+qe,xt=Math.max(Ie,O.width),vt=window.innerWidth-Gi,ft=_h(re,[Gi,Math.max(Gi,vt-xt)]);o.style.minWidth=Ie+"px",o.style.left=ft+"px"}else{const ve=O.right-F.right,re=window.innerWidth-D.right-ve,qe=window.innerWidth-k.right-re,Ie=k.width+qe,xt=Math.max(Ie,O.width),vt=window.innerWidth-Gi,ft=_h(re,[Gi,Math.max(Gi,vt-xt)]);o.style.minWidth=Ie+"px",o.style.right=ft+"px"}const M=m(),R=window.innerHeight-Gi*2,$=v.scrollHeight,H=window.getComputedStyle(c),G=parseInt(H.borderTopWidth,10),V=parseInt(H.paddingTop,10),B=parseInt(H.borderBottomWidth,10),L=parseInt(H.paddingBottom,10),W=G+V+$+L+B,X=Math.min(b.offsetHeight*5,W),U=window.getComputedStyle(v),K=parseInt(U.paddingTop,10),Z=parseInt(U.paddingBottom,10),se=k.top+k.height/2-Gi,oe=R-se,pe=b.offsetHeight/2,te=b.offsetTop+pe,le=G+V+te,ie=W-le;if(le<=se){const ve=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const re=c.clientHeight-v.offsetTop-v.offsetHeight,qe=Math.max(oe,pe+(ve?Z:0)+re+B),Ie=le+qe;o.style.height=Ie+"px"}else{const ve=M.length>0&&b===M[0].ref.current;o.style.top="0px";const qe=Math.max(se,G+v.offsetTop+(ve?K:0)+pe)+ie;o.style.height=qe+"px",v.scrollTop=le-se+v.offsetTop}o.style.margin=`${Gi}px 0`,o.style.minHeight=X+"px",o.style.maxHeight=R+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,o,c,v,b,w,s.dir,r]);Sn(()=>A(),[A]);const[T,P]=C.useState();Sn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const E=C.useCallback(k=>{k&&x.current===!0&&(A(),_?.(),x.current=!1)},[A,_]);return f.jsx(fie,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:f.jsx(Ue.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});$U.displayName=die;var hie="SelectPopperPosition",EA=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Gi,...s}=t,a=dy(n);return f.jsx(kE,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});EA.displayName=hie;var[fie,ME]=Nu(ll,{}),jA="SelectViewport",BU=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=fo(jA,n),a=ME(jA,n),o=et(e,s.onViewportChange),l=C.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(cy.Slot,{scope:n,children:f.jsx(Ue.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:m}=a;if(m?.current&&d){const g=Math.abs(l.current-h.scrollTop);if(g>0){const x=window.innerHeight-Gi*2,v=parseFloat(d.style.minHeight),b=parseFloat(d.style.height),w=Math.max(v,b);if(w<x){const _=w+g,A=Math.min(x,_),T=_-A;d.style.height=A+"px",d.style.bottom==="0px"&&(h.scrollTop=T>0?T:0,d.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});BU.displayName=jA;var UU="SelectGroup",[pie,mie]=Nu(UU),gie=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Qi();return f.jsx(pie,{scope:n,id:i,children:f.jsx(Ue.div,{role:"group","aria-labelledby":i,...r,ref:e})})});gie.displayName=UU;var zU="SelectLabel",vie=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=mie(zU,n);return f.jsx(Ue.div,{id:i.id,...r,ref:e})});vie.displayName=zU;var Cg="SelectItem",[yie,VU]=Nu(Cg),WU=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=ho(Cg,n),l=fo(Cg,n),c=o.value===r,[h,d]=C.useState(s??""),[m,g]=C.useState(!1),x=et(e,_=>l.itemRefCallback?.(_,r,i)),v=Qi(),b=C.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(yie,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:C.useCallback(_=>{d(A=>A||(_?.textContent??"").trim())},[]),children:f.jsx(cy.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:f.jsx(Ue.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:ye(a.onFocus,()=>g(!0)),onBlur:ye(a.onBlur,()=>g(!1)),onClick:ye(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ye(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ye(a.onPointerDown,_=>{b.current=_.pointerType}),onPointerMove:ye(a.onPointerMove,_=>{b.current=_.pointerType,i?l.onItemLeave?.():b.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,_=>{_.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ye(a.onKeyDown,_=>{l.searchRef?.current!==""&&_.key===" "||(nie.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});WU.displayName=Cg;var Kd="SelectItemText",HU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=ho(Kd,n),o=fo(Kd,n),l=VU(Kd,n),c=aie(Kd,n),[h,d]=C.useState(null),m=et(e,w=>d(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),g=h?.textContent,x=C.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=c;return Sn(()=>(v(x),()=>b(x)),[v,b,x]),f.jsxs(f.Fragment,{children:[f.jsx(Ue.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Tf.createPortal(s.children,a.valueNode):null]})});HU.displayName=Kd;var qU="SelectItemIndicator",GU=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return VU(qU,n).isSelected?f.jsx(Ue.span,{"aria-hidden":!0,...r,ref:e}):null});GU.displayName=qU;var TA="SelectScrollUpButton",KU=C.forwardRef((t,e)=>{const n=fo(TA,t.__scopeSelect),r=ME(TA,t.__scopeSelect),[i,s]=C.useState(!1),a=et(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx(XU,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});KU.displayName=TA;var kA="SelectScrollDownButton",YU=C.forwardRef((t,e)=>{const n=fo(kA,t.__scopeSelect),r=ME(kA,t.__scopeSelect),[i,s]=C.useState(!1),a=et(e,r.onScrollButtonChange);return Sn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;s(h)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx(XU,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});YU.displayName=kA;var XU=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=fo("SelectScrollButton",n),a=C.useRef(null),o=uy(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),Sn(()=>{o().find(h=>h.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),f.jsx(Ue.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{l()})})}),bie="SelectSeparator",xie=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Ue.div,{"aria-hidden":!0,...r,ref:e})});xie.displayName=bie;var NA="SelectArrow",wie=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=dy(n),s=ho(NA,n),a=fo(NA,n);return s.open&&a.position==="popper"?f.jsx(NE,{...i,...r,ref:e}):null});wie.displayName=NA;var Sie="SelectBubbleInput",QU=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=et(r,i),a=OE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const d=new Event("change",{bubbles:!0});h.call(o,e),o.dispatchEvent(d)}},[a,e]),f.jsx(Ue.select,{...n,style:{...jU,...n.style},ref:s,defaultValue:e})});QU.displayName=Sie;function ZU(t){return t===""||t===void 0}function JU(t){const e=zn(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=n.current+a;e(o),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function ez(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=_ie(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function _ie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Aie=TU,Cie=NU,Pie=MU,Eie=DU,jie=RU,Tie=IU,kie=BU,Nie=WU,Oie=HU,Mie=GU,Die=KU,Rie=YU;function Vn({...t}){return f.jsx(Aie,{"data-slot":"select",...t})}function Wn({...t}){return f.jsx(Pie,{"data-slot":"select-value",...t})}function Hn({className:t,size:e="default",children:n,...r}){return f.jsxs(Cie,{"data-slot":"select-trigger","data-size":e,className:Le("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,f.jsx(Eie,{asChild:!0,children:f.jsx(i5,{className:"size-4 opacity-50"})})]})}function qn({className:t,children:e,position:n="popper",...r}){return f.jsx(jie,{children:f.jsxs(Tie,{"data-slot":"select-content",className:Le("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(Iie,{}),f.jsx(kie,{className:Le("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),f.jsx(Lie,{})]})})}function ze({className:t,children:e,...n}){return f.jsxs(Nie,{"data-slot":"select-item",className:Le("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(Mie,{children:f.jsx(Vv,{className:"size-4"})})}),f.jsx(Oie,{children:e})]})}function Iie({className:t,...e}){return f.jsx(Die,{"data-slot":"select-scroll-up-button",className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(bZ,{className:"size-4"})})}function Lie({className:t,...e}){return f.jsx(Rie,{"data-slot":"select-scroll-down-button",className:Le("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(i5,{className:"size-4"})})}function Fie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const $ie=t=>{switch(t){case"success":return zie;case"info":return Wie;case"warning":return Vie;case"error":return Hie;default:return null}},Bie=Array(12).fill(0),Uie=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},Bie.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),zie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Vie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Hie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Gie=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let OA=1;class Kie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:OA++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(Xie(c)&&!c.ok){s=!1;const d=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...x})}else if(c instanceof Error){s=!1;const d=typeof n.error=="function"?await n.error(c):n.error,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:m,...x})}else if(n.success!==void 0){s=!1;const d=typeof n.success=="function"?await n.success(c):n.success,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"success",description:m,...x})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;const h=typeof n.error=="function"?await n.error(c):n.error,d=typeof n.description=="function"?await n.description(c):n.description,g=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:d,...g})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,h)=>o.then(()=>a[0]==="reject"?h(a[1]):c(a[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||OA++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Rr=new Kie,Yie=(t,e)=>{const n=e?.id||OA++;return Rr.addToast({title:t,...e,id:n}),n},Xie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Qie=Yie,Zie=()=>Rr.toasts,Jie=()=>Rr.getActiveToasts(),ke=Object.assign(Qie,{success:Rr.success,info:Rr.info,warning:Rr.warning,error:Rr.error,custom:Rr.custom,message:Rr.message,promise:Rr.promise,dismiss:Rr.dismiss,loading:Rr.loading},{getHistory:Zie,getToasts:Jie});Fie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Tm(t){return t.label!==void 0}const ese=3,tse="24px",nse="16px",fM=4e3,rse=356,ise=14,sse=45,ase=200;function us(...t){return t.filter(Boolean).join(" ")}function ose(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const lse=t=>{var e,n,r,i,s,a,o,l,c;const{invert:h,toast:d,unstyled:m,interacting:g,setHeights:x,visibleToasts:v,heights:b,index:w,toasts:_,expanded:A,removeToast:T,defaultRichColors:P,closeButton:E,style:k,cancelButtonStyle:O,actionButtonStyle:D,className:F="",descriptionClassName:M="",duration:R,position:$,gap:H,expandByDefault:G,classNames:V,icons:B,closeButtonAriaLabel:L="Close toast"}=t,[W,X]=z.useState(null),[U,K]=z.useState(null),[Z,se]=z.useState(!1),[oe,pe]=z.useState(!1),[te,le]=z.useState(!1),[ie,he]=z.useState(!1),[ve,re]=z.useState(!1),[qe,Ie]=z.useState(0),[xt,vt]=z.useState(0),ft=z.useRef(d.duration||R||fM),be=z.useRef(null),Re=z.useRef(null),rt=w===0,kt=w+1<=v,ct=d.type,ar=d.dismissible!==!1,Er=d.className||"",ai=d.descriptionClassName||"",Ls=z.useMemo(()=>b.findIndex(Ye=>Ye.toastId===d.id)||0,[b,d.id]),zu=z.useMemo(()=>{var Ye;return(Ye=d.closeButton)!=null?Ye:E},[d.closeButton,E]),bo=z.useMemo(()=>d.duration||R||fM,[d.duration,R]),El=z.useRef(0),oi=z.useRef(0),ba=z.useRef(0),xa=z.useRef(null),[op,lp]=$.split("-"),cp=z.useMemo(()=>b.reduce((Ye,ln,_n)=>_n>=Ls?Ye:Ye+ln.height,0),[b,Ls]),jl=Gie(),Vu=d.invert||h,xo=ct==="loading";oi.current=z.useMemo(()=>Ls*H+cp,[Ls,cp]),z.useEffect(()=>{ft.current=bo},[bo]),z.useEffect(()=>{se(!0)},[]),z.useEffect(()=>{const Ye=Re.current;if(Ye){const ln=Ye.getBoundingClientRect().height;return vt(ln),x(_n=>[{toastId:d.id,height:ln,position:d.position},..._n]),()=>x(_n=>_n.filter(or=>or.toastId!==d.id))}},[x,d.id]),z.useLayoutEffect(()=>{if(!Z)return;const Ye=Re.current,ln=Ye.style.height;Ye.style.height="auto";const _n=Ye.getBoundingClientRect().height;Ye.style.height=ln,vt(_n),x(or=>or.find(mn=>mn.toastId===d.id)?or.map(mn=>mn.toastId===d.id?{...mn,height:_n}:mn):[{toastId:d.id,height:_n,position:d.position},...or])},[Z,d.title,d.description,x,d.id,d.jsx,d.action,d.cancel]);const li=z.useCallback(()=>{pe(!0),Ie(oi.current),x(Ye=>Ye.filter(ln=>ln.toastId!==d.id)),setTimeout(()=>{T(d)},ase)},[d,T,x,oi]);z.useEffect(()=>{if(d.promise&&ct==="loading"||d.duration===1/0||d.type==="loading")return;let Ye;return A||g||jl?(()=>{if(ba.current<El.current){const or=new Date().getTime()-El.current;ft.current=ft.current-or}ba.current=new Date().getTime()})():(()=>{ft.current!==1/0&&(El.current=new Date().getTime(),Ye=setTimeout(()=>{d.onAutoClose==null||d.onAutoClose.call(d,d),li()},ft.current))})(),()=>clearTimeout(Ye)},[A,g,d,ct,jl,li]),z.useEffect(()=>{d.delete&&(li(),d.onDismiss==null||d.onDismiss.call(d,d))},[li,d.delete]);function Wu(){var Ye;if(B?.loading){var ln;return z.createElement("div",{className:us(V?.loader,d==null||(ln=d.classNames)==null?void 0:ln.loader,"sonner-loader"),"data-visible":ct==="loading"},B.loading)}return z.createElement(Uie,{className:us(V?.loader,d==null||(Ye=d.classNames)==null?void 0:Ye.loader),visible:ct==="loading"})}const wa=d.icon||B?.[ct]||$ie(ct);var Fs,Hu;return z.createElement("li",{tabIndex:0,ref:Re,className:us(F,Er,V?.toast,d==null||(e=d.classNames)==null?void 0:e.toast,V?.default,V?.[ct],d==null||(n=d.classNames)==null?void 0:n[ct]),"data-sonner-toast":"","data-rich-colors":(Fs=d.richColors)!=null?Fs:P,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":Z,"data-promise":!!d.promise,"data-swiped":ve,"data-removed":oe,"data-visible":kt,"data-y-position":op,"data-x-position":lp,"data-index":w,"data-front":rt,"data-swiping":te,"data-dismissible":ar,"data-type":ct,"data-invert":Vu,"data-swipe-out":ie,"data-swipe-direction":U,"data-expanded":!!(A||G&&Z),"data-testid":d.testId,style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${oe?qe:oi.current}px`,"--initial-height":G?"auto":`${xt}px`,...k,...d.style},onDragEnd:()=>{le(!1),X(null),xa.current=null},onPointerDown:Ye=>{Ye.button!==2&&(xo||!ar||(be.current=new Date,Ie(oi.current),Ye.target.setPointerCapture(Ye.pointerId),Ye.target.tagName!=="BUTTON"&&(le(!0),xa.current={x:Ye.clientX,y:Ye.clientY})))},onPointerUp:()=>{var Ye,ln,_n;if(ie||!ar)return;xa.current=null;const or=Number(((Ye=Re.current)==null?void 0:Ye.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sa=Number(((ln=Re.current)==null?void 0:ln.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mn=new Date().getTime()-((_n=be.current)==null?void 0:_n.getTime()),Mn=W==="x"?or:Sa,_a=Math.abs(Mn)/mn;if(Math.abs(Mn)>=sse||_a>.11){Ie(oi.current),d.onDismiss==null||d.onDismiss.call(d,d),K(W==="x"?or>0?"right":"left":Sa>0?"down":"up"),li(),he(!0);return}else{var Kn,zr;(Kn=Re.current)==null||Kn.style.setProperty("--swipe-amount-x","0px"),(zr=Re.current)==null||zr.style.setProperty("--swipe-amount-y","0px")}re(!1),le(!1),X(null)},onPointerMove:Ye=>{var ln,_n,or;if(!xa.current||!ar||((ln=window.getSelection())==null?void 0:ln.toString().length)>0)return;const mn=Ye.clientY-xa.current.y,Mn=Ye.clientX-xa.current.x;var _a;const Kn=(_a=t.swipeDirections)!=null?_a:ose($);!W&&(Math.abs(Mn)>1||Math.abs(mn)>1)&&X(Math.abs(Mn)>Math.abs(mn)?"x":"y");let zr={x:0,y:0};const Aa=ci=>1/(1.5+Math.abs(ci)/20);if(W==="y"){if(Kn.includes("top")||Kn.includes("bottom"))if(Kn.includes("top")&&mn<0||Kn.includes("bottom")&&mn>0)zr.y=mn;else{const ci=mn*Aa(mn);zr.y=Math.abs(ci)<Math.abs(mn)?ci:mn}}else if(W==="x"&&(Kn.includes("left")||Kn.includes("right")))if(Kn.includes("left")&&Mn<0||Kn.includes("right")&&Mn>0)zr.x=Mn;else{const ci=Mn*Aa(Mn);zr.x=Math.abs(ci)<Math.abs(Mn)?ci:Mn}(Math.abs(zr.x)>0||Math.abs(zr.y)>0)&&re(!0),(_n=Re.current)==null||_n.style.setProperty("--swipe-amount-x",`${zr.x}px`),(or=Re.current)==null||or.style.setProperty("--swipe-amount-y",`${zr.y}px`)}},zu&&!d.jsx&&ct!=="loading"?z.createElement("button",{"aria-label":L,"data-disabled":xo,"data-close-button":!0,onClick:xo||!ar?()=>{}:()=>{li(),d.onDismiss==null||d.onDismiss.call(d,d)},className:us(V?.closeButton,d==null||(r=d.classNames)==null?void 0:r.closeButton)},(Hu=B?.close)!=null?Hu:qie):null,(ct||d.icon||d.promise)&&d.icon!==null&&(B?.[ct]!==null||d.icon)?z.createElement("div",{"data-icon":"",className:us(V?.icon,d==null||(i=d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Wu():null,d.type!=="loading"?wa:null):null,z.createElement("div",{"data-content":"",className:us(V?.content,d==null||(s=d.classNames)==null?void 0:s.content)},z.createElement("div",{"data-title":"",className:us(V?.title,d==null||(a=d.classNames)==null?void 0:a.title)},d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title),d.description?z.createElement("div",{"data-description":"",className:us(M,ai,V?.description,d==null||(o=d.classNames)==null?void 0:o.description)},typeof d.description=="function"?d.description():d.description):null),z.isValidElement(d.cancel)?d.cancel:d.cancel&&Tm(d.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||O,onClick:Ye=>{Tm(d.cancel)&&ar&&(d.cancel.onClick==null||d.cancel.onClick.call(d.cancel,Ye),li())},className:us(V?.cancelButton,d==null||(l=d.classNames)==null?void 0:l.cancelButton)},d.cancel.label):null,z.isValidElement(d.action)?d.action:d.action&&Tm(d.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||D,onClick:Ye=>{Tm(d.action)&&(d.action.onClick==null||d.action.onClick.call(d.action,Ye),!Ye.defaultPrevented&&li())},className:us(V?.actionButton,d==null||(c=d.classNames)==null?void 0:c.actionButton)},d.action.label):null)};function pM(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function cse(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?nse:tse;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${a}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}const use=z.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:h,mobileOffset:d,theme:m="light",richColors:g,duration:x,style:v,visibleToasts:b=ese,toastOptions:w,dir:_=pM(),gap:A=ise,icons:T,containerAriaLabel:P="Notifications"}=e,[E,k]=z.useState([]),O=z.useMemo(()=>r?E.filter(Z=>Z.toasterId===r):E.filter(Z=>!Z.toasterId),[E,r]),D=z.useMemo(()=>Array.from(new Set([s].concat(O.filter(Z=>Z.position).map(Z=>Z.position)))),[O,s]),[F,M]=z.useState([]),[R,$]=z.useState(!1),[H,G]=z.useState(!1),[V,B]=z.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=z.useRef(null),W=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=z.useRef(null),U=z.useRef(!1),K=z.useCallback(Z=>{k(se=>{var oe;return(oe=se.find(pe=>pe.id===Z.id))!=null&&oe.delete||Rr.dismiss(Z.id),se.filter(({id:pe})=>pe!==Z.id)})},[]);return z.useEffect(()=>Rr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{k(se=>se.map(oe=>oe.id===Z.id?{...oe,delete:!0}:oe))});return}setTimeout(()=>{h5.flushSync(()=>{k(se=>{const oe=se.findIndex(pe=>pe.id===Z.id);return oe!==-1?[...se.slice(0,oe),{...se[oe],...Z},...se.slice(oe+1)]:[Z,...se]})})})}),[E]),z.useEffect(()=>{if(m!=="system"){B(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:se})=>{B(se?"dark":"light")})}catch{Z.addListener(({matches:oe})=>{try{B(oe?"dark":"light")}catch(pe){console.error(pe)}})}},[m]),z.useEffect(()=>{E.length<=1&&$(!1)},[E]),z.useEffect(()=>{const Z=se=>{var oe;if(a.every(le=>se[le]||se.code===le)){var te;$(!0),(te=L.current)==null||te.focus()}se.code==="Escape"&&(document.activeElement===L.current||(oe=L.current)!=null&&oe.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),z.useEffect(()=>{if(L.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,U.current=!1)}},[L.current]),z.createElement("section",{ref:n,"aria-label":`${P} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((Z,se)=>{var oe;const[pe,te]=Z.split("-");return O.length?z.createElement("ol",{key:Z,dir:_==="auto"?pM():_,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":pe,"data-x-position":te,style:{"--front-toast-height":`${((oe=F[0])==null?void 0:oe.height)||0}px`,"--width":`${rse}px`,"--gap":`${A}px`,...v,...cse(h,d)},onBlur:le=>{U.current&&!le.currentTarget.contains(le.relatedTarget)&&(U.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||U.current||(U.current=!0,X.current=le.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{H||$(!1)},onDragEnd:()=>$(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},O.filter(le=>!le.position&&se===0||le.position===Z).map((le,ie)=>{var he,ve;return z.createElement(lse,{key:le.id,icons:T,index:ie,toast:le,defaultRichColors:g,duration:(he=w?.duration)!=null?he:x,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:b,closeButton:(ve=w?.closeButton)!=null?ve:l,interacting:H,position:Z,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(re=>re.position==le.position),heights:F.filter(re=>re.position==le.position),setHeights:M,expandByDefault:o,gap:A,expanded:R,swipeDirections:e.swipeDirections})})):null}))});function dse({expenseId:t,open:e,onClose:n}){const{users:r,debts:i,currentUser:s,updateExpense:a,expenses:o}=ot(),l=o.find(P=>P.id===t),[c,h]=C.useState(!1),[d,m]=C.useState(""),[g,x]=C.useState("");if(C.useEffect(()=>{l&&(m(l.total_amount.toString()),x(l.category))},[l]),!l)return null;const v=r.find(P=>P.id===l.created_by),b=s?.id===l.created_by||s?.role==="admin",w=i.filter(P=>P.linked_expense_id===l.id),_=P=>r.find(k=>k.id===P)?.name||"Unknown",A=async()=>{if(!(!l||!s))try{const P=parseFloat(d);if(isNaN(P)||P<=0){ke.error("Please enter a valid amount");return}await a({...l,total_amount:P,category:g,updated_at:new Date().toISOString()}),ke.success("Expense updated successfully"),h(!1)}catch(P){console.error("Failed to update expense:",P),ke.error("Failed to update expense")}},T=()=>{m(l.total_amount.toString()),x(l.category),h(!1)};return f.jsx(ey,{open:e,onOpenChange:P=>!P&&(c?T():n()),children:f.jsxs(ty,{side:"right",className:"ml-auto w-full max-w-lg overflow-y-auto bg-background border-l",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[f.jsx(ue,{variant:"ghost",size:"icon",onClick:c?T:n,className:"shrink-0",children:f.jsx(jf,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-center",children:[f.jsxs(ny,{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:yg(l.category)}),l.category]}),f.jsxs(vE,{className:"flex items-center justify-center gap-1 mt-1",children:[f.jsx(ra,{className:"h-3 w-3"}),aee(l.date)]})]}),b&&!c&&f.jsx(ue,{variant:"outline",size:"icon",onClick:()=>h(!0),className:"shrink-0",children:f.jsx(mJ,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-2xl border",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),c&&f.jsxs(ue,{onClick:A,size:"sm",className:"gap-1",children:[f.jsx(vg,{className:"h-3 w-3"}),"Save"]})]}),c?f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{type:"number",value:d,onChange:P=>m(P.target.value),className:"pl-8 h-12 text-2xl font-bold bg-background border-primary/30",step:"0.01"})]})}):f.jsx("div",{className:"text-3xl font-bold text-primary",children:Pe(l.total_amount,l.currency)})]}),f.jsxs("div",{className:"bg-surface-variant/50 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(u5,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Category"})]}),c?f.jsxs(Vn,{value:g,onValueChange:x,children:[f.jsx(Hn,{className:"bg-background",children:f.jsx(Wn,{})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"Food & Dining",children:" Food & Dining"}),f.jsx(ze,{value:"Transportation",children:" Transportation"}),f.jsx(ze,{value:"Shopping",children:" Shopping"}),f.jsx(ze,{value:"Bills & Utilities",children:" Bills & Utilities"}),f.jsx(ze,{value:"Entertainment",children:" Entertainment"}),f.jsx(ze,{value:"Healthcare",children:" Healthcare"}),f.jsx(ze,{value:"Education",children:" Education"}),f.jsx(ze,{value:"Personal Care",children:" Personal Care"}),f.jsx(ze,{value:"Home & Garden",children:" Home & Garden"}),f.jsx(ze,{value:"Gifts & Donations",children:" Gifts & Donations"}),f.jsx(ze,{value:"Travel",children:" Travel"}),f.jsx(ze,{value:"Other",children:" Other"})]})]}):f.jsxs(Jt,{variant:"outline",className:"text-sm px-3 py-1",children:[yg(l.category)," ",l.category]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(Lc,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{className:"font-semibold",children:"Payment Details"})]}),f.jsx("div",{className:"space-y-3",children:l.payment_lines.map(P=>{const E=r.find(D=>D.id===P.payer_user_id),k=!!P.meta?.borrowed_from,O=k?r.find(D=>D.id===P.meta?.borrowed_from):null;return f.jsxs(tt,{className:`p-4 ${k?"border-orange-200 dark:border-orange-800 bg-orange-50/30 dark:bg-orange-950/10":""}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:p5(P.method)}),f.jsx("span",{className:"font-medium",children:oee(P.method)})]}),f.jsx("div",{className:"text-lg font-bold",children:Pe(P.amount,l.currency)})]}),E&&f.jsxs("div",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[f.jsx($c,{className:"h-5 w-5",children:f.jsx(Bc,{className:"text-xs",children:Fc(E.name)})}),f.jsxs("span",{children:["Paid by ",f.jsx("span",{className:"font-medium text-foreground",children:E.name})]})]}),k&&O&&f.jsxs("div",{className:"mt-3 p-3 bg-orange-50/50 dark:bg-orange-950/20 rounded-lg border border-orange-200/50 dark:border-orange-800/50",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-400 font-medium text-sm mb-1",children:[f.jsx(Ic,{className:"h-4 w-4"}),f.jsx("span",{children:"Borrowed Money"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:E?.name}),f.jsx(JQ,{className:"h-3 w-3 text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"borrowed from"}),f.jsx("span",{className:"font-medium",children:O.name})]})]})]},P.id)})})]}),l.notes&&f.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[f.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:" Notes"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:l.notes})]}),f.jsxs("div",{className:"bg-surface-variant/30 p-4 rounded-xl space-y-3",children:[f.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Details"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Created by"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx($c,{className:"h-5 w-5",children:f.jsx(Bc,{className:"text-xs",children:v?Fc(v.name):"?"})}),f.jsx("span",{className:"font-medium",children:v?.name||"Unknown"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Visibility"}),f.jsx(Jt,{variant:l.is_shared?"default":"secondary",className:"text-xs",children:l.is_shared?"Shared":"Private"})]}),w.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Related IOUs"}),f.jsx("div",{className:"space-y-2",children:w.map(P=>f.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded border",children:[f.jsxs("span",{children:[_(P.borrower_user_id)," owes"," ",_(P.lender_user_id)]}),f.jsx("span",{className:"font-semibold",children:Pe(P.amount,P.currency)})]},P.id))})]})]})]})]})})}function mM({filters:t}){const{currentUser:e,expenses:n,users:r}=ot(),[i,s]=C.useState(null);let a=e?.role==="admin"?n:n.filter(c=>c.is_shared||c.created_by===e?.id);t&&(a=a.filter(c=>{if(t.searchQuery){const h=t.searchQuery.toLowerCase();if(!(c.category.toLowerCase().includes(h)||c.notes&&c.notes.toLowerCase().includes(h)))return!1}if(t.category!=="All Categories"&&c.category!==t.category||t.mode!=="All Modes"&&!c.payment_lines.some(d=>d.method===t.mode))return!1;if(t.timeRange!=="all"){const h=new Date,d=new Date(c.date);switch(t.timeRange){case"today":if(d.toDateString()!==h.toDateString())return!1;break;case"week":const m=new Date(h);if(m.setDate(m.getDate()-7),d<m)return!1;break;case"month":const g=new Date(h);if(g.setMonth(g.getMonth()-1),d<g)return!1;break}}return!0}));const o=a.reduce((c,h)=>{const d=new Date(h.date);if(isNaN(d.getTime()))return c;const m=ki(h.date);return c[m]||(c[m]=[]),c[m].push(h),c},{});if(a.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx("div",{className:"text-5xl",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"":""})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"No expenses match your filters":"No expenses yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"Try adjusting your filters":`Tap the ${f.jsx("span",{className:"text-tertiary",children:"+"})} button to add your first expense`})]});const l=c=>r.find(d=>d.id===c)?.name||"Unknown";return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-6",children:Object.entries(o).map(([c,h])=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3 px-1 uppercase tracking-wide",children:c}),f.jsx("div",{className:"space-y-3",children:h.map(d=>{const m=r.find(g=>g.id===d.created_by);return f.jsx(tt,{className:"p-4 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20 overflow-hidden",onClick:()=>s(d.id),children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:yg(d.category)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx("h4",{className:"truncate font-medium",children:d.category}),d.payment_lines.length>1&&f.jsx(Jt,{variant:"secondary",className:"text-xs bg-secondary-container/50 text-on-secondary-container",children:"Split"})]}),f.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:d.payment_lines.map(g=>f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-md bg-surface-variant/50 text-on-surface-variant",children:[p5(g.method)," ",Pe(g.amount,d.currency)]},g.id))}),d.notes&&f.jsx("p",{className:"text-sm text-muted-foreground mt-2 truncate",children:d.notes}),f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx($c,{className:"h-6 w-6 border border-outline-variant",children:f.jsx(Bc,{className:"text-xs bg-primary-container text-on-primary-container",children:m?Fc(m.name):"?"})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:l(d.created_by)})]})]})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsx("div",{className:"text-xl font-medium text-destructive",children:Pe(d.total_amount,d.currency)})})]})},d.id)})})]},c))}),i&&f.jsx(dse,{expenseId:i,open:!!i,onClose:()=>s(null)})]})}var hse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fse=hse.reduce((t,e)=>{const n=_f(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),pse="Separator",gM="horizontal",mse=["horizontal","vertical"],tz=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=gM,...i}=t,s=gse(r)?r:gM,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(fse.div,{"data-orientation":s,...o,...i,ref:e})});tz.displayName=pse;function gse(t){return mse.includes(t)}var vse=tz;function qo({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return f.jsx(vse,{"data-slot":"separator-root",decorative:n,orientation:e,className:Le("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}const yse={cash:"",upi:"",card:"",bank:"",wallet:""};function bse({expense:t,open:e,onClose:n}){const{users:r,debts:i}=ot();if(!t)return null;const s=r.find(o=>o.id===t.created_by),a=i.filter(o=>o.linked_expense_id===t.id);return f.jsx(ey,{open:e,onOpenChange:n,children:f.jsxs(ty,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[f.jsx(gE,{className:"mb-6",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(ny,{className:"text-3xl",children:Pe(t.total_amount)}),f.jsx(vE,{className:"text-base mt-1",children:t.category})]}),t.is_shared?f.jsxs(Jt,{variant:"secondary",className:"gap-1",children:[f.jsx(CJ,{className:"h-3 w-3"}),"Shared"]}):f.jsxs(Jt,{variant:"outline",className:"gap-1",children:[f.jsx(l5,{className:"h-3 w-3"}),"Private"]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ra,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{children:ki(new Date(t.date))})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gv,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("span",{children:["Added by ",s?.name||"Unknown"]})]})]}),f.jsx(qo,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(Cu,{className:"h-4 w-4"}),"Payment Details"]}),f.jsx("div",{className:"space-y-2",children:t.payment_lines.map((o,l)=>{const c=r.find(m=>m.id===o.payer_user_id),h=o.meta?.borrowed_from?o.meta.borrowed_from==="custom"?{id:"custom",name:o.meta.lender_name||"Someone else"}:r.find(m=>m.id===o.meta?.borrowed_from):null,d=a.find(m=>(m.lender_user_id===o.meta?.borrowed_from||o.meta?.borrowed_from==="custom"&&m.lender_user_id==="external")&&m.borrower_user_id===o.payer_user_id);return f.jsxs("div",{className:`p-3 rounded-lg border ${h?"bg-orange-50 dark:bg-orange-950/20 border-orange-200 dark:border-orange-900/50":"bg-muted/30"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:yse[o.method]||""}),f.jsx("span",{className:"capitalize",children:o.method})]}),f.jsx("span",{className:"font-medium",children:Pe(o.amount)})]}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["Paid by ",c?.name||"Unknown"]}),h&&f.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200 dark:border-orange-800",children:f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-700 dark:text-orange-400",children:[f.jsx(io,{className:"h-3 w-3"}),f.jsxs("span",{children:["Borrowed from ",h?.name]}),d&&f.jsx(Jt,{variant:d.status==="settled"?"default":"secondary",className:"ml-auto",children:d.status==="settled"?f.jsxs(f.Fragment,{children:[f.jsx(wA,{className:"h-3 w-3 mr-1"}),"Settled"]}):f.jsxs(f.Fragment,{children:[f.jsx(PZ,{className:"h-3 w-3 mr-1"}),"Pending"]})})]})})]},o.id)})})]}),t.notes&&f.jsxs(f.Fragment,{children:[f.jsx(qo,{}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(Lc,{className:"h-4 w-4"}),"Notes"]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})]})]}),t.receipt_urls&&t.receipt_urls.length>0&&f.jsxs(f.Fragment,{children:[f.jsx(qo,{}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(Lc,{className:"h-4 w-4"}),"Receipts (",t.receipt_urls.length,")"]}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.receipt_urls.map((o,l)=>f.jsx("div",{className:"aspect-square rounded-lg bg-muted flex items-center justify-center",children:f.jsx("img",{src:o,alt:`Receipt ${l+1}`,className:"w-full h-full object-cover rounded-lg"})},l))})]})]}),a.length>0&&f.jsxs(f.Fragment,{children:[f.jsx(qo,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(io,{className:"h-4 w-4"}),"Related IOUs"]}),a.map(o=>{const l=r.find(h=>h.id===o.lender_user_id),c=r.find(h=>h.id===o.borrower_user_id);return f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"text-sm",children:[c?.name," owes ",l?.name]}),f.jsx("div",{className:"font-medium",children:Pe(o.amount)})]}),f.jsx(Jt,{variant:o.status==="settled"?"default":"secondary",className:"mt-2",children:o.status==="settled"?"Settled":"Pending"})]},o.id)})]})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t",children:f.jsx(ue,{variant:"outline",onClick:n,className:"w-full",children:"Close"})})]})})}function vM({filters:t}){const{income:e,users:n,currentUser:r}=ot(),[i,s]=C.useState(null);let a=e;return t&&(a=e.filter(o=>{if(t.searchQuery){const l=t.searchQuery.toLowerCase();if(!(o.source.toLowerCase().includes(l)||o.notes&&o.notes.toLowerCase().includes(l)))return!1}if(t.timeRange!=="all"){const l=new Date,c=new Date(o.date);switch(t.timeRange){case"today":if(c.toDateString()!==l.toDateString())return!1;break;case"week":const h=new Date(l);if(h.setDate(h.getDate()-7),c<h)return!1;break;case"month":const d=new Date(l);if(d.setMonth(d.getMonth()-1),c<d)return!1;break}}return!0})),a.length===0?f.jsx(tt,{children:f.jsxs(_t,{className:"py-12 text-center",children:[f.jsx(ii,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"No income matches your filters":"No income recorded yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"Try adjusting your filters":"Add your first income to start tracking"})]})}):f.jsxs("div",{className:"space-y-3",children:[a.map(o=>{const l=n.find(h=>h.id===o.created_by),c=o.created_by===r?.id;return f.jsxs(tt,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s(o.id),children:[f.jsx(Et,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(jt,{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-green-600",children:["+ ",Pe(o.amount)]})}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.source})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm",children:ki(new Date(o.date))}),l&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[f.jsx(Gv,{className:"h-3 w-3"}),f.jsx("span",{children:c?"You":l.name})]})]})]})}),o.notes&&f.jsx(_t,{className:"pt-0",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:o.notes})})]},o.id)}),i&&f.jsx(bse,{expense:{id:i,family_id:r?.family_id||"",created_by:e.find(o=>o.id===i)?.created_by||"",total_amount:e.find(o=>o.id===i)?.amount||0,currency:e.find(o=>o.id===i)?.currency||"INR",category:e.find(o=>o.id===i)?.source||"",date:e.find(o=>o.id===i)?.date||"",notes:e.find(o=>o.id===i)?.notes,payment_lines:[{id:"1",method:"cash",amount:e.find(o=>o.id===i)?.amount||0,payer_user_id:e.find(o=>o.id===i)?.created_by||""}],is_shared:e.find(o=>o.id===i)?.is_shared||!1,sync_status:"synced",created_at:e.find(o=>o.id===i)?.created_at||"",attachments:e.find(o=>o.id===i)?.attachments||[],receipt_urls:e.find(o=>o.id===i)?.receipt_urls||[]},open:!!i,onClose:()=>s(null)})]})}const xse="modulepreload",wse=function(t){return"/"+t},yM={},nz=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=a(n.map(c=>{if(c=wse(c),c in yM)return;yM[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":xse,h||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),h)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var zc;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(zc||(zc={}));class E0 extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Sse=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},_se=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:Sse(t),s=()=>i()!=="web",a=d=>{const m=c.get(d);return!!(m?.platforms.has(i())||o(d))},o=d=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===d)},l=d=>t.console.error(d),c=new Map,h=(d,m={})=>{const g=c.get(d);if(g)return console.warn(`Capacitor plugin "${d}" already registered. Cannot register plugins twice.`),g.proxy;const x=i(),v=o(d);let b;const w=async()=>(!b&&x in m?b=typeof m[x]=="function"?b=await m[x]():b=m[x]:e!==null&&!b&&"web"in m&&(b=typeof m.web=="function"?b=await m.web():b=m.web),b),_=(O,D)=>{var F,M;if(v){const R=v?.methods.find($=>D===$.name);if(R)return R.rtype==="promise"?$=>n.nativePromise(d,D.toString(),$):($,H)=>n.nativeCallback(d,D.toString(),$,H);if(O)return(F=O[D])===null||F===void 0?void 0:F.bind(O)}else{if(O)return(M=O[D])===null||M===void 0?void 0:M.bind(O);throw new E0(`"${d}" plugin is not implemented on ${x}`,zc.Unimplemented)}},A=O=>{let D;const F=(...M)=>{const R=w().then($=>{const H=_($,O);if(H){const G=H(...M);return D=G?.remove,G}else throw new E0(`"${d}.${O}()" is not implemented on ${x}`,zc.Unimplemented)});return O==="addListener"&&(R.remove=async()=>D()),R};return F.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:O,writable:!1,configurable:!1}),F},T=A("addListener"),P=A("removeListener"),E=(O,D)=>{const F=T({eventName:O},D),M=async()=>{const $=await F;P({eventName:O,callbackId:$},D)},R=new Promise($=>F.then(()=>$({remove:M})));return R.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},R},k=new Proxy({},{get(O,D){switch(D){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return v?E:T;case"removeListener":return P;default:return A(D)}}});return r[d]=k,c.set(d,{name:d,proxy:k,platforms:new Set([...Object.keys(m),...v?[x]:[]])}),k};return n.convertFileSrc||(n.convertFileSrc=d=>d),n.getPlatform=i,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=h,n.Exception=E0,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Ase=t=>t.Capacitor=_se(t),Ph=Ase(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Ou=Ph.registerPlugin;class rz{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Ph.Exception(e,zc.Unimplemented)}unavailable(e="not available"){return new Ph.Exception(e,zc.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const bM=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),xM=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Cse extends rz{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=xM(i).trim(),s=xM(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=bM(e.key),r=bM(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Ou("CapacitorCookies",{web:()=>new Cse});const Pse=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Ese=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},jse=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${r}&${l}`},"").substr(1):null,Tse=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Ese(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class kse extends rz{async request(e){const n=Tse(e,e.webFetchExtra),r=jse(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await s.blob(),l=await Pse(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const h={};return s.headers.forEach((d,m)=>{h[m]=d}),{data:l,headers:h,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Ou("CapacitorHttp",{web:()=>new kse});var Eh;(function(t){t.Heavy="HEAVY",t.Medium="MEDIUM",t.Light="LIGHT"})(Eh||(Eh={}));var Pg;(function(t){t.Success="SUCCESS",t.Warning="WARNING",t.Error="ERROR"})(Pg||(Pg={}));const jh=Ou("Haptics",{web:()=>nz(()=>import("./web-D9la3Zof.js"),[]).then(t=>new t.HapticsWeb)});function Wt({...t}){return f.jsx(K5,{"data-slot":"dialog",...t})}function Nse({...t}){return f.jsx(Y5,{"data-slot":"dialog-trigger",...t})}function Ose({...t}){return f.jsx(X5,{"data-slot":"dialog-portal",...t})}const iz=C.forwardRef(({className:t,...e},n)=>f.jsx(Jv,{ref:n,"data-slot":"dialog-overlay",className:Le("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));iz.displayName=Jv.displayName;function Ht({className:t,children:e,...n}){return f.jsxs(Ose,{"data-slot":"dialog-portal",children:[f.jsx(iz,{}),f.jsxs(Q5,{"data-slot":"dialog-content",className:Le("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,f.jsxs(eU,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(Pu,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function rn({className:t,...e}){return f.jsx("div",{"data-slot":"dialog-header",className:Le("flex flex-col gap-2 text-center sm:text-left",t),...e})}function sn({className:t,...e}){return f.jsx(Z5,{"data-slot":"dialog-title",className:Le("text-lg leading-none font-semibold",t),...e})}function pn({className:t,...e}){return f.jsx(J5,{"data-slot":"dialog-description",className:Le("text-muted-foreground text-sm",t),...e})}function eo({className:t,...e}){return f.jsx("textarea",{"data-slot":"textarea",className:Le("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function sz({goal:t,open:e,onClose:n}){if(!t)return null;const{currentUser:r,currentFamily:i,accounts:s,addGoalTransfer:a,updateGoal:o,addExpense:l}=ot(),[c,h]=C.useState(""),[d,m]=C.useState(""),[g,x]=C.useState("cash"),[v,b]=C.useState(""),[w,_]=C.useState(!1),A=()=>{h(""),m(""),x("cash"),b(""),n()},T=async()=>{if(!r||!i)return;const k=parseFloat(c);if(isNaN(k)||k<=0){ke.error("Please enter a valid amount");return}const O=t.target_amount-t.current_amount;if(k>O){ke.error(`Amount exceeds remaining target (${O.toFixed(2)})`);return}_(!0);try{const D={id:Qt(),goal_id:t.id,from_account_id:g==="bank"?d:void 0,amount:k,transfer_type:"manual",transfer_method:g,contributed_by:r.id,notes:v.trim()||void 0,transfer_date:new Date().toISOString(),created_at:new Date().toISOString(),sync_status:"pending"};if(await a(D),g==="bank"&&d){const M={id:Qt(),method:"bank",amount:k,payer_user_id:r.id,account_id:d},R={id:Qt(),family_id:r.family_id,created_by:r.id,total_amount:k,currency:"INR",category:"savings",date:ki(new Date),notes:`Transfer to goal: ${t.goal_name}`,payment_lines:[M],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await l(R)}else if(g==="cash"){const M={id:Qt(),method:"cash",amount:k,payer_user_id:r.id},R={id:Qt(),family_id:r.family_id,created_by:r.id,total_amount:k,currency:"INR",category:"savings",date:ki(new Date),notes:`Cash contribution to goal: ${t.goal_name}`,payment_lines:[M],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await l(R)}const F={...t,current_amount:t.current_amount+k,sync_status:"pending",updated_at:new Date().toISOString()};await o(F),ke.success(`Added ${k} to "${t.goal_name}"!`),A()}catch(D){console.error("Failed to add transfer:",D),ke.error("Failed to add money to goal"),await jh.notification({type:Pg.Error})}finally{_(!1)}},P=t.target_amount-t.current_amount,E={cash:{icon:"",label:"Cash",description:"Save cash physically or deposit later",color:"from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",borderColor:"border-green-200 dark:border-green-800"},upi:{icon:"",label:"UPI",description:"Quick digital transfer via UPI apps",color:"from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",borderColor:"border-blue-200 dark:border-blue-800"},card:{icon:"",label:"Debit/Credit Card",description:"Using your card payments or rewards",color:"from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20",borderColor:"border-purple-200 dark:border-purple-800"},bank:{icon:"",label:"Bank Transfer",description:"Direct bank account transfer",color:"from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20",borderColor:"border-orange-200 dark:border-orange-800"},wallet:{icon:"",label:"Wallet",description:"Digital wallet or e-payment",color:"from-amber-50 to-yellow-50 dark:from-amber-950/20 dark:to-yellow-950/20",borderColor:"border-amber-200 dark:border-amber-800"}};return f.jsx(Wt,{open:e,onOpenChange:k=>!k&&A(),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(rn,{children:[f.jsxs(sn,{className:"flex items-center gap-2 text-2xl",children:[f.jsx(a5,{className:"h-6 w-6 text-primary"}),"Add Money to Goal"]}),f.jsx(pn,{className:"text-base mt-2",children:f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-medium",children:t.goal_name}),f.jsxs("p",{className:"text-muted-foreground",children:["Remaining: ",Pe(P)]})]})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(tt,{className:"p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(tJ,{className:"h-4 w-4 text-primary"}),f.jsx("p",{className:"font-medium",children:"How Much Can You Save?"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Remaining to reach goal:"}),f.jsx("span",{className:"text-2xl font-bold text-primary",children:Pe(P)})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["If you save ",Pe(Math.round(P/12))," per month, you can reach your goal in ~1 year"]})]})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Me,{htmlFor:"amount",className:"text-base font-semibold",children:"How Much Do You Want to Save? *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-muted-foreground",children:""}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0",value:c,onChange:k=>h(k.target.value),step:"100",className:"pl-10 h-14 text-2xl font-semibold"})]}),c&&parseFloat(c)>0&&f.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/30",children:[f.jsxs("p",{className:"text-sm",children:["After this: ",f.jsx("span",{className:"font-semibold",children:Pe(t.current_amount+parseFloat(c))})," / ",Pe(t.target_amount)]}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Progress: ",f.jsxs("span",{className:"font-semibold",children:[((t.current_amount+parseFloat(c))/t.target_amount*100).toFixed(1),"%"]})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Me,{className:"text-base font-semibold",children:"How Do You Want to Save? *"}),f.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-5",children:Object.entries(E).map(([k,O])=>f.jsxs("button",{onClick:()=>x(k),className:`p-3 rounded-xl border-2 transition-all ${g===k?`bg-gradient-to-br ${O.color} border-primary shadow-md scale-105`:"bg-white dark:bg-slate-950 border-border hover:border-primary/50"}`,children:[f.jsx("div",{className:"text-3xl mb-2",children:O.icon}),f.jsx("div",{className:"text-xs font-medium text-center leading-tight",children:O.label})]},k))}),E[g]&&f.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-muted",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:E[g].description})})]}),g==="bank"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"fromAccount",children:"Which Bank Account? *"}),f.jsxs(Vn,{value:d,onValueChange:m,children:[f.jsx(Hn,{id:"fromAccount",className:"h-11",children:f.jsx(Wn,{placeholder:"Select bank account..."})}),f.jsx(qn,{children:s.map(k=>f.jsxs(ze,{value:k.id,children:[k.name," - ",Pe(k.current_balance)]},k.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"notes",children:"Add Notes (optional)"}),f.jsx(eo,{id:"notes",placeholder:"e.g., Monthly contribution, Birthday savings, etc.",value:v,onChange:k=>b(k.target.value),rows:2,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[f.jsx(ue,{variant:"outline",onClick:A,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ue,{onClick:T,disabled:w||!c||parseFloat(c)<=0,className:"flex-1 h-12",children:w?"Saving...":`Save ${c?Pe(parseFloat(c)):"Money"}`})]})]})]})})}function Mse({goal:t,open:e,onClose:n}){const{users:r,goalTransfers:i,currentUser:s,accounts:a}=ot(),[o,l]=C.useState(!1);if(!t)return null;const c=r.find(w=>w.id===t.created_by),h=i.filter(w=>w.goal_id===t.id),d=Math.min(t.current_amount/t.target_amount*100,100),m=d>=100,x=(()=>{if(!t.target_date)return null;const w=new Date,_=new Date(t.target_date);return Math.ceil((_.getTime()-w.getTime())/(1e3*60*60*24))})(),v=w=>{switch(w){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},b=()=>[{percentage:25,label:"25%",achieved:d>=25},{percentage:50,label:"50%",achieved:d>=50},{percentage:75,label:"75%",achieved:d>=75},{percentage:100,label:"100%",achieved:d>=100}];return f.jsxs(f.Fragment,{children:[f.jsx(ey,{open:e,onOpenChange:n,children:f.jsxs(ty,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[f.jsx(gE,{className:"mb-6",children:f.jsxs("div",{className:"flex items-start justify-between pr-6",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-4xl",children:t.goal_icon||""}),f.jsxs("div",{children:[f.jsx(ny,{className:"text-2xl",children:t.goal_name}),f.jsxs(vE,{className:"text-base mt-1",children:["Target: ",Pe(t.target_amount)]})]})]})}),f.jsxs(Jt,{variant:"outline",className:`${v(t.priority)} border-current`,children:[t.priority," priority"]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(ii,{className:"h-4 w-4"}),"Progress"]}),f.jsxs("span",{className:"text-2xl font-semibold",children:[d.toFixed(1),"%"]})]}),f.jsx(kf,{value:d,className:"h-3"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Saved"}),f.jsx("p",{className:"font-semibold text-success",children:Pe(t.current_amount)})]}),f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Remaining"}),f.jsx("p",{className:"font-semibold",children:Pe(t.target_amount-t.current_amount)})]})]}),m&&f.jsx("div",{className:"p-4 bg-success/10 border-2 border-success/30 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-2 text-success",children:[f.jsx(wA,{className:"h-5 w-5"}),f.jsx("span",{className:"font-medium",children:"Goal Completed! "})]})})]}),f.jsx(qo,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Milestones"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:b().map(w=>f.jsxs("div",{className:`p-3 rounded-lg text-center transition-all ${w.achieved?"bg-success/20 border-2 border-success/50":"bg-muted/30 border border-muted"}`,children:[w.achieved&&f.jsx(wA,{className:"h-4 w-4 mx-auto mb-1 text-success"}),f.jsx("p",{className:"text-sm font-medium",children:w.label})]},w.percentage))})]}),f.jsx(qo,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Details"}),t.target_date&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ra,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("span",{className:"text-sm",children:["Target Date: ",ki(new Date(t.target_date))]}),x!==null&&f.jsx("p",{className:"text-xs text-muted-foreground",children:x>0?`${x} days remaining`:x===0?"Due today!":`${Math.abs(x)} days overdue`})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Gv,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("span",{className:"text-sm",children:["Created by ",c?.name||"Unknown"]})]}),t.description&&f.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})})]}),f.jsx(qo,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{children:["Contributions (",h.length,")"]}),!m&&f.jsxs(ue,{size:"sm",onClick:()=>l(!0),className:"gap-2",children:[f.jsx(Br,{className:"h-4 w-4"}),"Add Money"]})]}),h.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(a5,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"No contributions yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Start saving towards this goal"})]}):f.jsx("div",{className:"space-y-2",children:h.sort((w,_)=>new Date(_.transfer_date).getTime()-new Date(w.transfer_date).getTime()).map(w=>{const _=r.find(A=>A.id===w.contributed_by);return f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium",children:_?.name||"Unknown"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[ki(new Date(w.transfer_date)),w.from_account_id&&f.jsxs("span",{className:"ml-1",children:[" via ",a.find(A=>A.id===w.from_account_id)?.name||"Cash/External"]}),w.notes&&`  ${w.notes}`]})]}),f.jsxs("p",{className:"font-semibold text-success",children:["+",Pe(w.amount)]})]},w.id)})})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t",children:f.jsx(ue,{variant:"outline",onClick:n,className:"w-full",children:"Close"})})]})}),o&&f.jsx(sz,{goal:t,open:o,onClose:()=>l(!1)})]})}function Dse(){const{currentUser:t,goals:e}=ot(),[n,r]=C.useState(null),i=t?.role==="admin"?e:e.filter(d=>d.is_shared||d.created_by===t?.id),s=i.filter(d=>d.is_active),a=i.filter(d=>!d.is_active&&d.completed_at),o=d=>Math.min(d.current_amount/d.target_amount*100,100),l=d=>{if(!d.target_date)return null;const m=new Date,g=new Date(d.target_date);return Math.ceil((g.getTime()-m.getTime())/(1e3*60*60*24))},c=d=>{switch(d){case"high":return"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-950 dark:text-gray-300"}};if(i.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx(el,{className:"h-12 w-12 text-primary"})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:"No goals yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first savings goal to get started"})]});const h=d=>{const m=o(d),g=l(d),x=m>=100;return f.jsx(tt,{className:"p-5 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20",onClick:()=>r(d),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:d.goal_icon||""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"truncate font-medium",children:d.goal_name}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[f.jsx(Jt,{variant:"outline",className:c(d.priority),children:d.priority}),x&&f.jsx(Jt,{className:"bg-success text-white",children:" Completed"})]})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Target"}),f.jsx("p",{className:"font-semibold",children:Pe(d.target_amount)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Progress"}),f.jsxs("span",{className:"font-medium",children:[m.toFixed(1),"%"]})]}),f.jsx(kf,{value:m,className:"h-2"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("span",{className:"text-muted-foreground",children:["Saved: ",Pe(d.current_amount)]}),f.jsxs("span",{className:"text-muted-foreground",children:["Remaining: ",Pe(d.target_amount-d.current_amount)]})]})]}),g!==null&&f.jsx("div",{className:"text-sm text-muted-foreground",children:g>0?f.jsxs("span",{children:[" ",g," days remaining"]}):g===0?f.jsx("span",{className:"text-orange-600",children:" Due today!"}):f.jsxs("span",{className:"text-red-600",children:[" ",Math.abs(g)," days overdue"]})})]})},d.id)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Active Goals (",s.length,")"]}),s.map(h)]}),a.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Completed Goals (",a.length,")"]}),a.map(h)]})]}),n&&f.jsx(Mse,{goal:n,open:!!n,onClose:()=>r(null)})]})}function lt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function si(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function rr(t,e){const n=lt(t);return isNaN(e)?si(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ni(t,e){const n=lt(t);if(isNaN(e))return si(t,NaN);if(!e)return n;const r=n.getDate(),i=si(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const DE=6048e5,Rse=864e5,az=6e4,oz=36e5;let Ise={};function If(){return Ise}function Oi(t,e){const n=If(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lt(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function cl(t){return Oi(t,{weekStartsOn:1})}function lz(t){const e=lt(t),n=e.getFullYear(),r=si(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=cl(r),s=si(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=cl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Vc(t){const e=lt(t);return e.setHours(0,0,0,0),e}function Eg(t){const e=lt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vs(t,e){const n=Vc(t),r=Vc(e),i=+n-Eg(n),s=+r-Eg(r);return Math.round((i-s)/Rse)}function Lse(t){const e=lz(t),n=si(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),cl(n)}function jg(t,e){const n=e*7;return rr(t,n)}function Fse(t,e){return Ni(t,e*12)}function $se(t){let e;return t.forEach(function(n){const r=lt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Bse(t){let e;return t.forEach(n=>{const r=lt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Tn(t,e){const n=Vc(t),r=Vc(e);return+n==+r}function RE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Use(t){if(!RE(t)&&typeof t!="number")return!1;const e=lt(t);return!isNaN(Number(e))}function Th(t,e){const n=lt(t),r=lt(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function zse(t,e,n){const r=Oi(t,n),i=Oi(e,n),s=+r-Eg(r),a=+i-Eg(i);return Math.round((s-a)/DE)}function kh(t){const e=lt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function mr(t){const e=lt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function cz(t){const e=lt(t),n=si(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Nh(t,e){const n=If(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=lt(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function uz(t){return Nh(t,{weekStartsOn:1})}const Vse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wse=(t,e,n)=>{let r;const i=Vse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function j0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Hse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Kse={date:j0({formats:Hse,defaultWidth:"full"}),time:j0({formats:qse,defaultWidth:"full"}),dateTime:j0({formats:Gse,defaultWidth:"full"})},Yse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xse=(t,e,n,r)=>Yse[t];function Td(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Qse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},eae={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nae={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rae=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},iae={ordinalNumber:rae,era:Td({values:Qse,defaultWidth:"wide"}),quarter:Td({values:Zse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Td({values:Jse,defaultWidth:"wide"}),day:Td({values:eae,defaultWidth:"wide"}),dayPeriod:Td({values:tae,defaultWidth:"wide",formattingValues:nae,defaultFormattingWidth:"wide"})};function kd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?aae(o,d=>d.test(a)):sae(o,d=>d.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(a.length);return{value:c,rest:h}}}function sae(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function aae(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function oae(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const lae=/^(\d+)(th|st|nd|rd)?/i,cae=/\d+/i,uae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dae={any:[/^b/i,/^(a|c)/i]},hae={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fae={any:[/1/i,/2/i,/3/i,/4/i]},pae={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mae={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gae={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vae={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yae={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},bae={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xae={ordinalNumber:oae({matchPattern:lae,parsePattern:cae,valueCallback:t=>parseInt(t,10)}),era:kd({matchPatterns:uae,defaultMatchWidth:"wide",parsePatterns:dae,defaultParseWidth:"any"}),quarter:kd({matchPatterns:hae,defaultMatchWidth:"wide",parsePatterns:fae,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kd({matchPatterns:pae,defaultMatchWidth:"wide",parsePatterns:mae,defaultParseWidth:"any"}),day:kd({matchPatterns:gae,defaultMatchWidth:"wide",parsePatterns:vae,defaultParseWidth:"any"}),dayPeriod:kd({matchPatterns:yae,defaultMatchWidth:"any",parsePatterns:bae,defaultParseWidth:"any"})},dz={code:"en-US",formatDistance:Wse,formatLong:Kse,formatRelative:Xse,localize:iae,match:xae,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wae(t){const e=lt(t);return vs(e,cz(e))+1}function hz(t){const e=lt(t),n=+cl(e)-+Lse(e);return Math.round(n/DE)+1}function fz(t,e){const n=lt(t),r=n.getFullYear(),i=If(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=si(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Oi(a,e),l=si(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Oi(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Sae(t,e){const n=If(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=fz(t,e),s=si(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Oi(s,e)}function pz(t,e){const n=lt(t),r=+Oi(n,e)-+Sae(n,e);return Math.round(r/DE)+1}function Pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qa={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Pt(n+1,2)},d(t,e){return Pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Pt(t.getHours()%12||12,e.length)},H(t,e){return Pt(t.getHours(),e.length)},m(t,e){return Pt(t.getMinutes(),e.length)},s(t,e){return Pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Pt(i,e.length)}},tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return qa.y(t,e)},Y:function(t,e,n,r){const i=fz(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Pt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Pt(s,e.length)},R:function(t,e){const n=lz(t);return Pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qa.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=pz(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Pt(i,e.length)},I:function(t,e,n){const r=hz(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qa.d(t,e)},D:function(t,e,n){const r=wae(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Pt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Pt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Pt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=tc.noon:r===0?i=tc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=tc.evening:r>=12?i=tc.afternoon:r>=4?i=tc.morning:i=tc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qa.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qa.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qa.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qa.s(t,e)},S:function(t,e){return qa.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _M(r);case"XXXX":case"XX":return Bo(r);case"XXXXX":case"XXX":default:return Bo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return _M(r);case"xxxx":case"xx":return Bo(r);case"xxxxx":case"xxx":default:return Bo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+SM(r,":");case"OOOO":default:return"GMT"+Bo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+SM(r,":");case"zzzz":default:return"GMT"+Bo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Pt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Pt(r,e.length)}};function SM(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Pt(s,2)}function _M(t,e){return t%60===0?(t>0?"-":"+")+Pt(Math.abs(t)/60,2):Bo(t,e)}function Bo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Pt(Math.trunc(r/60),2),s=Pt(r%60,2);return n+i+e+s}const AM=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},mz=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},_ae=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return AM(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",AM(r,e)).replace("{{time}}",mz(i,e))},Aae={p:mz,P:_ae},Cae=/^D+$/,Pae=/^Y+$/,Eae=["D","DD","YY","YYYY"];function jae(t){return Cae.test(t)}function Tae(t){return Pae.test(t)}function kae(t,e,n){const r=Nae(t,e,n);if(console.warn(r),Eae.includes(t))throw new RangeError(r)}function Nae(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Oae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Dae=/^'([^]*?)'?$/,Rae=/''/g,Iae=/[a-zA-Z]/;function Cs(t,e,n){const r=If(),i=n?.locale??r.locale??dz,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=lt(t);if(!Use(o))throw new RangeError("Invalid time value");let l=e.match(Mae).map(h=>{const d=h[0];if(d==="p"||d==="P"){const m=Aae[d];return m(h,i.formatLong)}return h}).join("").match(Oae).map(h=>{if(h==="''")return{isToken:!1,value:"'"};const d=h[0];if(d==="'")return{isToken:!1,value:Lae(h)};if(wM[d])return{isToken:!0,value:h};if(d.match(Iae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");return{isToken:!1,value:h}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(h=>{if(!h.isToken)return h.value;const d=h.value;(!n?.useAdditionalWeekYearTokens&&Tae(d)||!n?.useAdditionalDayOfYearTokens&&jae(d))&&kae(d,e,String(t));const m=wM[d[0]];return m(o,d,i.localize,c)}).join("")}function Lae(t){const e=t.match(Dae);return e?e[1].replace(Rae,"'"):t}function Fae(t){const e=lt(t),n=e.getFullYear(),r=e.getMonth(),i=si(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function $ae(t){return Math.trunc(+lt(t)/1e3)}function Bae(t){const e=lt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Uae(t,e){return zse(Bae(t),mr(t),e)+1}function MA(t,e){const n=lt(t),r=lt(e);return n.getTime()>r.getTime()}function gz(t,e){const n=lt(t),r=lt(e);return+n<+r}function IE(t,e){const n=lt(t),r=lt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function zae(t,e){const n=lt(t),r=lt(e);return n.getFullYear()===r.getFullYear()}function T0(t,e){const n=+lt(t),[r,i]=[+lt(e.start),+lt(e.end)].sort((s,a)=>s-a);return n>=r&&n<=i}function k0(t,e){return rr(t,-e)}function Nd(t,e){const r=qae(t);let i;if(r.date){const l=Gae(r.date,2);i=Kae(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(r.time&&(a=Yae(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=Xae(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const km={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Vae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Wae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Hae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function qae(t){const e={},n=t.split(km.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],km.timeZoneDelimiter.test(e.date)&&(e.date=t.split(km.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=km.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function Gae(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function Kae(t,e){if(e===null)return new Date(NaN);const n=t.match(Vae);if(!n)return new Date(NaN);const r=!!n[4],i=Od(n[1]),s=Od(n[2])-1,a=Od(n[3]),o=Od(n[4]),l=Od(n[5])-1;if(r)return toe(e,o,l)?Qae(e,o,l):new Date(NaN);{const c=new Date(0);return!Jae(e,s,a)||!eoe(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Od(t){return t?parseInt(t):1}function Yae(t){const e=t.match(Wae);if(!e)return NaN;const n=N0(e[1]),r=N0(e[2]),i=N0(e[3]);return noe(n,r,i)?n*oz+r*az+i*1e3:NaN}function N0(t){return t&&parseFloat(t.replace(",","."))||0}function Xae(t){if(t==="Z")return 0;const e=t.match(Hae);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return roe(r,i)?n*(r*oz+i*az):NaN}function Qae(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const Zae=[31,null,31,30,31,30,31,31,30,31,30,31];function vz(t){return t%400===0||t%4===0&&t%100!==0}function Jae(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Zae[e]||(vz(t)?29:28))}function eoe(t,e){return e>=1&&e<=(vz(t)?366:365)}function toe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function noe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function roe(t,e){return e>=0&&e<=59}function O0(t,e){const n=lt(t),r=n.getFullYear(),i=n.getDate(),s=si(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=Fae(s);return n.setMonth(e,Math.min(i,a)),n}function CM(t,e){const n=lt(t);return isNaN(+n)?si(t,NaN):(n.setFullYear(e),n)}function PM(t,e){return Ni(t,-1)}function EM(t,e){return jg(t,-1)}var He=function(){return He=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},He.apply(this,arguments)};function ioe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yz(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Lf(t){return t.mode==="multiple"}function Ff(t){return t.mode==="range"}function hy(t){return t.mode==="single"}var soe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aoe(t,e){return Cs(t,"LLLL y",e)}function ooe(t,e){return Cs(t,"d",e)}function loe(t,e){return Cs(t,"LLLL",e)}function coe(t){return"".concat(t)}function uoe(t,e){return Cs(t,"cccccc",e)}function doe(t,e){return Cs(t,"yyyy",e)}var hoe=Object.freeze({__proto__:null,formatCaption:aoe,formatDay:ooe,formatMonthCaption:loe,formatWeekNumber:coe,formatWeekdayName:uoe,formatYearCaption:doe}),foe=function(t,e,n){return Cs(t,"do MMMM (EEEE)",n)},poe=function(){return"Month: "},moe=function(){return"Go to next month"},goe=function(){return"Go to previous month"},voe=function(t,e){return Cs(t,"cccc",e)},yoe=function(t){return"Week n. ".concat(t)},boe=function(){return"Year: "},xoe=Object.freeze({__proto__:null,labelDay:foe,labelMonthDropdown:poe,labelNext:moe,labelPrevious:goe,labelWeekNumber:yoe,labelWeekday:voe,labelYearDropdown:boe});function woe(){var t="buttons",e=soe,n=dz,r={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:hoe,labels:xoe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function Soe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=mr(r):e&&(s=new Date(e,0,1)),i?a=kh(i):n&&(a=new Date(n,11,31)),{fromDate:s?Vc(s):void 0,toDate:a?Vc(a):void 0}}var bz=C.createContext(void 0);function _oe(t){var e,n=t.initialProps,r=woe(),i=Soe(n),s=i.fromDate,a=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(hy(n)||Lf(n)||Ff(n))&&(l=n.onSelect);var c=He(He(He({},r),n),{captionLayout:o,classNames:He(He({},r.classNames),n.classNames),components:He({},n.components),formatters:He(He({},r.formatters),n.formatters),fromDate:s,labels:He(He({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:He(He({},r.modifiers),n.modifiers),modifiersClassNames:He(He({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:He(He({},r.styles),n.styles),toDate:a});return f.jsx(bz.Provider,{value:c,children:t.children})}function $t(){var t=C.useContext(bz);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xz(t){var e=$t(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return f.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function Aoe(t){return f.jsx("svg",He({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:f.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function wz(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,c=$t(),h=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Aoe;return f.jsxs("div",{className:o,style:l,children:[f.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),f.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),f.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,f.jsx(h,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Coe(t){var e,n=$t(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,h=n.labels.labelMonthDropdown;if(!r)return f.jsx(f.Fragment,{});if(!i)return f.jsx(f.Fragment,{});var d=[];if(zae(r,i))for(var m=mr(r),g=r.getMonth();g<=i.getMonth();g++)d.push(O0(m,g));else for(var m=mr(new Date),g=0;g<=11;g++)d.push(O0(m,g));var x=function(b){var w=Number(b.target.value),_=O0(mr(t.displayMonth),w);t.onChange(_)},v=(e=c?.Dropdown)!==null&&e!==void 0?e:wz;return f.jsx(v,{name:"months","aria-label":h(),className:l.dropdown_month,style:s.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:d.map(function(b){return f.jsx("option",{value:b.getMonth(),children:o(b,{locale:a})},b.getMonth())})})}function Poe(t){var e,n=t.displayMonth,r=$t(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,l=r.classNames,c=r.components,h=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,m=[];if(!i)return f.jsx(f.Fragment,{});if(!s)return f.jsx(f.Fragment,{});for(var g=i.getFullYear(),x=s.getFullYear(),v=g;v<=x;v++)m.push(CM(cz(new Date),v));var b=function(_){var A=CM(mr(n),Number(_.target.value));t.onChange(A)},w=(e=c?.Dropdown)!==null&&e!==void 0?e:wz;return f.jsx(w,{name:"years","aria-label":d(),className:l.dropdown_year,style:o.dropdown_year,onChange:b,value:n.getFullYear(),caption:h(n,{locale:a}),children:m.map(function(_){return f.jsx("option",{value:_.getFullYear(),children:h(_,{locale:a})},_.getFullYear())})})}function Eoe(t,e){var n=C.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function joe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&Th(s,i)<0){var c=-1*(l-1);i=Ni(s,c)}return a&&Th(i,a)<0&&(i=a),mr(i)}function Toe(){var t=$t(),e=joe(t),n=Eoe(e,t.month),r=n[0],i=n[1],s=function(a){var o;if(!t.disableNavigation){var l=mr(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,s]}function koe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=mr(t),s=mr(Ni(i,r)),a=Th(s,i),o=[],l=0;l<a;l++){var c=Ni(i,l);o.push(c)}return n&&(o=o.reverse()),o}function Noe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=mr(t);if(!n)return Ni(o,a);var l=Th(n,t);if(!(l<s))return Ni(o,a)}}function Ooe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=mr(t);if(!n)return Ni(o,-a);var l=Th(o,n);if(!(l<=0))return Ni(o,-a)}}var Sz=C.createContext(void 0);function Moe(t){var e=$t(),n=Toe(),r=n[0],i=n[1],s=koe(r,e),a=Noe(r,e),o=Ooe(r,e),l=function(d){return s.some(function(m){return IE(d,m)})},c=function(d,m){l(d)||(m&&gz(d,m)?i(Ni(d,1+e.numberOfMonths*-1)):i(d))},h={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:l};return f.jsx(Sz.Provider,{value:h,children:t.children})}function $f(){var t=C.useContext(Sz);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function jM(t){var e,n=$t(),r=n.classNames,i=n.styles,s=n.components,a=$f().goToMonth,o=function(h){a(Ni(h,t.displayIndex?-t.displayIndex:0))},l=(e=s?.CaptionLabel)!==null&&e!==void 0?e:xz,c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth});return f.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[f.jsx("div",{className:r.vhidden,children:c}),f.jsx(Coe,{onChange:o,displayMonth:t.displayMonth}),f.jsx(Poe,{onChange:o,displayMonth:t.displayMonth})]})}function Doe(t){return f.jsx("svg",He({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Roe(t){return f.jsx("svg",He({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Tg=C.forwardRef(function(t,e){var n=$t(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),o=He(He({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),f.jsx("button",He({},t,{ref:e,type:"button",className:a,style:o}))});function Ioe(t){var e,n,r=$t(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,l=r.labels,c=l.labelPrevious,h=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return f.jsx(f.Fragment,{});var m=c(t.previousMonth,{locale:s}),g=[a.nav_button,a.nav_button_previous].join(" "),x=h(t.nextMonth,{locale:s}),v=[a.nav_button,a.nav_button_next].join(" "),b=(e=d?.IconRight)!==null&&e!==void 0?e:Roe,w=(n=d?.IconLeft)!==null&&n!==void 0?n:Doe;return f.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&f.jsx(Tg,{name:"previous-month","aria-label":m,className:g,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?f.jsx(b,{className:a.nav_icon,style:o.nav_icon}):f.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&f.jsx(Tg,{name:"next-month","aria-label":x,className:v,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?f.jsx(w,{className:a.nav_icon,style:o.nav_icon}):f.jsx(b,{className:a.nav_icon,style:o.nav_icon})})]})}function TM(t){var e=$t().numberOfMonths,n=$f(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(x){return IE(t.displayMonth,x)}),l=o===0,c=o===a.length-1,h=e>1&&(l||!c),d=e>1&&(c||!l),m=function(){r&&s(r)},g=function(){i&&s(i)};return f.jsx(Ioe,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:g})}function Loe(t){var e,n=$t(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,l=(e=o?.CaptionLabel)!==null&&e!==void 0?e:xz,c;return i?c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?c=f.jsx(jM,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?c=f.jsxs(f.Fragment,{children:[f.jsx(jM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),f.jsx(TM,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=f.jsxs(f.Fragment,{children:[f.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(TM,{displayMonth:t.displayMonth,id:t.id})]}),f.jsx("div",{className:r.caption,style:s.caption,children:c})}function Foe(t){var e=$t(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?f.jsx("tfoot",{className:i,style:r.tfoot,children:f.jsx("tr",{children:f.jsx("td",{colSpan:8,children:n})})}):f.jsx(f.Fragment,{})}function $oe(t,e,n){for(var r=n?cl(new Date):Oi(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=rr(r,s);i.push(a)}return i}function Boe(){var t=$t(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=$oe(i,s,a);return f.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&f.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(h,d){return f.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(h,{locale:i}),children:o(h,{locale:i})},d)})]})}function Uoe(){var t,e=$t(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:Boe;return f.jsx("thead",{style:r.head,className:n.head,children:f.jsx(s,{})})}function zoe(t){var e=$t(),n=e.locale,r=e.formatters.formatDay;return f.jsx(f.Fragment,{children:r(t.date,{locale:n})})}var LE=C.createContext(void 0);function Voe(t){if(!Lf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return f.jsx(LE.Provider,{value:e,children:t.children})}return f.jsx(Woe,{initialProps:t.initialProps,children:t.children})}function Woe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(c,h,d){var m,g;(m=e.onDayClick)===null||m===void 0||m.call(e,c,h,d);var x=!!(h.selected&&i&&r?.length===i);if(!x){var v=!!(!h.selected&&s&&r?.length===s);if(!v){var b=r?yz([],r):[];if(h.selected){var w=b.findIndex(function(_){return Tn(c,_)});b.splice(w,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,h,d)}}},o={disabled:[]};r&&o.disabled.push(function(c){var h=s&&r.length>s-1,d=r.some(function(m){return Tn(m,c)});return!!(h&&!d)});var l={selected:r,onDayClick:a,modifiers:o};return f.jsx(LE.Provider,{value:l,children:n})}function FE(){var t=C.useContext(LE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Hoe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Tn(i,t)&&Tn(r,t)?void 0:Tn(i,t)?{from:i,to:void 0}:Tn(r,t)?void 0:MA(r,t)?{from:t,to:i}:{from:r,to:t}:i?MA(t,i)?{from:i,to:t}:{from:t,to:i}:r?gz(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var $E=C.createContext(void 0);function qoe(t){if(!Ff(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return f.jsx($E.Provider,{value:e,children:t.children})}return f.jsx(Goe,{initialProps:t.initialProps,children:t.children})}function Goe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,o=e.min,l=e.max,c=function(g,x,v){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,g,x,v);var _=Hoe(g,r);(w=e.onSelect)===null||w===void 0||w.call(e,_,g,x,v)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(h.range_start=[s],a?(h.range_end=[a],Tn(s,a)||(h.range_middle=[{after:s,before:a}])):h.range_end=[s]):a&&(h.range_start=[a],h.range_end=[a]),o&&(s&&!a&&h.disabled.push({after:k0(s,o-1),before:rr(s,o-1)}),s&&a&&h.disabled.push({after:s,before:rr(s,o-1)}),!s&&a&&h.disabled.push({after:k0(a,o-1),before:rr(a,o-1)})),l){if(s&&!a&&(h.disabled.push({before:rr(s,-l+1)}),h.disabled.push({after:rr(s,l-1)})),s&&a){var d=vs(a,s)+1,m=l-d;h.disabled.push({before:k0(s,m)}),h.disabled.push({after:rr(a,m)})}!s&&a&&(h.disabled.push({before:rr(a,-l+1)}),h.disabled.push({after:rr(a,l-1)}))}return f.jsx($E.Provider,{value:{selected:r,onDayClick:c,modifiers:h},children:n})}function BE(){var t=C.useContext($E);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function og(t){return Array.isArray(t)?yz([],t):t!==void 0?[t]:[]}function Koe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=og(i)}),e}var ts;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ts||(ts={}));var Yoe=ts.Selected,Ks=ts.Disabled,Xoe=ts.Hidden,Qoe=ts.Today,M0=ts.RangeEnd,D0=ts.RangeMiddle,R0=ts.RangeStart,Zoe=ts.Outside;function Joe(t,e,n){var r,i=(r={},r[Yoe]=og(t.selected),r[Ks]=og(t.disabled),r[Xoe]=og(t.hidden),r[Qoe]=[t.today],r[M0]=[],r[D0]=[],r[R0]=[],r[Zoe]=[],r);return t.fromDate&&i[Ks].push({before:t.fromDate}),t.toDate&&i[Ks].push({after:t.toDate}),Lf(t)?i[Ks]=i[Ks].concat(e.modifiers[Ks]):Ff(t)&&(i[Ks]=i[Ks].concat(n.modifiers[Ks]),i[R0]=n.modifiers[R0],i[D0]=n.modifiers[D0],i[M0]=n.modifiers[M0]),i}var _z=C.createContext(void 0);function ele(t){var e=$t(),n=FE(),r=BE(),i=Joe(e,n,r),s=Koe(e.modifiers),a=He(He({},i),s);return f.jsx(_z.Provider,{value:a,children:t.children})}function Az(){var t=C.useContext(_z);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function tle(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function nle(t){return!!(t&&typeof t=="object"&&"from"in t)}function rle(t){return!!(t&&typeof t=="object"&&"after"in t)}function ile(t){return!!(t&&typeof t=="object"&&"before"in t)}function sle(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ale(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=vs(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=vs(t,r)>=0&&vs(i,t)>=0;return a}return i?Tn(i,t):r?Tn(r,t):!1}function ole(t){return RE(t)}function lle(t){return Array.isArray(t)&&t.every(RE)}function cle(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(ole(n))return Tn(t,n);if(lle(n))return n.includes(t);if(nle(n))return ale(t,n);if(sle(n))return n.dayOfWeek.includes(t.getDay());if(tle(n)){var r=vs(n.before,t),i=vs(n.after,t),s=r>0,a=i<0,o=MA(n.before,n.after);return o?a&&s:s||a}return rle(n)?vs(t,n.after)>0:ile(n)?vs(n.before,t)>0:typeof n=="function"?n(t):!1})}function UE(t,e,n){var r=Object.keys(e).reduce(function(s,a){var o=e[a];return cle(t,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!IE(t,n)&&(i.outside=!0),i}function ule(t,e){for(var n=mr(t[0]),r=kh(t[t.length-1]),i,s,a=n;a<=r;){var o=UE(a,e),l=!o.disabled&&!o.hidden;if(!l){a=rr(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=rr(a,1)}return s||i}var dle=365;function Cz(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,c=i.fromDate,h=i.toDate,d=i.locale,m={day:rr,week:jg,month:Ni,year:Fse,startOfWeek:function(b){return i.ISOWeek?cl(b):Oi(b,{locale:d,weekStartsOn:l})},endOfWeek:function(b){return i.ISOWeek?uz(b):Nh(b,{locale:d,weekStartsOn:l})}},g=m[n](t,r==="after"?1:-1);r==="before"&&c?g=$se([c,g]):r==="after"&&h&&(g=Bse([h,g]));var x=!0;if(s){var v=UE(g,s);x=!v.disabled&&!v.hidden}return x?g:o.count>dle?o.lastFocused:Cz(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:He(He({},o),{count:o.count+1})})}var Pz=C.createContext(void 0);function hle(t){var e=$f(),n=Az(),r=C.useState(),i=r[0],s=r[1],a=C.useState(),o=a[0],l=a[1],c=ule(e.displayMonths,n),h=i??(o&&e.isDateDisplayed(o))?o:c,d=function(){l(i),s(void 0)},m=function(b){s(b)},g=$t(),x=function(b,w){if(i){var _=Cz(i,{moveBy:b,direction:w,context:g,modifiers:n});Tn(i,_)||(e.goToDate(_,i),m(_))}},v={focusedDay:i,focusTarget:h,blur:d,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return f.jsx(Pz.Provider,{value:v,children:t.children})}function zE(){var t=C.useContext(Pz);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function fle(t,e){var n=Az(),r=UE(t,n,e);return r}var VE=C.createContext(void 0);function ple(t){if(!hy(t.initialProps)){var e={selected:void 0};return f.jsx(VE.Provider,{value:e,children:t.children})}return f.jsx(mle,{initialProps:t.initialProps,children:t.children})}function mle(t){var e=t.initialProps,n=t.children,r=function(s,a,o){var l,c,h;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,a,o);return}(h=e.onSelect)===null||h===void 0||h.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:r};return f.jsx(VE.Provider,{value:i,children:n})}function Ez(){var t=C.useContext(VE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function gle(t,e){var n=$t(),r=Ez(),i=FE(),s=BE(),a=zE(),o=a.focusDayAfter,l=a.focusDayBefore,c=a.focusWeekAfter,h=a.focusWeekBefore,d=a.blur,m=a.focus,g=a.focusMonthBefore,x=a.focusMonthAfter,v=a.focusYearBefore,b=a.focusYearAfter,w=a.focusStartOfWeek,_=a.focusEndOfWeek,A=function(B){var L,W,X,U;hy(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,B):Lf(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,t,e,B):Ff(n)?(X=s.onDayClick)===null||X===void 0||X.call(s,t,e,B):(U=n.onDayClick)===null||U===void 0||U.call(n,t,e,B)},T=function(B){var L;m(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,B)},P=function(B){var L;d(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,B)},E=function(B){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,B)},k=function(B){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,B)},O=function(B){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,B)},D=function(B){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,B)},F=function(B){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,B)},M=function(B){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,B)},R=function(B){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,B)},$=function(B){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,B)},H=function(B){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,B)},G=function(B){var L;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),c();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),h();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?v():g();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?b():x();break;case"Home":B.preventDefault(),B.stopPropagation(),w();break;case"End":B.preventDefault(),B.stopPropagation(),_();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,B)},V={onClick:A,onFocus:T,onBlur:P,onKeyDown:G,onKeyUp:H,onMouseEnter:E,onMouseLeave:k,onPointerEnter:O,onPointerLeave:D,onTouchCancel:F,onTouchEnd:M,onTouchMove:R,onTouchStart:$};return V}function vle(){var t=$t(),e=Ez(),n=FE(),r=BE(),i=hy(t)?e.selected:Lf(t)?n.selected:Ff(t)?r.selected:void 0;return i}function yle(t){return Object.values(ts).includes(t)}function ble(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(yle(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function xle(t,e){var n=He({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=He(He({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function wle(t,e,n){var r,i,s,a=$t(),o=zE(),l=fle(t,e),c=gle(t,l),h=vle(),d=!!(a.onDayClick||a.mode!=="default");C.useEffect(function(){var E;l.outside||o.focusedDay&&d&&Tn(o.focusedDay,t)&&((E=n.current)===null||E===void 0||E.focus())},[o.focusedDay,t,n,d,l.outside]);var m=ble(a,l).join(" "),g=xle(a,l),x=!!(l.outside&&!a.showOutsideDays||l.hidden),v=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:zoe,b=f.jsx(v,{date:t,displayMonth:e,activeModifiers:l}),w={style:g,className:m,children:b,role:"gridcell"},_=o.focusTarget&&Tn(o.focusTarget,t)&&!l.outside,A=o.focusedDay&&Tn(o.focusedDay,t),T=He(He(He({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=A||_?0:-1,r)),c),P={isButton:d,isHidden:x,activeModifiers:l,selectedDays:h,buttonProps:T,divProps:w};return P}function Sle(t){var e=C.useRef(null),n=wle(t.date,t.displayMonth,e);return n.isHidden?f.jsx("div",{role:"gridcell"}):n.isButton?f.jsx(Tg,He({name:"day",ref:e},n.buttonProps)):f.jsx("div",He({},n.divProps))}function _le(t){var e=t.number,n=t.dates,r=$t(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,h=c(Number(e),{locale:o});if(!i)return f.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:h});var d=l(Number(e),{locale:o}),m=function(g){i(e,n,g)};return f.jsx(Tg,{name:"week-number","aria-label":d,className:a.weeknumber,style:s.weeknumber,onClick:m,children:h})}function Ale(t){var e,n,r=$t(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,l=(e=o?.Day)!==null&&e!==void 0?e:Sle,c=(n=o?.WeekNumber)!==null&&n!==void 0?n:_le,h;return a&&(h=f.jsx("td",{className:s.cell,style:i.cell,children:f.jsx(c,{number:t.weekNumber,dates:t.dates})})),f.jsxs("tr",{className:s.row,style:i.row,children:[h,t.dates.map(function(d){return f.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:f.jsx(l,{displayMonth:t.displayMonth,date:d})},$ae(d))})]})}function kM(t,e,n){for(var r=n?.ISOWeek?uz(e):Nh(e,n),i=n?.ISOWeek?cl(t):Oi(t,n),s=vs(r,i),a=[],o=0;o<=s;o++)a.push(rr(i,o));var l=a.reduce(function(c,h){var d=n?.ISOWeek?hz(h):pz(h,n),m=c.find(function(g){return g.weekNumber===d});return m?(m.dates.push(h),c):(c.push({weekNumber:d,dates:[h]}),c)},[]);return l}function Cle(t,e){var n=kM(mr(t),kh(t),e);if(e?.useFixedWeeks){var r=Uae(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=jg(s,6-r),o=kM(jg(s,1),a,e);n.push.apply(n,o)}}return n}function Ple(t){var e,n,r,i=$t(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,c=i.fixedWeeks,h=i.components,d=i.weekStartsOn,m=i.firstWeekContainsDate,g=i.ISOWeek,x=Cle(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:d,firstWeekContainsDate:m}),v=(e=h?.Head)!==null&&e!==void 0?e:Uoe,b=(n=h?.Row)!==null&&n!==void 0?n:Ale,w=(r=h?.Footer)!==null&&r!==void 0?r:Foe;return f.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&f.jsx(v,{}),f.jsx("tbody",{className:a.tbody,style:o.tbody,children:x.map(function(_){return f.jsx(b,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),f.jsx(w,{displayMonth:t.displayMonth})]})}function Ele(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var jle=Ele()?C.useLayoutEffect:C.useEffect,I0=!1,Tle=0;function NM(){return"react-day-picker-".concat(++Tle)}function kle(t){var e,n=t??(I0?NM():null),r=C.useState(n),i=r[0],s=r[1];return jle(function(){i===null&&s(NM())},[]),C.useEffect(function(){I0===!1&&(I0=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function Nle(t){var e,n,r=$t(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,l=$f().displayMonths,c=kle(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[s.month],m=a.month,g=t.displayIndex===0,x=t.displayIndex===l.length-1,v=!g&&!x;i==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(d.push(s.caption_start),m=He(He({},m),a.caption_start)),x&&(d.push(s.caption_end),m=He(He({},m),a.caption_end)),v&&(d.push(s.caption_between),m=He(He({},m),a.caption_between));var b=(n=o?.Caption)!==null&&n!==void 0?n:Loe;return f.jsxs("div",{className:d.join(" "),style:m,children:[f.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(Ple,{id:h,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function Ole(t){var e=$t(),n=e.classNames,r=e.styles;return f.jsx("div",{className:n.months,style:r.months,children:t.children})}function Mle(t){var e,n,r=t.initialProps,i=$t(),s=zE(),a=$f(),o=C.useState(!1),l=o[0],c=o[1];C.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var d=He(He({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,v){var b;return He(He({},x),(b={},b[v]=r[v],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Ole;return f.jsx("div",He({className:h.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:f.jsx(g,{children:a.displayMonths.map(function(x,v){return f.jsx(Nle,{displayIndex:v,displayMonth:x},v)})})}))}function Dle(t){var e=t.children,n=ioe(t,["children"]);return f.jsx(_oe,{initialProps:n,children:f.jsx(Moe,{children:f.jsx(ple,{initialProps:n,children:f.jsx(Voe,{initialProps:n,children:f.jsx(qoe,{initialProps:n,children:f.jsx(ele,{children:f.jsx(hle,{children:e})})})})})})})}function Rle(t){return f.jsx(Dle,He({},t,{children:f.jsx(Mle,{initialProps:t})}))}function kg({className:t,classNames:e,showOutsideDays:n=!0,...r}){return f.jsx(Rle,{showOutsideDays:n,className:Le("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Le(J_({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Le("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Le(J_({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>f.jsx(s5,{className:Le("size-4",i),...s}),IconRight:({className:i,...s})=>f.jsx(Wv,{className:Le("size-4",i),...s})},...r})}function Ile(t){const e=Lle(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find($le);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Lle(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Ule(i),o=Ble(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Fle=Symbol("radix.slottable");function $le(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fle}function Ble(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Ule(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var fy="Popover",[jz]=Ri(fy,[ku]),Bf=ku(),[zle,po]=jz(fy),Tz=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=Bf(e),l=C.useRef(null),[c,h]=C.useState(!1),[d,m]=ca({prop:r,defaultProp:i??!1,onChange:s,caller:fy});return f.jsx(TE,{...o,children:f.jsx(zle,{scope:e,contentId:Qi(),triggerRef:l,open:d,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>h(!0),[]),onCustomAnchorRemove:C.useCallback(()=>h(!1),[]),modal:a,children:n})})};Tz.displayName=fy;var kz="PopoverAnchor",Vle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=po(kz,n),s=Bf(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return C.useEffect(()=>(a(),()=>o()),[a,o]),f.jsx(ly,{...s,...r,ref:e})});Vle.displayName=kz;var Nz="PopoverTrigger",Oz=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=po(Nz,n),s=Bf(n),a=et(e,i.triggerRef),o=f.jsx(Ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Lz(i.open),...r,ref:a,onClick:ye(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:f.jsx(ly,{asChild:!0,...s,children:o})});Oz.displayName=Nz;var WE="PopoverPortal",[Wle,Hle]=jz(WE,{forceMount:void 0}),Mz=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=po(WE,e);return f.jsx(Wle,{scope:e,forceMount:n,children:f.jsx(Cr,{present:n||s.open,children:f.jsx(Mf,{asChild:!0,container:i,children:r})})})};Mz.displayName=WE;var Wc="PopoverContent",Dz=C.forwardRef((t,e)=>{const n=Hle(Wc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=po(Wc,t.__scopePopover);return f.jsx(Cr,{present:r||s.open,children:s.modal?f.jsx(Gle,{...i,ref:e}):f.jsx(Kle,{...i,ref:e})})});Dz.displayName=Wc;var qle=Ile("PopoverContent.RemoveScroll"),Gle=C.forwardRef((t,e)=>{const n=po(Wc,t.__scopePopover),r=C.useRef(null),i=et(e,r),s=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return Qv(a)},[]),f.jsx(Df,{as:qle,allowPinchZoom:!0,children:f.jsx(Rz,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Kle=C.forwardRef((t,e)=>{const n=po(Wc,t.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(Rz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Rz=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:h,...d}=t,m=po(Wc,n),g=Bf(n);return Yv(),f.jsx(Of,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:f.jsx(kE,{"data-state":Lz(m.open),role:"dialog",id:m.contentId,...g,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Iz="PopoverClose",Yle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=po(Iz,n);return f.jsx(Ue.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});Yle.displayName=Iz;var Xle="PopoverArrow",Qle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Bf(n);return f.jsx(NE,{...i,...r,ref:e})});Qle.displayName=Xle;function Lz(t){return t?"open":"closed"}var Zle=Tz,Jle=Oz,ece=Mz,tce=Dz;function Oh({...t}){return f.jsx(Zle,{"data-slot":"popover",...t})}function Mh({...t}){return f.jsx(Jle,{"data-slot":"popover-trigger",...t})}function Dh({className:t,align:e="center",sideOffset:n=4,...r}){return f.jsx(ece,{children:f.jsx(tce,{"data-slot":"popover-content",align:e,sideOffset:n,className:Le("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}var Fz=["PageUp","PageDown"],$z=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Bz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Mu="Slider",[DA,nce,rce]=ry(Mu),[Uz]=Ri(Mu,[rce]),[ice,py]=Uz(Mu),zz=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:h,onValueChange:d=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:x,...v}=t,b=C.useRef(new Set),w=C.useRef(0),A=a==="horizontal"?sce:ace,[T=[],P]=ca({prop:h,defaultProp:c,onChange:M=>{[...b.current][w.current]?.focus(),d(M)}}),E=C.useRef(T);function k(M){const R=dce(T,M);F(M,R)}function O(M){F(M,w.current)}function D(){const M=E.current[w.current];T[w.current]!==M&&m(T)}function F(M,R,{commit:$}={commit:!1}){const H=mce(s),G=gce(Math.round((M-r)/s)*s+r,H),V=_h(G,[r,i]);P((B=[])=>{const L=cce(B,V,R);if(pce(L,l*s)){w.current=L.indexOf(V);const W=String(L)!==String(B);return W&&$&&m(L),W?L:B}else return B})}return f.jsx(ice,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:w,thumbs:b.current,values:T,orientation:a,form:x,children:f.jsx(DA.Provider,{scope:t.__scopeSlider,children:f.jsx(DA.Slot,{scope:t.__scopeSlider,children:f.jsx(A,{"aria-disabled":o,"data-disabled":o?"":void 0,...v,ref:e,onPointerDown:ye(v.onPointerDown,()=>{o||(E.current=T)}),min:r,max:i,inverted:g,onSlideStart:o?void 0:k,onSlideMove:o?void 0:O,onSlideEnd:o?void 0:D,onHomeKeyDown:()=>!o&&F(r,0,{commit:!0}),onEndKeyDown:()=>!o&&F(i,T.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:R})=>{if(!o){const G=Fz.includes(M.key)||M.shiftKey&&$z.includes(M.key)?10:1,V=w.current,B=T[V],L=s*G*R;F(B+L,V,{commit:!0})}}})})})})});zz.displayName=Mu;var[Vz,Wz]=Uz(Mu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),sce=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...h}=t,[d,m]=C.useState(null),g=et(e,A=>m(A)),x=C.useRef(void 0),v=Eu(i),b=v==="ltr",w=b&&!s||!b&&s;function _(A){const T=x.current||d.getBoundingClientRect(),P=[0,T.width],k=HE(P,w?[n,r]:[r,n]);return x.current=T,k(A-T.left)}return f.jsx(Vz,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(Hz,{dir:v,"data-orientation":"horizontal",...h,ref:g,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const T=_(A.clientX);a?.(T)},onSlideMove:A=>{const T=_(A.clientX);o?.(T)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:A=>{const P=Bz[w?"from-left":"from-right"].includes(A.key);c?.({event:A,direction:P?-1:1})}})})}),ace=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,h=C.useRef(null),d=et(e,h),m=C.useRef(void 0),g=!i;function x(v){const b=m.current||h.current.getBoundingClientRect(),w=[0,b.height],A=HE(w,g?[r,n]:[n,r]);return m.current=b,A(v-b.top)}return f.jsx(Vz,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:f.jsx(Hz,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const b=x(v.clientY);s?.(b)},onSlideMove:v=>{const b=x(v.clientY);a?.(b)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:v=>{const w=Bz[g?"from-bottom":"from-top"].includes(v.key);l?.({event:v,direction:w?-1:1})}})})}),Hz=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,h=py(Mu,n);return f.jsx(Ue.span,{...c,ref:e,onKeyDown:ye(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(o(d),d.preventDefault()):Fz.concat($z).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:ye(t.onPointerDown,d=>{const m=d.target;m.setPointerCapture(d.pointerId),d.preventDefault(),h.thumbs.has(m)?m.focus():r(d)}),onPointerMove:ye(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:ye(t.onPointerUp,d=>{const m=d.target;m.hasPointerCapture(d.pointerId)&&(m.releasePointerCapture(d.pointerId),s(d))})})}),qz="SliderTrack",Gz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=py(qz,n);return f.jsx(Ue.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Gz.displayName=qz;var RA="SliderRange",Kz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=py(RA,n),s=Wz(RA,n),a=C.useRef(null),o=et(e,a),l=i.values.length,c=i.values.map(m=>Qz(m,i.min,i.max)),h=l>1?Math.min(...c):0,d=100-Math.max(...c);return f.jsx(Ue.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:d+"%"}})});Kz.displayName=RA;var IA="SliderThumb",Yz=C.forwardRef((t,e)=>{const n=nce(t.__scopeSlider),[r,i]=C.useState(null),s=et(e,o=>i(o)),a=C.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return f.jsx(oce,{...t,ref:s,index:a})}),oce=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=py(IA,n),o=Wz(IA,n),[l,c]=C.useState(null),h=et(e,_=>c(_)),d=l?a.form||!!l.closest("form"):!0,m=PE(l),g=a.values[r],x=g===void 0?0:Qz(g,a.min,a.max),v=uce(r,a.values.length),b=m?.[o.size],w=b?hce(b,x,o.direction):0;return C.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${w}px)`},children:[f.jsx(DA.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Ue.span,{role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:g===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),d&&f.jsx(Xz,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},r)]})});Yz.displayName=IA;var lce="RadioBubbleInput",Xz=C.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=C.useRef(null),s=et(i,r),a=OE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&h){const d=new Event("input",{bubbles:!0});h.call(o,e),o.dispatchEvent(d)}},[a,e]),f.jsx(Ue.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});Xz.displayName=lce;function cce(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Qz(t,e,n){const s=100/(n-e)*(t-e);return _h(s,[0,100])}function uce(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function dce(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function hce(t,e,n){const r=t/2,s=HE([0,50],[0,r]);return(r-s(e)*n)*n}function fce(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function pce(t,e){if(e>0){const n=fce(t);return Math.min(...n)>=e}return!0}function HE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function mce(t){return(String(t).split(".")[1]||"").length}function gce(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var vce=zz,yce=Gz,bce=Kz,xce=Yz;function LA({className:t,defaultValue:e,value:n,min:r=0,max:i=100,...s}){const a=C.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,i],[n,e,r,i]);return f.jsxs(vce,{"data-slot":"slider",defaultValue:e,value:n,min:r,max:i,className:Le("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[f.jsx(yce,{"data-slot":"slider-track",className:Le("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(bce,{"data-slot":"slider-range",className:Le("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(o,l)=>f.jsx(xce,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var my="Switch",[wce]=Ri(my),[Sce,_ce]=wce(my),Zz=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:h,...d}=t,[m,g]=C.useState(null),x=et(e,A=>g(A)),v=C.useRef(!1),b=m?h||!!m.closest("form"):!0,[w,_]=ca({prop:i,defaultProp:s??!1,onChange:c,caller:my});return f.jsxs(Sce,{scope:n,checked:w,disabled:o,children:[f.jsx(Ue.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":nV(w),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:x,onClick:ye(t.onClick,A=>{_(T=>!T),b&&(v.current=A.isPropagationStopped(),v.current||A.stopPropagation())})}),b&&f.jsx(tV,{control:m,bubbles:!v.current,name:r,value:l,checked:w,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});Zz.displayName=my;var Jz="SwitchThumb",eV=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=_ce(Jz,n);return f.jsx(Ue.span,{"data-state":nV(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});eV.displayName=Jz;var Ace="SwitchBubbleInput",tV=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=C.useRef(null),o=et(a,s),l=OE(n),c=PE(e);return C.useEffect(()=>{const h=a.current;if(!h)return;const d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&g){const x=new Event("click",{bubbles:r});g.call(h,n),h.dispatchEvent(x)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tV.displayName=Ace;function nV(t){return t?"checked":"unchecked"}var Cce=Zz,Pce=eV;function oh({className:t,...e}){return f.jsx(Cce,{"data-slot":"switch",className:Le("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(Pce,{"data-slot":"switch-thumb",className:Le("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Ece=[{type:"vehicle_purchase",label:"Two Wheeler",icon:"",suggestedAmount:8e4},{type:"vehicle_purchase",label:"Car Purchase",icon:"",suggestedAmount:6e5},{type:"housing",label:"Home Down Payment",icon:"",suggestedAmount:5e5},{type:"travel",label:"Dream Vacation",icon:"",suggestedAmount:1e5},{type:"wedding",label:"Wedding Fund",icon:"",suggestedAmount:5e5},{type:"emergency_fund",label:"Emergency Fund",icon:"",suggestedAmount:1e5},{type:"education",label:"Higher Education",icon:"",suggestedAmount:3e5},{type:"electronics",label:"New Phone/Laptop",icon:"",suggestedAmount:5e4},{type:"festival",label:"Festival Shopping",icon:"",suggestedAmount:25e3},{type:"business",label:"Start Business",icon:"",suggestedAmount:2e5}],jce=[{value:"high",label:"High Priority",color:"text-red-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"low",label:"Low Priority",color:"text-green-600"}];function rV({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addGoal:i,accounts:s}=ot(),[a,o]=C.useState("select"),[l,c]=C.useState(null),[h,d]=C.useState(""),[m,g]=C.useState("other"),[x,v]=C.useState(""),[b,w]=C.useState(5e4),[_,A]=C.useState(5e3),[T,P]=C.useState(void 0),[E,k]=C.useState(""),[O,D]=C.useState("medium"),[F,M]=C.useState(!0),[R,$]=C.useState(""),[H,G]=C.useState(!1),V=_>0?Math.ceil(b/_):0,B=U=>{c(U),d(U.label),g(U.type),v(U.icon),w(U.suggestedAmount),A(Math.round(U.suggestedAmount/10)),o("custom")},L=()=>{c(null),d(""),g("other"),v(""),w(5e4),A(5e3),o("custom")},W=async()=>{if(!(!n||!r)){if(!h.trim()){ke.error("Please enter a goal name");return}if(b<=0){ke.error("Please enter a valid target amount");return}G(!0);try{const U={id:Qt(),family_id:r.id,created_by:n.id,goal_name:h.trim(),goal_type:m,target_amount:b,current_amount:0,target_date:T?.toISOString(),description:E.trim()||void 0,goal_icon:x,priority:O,is_shared:F,is_active:!0,created_at:new Date().toISOString(),sync_status:"pending",monthly_contribution:_,linked_account_id:R||void 0};await i(U),ke.success(`Goal "${h}" created successfully!`),X()}catch(U){console.error("Failed to add goal:",U),ke.error("Failed to create goal")}finally{G(!1)}}},X=()=>{o("select"),c(null),d(""),g("other"),v(""),w(5e4),A(5e3),P(void 0),k(""),D("medium"),M(!0),$(""),e()};return f.jsx(Wt,{open:t,onOpenChange:X,children:f.jsx(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a==="select"?f.jsxs(f.Fragment,{children:[f.jsxs(rn,{children:[f.jsxs(sn,{className:"flex items-center gap-2",children:[f.jsx(el,{className:"h-5 w-5 text-primary"}),"Choose Your Goal"]}),f.jsx(pn,{children:"Select a common goal or create your own custom goal"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium mb-3",children:"Common Goals"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:Ece.map((U,K)=>f.jsxs("button",{onClick:()=>B(U),className:"flex flex-col items-start gap-2 p-4 rounded-xl border-2 border-border hover:border-primary hover:bg-primary-container/20 transition-all text-left group",children:[f.jsx("div",{className:"text-3xl",children:U.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium group-hover:text-primary transition-colors",children:U.label}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["",Pe(U.suggestedAmount)]})]})]},K))})]}),f.jsx(ue,{onClick:L,variant:"outline",className:"w-full h-auto py-4 border-2 border-dashed hover:border-primary hover:bg-primary-container/20",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-medium",children:"Custom Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Create your own savings goal"})]})]})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>o("select"),className:"mr-2",children:" Back"}),f.jsxs("div",{className:"flex-1",children:[f.jsx(sn,{children:l?`Setup ${l.label}`:"Create Custom Goal"}),f.jsx(pn,{children:"Configure your savings goal details"})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"goalName",children:"Goal Name *"}),f.jsx(Tt,{id:"goalName",placeholder:"e.g., Dream Vacation to Goa",value:h,onChange:U=>d(U.target.value),className:"h-11"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Category"}),f.jsxs(Vn,{value:m,onValueChange:U=>g(U),children:[f.jsx(Hn,{className:"h-11",children:f.jsx(Wn,{placeholder:"Select category"})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"vehicle_purchase",children:" Vehicle"}),f.jsx(ze,{value:"housing",children:" Housing"}),f.jsx(ze,{value:"travel",children:" Travel"}),f.jsx(ze,{value:"wedding",children:" Wedding"}),f.jsx(ze,{value:"emergency_fund",children:" Emergency Fund"}),f.jsx(ze,{value:"education",children:" Education"}),f.jsx(ze,{value:"electronics",children:" Electronics"}),f.jsx(ze,{value:"festival",children:" Festival"}),f.jsx(ze,{value:"business",children:" Business"}),f.jsx(ze,{value:"other",children:" Other"})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Me,{children:"Target Amount *"}),f.jsxs("span",{className:"text-xl font-semibold text-primary",children:["",Pe(b)]})]}),f.jsx(LA,{value:[b],onValueChange:([U])=>{w(U),A(Math.round(U/10))},min:1e3,max:5e6,step:1e3,className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:"1k"}),f.jsx("span",{children:"50L"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Me,{children:"Monthly Contribution"}),f.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["",Pe(_),"/mo"]})]}),f.jsx(LA,{value:[_],onValueChange:([U])=>A(U),min:500,max:Math.min(b,1e5),step:500,className:"w-full"}),V>0&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[f.jsx(ra,{className:"h-4 w-4"}),f.jsxs("span",{children:[V," months to reach goal"]})]})]}),s.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"account",children:"Savings Account (Optional)"}),f.jsxs(Vn,{value:R,onValueChange:$,children:[f.jsx(Hn,{id:"account",className:"h-11",children:f.jsx(Wn,{placeholder:"Select account for this goal"})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"",children:"No specific account"}),s.map(U=>f.jsxs(ze,{value:U.id,children:[U.account_name," - ",U.account_type]},U.id))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Target Date (Optional)"}),f.jsxs(Oh,{children:[f.jsx(Mh,{asChild:!0,children:f.jsxs(ue,{variant:"outline",className:"w-full h-11 justify-start text-left font-normal",children:[f.jsx(ra,{className:"mr-2 h-4 w-4"}),T?ki(T):"Pick a target date"]})}),f.jsx(Dh,{className:"w-auto p-0",align:"start",children:f.jsx(kg,{mode:"single",selected:T,onSelect:P,disabled:U=>U<new Date,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Priority"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:jce.map(U=>f.jsx(ue,{type:"button",variant:O===U.value?"default":"outline",onClick:()=>D(U.value),className:"h-11",children:U.label.split(" ")[0]},U.value))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(eo,{id:"description",placeholder:"Add notes about this goal...",value:E,onChange:U=>k(U.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(tl,{className:"h-5 w-5 text-purple-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Shared Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Family members can contribute together"})]})]}),f.jsx(oh,{checked:F,onCheckedChange:M})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"text-3xl",children:x}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:h||"Your Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:F?"Shared with family":"Personal goal"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Target"}),f.jsxs("div",{className:"font-semibold",children:["",Pe(b)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Monthly"}),f.jsxs("div",{className:"font-semibold",children:["",Pe(_)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Timeline"}),f.jsxs("div",{className:"font-semibold",children:[V," months"]})]})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:X,disabled:H,className:"flex-1",children:"Cancel"}),f.jsx(ue,{onClick:W,disabled:H||!h.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:H?f.jsxs(f.Fragment,{children:[f.jsx(el,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(el,{className:"mr-2 h-4 w-4"}),"Create Goal"]})})]})]})})})}var L0="rovingFocusGroup.onEntryFocus",Tce={bubbles:!1,cancelable:!0},Uf="RovingFocusGroup",[FA,iV,kce]=ry(Uf),[Nce,gy]=Ri(Uf,[kce]),[Oce,Mce]=Nce(Uf),sV=C.forwardRef((t,e)=>f.jsx(FA.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(FA.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(Dce,{...t,ref:e})})}));sV.displayName=Uf;var Dce=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...d}=t,m=C.useRef(null),g=et(e,m),x=Eu(s),[v,b]=ca({prop:a,defaultProp:o??null,onChange:l,caller:Uf}),[w,_]=C.useState(!1),A=zn(c),T=iV(n),P=C.useRef(!1),[E,k]=C.useState(0);return C.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(L0,A),()=>O.removeEventListener(L0,A)},[A]),f.jsx(Oce,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:v,onItemFocus:C.useCallback(O=>b(O),[b]),onItemShiftTab:C.useCallback(()=>_(!0),[]),onFocusableItemAdd:C.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>k(O=>O-1),[]),children:f.jsx(Ue.div,{tabIndex:w||E===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{P.current=!0}),onFocus:ye(t.onFocus,O=>{const D=!P.current;if(O.target===O.currentTarget&&D&&!w){const F=new CustomEvent(L0,Tce);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const M=T().filter(V=>V.focusable),R=M.find(V=>V.active),$=M.find(V=>V.id===v),G=[R,$,...M].filter(Boolean).map(V=>V.ref.current);lV(G,h)}}P.current=!1}),onBlur:ye(t.onBlur,()=>_(!1))})})}),aV="RovingFocusGroupItem",oV=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Qi(),c=s||l,h=Mce(aV,n),d=h.currentTabStopId===c,m=iV(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:v}=h;return C.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),f.jsx(FA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(Ue.span,{tabIndex:d?0:-1,"data-orientation":h.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?h.onItemFocus(c):b.preventDefault()}),onFocus:ye(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=Lce(b,h.orientation,h.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let A=m().filter(T=>T.focusable).map(T=>T.ref.current);if(w==="last")A.reverse();else if(w==="prev"||w==="next"){w==="prev"&&A.reverse();const T=A.indexOf(b.currentTarget);A=h.loop?Fce(A,T+1):A.slice(T+1)}setTimeout(()=>lV(A))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:v!=null}):a})})});oV.displayName=aV;var Rce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ice(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Lce(t,e,n){const r=Ice(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Rce[r]}function lV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Fce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cV=sV,uV=oV,vy="Tabs",[$ce]=Ri(vy,[gy]),dV=gy(),[Bce,qE]=$ce(vy),hV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,h=Eu(o),[d,m]=ca({prop:r,onChange:i,defaultProp:s??"",caller:vy});return f.jsx(Bce,{scope:n,baseId:Qi(),value:d,onValueChange:m,orientation:a,dir:h,activationMode:l,children:f.jsx(Ue.div,{dir:h,"data-orientation":a,...c,ref:e})})});hV.displayName=vy;var fV="TabsList",pV=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=qE(fV,n),a=dV(n);return f.jsx(cV,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(Ue.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});pV.displayName=fV;var mV="TabsTrigger",gV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=qE(mV,n),o=dV(n),l=bV(a.baseId,r),c=xV(a.baseId,r),h=r===a.value;return f.jsx(uV,{asChild:!0,...o,focusable:!i,active:h,children:f.jsx(Ue.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ye(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:ye(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const d=a.activationMode!=="manual";!h&&!i&&d&&a.onValueChange(r)})})})});gV.displayName=mV;var vV="TabsContent",yV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=qE(vV,n),l=bV(o.baseId,r),c=xV(o.baseId,r),h=r===o.value,d=C.useRef(h);return C.useEffect(()=>{const m=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(m)},[]),f.jsx(Cr,{present:i||h,children:({present:m})=>f.jsx(Ue.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:m&&s})})});yV.displayName=vV;function bV(t,e){return`${t}-trigger-${e}`}function xV(t,e){return`${t}-content-${e}`}var Uce=hV,zce=pV,Vce=gV,Wce=yV;function Hc({className:t,...e}){return f.jsx(Uce,{"data-slot":"tabs",className:Le("flex flex-col gap-2",t),...e})}function qc({className:t,...e}){return f.jsx(zce,{"data-slot":"tabs-list",className:Le("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Fr({className:t,...e}){return f.jsx(Vce,{"data-slot":"tabs-trigger",className:Le("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Za({className:t,...e}){return f.jsx(Wce,{"data-slot":"tabs-content",className:Le("flex-1 outline-none",t),...e})}const F0=[{value:"cash",label:"Cash",icon:oE},{value:"upi",label:"UPI",icon:NJ},{value:"card",label:"Card",icon:cE},{value:"bank",label:"Bank Transfer",icon:lE},{value:"wallet",label:"Wallet",icon:Cu}];function Hce({line:t,index:e,users:n,currentUser:r,canRemove:i,onUpdate:s,onRemove:a,onBorrowedToggle:o}){const{accounts:l}=ot(),c=F0.find(m=>m.value===t.method)||F0[0],h=c.icon,d=l.filter(m=>{switch(t.method){case"cash":return m.type==="cash";case"bank":return m.type==="bank";case"card":return m.type==="card";case"upi":return m.type==="wallet";case"wallet":return m.type==="wallet";default:return!0}});return f.jsxs("div",{className:"border-2 border-border rounded-xl p-4 space-y-3 bg-card",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Vn,{value:t.method,onValueChange:m=>{s("method",m),s("account_id",void 0)},children:[f.jsx(Hn,{className:"flex-1",children:f.jsx(Wn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(h,{className:"h-4 w-4"}),f.jsx("span",{children:c.label})]})})}),f.jsx(qn,{children:F0.map(m=>{const g=m.icon;return f.jsx(ze,{value:m.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:m.label})]})},m.value)})})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:""}),f.jsx(Tt,{type:"number",placeholder:"Amount",value:t.amount||"",onChange:m=>s("amount",parseFloat(m.target.value)||0),className:"pl-7",step:"0.01"})]}),i&&f.jsx(ue,{variant:"ghost",size:"icon",onClick:a,className:"shrink-0",children:f.jsx(Hv,{className:"h-4 w-4 text-destructive"})})]}),d.length>0&&f.jsxs("div",{className:"pt-2",children:[f.jsx(Me,{htmlFor:`account-${t.id}`,className:"text-sm font-medium",children:"Choose Account"}),f.jsxs(Vn,{value:t.account_id||"",onValueChange:m=>s("account_id",m),children:[f.jsx(Hn,{id:`account-${t.id}`,className:"mt-1",children:f.jsx(Wn,{placeholder:`Select ${c.label.toLowerCase()} account`})}),f.jsx(qn,{children:d.map(m=>f.jsx(ze,{value:m.id,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium",children:m.name}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["",m.current_balance.toFixed(2)]})]})},m.id))})]}),t.account_id&&t.amount&&d.find(m=>m.id===t.account_id)&&f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance after: ",(d.find(m=>m.id===t.account_id).current_balance-(t.amount||0)).toFixed(2)]})]}),f.jsxs("div",{className:"pt-3 border-t space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Me,{htmlFor:`borrowed-${t.id}`,className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(io,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(oh,{id:`borrowed-${t.id}`,checked:!!t.meta?.borrowed_from,onCheckedChange:m=>o(m?n.find(g=>g.id!==r?.id)?.id:void 0)})]}),t.meta?.borrowed_from&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(io,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs(Vn,{value:t.meta.borrowed_from,onValueChange:m=>o(m),children:[f.jsx(Hn,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Wn,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:n.find(m=>m.id===t.meta?.borrowed_from)?.name||"someone"})]})})}),f.jsx(qn,{children:n.filter(m=>m.id!==r?.id).map(m=>f.jsx(ze,{value:m.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:m.name})]})},m.id))})]}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",t.amount?.toFixed(2)||"0.00"," when you save this transaction"]})]})]})]})}const qce=[{value:"Groceries",label:"Groceries",icon:""},{value:"Utilities",label:"Utilities",icon:""},{value:"Transportation",label:"Transport",icon:""},{value:"Healthcare",label:"Healthcare",icon:""},{value:"Education",label:"Education",icon:""},{value:"Entertainment",label:"Entertainment",icon:""},{value:"Shopping",label:"Shopping",icon:""},{value:"Rent",label:"Rent",icon:""},{value:"Food & Dining",label:"Food & Dining",icon:""},{value:"Bills",label:"Bills",icon:""},{value:"Fuel",label:"Fuel",icon:""},{value:"Household Items",label:"Maid Salary",icon:""}],Gce=[{value:"Salary",label:"Salary",icon:""},{value:"Business",label:"Business",icon:""},{value:"Freelance",label:"Freelance",icon:""},{value:"Investment",label:"Investment",icon:""},{value:"Gift",label:"Gift",icon:""},{value:"Rental",label:"Rental",icon:""},{value:"Side Income",label:"Side Income",icon:""},{value:"Other",label:"Other",icon:""}];function Kce({type:t,value:e,onChange:n}){const{currentFamily:r,currentUser:i,customCategories:s,addCustomCategory:a}=ot(),[o,l]=C.useState(!1),[c,h]=C.useState(""),d=t==="expense",m=d?qce:Gce,g=s.filter(b=>b.type===t).map(b=>({value:b.name,label:b.name,icon:b.icon||""})),x=[...m,...g],v=async()=>{const b=c.trim();if(!b){ke.error("Please enter a category name");return}if(x.some(_=>_.value===b)){ke.error("This category already exists");return}if(!r||!i)return;const w={id:Kv(),family_id:r.id,name:b,type:t,icon:"",created_by:i.id,created_at:new Date().toISOString()};try{await a(w),n(b),h(""),l(!1),ke.success(`Custom ${d?"category":"source"} added`)}catch(_){console.error("Failed to add custom category:",_),ke.error("Failed to add custom category")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Category *"}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[x.map(b=>f.jsxs("button",{type:"button",onClick:()=>n(b.value),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-1 transition-all ${e===b.value?"border-primary bg-primary/10":"border-border bg-background hover:bg-accent"}`,children:[f.jsx("span",{className:"text-2xl",children:b.icon}),f.jsx("span",{className:"text-xs text-center leading-tight line-clamp-2",children:b.label})]},b.value)),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"p-3 rounded-lg border-2 border-dashed border-border hover:border-primary hover:bg-primary/5 flex flex-col items-center gap-1 transition-all",children:[f.jsx(Br,{className:"h-6 w-6 text-muted-foreground"}),f.jsx("span",{className:"text-xs text-center text-muted-foreground",children:"Custom"})]})]})]}),f.jsx(Wt,{open:o,onOpenChange:l,children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsxs(sn,{children:["Add Custom ",d?"Category":"Source"]}),f.jsxs(pn,{children:["Create a new ",d?"expense category":"income source"," for your family"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Me,{htmlFor:"custom-category",children:[d?"Category":"Source"," Name"]}),f.jsx(Tt,{id:"custom-category",placeholder:`e.g., ${d?"Pet Supplies":"Side Hustle"}`,value:c,onChange:b=>h(b.target.value),onKeyDown:b=>{b.key==="Enter"&&v()},autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),f.jsxs(ue,{onClick:v,className:"flex-1",children:["Add ",d?"Category":"Source"]})]})]})]})})]})}function Yce({receipts:t,onChange:e,maxFiles:n=4}){const r=C.useRef(null),i=C.useRef(null),s=async l=>{if(!l||l.length===0)return;if(t.length+l.length>n){ke.error(`Maximum ${n} receipts allowed`);return}const c=[];for(let h=0;h<l.length;h++){const d=l[h];if(!d.type.startsWith("image/")){ke.error(`${d.name} is not an image`);continue}if(d.size>5*1024*1024){ke.error(`${d.name} is too large (max 5MB)`);continue}try{const m=await a(d);c.push(m)}catch(m){console.error("Failed to process image:",m),ke.error(`Failed to process ${d.name}`)}}c.length>0&&(e([...t,...c]),ke.success(`${c.length} receipt${c.length>1?"s":""} added`))},a=l=>new Promise((c,h)=>{const d=new FileReader;d.readAsDataURL(l),d.onload=()=>c(d.result),d.onerror=m=>h(m)}),o=l=>{e(t.filter((c,h)=>h!==l))};return f.jsxs("div",{className:"space-y-3",children:[t.length>0&&f.jsx("div",{className:"grid grid-cols-4 gap-2",children:t.map((l,c)=>f.jsxs("div",{className:"relative aspect-square group",children:[f.jsx("img",{src:l,alt:`Receipt ${c+1}`,className:"w-full h-full object-cover rounded-lg border-2 border-border"}),f.jsx(ue,{variant:"destructive",size:"icon",className:"absolute -top-2 -right-2 h-6 w-6 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>o(c),children:f.jsx(Pu,{className:"h-3 w-3"})})]},c))}),t.length<n&&f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ue,{type:"button",variant:"outline",className:"flex-1",onClick:()=>i.current?.click(),children:[f.jsx(lZ,{className:"h-4 w-4 mr-2"}),"Take Photo"]}),f.jsxs(ue,{type:"button",variant:"outline",className:"flex-1",onClick:()=>r.current?.click(),children:[f.jsx(qv,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),f.jsx("input",{ref:r,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:l=>s(l.target.files)}),f.jsx("input",{ref:i,type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:l=>s(l.target.files)}),t.length===0&&f.jsxs("div",{className:"flex items-center justify-center gap-2 p-8 border-2 border-dashed rounded-lg text-muted-foreground",children:[f.jsx(JZ,{className:"h-5 w-5"}),f.jsx("span",{className:"text-sm",children:"No receipts attached"})]}),t.length>0&&t.length<n&&f.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[t.length," of ",n," receipts  Click to add more"]})]})}function Xce(){const[t,e]=C.useState(!1),[n,r]=C.useState(""),[i,s]=C.useState(null),[a,o]=C.useState(null),[l,c]=C.useState(!1);C.useEffect(()=>{if(typeof window<"u"){const g=window.SpeechRecognition||window.webkitSpeechRecognition;if(g){c(!0);const x=new g;x.continuous=!1,x.interimResults=!0,x.lang="en-US",x.onstart=()=>{e(!0),s(null)},x.onresult=v=>{let b="";for(let w=v.resultIndex;w<v.results.length;++w)v.results[w].isFinal&&(b+=v.results[w][0].transcript);b&&r(w=>w?`${w} ${b}`:b)},x.onerror=v=>{console.error("Speech recognition error",v.error),s(v.error),e(!1)},x.onend=()=>{e(!1)},o(x)}else c(!1),s("Speech recognition not supported in this browser.")}},[]);const h=C.useCallback(()=>{if(a&&!t)try{a.start()}catch(g){console.error("Failed to start recognition",g)}},[a,t]),d=C.useCallback(()=>{a&&t&&a.stop()},[a,t]),m=C.useCallback(()=>{r("")},[]);return{isListening:t,transcript:n,error:i,startListening:h,stopListening:d,resetTranscript:m,isSupported:l}}function Qce({open:t,onClose:e,defaultType:n="expense"}){const{currentUser:r,currentFamily:i,users:s,addExpense:a,addIncome:o,addDebt:l,budgets:c,expenses:h}=ot(),[d,m]=C.useState(n),[g,x]=C.useState(""),[v,b]=C.useState(""),[w,_]=C.useState(new Date),[A,T]=C.useState(""),[P,E]=C.useState(!0),[k,O]=C.useState(!1),[D,F]=C.useState(r?.id||""),[M,R]=C.useState("cash"),[$,H]=C.useState(""),[G,V]=C.useState(""),[B,L]=C.useState(""),[W,X]=C.useState([{id:Qt(),method:"cash",amount:0,payer_user_id:r?.id}]),[U,K]=C.useState([]),[Z,se]=C.useState(!1),oe=d==="expense";C.useEffect(()=>{r?.id&&!D&&F(r.id)},[r,D]);const{isListening:pe,transcript:te,startListening:le,stopListening:ie,resetTranscript:he,isSupported:ve}=Xce();C.useEffect(()=>{te&&(T(be=>{const Re=be.trim();return Re?`${Re} ${te}`:te}),he())},[te,he]);const re=()=>{X([...W,{id:Qt(),method:"cash",amount:0,payer_user_id:r?.id}])},qe=be=>{W.length>1&&X(W.filter((Re,rt)=>rt!==be))},Ie=(be,Re,rt)=>{const kt=[...W];kt[be]={...kt[be],[Re]:rt},X(kt)},xt=(be,Re)=>{const rt=[...W];if(Re)rt[be].meta={...rt[be].meta,borrowed_from:Re};else{const{borrowed_from:kt,...ct}=rt[be].meta||{};rt[be].meta=Object.keys(ct).length>0?ct:void 0}X(rt)},vt=async()=>{if(!r||!i)return;const be=parseFloat(g);if(isNaN(be)||be<=0){ke.error("Please enter a valid amount");return}if(!w||isNaN(w.getTime())){ke.error("Please select a valid date");return}if(!v){ke.error(`Please select a ${oe?"category":"source"}`);return}if(oe&&v&&be>0){const Re=c.find(rt=>rt.category===v);if(Re){const rt=new Date,kt=new Date(rt.getFullYear(),rt.getMonth(),1),Er=(h.filter(ai=>ai.category===v&&new Date(ai.date)>=kt).reduce((ai,Ls)=>ai+Ls.total_amount,0)+be)/Re.limit_amount*100;Er>=80&&Er<100?ke.warning(`Warning: You've used ${Er.toFixed(0)}% of your ${v} budget!`,{duration:4e3}):Er>=100&&ke.error(`Alert: You've exceeded your ${v} budget!`,{duration:4e3})}}se(!0);try{if(oe){const Re=k?W:[{id:Qt(),method:M,amount:be,payer_user_id:D,meta:$?{borrowed_from:$,lender_name:$==="custom"?G:void 0,lender_phone:$==="custom"?B:void 0}:void 0}],rt=lee(be,Re);if(!rt.valid){ke.error(rt.error);return}const kt={id:Qt(),family_id:i.id,created_by:r.id,total_amount:be,currency:i.currency,category:v,date:w.toISOString(),notes:A.trim()||void 0,payment_lines:Re,attachments:U,receipt_urls:U,is_shared:P,sync_status:"pending",created_at:new Date().toISOString()};await a(kt);for(const ct of Re)if(ct.meta?.borrowed_from){const ar=ct.meta.borrowed_from==="custom",Er={id:Qt(),family_id:i.id,lender_user_id:ar?"external":ct.meta.borrowed_from,borrower_user_id:ct.payer_user_id,amount:ct.amount,currency:i.currency,status:"open",created_at:new Date().toISOString(),linked_expense_id:kt.id,reminder_shown:!1};await l(Er)}ke.success(`Expense of ${Pe(be)} added `)}else{const Re={id:Qt(),family_id:i.id,created_by:r.id,amount:be,currency:i.currency,source:v,date:w.toISOString(),notes:A.trim()||void 0,attachments:U,receipt_urls:U,is_shared:P,sync_status:"pending",created_at:new Date().toISOString()};await o(Re),ke.success(`Income of ${Pe(be)} added `)}await jh.impact({style:Eh.Medium})}catch(Re){console.error("Failed to save transaction:",Re),ke.error("Failed to save transaction"),await jh.notification({type:Pg.Error})}finally{se(!1)}},ft=()=>{x(""),b(""),_(new Date),T(""),E(!0),O(!1),F(r?.id||""),R("cash"),H(""),X([{id:Qt(),method:"cash",amount:0,payer_user_id:r?.id}]),K([]),e()};return f.jsx(Wt,{open:t,onOpenChange:be=>!be&&ft(),children:f.jsxs(Ht,{className:"max-w-lg p-0 overflow-y-auto max-h-[90vh]",children:[f.jsx("div",{className:`sticky top-0 z-10 border-b px-4 py-3 transition-colors ${oe?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-900"}`,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ue,{variant:"ghost",size:"icon",onClick:ft,className:"h-10 w-10 rounded-full shrink-0",children:f.jsx(jf,{className:"h-5 w-5"})}),f.jsx("h2",{className:"font-semibold flex items-center gap-2 flex-1",children:oe?f.jsxs(f.Fragment,{children:[f.jsx(so,{className:"h-5 w-5 text-red-600"}),f.jsx("span",{children:"Add Expense"})]}):f.jsxs(f.Fragment,{children:[f.jsx(ii,{className:"h-5 w-5 text-green-600"}),f.jsx("span",{children:"Add Income"})]})})]}),f.jsx(Hc,{value:d,onValueChange:be=>m(be),className:"w-full",children:f.jsxs(qc,{className:"grid w-full grid-cols-2 h-10 p-1",children:[f.jsxs(Fr,{value:"expense",className:"text-xs data-[state=active]:bg-red-500 data-[state=active]:text-white",children:[f.jsx(so,{className:"h-3 w-3 mr-1"}),"Expense"]}),f.jsxs(Fr,{value:"income",className:"text-xs data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[f.jsx(ii,{className:"h-3 w-3 mr-1"}),"Income"]})]})})]})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"amount",className:"text-base",children:"Amount *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0",value:g,onChange:be=>x(be.target.value),step:"0.01",className:"pl-8 h-14 text-2xl"})]})]}),f.jsx(Kce,{type:d,value:v,onChange:b}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Date *"}),f.jsxs(Oh,{children:[f.jsx(Mh,{asChild:!0,children:f.jsxs(ue,{variant:"outline",className:"w-full justify-start",children:[f.jsx(ra,{className:"mr-2 h-4 w-4"}),ki(w)]})}),f.jsx(Dh,{className:"w-auto p-0",align:"start",children:f.jsx(kg,{mode:"single",selected:w,onSelect:be=>be&&_(be),initialFocus:!0})})]})]}),oe&&f.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Me,{htmlFor:"borrowedToggle",className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(io,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(oh,{id:"borrowedToggle",checked:!!$,onCheckedChange:be=>{if(be){const Re=s.find(rt=>rt.id!==r?.id);H(Re?.id||"custom")}else H(""),V("")}})]}),$&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(io,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs(Vn,{value:$,onValueChange:H,children:[f.jsx(Hn,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Wn,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:$==="custom"?G||"Someone else":s.find(be=>be.id===$)?.name||"someone"})]})})}),f.jsxs(qn,{children:[s.filter(be=>be.id!==r?.id).map(be=>f.jsx(ze,{value:be.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:be.name})]})},be.id)),f.jsx(ze,{value:"custom",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:"Someone else (Custom)"})]})})]})]}),$==="custom"&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Tt,{placeholder:"Enter lender's name",value:G,onChange:be=>V(be.target.value),className:"bg-background border-orange-300 dark:border-orange-800"}),f.jsx(Tt,{placeholder:"Lender's Phone (Optional)",value:B,onChange:be=>L(be.target.value),type:"tel",className:"bg-background border-orange-300 dark:border-orange-800"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Add phone number to send WhatsApp reminders"})]}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",g||"0.00"," when you save this transaction"]})]})]}),oe&&!k&&f.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"paidBy",children:"Paid By *"}),f.jsxs(Vn,{value:D,onValueChange:F,children:[f.jsx(Hn,{id:"paidBy",children:f.jsx(Wn,{placeholder:"Who paid?"})}),f.jsx(qn,{children:s.map(be=>f.jsxs(ze,{value:be.id,children:[be.name," ",be.id===r?.id&&"(You)"]},be.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"paymentMethod",children:"Payment Method *"}),f.jsxs(Vn,{value:M,onValueChange:R,children:[f.jsx(Hn,{id:"paymentMethod",children:f.jsx(Wn,{})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"cash",children:" Cash"}),f.jsx(ze,{value:"upi",children:" UPI"}),f.jsx(ze,{value:"card",children:" Card"}),f.jsx(ze,{value:"bank",children:" Bank Transfer"}),f.jsx(ze,{value:"wallet",children:" Wallet"})]})]})]})]}),oe&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Me,{htmlFor:"splitPayment",className:"cursor-pointer",children:"Split Payment"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple payment methods (UPI + Cash, etc.)"})]}),f.jsx(oh,{id:"splitPayment",checked:k,onCheckedChange:O})]}),k&&f.jsxs("div",{className:"space-y-3",children:[f.jsx(Me,{children:"Payment Methods"}),W.map((be,Re)=>f.jsx(Hce,{line:be,index:Re,users:s,currentUser:r,canRemove:W.length>1,onUpdate:(rt,kt)=>Ie(Re,rt,kt),onRemove:()=>qe(Re),onBorrowedToggle:rt=>xt(Re,rt)},be.id)),f.jsxs(ue,{type:"button",variant:"outline",onClick:re,className:"w-full",children:[f.jsx(Br,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]}),g&&f.jsxs("div",{className:"text-sm bg-muted/30 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Total:"}),f.jsx("span",{className:"font-medium",children:Pe(parseFloat(g)||0)})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Split sum:"}),f.jsx("span",{className:Math.abs((parseFloat(g)||0)-W.reduce((be,Re)=>be+(Re.amount||0),0))<.01?"font-medium text-green-600":"font-medium text-destructive",children:Pe(W.reduce((be,Re)=>be+(Re.amount||0),0))})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Attach Receipt (optional)"}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx(Yce,{receipts:U,onChange:K}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:be=>{const Re=be.target.files?.[0];if(Re){const rt=new FileReader;rt.onloadend=()=>{K([...U,rt.result])},rt.readAsDataURL(Re)}}}),f.jsx(ue,{type:"button",variant:"outline",size:"icon",children:f.jsx(qv,{className:"h-4 w-4"})})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Me,{htmlFor:"notes",children:"Notes (optional)"}),ve&&f.jsxs(ue,{type:"button",variant:"ghost",size:"sm",className:`h-6 px-2 text-xs gap-1 ${pe?"text-red-600 animate-pulse":"text-muted-foreground"}`,onClick:pe?ie:le,children:[f.jsx(fJ,{className:"h-3 w-3"}),pe?"Listening...":"Dictate"]})]}),f.jsx(eo,{id:"notes",placeholder:"Add any additional details...",value:A,onChange:be=>T(be.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs(Me,{htmlFor:"isShared",className:"cursor-pointer",children:["Shared ",oe?"Expense":"Income"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible to all family members"})]}),f.jsx(oh,{id:"isShared",checked:P,onCheckedChange:E})]}),f.jsx("div",{className:"sticky bottom-0 bg-background border-t p-4 -mx-4 -mb-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:ft,className:"flex-1",size:"lg",children:"Cancel"}),f.jsx(ue,{onClick:vt,disabled:Z,className:`flex-1 ${oe?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,size:"lg",children:Z?"Saving...":`Save ${oe?"Expense":"Income"}`})]})})]})]})})}const Zce={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function Jce(t){t.toLowerCase();const e=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const n of e){const r=t.match(n);if(r){const i=n.source.startsWith("^?"),s=parseFloat(i?r[1]:r[2]),a=(i?r[2]:r[1]).trim();let o="cash",l="",c=a;const h=[/\b(by|via|using|paid by)\s+(upi|card|cash|net banking)\b/i,/\b(upi|card|cash|net banking)\b/i,/\b(by|via|using|paid by)\s+(.+?)(?:\s+|$)/i];let d=!1;for(const x of h){const v=t.match(x);if(v){const b=v[1]||v[0];if(/\bupi\b/.test(b.toLowerCase())){o="upi";const w=b.match(/\bupi\s+(\w+)/i);w&&(l=w[1])}else if(/\bcard\b/.test(b.toLowerCase())){o="card";const w=b.match(/\bcard\s+(\w+)/i);w&&(l=w[1])}else/\bcash\b/.test(b.toLowerCase())&&(o="cash");c=a.replace(v[0],"").trim(),d=!0;break}}if(!d){const x=t.match(/\b(by)\s+(.+)$/i);if(x&&x[2]){const v=x[2];if(/\b(upi|card|cash|net banking)\b/.test(v.toLowerCase())){const b=v.match(/(upi|card|cash|net banking)/i);b&&(o=b[1].toLowerCase(),l=v.replace(b[0],"").trim())}else l=v,o="upi";c=a.replace(x[0],"").trim()}}let m="other";const g=c.toLowerCase();for(const[x,{category:v,keywords:b}]of Object.entries(Zce))if(b.some(w=>g.includes(w))){m=v;break}return{amount:s,merchant:c,category:m,paymentMethod:o,bank:l}}}return null}function eue({open:t,onClose:e}){const{currentUser:n,users:r,addExpense:i}=ot(),[s,a]=C.useState(""),[o,l]=C.useState(null),[c,h]=C.useState(!1);C.useEffect(()=>{if(s.trim()){const g=Jce(s);l(g)}else l(null)},[s]);const d=async()=>{if(!(!n||!o)){h(!0);try{const g=o.paymentMethod==="cash"?"cash":o.paymentMethod==="upi"?"upi":o.paymentMethod==="card"?"card":"cash",x={id:Qt(),method:o.paymentMethod,amount:o.amount,payer_user_id:n.id,account_id:g},v=o.bank?`${o.merchant} (via ${o.bank})`:o.merchant,b={id:Qt(),family_id:n.family_id,created_by:n.id,total_amount:o.amount,currency:"INR",category:o.category,date:new Date().toISOString(),notes:v,payment_lines:[x],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await i(b),ke.success(`Added ${o.amount} expense for ${o.merchant}`),a(""),l(null),e()}catch(g){console.error("Error adding quick expense:",g),ke.error("Failed to add expense")}finally{h(!1)}}},m=()=>{a(""),l(null),e()};return f.jsx(Wt,{open:t,onOpenChange:m,children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsxs(sn,{className:"flex items-center gap-2",children:[f.jsx(uE,{className:"h-5 w-5 text-yellow-500"}),"Quick Add Expense"]}),f.jsx(pn,{children:'Type naturally like "200 Uber" or "500 Zomato" or "500 travel by upi kotak"'})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"quickInput",children:"Quick Entry"}),f.jsx(Tt,{id:"quickInput",placeholder:"e.g., 200 Uber by upi, 500 Zomato, 500 travel by kotak",value:s,onChange:g=>a(g.target.value),className:"text-lg",autoFocus:!0})]}),o&&f.jsxs("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Vv,{className:"h-4 w-4 text-success"}),"Auto-detected:"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),f.jsxs("span",{className:"text-xl font-semibold text-destructive",children:["",o.amount]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),f.jsx("span",{className:"font-medium",children:o.merchant})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),f.jsx(Jt,{variant:"secondary",className:"capitalize",children:o.category})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment:"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-sm capitalize",children:o.paymentMethod}),o.bank&&f.jsx(Jt,{variant:"outline",className:"text-xs",children:o.bank})]})]})]})]}),f.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2",children:[f.jsx("p",{className:"text-sm font-medium",children:"Examples:"}),f.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"200 Uber"}),f.jsx("span",{children:" 200 Transport"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"500 travel by upi kotak"}),f.jsx("span",{children:" 500 Travel (UPI Kotak)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"600 BigBasket"}),f.jsx("span",{children:" 600 Groceries (Cash)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"300 movie by card"}),f.jsx("span",{children:" 300 Entertainment (Card)"})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ue,{variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),f.jsxs(ue,{onClick:d,disabled:!o||c,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:[f.jsx(so,{className:"h-4 w-4"}),"Add Expense"]})]})]})]})})}const tue=CP("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ng({className:t,variant:e,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:Le(tue({variant:e}),t),...n})}function Og({className:t,...e}){return f.jsx("div",{"data-slot":"alert-description",className:Le("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function nue(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var GE="ScrollArea",[wV]=Ri(GE),[rue,Ii]=wV(GE),SV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=C.useState(null),[c,h]=C.useState(null),[d,m]=C.useState(null),[g,x]=C.useState(null),[v,b]=C.useState(null),[w,_]=C.useState(0),[A,T]=C.useState(0),[P,E]=C.useState(!1),[k,O]=C.useState(!1),D=et(e,M=>l(M)),F=Eu(i);return f.jsx(rue,{scope:n,type:r,dir:F,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:h,content:d,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:P,onScrollbarXEnabledChange:E,scrollbarY:v,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:_,onCornerHeightChange:T,children:f.jsx(Ue.div,{dir:F,...a,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});SV.displayName=GE;var _V="ScrollAreaViewport",AV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Ii(_V,n),o=C.useRef(null),l=et(e,o,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(Ue.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});AV.displayName=_V;var Ds="ScrollAreaScrollbar",CV=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ii(Ds,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return C.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?f.jsx(iue,{...r,ref:e,forceMount:n}):i.type==="scroll"?f.jsx(sue,{...r,ref:e,forceMount:n}):i.type==="auto"?f.jsx(PV,{...r,ref:e,forceMount:n}):i.type==="always"?f.jsx(KE,{...r,ref:e}):null});CV.displayName=Ds;var iue=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ii(Ds,t.__scopeScrollArea),[s,a]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},h=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(Cr,{present:n||s,children:f.jsx(PV,{"data-state":s?"visible":"hidden",...r,ref:e})})}),sue=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Ii(Ds,t.__scopeScrollArea),s=t.orientation==="horizontal",a=by(()=>l("SCROLL_END"),100),[o,l]=nue("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,h=s?"scrollLeft":"scrollTop";if(c){let d=c[h];const m=()=>{const g=c[h];d!==g&&(l("SCROLL"),a()),d=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),f.jsx(Cr,{present:n||o!=="hidden",children:f.jsx(KE,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),PV=C.forwardRef((t,e)=>{const n=Ii(Ds,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=C.useState(!1),o=t.orientation==="horizontal",l=by(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:h)}},10);return Gc(n.viewport,l),Gc(n.content,l),f.jsx(Cr,{present:r||s,children:f.jsx(KE,{"data-state":s?"visible":"hidden",...i,ref:e})})}),KE=C.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Ii(Ds,t.__scopeScrollArea),s=C.useRef(null),a=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=NV(o.viewport,o.content),h={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function d(m,g){return due(m,a.current,o,g)}return n==="horizontal"?f.jsx(aue,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,g=OM(m,o,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=d(m,i.dir))}}):n==="vertical"?f.jsx(oue,{...h,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,g=OM(m,o);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=d(m))}}):null}),aue=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ii(Ds,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=et(e,l,s.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(jV,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":yy(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.x),onDragScroll:h=>t.onDragScroll(h.x),onWheelScroll:(h,d)=>{if(s.viewport){const m=s.viewport.scrollLeft+h.deltaX;t.onWheelScroll(m),MV(m,d)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Dg(a.paddingLeft),paddingEnd:Dg(a.paddingRight)}})}})}),oue=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Ii(Ds,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=et(e,l,s.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(jV,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":yy(n)+"px",...t.style},onThumbPointerDown:h=>t.onThumbPointerDown(h.y),onDragScroll:h=>t.onDragScroll(h.y),onWheelScroll:(h,d)=>{if(s.viewport){const m=s.viewport.scrollTop+h.deltaY;t.onWheelScroll(m),MV(m,d)&&h.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Dg(a.paddingTop),paddingEnd:Dg(a.paddingBottom)}})}})}),[lue,EV]=wV(Ds),jV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:h,onResize:d,...m}=t,g=Ii(Ds,n),[x,v]=C.useState(null),b=et(e,D=>v(D)),w=C.useRef(null),_=C.useRef(""),A=g.viewport,T=r.content-r.viewport,P=zn(h),E=zn(l),k=by(d,10);function O(D){if(w.current){const F=D.clientX-w.current.left,M=D.clientY-w.current.top;c({x:F,y:M})}}return C.useEffect(()=>{const D=F=>{const M=F.target;x?.contains(M)&&P(F,T)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[A,x,T,P]),C.useEffect(E,[r,E]),Gc(x,k),Gc(g.content,k),f.jsx(lue,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:zn(s),onThumbPointerUp:zn(a),onThumbPositionChange:E,onThumbPointerDown:zn(o),children:f.jsx(Ue.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:ye(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),w.current=x.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(D))}),onPointerMove:ye(t.onPointerMove,O),onPointerUp:ye(t.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),Mg="ScrollAreaThumb",TV=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=EV(Mg,t.__scopeScrollArea);return f.jsx(Cr,{present:n||i.hasThumb,children:f.jsx(cue,{ref:e,...r})})}),cue=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Ii(Mg,n),a=EV(Mg,n),{onThumbPositionChange:o}=a,l=et(e,d=>a.onThumbChange(d)),c=C.useRef(void 0),h=by(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const d=s.viewport;if(d){const m=()=>{if(h(),!c.current){const g=hue(d,o);c.current=g,o()}};return o(),d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[s.viewport,h,o]),f.jsx(Ue.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(t.onPointerDownCapture,d=>{const g=d.target.getBoundingClientRect(),x=d.clientX-g.left,v=d.clientY-g.top;a.onThumbPointerDown({x,y:v})}),onPointerUp:ye(t.onPointerUp,a.onThumbPointerUp)})});TV.displayName=Mg;var YE="ScrollAreaCorner",kV=C.forwardRef((t,e)=>{const n=Ii(YE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(uue,{...t,ref:e}):null});kV.displayName=YE;var uue=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Ii(YE,n),[s,a]=C.useState(0),[o,l]=C.useState(0),c=!!(s&&o);return Gc(i.scrollbarX,()=>{const h=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(h),l(h)}),Gc(i.scrollbarY,()=>{const h=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(h),a(h)}),c?f.jsx(Ue.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Dg(t){return t?parseInt(t,10):0}function NV(t,e){const n=t/e;return isNaN(n)?0:n}function yy(t){const e=NV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function due(t,e,n,r="ltr"){const i=yy(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,h=n.content-n.viewport,d=r==="ltr"?[0,h]:[h*-1,0];return OV([l,c],d)(t)}function OM(t,e,n="ltr"){const r=yy(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=_h(t,l);return OV([0,a],[0,o])(c)}function OV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function MV(t,e){return t>0&&t<e}var hue=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function by(t,e){const n=zn(t),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Gc(t,e){const n=zn(e);Sn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var fue=SV,pue=AV,mue=kV;function gue({className:t,children:e,...n}){return f.jsxs(fue,{"data-slot":"scroll-area",className:Le("relative",t),...n,children:[f.jsx(pue,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),f.jsx(vue,{}),f.jsx(mue,{})]})}function vue({className:t,orientation:e="vertical",...n}){return f.jsx(CV,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Le("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:f.jsx(TV,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const br=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),$A=[.001,0,0,.001,0,0],$0=1.35,Yr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Xa={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Rh="pdfjs_internal_editor_",Ze={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},ut={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},yue={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},BA={TRIANGLES:1,LATTICE:2},Zn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},lg={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},yn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},lc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},xy={ERRORS:0,WARNINGS:1,INFOS:5},Ih={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Md={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},bue={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let wy=xy.WARNINGS;function xue(t){Number.isInteger(t)&&(wy=t)}function wue(){return wy}function Sy(t){wy>=xy.INFOS&&console.info(`Info: ${t}`)}function Xe(t){wy>=xy.WARNINGS&&console.warn(`Warning: ${t}`)}function Mt(t){throw new Error(t)}function dt(t,e){t||Mt(e)}function Sue(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function DV(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Eue(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return Sue(r)?r:null}function RV(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&DV(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function nt(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const yl=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class MM extends yl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class B0 extends yl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class UA extends yl{constructor(e){super(e,"InvalidPDFException")}}class Rg extends yl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class _ue extends yl{constructor(e){super(e,"FormatError")}}class lo extends yl{constructor(e){super(e,"AbortException")}}function IV(t){(typeof t!="object"||t?.length===void 0)&&Mt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function zf(t){typeof t!="string"&&Mt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Aue(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Cue(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function Pue(){try{return new Function(""),!0}catch{return!1}}class sr{static get isLittleEndian(){return nt(this,"isLittleEndian",Cue())}static get isEvalSupported(){return nt(this,"isEvalSupported",Pue())}static get isOffscreenCanvasSupported(){return nt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return nt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return nt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return nt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return nt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return nt(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const U0=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Ce{static makeHexColor(e,n,r){return`#${U0[e]}${U0[n]}${U0[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let h=0;h<6;h+=2){const d=e[r+h],m=e[r+h+1];e[r+h]=d*i+m*a+l,e[r+h+1]=d*s+m*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],h=e[0],d=e[1],m=e[2],g=e[3];let x=i*h+l,v=x,b=i*m+l,w=b,_=o*d+c,A=_,T=o*g+c,P=T;if(s!==0||a!==0){const E=s*h,k=s*m,O=a*d,D=a*g;x+=O,w+=O,b+=D,v+=D,_+=E,P+=E,T+=k,A+=k}r[0]=Math.min(r[0],x,b,v,w),r[1]=Math.min(r[1],_,T,A,P),r[2]=Math.max(r[2],x,b,v,w),r[3]=Math.max(r[3],_,T,A,P)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,h=(o+c)/2,d=Math.sqrt(h**2-(o*c-l**2));n[0]=Math.sqrt(h+d||1),n[1]=Math.sqrt(h-d||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static#e(e,n,r,i,s,a,o,l,c,h){if(c<=0||c>=1)return;const d=1-c,m=c*c,g=m*c,x=d*(d*(d*e+3*c*n)+3*m*r)+g*i,v=d*(d*(d*s+3*c*a)+3*m*o)+g*l;h[0]=Math.min(h[0],x),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],x),h[3]=Math.max(h[3],v)}static#t(e,n,r,i,s,a,o,l,c,h,d,m){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&this.#e(e,n,r,i,s,a,o,l,-d/h,m);return}const g=h**2-4*d*c;if(g<0)return;const x=Math.sqrt(g),v=2*c;this.#e(e,n,r,i,s,a,o,l,(-h+x)/v,m),this.#e(e,n,r,i,s,a,o,l,(-h-x)/v,m)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),this.#t(e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),this.#t(e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}function Eue(t){return decodeURIComponent(escape(t))}let z0=null,DM=null;function jue(t){return z0||(z0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,DM=new Map([["","t"]])),t.replaceAll(z0,(e,n,r)=>n?n.normalize("NFKC"):DM.get(r))}function LV(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),IV(t)}const gc="pdfjs_internal_id_";function Tue(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function xr(t,e,n){return Math.min(Math.max(t,e),n)}function FV(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(IV(t))}function kue(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):zf(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class Lh{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(Lh.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class $V{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);a.append(d),o&&Lh.shouldBuildText(i.name)&&c.push(d)}return{textDivs:c}}const h=[[i,-1,a]];for(;h.length>0;){const[d,m,g]=h.at(-1);if(m+1===d.children.length){h.pop();continue}const x=d.children[++h.at(-1)[1]];if(x===null)continue;const{name:v}=x;if(v==="#text"){const w=document.createTextNode(x.value);c.push(w),g.append(w);continue}const b=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,v):document.createElement(v);if(g.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:n,intent:s,linkService:r}),x.children?.length>0)h.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);o&&Lh.shouldBuildText(v)&&c.push(w),b.append(w)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Xs="http://www.w3.org/2000/svg";class Kc{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Vf(t,e="text"){if(Yd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Wf{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,m,g;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,d=0,m=0,g=1;break;case 90:h=0,d=1,m=1,g=0;break;case 270:h=0,d=-1,m=-1,g=0;break;case 0:h=1,d=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,g=-g);let x,v,b,w;h===0?(x=Math.abs(c-e[1])*r+s,v=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,w=(e[2]-e[0])*r):(x=Math.abs(l-e[0])*r+s,v=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,w=(e[3]-e[1])*r),this.transform=[h*r,d*r,m*r,g*r,x-h*r*l-m*r*c,v-d*r*l-g*r*c],this.width=b,this.height=w}get rawDims(){const e=this.viewBox;return nt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Wf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return Ce.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Ce.applyTransform(n,this.transform);const r=[e[2],e[3]];return Ce.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Ce.applyInverseTransform(r,this.transform),r}}class XE extends yl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function _y(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function QE(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Nue(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Oue(t,e="document.pdf"){if(typeof t!="string")return e;if(_y(t))return Xe('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class RM{started=Object.create(null);times=[];time(e){e in this.started&&Xe(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Xe(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Yd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function Mi(t){t.preventDefault()}function an(t){t.preventDefault(),t.stopPropagation()}function Mue(t){console.log("Deprecated API usage: "+t)}class zA{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let h=parseInt(n[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(n[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(a+=h,o+=d):c==="+"&&(a-=h,o-=d),new Date(Date.UTC(r,i,s,a,o,l))}}function Due(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Wf({viewBox:s,userUnit:1,scale:e,rotation:n})}function Hf(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Xe(`Not a valid color format: "${t}"`),[0,0,0])}function Rue(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Hf(r))}e.remove()}function Xt(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function ds(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function ul(t,e,n=!1,r=!0){if(e instanceof Wf){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=sr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,h=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,d=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=h,a.height=d):(a.width=d,a.height=h)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ts{constructor(){const{pixelRatio:e}=Ts;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=Ts.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const VA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Iue{static get isDarkMode(){return nt(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class Lue{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),nt(this,"commentForegroundColor",Hf(r))}}function Fue(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function IM(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function WA(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function LM(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function FM(t,e,n){WA(t,n),n.map(LM);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];WA(e,n),n.map(LM);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const $M=new Map;function $ue(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=$M.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);IM(t,a);const o=i.subarray(6,9);IM(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),FM(a,o,s)<c){let h,d;l?(h=a[2],d=1):(h=0,d=a[2]);const m=.005;for(;d-h>m;){const g=a[2]=(h+d)/2;l===FM(a,o,s)<c?h=g:d=g}a[2]=l?d:h}return WA(a,s),r=Ce.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),$M.set(n,r),r}function BV({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else $V.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function UV(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Md.moveTo:e.moveTo(t[n++],t[n++]);break;case Md.lineTo:e.lineTo(t[n++],t[n++]);break;case Md.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Md.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Md.closePath:e.closePath();break;default:Xe(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class lh{#e=null;#t=null;#r;#n=null;#a=null;#s=null;#i=null;#o=null;static#c=null;constructor(e){this.#r=e,lh.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",Mi,{signal:n}),e.addEventListener("pointerdown",lh.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:s}=e,a=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,an(e)}#d(e){this.#r._focusEventsAllowed=!0,an(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",Mi,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",lh.#c[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#g),this.#a=e}addComment(e,n=null){if(this.#s)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#g)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Bue{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",Mi,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#a(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]}show(e,n,r){const[i,s]=this.#a(n,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=this.#r._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",Mi,{signal:o}),s.addEventListener("click",i,{signal:o})),this.#e.append(s)}}function zV(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class bt{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(bt.#t||=new Set).add(e)}static setPointer(e,n){bt.#e||=n,bt.#n??=e}static setTimeStamp(e){bt.#r=e}static isSamePointerId(e){return bt.#e===e}static isSamePointerIdOrRemove(e){return bt.#e===e?!0:(bt.#t?.delete(e),!1)}static isSamePointerType(e){return bt.#n===e}static isInitializedAndDifferentPointerType(e){return bt.#n!==null&&!bt.isSamePointerType(e)}static isSameTimeStamp(e){return bt.#r===e}static isUsingMultiplePointers(){return bt.#t?.size>=1}static clearPointerType(){bt.#n=null}static clearPointerIds(){bt.#e=NaN,bt.#t=null}static clearTimeStamp(){bt.#r=NaN}}class Uue{#e=0;get id(){return`${Rh}${this.#e++}`}}class ZE{#e=LV();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return nt(this,"_isSVGFittingCanvas",s)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await Vf(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=ZE._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,h)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const d=r.svgUrl=a.result;o.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},o.onerror=a.onerror=h});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Xe(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return this.#n(`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class zue{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:n,post:r,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===s){o&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}const c=this.#n+1;c===this.#r?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class qf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=sr.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||an(n))}}class JE{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Rue(e),nt(this,"_colors",e)}convert(e){const n=Hf(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return JE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ce.makeHexColor(...n):e}}class co{#e=new AbortController;#t=null;#r=null;#n=new Map;#a=new Map;#s=null;#i=null;#o=null;#c=new zue;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#C=null;#_=null;#w=null;#E=null;#x=!1;#A=null;#k=new Uue;#j=!1;#T=!1;#L=!1;#O=null;#D=null;#F=null;#R=null;#W=null;#P=Ze.NONE;#S=new Set;#M=null;#$=null;#U=null;#G=null;#q=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#I=null;#H=null;#Z=null;#J=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=co.prototype,n=a=>a.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return nt(this,"_keyboardManager",new qf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,r,i,s,a,o,l,c,h,d,m,g,x,v,b){const w=this._signal=this.#e.signal;this.#H=e,this.#Z=n,this.#J=r,this.#s=i,this.#l=s,this.#$=a,this.#q=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",_=>this.updateParams(_.type,_.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#T=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#T=!1},{capture:!0,signal:w}),this.#ae(),this.#he(),this.#te(),this.#i=l.annotationStorage,this.#C=l.filterFactory,this.#U=c,this.#E=h||null,this.#v=d,this.#b=m,this.#y=g,this.#W=x||null,this.viewParameters={realScale:Kc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=b!==!1,s?.setSidebarUiManager(this)}destroy(){this.#B?.resolve(),this.#B=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#R?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#$?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#r=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#W}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return nt(this,"hcmFilter",this.#U?this.#C.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return nt(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return nt(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return nt(this,"highlightColors",null);const n=new Map,r=!!this.#U;for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return nt(this,"highlightColors",n)}get highlightColorNames(){return nt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,n=!1){this.#s?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#a.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#$?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#$}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=n;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,n){for(const r of this.#a.values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Kc.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#a.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),h=this.#Q(r).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;r.empty();const m=this.#ee(h),g=this.#P===Ze.NONE,x=()=>{const v=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),n&&v?.editComment()};if(g){this.switchToMode(Ze.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#A||=new Bue(this),this.#A.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Rh}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#M=n,this.#N({hasSelectedText:!0}),!(this.#P!==Ze.HIGHLIGHT&&this.#P!==Ze.NONE)&&(this.#P===Ze.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#P===Ze.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#T){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#P===Ze.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#D=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,n]=this.#D;this.#D=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#O)return;this.#O=new AbortController;const e=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#O?.abort(),this.#O=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Xe(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#ne(l);this.#re(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Xe(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#P!==Ze.NONE&&!this.isEditorHandlingKeyboard&&co._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#P===Ze.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#V([[ut.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#N({isEditing:this.#P!==Ze.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#V(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#j?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1){if(this.#P!==e&&!(this.#B&&(await this.#B.promise,!this.#B))){if(this.#B=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#P===Ze.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#P=e,e===Ze.NONE){this.setEditingState(!1),this.#pe();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#B.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();e===Ze.SIGNATURE&&await this.#$?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===Ze.POPUP){this.#r||=await this.#q.getAnnotationsByType(new Set(this.#u.map(l=>l._editorType)));const a=new Set,o=[];for(const l of this.#n.values()){const{annotationElementId:c,hasComment:h,deleted:d}=l;c&&a.add(c),h&&!d&&o.push(l.getData())}for(const l of this.#r){const{id:c,popupRef:h,contentsObj:d}=l;h&&d?.str&&!a.has(c)&&!this.#g.has(c)&&o.push(l)}this.#l?.showSidebar(o)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#B.resolve();return}for(const a of this.#n.values())a.uid===n?(this.setSelected(a),s?a.editComment():i?a.enterInEditMode():a.focus()):a.unselect();this.#B.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#P&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case ut.CREATE:this.currentLayer.addNewEditor(n);return;case ut.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#G?.get(ut.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#V([[ut.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const n of this.#a.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#j){this.#j=!0;const e=[];for(const n of this.#a.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#j){this.#j=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#R?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#a.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#S);return e}updateUI(e){this.#me===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const s of n)this.#ne(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#P!==Ze.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=n;const[i,s]=this.#z,a=[...this.#S],o=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#S)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!n)return!1;const r=(i,s,a,o)=>{if(this.#n.has(i.id)){const l=this.#a.get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#m)for(const r of this.#m.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#P}isEditingMode(){return this.#P!==Ze.NONE}get imageManager(){return nt(this,"imageManager",new ZE)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,h=n.rangeCount;c<h;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,h,d,m)=>({x:(h-i)/a,y:1-(c+d-r)/s,width:m/a,height:d/s});break;case"180":o=(c,h,d,m)=>({x:1-(c+d-r)/s,y:1-(h+m-i)/a,width:d/s,height:m/a});break;case"270":o=(c,h,d,m)=>({x:1-(h+m-i)/a,y:(c-r)/s,width:m/a,height:d/s});break;default:o=(c,h,d,m)=>({x:(c-r)/s,y:(h-i)/a,width:d/s,height:m/a});break}const l=[];for(let c=0,h=n.rangeCount;c<h;c++){const d=n.getRangeAt(c);if(!d.collapsed)for(const{x:m,y:g,width:x,height:v}of d.getClientRects())x===0||v===0||l.push(o(m,g,x,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#P===Ze.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#R?.get(e);i&&(i.setCanvas(n,r),this.#R.delete(e))}addMissingCanvas(e,n){(this.#R||=new Map).set(e,n)}}class ps{#e=null;#t=!1;#r=null;#n=null;#a=null;#s=null;#i=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,ps.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ps._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",ps.#f.missing),n.setAttribute("data-l10n-id",ps.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",Mi,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,i(s))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await ps._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ps.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",ps.#f[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Nm{#e=null;#t=null;#r=!1;#n=null;#a=null;#s=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#n.parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",Mi,{signal:r}),n&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,an(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,an(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:h,height:d,x:m,y:g}=this.#n;r=m+r*h,i=g+i*d}const s=this.#n.parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;this.#n._uiManager.editComment(this.#n,a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#s=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#a=e,this.data=e,this.#o=null,this.#s=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#s=null,this.#o=null,this.#n=null,this.#r=!1,this.#c=!1}}class Ay{#e;#t=!1;#r=null;#n;#a;#s;#i;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#r=r,this.#n=n,this.#a=i,this.#s=s,this.#i=a,this.#h=new AbortController,this.#c=AbortSignal.any([o,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ts.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(an(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const o=this.#m.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",an,a),s.addEventListener("pointermove",an,a),s.addEventListener("pointercancel",an,a),s.addEventListener("pointerup",an,a),this.#a?.()}if(an(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;an(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=this.#l,{touch0X:c,touch0Y:h,touch1X:d,touch1Y:m}=l,g=d-c,x=m-h,v=a-i,b=o-s,w=Math.hypot(v,b)||1,_=Math.hypot(g,x)||1;if(!this.#t&&Math.abs(_-w)<=Ay.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const A=[(i+a)/2,(s+o)/2];this.#s?.(A,_,w)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(an(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class De{#e=null;#t=null;#r=null;#n=null;#a=null;#s=!1;#i=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#C=0;#_=0;#w=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=De._zIndex++;static _borderLineWidth=-1;static _colorManager=new JE;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=De.prototype._resizeWithKeyboard,n=co.TRANSLATE_SMALL,r=co.TRANSLATE_BIG;return nt(this,"_resizerKeyboardManager",new qf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],De.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return nt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new Vue({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(De._l10n??=e,De._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),De._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);De._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Mt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:h}=r;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=De,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=xr(s,0,r-o),a=xr(a,0,i-l);break;case 90:s=xr(s,0,r-l),a=xr(a,o,i);break;case 180:s=xr(s,o,r),a=xr(a,l,i);break;case 270:s=xr(s,l,r),a=xr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,h]=this.getBaseTranslation();s+=c,a+=h,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#j(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return De.#j(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return De.#j(e,n,360-this.parentRotation)}#T(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#O.bind(this,r),{signal:n}),i.addEventListener("contextmenu",Mi,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#O(e,n){n.preventDefault();const{isMac:r}=sr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",an,{passive:!1,signal:a}),window.addEventListener("contextmenu",Mi,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#D(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:this.#D.bind(this,s,a,o,l),undo:this.#D.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=De.MIN_SIZE/r,h=De.MIN_SIZE/i,d=this.#T(this.rotation),m=(V,B)=>[d[0]*V+d[2]*B,d[1]*V+d[3]*B],g=this.#T(360-this.rotation),x=(V,B)=>[g[0]*V+g[2]*B,g[1]*V+g[3]*B];let v,b,w=!1,_=!1;switch(e){case"topLeft":w=!0,v=(V,B)=>[0,0],b=(V,B)=>[V,B];break;case"topMiddle":v=(V,B)=>[V/2,0],b=(V,B)=>[V/2,B];break;case"topRight":w=!0,v=(V,B)=>[V,0],b=(V,B)=>[0,B];break;case"middleRight":_=!0,v=(V,B)=>[V,B/2],b=(V,B)=>[0,B/2];break;case"bottomRight":w=!0,v=(V,B)=>[V,B],b=(V,B)=>[0,0];break;case"bottomMiddle":v=(V,B)=>[V/2,B],b=(V,B)=>[V/2,0];break;case"bottomLeft":w=!0,v=(V,B)=>[0,B],b=(V,B)=>[V,0];break;case"middleLeft":_=!0,v=(V,B)=>[0,B/2],b=(V,B)=>[V,B/2];break}const A=v(o,l),T=b(o,l);let P=m(...T);const E=De._round(s+P[0]),k=De._round(a+P[1]);let O=1,D=1,F,M;if(n.fromKeyboard)({deltaX:F,deltaY:M}=n);else{const{screenX:V,screenY:B}=n,[L,W]=this.#l;[F,M]=this.screenToPageTranslation(V-L,B-W),this.#l[0]=V,this.#l[1]=B}if([F,M]=x(F/r,M/i),w){const V=Math.hypot(o,l);O=D=Math.max(Math.min(Math.hypot(T[0]-A[0]-F,T[1]-A[1]-M)/V,1/o,1/l),c/o,h/l)}else _?O=xr(Math.abs(T[0]-A[0]-F),c,1)/o:D=xr(Math.abs(T[1]-A[1]-M),h,1)/l;const R=De._round(o*O),$=De._round(l*D);P=m(...b(R,$));const H=E-P[0],G=k-P[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=R,this.height=$,this.x=H,this.y=G,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new lh(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(ps.initialize(De._l10n),this.#r=new ps(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Nm(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Nm(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new Nm(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Nm(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),zV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new Ay({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#W.bind(this),onPinching:this.#P.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#W(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#P(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=this.#T(this.rotation),o=(E,k)=>[a[0]*E+a[2]*k,a[1]*E+a[3]*k],[l,c]=this.parentDimensions,h=this.x,d=this.y,m=this.width,g=this.height,x=De.MIN_SIZE/l,v=De.MIN_SIZE/c;s=Math.max(Math.min(s,1/m,1/g),x/m,v/g);const b=De._round(m*s),w=De._round(g*s);if(b===m&&w===g)return;this.#u||=[h,d,m,g];const _=o(m/2,g/2),A=De._round(h+_[0]),T=De._round(d+_[1]),P=o(b/2,w/2);this.x=A-P[0],this.y=T-P[1],this.width=b,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#$(e);return}this.#M(e)}#M(e){const{isMac:n}=sr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#$(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#M(c),r&&this._onStopDragging()};n&&(this.#C=e.clientX,this.#_=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:d,pointerId:m}=c;if(m!==this.#i){an(c);return}const[g,x]=this.screenToPageTranslation(h-this.#C,d-this.#_);this.#C=h,this.#_=d,this._uiManager.dragSelectedEditors(g,x)},a),window.addEventListener("touchmove",an,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#E||c.isPrimary)&&o(c),an(c)},a));const l=c=>{if(!this.#i||this.#i===c.pointerId){o(c);return}an(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,h=n/i,d=this.x*s,m=this.y*a,g=this.width*s,x=this.height*a;switch(r){case 0:return[d+c+o,a-m-h-x+l,d+c+g+o,a-m-h+l];case 90:return[d+h+o,a-m+c+l,d+h+x+o,a-m+c+g+l];case 180:return[d-c-g+o,a-m+h+l,d-c+o,a-m+h+x+l];case 270:return[d-h-x+o,a-m-c-g+l,d-h+o,a-m-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&De._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:h}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||h,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#I(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#E?.destroy(),this.#E=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[De._round(r+(s-r)*e),De._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const a=this.#G.bind(this),o=this.#q.bind(this),l=this._uiManager._signal;for(const c of this.#t){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#K.bind(this,h),{signal:l}),c.setAttribute("data-l10n-id",De._l10nResizer[h])}}const r=this.#t[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)this.#c.append(this.#c.firstChild);else if(s>i)for(let o=0;o<s-i;o++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const o of n){const c=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",De._l10nResizer[c])}}this.#z(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){De._resizerKeyboardManager.exec(this,e)}#q(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#K(e){this.#g=this.#b?e:""}#z(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#R(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#I(){this.#b=!1,this.#z(-1),this.#F()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},De._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class Vue extends De{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const BM=3285377520,vi=4294901760,hs=65535;class VV{constructor(e){this.h1=e?e&4294967295:BM,this.h2=e?e&4294967295:BM}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let v=0,b=e.length;v<b;v++){const w=e.charCodeAt(v);w<=255?n[r++]=w:(n[r++]=w>>>8,n[r++]=w&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,h=this.h2;const d=3432918353,m=461845907,g=d&hs,x=m&hs;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*d&vi|o*g&hs,o=o<<15|o>>>17,o=o*m&vi|o*x&hs,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[v],l=l*d&vi|l*g&hs,l=l<<15|l>>>17,l=l*m&vi|l*x&hs,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*d&vi|o*g&hs,o=o<<15|o>>>17,o=o*m&vi|o*x&hs,i&1?c^=o:h^=o}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&vi|e*36045&hs,n=n*4283543511&vi|((n<<16|e>>>16)*2950163797&vi)>>>16,e^=n>>>1,e=e*444984403&vi|e*60499&hs,n=n*3301882366&vi|((n<<16|e>>>16)*3120437893&vi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const HA=Object.freeze({map:null,hash:"",transfer:void 0});class ej{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof De&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof De)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,n);i&&this.#a(),n instanceof De&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new WV(this)}get serializable(){if(this.#n.size===0)return HA;const e=new Map,n=new VV,r=[],i=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof De?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:HA}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of this.#n.values()){if(!(s instanceof De)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[c,h]of Object.entries(a)){if(c==="type")continue;let d=l.get(c);d||(d=new Map,l.set(c,d));const m=d.get(h)??0;d.set(h,m+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class WV extends ej{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Mt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return nt(this,"modifiedIds",{ids:new Set,hash:""})}}class Wue{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(dt(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),r?.(e)}catch{Xe(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Mt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Xe(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return nt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return nt(this,"isSyncFontLoadingSupported",br||sr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(dt(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return nt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(T,P){return T.charCodeAt(P)<<24|T.charCodeAt(P+1)<<16|T.charCodeAt(P+2)<<8|T.charCodeAt(P+3)&255}function i(T,P,E,k){const O=T.substring(0,P),D=T.substring(P+E);return O+k+D}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function h(T,P){if(++c>30){Xe("Load test font never loaded."),P();return}if(l.font="30px "+T,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(h.bind(null,T,P))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,d.length,d);const x=16,v=1482184792;let b=r(m,x);for(s=0,a=d.length-3;s<a;s+=4)b=b-v+r(d,s)|0;s<d.length&&(b=b-v+r(d+"XXX",s)|0),m=i(m,x,4,Aue(b));const w=`url(data:font/opentype;base64,${btoa(m)});`,_=`@font-face {font-family:"${d}";src:${w}}`;this.insertRule(_);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const T of[e.loadedName,d]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=T,A.append(P)}this._document.body.append(A),h(d,()=>{A.remove(),n.complete()})}}class Hue{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${FV(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Xe(`getPathGenerator - ignoring character: "${a}".`)}const s=UV(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class Ec{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const c of Ec.strings){const h=n.encode(e[c]);r[c]=h,i+=4+h.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of Ec.strings){const h=r[c],d=h.length;o.setUint32(l,d),a.set(h,l+4),l+=4+d}return dt(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){dt(e<Ec.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class jc{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const m of jc.strings){const g=n.encode(e[m]);r[m]=g,i+=4+g.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),h=new DataView(l);let d=0;h.setUint8(d++,e.guessFallback?1:0),h.setUint32(d,0),d+=4,i=0;for(const m of jc.strings){const g=r[m],x=g.length;i+=4+x,h.setUint32(d,x),c.set(g,d+4),d+=4+x}return h.setUint32(d-i-4,i),e.style&&(h.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,h.setUint32(d,a.length),c.set(a,d+4),d+=4+a.length),dt(d<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(d)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){dt(e<jc.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),s=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:s}}}class Nt{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#a=this.#n+1+6;#s;#i;#o;constructor({data:e,extra:n}){this.#s=e,this.#i=new TextDecoder,this.#o=new DataView(this.#s),n&&Object.assign(this,n)}#c(e){dt(e<Nt.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return dt(e<Nt.numbers.length,"Invalid number index"),this.#o.getFloat64(Nt.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=Nt.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=Nt.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=Nt.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){dt(e<Nt.strings.length,"Invalid string index");let n=Nt.#a+4;for(let s=0;s<e;s++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=Nt.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=Nt.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=Nt.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#s,e+4,i)),new Ec(s.buffer)}get systemFontInfo(){let e=Nt.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,e+4,r)),new jc(i.buffer)}static write(e){const n=e.systemFontInfo?jc.write(e.systemFontInfo):null,r=e.cssFontInfo?Ec.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const v of Nt.strings)s[v]=i.encode(e[v]),a+=4+s[v].length;const o=Nt.#a+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),h=new DataView(l);let d=0;const m=Nt.bools.length;let g=0,x=0;for(let v=0;v<m;v++){const b=e[Nt.bools[v]];g|=(b===void 0?0:b?2:1)<<x,x+=2,(x===8||v===m-1)&&(h.setUint8(d++,g),g=0,x=0)}dt(d===Nt.#e,"FontInfo.write: Boolean properties offset mismatch");for(const v of Nt.numbers)h.setFloat64(d,e[v]),d+=8;if(dt(d===Nt.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(d++,4);for(const v of e.bbox)h.setInt16(d,v,!0),d+=2}else h.setUint8(d++,0),d+=8;if(dt(d===Nt.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(d++,6);for(const v of e.fontMatrix)h.setFloat64(d,v,!0),d+=8}else h.setUint8(d++,0),d+=48;if(dt(d===Nt.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(d++,1);for(const v of e.defaultVMetrics)h.setInt16(d,v,!0),d+=2}else h.setUint8(d++,0),d+=6;dt(d===Nt.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(Nt.#a,0),d+=4;for(const v of Nt.strings){const b=s[v],w=b.length;h.setUint32(d,w),c.set(b,d+4),d+=4+w}if(h.setUint32(Nt.#a,d-Nt.#a-4),!n)h.setUint32(d,0),d+=4;else{const v=n.byteLength;h.setUint32(d,v),dt(d+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),d+4),d+=4+v}if(!r)h.setUint32(d,0),d+=4;else{const v=r.byteLength;h.setUint32(d,v),dt(d+4+v<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),d+4),d+=4+v}return e.data===void 0?(h.setUint32(d,0),d+=4):(h.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),dt(d<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(d)}}class Ln{static#e=0;static#t=1;static#r=2;static#n=3;static#a=4;static#s=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const h=Math.floor(i.length/2),d=Math.floor(s.length/3),m=a.length,g=o.length;let x=0;for(const P of o)x+=1,x=Math.ceil(x/4)*4,x+=4+P.coords.length*4,x+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(x+=4);const v=20+h*8+d*3+m*8+(r?16:0)+(c?3:0)+x,b=new ArrayBuffer(v),w=new DataView(b),_=new Uint8Array(b);w.setUint8(Ln.#e,n),w.setUint8(Ln.#t,r?1:0),w.setUint8(Ln.#r,c?1:0),w.setUint8(Ln.#n,l),w.setUint32(Ln.#a,h,!0),w.setUint32(Ln.#s,d,!0),w.setUint32(Ln.#i,m,!0),w.setUint32(Ln.#o,g,!0);let A=20;new Float32Array(b,A,h*2).set(i),A+=h*8,_.set(s,A),A+=d*3;for(const[P,E]of a)w.setFloat32(A,P,!0),A+=4,w.setUint32(A,parseInt(E.slice(1),16),!0),A+=4;if(r)for(const P of r)w.setFloat32(A,P,!0),A+=4;c&&(_.set(c,A),A+=3);for(let P=0;P<o.length;P++){const E=o[P];w.setUint8(A,E.type),A+=1,A=Math.ceil(A/4)*4,w.setUint32(A,E.coords.length,!0),A+=4,new Int32Array(b,A,E.coords.length).set(E.coords),A+=E.coords.length*4,w.setUint32(A,E.colors.length,!0),A+=4,new Int32Array(b,A,E.colors.length).set(E.colors),A+=E.colors.length*4,E.verticesPerRow!==void 0&&(w.setUint32(A,E.verticesPerRow,!0),A+=4)}return b}getIR(){const e=this.view,n=this.data[Ln.#e],r=!!this.data[Ln.#t],i=!!this.data[Ln.#r],s=e.getUint32(Ln.#a,!0),a=e.getUint32(Ln.#s,!0),o=e.getUint32(Ln.#i,!0),l=e.getUint32(Ln.#o,!0);let c=20;const h=new Float32Array(this.buffer,c,s*2);c+=s*8;const d=new Uint8Array(this.buffer,c,a*3);c+=a*3;const m=[];for(let b=0;b<o;++b){const w=e.getFloat32(c,!0);c+=4;const _=e.getUint32(c,!0);c+=4,m.push([w,`#${_.toString(16).padStart(6,"0")}`])}let g=null;if(r){g=[];for(let b=0;b<4;++b)g.push(e.getFloat32(c,!0)),c+=4}let x=null;i&&(x=new Uint8Array(this.buffer,c,3),c+=3);const v=[];for(let b=0;b<l;++b){const w=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const _=e.getUint32(c,!0);c+=4;const A=new Int32Array(this.buffer,c,_);c+=_*4;const T=e.getUint32(c,!0);c+=4;const P=new Int32Array(this.buffer,c,T);c+=T*4;const E={type:w,coords:A,colors:P};w===BA.LATTICE&&(E.verticesPerRow=e.getUint32(c,!0),c+=4),v.push(E)}if(n===1)return["RadialAxial","axial",g,m,Array.from(h.slice(0,2)),Array.from(h.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",g,m,[h[0],h[1]],[h[3],h[4]],h[2],h[5]];if(n===3){const b=this.data[Ln.#n];let w=null;if(h.length>0){let _=h[0],A=h[0],T=h[1],P=h[1];for(let E=0;E<h.length;E+=2){const k=h[E],O=h[E+1];_=_>k?k:_,T=T>O?O:T,A=A<k?k:A,P=P<O?O:P}w=[_,T,A,P]}return["Mesh",b,h,d,v,w,g,x]}throw new Error(`Unsupported pattern kind: ${n}`)}}function que(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(br)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Gue(t){if(br&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return zf(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Om(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const qA=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,Kue=t=>typeof t=="object"&&typeof t?.name=="string",Yue=Tue.bind(null,qA,Kue);class Xue{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Xe("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Mm={DATA:1,ERROR:2},vn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function UM(){}function Dr(t){if(t instanceof lo||t instanceof UA||t instanceof MM||t instanceof Rg||t instanceof B0)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Mt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new lo(t.message);case"InvalidPDFException":return new UA(t.message);case"PasswordException":return new MM(t.message,t.code);case"ResponseException":return new Rg(t.message,t.status,t.missing);case"UnknownErrorException":return new B0(t.message,t.details)}return new B0(t.message,t.toString())}class Xd{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===Mm.DATA)i.resolve(e.data);else if(e.callback===Mm.ERROR)i.reject(Dr(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:Mm.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:Mm.ERROR,callbackId:e.callbackId,reason:Dr(a)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:vn.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{dt(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:vn.CANCEL,streamId:s,reason:Dr(c)}),h.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,h=1,d){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=h,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:vn.ENQUEUE,streamId:n,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:vn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){dt(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:vn.ERROR,streamId:n,reason:Dr(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:vn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:vn.START_COMPLETE,streamId:n,reason:Dr(c)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case vn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Dr(e.reason));break;case vn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Dr(e.reason));break;case vn.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:vn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||UM).then(function(){s.postMessage({sourceName:r,targetName:i,stream:vn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:vn.PULL_COMPLETE,streamId:n,reason:Dr(c)})});break;case vn.ENQUEUE:if(dt(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case vn.CLOSE:if(dt(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,n);break;case vn.ERROR:dt(a,"error should have stream controller"),a.controller.error(Dr(e.reason)),this.#a(a,n);break;case vn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Dr(e.reason)),this.#a(a,n);break;case vn.CANCEL:if(!o)break;const l=Dr(e.reason);Promise.try(o.onCancel||UM,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:vn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:vn.CANCEL_COMPLETE,streamId:n,reason:Dr(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class HV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Mt("Abstract method `_createCanvas` called.")}}class Que extends HV{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class qV{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Mt("Abstract method `_fetch` called.")}}class zM extends qV{async _fetch(e){const n=await Vf(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):zf(n)}}class GV{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}class Zue extends GV{#e;#t;#r;#n;#a;#s;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#a=n}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#r){const e=this.#a.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#a.createElementNS(Xs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#a.createElementNS(Xs,"defs"),e.append(r),r.append(this.#r),this.#a.body.append(e)}return this.#r}#h(e){if(e.length===1){const l=e[0],c=new Array(256);for(let d=0;d<256;d++)c[d]=l[d]/255;const h=c.join(",");return[h,h,h]}const[n,r,i]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=n[l]/255,a[l]=r[l]/255,o[l]=i[l]/255;return[s.join(","),a.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#a.URL;n!==this.#a.baseURI&&(_y(n)?Xe('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=RV(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const o=`g_${this.#n}_transfer_map_${this.#i++}`,l=this.#d(o);this.#o.set(e,l),this.#o.set(a,l);const c=this.#m(o);return this.#p(r,i,s,c),l}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let s=this.#c.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#c.set(i,s)),!e||!n))return s.url;const a=this.#b(e);e=Ce.makeHexColor(...a);const o=this.#b(n);if(n=Ce.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const l=new Array(256);for(let g=0;g<=255;g++){const x=g/255;l[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=l.join(","),h=`g_${this.#n}_hcm_filter`,d=s.filter=this.#m(h);this.#p(c,c,c,d),this.#g(d);const m=(g,x)=>{const v=a[g]/255,b=o[g]/255,w=new Array(x+1);for(let _=0;_<=x;_++)w[_]=v+_/x*(b-v);return w.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),d),s.url=this.#d(h),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_alpha_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#v(r,o),a}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_luminosity_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#f(o),e&&this.#v(r,o),a}addHighlightHCMFilter(e,n,r,i,s){const a=`${n}-${r}-${i}-${s}`;let o=this.#c.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(e,o)),!n||!r))return o.url;const[l,c]=[n,r].map(this.#b.bind(this));let h=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[m,g]=[i,s].map(this.#b.bind(this));d<h&&([h,d,m,g]=[d,h,g,m]),this.#l.style.color="";const x=(w,_,A)=>{const T=new Array(256),P=(d-h)/A,E=w/255,k=(_-w)/(255*A);let O=0;for(let D=0;D<=A;D++){const F=Math.round(h+D*P),M=E+D*k;for(let R=O;R<=F;R++)T[R]=M;O=F+1}for(let D=O;D<256;D++)T[D]=T[O-1];return T.join(",")},v=`g_${this.#n}_hcm_${e}_filter`,b=o.filter=this.#m(v);return this.#g(b),this.#p(x(m[0],g[0],5),x(m[1],g[1],5),x(m[2],g[2],5),b),o.url=this.#d(v),o.url}destroy(e=!1){e&&this.#s?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#i=0)}#f(e){const n=this.#a.createElementNS(Xs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#a.createElementNS(Xs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#m(e){const n=this.#a.createElementNS(Xs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#a.createElementNS(Xs,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const s=this.#a.createElementNS(Xs,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",n),this.#u(s,"feFuncB",r)}#v(e,n){const r=this.#a.createElementNS(Xs,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,Hf(getComputedStyle(this.#l).getPropertyValue("color"))}}class KV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Mt("Abstract method `_fetch` called.")}}class VM extends KV{async _fetch(e){const n=await Vf(e,"arraybuffer");return new Uint8Array(n)}}class YV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Mt("Abstract method `_fetch` called.")}}class WM extends YV{async _fetch(e){const n=await Vf(e,"arraybuffer");return new Uint8Array(n)}}br&&Xe("Please use the `legacy` build in Node.js environments.");async function tj(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class Jue extends GV{}class ede extends HV{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class tde extends qV{async _fetch(e){return tj(e)}}class nde extends KV{async _fetch(e){return tj(e)}}class rde extends YV{async _fetch(e){return tj(e)}}const nc="__forcedDependency",{floor:HM,ceil:qM}=Math;function Dm(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const GA=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class ide{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===GA}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Rm=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class sde{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[nc]:[]};#r=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(e,n,r=!1){this.#f=e.width,this.#g=e.height,this.#v(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(GA,n.length)):this.#u.fill(GA)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[nc]:{__proto__:this.#t[nc]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(Rm(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(Rm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const n=this.#a.pop();return n!==void 0&&(Rm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#s.push(Ce.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(nc,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(nc,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=Ce.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ce.axialAlignedBoundingBox([r,s,i,a],o,l);const c=Ce.intersect(this.#i,l);return c?(this.#i[0]=c[0],this.#i[1]=c[1],this.#i[2]=c[2],this.#i[3]=c[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=this.#i;if(o[0]===1/0)return this;const l=Ce.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform());if(o[0]===-1/0)return Ce.axialAlignedBoundingBox([r,s,i,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return Ce.axialAlignedBoundingBox([r,s,i,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,h;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(r),c!==!1&&(h=[0,0,0,0],Ce.axialAlignedBoundingBox(l,r.fontMatrix,h),(i!==1||s!==0||a!==0)&&Ce.scaleMinMax([i,0,0,-i,s,a],h),c)))return this.recordBBox(e,n,h[0],h[2],h[1],h[3]);if(!o)return this.recordFullPageBBox(e);const d=o();return l&&h&&c===void 0&&(c=h[0]<=s-d.actualBoundingBoxLeft&&h[2]>=s+d.actualBoundingBoxRight&&h[1]<=a-d.actualBoundingBoxAscent&&h[3]>=a+d.actualBoundingBoxDescent,this.#d.set(r,c),c)?this.recordBBox(e,n,h[0],h[2],h[1],h[3]):this.recordBBox(e,n,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,a-d.actualBoundingBoxAscent,a+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,s=this.#t;for(const a of n)a in this.#e?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[nc]),this.#p){const r=Rm(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=HM(this.#o[0]*256/this.#f),i=HM(this.#o[1]*256/this.#g),s=qM(this.#o[2]*256/this.#f),a=qM(this.#o[3]*256/this.#g);Dm(this.#m,e,r,i,s,a);for(const o of this.#l)o!==e&&Dm(this.#m,o,r,i,s,a);for(const o of this.#n)o!==e&&Dm(this.#m,o,r,i,s,a);for(const o of this.#a)o!==e&&Dm(this.#m,o,r,i,s,a);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new ide(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Ig{#e;#t;#r;#n=0;#a=0;constructor(e,n,r){if(e instanceof Ig&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,s,a){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return this.#r||this.#e.recordBBox(this.#t,n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,s,a,o),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const yi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},ir={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function KA(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class nj{isModifyingCurrentTransform(){return!1}getPattern(){Mt("Abstract method `getPattern` called.")}}class ade extends nj{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===ir.STROKE||i===ir.FILL){const a=n.current.getClippedPathBoundingBox(i,Xt(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),r=Ce.transform(r,[1,0,0,1,a[0],a[1]]),h.transform(...n.baseTransform),this.matrix&&h.transform(...this.matrix),KA(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(r);s.setTransform(d)}else KA(e,this._bbox),s=this._createGradient(e);return s}}function V0(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,h=t.data,d=t.width*4;let m;l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=a,a=o,o=m),l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m);const g=(l[n]+e.offsetX)*e.scaleX,x=(l[n+1]+e.offsetY)*e.scaleY,v=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,_=(l[i+1]+e.offsetY)*e.scaleY;if(x>=_)return;const A=c[s],T=c[s+1],P=c[s+2],E=c[a],k=c[a+1],O=c[a+2],D=c[o],F=c[o+1],M=c[o+2],R=Math.round(x),$=Math.round(_);let H,G,V,B,L,W,X,U;for(let K=R;K<=$;K++){if(K<b){const te=K<x?0:(x-K)/(x-b);H=g-(g-v)*te,G=A-(A-E)*te,V=T-(T-k)*te,B=P-(P-O)*te}else{let te;K>_?te=1:b===_?te=0:te=(b-K)/(b-_),H=v-(v-w)*te,G=E-(E-D)*te,V=k-(k-F)*te,B=O-(O-M)*te}let Z;K<x?Z=0:K>_?Z=1:Z=(x-K)/(x-_),L=g-(g-w)*Z,W=A-(A-D)*Z,X=T-(T-F)*Z,U=P-(P-M)*Z;const se=Math.round(Math.min(H,L)),oe=Math.round(Math.max(H,L));let pe=d*K+se*4;for(let te=se;te<=oe;te++)Z=(H-te)/(H-L),Z<0?Z=0:Z>1&&(Z=1),h[pe++]=G-(G-W)*Z|0,h[pe++]=V-(V-X)*Z|0,h[pe++]=B-(B-U)*Z|0,h[pe++]=255}}function ode(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case BA.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let h=s*o;for(let d=0;d<c;d++,h++)V0(t,n,r[h],r[h+1],r[h+o],i[h],i[h+1],i[h+o]),V0(t,n,r[h+o+1],r[h+1],r[h+o],i[h+o+1],i[h+1],i[h+o])}break;case BA.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)V0(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class lde extends nj{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),g=c/d,x=h/m,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/x},b=d+4,w=m+4,_=r.getCanvas("mesh",b,w),A=_.context,T=A.createImageData(d,m);if(n){const E=T.data;for(let k=0,O=E.length;k<O;k+=4)E[k]=n[0],E[k+1]=n[1],E[k+2]=n[2],E[k+3]=255}for(const E of this._figures)ode(T,E,v);return A.putImageData(T,2,2),{canvas:_.canvas,offsetX:o-2*g,offsetY:l-2*x,scaleX:g,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){KA(e,this._bbox);const s=new Float32Array(2);if(i===ir.SHADING)Ce.singularValueDecompose2dScale(Xt(e),s);else if(this.matrix){Ce.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ce.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else Ce.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===ir.SHADING?null:this._background,n.cachedCanvases);return i!==ir.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class cde extends nj{getPattern(){return"hotpink"}}function ude(t){switch(t[0]){case"RadialAxial":return new ade(t);case"Mesh":return new lde(t);case"Dummy":return new cde}throw new Error(`Unknown IR type: ${t[0]}`)}const GM={COLORED:1,UNCOLORED:2};class rj{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),Sy("TilingType: "+a);const d=r[0],m=r[1],g=r[2],x=r[3],v=g-d,b=x-m,w=new Float32Array(2);Ce.singularValueDecompose2dScale(this.matrix,w);const[_,A]=w;Ce.singularValueDecompose2dScale(this.baseTransform,w);const T=_*w[0],P=A*w[1];let E=v,k=b,O=!1,D=!1;const F=Math.ceil(c*T),M=Math.ceil(h*P),R=Math.ceil(v*T),$=Math.ceil(b*P);F>=R?E=c:O=!0,M>=$?k=h:D=!0;const H=this.getSizeAndScale(E,this.ctx.canvas.width,T),G=this.getSizeAndScale(k,this.ctx.canvas.height,P),V=e.cachedCanvases.getCanvas("pattern",H.size,G.size),B=V.context,L=l.createCanvasGraphics(B,n);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,s,o),B.translate(-H.scale*d,-G.scale*m),L.transform(0,H.scale,0,0,G.scale,0,0),B.save(),L.dependencyTracker?.save(),this.clipBbox(L,d,m,g,x),L.baseTransform=Xt(L.ctx),L.executeOperatorList(i),L.endDrawing(),L.dependencyTracker?.restore(),B.restore(),O||D){const W=V.canvas;O&&(E=c),D&&(k=h);const X=this.getSizeAndScale(E,this.ctx.canvas.width,T),U=this.getSizeAndScale(k,this.ctx.canvas.height,P),K=X.size,Z=U.size,se=e.cachedCanvases.getCanvas("pattern-workaround",K,Z),oe=se.context,pe=O?Math.floor(v/c):0,te=D?Math.floor(b/h):0;for(let le=0;le<=pe;le++)for(let ie=0;ie<=te;ie++)oe.drawImage(W,K*le,Z*ie,K,Z,0,0,K,Z);return{canvas:se.canvas,scaleX:X.scale,scaleY:U.scale,offsetX:d,offsetY:m}}return{canvas:V.canvas,scaleX:H.scale,scaleY:G.scale,offsetX:d,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(rj.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),Ce.axialAlignedBoundingBox([n,r,i,s],Xt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case GM.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case GM.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new _ue(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==ir.SHADING&&(a=Ce.transform(a,n.baseTransform),this.matrix&&(a=Ce.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function dde({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=sr.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],h=r>>3,d=r&7,m=t.length;n=new Uint32Array(n.buffer);let g=0;for(let x=0;x<i;x++){for(const b=e+h;e<b;e++){const w=e<m?t[e]:255;n[g++]=w&128?c:l,n[g++]=w&64?c:l,n[g++]=w&32?c:l,n[g++]=w&16?c:l,n[g++]=w&8?c:l,n[g++]=w&4?c:l,n[g++]=w&2?c:l,n[g++]=w&1?c:l}if(d===0)continue;const v=e<m?t[e++]:255;for(let b=0;b<d;b++)n[g++]=v&1<<7-b?c:l}return{srcPos:e,destPos:g}}const KM=16,YM=100,hde=15,XM=10,Ir=16,W0=new DOMMatrix,Qr=new Float32Array(2),vc=new Float32Array([1/0,1/0,-1/0,-1/0]);function fde(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class pde{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Im(t,e,n,r,i,s,a,o,l,c){const[h,d,m,g,x,v]=Xt(t);if(d===0&&m===0){const _=a*h+x,A=Math.round(_),T=o*g+v,P=Math.round(T),E=(a+l)*h+x,k=Math.abs(Math.round(E)-A)||1,O=(o+c)*g+v,D=Math.abs(Math.round(O)-P)||1;return t.setTransform(Math.sign(h),0,0,Math.sign(g),A,P),t.drawImage(e,n,r,i,s,0,0,k,D),t.setTransform(h,d,m,g,x,v),[k,D]}if(h===0&&g===0){const _=o*m+x,A=Math.round(_),T=a*d+v,P=Math.round(T),E=(o+c)*m+x,k=Math.abs(Math.round(E)-A)||1,O=(a+l)*d+v,D=Math.abs(Math.round(O)-P)||1;return t.setTransform(0,Math.sign(d),Math.sign(m),0,A,P),t.drawImage(e,n,r,i,s,0,0,D,k),t.setTransform(h,d,m,g,x,v),[D,k]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(h,d),w=Math.hypot(m,g);return[b*l,w*c]}class QM{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=$A;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Zn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=vc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=ir.FILL,n=null){const r=this.minMax.slice();if(e===ir.STROKE){n||Mt("Stroke bounding box must include transform."),Ce.singularValueDecompose2dScale(n,Qr);const i=Qr[0]*this.lineWidth/2,s=Qr[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ce.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(vc,0)}getClippedPathBoundingBox(e=ir.FILL,n=null){return Ce.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function ZM(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Ir,s=(n-i)/Ir,a=i===0?s:s+1,o=t.createImageData(r,Ir);let l=0,c;const h=e.data,d=o.data;let m,g,x,v;if(e.kind===lg.GRAYSCALE_1BPP){const b=h.byteLength,w=new Uint32Array(d.buffer,0,d.byteLength>>2),_=w.length,A=r+7>>3,T=4294967295,P=sr.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(x=m<s?Ir:i,c=0,g=0;g<x;g++){const E=b-l;let k=0;const O=E>A?r:E*8-7,D=O&-8;let F=0,M=0;for(;k<D;k+=8)M=h[l++],w[c++]=M&128?T:P,w[c++]=M&64?T:P,w[c++]=M&32?T:P,w[c++]=M&16?T:P,w[c++]=M&8?T:P,w[c++]=M&4?T:P,w[c++]=M&2?T:P,w[c++]=M&1?T:P;for(;k<O;k++)F===0&&(M=h[l++],F=128),w[c++]=M&F?T:P,F>>=1}for(;c<_;)w[c++]=0;t.putImageData(o,0,m*Ir)}}else if(e.kind===lg.RGBA_32BPP){for(g=0,v=r*Ir*4,m=0;m<s;m++)d.set(h.subarray(l,l+v)),l+=v,t.putImageData(o,0,g),g+=Ir;m<a&&(v=r*i*4,d.set(h.subarray(l,l+v)),t.putImageData(o,0,g))}else if(e.kind===lg.RGB_24BPP)for(x=Ir,v=r*x,m=0;m<a;m++){for(m>=s&&(x=i,v=r*x),c=0,g=v;g--;)d[c++]=h[l++],d[c++]=h[l++],d[c++]=h[l++],d[c++]=255;t.putImageData(o,0,m*Ir)}else throw new Error(`bad image kind: ${e.kind}`)}function JM(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Ir,s=(n-i)/Ir,a=i===0?s:s+1,o=t.createImageData(r,Ir);let l=0;const c=e.data,h=o.data;for(let d=0;d<a;d++){const m=d<s?Ir:i;({srcPos:l}=dde({src:c,srcPos:l,dest:h,width:r,height:m,nonBlackColor:0})),t.putImageData(o,0,d*Ir)}}function Dd(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Lm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function eD(t,e){if(e)return!0;Ce.singularValueDecompose2dScale(t,Qr);const n=Math.fround(Ts.pixelRatio*Kc.PDF_TO_CSS_UNITS);return Qr[0]<=n&&Qr[1]<=n}const mde=["butt","round","square"],gde=["miter","round","bevel"],vde={},tD={};class Tc{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,h){this.ctx=e,this.current=new QM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new pde(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Xt(this.compositeCtx))}this.ctx.save(),Lm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Xt(this.ctx)}executeOperatorList(e,n,r,i,s){const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const h=c-l>XM&&typeof r=="function",d=h?Date.now()+hde:0;let m=0;const g=this.commonObjs,x=this.objs;let v,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(v=o[l],b=a[l]??null,v!==Ih.dependency)b===null?this[v](l):this[v](l,...b);else for(const w of b){this.dependencyTracker?.recordNamedData(w,l);const _=w.startsWith("g_")?g:x;if(!_.has(w))return _.get(w,r),l}if(l++,l===c)return l;if(h&&++m>XM){if(Date.now()>d)return r(),l;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",h,d;for(;s>2&&o>1||a>2&&l>1;){let m=o,g=l;s>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/m),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),h=this.cachedCanvases.getCanvas(c,m,g),d=h.context,d.clearRect(0,0,m,g),d.drawImage(e,0,0,o,l,0,0,m,g),e=h.canvas,o=m,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=Xt(r);let c,h,d,m;if((n.bitmap||n.data)&&n.count>1){const F=n.bitmap||n.data.buffer;h=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(F),c||(c=new Map,this._cachedBitmapsMap.set(F,c));const M=c.get(h);if(M&&!o){const R=Math.round(Math.min(l[0],l[2])+l[4]),$=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,yi.transformAndFill),{canvas:M,offsetX:R,offsetY:$}}d=M}d||(m=this.cachedCanvases.getCanvas("maskCanvas",i,s),JM(m.context,n));let g=Ce.transform(l,[1/i,0,0,-1/s,0,0]);g=Ce.transform(g,[1,0,0,1,0,-s]);const x=vc.slice();Ce.axialAlignedBoundingBox([0,0,i,s],g,x);const[v,b,w,_]=x,A=Math.round(w-v)||1,T=Math.round(_-b)||1,P=this.cachedCanvases.getCanvas("fillCanvas",A,T),E=P.context,k=v,O=b;E.translate(-k,-O),E.transform(...g),d||(d=this._scaleImage(m.canvas,ds(E)),d=d.img,c&&o&&c.set(h,d)),E.imageSmoothingEnabled=eD(Xt(E),n.interpolate),Im(E,d,0,0,d.width,d.height,0,0,i,s),E.globalCompositeOperation="source-in";const D=Ce.transform(ds(E),[1,0,0,1,-k,-O]);return E.fillStyle=o?a.getPattern(r,this,D,ir.FILL,e):a,E.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,P.canvas)),this.dependencyTracker?.recordDependencies(e,yi.transformAndFill),{canvas:P.canvas,offsetX:Math.round(k),offsetY:Math.round(O)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=mde[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=gde[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),Dd(this.suspendedCtx,a),fde(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Dd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,h,d){let m=e.canvas,g=l-h,x=c-d;if(a)if(g<0||x<0||g+r>m.width||x+i>m.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),w=b.context;w.drawImage(m,-g,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,r,i),w.globalCompositeOperation="source-over",m=b.canvas,g=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(g,x,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(g,x,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,c,r,i),n.clip(v),n.globalCompositeOperation="destination-in",n.drawImage(m,g,x,r,i,l,c,r,i),n.restore()}save(e){this.inSMaskMode&&Dd(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Dd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||=r[0]=new Path2D,this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===Ih.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=UV(s)),Ce.axialAlignedBoundingBox(i,Xt(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,ds(i),ir.STROKE,e),a){const o=new Path2D;o.addPath(n,i.getTransform().invertSelf().multiplySelf(a)),n=o}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,yi.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(ir.STROKE,Xt(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,ds(i),ir.FILL,e),c){const h=new Path2D;h.addPath(n,i.getTransform().invertSelf().multiplySelf(c)),n=h}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,yi.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,yi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=vde}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=tD}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:h}of n)h&&i.addPath(h,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||$A,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Xe("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let h=r;r<KM?h=KM:r>YM&&(h=YM),this.current.fontSizeScale=r/h,this.ctx.font=`${c} ${l} ${h}px ${o}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,s,a){const o=this.ctx,l=this.current,c=l.font,h=l.textRenderingMode,d=l.fontSize/l.fontSizeScale,m=h&Zn.FILL_STROKE_MASK,g=!!(h&Zn.ADD_TO_PATH_FLAG),x=l.patternFill&&!c.missingFile,v=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||g||x||v)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||x||v)){o.save(),o.translate(r,i),o.scale(d,-d),this.dependencyTracker?.recordCharacterBBox(e,o,c);let w;if(m===Zn.FILL||m===Zn.FILL_STROKE)if(s){w=o.getTransform(),o.setTransform(...s);const _=this.#r(b,w,s);o.fill(_)}else o.fill(b);if(m===Zn.STROKE||m===Zn.FILL_STROKE)if(a){w||=o.getTransform(),o.setTransform(...a);const{a:_,b:A,c:T,d:P}=w,E=Ce.inverseTransform(a),k=Ce.transform([_,A,T,P,0,0],E);Ce.singularValueDecompose2dScale(k,Qr),o.lineWidth*=Math.max(Qr[0],Qr[1])/d,o.stroke(this.#r(b,w,a))}else o.lineWidth/=d,o.stroke(b);o.restore()}else(m===Zn.FILL||m===Zn.FILL_STROKE)&&(o.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n))),(m===Zn.STROKE||m===Zn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i,()=>o.measureText(n)).recordDependencies(e,yi.stroke),o.strokeText(n,r,i));g&&((this.pendingTextPaths||=[]).push({transform:Xt(o),x:r,y:i,fontSize:d,path:b}),this.dependencyTracker?.recordCharacterBBox(e,o,c,d,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return nt(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,yi.showText).resetBBox(e),this.current.textRenderingMode&Zn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,h=r.fontDirection,d=r.textHScale*h,m=n.length,g=i.vertical,x=g?1:-1,v=i.defaultVMetrics,b=s*r.fontMatrix[0],w=r.textRenderingMode===Zn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),h>0?a.scale(d,-1):a.scale(d,1);let _,A;if(r.patternFill){a.save();const O=r.fillColor.getPattern(a,this,ds(a),ir.FILL,e);_=Xt(a),a.restore(),a.fillStyle=O}if(r.patternStroke){a.save();const O=r.strokeColor.getPattern(a,this,ds(a),ir.STROKE,e);A=Xt(a),a.restore(),a.strokeStyle=O}let T=r.lineWidth;const P=r.textMatrixScale;if(P===0||T===0){const O=r.textRenderingMode&Zn.FILL_STROKE_MASK;(O===Zn.STROKE||O===Zn.FILL_STROKE)&&(T=this.getSinglePixelWidth())}else T/=P;if(o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,i.isInvalidPDFjsFont){const O=[];let D=0;for(const M of n)O.push(M.unicode),D+=M.width;const F=O.join("");if(a.fillText(F,0,0),this.dependencyTracker!==null){const M=a.measureText(F);this.dependencyTracker.recordBBox(e,this.ctx,-M.actualBoundingBoxLeft,M.actualBoundingBoxRight,-M.actualBoundingBoxAscent,M.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=D*b*d,a.restore(),this.compose();return}let E=0,k;for(k=0;k<m;++k){const O=n[k];if(typeof O=="number"){E+=x*O*s/1e3;continue}let D=!1;const F=(O.isSpace?c:0)+l,M=O.fontChar,R=O.accent;let $,H,G=O.width;if(g){const L=O.vmetric||v,W=-(O.vmetric?L[1]:G*.5)*b,X=L[2]*b;G=L?-L[0]:G,$=W/o,H=(E+X)/o}else $=E/o,H=0;let V;if(i.remeasure&&G>0){V=a.measureText(M);const L=V.width*1e3/s*o;if(G<L&&this.isFontSubpixelAAEnabled){const W=G/L;D=!0,a.save(),a.scale(W,1),$/=W}else G!==L&&($+=(G-L)/2e3*s/o)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(w&&!R)a.fillText(M,$,H),this.dependencyTracker?.recordCharacterBBox(e,a,V?{bbox:null}:i,s/o,$,H,()=>V??a.measureText(M));else if(this.paintChar(e,M,$,H,_,A),R){const L=$+s*R.offset.x/o,W=H-s*R.offset.y/o;this.paintChar(e,R.fontChar,L,W,_,A)}}const B=g?G*b-F*h:G*b+F*h;E+=B,D&&a.restore()}g?r.y-=E:r.x+=E*d,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,h=i.wordSpacing,d=i.textHScale*o,m=i.fontMatrix||$A,g=n.length,x=i.textRenderingMode===Zn.INVISIBLE;let v,b,w,_;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(d,o);const A=this.dependencyTracker;for(this.dependencyTracker=A?new Ig(A,e):null,v=0;v<g;++v){if(b=n[v],typeof b=="number"){_=l*b*a/1e3,this.ctx.translate(_,0),i.x+=_*d;continue}const T=(b.isSpace?h:0)+c,P=s.charProcOperatorList[b.operatorListId];P?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...m),this.executeOperatorList(P),this.restore()):Xe(`Type3 character "${b.operatorListId}" is not available.`);const E=[b.width,0];Ce.applyTransform(E,m),w=E[0]*a+T,r.translate(w,0),i.x+=w*d}r.restore(),A&&(this.dependencyTracker=A)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Xt(this.ctx),s={createCanvasGraphics:(a,o)=>new Tc(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Ig(this.dependencyTracker,o,!0):null)};r=new rj(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=ude(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,ds(r),ir.SHADING,e);const s=ds(r);if(s){const{width:a,height:o}=r.canvas,l=vc.slice();Ce.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,h,d,m]=l;this.ctx.fillRect(c,h,d-c,m-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,yi.transform).recordDependencies(e,yi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Mt("Should not call beginInlineImage")}beginImageData(){Mt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Xt(this.ctx),r)){Ce.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,s,a,o]=r,l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||Sy("TODO: Support non-isolated groups."),n.knockout&&Xe("Knockout groups not supported.");const i=Xt(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=vc.slice();Ce.axialAlignedBoundingBox(n.bbox,Xt(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Ce.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),h=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;n.smask&&(d+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(d,c,h),g=m.context;g.translate(-o,-l),g.transform(...i);let x=new Path2D;const[v,b,w,_]=n.bbox;if(x.rect(v,b,w-v,_-b),n.matrix){const A=new Path2D;A.addPath(x,new DOMMatrix(n.matrix)),x=A}g.clip(x),n.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),Dd(r,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Xt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=vc.slice();Ce.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,s,a){if(this.#e(),Lm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Ce.singularValueDecompose2dScale(Xt(this.ctx),Qr);const{viewportScale:c}=this,h=Math.ceil(o*this.outputScaleX*c),d=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Qr[0],0,0,-Qr[1],0,l*Qr[1]),Lm(this.ctx)}else{Lm(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new QM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Xt(l);l.transform(r,i,s,a,0,0);const h=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let d=0,m=o.length;d<m;d+=2){const g=Ce.transform(c,[r,i,s,a,o[d],o[d+1]]);l.drawImage(h.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(e,this.ctx,g[4],g[4]+h.canvas.width,g[5],g[5]+h.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,yi.transformAndFill);for(const a of n){const{data:o,width:l,height:c,transform:h}=a,d=this.cachedCanvases.getCanvas("maskCanvas",l,c),m=d.context;m.save();const g=this.getObject(e,o,a);JM(m,g),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,ds(r),ir.FILL,e):i,m.fillRect(0,0,l,c),m.restore(),r.save(),r.transform(...h),r.scale(1,-1),Im(r,d.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,l,0,c),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Xe("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Xe("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let h=0,d=s.length;h<d;h+=2)c.push({transform:[r,0,0,i,s[h],s[h+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",r,i).context;ZM(h,n),o=this.applyTransferMapsToCanvas(h)}const l=this._scaleImage(o,ds(s));s.imageSmoothingEnabled=eD(Xt(s),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,yi.imageXObject).recordOperation(e),Im(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const a=n.width,o=n.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;ZM(c,n),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(const a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),Im(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,yi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===tD?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Xt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/c;else{const h=l*e,d=c*e;a=h<1?1/h:1,o=d<1?1/d:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),h=Math.hypot(i,s);if(e===0)a=h/l,o=c/l;else{const d=e*l;a=h>d?h/d:1,o=c>d?c/d:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),W0.a=1/s,W0.d=1/a;const l=new Path2D;if(l.addPath(e,W0),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(h=>h/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in Ih)Tc.prototype[t]!==void 0&&(Tc.prototype[Ih[t]]=Tc.prototype[t]);class kc{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class yde{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const cc=Symbol("INTERNAL");class bde{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&Yr.DISPLAY),this.#t=!!(e&Yr.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==cc&&Mt("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class xde{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=Yr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new bde(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(cc,!1);for(const r of e.on)this.#t.get(r)._setVisible(cc,!0);for(const r of e.off)this.#t.get(r)._setVisible(cc,!1);this.#r=this.getHash()}}#a(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#a(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return Xe(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return Sy("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Xe(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return Xe(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return Xe(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return Xe(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return Xe(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return Xe(`Unknown optional content policy ${e.policy}.`),!0}return Xe(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){Xe(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(cc,!1,!0);i._setVisible(cc,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new VV;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class wde{constructor(e,{disableRange:n=!1,disableStream:r=!1}){dt(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});dt(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){dt(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new Sde(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new _de(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class Sde{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=QE(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class _de{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Ade(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let h=o(n);return h=unescape(h),h=l(h),h=c(h),s(h)}if(n=a(t),n){const h=c(n);return s(h)}if(n=r("filename","i").exec(t),n){n=n[1];let h=o(n);return h=c(h),s(h)}function r(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function i(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const m=new TextDecoder(h,{fatal:!0}),g=zf(d);d=m.decode(g),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const d=[];let m;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(h))!==null;){let[,v,b,w]=m;if(v=parseInt(v,10),v in d){if(v===0)break;continue}d[v]=[b,w]}const x=[];for(let v=0;v<d.length&&v in d;++v){let[b,w]=d[v];w=o(w),b&&(w=unescape(w),v===0&&(w=l(w))),x.push(w)}return x.join("")}function o(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let m=0;m<d.length;++m){const g=d[m].indexOf('"');g!==-1&&(d[m]=d[m].slice(0,g),d.length=m+1),d[m]=d[m].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function l(h){const d=h.indexOf("'");if(d===-1)return h;const m=h.slice(0,d),x=h.slice(d+1).replace(/^[^']*'/,"");return i(m,x)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,m,g,x){if(g==="q"||g==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(m,x);try{x=atob(x)}catch{}return i(m,x)})}return""}function XV(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function Cy(t){return URL.parse(t)?.origin??null}function QV({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function ZV(t){const e=t.get("Content-Disposition");if(e){let n=Ade(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(QE(n))return n}return null}function Gf(t,e){return new Rg(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function JV(t){return t===200||t===206}function e6(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function t6(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Xe(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Cde{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=XV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dt(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new Pde(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Ede(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Pde{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,e6(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Cy(s.url),!JV(s.status))throw Gf(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=QV({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=ZV(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new lo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:t6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Ede{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,e6(s,this._withCredentials,this._abortController)).then(o=>{const l=Cy(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!JV(o.status))throw Gf(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:t6(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const H0=200,q0=206;function jde(t){const e=t.response;return typeof e!="string"?e:zf(e).buffer}class Tde{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=XV(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=q0):i.expectedStatus=H0,n.responseType="arraybuffer",dt(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||H0;if(!(s===H0&&r.expectedStatus===q0)&&s!==r.expectedStatus){r.onError(i.status);return}const o=jde(i);if(s===q0){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(Xe('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class kde{constructor(e){this._source=e,this._manager=new Tde(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return dt(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Nde(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Ode(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Nde{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=Cy(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=QV({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=ZV(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Gf(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Ode{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Cy(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Gf(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Mde=/^[a-z][a-z0-9\-+.]+:/i;function Dde(t){if(Mde.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class Rde{constructor(e){this.source=e,this.url=Dde(e.url),dt(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return dt(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Ide(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Lde(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Ide{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Gf(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new lo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Lde{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Rd=Symbol("INITIAL_DATA");class n6{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:Rd}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===Rd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==Rd}delete(e){const n=this.#e[e];return!n||n.data===Rd?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==Rd&&(yield[e,n])}}}const Fde=1e5,nD=30;class yr{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#i=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#_=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ts.pixelRatio,this.#h=r.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;this.#v=[1,0,0,-1,-a,o+s],this.#o=i,this.#i=s,yr.#T(),ul(n,r),this.#e.promise.finally(()=>{yr.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=sr.platform;return nt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#a??=n.lang,Object.assign(this.#f,n.styles),this.#E(n.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),yr.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ts.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,ul(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const s={div:null,properties:null,ctx:yr.#k(this.#a)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#A(s)}}cancel(){const e=new lo("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#E(e){if(this.#r)return;this.#s.ctx??=yr.#k(this.#a);const n=this.#u,r=this.#g;for(const i of e){if(n.length>Fde){Xe("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=Ce.transform(this.#v,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#n&&a.fontSubstitution||a.fontFamily;o=yr.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*yr.#L(o,a,this.#a);let h,d;s===0?(h=i[4],d=i[5]-c):(h=i[4]+c*Math.sin(s),d=i[5]-c*Math.cos(s));const m="calc(var(--total-scale-factor) *",g=n.style;this.#t===this.#l?(g.left=`${(100*h/this.#o).toFixed(2)}%`,g.top=`${(100*d/this.#i).toFixed(2)}%`):(g.left=`${m}${h.toFixed(2)}px)`,g.top=`${m}${d.toFixed(2)}px)`),g.fontSize=`${m}${(yr.#_*l).toFixed(2)}px)`,g.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);v!==b&&Math.max(v,b)/Math.min(v,b)>1.5&&(x=!0)}if(x&&(r.canvasWidth=a.vertical?e.height:e.width),this.#p.set(n,r),this.#s.div=n,this.#s.properties=r,this.#A(this.#s),r.hasText&&this.#t.append(n),r.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),this.#t.append(v)}}#A(e){const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(yr.#_>1&&(a=`scale(${1/yr.#_})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=r;yr.#j(i,c*this.#d,o);const{width:h}=i.measureText(n.textContent);h>0&&(a=`scaleX(${l*this.#d/h}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#k(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#C.set(n,{size:0,family:""})}return n}static#j(e,n,r){const i=this.#C.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#T(){if(this.#_!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#_=e.getBoundingClientRect().height,e.remove()}static#L(e,n,r){const i=this.#b.get(e);if(i)return i;const s=this.#k(r);s.canvas.width=s.canvas.height=nD,this.#j(s,nD,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(sr.platform.isFirefox&&Xe("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),this.#b.set(e,c),c}}const $de=100;function r6(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new ij,{docId:n}=e,r=t.url?que(t.url):null,i=t.data?Gue(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof i6?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let h=t.worker instanceof er?t.worker:null;const d=t.verbosity,m=typeof t.docBaseUrl=="string"&&!_y(t.docBaseUrl)?t.docBaseUrl:null,g=Om(t.cMapUrl),x=t.cMapPacked!==!1,v=t.CMapReaderFactory||(br?tde:zM),b=Om(t.iccUrl),w=Om(t.standardFontDataUrl),_=t.StandardFontDataFactory||(br?nde:VM),A=Om(t.wasmUrl),T=t.WasmFactory||(br?rde:WM),P=t.stopAtErrors!==!0,E=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!br,D=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!br&&(sr.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,M=typeof t.disableFontFace=="boolean"?t.disableFontFace:br,R=t.fontExtraProperties===!0,$=t.enableXfa===!0,H=t.ownerDocument||globalThis.document,G=t.disableRange===!0,V=t.disableStream===!0,B=t.disableAutoFetch===!0,L=t.pdfBug===!0,W=t.CanvasFactory||(br?ede:Que),X=t.FilterFactory||(br?Jue:Zue),U=t.enableHWA===!0,K=t.useWasm!==!1,Z=l?l.length:t.length??NaN,se=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!br&&!M,oe=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(v===zM&&_===VM&&T===WM&&g&&w&&A&&Yd(g,document.baseURI)&&Yd(w,document.baseURI)&&Yd(A,document.baseURI)),pe=null;xue(d);const te={canvasFactory:new W({ownerDocument:H,enableHWA:U}),filterFactory:new X({docId:n,ownerDocument:H}),cMapReaderFactory:oe?null:new v({baseUrl:g,isCompressed:x}),standardFontDataFactory:oe?null:new _({baseUrl:w}),wasmFactory:oe?null:new T({baseUrl:A})};h||(h=er.create({verbosity:d,port:kc.workerPort}),e._worker=h);const le={docId:n,apiVersion:"5.4.394",data:i,password:o,disableAutoFetch:B,rangeChunkSize:c,length:Z,docBaseUrl:m,enableXfa:$,evaluatorOptions:{maxImageSize:E,disableFontFace:M,ignoreErrors:P,isEvalSupported:k,isOffscreenCanvasSupported:O,isImageDecoderSupported:D,canvasMaxAreaInBytes:F,fontExtraProperties:R,useSystemFonts:se,useWasm:K,useWorkerFetch:oe,cMapUrl:g,iccUrl:b,standardFontDataUrl:w,wasmUrl:A}},ie={ownerDocument:H,pdfBug:L,styleElement:pe,loadingParams:{disableAutoFetch:B,enableXfa:$}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const he=h.messageHandler.sendWithPromise("GetDocRequest",le,i?[i.buffer]:null);let ve;if(l)ve=new wde(l,{disableRange:G,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const re=Yd(r)?Cde:br?Rde:kde;ve=new re({url:r,length:Z,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:G,disableStream:V})}return he.then(re=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const qe=new Xd(n,re,h.port),Ie=new zde(qe,e,ve,ie,te,U);e._transport=Ie,qe.send("Ready",null)})}).catch(e._capability.reject),e}class ij{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${ij.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class i6{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#a=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#a)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Mt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class Bde{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class Ude{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new RM:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new n6,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Wf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return nt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=Xa.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:x=null}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(i,s,d,m),{renderingIntent:b,cacheKey:w}=v;this.#e=!1,l||=this._transport.getOptionalContentConfig(b);let _=this._intentStates.get(w);_||(_=Object.create(null),this._intentStates.set(w,_)),_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null);const A=!!(b&Yr.PRINT);_.displayReadyCapability||(_.displayReadyCapability=Promise.withResolvers(),_.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const T=!!(this._pdfBug&&globalThis.StepperManager?.enabled),P=!this.recordedBBoxes&&(g||T),E=D=>{if(_.renderTasks.delete(k),P){const F=k.gfx?.dependencyTracker.take();F&&(k.stepper&&k.stepper.setOperatorBBoxes(F,k.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=F))}A&&(this.#e=!0),this.#t(),D?(k.capability.reject(D),this._abortOperatorList({intentState:_,reason:D instanceof Error?D:new Error(D)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new yc({callback:E,params:{canvas:n,canvasContext:e,dependencyTracker:P?new sde(n,_.operatorList.length,T):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:_.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!A,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:x});(_.renderTasks||=new Set).add(k);const O=k.task;return Promise.all([_.displayReadyCapability.promise,l]).then(([D,F])=>{if(this.destroyed){E();return}if(this._stats?.time("Rendering"),!(F.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:D,optionalContentConfig:F}),k.operatorListChanged()}).catch(E),O}getOperatorList({intent:e="display",annotationMode:n=Xa.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>Lh.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new RM),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const h=()=>{l.read().then(({value:d,done:m})=>{if(m){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const m of c.renderTasks)m.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof XE){let i=$de;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new lo(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class er{#e=Promise.withResolvers();#t=null;#r=null;#n=null;static#a=0;static#s=!1;static#i=new WeakMap;static{br&&(this.#s=!0,kc.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},this._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},this.fromPort=e=>{if(Mue("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:n=null,verbosity:r=wue()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(er.#i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");er.#i.set(n,this),this.#c(n)}else this.#l()}get promise(){return this.#e.promise}#o(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#r}get messageHandler(){return this.#t}#c(e){this.#r=e,this.#t=new Xd("main","worker",e),this.#t.on("ready",()=>{}),this.#o()}#l(){if(er.#s||er.#d){this.#h();return}let{workerSrc:e}=er;try{er._isSameOrigin(window.location,e)||(e=er._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Xd("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},s=new AbortController;n.addEventListener("error",()=>{this.#n||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this.#t=r,this.#r=n,this.#n=n,this.#o()}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this.#h()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{Sy("The worker has been disabled.")}this.#h()}#h(){er.#s||(Xe("Setting up fake worker."),er.#s=!0),er._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const n=new Xue;this.#r=n;const r=`fake${er.#a++}`,i=new Xd(r+"_worker",r,n);e.setup(i,n),this.#t=new Xd(r,r+"_worker",n),this.#o()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,er.#i.delete(this.#r),this.#r=null,this.#t?.destroy(),this.#t=null}static create(e){const n=this.#i.get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new er(e)}static get workerSrc(){if(kc.workerSrc)return kc.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return nt(this,"_setupFakeWorkerGlobal",(async()=>this.#d?this.#d:(await import(this.workerSrc)).WorkerMessageHandler)())}}class zde{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#a=null;constructor(e,n,r,i,s,a){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new n6,this.fontLoader=new Wue({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return nt(this,"annotationStorage",new ej)}getRenderingIntent(e,n=Xa.ENABLE,r=null,i=!1,s=!1){let a=Yr.DISPLAY,o=HA;switch(e){case"any":a=Yr.ANY;break;case"display":break;case"print":a=Yr.PRINT;break;default:Xe(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Yr.PRINT&&r instanceof WV?r:this.annotationStorage;switch(n){case Xa.DISABLE:a+=Yr.ANNOTATIONS_DISABLE;break;case Xa.ENABLE:break;case Xa.ENABLE_FORMS:a+=Yr.ANNOTATIONS_FORMS;break;case Xa.ENABLE_STORAGE:a+=Yr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Xe(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Yr.IS_EDITING),s&&(a+=Yr.OPLIST);const{ids:c,hash:h}=l.modifiedIds,d=[a,o.hash,h];return{renderingIntent:a,cacheKey:d.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),yr.cleanup(),this._networkStream?.cancelAllRequests(new lo("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{dt(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}dt(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{dt(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}dt(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new Bde(r,this))}),e.on("DocException",r=>{n._capability.reject(Dr(r))}),e.on("PasswordRequest",r=>{this.#a=Promise.withResolvers();try{if(!n.onPassword)throw Dr(r);const i=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};n.onPassword(i,r.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const d=s.error;Xe(`Error during font loading: ${d}`),this.commonObjs.resolve(r,d);break}const a=new Nt(s),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(d,m)=>globalThis.FontInspector.fontAdded(d,m):null,l=new Hue(a,o,s.extra,s.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;dt(c,"The imageRef must be defined.");for(const d of this.#t.values())for(const[,m]of d.objs)if(m?.ref===c)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const h=new Ln(s);this.commonObjs.resolve(r,h.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Xe("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const a=new Ude(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#r.set(n,i),i}getPageIndex(e){return qA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(n=>new xde(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new yde(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),yr.cleanup()}}cachedPageNumber(e){if(!qA(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class Vde{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class yc{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:x=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=d,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Vde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=g,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(yc.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");yc.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Tc(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),yc.#t.delete(this._canvas),e||=new XE(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),yc.#t.delete(this._canvas),this.callback())))}}const Wde="5.4.394",Hde="2cc809ade";class _i{#e=null;#t=null;#r;#n=null;#a=!1;#s=!1;#i=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return nt(this,"_keyboardManager",new qf([[["Escape","mac+Escape"],_i.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],_i.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],_i.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],_i.prototype._moveToPrevious],[["Home","mac+Home"],_i.prototype._moveToBeginning],[["End","mac+End"],_i.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#s=!1,this.#i=e):this.#s=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",_i.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",Mi,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",_i.#h[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#r,s.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:ut.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastChild?.focus()}#g(e){_i._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Fh{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Fh.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Fh.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function rD(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Id(t){return Math.max(0,Math.min(255,255*t))}class iD{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Id(e),[e,e,e]}static G_HTML([e]){const n=rD(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Id)}static RGB_HTML(e){return`#${e.map(rD).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Id(1-Math.min(1,e+i)),Id(1-Math.min(1,r+i)),Id(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class qde{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Mt("Abstract method `_createSVG` called.")}}class Lg extends qde{_createSVG(e){return document.createElementNS(Xs,e)}}const Gde=9,dl=new WeakSet,Kde=new Date().getTimezoneOffset()*60*1e3;class G0{static create(e){switch(e.data.annotationType){case yn.LINK:return new sj(e);case yn.TEXT:return new Xde(e);case yn.WIDGET:switch(e.data.fieldType){case"Tx":return new Qde(e);case"Btn":return e.data.radioButton?new s6(e):e.data.checkBox?new Jde(e):new ehe(e);case"Ch":return new the(e);case"Sig":return new Zde(e)}return new bl(e);case yn.POPUP:return new YA(e);case yn.FREETEXT:return new a6(e);case yn.LINE:return new rhe(e);case yn.SQUARE:return new ihe(e);case yn.CIRCLE:return new she(e);case yn.POLYLINE:return new o6(e);case yn.CARET:return new ohe(e);case yn.INK:return new aj(e);case yn.POLYGON:return new ahe(e);case yn.HIGHLIGHT:return new l6(e);case yn.UNDERLINE:return new lhe(e);case yn.SQUIGGLY:return new che(e);case yn.STRIKEOUT:return new uhe(e);case yn.STAMP:return new c6(e);case yn.FILEATTACHMENT:return new dhe(e);default:return new en(e)}}}class en{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return en._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if(n?.length>=8){for(let o=0;o<n.length;o+=8)n[o+1]>a?(a=n[o+1],s=n[o+2]):n[o+1]===a&&(s=Math.max(s,n[o+2]));return[s,a]}if(r?.length>=1){for(const o of r)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>a?(a=o[l+1],s=o[l]):o[l+1]===a&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Rh}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Rh}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof bl)&&!(this instanceof sj)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof YA){const{rotation:v}=n;return!n.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const v=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(v>0||b>0){const _=`calc(${v}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=_}else if(this instanceof s6){const _=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=_}switch(n.borderStyle.style){case lc.SOLID:a.borderStyle="solid";break;case lc.DASHED:a.borderStyle="dashed";break;case lc.BEVELED:Xe("Unimplemented border style: beveled");break;case lc.INSET:Xe("Unimplemented border style: inset");break;case lc.UNDERLINE:a.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(this.#t=!0,a.borderColor=Ce.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const c=Ce.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:h,pageHeight:d,pageX:m,pageY:g}=i.rawDims;a.left=`${100*(c[0]-m)/h}%`,a.top=`${100*(c[1]-g)/d}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(a.width=`${100*o/h}%`,a.height=`${100*l/d}%`):this.setRotation(x,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=iD[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:iD[`${a}_rgb`](o)})};return nt(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,w,_]=e.subarray(2,6);if(i===v&&s===b&&n===w&&r===_)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const m=h.createElement("defs");d.append(m);const g=h.createElement("clipPath"),x=`clippath_${this.data.id}`;g.setAttribute("id",x),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let v=2,b=e.length;v<b;v+=8){const w=e[v],_=e[v+1],A=e[v+2],T=e[v+3],P=h.createElement("rect"),E=(A-n)/l,k=(s-_)/c,O=(w-A)/l,D=(_-T)/c;P.setAttribute("x",E),P.setAttribute("y",k),P.setAttribute("width",O),P.setAttribute("height",D),g.append(P),o?.push(`<rect vector-effect="non-scaling-stroke" x="${E}" y="${k}" width="${O}" height="${D}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(d),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new YA({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Mt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!dl.has(c)){Xe(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&dl.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class Yde extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class sj extends en{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Xe('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=n,o=[];if(i.length!==0||s.length!==0){const h=new Set(s);for(const d of i){const m=this._fieldObjects[d]||[];for(const{id:g}of m)h.add(g)}for(const d of Object.values(this._fieldObjects))for(const m of d)h.has(m.id)===a&&o.push(m)}else for(const h of Object.values(this._fieldObjects))o.push(...h);const l=this.annotationStorage,c=[];for(const h of o){const{id:d}=h;switch(c.push(d),h.type){case"text":{const g=h.defaultValue||"";l.setValue(d,{value:g});break}case"checkbox":case"radiobutton":{const g=h.defaultValue===h.exportValues;l.setValue(d,{value:g});break}case"combobox":case"listbox":{const g=h.defaultValue||"";l.setValue(d,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${d}"]`);if(m){if(!dl.has(m)){Xe(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class Xde extends en{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class bl extends en{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return sr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,n,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ce.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||Gde,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(c/($0*i))||1,d=c/h;a=Math.min(i,l(d/$0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/$0))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ce.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class Qde extends bl{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",o??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),dl.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:h,timeStep:d}=this.data,m=!!h&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",x=>{e.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",x=>{const v=this.data.defaultFieldValue??"";r.value=l.userValue=v,l.formattedValue=null});let g=x=>{const{formattedValue:v}=l;v!=null&&(x.target.value=v),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",v=>{if(l.focused)return;const{target:b}=v;if(m&&(b.type=h,d&&(b.step=d)),l.userValue){const w=l.userValue;if(m)if(h==="time"){const _=new Date(w),A=[_.getHours(),_.getMinutes(),_.getSeconds()];b.value=A.map(T=>T.toString().padStart(2,"0")).join(":")}else b.value=new Date(w-Kde).toISOString().split(h==="date"?"T":".",1)[0];else b.value=w}l.lastCommittedValue=b.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const b={value(w){l.userValue=w.detail.value??"",m||e.setValue(n,{value:l.userValue.toString()}),w.target.value=l.userValue},formattedValue(w){const{formattedValue:_}=w.detail;l.formattedValue=_,_!=null&&w.target!==document.activeElement&&(w.target.value=_);const A={formattedValue:_};m&&(A.value=_),e.setValue(n,A)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:_}=w.detail,{target:A}=w;if(_===0){A.removeAttribute("maxLength");return}A.setAttribute("maxLength",_);let T=l.userValue;!T||T.length<=_||(T=T.slice(0,_),A.value=l.userValue=T,e.setValue(n,{value:T}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:T,willCommit:!0,commitKey:1,selStart:A.selectionStart,selEnd:A.selectionEnd}}))}};this._dispatchEventFromSandbox(b,v)}),r.addEventListener("keydown",v=>{l.commitKey=1;let b=-1;if(v.key==="Escape"?b=0:v.key==="Enter"&&!this.data.multiLine?b=2:v.key==="Tab"&&(l.commitKey=3),b===-1)return;const{value:w}=v.target;l.lastCommittedValue!==w&&(l.lastCommittedValue=w,l.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const x=g;g=null,r.addEventListener("blur",v=>{if(!l.focused||!v.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:b}=v;let{value:w}=b;if(m){if(w&&h==="time"){const _=w.split(":").map(A=>parseInt(A,10));w=new Date(2e3,0,1,_[0],_[1],_[2]||0).valueOf(),b.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();b.type="text"}l.userValue=w,l.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:l.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),x(v)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",v=>{l.lastCommittedValue=null;const{data:b,target:w}=v,{value:_,selectionStart:A,selectionEnd:T}=w;let P=A,E=T;switch(v.inputType){case"deleteWordBackward":{const k=_.substring(0,A).match(/\w*[^\w]*$/);k&&(P-=k[0].length);break}case"deleteWordForward":{const k=_.substring(A).match(/^[^\w]*\w*/);k&&(E+=k[0].length);break}case"deleteContentBackward":A===T&&(P-=1);break;case"deleteContentForward":A===T&&(E+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,change:b||"",willCommit:!1,selStart:P,selEnd:E}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Zde extends bl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class Jde extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return dl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const h=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class s6 extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(dl.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const h=a===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const m=h&&d.id===r;d.domElement&&(d.domElement.checked=m),e.setValue(d.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class ehe extends sj{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class the extends bl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");dl.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,r.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),i.append(d)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const d=h?"value":"textContent",{options:m,multiple:g}=i;return g?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[d]):m.selectedIndex===-1?null:m[m.selectedIndex][d]};let l=o(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const d={value(m){a?.();const g=m.detail.value,x=new Set(Array.isArray(g)?g:[g]);for(const v of i.options)v.selected=x.has(v.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const g=i.options,x=m.detail.remove;g[x].selected=!1,i.remove(x),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(m){const{index:g,displayValue:x,exportValue:v}=m.detail.insert,b=i.children[g],w=document.createElement("option");w.textContent=x,w.value=v,b?b.before(w):i.append(w),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},items(m){const{items:g}=m.detail;for(;i.length!==0;)i.remove(0);for(const x of g){const{displayValue:v,exportValue:b}=x,w=document.createElement("option");w.textContent=v,w.value=b,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},indices(m){const g=new Set(m.detail.indices);for(const x of m.target.options)x.selected=g.has(x.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(d,h)}),i.addEventListener("input",h=>{const d=o(!0),m=o(!1);e.setValue(n,{value:d}),h.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:m,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class YA extends en{constructor(e){const{data:n,elements:r,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&en._hasPopupData(n)}),this.elements=r,s&&en._hasPopupData(n)){const a=this.popup=this.#e();for(const o of r)o.popup=a}else this.popup=null}#e(){return new nhe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${gc}${i}`).join(",")),this.container}}class nhe{#e=null;#t=this.#W.bind(this);#r=this.#$.bind(this);#n=this.#M.bind(this);#a=this.#S.bind(this);#s=null;#i=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#C=null;#_=null;#w=null;#E=!1;#x=null;#A=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:h,open:d,commentManager:m=null}){this.#i=e,this.#_=i,this.#o=a,this.#C=o,this.#h=l,this.#s=n,this.#y=c,this.#d=h,this.#l=r,this.#e=m,this.#x=r[0],this.#c=zA.toDateObject(s),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup()),m||(this.#k(),this.#i.hidden=!0,d&&this.#S())}#k(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#a,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#j(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#j(),!this.#v)return;const{signal:e}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const o=this.#x.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#T(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}#T(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#L(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(e){e!==this.comment&&(this.#x.commentText=this.#A=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#x.layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;this.#e.showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const r=e.style.outlineColor=Ce.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#_?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#_}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}BV({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#O(){const e=this.#C,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#C.html||null}get#D(){return this.#O?.attributes?.style?.fontSize||0}get#F(){return this.#O?.attributes?.style?.color||null}#R(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#F,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r}#W(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#A=null):n&&(n.deleted?this.remove():(this.#L(),this.#A=n.text)),e&&(this.#v=null,this.#j(),this.#T());return}if(r||n?.deleted){this.remove();return}this.#k(),this.#w||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),n&&n.text&&(this.#C=this.#R(n.text),this.#c=zA.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#C}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#E=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#P(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,o=a?this.#d:this.#y;for(const x of this.#l)if(!o||Ce.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=Ce.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,d=l[0]+h,m=l[1];this.#u=[100*(d-i)/n,100*(m-s)/r];const{style:g}=this.#i;g.left=`${this.#u[0]}%`,g.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#M(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#$(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#P(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#$(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#E&&(this.#g||this.#M(),this.#E=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class a6 extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ze.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class rhe extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ihe extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class she extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class o6 extends en{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!n)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let h=0,d=n.length;h<d;h+=2){const m=n[h]-e[0],g=e[3]-n[h+1];l.push(`${m},${g}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ahe extends o6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class ohe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class aj extends en{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ze.HIGHLIGHT:Ze.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#r(n,e),c=this.svgFactory.create(o,l,!0),h=this.#e=this.svgFactory.createElement("svg:g");c.append(h),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",a);for(let d=0,m=r.length;d<m;d++){const g=this.svgFactory.createElement(this.svgElementName);this.#t.push(g),g.setAttribute("points",r[d].join(",")),h.append(g)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),r)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:o,height:l}=this.#r(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class l6 extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ze.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class lhe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class che extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class uhe extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class c6 extends en{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ze.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class dhe extends en{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=sr.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class oj{#e=null;#t=null;#r=null;#n=new Map;#a=null;#s=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:h}){this.div=e,this.#e=n,this.#t=r,this.#a=o||null,this.#s=c||null,this.#r=h||new ej,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;ul(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Lg,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===yn.POPUP;if(l){const d=i.get(o.id);if(!d)continue;if(!this._commentManager){s.push(o);continue}a.elements=d}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=G0.create(a);if(!c.isRenderable)continue;if(!l&&(this.#i.push(c),o.popupRef)){const d=i.get(o.popupRef);d?d.push(c):i.set(o.popupRef,[c])}const h=c.render();o.hidden&&(h.style.visibility="hidden"),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await this.#c();for(const o of s){const l=a.elements=i.get(o.id);a.data=o;const c=G0.create(a);if(!c.isRenderable)continue;const h=c.render();c.contentElement.id=`${gc}${o.id}`,o.hidden&&(h.style.visibility="hidden"),l.at(-1).container.after(h)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const s=r.id=`${gc}${i}`;e.push(this.#a?.getAriaAttributes(s).then(a=>{if(a)for(const[o,l]of a)r.setAttribute(o,l)}))}}this.#i.sort(({data:{rect:[r,i,s,a]}},{data:{rect:[o,l,c,h]}})=>{if(r===s&&i===a)return 1;if(o===c&&l===h)return-1;const d=a,m=i,g=(i+a)/2,x=h,v=l,b=(l+h)/2;if(g>=x&&b<=m)return-1;if(b>=d&&g<=v)return 1;const w=(r+s)/2,_=(o+c)/2;return w-_});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#s,svgFactory:new Lg,parent:this};for(const r of e){r.borderStyle||=oj._defaultBorderStyle,n.data=r;const i=G0.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${gc}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,ul(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(n);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new Yde({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#r});return s.render(),s.contentElement.id=`${gc}${r}`,s.createOrUpdatePopup(),this.#i.push(s),s}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return nt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:lc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Fm=/\r\n?|\n/g;class Fn extends De{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Fn.prototype,n=s=>s.isEmpty(),r=co.TRANSLATE_SMALL,i=co.TRANSLATE_BIG;return nt(this,"_keyboardManager",new qf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Ze.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Fn._defaultColor||De._defaultLineColor,this.#n=e.fontSize||Fn._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){De.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case ut.FREETEXT_SIZE:Fn._defaultFontSize=n;break;case ut.FREETEXT_COLOR:Fn._defaultColor=n;break}}updateParams(e,n){switch(e){case ut.FREETEXT_SIZE:this.#a(n);break;case ut.FREETEXT_COLOR:this.#s(n);break}}static get defaultPropertiesToUpdate(){return[[ut.FREETEXT_SIZE,Fn._defaultFontSize],[ut.FREETEXT_COLOR,Fn._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[ut.FREETEXT_SIZE,this.#n],[ut.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Fh(this),[["colorPicker",this._colorPicker]]}get colorType(){return ut.FREETEXT_COLOR}#a(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-Fn._internalPadding*e,-(Fn._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(Fn.#c(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Fn._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,h]=this.pageDimensions,[d,m]=this.pageTranslation;let g,x;switch(this.rotation){case 0:g=e+(a[0]-d)/c,x=n+this.height-(a[1]-m)/h;break;case 90:g=e+(a[0]-d)/c,x=n-(a[1]-m)/h,[o,l]=[l,-o];break;case 180:g=e-this.width+(a[0]-d)/c,x=n-(a[1]-m)/h,[o,l]=[-o,-l];break;case 270:g=e+(a[0]-d-this.height*h)/c,x=n+(a[1]-m-this.width*c)/h,[o,l]=[-l,o];break}this.setAt(g*i,x*s,o,l)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Fm,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=Fn.#d(n.getData("text")||"").replaceAll(Fm,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],h=[];if(o.nodeType===Node.TEXT_NODE){const g=o.parentElement;if(h.push(o.nodeValue.slice(l).replaceAll(Fm,"")),g!==this.editorDiv){let x=c;for(const v of this.editorDiv.childNodes){if(v===g){x=h;continue}x.push(Fn.#c(v))}}c.push(o.nodeValue.slice(0,l).replaceAll(Fm,""))}else if(o===this.editorDiv){let g=c,x=0;for(const v of this.editorDiv.childNodes)x++===l&&(g=h),g.push(Fn.#c(v))}this.#e=`${c.join(`
`)}${i}${h.join(`
`)}`,this.#l();const d=new Range;let m=Math.sumPrecise(c.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(m<=x){d.setStart(g,m),d.setEnd(g,m);break}m-=x}s.removeAllRanges(),s.addRange(d)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Fn._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof a6){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:h,popupRef:d,richText:m,contentsObj:g,creationDate:x,modificationDate:v},textContent:b,textPosition:w,parent:{page:{pageNumber:_}}}=e;if(!b||b.length===0)return null;i=e={annotationType:Ze.FREETEXT,color:Array.from(o),fontSize:a,value:b.join(`
`),position:w,pageIndex:_-1,rect:l.slice(0),rotation:c,annotationElementId:h,id:h,deleted:!1,popupRef:d,comment:g?.str||null,richText:m,creationDate:x,modificationDate:v}}const s=await super.deserialize(e,n,r);return s.#n=e.fontSize,s.color=Ce.makeHexColor(...e.color),s.#e=Fn.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((a,o)=>a!==i[o])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),n.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class _e{static PRECISION=1e-4;toSVGPath(){Mt("Abstract method `toSVGPath` must be implemented.")}get box(){Mt("Abstract getter `box` must be implemented.")}serialize(e,n){Mt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class Go{#e;#t=[];#r;#n;#a=[];#s=new Float32Array(18);#i;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=Go.#g+Go.#m;constructor({x:e,y:n},r,i,s,a,o=0){this.#e=r,this.#d=s*i,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=o,this.#l=Go.#g*i,this.#c=Go.#u*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),n=this.#s.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/s,(this.#o+(e[1]-n[1])/2-i)/a,(this.#i+(n[0]-e[0])/2-r)/s,(this.#o+(n[1]-e[1])/2-i)/a]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,s,a]=this.#e;let[o,l,c,h]=this.#s.subarray(8,12);const d=e-c,m=n-h,g=Math.hypot(d,m);if(g<this.#c)return!1;const x=g-this.#l,v=x/g,b=v*d,w=v*m;let _=o,A=l;o=c,l=h,c+=b,h+=w,this.#f?.push(e,n);const T=-w/x,P=b/x,E=T*this.#d,k=P*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+E,h+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-E,h-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([o+E,l+k],2),this.#a.push(NaN,NaN,NaN,NaN,(o+E-r)/s,(l+k-i)/a),this.#s.set([o-E,l-k],14),this.#t.push(NaN,NaN,NaN,NaN,(o-E-r)/s,(l-k-i)/a)),this.#s.set([_,A,o,l,c,h],6),!this.isEmpty()):(this.#s.set([_,A,o,l,c,h],6),Math.abs(Math.atan2(A-l,_-o)-Math.atan2(w,b))<Math.PI/2?([o,l,c,h]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+h)/2-i)/a),[o,l,_,A]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((_+o)/2-r)/s,((A+l)/2-i)/a),!0):([_,A,o,l,c,h]=this.#s.subarray(0,6),this.#a.push(((_+5*o)/6-r)/s,((A+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+h)/6-i)/a,((o+c)/2-r)/s,((l+h)/2-i)/a),[c,h,o,l,_,A]=this.#s.subarray(12,18),this.#t.push(((_+5*o)/6-r)/s,((A+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+h)/6-i)/a,((o+c)/2-r)/s,((l+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,n=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[s,a,o,l]=this.#p();return`M${(this.#s[2]-e)/r} ${(this.#s[3]-n)/i} L${(this.#s[4]-e)/r} ${(this.#s[5]-n)/i} L${s} ${a} L${o} ${l} L${(this.#s[16]-e)/r} ${(this.#s[17]-n)/i} L${(this.#s[14]-e)/r} ${(this.#s[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,s]=this.#e,a=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[l,c,h,d]=this.#p();e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${h} ${d} L${(o[0]-n)/i} ${(o[1]-r)/s}`)}newFreeDrawOutline(e,n,r,i,s,a){return new u6(e,n,r,i,s,a)}getOutlines(){const e=this.#a,n=this.#t,r=this.#s,[i,s,a,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let d=0,m=l.length-2;d<m;d+=2)l[d]=(this.#f[d]-i)/a,l[d+1]=(this.#f[d+1]-s)/o;if(l[l.length-2]=(this.#i-i)/a,l[l.length-1]=(this.#o-s)/o,isNaN(r[6])&&!this.isEmpty())return this.#C(l);const c=new Float32Array(this.#a.length+24+this.#t.length);let h=e.length;for(let d=0;d<h;d+=2){if(isNaN(e[d])){c[d]=c[d+1]=NaN;continue}c[d]=e[d],c[d+1]=e[d+1]}h=this.#w(c,h);for(let d=n.length-6;d>=6;d-=6)for(let m=0;m<6;m+=2){if(isNaN(n[d+m])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=n[d+m],c[h+1]=n[d+m+1],h+=2}return this.#_(c,h),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#r,this.#n)}#C(e){const n=this.#s,[r,i,s,a]=this.#e,[o,l,c,h]=this.#p(),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(d,e,this.#e,this.#h,this.#r,this.#n)}#_(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[s,a,o,l]=this.#e,[c,h,d,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,m,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24}}class u6 extends _e{#e;#t=new Float32Array(4);#r;#n;#a;#s;#i;constructor(e,n,r,i,s,a){super(),this.#i=e,this.#a=n,this.#e=r,this.#s=i,this.#r=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,h]=this.#t;for(let d=0,m=e.length;d<m;d+=2)e[d]=(e[d]-o)/c,e[d+1]=(e[d+1]-l)/h;for(let d=0,m=n.length;d<m;d+=2)n[d]=(n[d]-o)/c,n[d+1]=(n[d+1]-l)/h}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],s){const a=r-e,o=i-n;let l,c;switch(s){case 0:l=_e._rescale(this.#i,e,i,a,-o),c=_e._rescale(this.#a,e,i,a,-o);break;case 90:l=_e._rescaleAndSwap(this.#i,e,n,a,o),c=_e._rescaleAndSwap(this.#a,e,n,a,o);break;case 180:l=_e._rescale(this.#i,r,n,-a,o),c=_e._rescale(this.#a,r,n,-a,o);break;case 270:l=_e._rescaleAndSwap(this.#i,r,i,-a,-o),c=_e._rescaleAndSwap(this.#a,r,i,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const s=[r,i,r,i];let a=r,o=i,l=r,c=i;const h=e?Math.max:Math.min,d=new Float32Array(4);for(let g=6,x=n.length;g<x;g+=6){const v=n[g+4],b=n[g+5];isNaN(n[g])?(Ce.pointBoundingBox(v,b,s),o>b?(a=v,o=b):o===b&&(a=h(a,v)),c<b?(l=v,c=b):c===b&&(l=h(l,v))):(d[0]=d[1]=1/0,d[2]=d[3]=-1/0,Ce.bezierBoundingBox(r,i,...n.slice(g,g+6),d),Ce.rectBoundingBox(d[0],d[1],d[2],d[3],s),o>d[1]?(a=d[0],o=d[1]):o===d[1]&&(a=h(a,d[0])),c<d[3]?(l=d[2],c=d[3]):c===d[3]&&(l=h(l,d[2]))),r=v,i=b}const m=this.#t;m[0]=s[0]-this.#r,m[1]=s[1]-this.#r,m[2]=s[2]-s[0]+2*this.#r,m[3]=s[3]-s[1]+2*this.#r,this.firstPoint=[a,o],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,n,r,i,s,a=0){return new Go(e,n,r,i,s,a)}getNewOutline(e,n){const[r,i,s,a]=this.#t,[o,l,c,h]=this.#e,d=s*c,m=a*h,g=r*c+o,x=i*h+l,v=this.newOutliner({x:this.#a[0]*d+g,y:this.#a[1]*m+x},this.#e,this.#s,e,this.#n,n??this.#r);for(let b=2;b<this.#a.length;b+=2)v.add({x:this.#a[b]*d+g,y:this.#a[b+1]*m+x});return v.getOutlines()}}class XA{#e;#t;#r;#n=[];#a=[];constructor(e,n=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:v,y:b,width:w,height:_}of e){const A=Math.floor((v-n)/a)*a,T=Math.ceil((v+w+n)/a)*a,P=Math.floor((b-n)/a)*a,E=Math.ceil((b+_+n)/a)*a,k=[A,P,E,!0],O=[T,P,E,!1];this.#n.push(k,O),Ce.rectBoundingBox(A,P,T,E,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,h=s[1]-r;let d=i?-1/0:1/0,m=1/0;const g=this.#n.at(i?-1:-2),x=[g[0],g[2]];for(const v of this.#n){const[b,w,_,A]=v;!A&&i?w<m?(m=w,d=b):w===m&&(d=Math.max(d,b)):A&&!i&&(w<m?(m=w,d=b):w===m&&(d=Math.min(d,b))),v[0]=(b-c)/o,v[1]=(w-h)/l,v[2]=(_-h)/l}this.#e=new Float32Array([c,h,o,l]),this.#t=[d,m],this.#r=x}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#s(e)}#s(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,h,d]=a;r.delete(a);let m=o,g=l;for(s=[o,c],i.push(s);;){let x;if(r.has(h))x=h;else if(r.has(d))x=d;else break;r.delete(x),[o,l,c,h,d]=x,m!==o&&(s.push(m,g,o,g===l?l:c),m=o),g=g===l?c:l}s.push(m,g)}return new hhe(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#a;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#a.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#a.length;i++){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}}#l(e){const[n,r,i]=e,s=[[n,r,i]],a=this.#i(i);for(let o=0;o<a;o++){const[l,c]=this.#a[o];for(let h=0,d=s.length;h<d;h++){const[,m,g]=s[h];if(!(c<=m||g<=l)){if(m>=l){if(g>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=l,g>c&&s.push([n,c,g])}}}return s}}class hhe extends _e{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const a=n[s],o=n[s+1];a===r?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],s){const a=[],o=r-e,l=i-n;for(const c of this.#t){const h=new Array(c.length);for(let d=0;d<c.length;d+=2)h[d]=e+c[d]*o,h[d+1]=i-c[d+1]*l;a.push(h)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class QA extends Go{newFreeDrawOutline(e,n,r,i,s,a){return new fhe(e,n,r,i,s,a)}}class fhe extends u6{newOutliner(e,n,r,i,s,a=0){return new QA(e,n,r,i,s,a)}}class dn extends De{#e=null;#t=0;#r;#n=null;#a=null;#s=null;#i=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ze.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=dn.prototype;return nt(this,"_keyboardManager",new qf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||dn._defaultColor,this.#p=e.thickness||dn._defaultThickness,this.opacity=e.opacity||dn._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new XA(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new XA(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#s=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#s=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:dn.#A(this.#l.box,(d-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:dn.#A(this.#s.box,d),path:{d:this.#s.toSVGPath()}})}const[s,a,o,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[d,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*m/d,this.height=l*d/m;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[d,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*m/d,this.height=l*d/m;break}}const{firstPoint:c}=e;this.#f=[(c[0]-s)/o,(c[1]-a)/l];const{lastPoint:h}=this.#s;this.#g=[(h[0]-s)/o,(h[1]-a)/l]}static initialize(e,n){De.initialize(e,n),dn._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case ut.HIGHLIGHT_COLOR:dn._defaultColor=n;break;case ut.HIGHLIGHT_THICKNESS:dn._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case ut.HIGHLIGHT_COLOR:this.#C(n);break;case ut.HIGHLIGHT_THICKNESS:this.#_(n);break}}static get defaultPropertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,dn._defaultColor],[ut.HIGHLIGHT_THICKNESS,dn._defaultThickness]]}get propertiesToUpdate(){return[[ut.HIGHLIGHT_COLOR,this.color||dn._defaultColor],[ut.HIGHLIGHT_THICKNESS,this.#p||dn._defaultThickness],[ut.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(e){const n=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,dn._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#_(e){const n=this.#p,r=i=>{this.#p=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:ut.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new _i({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#T())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#T())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#E():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#E(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([e,n,r,i],s){switch(s){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=dn.#A(this.#l.box,e)):r=dn.#A([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#m,{bbox:dn.#A(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),zV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#k(e){dn._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#j(!0);break;case 1:case 3:this.#j(!1);break}}#j(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#j(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#T(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#r,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:h,height:d}of s){const m=l*e+r,g=(1-c)*n+i;a[o]=a[o+4]=m,a[o+1]=a[o+3]=g,a[o+2]=a[o+6]=m+h*e,a[o+5]=a[o+7]=g-d*n,o+=8}return a}#O(e){return this.#l.serialize(e,this.#T())}static startHighlighting(e,n,{target:r,x:i,y:s}){const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),h=new AbortController,d=e.combinedSignal(h),m=g=>{h.abort(),this.#F(e,g)};window.addEventListener("blur",m,{signal:d}),window.addEventListener("pointerup",m,{signal:d}),window.addEventListener("pointerdown",an,{capture:!0,passive:!1,signal:d}),window.addEventListener("contextmenu",Mi,{signal:d}),r.addEventListener("pointermove",this.#D.bind(this,e),{signal:d}),this._freeHighlight=new QA({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof l6){const{data:{quadPoints:x,rect:v,rotation:b,id:w,color:_,opacity:A,popupRef:T,richText:P,contentsObj:E,creationDate:k,modificationDate:O},parent:{page:{pageNumber:D}}}=e;i=e={annotationType:Ze.HIGHLIGHT,color:Array.from(_),opacity:A,quadPoints:x,boxes:null,pageIndex:D-1,rect:v.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:T,richText:P,comment:E?.str||null,creationDate:k,modificationDate:O}}else if(e instanceof aj){const{data:{inkLists:x,rect:v,rotation:b,id:w,color:_,borderStyle:{rawWidth:A},popupRef:T,richText:P,contentsObj:E,creationDate:k,modificationDate:O},parent:{page:{pageNumber:D}}}=e;i=e={annotationType:Ze.HIGHLIGHT,color:Array.from(_),thickness:A,inkLists:x,boxes:null,pageIndex:D-1,rect:v.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:T,richText:P,comment:E?.str||null,creationDate:k,modificationDate:O}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=e,c=await super.deserialize(e,n,r);c.color=Ce.makeHexColor(...s),c.opacity=l||1,o&&(c.#p=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e);const[h,d]=c.pageDimensions,[m,g]=c.pageTranslation;if(a){const x=c.#r=[];for(let v=0;v<a.length;v+=8)x.push({x:(a[v]-m)/h,y:1-(a[v+1]-g)/d,width:(a[v+2]-a[v])/h,height:(a[v+1]-a[v+5])/d});c.#b(),c.#x(),c.rotate(c.rotation)}else if(o){c.#d=!0;const x=o[0],v={x:x[0]-m,y:d-(x[1]-g)},b=new QA(v,[0,0,h,d],1,c.#p/2,!0,.001);for(let A=0,T=x.length;A<T;A+=2)v.x=x[A]-m,v.y=d-(x[A+1]-g),b.add(v);const{id:w,clipPathId:_}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:b.toSVGPath()}},!0,!0);c.#y({highlightOutlines:b.getOutlines(),highlightId:w,clipPathId:_}),c.#x(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=De._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#L(),outlines:this.#O(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#R(r)?null:(r.id=this.annotationElementId,r)}#R(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class d6{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Mt("Not implemented")}}class yt extends De{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(yt._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(n))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Mt("Not implemented")}static get typesMap(){Mt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(yt.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,s=i[n],a=o=>{i.updateProperty(n,o);const l=this.#e.updateProperty(n,o);l&&this.#d(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[n,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-n,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(o/l),i*(l/o),r*(o/l)];case 5:return[1-n,e,r*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-n,i*(l/o),r*(o/l)];case 7:return[n-r*(o/l),1-e-i*(l/o),r*(o/l),i*(l/o)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(l/o),n,i*(l/o),r*(o/l)];case 13:return[1-n-r*(o/l),e-i*(l/o),r*(o/l),i*(l/o)];case 14:return[1-e,1-n-r*(o/l),i*(l/o),r*(o/l)];case 15:return[n,1-e,r*(o/l),i*(l/o)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,yt._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,s){Mt("Not implemented")}static startDrawing(e,n,r,i){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=i;if(bt.isInitializedAndDifferentPointerType(c))return;const{viewport:{rotation:h}}=e,{width:d,height:m}=s.getBoundingClientRect(),g=yt.#n=new AbortController,x=e.combinedSignal(g);if(bt.setPointer(c,l),window.addEventListener("pointerup",v=>{bt.isSamePointerIdOrRemove(v.pointerId)&&this._endDraw(v)},{signal:x}),window.addEventListener("pointercancel",v=>{bt.isSamePointerIdOrRemove(v.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",v=>{bt.isSamePointerType(v.pointerType)&&(bt.initializeAndAddPointerId(v.pointerId),yt.#r.isCancellable()&&(yt.#r.removeLastElement(),yt.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",Mi,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",v=>{bt.isSameTimeStamp(v.timeStamp)&&an(v)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),yt.#r){e.drawLayer.updateProperties(this._currentDrawId,yt.#r.startNew(a,o,d,m,h));return}n.updateUIForDefaultProperties(this),yt.#r=this.createDrawerInstance(a,o,d,m,h),yt.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(yt.#a.toSVGProperties(),yt.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(bt.isSameTimeStamp(e.timeStamp),!yt.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(bt.isSamePointerId(i)){if(bt.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,yt.#r.add(n,r)),bt.setTimeStamp(e.timeStamp),an(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,yt.#r=null,yt.#a=null,bt.clearPointerType(),bt.clearTimeStamp()),yt.#n&&(yt.#n.abort(),yt.#n=null,bt.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,yt.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=yt.#r,i=this._currentDrawId,s=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:ut.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(ut.DRAW_STEP),!yt.#r.isEmpty()){const{pageDimensions:[r,i],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:yt.#r.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:yt.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,s,a){Mt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=n.viewport,l=this.deserializeDraw(a,o,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,n,r);return c.createDrawingOptions(e),c.#s({drawOutlines:l}),c.#c(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[n,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([n,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class phe{#e=new Float64Array(6);#t;#r;#n;#a;#s;#i="";#o=0;#c=new Kf;#l;#h;constructor(e,n,r,i,s,a){this.#l=r,this.#h=i,this.#n=s,this.#a=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n],this.#r=[{line:o,points:this.#s}],this.#e.set(o,0)}updateProperty(e,n){e==="stroke-width"&&(this.#a=n)}#d(e,n){return _e._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#s.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,s,a]=this.#e.subarray(2,6),o=e-s,l=n-a;return Math.hypot(this.#l*o,this.#h*l)<=2?null:(this.#s.push(e,n),isNaN(r)?(this.#e.set([s,a,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,n],0),this.#t.push(..._e.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){this.#l=r,this.#h=i,this.#n=s,[e,n]=this.#d(e,n);const a=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n];const o=this.#r.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#r.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=_e.svgRound(this.#t[4]),n=_e.svgRound(this.#t[5]);if(this.#s.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#s.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#s.length===4){const i=_e.svgRound(this.#t[10]),s=_e.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${s}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,o,l,c,h,d]=this.#t.slice(i,i+6).map(_e.svgRound);r.push(`C${a} ${o} ${l} ${c} ${h} ${d}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const s=this.#r.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#r,e,n,r,this.#n,this.#a,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Kf extends _e{#e;#t=0;#r;#n;#a;#s;#i;#o;#c;build(e,n,r,i,s,a,o){this.#a=n,this.#s=r,this.#i=i,this.#o=s,this.#c=a,this.#r=o??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${_e.svgRound(n[4])} ${_e.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${_e.svgRound(n[10])} ${_e.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[s,a,o,l,c,h]=n.subarray(r,r+6).map(_e.svgRound);e.push(`C${s} ${a} ${o} ${l} ${c} ${h}`)}}return e.join("")}serialize([e,n,r,i],s){const a=[],o=[],[l,c,h,d]=this.#h();let m,g,x,v,b,w,_,A,T;switch(this.#o){case 0:T=_e._rescale,m=e,g=n+i,x=r,v=-i,b=e+l*r,w=n+(1-c-d)*i,_=e+(l+h)*r,A=n+(1-c)*i;break;case 90:T=_e._rescaleAndSwap,m=e,g=n,x=r,v=i,b=e+c*r,w=n+l*i,_=e+(c+d)*r,A=n+(l+h)*i;break;case 180:T=_e._rescale,m=e+r,g=n,x=-r,v=i,b=e+(1-l-h)*r,w=n+c*i,_=e+(1-l)*r,A=n+(c+d)*i;break;case 270:T=_e._rescaleAndSwap,m=e+r,g=n+i,x=-r,v=-i,b=e+(1-c-d)*r,w=n+(1-l-h)*i,_=e+(1-c)*r,A=n+(1-l)*i;break}for(const{line:P,points:E}of this.#n)a.push(T(P,m,g,x,v,s?new Array(P.length):null)),o.push(T(E,m,g,x,v,s?new Array(E.length):null));return{lines:a,points:o,rect:[b,w,_,A]}}static deserialize(e,n,r,i,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const h=[];let d,m,g,x,v;switch(l){case 0:v=_e._rescale,d=-e/r,m=n/i+1,g=1/r,x=-1/i;break;case 90:v=_e._rescaleAndSwap,d=-n/i,m=-e/r,g=1/i,x=1/r;break;case 180:v=_e._rescale,d=e/r+1,m=-n/i,g=-1/r,x=1/i;break;case 270:v=_e._rescaleAndSwap,d=n/i+1,m=e/r+1,g=-1/i,x=-1/r;break}if(!a){a=[];for(const w of o){const _=w.length;if(_===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(_===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const A=new Float32Array(3*(_-2));a.push(A);let[T,P,E,k]=w.subarray(0,4);A.set([NaN,NaN,NaN,NaN,T,P],0);for(let O=4;O<_;O+=2){const D=w[O],F=w[O+1];A.set(_e.createBezierPoints(T,P,E,k,D,F),(O-2)*3),[T,P,E,k]=[E,k,D,F]}}}for(let w=0,_=a.length;w<_;w++)h.push({line:v(a[w].map(A=>A??NaN),d,m,g,x),points:v(o[w].map(A=>A??NaN),d,m,g,x)});const b=new this.prototype.constructor;return b.build(h,r,i,1,l,c,s),b}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#a,n/this.#s]:[n/this.#s,n/this.#a]}#h(){const[e,n,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,n+a,r-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)Ce.pointBoundingBox(i[o],i[o+1],e);continue}let s=i[4],a=i[5];for(let o=6,l=i.length;o<l;o+=6){const[c,h,d,m,g,x]=i.subarray(o,o+6);Ce.bezierBoundingBox(s,a,c,h,d,m,g,x,e),s=g,a=x}}const[n,r]=this.#l();e[0]=xr(e[0]-n,0,1),e[1]=xr(e[1]-r,0,1),e[2]=xr(e[2]+n,0,1),e[3]=xr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,o]=[i-n,s-r],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,n],r){const[i,s]=this.#l();this.#a=e,this.#s=n,this.#i=r;const[a,o]=this.#l(),l=a-i,c=o-s,h=this.#e;return h[0]-=l,h[1]-=c,h[2]+=2*l,h[3]+=2*c,h}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(_e.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,s=0,a=0,o=0,l=0;switch(this.#t){case 90:i=n/e,s=-e/n,o=e;break;case 180:r=-1,a=-1,o=e,l=n;break;case 270:i=-n/e,s=e/n,l=n;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${_e.svgRound(o)} ${_e.svgRound(l)})`}getPathResizingSVGProperties([e,n,r,i]){const[s,a]=this.#l(),[o,l,c,h]=this.#e;if(Math.abs(c-s)<=_e.PRECISION||Math.abs(h-a)<=_e.PRECISION){const v=e+r/2-(o+c/2),b=n+i/2-(l+h/2);return{path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(n)}`,transform:`${this.rotationTransform} translate(${v} ${b})`}}}const d=(r-2*s)/(c-2*s),m=(i-2*a)/(h-2*a),g=c/r,x=h/i;return{path:{"transform-origin":`${_e.svgRound(o)} ${_e.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${x}) translate(${_e.svgRound(s)} ${_e.svgRound(a)}) scale(${d} ${m}) translate(${_e.svgRound(-s)} ${_e.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[s,a]=this.#l(),o=this.#e,[l,c,h,d]=o;if(o[0]=e,o[1]=n,o[2]=r,o[3]=i,Math.abs(h-s)<=_e.PRECISION||Math.abs(d-a)<=_e.PRECISION){const b=e+r/2-(l+h/2),w=n+i/2-(c+d/2);for(const{line:_,points:A}of this.#n)_e._translate(_,b,w,_),_e._translate(A,b,w,A);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*s)/(h-2*s),g=(i-2*a)/(d-2*a),x=-m*(l+s)+e+s,v=-g*(c+a)+n+a;if(m!==1||g!==1||x!==0||v!==0)for(const{line:b,points:w}of this.#n)_e._rescale(b,x,v,m,g,b),_e._rescale(w,x,v,m,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,s]=r,a=this.#e,o=e-a[0],l=n-a[1];if(this.#a===i&&this.#s===s)for(const{line:c,points:h}of this.#n)_e._translate(c,o,l,c),_e._translate(h,o,l,h);else{const c=this.#a/i,h=this.#s/s;this.#a=i,this.#s=s;for(const{line:d,points:m}of this.#n)_e._rescale(d,o,l,c,h,d),_e._rescale(m,o,l,c,h,m);a[2]*=c,a[3]*=h}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${_e.svgRound(e)} ${_e.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${_e.svgRound(e[0])} ${_e.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Py extends d6{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new Py(this._viewParameters);return e.updateAll(this),e}}class lj extends yt{static _type="ink";static _editorType=Ze.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new Py(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return nt(this,"typesMap",new Map([[ut.INK_THICKNESS,"stroke-width"],[ut.INK_COLOR,"stroke"],[ut.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,s){return new phe(e,n,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,s,a){return Kf.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){let i=null;if(e instanceof aj){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:h,opacity:d,borderStyle:{rawWidth:m},popupRef:g,richText:x,contentsObj:v,creationDate:b,modificationDate:w},parent:{page:{pageNumber:_}}}=e;i=e={annotationType:Ze.INK,color:Array.from(h),thickness:m,opacity:d,paths:{points:a},boxes:null,pageIndex:_-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:g,richText:x,comment:v?.str||null,creationDate:b,modificationDate:w}}const s=await super.deserialize(e,n,r);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Fh(this),[["colorPicker",this._colorPicker]]}get colorType(){return ut.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=lj.getDefaultDrawingOptions({stroke:Ce.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:De._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:n,points:r}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==n[o])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class ZA extends Kf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const $m=8,Ld=3;class uc{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const h=(-c+l-o+16)%8,d=this.#r[2*h],m=this.#r[2*h+1];if(e[(r+d)*n+(i+m)]!==0)return h}return-1}static#a(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const h=(c+l+o+16)%8,d=this.#r[2*h],m=this.#r[2*h+1];if(e[(r+d)*n+(i+m)]!==0)return h}return-1}static#s(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let h=0;h<s;h++)a[h]=e[h]<=i?1:0;for(let h=1;h<r-1;h++)a[h*n]=a[h*n+n-1]=0;for(let h=0;h<n;h++)a[h]=a[n*r-1-h]=0;let o=1,l;const c=[];for(let h=1;h<r-1;h++){l=1;for(let d=1;d<n-1;d++){const m=h*n+d,g=a[m];if(g===0)continue;let x=h,v=d;if(g===1&&a[m-1]===0)o+=1,v-=1;else if(g>=1&&a[m+1]===0)o+=1,v+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const b=[d,h],w=v===d+1,_={isHole:w,points:b,id:o,parent:0};c.push(_);let A;for(const M of c)if(M.id===l){A=M;break}A?A.isHole?_.parent=w?A.parent:l:_.parent=w?l:A.parent:_.parent=w?l:0;const T=this.#n(a,n,h,d,x,v,0);if(T===-1){a[m]=-o,a[m]!==1&&(l=Math.abs(a[m]));continue}let P=this.#r[2*T],E=this.#r[2*T+1];const k=h+P,O=d+E;x=k,v=O;let D=h,F=d;for(;;){const M=this.#a(a,n,D,F,x,v,1);P=this.#r[2*M],E=this.#r[2*M+1];const R=D+P,$=F+E;b.push($,R);const H=D*n+F;if(a[H+1]===0?a[H]=-o:a[H]===1&&(a[H]=o),R===h&&$===d&&D===k&&F===O){a[m]!==1&&(l=Math.abs(a[m]));break}else x=D,v=F,D=R,F=$}}}return c}static#i(e,n,r,i){if(r-n<=4){for(let k=n;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),h=o/c,d=l/c,m=h*a-d*s,g=l/o,x=1/c,v=Math.atan(g),b=Math.cos(v),w=Math.sin(v),_=x*(Math.abs(b)+Math.abs(w)),A=x*(1-_+_**2),T=Math.max(Math.atan(Math.abs(w+b)*A),Math.atan(Math.abs(w-b)*A));let P=0,E=n;for(let k=n+2;k<r-2;k+=2){const O=Math.abs(m-h*e[k+1]+d*e[k]);O>P&&(E=k,P=O)}P>(c*T)**2?(this.#i(e,n,E+2,i),this.#i(e,E,r,i)):i.push(s,a)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let v=0;v<a;v++){const b=(v-c)**2;for(let w=0;w<a;w++)o[v*a+w]=Math.exp((b+(w-c)**2)/l)}const h=new Float32Array(256),d=-2*s**2;for(let v=0;v<256;v++)h[v]=Math.exp(v**2/d);const m=e.length,g=new Uint8Array(m),x=new Uint32Array(256);for(let v=0;v<r;v++)for(let b=0;b<n;b++){const w=v*n+b,_=e[w];let A=0,T=0;for(let E=0;E<a;E++){const k=v+E-c;if(!(k<0||k>=r))for(let O=0;O<a;O++){const D=b+O-c;if(D<0||D>=n)continue;const F=e[k*n+D],M=o[E*a+O]*h[Math.abs(F-_)];A+=F*M,T+=M}}const P=g[w]=Math.round(A/T);x[P]++}return[g,x]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r}static#d(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,o=i;if(r>s||i>s){let m=r,g=i,x=Math.log2(Math.max(r,i)/s);const v=Math.floor(x);x=x===v?v-1:v;for(let w=0;w<x;w++){a=Math.ceil(m/2),o=Math.ceil(g/2);const _=new OffscreenCanvas(a,o);_.getContext("2d").drawImage(e,0,0,m,g,0,0,a,o),m=a,g=o,e!==n&&e.close(),e=_.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const h=c.getImageData(0,0,a,o).data;return[this.#h(h),a,o]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,m=h.font=`${r} ${i} ${d}px ${n}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:x,actualBoundingBoxAscent:v,actualBoundingBoxDescent:b,fontBoundingBoxAscent:w,fontBoundingBoxDescent:_,width:A}=h.measureText(e),T=1.5,P=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||0,A)*T),E=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||d,Math.abs(w)+Math.abs(_)||d)*T);c=new OffscreenCanvas(P,E),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=m,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,P,E),h.fillStyle="black",h.fillText(e,P*(T-1)/2,E*(3-T)/2);const k=this.#h(h.getImageData(0,0,P,E).data),O=this.#l(k),D=this.#d(O),F=this.#s(k,P,E,D);return this.processDrawnLines({lines:{curves:F,width:P,height:E},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=this.#f(e),[c,h]=this.#c(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),d=this.#d(h),m=this.#s(c,o,l,d);return this.processDrawnLines({lines:{curves:m,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:h}=e,d=e.thickness??0,m=[],g=Math.min(n/c,r/h),x=g/n,v=g/r,b=[];for(const{points:_}of l){const A=a?this.#o(_):_;if(!A)continue;b.push(A);const T=A.length,P=new Float32Array(T),E=new Float32Array(3*(T===2?2:T-2));if(m.push({line:E,points:P}),T===2){P[0]=A[0]*x,P[1]=A[1]*v,E.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[k,O,D,F]=A;k*=x,O*=v,D*=x,F*=v,P.set([k,O,D,F],0),E.set([NaN,NaN,NaN,NaN,k,O],0);for(let M=4;M<T;M+=2){const R=P[M]=A[M]*x,$=P[M+1]=A[M+1]*v;E.set(_e.createBezierPoints(k,O,D,F,R,$),(M-2)*3),[k,O,D,F]=[D,F,R,$]}}if(m.length===0)return null;const w=o?new ZA:new Kf;return w.build(m,n,r,1,i,o?0:d,s),{outline:w,newCurves:b,areContours:o,thickness:d,width:c,height:h}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const A of e){l+=A.length;for(let T=2,P=A.length;T<P;T++){const E=A[T]-A[T-2];a=Math.min(a,E),o=Math.max(o,E)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const h=e.length,d=$m+Ld*h,m=new Uint32Array(d);let g=0;m[g++]=d*Uint32Array.BYTES_PER_ELEMENT+(l-2*h)*c.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=i,m[g++]=s,m[g++]=n?0:1,m[g++]=Math.max(0,Math.floor(r??0)),m[g++]=h,m[g++]=c.BYTES_PER_ELEMENT;for(const A of e)m[g++]=A.length-2,m[g++]=A[0],m[g++]=A[1];const x=new CompressionStream("deflate-raw"),v=x.writable.getWriter();await v.ready,v.write(m);const b=c.prototype.constructor;for(const A of e){const T=new b(A.length-2);for(let P=2,E=A.length;P<E;P++)T[P-2]=A[P]-A[P-2];v.write(T)}v.close();const w=await new Response(x.readable).arrayBuffer(),_=new Uint8Array(w);return FV(_)}static async decompressSignature(e){try{const n=kue(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const A of r)a||=new Uint8Array(new Uint32Array(A.buffer,0,4)[0]),a.set(A,o),o+=A.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=l[2],d=l[3],m=l[4]===0,g=l[5],x=l[6],v=l[7],b=[],w=($m+Ld*x)*Uint32Array.BYTES_PER_ELEMENT;let _;switch(v){case Int8Array.BYTES_PER_ELEMENT:_=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:_=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:_=new Int32Array(a.buffer,w);break}o=0;for(let A=0;A<x;A++){const T=l[Ld*A+$m],P=new Float32Array(T+2);b.push(P);for(let E=0;E<Ld-1;E++)P[E]=l[Ld*A+$m+E+1];for(let E=0;E<T;E++)P[E+2]=P[E]+_[o++]}return{areContours:m,thickness:g,outlines:b,width:h,height:d}}catch(n){return Xe(`decompressSignature: ${n}`),null}}}class cj extends d6{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const e=new cj;return e.updateAll(this),e}}class uj extends Py{constructor(e){super(e),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const e=new uj(this._viewParameters);return e.updateAll(this),e}}class fs extends yt{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Ze.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new cj,this._defaultDrawnSignatureOptions=new uj(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return nt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#r,{rawDims:{pageWidth:h,pageHeight:d},rotation:m}=this.parent.viewport,g=uc.processDrawnLines({lines:i,pageWidth:h,pageHeight:d,rotation:m,innerMargin:fs._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(g,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:s}=this.#r,a=Math.max(i,s),o=uc.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:s,y:a}=this,{outline:o}=this.#r=e;this.#e=o instanceof ZA,this.description=r;let l;this.#e?l=fs.getDefaultDrawingOptions():(l=fs._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,c]=this.pageDimensions;let h=n/c;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return uc.process(e,n,r,i,fs._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return uc.extractContoursFromText(e,n,r,i,s,fs._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return uc.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:fs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=fs.getDefaultDrawingOptions():(this._drawingOptions=fs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:n,points:r},s.uuid=this.#n,s.isCopy=!0):s.lines=n,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,n,r,i,s,a){return a.areContours?ZA.deserialize(e,n,r,i,s,a):Kf.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class mhe extends De{#e=null;#t=null;#r=null;#n=null;#a=null;#s="";#i=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ze.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){De.initialize(e,n)}static isHandlingMimeForPasting(e){return VA.includes(e)}static paste(e,n){n.pasteEditor({mode:Ze.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#m()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#a){const r=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=VA.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const l=Math.min(a*i/n,a*s/r);n*=l,r*=l}this._uiManager.enableWaiting(!1);const o=this.#i=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=n/i,this.height=r/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Ts;let o=this.#e,l=i,c=s,h=null;if(n){if(i>n||s>n){const E=Math.min(n/i,n/s);l=Math.floor(i*E),c=Math.floor(s*E)}h=document.createElement("canvas");const m=h.width=Math.ceil(l*a.sx),g=h.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(m,g));const x=h.getContext("2d");x.filter=this._uiManager.hcmFilter;let v="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":Iue.isDarkMode&&(v="#8f8f9d",b="#42414d");const w=15,_=w*a.sx,A=w*a.sy,T=new OffscreenCanvas(_*2,A*2),P=T.getContext("2d");P.fillStyle=v,P.fillRect(0,0,_*2,A*2),P.fillStyle=b,P.fillRect(0,0,_,A),P.fillRect(_,A,_,A),x.fillStyle=x.createPattern(T,"repeat"),x.fillRect(0,0,m,g),x.drawImage(o,0,0,o.width,o.height,0,0,m,g)}let d=null;if(r){let m,g;if(a.symmetric&&o.width<e&&o.height<e)m=o.width,g=o.height;else if(o=this.#e,i>e||s>e){const b=Math.min(e/i,e/s);m=Math.floor(i*b),g=Math.floor(s*b),this.#l||(o=this.#u(m,g))}const v=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});v.drawImage(o,0,0,o.width,o.height,0,0,m,g),d={width:m,height:g,data:v.getImageData(0,0,m,g).data}}return{canvas:h,width:l,height:c,imageData:d}}#u(e,n){const{width:r,height:i}=this.#e;let s=r,a=i,o=this.#e;for(;s>2*e||a>2*n;){const l=s,c=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const h=new OffscreenCanvas(s,a);h.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=h.transferToImageBitmap()}return o}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,s=new Ts,a=Math.ceil(r*e*s.sx),o=Math.ceil(i*n*s.sy),l=this.#i;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#e:this.#u(a,o),h=l.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*Kc.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*Kc.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,s=!1;if(e instanceof c6){const{data:{rect:v,rotation:b,id:w,structParent:_,popupRef:A,richText:T,contentsObj:P,creationDate:E,modificationDate:k},container:O,parent:{page:{pageNumber:D}},canvas:F}=e;let M,R;F?(delete e.canvas,{id:M,bitmap:R}=r.imageManager.getFromCanvas(O.id,F),F.remove()):(s=!0,e._hasNoCanvas=!0);const $=(await n._structTree.getAriaAttributes(`${gc}${w}`))?.get("aria-label")||"";i=e={annotationType:Ze.STAMP,bitmapId:M,bitmap:R,pageIndex:D-1,rect:v.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:_,popupRef:A,richText:T,comment:P?.str||null,creationDate:E,modificationDate:k}}const a=await super.deserialize(e,n,r),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:h,isSvg:d,accessibilityData:m}=e;s?(r.addMissingCanvas(e.id,a),a.#o=!0):h&&r.imageManager.isValidId(h)?(a.#t=h,l&&(a.#e=l)):a.#n=c,a.#l=d;const[g,x]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/x,m&&(a.altTextData=m),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#b(r);return o.isSame?null:(o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const o=n.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Qs{#e;#t=!1;#r=null;#n=null;#a=null;#s=new Map;#i=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Fn,lj,mhe,dn,fs].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:h}){const d=[...Qs.#p.values()];if(!Qs._initialized){Qs._initialized=!0;for(const m of d)m.initialize(h,e)}e.registerEditorTypes(d),this.#u=e,this.pageIndex=n,this.div=r,this.#e=s,this.#r=a,this.viewport=c,this.#d=l,this.drawLayer=o,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Ze.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Ze.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ze.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ze.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Ze.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of Qs.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,h=this.#m;if(c-h>500){this.#m=c;return}this.#m=-1;const{classList:d}=this.div;d.toggle("getElements",!0);const m=document.elementsFromPoint(o,l);if(d.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const x=new RegExp(`^${Rh}[0-9]+$`);for(const b of m)if(x.test(b.id)){g=b.id;break}if(!g)return;const v=this.#s.get(g);v?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),v.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,s=new Map;for(const o of this.#v){if(o.disableEditing(),!o.annotationElementId){n.push(o);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(this.#u.isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Qs.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=sr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),dn.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),De.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#s.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return Qs.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#_(),s=this.getNextId(),a=this.#C({parent:this,id:s,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});a&&this.add(a)}async deserialize(e){return await Qs.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=this.#C({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#_(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,h=(a+l)/2-n,[d,m]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#_(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Ze.STAMP||r===Ze.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Ze.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=sr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,ul(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,ul(this.div,{rotation:r}),n!==r)for(const i of this.#s.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Jn{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return nt(this,"_svgFactory",new Lg)}static#a(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#s(){const e=Jn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Jn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Jn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Jn.#n++,s=this.#s(),a=Jn._svgFactory.createElement("defs");s.append(a);const o=Jn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,o);const c=r?this.#i(a,l):null,h=Jn._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=Jn.#n++,i=this.#s(),s=Jn._svgFactory.createElement("defs");i.append(s);const a=Jn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const d=Jn._svgFactory.createElement("mask");s.append(d),l=`mask_p${this.pageIndex}_${r}`,d.setAttribute("id",l),d.setAttribute("maskUnits","objectBoundingBox");const m=Jn._svgFactory.createElement("rect");d.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=Jn._svgFactory.createElement("use");d.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Jn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const h=c.cloneNode();return i.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?this.#t.get(e):e;if(o){if(r&&this.#o(o,r),i&&Jn.#a(o,i),s){const{classList:l}=o;for(const[c,h]of Object.entries(s))l.toggle(c,h)}if(a){const c=o.firstChild.firstChild;this.#o(c,a)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:XA};globalThis.pdfjsLib={AbortException:lo,AnnotationEditorLayer:Qs,AnnotationEditorParamsType:ut,AnnotationEditorType:Ze,AnnotationEditorUIManager:co,AnnotationLayer:oj,AnnotationMode:Xa,AnnotationType:yn,applyOpacity:Fue,build:Hde,ColorPicker:_i,createValidAbsoluteUrl:DV,CSSConstants:Lue,DOMSVGFactory:Lg,DrawLayer:Jn,FeatureTest:sr,fetchData:Vf,findContrastColor:$ue,getDocument:r6,getFilenameFromUrl:Nue,getPdfFilenameFromUrl:Oue,getRGB:Hf,getUuid:LV,getXfaPageViewport:Due,GlobalWorkerOptions:kc,ImageKind:lg,InvalidPDFException:UA,isDataScheme:_y,isPdfFile:QE,isValidExplicitDest:Yue,MathClamp:xr,noContextMenu:Mi,normalizeUnicode:jue,OPS:Ih,OutputScale:Ts,PasswordResponses:bue,PDFDataRangeTransport:i6,PDFDateString:zA,PDFWorker:er,PermissionFlag:yue,PixelsPerInch:Kc,RenderingCancelledException:XE,renderRichText:BV,ResponseException:Rg,setLayerDimensions:ul,shadow:nt,SignatureExtractor:uc,stopEvent:an,SupportedImageMimeTypes:VA,TextLayer:yr,TouchManager:Ay,updateUrlHash:RV,Util:Ce,VerbosityLevel:xy,version:Wde,XfaLayer:$V};const ghe="/assets/pdf.worker.min-Cpi8b8z3.mjs";kc.workerSrc=ghe;const vhe={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function dj(t){const e=t.toLowerCase();for(const[n,{category:r,keywords:i}]of Object.entries(vhe))if(i.some(s=>e.includes(s)))return r;return"other"}function sD(t){const e=t.split(`
`).filter(r=>r.trim()),n=[];for(const r of e){const i=r.replace(/paid to/i,"").trim(),s=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const a of s){const o=i.match(a);if(o){const l=a.source.startsWith("^?"),c=parseFloat(l?o[1]:o[2]),h=(l?o[2]:o[1]).trim();if(!isNaN(c)){n.push({amount:c,merchant:h,category:dj(h)});break}}}}return n}function yhe(t){try{const e=JSON.parse(t),n=[],r=Array.isArray(e)?e:[e];for(const i of r)if((i.amount||i.Amount)&&(i.merchant||i.Merchant||i.description||i.Description)){const s=parseFloat(i.amount||i.Amount),a=i.merchant||i.Merchant||i.description||i.Description;isNaN(s)||n.push({amount:s,merchant:a,category:i.category||dj(a),date:i.date||i.Date})}return n}catch{return[]}}function bhe(t){const e=t.split(`
`).filter(l=>l.trim());if(e.length<2)return[];const n=[],r=e[0].toLowerCase().split(",").map(l=>l.trim().replace(/['"]/g,"")),i=r.findIndex(l=>l.includes("amount")||l.includes("debit")||l.includes("withdrawal")),s=r.findIndex(l=>l.includes("merchant")||l.includes("description")||l.includes("narration")||l.includes("remarks")||l.includes("name")),a=r.findIndex(l=>l.includes("category")),o=r.findIndex(l=>l.includes("date"));if(i===-1||s===-1)return[];for(let l=1;l<e.length;l++){const c=e[l].split(",").map(h=>h.trim().replace(/^"|"$/g,""));if(c.length>Math.max(i,s)){const h=c[i].replace(/[,]/g,""),d=parseFloat(h),m=c[s],g=a!==-1?c[a]:dj(m),x=o!==-1?c[o]:void 0;!isNaN(d)&&m&&d>0&&n.push({amount:d,merchant:m,category:g,date:x})}}return n}function xhe({open:t,onClose:e}){const{currentUser:n,addExpense:r}=ot(),[i,s]=C.useState("pdf"),[a,o]=C.useState(""),[l,c]=C.useState([]),[h,d]=C.useState(!1),[m,g]=C.useState(!1),[x,v]=C.useState(null),[b,w]=C.useState(""),[_,A]=C.useState(!1),[T,P]=C.useState(null),E=async R=>{const $=R.target.files?.[0];$&&(v($),P(null))},k=async()=>{if(x){A(!0),P(null);try{const R=await x.arrayBuffer(),H=await r6({data:R,password:b}).promise;let G="";for(let B=1;B<=H.numPages;B++){const X=(await(await H.getPage(B)).getTextContent()).items.map(U=>U.str).join(" ");G+=X+`
`}const V=sD(G);if(V.length===0){const B=[/(\d{2}\/\d{2}\/\d{4})\s+(.+?)\s+([0-9,]+\.\d{2})/g,/([0-9,]+\.\d{2})\s+(.+?)\s+(\d{2}\/\d{2}\/\d{4})/g]}V.length>0?(c(V),d(!0)):P("Could not extract valid transactions. Please check the file format.")}catch(R){console.error("PDF Error:",R),R.name==="PasswordException"?P("Password required"):P("Failed to read PDF. "+R.message)}finally{A(!1)}}},O=()=>{let R=[];switch(i){case"paste":R=sD(a);break;case"json":R=yhe(a);break;case"csv":R=bhe(a);break}if(R.length===0){ke.error("No valid transactions found. Please check the format.");return}c(R),d(!0)},D=async()=>{if(!(!n||l.length===0)){g(!0);try{for(const R of l){const $={id:Qt(),method:"upi",amount:R.amount,payer_user_id:n.id,account_id:"upi"},H={id:Qt(),family_id:n.family_id,created_by:n.id,total_amount:R.amount,currency:"INR",category:R.category,date:R.date||ki(new Date),notes:R.merchant,payment_lines:[$],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r(H)}ke.success(`Successfully imported ${l.length} transactions`),F()}catch(R){console.error("Error importing transactions:",R),ke.error("Failed to import some transactions")}finally{g(!1)}}},F=()=>{o(""),c([]),d(!1),v(null),w(""),P(null),e()},M=()=>{d(!1)};return f.jsx(Wt,{open:t,onOpenChange:F,children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[h&&f.jsx(ue,{variant:"ghost",size:"icon",onClick:M,className:"shrink-0",children:f.jsx(jf,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs(sn,{className:"flex items-center gap-2",children:[f.jsx(qv,{className:"h-5 w-5 text-primary"}),h?"Preview Transactions":"Import UPI Transactions"]}),f.jsx(pn,{children:h?`Review ${l.length} transactions before importing`:"Upload a PDF statement, JSON/CSV file, or paste transaction data."})]})]})}),h?f.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[f.jsx("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),f.jsx("p",{className:"text-2xl font-semibold",children:l.length})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),f.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:["",l.reduce((R,$)=>R+$.amount,0).toFixed(2)]})]})]})}),f.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:C.useMemo(()=>{const R={};return l.forEach($=>{const H=$.category||"other";R[H]=(R[H]||0)+$.amount}),Object.entries(R).sort(($,H)=>H[1]-$[1])},[l]).map(([R,$])=>f.jsxs("div",{className:"bg-muted/30 p-2 rounded-lg flex justify-between items-center text-sm",children:[f.jsx("span",{className:"capitalize text-muted-foreground",children:R}),f.jsx("span",{className:"font-medium",children:$.toFixed(0)})]},R))}),f.jsx(gue,{className:"flex-1 -mx-6 px-6",children:f.jsx("div",{className:"space-y-2",children:l.map((R,$)=>f.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-lg bg-destructive/10 flex items-center justify-center shrink-0",children:f.jsx(FZ,{className:"h-5 w-5 text-destructive"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium truncate",children:R.merchant}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(Jt,{variant:"secondary",className:"text-xs capitalize",children:R.category}),R.date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:R.date})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("p",{className:"font-semibold text-destructive",children:["",R.amount]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"UPI"})]})]},$))})}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[f.jsx(ue,{variant:"outline",onClick:M,className:"flex-1",children:"Back"}),f.jsx(ue,{onClick:D,disabled:m,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:m?"Importing...":f.jsxs(f.Fragment,{children:[f.jsx(Vv,{className:"h-4 w-4"}),"Import ",l.length," Transactions"]})})]})]}):f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto",children:[f.jsxs(Ng,{children:[f.jsx(Ic,{className:"h-4 w-4"}),f.jsx(Og,{children:"We'll automatically detect categories based on merchant names."})]}),f.jsxs(Hc,{value:i,onValueChange:s,children:[f.jsxs(qc,{className:"grid w-full grid-cols-4",children:[f.jsx(Fr,{value:"pdf",children:"PDF"}),f.jsx(Fr,{value:"paste",children:"Paste"}),f.jsx(Fr,{value:"json",children:"JSON"}),f.jsx(Fr,{value:"csv",children:"CSV"})]}),f.jsxs(Za,{value:"pdf",className:"space-y-4",children:[f.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl p-8 text-center space-y-4 hover:bg-muted/50 transition-colors",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:f.jsx(BZ,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:x?x.name:"Upload Bank Statement PDF"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?`${(x.size/1024).toFixed(1)} KB`:"Click to browse or drag and drop"})]}),f.jsx(Tt,{type:"file",accept:".pdf",className:"hidden",id:"pdf-upload",onChange:E}),f.jsx(ue,{variant:"outline",onClick:()=>document.getElementById("pdf-upload")?.click(),children:"Select PDF"})]}),x&&f.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"pdf-password",children:"Password (if protected)"}),f.jsxs("div",{className:"relative",children:[f.jsx(l5,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Tt,{id:"pdf-password",type:"password",placeholder:"Enter PDF password",value:b,onChange:R=>w(R.target.value),className:"pl-9"})]})]}),T&&f.jsxs(Ng,{variant:"destructive",children:[f.jsx(Ic,{className:"h-4 w-4"}),f.jsx(Og,{children:T})]}),f.jsx(ue,{onClick:k,disabled:_,className:"w-full",children:_?"Reading PDF...":"Process PDF"})]})]}),f.jsxs(Za,{value:"paste",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Paste transaction data (one per line)"}),f.jsx(eo,{placeholder:`250 Zomato
500 Uber
1200 BigBasket`,value:a,onChange:R=>o(R.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ue,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(Za,{value:"json",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Paste JSON data"}),f.jsx(eo,{placeholder:`[
  {"amount": 250, "merchant": "Zomato"},
  {"amount": 500, "merchant": "Uber", "category": "transport"}
]`,value:a,onChange:R=>o(R.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ue,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(Za,{value:"csv",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Paste CSV data"}),f.jsx(eo,{placeholder:`amount,merchant,category,date
250,Zomato,food,2025-11-04
500,Uber,transport,2025-11-04`,value:a,onChange:R=>o(R.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ue,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]})]})]})]})})}const whe=[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"week",label:"Week"},{value:"month",label:"Month"}],She=["All Categories","Food & Dining","Transportation","Shopping","Bills & Utilities","Entertainment","Healthcare","Education","Personal Care","Home & Garden","Gifts & Donations","Travel","Other"],_he=["All Modes","Cash","UPI","Card","Net Banking","Other"];function Ahe({open:t,onClose:e,onApplyFilters:n}){const[r,i]=C.useState(""),[s,a]=C.useState("all"),[o,l]=C.useState("All Categories"),[c,h]=C.useState("All Modes"),d=()=>{n?.({searchQuery:r,timeRange:s,category:o,mode:c}),e()},m=()=>{i(""),a("all"),l("All Categories"),h("All Modes")};return f.jsx(Wt,{open:t,onOpenChange:e,children:f.jsxs(Ht,{className:"max-w-md p-0 gap-0 bg-background",children:[f.jsx("div",{className:"p-4 pb-3 border-b",children:f.jsxs("div",{className:"relative",children:[f.jsx(wJ,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),f.jsx(Tt,{placeholder:"Search transactions...",value:r,onChange:g=>i(g.target.value),className:"pl-10 pr-12 h-11 bg-surface-variant/30 border-0"}),r&&f.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-muted-foreground hover:text-foreground hover:bg-surface-variant/50 rounded-sm z-10",children:f.jsx(Pu,{className:"h-4 w-4"})})]})}),f.jsx("div",{className:"px-4 py-4 border-b",children:f.jsx("div",{className:"flex gap-2",children:whe.map(g=>f.jsx(ue,{variant:s===g.value?"default":"outline",size:"sm",onClick:()=>a(g.value),className:`flex-1 h-9 ${s===g.value?"bg-primary text-primary-foreground shadow-sm":"bg-surface-variant/30 hover:bg-surface-variant/50 border-0"}`,children:g.label},g.value))})}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs(Vn,{value:o,onValueChange:l,children:[f.jsx(Hn,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Wn,{})}),f.jsx(qn,{children:She.map(g=>f.jsx(ze,{value:g,children:g},g))})]}),f.jsxs(Vn,{value:c,onValueChange:h,children:[f.jsx(Hn,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Wn,{})}),f.jsx(qn,{children:_he.map(g=>f.jsx(ze,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"p-4 pt-2 flex gap-3 border-t bg-surface-variant/10",children:[f.jsx(ue,{variant:"outline",onClick:m,className:"flex-1 h-11",children:"Reset"}),f.jsx(ue,{onClick:d,className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:"Apply Filters"})]})]})})}function Che(){const{expenses:t,income:e,currentFamily:n}=ot(),{t:r}=ma();if(!n)return null;const i=n.currency,s=(F,M)=>t.filter(R=>T0(new Date(R.date),{start:F,end:M})).reduce((R,$)=>R+$.total_amount,0),a=(F,M)=>e.filter(R=>T0(new Date(R.date),{start:F,end:M})).reduce((R,$)=>R+$.amount,0),o=new Date,l=Oi(o,{weekStartsOn:1}),c=Nh(o,{weekStartsOn:1}),h=Oi(EM(o),{weekStartsOn:1}),d=Nh(EM(o),{weekStartsOn:1}),m=mr(o),g=kh(o),x=mr(PM(o)),v=kh(PM(o)),b=s(l,c),w=s(h,d),_=a(m,g),A=s(m,g),T=_-A,P=a(x,v),E=s(x,v),k=P-E,O=[];if(b>w&&w>0){const F=Math.round((b-w)/w*100);O.push({icon:f.jsx(ii,{className:"h-5 w-5 text-destructive"}),title:"Spending Alert",message:`You spent ${F}% more this week compared to last week.`,color:"bg-destructive/10 text-destructive-foreground"})}else if(b<w&&b>0){const F=Math.round((w-b)/w*100);O.push({icon:f.jsx(so,{className:"h-5 w-5 text-green-600"}),title:"Good Job!",message:`You've spent ${F}% less this week than last week. Keep it up!`,color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"})}if(T>k&&k>0){const F=T-k;O.push({icon:f.jsx(D2,{className:"h-5 w-5 text-yellow-600"}),title:"Savings Growth",message:`Great job! You saved ${i} ${F.toLocaleString()} more than usual this month.`,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"})}if(A>0){const F={};t.filter(R=>T0(new Date(R.date),{start:m,end:g})).forEach(R=>{F[R.category]=(F[R.category]||0)+R.total_amount});const M=Object.entries(F).sort((R,$)=>$[1]-R[1])[0];M&&M[1]/A>.4&&O.push({icon:f.jsx(Ic,{className:"h-5 w-5 text-orange-600"}),title:"Spending Insight",message:`Heads up! ${M[0]} makes up ${Math.round(M[1]/A*100)}% of your spending this month.`,color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"})}if(O.length===0&&t.length>0&&O.push({icon:f.jsx(D2,{className:"h-5 w-5 text-primary"}),title:"Tip",message:"Track your daily expenses to get better insights!",color:"bg-primary/10 text-primary-foreground"}),O.length===0)return null;const D=O.slice(0,2);return f.jsx("div",{className:"space-y-3",children:D.map((F,M)=>f.jsxs("div",{className:`p-4 rounded-xl border flex items-start gap-3 ${F.color}`,children:[f.jsx("div",{className:"shrink-0 mt-0.5",children:F.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm",children:F.title}),f.jsx("p",{className:"text-sm opacity-90",children:F.message})]})]},M))})}function Phe(){const{goals:t}=ot(),[e,n]=C.useState(null),r=t.find(a=>a.is_active&&a.priority==="high")||t.find(a=>a.is_active);if(!r)return null;const i=r.current_amount/r.target_amount*100,s=r.target_amount-r.current_amount;return f.jsxs(f.Fragment,{children:[f.jsxs(tt,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 border-blue-100 dark:border-blue-900 cursor-pointer hover:shadow-md transition-all",onClick:()=>n(r.id),children:[f.jsx(Et,{className:"pb-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(jt,{className:"text-sm font-medium text-blue-900 dark:text-blue-100 flex items-center gap-2",children:[f.jsx(el,{className:"h-4 w-4"}),"Goal of the Month"]}),f.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6",children:f.jsx(Wv,{className:"h-4 w-4 text-blue-900 dark:text-blue-100"})})]})}),f.jsx(_t,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:r.goal_name}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[Pe(r.current_amount)," / ",Pe(r.target_amount)]})]}),f.jsxs(ue,{size:"sm",className:"h-8 bg-blue-600 hover:bg-blue-700 text-white",onClick:a=>{a.stopPropagation(),n(r.id)},children:[f.jsx(Br,{className:"h-3 w-3 mr-1"}),"Add"]})]}),f.jsxs("div",{className:"space-y-1",children:[f.jsx(kf,{value:i,className:"h-2 bg-blue-200 dark:bg-blue-900",indicatorClassName:"bg-blue-600"}),f.jsxs("p",{className:"text-xs text-right text-blue-700 dark:text-blue-300",children:[i.toFixed(0),"%  ",Pe(s)," to go"]})]})]})})]}),e&&f.jsx(sz,{goal:r,open:!!e,onClose:()=>n(null)})]})}var K0,aD;function Ur(){if(aD)return K0;aD=1;var t=Array.isArray;return K0=t,K0}var Y0,oD;function h6(){if(oD)return Y0;oD=1;var t=typeof mm=="object"&&mm&&mm.Object===Object&&mm;return Y0=t,Y0}var X0,lD;function Rs(){if(lD)return X0;lD=1;var t=h6(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return X0=n,X0}var Q0,cD;function Yf(){if(cD)return Q0;cD=1;var t=Rs(),e=t.Symbol;return Q0=e,Q0}var Z0,uD;function Ehe(){if(uD)return Z0;uD=1;var t=Yf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var h=r.call(a);return c&&(o?a[i]=l:delete a[i]),h}return Z0=s,Z0}var J0,dD;function jhe(){if(dD)return J0;dD=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return J0=n,J0}var ew,hD;function ga(){if(hD)return ew;hD=1;var t=Yf(),e=Ehe(),n=jhe(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return ew=a,ew}var tw,fD;function va(){if(fD)return tw;fD=1;function t(e){return e!=null&&typeof e=="object"}return tw=t,tw}var nw,pD;function Du(){if(pD)return nw;pD=1;var t=ga(),e=va(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return nw=r,nw}var rw,mD;function hj(){if(mD)return rw;mD=1;var t=Ur(),e=Du(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return rw=i,rw}var iw,gD;function mo(){if(gD)return iw;gD=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return iw=t,iw}var sw,vD;function fj(){if(vD)return sw;vD=1;var t=ga(),e=mo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return sw=a,sw}var aw,yD;function The(){if(yD)return aw;yD=1;var t=Rs(),e=t["__core-js_shared__"];return aw=e,aw}var ow,bD;function khe(){if(bD)return ow;bD=1;var t=The(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return ow=n,ow}var lw,xD;function f6(){if(xD)return lw;xD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return lw=n,lw}var cw,wD;function Nhe(){if(wD)return cw;wD=1;var t=fj(),e=khe(),n=mo(),r=f6(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,h=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(m){if(!n(m)||e(m))return!1;var g=t(m)?h:s;return g.test(r(m))}return cw=d,cw}var uw,SD;function Ohe(){if(SD)return uw;SD=1;function t(e,n){return e?.[n]}return uw=t,uw}var dw,_D;function xl(){if(_D)return dw;_D=1;var t=Nhe(),e=Ohe();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return dw=n,dw}var hw,AD;function Ey(){if(AD)return hw;AD=1;var t=xl(),e=t(Object,"create");return hw=e,hw}var fw,CD;function Mhe(){if(CD)return fw;CD=1;var t=Ey();function e(){this.__data__=t?t(null):{},this.size=0}return fw=e,fw}var pw,PD;function Dhe(){if(PD)return pw;PD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return pw=t,pw}var mw,ED;function Rhe(){if(ED)return mw;ED=1;var t=Ey(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return mw=i,mw}var gw,jD;function Ihe(){if(jD)return gw;jD=1;var t=Ey(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return gw=r,gw}var vw,TD;function Lhe(){if(TD)return vw;TD=1;var t=Ey(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return vw=n,vw}var yw,kD;function Fhe(){if(kD)return yw;kD=1;var t=Mhe(),e=Dhe(),n=Rhe(),r=Ihe(),i=Lhe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,yw=s,yw}var bw,ND;function $he(){if(ND)return bw;ND=1;function t(){this.__data__=[],this.size=0}return bw=t,bw}var xw,OD;function pj(){if(OD)return xw;OD=1;function t(e,n){return e===n||e!==e&&n!==n}return xw=t,xw}var ww,MD;function jy(){if(MD)return ww;MD=1;var t=pj();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return ww=e,ww}var Sw,DD;function Bhe(){if(DD)return Sw;DD=1;var t=jy(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return Sw=r,Sw}var _w,RD;function Uhe(){if(RD)return _w;RD=1;var t=jy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return _w=e,_w}var Aw,ID;function zhe(){if(ID)return Aw;ID=1;var t=jy();function e(n){return t(this.__data__,n)>-1}return Aw=e,Aw}var Cw,LD;function Vhe(){if(LD)return Cw;LD=1;var t=jy();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return Cw=e,Cw}var Pw,FD;function Ty(){if(FD)return Pw;FD=1;var t=$he(),e=Bhe(),n=Uhe(),r=zhe(),i=Vhe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Pw=s,Pw}var Ew,$D;function mj(){if($D)return Ew;$D=1;var t=xl(),e=Rs(),n=t(e,"Map");return Ew=n,Ew}var jw,BD;function Whe(){if(BD)return jw;BD=1;var t=Fhe(),e=Ty(),n=mj();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return jw=r,jw}var Tw,UD;function Hhe(){if(UD)return Tw;UD=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Tw=t,Tw}var kw,zD;function ky(){if(zD)return kw;zD=1;var t=Hhe();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return kw=e,kw}var Nw,VD;function qhe(){if(VD)return Nw;VD=1;var t=ky();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return Nw=e,Nw}var Ow,WD;function Ghe(){if(WD)return Ow;WD=1;var t=ky();function e(n){return t(this,n).get(n)}return Ow=e,Ow}var Mw,HD;function Khe(){if(HD)return Mw;HD=1;var t=ky();function e(n){return t(this,n).has(n)}return Mw=e,Mw}var Dw,qD;function Yhe(){if(qD)return Dw;qD=1;var t=ky();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Dw=e,Dw}var Rw,GD;function gj(){if(GD)return Rw;GD=1;var t=Whe(),e=qhe(),n=Ghe(),r=Khe(),i=Yhe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Rw=s,Rw}var Iw,KD;function p6(){if(KD)return Iw;KD=1;var t=gj(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,Iw=n,Iw}var Lw,YD;function Xhe(){if(YD)return Lw;YD=1;var t=p6(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return Lw=n,Lw}var Fw,XD;function Qhe(){if(XD)return Fw;XD=1;var t=Xhe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return Fw=r,Fw}var $w,QD;function vj(){if(QD)return $w;QD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return $w=t,$w}var Bw,ZD;function Zhe(){if(ZD)return Bw;ZD=1;var t=Yf(),e=vj(),n=Ur(),r=Du(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Bw=a,Bw}var Uw,JD;function m6(){if(JD)return Uw;JD=1;var t=Zhe();function e(n){return n==null?"":t(n)}return Uw=e,Uw}var zw,eR;function g6(){if(eR)return zw;eR=1;var t=Ur(),e=hj(),n=Qhe(),r=m6();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return zw=i,zw}var Vw,tR;function Ny(){if(tR)return Vw;tR=1;var t=Du();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Vw=e,Vw}var Ww,nR;function yj(){if(nR)return Ww;nR=1;var t=g6(),e=Ny();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return Ww=n,Ww}var Hw,rR;function v6(){if(rR)return Hw;rR=1;var t=yj();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Hw=e,Hw}var Jhe=v6();const ni=At(Jhe);var qw,iR;function efe(){if(iR)return qw;iR=1;function t(e){return e==null}return qw=t,qw}var tfe=efe();const Qe=At(tfe);var Gw,sR;function nfe(){if(sR)return Gw;sR=1;var t=ga(),e=Ur(),n=va(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return Gw=i,Gw}var rfe=nfe();const hl=At(rfe);var ife=fj();const Ke=At(ife);var sfe=mo();const Ru=At(sfe);var Kw={exports:{}},wt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR;function afe(){if(aR)return wt;aR=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function v(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case n:case i:case r:case c:case h:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case m:case d:case s:return b;default:return w}}case e:return w}}}return wt.ContextConsumer=a,wt.ContextProvider=s,wt.Element=t,wt.ForwardRef=l,wt.Fragment=n,wt.Lazy=m,wt.Memo=d,wt.Portal=e,wt.Profiler=i,wt.StrictMode=r,wt.Suspense=c,wt.SuspenseList=h,wt.isAsyncMode=function(){return!1},wt.isConcurrentMode=function(){return!1},wt.isContextConsumer=function(b){return v(b)===a},wt.isContextProvider=function(b){return v(b)===s},wt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},wt.isForwardRef=function(b){return v(b)===l},wt.isFragment=function(b){return v(b)===n},wt.isLazy=function(b){return v(b)===m},wt.isMemo=function(b){return v(b)===d},wt.isPortal=function(b){return v(b)===e},wt.isProfiler=function(b){return v(b)===i},wt.isStrictMode=function(b){return v(b)===r},wt.isSuspense=function(b){return v(b)===c},wt.isSuspenseList=function(b){return v(b)===h},wt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===h||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===d||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},wt.typeOf=v,wt}var oR;function ofe(){return oR||(oR=1,Kw.exports=afe()),Kw.exports}var lfe=ofe(),Yw,lR;function y6(){if(lR)return Yw;lR=1;var t=ga(),e=va(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return Yw=r,Yw}var Xw,cR;function cfe(){if(cR)return Xw;cR=1;var t=y6();function e(n){return t(n)&&n!=+n}return Xw=e,Xw}var ufe=cfe();const Xf=At(ufe);var dfe=y6();const hfe=At(dfe);var Sr=function(e){return e===0?0:e>0?1:-1},Ko=function(e){return hl(e)&&e.indexOf("%")===e.length-1},ge=function(e){return hfe(e)&&!Xf(e)},ffe=function(e){return Qe(e)},Nn=function(e){return ge(e)||hl(e)},pfe=0,Iu=function(e){var n=++pfe;return"".concat(e||"").concat(n)},_r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&!hl(e))return r;var s;if(Ko(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Xf(s)&&(s=r),i&&s>n&&(s=n),s},Qa=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},mfe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Jr=function(e,n){return ge(e)&&ge(n)?function(r){return e+r*(n-e)}:function(){return n}};function Fg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ni(r,e))===n})}var gfe=function(e,n){return ge(e)&&ge(n)?e-n:hl(e)&&hl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Nc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function JA(t){"@babel/helpers - typeof";return JA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JA(t)}var vfe=["viewBox","children"],yfe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uR=["points","pathLength"],Qw={svg:vfe,polygon:uR,polyline:uR},bj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],$g=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!Ru(r))return null;var i={};return Object.keys(r).forEach(function(s){bj.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},bfe=function(e,n,r){return function(i){return e(n,r,i),null}},fl=function(e,n,r){if(!Ru(e)||JA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];bj.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=bfe(a,n,r))}),i},xfe=["children"],wfe=["children"];function dR(t,e){if(t==null)return{};var n=Sfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function eC(t){"@babel/helpers - typeof";return eC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eC(t)}var hR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ia=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fR=null,Zw=null,xj=function t(e){if(e===fR&&Array.isArray(Zw))return Zw;var n=[];return C.Children.forEach(e,function(r){Qe(r)||(lfe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),Zw=n,fR=e,n};function ri(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return ia(i)}):r=[ia(e)],xj(t).forEach(function(i){var s=ni(i,"type.displayName")||ni(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Xr(t,e){var n=ri(t,e);return n&&n[0]}var pR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ge(r)||r<=0||!ge(i)||i<=0)},_fe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Afe=function(e){return e&&e.type&&hl(e.type)&&_fe.indexOf(e.type)>=0},Cfe=function(e){return e&&eC(e)==="object"&&"clipDot"in e},Pfe=function(e,n,r,i){var s,a=(s=Qw?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ke(e)&&(i&&a.includes(n)||yfe.includes(n))||r&&bj.includes(n)},Be=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!Ru(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Pfe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},tC=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return mR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!mR(s,a))return!1}return!0},mR=function(e,n){if(Qe(e)&&Qe(n))return!0;if(!Qe(e)&&!Qe(n)){var r=e.props||{},i=r.children,s=dR(r,xfe),a=n.props||{},o=a.children,l=dR(a,wfe);return i&&o?Nc(s,l)&&tC(i,o):!i&&!o?Nc(s,l):!1}return!1},gR=function(e,n){var r=[],i={};return xj(e).forEach(function(s,a){if(Afe(s))r.push(s);else if(s){var o=ia(s.type),l=n[o]||{},c=l.handler,h=l.once;if(c&&(!h||!i[o])){var d=c(s,o,a);r.push(d),i[o]=!0}}}),r},Efe=function(e){var n=e&&e.type;return n&&hR[n]?hR[n]:null},jfe=function(e,n){return xj(n).indexOf(e)},Tfe=["children","width","height","viewBox","className","style","title","desc"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(this,arguments)}function kfe(t,e){if(t==null)return{};var n=Nfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=kfe(t,Tfe),h=i||{width:n,height:r,x:0,y:0},d=Je("recharts-surface",s);return z.createElement("svg",nC({},Be(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),e)}var Ofe=["children","className"];function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(this,arguments)}function Mfe(t,e){if(t==null)return{};var n=Dfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Dfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mt=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Mfe(t,Ofe),s=Je("recharts-layer",r);return z.createElement("g",iC({className:s},Be(i,!0),{ref:e}),n)}),Zi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Jw,vR;function Rfe(){if(vR)return Jw;vR=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return Jw=t,Jw}var e1,yR;function Ife(){if(yR)return e1;yR=1;var t=Rfe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return e1=e,e1}var t1,bR;function b6(){if(bR)return t1;bR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return t1=l,t1}var n1,xR;function Lfe(){if(xR)return n1;xR=1;function t(e){return e.split("")}return n1=t,n1}var r1,wR;function Ffe(){if(wR)return r1;wR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",h="[^"+t+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",v="["+s+"]?",b="(?:"+g+"(?:"+[h,d,m].join("|")+")"+v+x+")*",w=v+x+b,_="(?:"+[h+o+"?",o,d,m,a].join("|")+")",A=RegExp(l+"(?="+l+")|"+_+w,"g");function T(P){return P.match(A)||[]}return r1=T,r1}var i1,SR;function $fe(){if(SR)return i1;SR=1;var t=Lfe(),e=b6(),n=Ffe();function r(i){return e(i)?n(i):t(i)}return i1=r,i1}var s1,_R;function Bfe(){if(_R)return s1;_R=1;var t=Ife(),e=b6(),n=$fe(),r=m6();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,l=o?o[0]:a.charAt(0),c=o?t(o,1).join(""):a.slice(1);return l[s]()+c}}return s1=i,s1}var a1,AR;function Ufe(){if(AR)return a1;AR=1;var t=Bfe(),e=t("toUpperCase");return a1=e,a1}var zfe=Ufe();const Oy=At(zfe);function Lt(t){return function(){return t}}const x6=Math.cos,Bg=Math.sin,is=Math.sqrt,Ug=Math.PI,My=2*Ug,sC=Math.PI,aC=2*sC,Uo=1e-6,Vfe=aC-Uo;function w6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Wfe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return w6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Hfe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?w6:Wfe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,h=a-e,d=o-n,m=h*h+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Uo)if(!(Math.abs(d*l-c*h)>Uo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,x=i-o,v=l*l+c*c,b=g*g+x*x,w=Math.sqrt(v),_=Math.sqrt(m),A=s*Math.tan((sC-Math.acos((v+m-b)/(2*w*_)))/2),T=A/_,P=A/w;Math.abs(T-1)>Uo&&this._append`L${e+T*h},${n+T*d}`,this._append`A${s},${s},0,0,${+(d*g>h*x)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,h=n+l,d=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${c},${h}`:(Math.abs(this._x1-c)>Uo||Math.abs(this._y1-h)>Uo)&&this._append`L${c},${h}`,r&&(m<0&&(m=m%aC+aC),m>Vfe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=h}`:m>Uo&&this._append`A${r},${r},0,${+(m>=sC)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function wj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Hfe(e)}function Sj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function S6(t){this._context=t}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Dy(t){return new S6(t)}function _6(t){return t[0]}function A6(t){return t[1]}function C6(t,e){var n=Lt(!0),r=null,i=Dy,s=null,a=wj(o);t=typeof t=="function"?t:t===void 0?_6:Lt(t),e=typeof e=="function"?e:e===void 0?A6:Lt(e);function o(l){var c,h=(l=Sj(l)).length,d,m=!1,g;for(r==null&&(s=i(g=a())),c=0;c<=h;++c)!(c<h&&n(d=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(d,c,l),+e(d,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Lt(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Lt(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Lt(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Bm(t,e,n){var r=null,i=Lt(!0),s=null,a=Dy,o=null,l=wj(c);t=typeof t=="function"?t:t===void 0?_6:Lt(+t),e=typeof e=="function"?e:Lt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?A6:Lt(+n);function c(d){var m,g,x,v=(d=Sj(d)).length,b,w=!1,_,A=new Array(v),T=new Array(v);for(s==null&&(o=a(_=l())),m=0;m<=v;++m){if(!(m<v&&i(b=d[m],m,d))===w)if(w=!w)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(A[x],T[x]);o.lineEnd(),o.areaEnd()}w&&(A[m]=+t(b,m,d),T[m]=+e(b,m,d),o.point(r?+r(b,m,d):A[m],n?+n(b,m,d):T[m]))}if(_)return o=null,_+""||null}function h(){return C6().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Lt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Lt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Lt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Lt(+d),c):n},c.lineX0=c.lineY0=function(){return h().x(t).y(e)},c.lineY1=function(){return h().x(t).y(n)},c.lineX1=function(){return h().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Lt(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class P6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function qfe(t){return new P6(t,!0)}function Gfe(t){return new P6(t,!1)}const _j={draw(t,e){const n=is(e/Ug);t.moveTo(n,0),t.arc(0,0,n,0,My)}},Kfe={draw(t,e){const n=is(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},E6=is(1/3),Yfe=E6*2,Xfe={draw(t,e){const n=is(e/Yfe),r=n*E6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Qfe={draw(t,e){const n=is(e),r=-n/2;t.rect(r,r,n,n)}},Zfe=.8908130915292852,j6=Bg(Ug/10)/Bg(7*Ug/10),Jfe=Bg(My/10)*j6,epe=-x6(My/10)*j6,tpe={draw(t,e){const n=is(e*Zfe),r=Jfe*n,i=epe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=My*s/5,o=x6(a),l=Bg(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},o1=is(3),npe={draw(t,e){const n=-is(e/(o1*3));t.moveTo(0,n*2),t.lineTo(-o1*n,-n),t.lineTo(o1*n,-n),t.closePath()}},bi=-.5,xi=is(3)/2,oC=1/is(12),rpe=(oC/2+1)*3,ipe={draw(t,e){const n=is(e/rpe),r=n/2,i=n*oC,s=r,a=n*oC+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(bi*r-xi*i,xi*r+bi*i),t.lineTo(bi*s-xi*a,xi*s+bi*a),t.lineTo(bi*o-xi*l,xi*o+bi*l),t.lineTo(bi*r+xi*i,bi*i-xi*r),t.lineTo(bi*s+xi*a,bi*a-xi*s),t.lineTo(bi*o+xi*l,bi*l-xi*o),t.closePath()}};function spe(t,e){let n=null,r=wj(i);t=typeof t=="function"?t:Lt(t||_j),e=typeof e=="function"?e:Lt(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Lt(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function zg(){}function Vg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function T6(t){this._context=t}T6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Vg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ape(t){return new T6(t)}function k6(t){this._context=t}k6.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ope(t){return new k6(t)}function N6(t){this._context=t}N6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Vg(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function lpe(t){return new N6(t)}function O6(t){this._context=t}O6.prototype={areaStart:zg,areaEnd:zg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cpe(t){return new O6(t)}function CR(t){return t<0?-1:1}function PR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(CR(s)+CR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function ER(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function l1(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Wg(t){this._context=t}Wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:l1(this,this._t0,ER(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,l1(this,ER(this,n=PR(this,t,e)),n);break;default:l1(this,this._t0,n=PR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function M6(t){this._context=new D6(t)}(M6.prototype=Object.create(Wg.prototype)).point=function(t,e){Wg.prototype.point.call(this,e,t)};function D6(t){this._context=t}D6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function upe(t){return new Wg(t)}function dpe(t){return new M6(t)}function R6(t){this._context=t}R6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jR(t),i=jR(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function hpe(t){return new R6(t)}function Ry(t,e){this._context=t,this._t=e}Ry.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function fpe(t){return new Ry(t,.5)}function ppe(t){return new Ry(t,0)}function mpe(t){return new Ry(t,1)}function Yc(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function lC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function gpe(t,e){return t[e]}function vpe(t){const e=[];return e.key=t,e}function ype(){var t=Lt([]),e=lC,n=Yc,r=gpe;function i(s){var a=Array.from(t.apply(this,arguments),vpe),o,l=a.length,c=-1,h;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,h=Sj(e(a));o<l;++o)a[h[o]].index=o;return n(a,h),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Lt(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Lt(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?lC:typeof s=="function"?s:Lt(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Yc,i):n},i}function bpe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Yc(t,e)}}function xpe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Yc(t,e)}}function wpe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var h=t[e[o]],d=h[r][1]||0,m=h[r-1][1]||0,g=(d-m)/2,x=0;x<o;++x){var v=t[e[x]],b=v[r][1]||0,w=v[r-1][1]||0;g+=b-w}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Yc(t,e)}}function $h(t){"@babel/helpers - typeof";return $h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$h(t)}var Spe=["type","size","sizeType"];function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cC.apply(this,arguments)}function TR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TR(Object(n),!0).forEach(function(r){_pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _pe(t,e,n){return e=Ape(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ape(t){var e=Cpe(t,"string");return $h(e)=="symbol"?e:e+""}function Cpe(t,e){if($h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if($h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ppe(t,e){if(t==null)return{};var n=Epe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Epe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var I6={symbolCircle:_j,symbolCross:Kfe,symbolDiamond:Xfe,symbolSquare:Qfe,symbolStar:tpe,symbolTriangle:npe,symbolWye:ipe},jpe=Math.PI/180,Tpe=function(e){var n="symbol".concat(Oy(e));return I6[n]||_j},kpe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*jpe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Npe=function(e,n){I6["symbol".concat(Oy(e))]=n},Aj=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Ppe(e,Spe),c=kR(kR({},l),{},{type:r,size:s,sizeType:o}),h=function(){var b=Tpe(r),w=spe().type(b).size(kpe(s,o,r));return w()},d=c.className,m=c.cx,g=c.cy,x=Be(c,!0);return m===+m&&g===+g&&s===+s?z.createElement("path",cC({},x,{className:Je("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(g,")"),d:h()})):null};Aj.registerSymbol=Npe;function Xc(t){"@babel/helpers - typeof";return Xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xc(t)}function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uC.apply(this,arguments)}function NR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ope(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NR(Object(n),!0).forEach(function(r){Bh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,F6(r.key),r)}}function Rpe(t,e,n){return e&&Dpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ipe(t,e,n){return e=Hg(e),Lpe(t,L6()?Reflect.construct(e,n||[],Hg(t).constructor):e.apply(t,n))}function Lpe(t,e){if(e&&(Xc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fpe(t)}function Fpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(L6=function(){return!!t})()}function Hg(t){return Hg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hg(t)}function $pe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dC(t,e)}function dC(t,e){return dC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dC(t,e)}function Bh(t,e,n){return e=F6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F6(t){var e=Bpe(t,"string");return Xc(e)=="symbol"?e:e+""}function Bpe(t,e){if(Xc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wi=32,Cj=(function(t){function e(){return Mpe(this,e),Ipe(this,e,arguments)}return $pe(e,t),Rpe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=wi/2,a=wi/6,o=wi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:wi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(wi,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(wi/8,"h").concat(wi,"v").concat(wi*3/4,"h").concat(-wi,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Ope({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(Aj,{fill:l,cx:s,cy:s,size:wi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,h={x:0,y:0,width:wi,height:wi},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,x){var v=g.formatter||l,b=Je(Bh(Bh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=Ke(g.value)?null:g.value;Zi(!Ke(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var _=g.inactive?c:g.color;return z.createElement("li",uC({className:b,style:d,key:"legend-item-".concat(x)},fl(r.props,g,x)),z.createElement(rC,{width:a,height:a,viewBox:h,style:m},r.renderIcon(g)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:_}},v?v(w,g,x):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(C.PureComponent);Bh(Cj,"displayName","Legend");Bh(Cj,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var c1,OR;function Upe(){if(OR)return c1;OR=1;var t=Ty();function e(){this.__data__=new t,this.size=0}return c1=e,c1}var u1,MR;function zpe(){if(MR)return u1;MR=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return u1=t,u1}var d1,DR;function Vpe(){if(DR)return d1;DR=1;function t(e){return this.__data__.get(e)}return d1=t,d1}var h1,RR;function Wpe(){if(RR)return h1;RR=1;function t(e){return this.__data__.has(e)}return h1=t,h1}var f1,IR;function Hpe(){if(IR)return f1;IR=1;var t=Ty(),e=mj(),n=gj(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return f1=i,f1}var p1,LR;function $6(){if(LR)return p1;LR=1;var t=Ty(),e=Upe(),n=zpe(),r=Vpe(),i=Wpe(),s=Hpe();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,p1=a,p1}var m1,FR;function qpe(){if(FR)return m1;FR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return m1=e,m1}var g1,$R;function Gpe(){if($R)return g1;$R=1;function t(e){return this.__data__.has(e)}return g1=t,g1}var v1,BR;function B6(){if(BR)return v1;BR=1;var t=gj(),e=qpe(),n=Gpe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,v1=r,v1}var y1,UR;function U6(){if(UR)return y1;UR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return y1=t,y1}var b1,zR;function z6(){if(zR)return b1;zR=1;function t(e,n){return e.has(n)}return b1=t,b1}var x1,VR;function V6(){if(VR)return x1;VR=1;var t=B6(),e=U6(),n=z6(),r=1,i=2;function s(a,o,l,c,h,d){var m=l&r,g=a.length,x=o.length;if(g!=x&&!(m&&x>g))return!1;var v=d.get(a),b=d.get(o);if(v&&b)return v==o&&b==a;var w=-1,_=!0,A=l&i?new t:void 0;for(d.set(a,o),d.set(o,a);++w<g;){var T=a[w],P=o[w];if(c)var E=m?c(P,T,w,o,a,d):c(T,P,w,a,o,d);if(E!==void 0){if(E)continue;_=!1;break}if(A){if(!e(o,function(k,O){if(!n(A,O)&&(T===k||h(T,k,l,c,d)))return A.push(O)})){_=!1;break}}else if(!(T===P||h(T,P,l,c,d))){_=!1;break}}return d.delete(a),d.delete(o),_}return x1=s,x1}var w1,WR;function Kpe(){if(WR)return w1;WR=1;var t=Rs(),e=t.Uint8Array;return w1=e,w1}var S1,HR;function Ype(){if(HR)return S1;HR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return S1=t,S1}var _1,qR;function Pj(){if(qR)return _1;qR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return _1=t,_1}var A1,GR;function Xpe(){if(GR)return A1;GR=1;var t=Yf(),e=Kpe(),n=pj(),r=V6(),i=Ype(),s=Pj(),a=1,o=2,l="[object Boolean]",c="[object Date]",h="[object Error]",d="[object Map]",m="[object Number]",g="[object RegExp]",x="[object Set]",v="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",_="[object DataView]",A=t?t.prototype:void 0,T=A?A.valueOf:void 0;function P(E,k,O,D,F,M,R){switch(O){case _:if(E.byteLength!=k.byteLength||E.byteOffset!=k.byteOffset)return!1;E=E.buffer,k=k.buffer;case w:return!(E.byteLength!=k.byteLength||!M(new e(E),new e(k)));case l:case c:case m:return n(+E,+k);case h:return E.name==k.name&&E.message==k.message;case g:case v:return E==k+"";case d:var $=i;case x:var H=D&a;if($||($=s),E.size!=k.size&&!H)return!1;var G=R.get(E);if(G)return G==k;D|=o,R.set(E,k);var V=r($(E),$(k),D,F,M,R);return R.delete(E),V;case b:if(T)return T.call(E)==T.call(k)}return!1}return A1=P,A1}var C1,KR;function W6(){if(KR)return C1;KR=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return C1=t,C1}var P1,YR;function Qpe(){if(YR)return P1;YR=1;var t=W6(),e=Ur();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return P1=n,P1}var E1,XR;function Zpe(){if(XR)return E1;XR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return E1=t,E1}var j1,QR;function Jpe(){if(QR)return j1;QR=1;function t(){return[]}return j1=t,j1}var T1,ZR;function eme(){if(ZR)return T1;ZR=1;var t=Zpe(),e=Jpe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return T1=s,T1}var k1,JR;function tme(){if(JR)return k1;JR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return k1=t,k1}var N1,eI;function nme(){if(eI)return N1;eI=1;var t=ga(),e=va(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return N1=r,N1}var O1,tI;function Ej(){if(tI)return O1;tI=1;var t=nme(),e=va(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return O1=s,O1}var Qd={exports:{}},M1,nI;function rme(){if(nI)return M1;nI=1;function t(){return!1}return M1=t,M1}Qd.exports;var rI;function H6(){return rI||(rI=1,(function(t,e){var n=Rs(),r=rme(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(Qd,Qd.exports)),Qd.exports}var D1,iI;function jj(){if(iI)return D1;iI=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return D1=n,D1}var R1,sI;function Tj(){if(sI)return R1;sI=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return R1=e,R1}var I1,aI;function ime(){if(aI)return I1;aI=1;var t=ga(),e=Tj(),n=va(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",h="[object Number]",d="[object Object]",m="[object RegExp]",g="[object Set]",x="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",A="[object Float64Array]",T="[object Int8Array]",P="[object Int16Array]",E="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",D="[object Uint16Array]",F="[object Uint32Array]",M={};M[_]=M[A]=M[T]=M[P]=M[E]=M[k]=M[O]=M[D]=M[F]=!0,M[r]=M[i]=M[b]=M[s]=M[w]=M[a]=M[o]=M[l]=M[c]=M[h]=M[d]=M[m]=M[g]=M[x]=M[v]=!1;function R($){return n($)&&e($.length)&&!!M[t($)]}return I1=R,I1}var L1,oI;function q6(){if(oI)return L1;oI=1;function t(e){return function(n){return e(n)}}return L1=t,L1}var Zd={exports:{}};Zd.exports;var lI;function sme(){return lI||(lI=1,(function(t,e){var n=h6(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Zd,Zd.exports)),Zd.exports}var F1,cI;function G6(){if(cI)return F1;cI=1;var t=ime(),e=q6(),n=sme(),r=n&&n.isTypedArray,i=r?e(r):t;return F1=i,F1}var $1,uI;function ame(){if(uI)return $1;uI=1;var t=tme(),e=Ej(),n=Ur(),r=H6(),i=jj(),s=G6(),a=Object.prototype,o=a.hasOwnProperty;function l(c,h){var d=n(c),m=!d&&e(c),g=!d&&!m&&r(c),x=!d&&!m&&!g&&s(c),v=d||m||g||x,b=v?t(c.length,String):[],w=b.length;for(var _ in c)(h||o.call(c,_))&&!(v&&(_=="length"||g&&(_=="offset"||_=="parent")||x&&(_=="buffer"||_=="byteLength"||_=="byteOffset")||i(_,w)))&&b.push(_);return b}return $1=l,$1}var B1,dI;function ome(){if(dI)return B1;dI=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return B1=e,B1}var U1,hI;function K6(){if(hI)return U1;hI=1;function t(e,n){return function(r){return e(n(r))}}return U1=t,U1}var z1,fI;function lme(){if(fI)return z1;fI=1;var t=K6(),e=t(Object.keys,Object);return z1=e,z1}var V1,pI;function cme(){if(pI)return V1;pI=1;var t=ome(),e=lme(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return V1=i,V1}var W1,mI;function Qf(){if(mI)return W1;mI=1;var t=fj(),e=Tj();function n(r){return r!=null&&e(r.length)&&!t(r)}return W1=n,W1}var H1,gI;function Iy(){if(gI)return H1;gI=1;var t=ame(),e=cme(),n=Qf();function r(i){return n(i)?t(i):e(i)}return H1=r,H1}var q1,vI;function ume(){if(vI)return q1;vI=1;var t=Qpe(),e=eme(),n=Iy();function r(i){return t(i,n,e)}return q1=r,q1}var G1,yI;function dme(){if(yI)return G1;yI=1;var t=ume(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,h){var d=o&e,m=t(s),g=m.length,x=t(a),v=x.length;if(g!=v&&!d)return!1;for(var b=g;b--;){var w=m[b];if(!(d?w in a:r.call(a,w)))return!1}var _=h.get(s),A=h.get(a);if(_&&A)return _==a&&A==s;var T=!0;h.set(s,a),h.set(a,s);for(var P=d;++b<g;){w=m[b];var E=s[w],k=a[w];if(l)var O=d?l(k,E,w,a,s,h):l(E,k,w,s,a,h);if(!(O===void 0?E===k||c(E,k,o,l,h):O)){T=!1;break}P||(P=w=="constructor")}if(T&&!P){var D=s.constructor,F=a.constructor;D!=F&&"constructor"in s&&"constructor"in a&&!(typeof D=="function"&&D instanceof D&&typeof F=="function"&&F instanceof F)&&(T=!1)}return h.delete(s),h.delete(a),T}return G1=i,G1}var K1,bI;function hme(){if(bI)return K1;bI=1;var t=xl(),e=Rs(),n=t(e,"DataView");return K1=n,K1}var Y1,xI;function fme(){if(xI)return Y1;xI=1;var t=xl(),e=Rs(),n=t(e,"Promise");return Y1=n,Y1}var X1,wI;function Y6(){if(wI)return X1;wI=1;var t=xl(),e=Rs(),n=t(e,"Set");return X1=n,X1}var Q1,SI;function pme(){if(SI)return Q1;SI=1;var t=xl(),e=Rs(),n=t(e,"WeakMap");return Q1=n,Q1}var Z1,_I;function mme(){if(_I)return Z1;_I=1;var t=hme(),e=mj(),n=fme(),r=Y6(),i=pme(),s=ga(),a=f6(),o="[object Map]",l="[object Object]",c="[object Promise]",h="[object Set]",d="[object WeakMap]",m="[object DataView]",g=a(t),x=a(e),v=a(n),b=a(r),w=a(i),_=s;return(t&&_(new t(new ArrayBuffer(1)))!=m||e&&_(new e)!=o||n&&_(n.resolve())!=c||r&&_(new r)!=h||i&&_(new i)!=d)&&(_=function(A){var T=s(A),P=T==l?A.constructor:void 0,E=P?a(P):"";if(E)switch(E){case g:return m;case x:return o;case v:return c;case b:return h;case w:return d}return T}),Z1=_,Z1}var J1,AI;function gme(){if(AI)return J1;AI=1;var t=$6(),e=V6(),n=Xpe(),r=dme(),i=mme(),s=Ur(),a=H6(),o=G6(),l=1,c="[object Arguments]",h="[object Array]",d="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function x(v,b,w,_,A,T){var P=s(v),E=s(b),k=P?h:i(v),O=E?h:i(b);k=k==c?d:k,O=O==c?d:O;var D=k==d,F=O==d,M=k==O;if(M&&a(v)){if(!a(b))return!1;P=!0,D=!1}if(M&&!D)return T||(T=new t),P||o(v)?e(v,b,w,_,A,T):n(v,b,k,w,_,A,T);if(!(w&l)){var R=D&&g.call(v,"__wrapped__"),$=F&&g.call(b,"__wrapped__");if(R||$){var H=R?v.value():v,G=$?b.value():b;return T||(T=new t),A(H,G,w,_,T)}}return M?(T||(T=new t),r(v,b,w,_,A,T)):!1}return J1=x,J1}var eS,CI;function kj(){if(CI)return eS;CI=1;var t=gme(),e=va();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return eS=n,eS}var tS,PI;function vme(){if(PI)return tS;PI=1;var t=$6(),e=kj(),n=1,r=2;function i(s,a,o,l){var c=o.length,h=c,d=!l;if(s==null)return!h;for(s=Object(s);c--;){var m=o[c];if(d&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++c<h;){m=o[c];var g=m[0],x=s[g],v=m[1];if(d&&m[2]){if(x===void 0&&!(g in s))return!1}else{var b=new t;if(l)var w=l(x,v,g,s,a,b);if(!(w===void 0?e(v,x,n|r,l,b):w))return!1}}return!0}return tS=i,tS}var nS,EI;function X6(){if(EI)return nS;EI=1;var t=mo();function e(n){return n===n&&!t(n)}return nS=e,nS}var rS,jI;function yme(){if(jI)return rS;jI=1;var t=X6(),e=Iy();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return rS=n,rS}var iS,TI;function Q6(){if(TI)return iS;TI=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return iS=t,iS}var sS,kI;function bme(){if(kI)return sS;kI=1;var t=vme(),e=yme(),n=Q6();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return sS=r,sS}var aS,NI;function xme(){if(NI)return aS;NI=1;function t(e,n){return e!=null&&n in Object(e)}return aS=t,aS}var oS,OI;function wme(){if(OI)return oS;OI=1;var t=g6(),e=Ej(),n=Ur(),r=jj(),i=Tj(),s=Ny();function a(o,l,c){l=t(l,o);for(var h=-1,d=l.length,m=!1;++h<d;){var g=s(l[h]);if(!(m=o!=null&&c(o,g)))break;o=o[g]}return m||++h!=d?m:(d=o==null?0:o.length,!!d&&i(d)&&r(g,d)&&(n(o)||e(o)))}return oS=a,oS}var lS,MI;function Sme(){if(MI)return lS;MI=1;var t=xme(),e=wme();function n(r,i){return r!=null&&e(r,i,t)}return lS=n,lS}var cS,DI;function _me(){if(DI)return cS;DI=1;var t=kj(),e=v6(),n=Sme(),r=hj(),i=X6(),s=Q6(),a=Ny(),o=1,l=2;function c(h,d){return r(h)&&i(d)?s(a(h),d):function(m){var g=e(m,h);return g===void 0&&g===d?n(m,h):t(d,g,o|l)}}return cS=c,cS}var uS,RI;function Lu(){if(RI)return uS;RI=1;function t(e){return e}return uS=t,uS}var dS,II;function Ame(){if(II)return dS;II=1;function t(e){return function(n){return n?.[e]}}return dS=t,dS}var hS,LI;function Cme(){if(LI)return hS;LI=1;var t=yj();function e(n){return function(r){return t(r,n)}}return hS=e,hS}var fS,FI;function Pme(){if(FI)return fS;FI=1;var t=Ame(),e=Cme(),n=hj(),r=Ny();function i(s){return n(s)?t(r(s)):e(s)}return fS=i,fS}var pS,$I;function Is(){if($I)return pS;$I=1;var t=bme(),e=_me(),n=Lu(),r=Ur(),i=Pme();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return pS=s,pS}var mS,BI;function Z6(){if(BI)return mS;BI=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return mS=t,mS}var gS,UI;function Eme(){if(UI)return gS;UI=1;function t(e){return e!==e}return gS=t,gS}var vS,zI;function jme(){if(zI)return vS;zI=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return vS=t,vS}var yS,VI;function Tme(){if(VI)return yS;VI=1;var t=Z6(),e=Eme(),n=jme();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return yS=r,yS}var bS,WI;function kme(){if(WI)return bS;WI=1;var t=Tme();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return bS=e,bS}var xS,HI;function Nme(){if(HI)return xS;HI=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return xS=t,xS}var wS,qI;function Ome(){if(qI)return wS;qI=1;function t(){}return wS=t,wS}var SS,GI;function Mme(){if(GI)return SS;GI=1;var t=Y6(),e=Ome(),n=Pj(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return SS=i,SS}var _S,KI;function Dme(){if(KI)return _S;KI=1;var t=B6(),e=kme(),n=Nme(),r=z6(),i=Mme(),s=Pj(),a=200;function o(l,c,h){var d=-1,m=e,g=l.length,x=!0,v=[],b=v;if(h)x=!1,m=n;else if(g>=a){var w=c?null:i(l);if(w)return s(w);x=!1,m=r,b=new t}else b=c?[]:v;e:for(;++d<g;){var _=l[d],A=c?c(_):_;if(_=h||_!==0?_:0,x&&A===A){for(var T=b.length;T--;)if(b[T]===A)continue e;c&&b.push(A),v.push(_)}else m(b,A,h)||(b!==v&&b.push(A),v.push(_))}return v}return _S=o,_S}var AS,YI;function Rme(){if(YI)return AS;YI=1;var t=Is(),e=Dme();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return AS=n,AS}var Ime=Rme();const XI=At(Ime);function J6(t,e,n){return e===!0?XI(t,n):Ke(e)?XI(t,e):t}function Qc(t){"@babel/helpers - typeof";return Qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qc(t)}var Lme=["ref"];function QI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QI(Object(n),!0).forEach(function(r){Ly(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,t8(r.key),r)}}function $me(t,e,n){return e&&ZI(t.prototype,e),n&&ZI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bme(t,e,n){return e=qg(e),Ume(t,e8()?Reflect.construct(e,n||[],qg(t).constructor):e.apply(t,n))}function Ume(t,e){if(e&&(Qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zme(t)}function zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function e8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e8=function(){return!!t})()}function qg(t){return qg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qg(t)}function Vme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function Ly(t,e,n){return e=t8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t8(t){var e=Wme(t,"string");return Qc(e)=="symbol"?e:e+""}function Wme(t,e){if(Qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Hme(t,e){if(t==null)return{};var n=qme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Gme(t){return t.value}function Kme(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=Hme(e,Lme);return z.createElement(Cj,n)}var JI=1,ys=(function(t){function e(){var n;Fme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Bme(this,e,[].concat(i)),Ly(n,"lastBoundingBox",{width:-1,height:-1}),n}return Vme(e,t),$me(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>JI||Math.abs(i.height-this.lastBoundingBox.height)>JI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ys({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,h=i.chartHeight,d,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();m={top:((h||0)-x.height)/2}}else m=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ys(Ys({},d),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,h=i.payload,d=Ys(Ys({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},Kme(s,Ys(Ys({},this.props),{},{payload:J6(h,c,Gme)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ys(Ys({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ge(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);Ly(ys,"displayName","Legend");Ly(ys,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CS,eL;function Yme(){if(eL)return CS;eL=1;var t=Yf(),e=Ej(),n=Ur(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return CS=i,CS}var PS,tL;function n8(){if(tL)return PS;tL=1;var t=W6(),e=Yme();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var h=r[l];i>0&&s(h)?i>1?n(h,i-1,s,a,o):t(o,h):a||(o[o.length]=h)}return o}return PS=n,PS}var ES,nL;function Xme(){if(nL)return ES;nL=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return ES=t,ES}var jS,rL;function Qme(){if(rL)return jS;rL=1;var t=Xme(),e=t();return jS=e,jS}var TS,iL;function r8(){if(iL)return TS;iL=1;var t=Qme(),e=Iy();function n(r,i){return r&&t(r,i,e)}return TS=n,TS}var kS,sL;function Zme(){if(sL)return kS;sL=1;var t=Qf();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return kS=e,kS}var NS,aL;function Nj(){if(aL)return NS;aL=1;var t=r8(),e=Zme(),n=e(t);return NS=n,NS}var OS,oL;function i8(){if(oL)return OS;oL=1;var t=Nj(),e=Qf();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return OS=n,OS}var MS,lL;function Jme(){if(lL)return MS;lL=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return MS=t,MS}var DS,cL;function ege(){if(cL)return DS;cL=1;var t=Du();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,h=r===r,d=t(r);if(!c&&!d&&!o&&n>r||o&&l&&h&&!c&&!d||s&&l&&h||!i&&h||!a)return 1;if(!s&&!o&&!d&&n<r||d&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!h)return-1}return 0}return DS=e,DS}var RS,uL;function tge(){if(uL)return RS;uL=1;var t=ege();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var h=t(a[s],o[s]);if(h){if(s>=c)return h;var d=i[s];return h*(d=="desc"?-1:1)}}return n.index-r.index}return RS=e,RS}var IS,dL;function nge(){if(dL)return IS;dL=1;var t=vj(),e=yj(),n=Is(),r=i8(),i=Jme(),s=q6(),a=tge(),o=Lu(),l=Ur();function c(h,d,m){d.length?d=t(d,function(v){return l(v)?function(b){return e(b,v.length===1?v[0]:v)}:v}):d=[o];var g=-1;d=t(d,s(n));var x=r(h,function(v,b,w){var _=t(d,function(A){return A(v)});return{criteria:_,index:++g,value:v}});return i(x,function(v,b){return a(v,b,m)})}return IS=c,IS}var LS,hL;function rge(){if(hL)return LS;hL=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return LS=t,LS}var FS,fL;function ige(){if(fL)return FS;fL=1;var t=rge(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var h=Array(i+1);++o<i;)h[o]=a[o];return h[i]=s(c),t(r,this,h)}}return FS=n,FS}var $S,pL;function sge(){if(pL)return $S;pL=1;function t(e){return function(){return e}}return $S=t,$S}var BS,mL;function s8(){if(mL)return BS;mL=1;var t=xl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return BS=e,BS}var US,gL;function age(){if(gL)return US;gL=1;var t=sge(),e=s8(),n=Lu(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return US=r,US}var zS,vL;function oge(){if(vL)return zS;vL=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return zS=r,zS}var VS,yL;function lge(){if(yL)return VS;yL=1;var t=age(),e=oge(),n=e(t);return VS=n,VS}var WS,bL;function cge(){if(bL)return WS;bL=1;var t=Lu(),e=ige(),n=lge();function r(i,s){return n(e(i,s,t),i+"")}return WS=r,WS}var HS,xL;function Fy(){if(xL)return HS;xL=1;var t=pj(),e=Qf(),n=jj(),r=mo();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return HS=i,HS}var qS,wL;function uge(){if(wL)return qS;wL=1;var t=n8(),e=nge(),n=cge(),r=Fy(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return qS=i,qS}var dge=uge();const Oj=At(dge);function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(this,arguments)}function hge(t,e){return gge(t)||mge(t,e)||pge(t,e)||fge()}function fge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pge(t,e){if(t){if(typeof t=="string")return SL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function mge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function gge(t){if(Array.isArray(t))return t}function _L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_L(Object(n),!0).forEach(function(r){vge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vge(t,e,n){return e=yge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yge(t){var e=bge(t,"string");return Uh(e)=="symbol"?e:e+""}function bge(t,e){if(Uh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xge(t){return Array.isArray(t)&&Nn(t[0])&&Nn(t[1])?t.join(" ~ "):t}var wge=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,h=e.payload,d=e.formatter,m=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,v=e.label,b=e.labelFormatter,w=e.accessibilityLayer,_=w===void 0?!1:w,A=function(){if(h&&h.length){var R={padding:0,margin:0},$=(m?Oj(h,m):h).map(function(H,G){if(H.type==="none")return null;var V=GS({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),B=H.formatter||d||xge,L=H.value,W=H.name,X=L,U=W;if(B&&X!=null&&U!=null){var K=B(L,W,H,G,h);if(Array.isArray(K)){var Z=hge(K,2);X=Z[0],U=Z[1]}else X=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:V},Nn(U)?z.createElement("span",{className:"recharts-tooltip-item-name"},U):null,Nn(U)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},X),z.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:R},$)}return null},T=GS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=GS({margin:0},c),E=!Qe(v),k=E?v:"",O=Je("recharts-default-tooltip",g),D=Je("recharts-tooltip-label",x);E&&b&&h!==void 0&&h!==null&&(k=b(v,h));var F=_?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",fC({className:O,style:T},F),z.createElement("p",{className:D,style:P},z.isValidElement(k)?k:"".concat(k)),A())};function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}function Um(t,e,n){return e=Sge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sge(t){var e=_ge(t,"string");return zh(e)=="symbol"?e:e+""}function _ge(t,e){if(zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fd="recharts-tooltip-wrapper",Age={visibility:"hidden"};function Cge(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Je(Fd,Um(Um(Um(Um({},"".concat(Fd,"-right"),ge(n)&&e&&ge(e.x)&&n>=e.x),"".concat(Fd,"-left"),ge(n)&&e&&ge(e.x)&&n<e.x),"".concat(Fd,"-bottom"),ge(r)&&e&&ge(e.y)&&r>=e.y),"".concat(Fd,"-top"),ge(r)&&e&&ge(e.y)&&r<e.y))}function AL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ge(s[r]))return s[r];var h=n[r]-o-i,d=n[r]+i;if(e[r])return a[r]?h:d;if(a[r]){var m=h,g=l[r];return m<g?Math.max(d,l[r]):Math.max(h,l[r])}var x=d+o,v=l[r]+c;return x>v?Math.max(h,l[r]):Math.max(d,l[r])}function Pge(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Ege(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,h,d;return a.height>0&&a.width>0&&n?(h=AL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=AL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Pge({translateX:h,translateY:d,useTranslate3d:o})):c=Age,{cssProperties:c,cssClasses:Cge({translateX:h,translateY:d,coordinate:n})}}function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){mC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o8(r.key),r)}}function kge(t,e,n){return e&&Tge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nge(t,e,n){return e=Gg(e),Oge(t,a8()?Reflect.construct(e,n||[],Gg(t).constructor):e.apply(t,n))}function Oge(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mge(t)}function Mge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a8=function(){return!!t})()}function Gg(t){return Gg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gg(t)}function Dge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function mC(t,e,n){return e=o8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8(t){var e=Rge(t,"string");return Zc(e)=="symbol"?e:e+""}function Rge(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var EL=1,Ige=(function(t){function e(){var n;jge(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Nge(this,e,[].concat(i)),mC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),mC(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&c!==void 0?c:0}})}}),n}return Dge(e,t),kge(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>EL||Math.abs(r.height-this.state.lastBoundingBox.height)>EL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,h=i.coordinate,d=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,v=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,_=i.wrapperStyle,A=Ege({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:g,position:x,reverseDirection:v,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),T=A.cssClasses,P=A.cssProperties,E=PL(PL({transition:m&&s?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},_);return z.createElement("div",{tabIndex:-1,className:T,style:E,ref:function(O){r.wrapperNode=O}},c)}}])})(C.PureComponent),Lge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},wl={isSsr:Lge()};function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}function jL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jL(Object(n),!0).forEach(function(r){Mj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,c8(r.key),r)}}function Bge(t,e,n){return e&&$ge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uge(t,e,n){return e=Kg(e),zge(t,l8()?Reflect.construct(e,n||[],Kg(t).constructor):e.apply(t,n))}function zge(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vge(t)}function Vge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l8=function(){return!!t})()}function Kg(t){return Kg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Kg(t)}function Wge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gC(t,e)}function Mj(t,e,n){return e=c8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c8(t){var e=Hge(t,"string");return Jc(e)=="symbol"?e:e+""}function Hge(t,e){if(Jc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qge(t){return t.dataKey}function Gge(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement(wge,e)}var Bn=(function(t){function e(){return Fge(this,e),Uge(this,e,arguments)}return Wge(e,t),Bge(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,h=i.coordinate,d=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,v=i.payloadUniqBy,b=i.position,w=i.reverseDirection,_=i.useTranslate3d,A=i.viewBox,T=i.wrapperStyle,P=x??[];d&&P.length&&(P=J6(x.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),v,qge));var E=P.length>0;return z.createElement(Ige,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:m,active:s,coordinate:h,hasPayload:E,offset:g,position:b,reverseDirection:w,useTranslate3d:_,viewBox:A,wrapperStyle:T},Gge(c,TL(TL({},this.props),{},{payload:P})))}}])})(C.PureComponent);Mj(Bn,"displayName","Tooltip");Mj(Bn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!wl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var KS,kL;function Kge(){if(kL)return KS;kL=1;var t=Rs(),e=function(){return t.Date.now()};return KS=e,KS}var YS,NL;function Yge(){if(NL)return YS;NL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return YS=e,YS}var XS,OL;function Xge(){if(OL)return XS;OL=1;var t=Yge(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return XS=n,XS}var QS,ML;function u8(){if(ML)return QS;ML=1;var t=Xge(),e=mo(),n=Du(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var h=typeof c.valueOf=="function"?c.valueOf():c;c=e(h)?h+"":h}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=s.test(c);return d||a.test(c)?o(c.slice(2),d?2:8):i.test(c)?r:+c}return QS=l,QS}var ZS,DL;function Qge(){if(DL)return ZS;DL=1;var t=mo(),e=Kge(),n=u8(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var h,d,m,g,x,v,b=0,w=!1,_=!1,A=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,_="maxWait"in c,m=_?i(n(c.maxWait)||0,l):m,A="trailing"in c?!!c.trailing:A);function T($){var H=h,G=d;return h=d=void 0,b=$,g=o.apply(G,H),g}function P($){return b=$,x=setTimeout(O,l),w?T($):g}function E($){var H=$-v,G=$-b,V=l-H;return _?s(V,m-G):V}function k($){var H=$-v,G=$-b;return v===void 0||H>=l||H<0||_&&G>=m}function O(){var $=e();if(k($))return D($);x=setTimeout(O,E($))}function D($){return x=void 0,A&&h?T($):(h=d=void 0,g)}function F(){x!==void 0&&clearTimeout(x),b=0,h=v=d=x=void 0}function M(){return x===void 0?g:D(e())}function R(){var $=e(),H=k($);if(h=arguments,d=this,v=$,H){if(x===void 0)return P(v);if(_)return clearTimeout(x),x=setTimeout(O,l),T(v)}return x===void 0&&(x=setTimeout(O,l)),g}return R.cancel=F,R.flush=M,R}return ZS=a,ZS}var JS,RL;function Zge(){if(RL)return JS;RL=1;var t=Qge(),e=mo(),n="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return JS=r,JS}var Jge=Zge();const d8=At(Jge);function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){eve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eve(t,e,n){return e=tve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tve(t){var e=nve(t,"string");return Vh(e)=="symbol"?e:e+""}function nve(t,e){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rve(t,e){return ove(t)||ave(t,e)||sve(t,e)||ive()}function ive(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sve(t,e){if(t){if(typeof t=="string")return LL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LL(t,e)}}function LL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ave(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ove(t){if(Array.isArray(t))return t}var Js=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,h=c===void 0?0:c,d=t.minHeight,m=t.maxHeight,g=t.children,x=t.debounce,v=x===void 0?0:x,b=t.id,w=t.className,_=t.onResize,A=t.style,T=A===void 0?{}:A,P=C.useRef(null),E=C.useRef();E.current=_,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=C.useState({containerWidth:i.width,containerHeight:i.height}),O=rve(k,2),D=O[0],F=O[1],M=C.useCallback(function($,H){F(function(G){var V=Math.round($),B=Math.round(H);return G.containerWidth===V&&G.containerHeight===B?G:{containerWidth:V,containerHeight:B}})},[]);C.useEffect(function(){var $=function(W){var X,U=W[0].contentRect,K=U.width,Z=U.height;M(K,Z),(X=E.current)===null||X===void 0||X.call(E,K,Z)};v>0&&($=d8($,v,{trailing:!0,leading:!1}));var H=new ResizeObserver($),G=P.current.getBoundingClientRect(),V=G.width,B=G.height;return M(V,B),H.observe(P.current),function(){H.disconnect()}},[M,v]);var R=C.useMemo(function(){var $=D.containerWidth,H=D.containerHeight;if($<0||H<0)return null;Zi(Ko(a)||Ko(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Zi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var G=Ko(a)?$:a,V=Ko(l)?H:l;n&&n>0&&(G?V=G/n:V&&(G=V*n),m&&V>m&&(V=m)),Zi(G>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,V,a,l,h,d,n);var B=!Array.isArray(g)&&ia(g.type).endsWith("Chart");return z.Children.map(g,function(L){return z.isValidElement(L)?C.cloneElement(L,zm({width:G,height:V},B?{style:zm({height:"100%",width:"100%",maxHeight:V,maxWidth:G},L.props.style)}:{})):L})},[n,g,l,m,d,h,D,a]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Je("recharts-responsive-container",w),style:zm(zm({},T),{},{width:a,height:l,minWidth:h,minHeight:d,maxHeight:m}),ref:P},R)}),nl=function(e){return null};nl.displayName="Cell";function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}function FL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(n),!0).forEach(function(r){lve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lve(t,e,n){return e=cve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cve(t){var e=uve(t,"string");return Wh(e)=="symbol"?e:e+""}function uve(t,e){if(Wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rc={widthCache:{},cacheCount:0},dve=2e3,hve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$L="recharts_measurement_span";function fve(t){var e=vC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ch=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||wl.isSsr)return{width:0,height:0};var r=fve(n),i=JSON.stringify({text:e,copyStyle:r});if(rc.widthCache[i])return rc.widthCache[i];try{var s=document.getElementById($L);s||(s=document.createElement("span"),s.setAttribute("id",$L),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=vC(vC({},hve),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return rc.widthCache[i]=l,++rc.cacheCount>dve&&(rc.cacheCount=0,rc.widthCache={}),l}catch{return{width:0,height:0}}},pve=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function Yg(t,e){return yve(t)||vve(t,e)||gve(t,e)||mve()}function mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gve(t,e){if(t){if(typeof t=="string")return BL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BL(t,e)}}function BL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function yve(t){if(Array.isArray(t))return t}function bve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wve(r.key),r)}}function xve(t,e,n){return e&&UL(t.prototype,e),n&&UL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function wve(t){var e=Sve(t,"string");return Hh(e)=="symbol"?e:e+""}function Sve(t,e){if(Hh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,VL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_ve=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Ave=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,h8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Cve=Object.keys(h8),bc="NaN";function Pve(t,e){return t*h8[e]}var Vm=(function(){function t(e,n){bve(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!_ve.test(n)&&(this.num=NaN,this.unit=""),Cve.includes(n)&&(this.num=Pve(e,n),this.unit="px")}return xve(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Ave.exec(n))!==null&&r!==void 0?r:[],s=Yg(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function f8(t){if(t.includes(bc))return bc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=zL.exec(e))!==null&&n!==void 0?n:[],i=Yg(r,4),s=i[1],a=i[2],o=i[3],l=Vm.parse(s??""),c=Vm.parse(o??""),h=a==="*"?l.multiply(c):l.divide(c);if(h.isNaN())return bc;e=e.replace(zL,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,m=(d=VL.exec(e))!==null&&d!==void 0?d:[],g=Yg(m,4),x=g[1],v=g[2],b=g[3],w=Vm.parse(x??""),_=Vm.parse(b??""),A=v==="+"?w.add(_):w.subtract(_);if(A.isNaN())return bc;e=e.replace(VL,A.toString())}return e}var WL=/\(([^()]*)\)/;function Eve(t){for(var e=t;e.includes("(");){var n=WL.exec(e),r=Yg(n,2),i=r[1];e=e.replace(WL,f8(i))}return e}function jve(t){var e=t.replace(/\s+/g,"");return e=Eve(e),e=f8(e),e}function Tve(t){try{return jve(t)}catch{return bc}}function e_(t){var e=Tve(t.slice(5,-1));return e===bc?"":e}var kve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Nve=["dx","dy","angle","className","breakAll"];function yC(){return yC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yC.apply(this,arguments)}function HL(t,e){if(t==null)return{};var n=Ove(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ove(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qL(t,e){return Ive(t)||Rve(t,e)||Dve(t,e)||Mve()}function Mve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dve(t,e){if(t){if(typeof t=="string")return GL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GL(t,e)}}function GL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ive(t){if(Array.isArray(t))return t}var p8=/[ \f\n\r\t\v\u2028\u2029]+/,m8=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Qe(n)||(r?s=n.toString().split(""):s=n.toString().split(p8));var a=s.map(function(l){return{word:l,width:ch(l,i).width}}),o=r?0:ch("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},Lve=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,h=ge(a),d=o,m=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(V,B){var L=B.word,W=B.width,X=V[V.length-1];if(X&&(i==null||s||X.width+W+r<Number(i)))X.words.push(L),X.width+=W+r;else{var U={words:[L],width:W};V.push(U)}return V},[])},g=m(n),x=function(G){return G.reduce(function(V,B){return V.width>B.width?V:B})};if(!h)return g;for(var v="",b=function(G){var V=d.slice(0,G),B=m8({breakAll:c,style:l,children:V+v}).wordsWithComputedWidth,L=m(B),W=L.length>a||x(L).width>Number(i);return[W,L]},w=0,_=d.length-1,A=0,T;w<=_&&A<=d.length-1;){var P=Math.floor((w+_)/2),E=P-1,k=b(E),O=qL(k,2),D=O[0],F=O[1],M=b(P),R=qL(M,1),$=R[0];if(!D&&!$&&(w=P+1),D&&$&&(_=P-1),!D&&$){T=F;break}A++}return T||g},KL=function(e){var n=Qe(e)?[]:e.toString().split(p8);return[{words:n}]},Fve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!wl.isSsr){var l,c,h=m8({breakAll:a,children:i,style:s});if(h){var d=h.wordsWithComputedWidth,m=h.spaceWidth;l=d,c=m}else return KL(i);return Lve({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return KL(i)},YL="#808080",pl=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,h=e.scaleToFit,d=h===void 0?!1:h,m=e.textAnchor,g=m===void 0?"start":m,x=e.verticalAnchor,v=x===void 0?"end":x,b=e.fill,w=b===void 0?YL:b,_=HL(e,kve),A=C.useMemo(function(){return Fve({breakAll:_.breakAll,children:_.children,maxLines:_.maxLines,scaleToFit:d,style:_.style,width:_.width})},[_.breakAll,_.children,_.maxLines,d,_.style,_.width]),T=_.dx,P=_.dy,E=_.angle,k=_.className,O=_.breakAll,D=HL(_,Nve);if(!Nn(r)||!Nn(s))return null;var F=r+(ge(T)?T:0),M=s+(ge(P)?P:0),R;switch(v){case"start":R=e_("calc(".concat(c,")"));break;case"middle":R=e_("calc(".concat((A.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:R=e_("calc(".concat(A.length-1," * -").concat(o,")"));break}var $=[];if(d){var H=A[0].width,G=_.width;$.push("scale(".concat((ge(G)?G/H:1)/H,")"))}return E&&$.push("rotate(".concat(E,", ").concat(F,", ").concat(M,")")),$.length&&(D.transform=$.join(" ")),z.createElement("text",yC({},Be(D,!0),{x:F,y:M,className:Je("recharts-text",k),textAnchor:g,fill:w.includes("url")?YL:w}),A.map(function(V,B){var L=V.words.join(O?"":" ");return z.createElement("tspan",{x:F,dy:B===0?R:o,key:"".concat(L,"-").concat(B)},L)}))};function to(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $ve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Dj(t){let e,n,r;t.length!==2?(e=to,n=(o,l)=>to(t(o),l),r=(o,l)=>t(o)-l):(e=t===to||t===$ve?t:Bve,n=t,r=t);function i(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<0?c=d+1:h=d}while(c<h)}return c}function s(o,l,c=0,h=o.length){if(c<h){if(e(l,l)!==0)return h;do{const d=c+h>>>1;n(o[d],l)<=0?c=d+1:h=d}while(c<h)}return c}function a(o,l,c=0,h=o.length){const d=i(o,l,c,h-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function Bve(){return 0}function g8(t){return t===null?NaN:+t}function*Uve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const zve=Dj(to),Zf=zve.right;Dj(g8).center;class XL extends Map{constructor(e,n=Hve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(QL(this,e))}has(e){return super.has(QL(this,e))}set(e,n){return super.set(Vve(this,e),n)}delete(e){return super.delete(Wve(this,e))}}function QL({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Vve({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Wve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Hve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function qve(t=to){if(t===to)return v8;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function v8(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Gve=Math.sqrt(50),Kve=Math.sqrt(10),Yve=Math.sqrt(2);function Xg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Gve?10:s>=Kve?5:s>=Yve?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?Xg(t,e,n*2):[o,l,c]}function bC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?Xg(e,t,n):Xg(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function xC(t,e,n){return e=+e,t=+t,n=+n,Xg(t,e,n)[2]}function wC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?xC(e,t,n):xC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function ZL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function JL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function y8(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?v8:qve(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,h=Math.log(l),d=.5*Math.exp(2*h/3),m=.5*Math.sqrt(h*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+m)),x=Math.min(r,Math.floor(e+(l-c)*d/l+m));y8(t,e,g,x,i)}const s=t[e];let a=n,o=r;for($d(t,n,e),i(t[r],s)>0&&$d(t,n,r);a<o;){for($d(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?$d(t,n,o):(++o,$d(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function $d(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Xve(t,e,n){if(t=Float64Array.from(Uve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return JL(t);if(e>=1)return ZL(t);var r,i=(r-1)*e,s=Math.floor(i),a=ZL(y8(t,s).subarray(0,s+1)),o=JL(t.subarray(s+1));return a+(o-a)*(i-s)}}function Qve(t,e,n=g8){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Zve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Li(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ya(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SC=Symbol("implicit");function Rj(){var t=new XL,e=[],n=[],r=SC;function i(s){let a=t.get(s);if(a===void 0){if(r!==SC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new XL;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Rj(e,n).unknown(r)},Li.apply(i,arguments),i}function qh(){var t=Rj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,h=.5;delete t.unknown;function d(){var m=e().length,g=i<r,x=g?i:r,v=g?r:i;s=(v-x)/Math.max(1,m-l+c*2),o&&(s=Math.floor(s)),x+=(v-x-s*(m-l))*h,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var b=Zve(m).map(function(w){return x+s*w});return n(g?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),d()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(o=!!m,d()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),d()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),d()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,d()):c},t.align=function(m){return arguments.length?(h=Math.max(0,Math.min(1,m)),d()):h},t.copy=function(){return qh(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(h)},Li.apply(d(),arguments)}function b8(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b8(e())},t}function uh(){return b8(qh.apply(null,arguments).paddingInner(1))}function Ij(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function x8(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jf(){}var Gh=.7,Qg=1/Gh,Oc="\\s*([+-]?\\d+)\\s*",Kh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jve=/^#([0-9a-f]{3,8})$/,eye=new RegExp(`^rgb\\(${Oc},${Oc},${Oc}\\)$`),tye=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),nye=new RegExp(`^rgba\\(${Oc},${Oc},${Oc},${Kh}\\)$`),rye=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Kh}\\)$`),iye=new RegExp(`^hsl\\(${Kh},${Ps},${Ps}\\)$`),sye=new RegExp(`^hsla\\(${Kh},${Ps},${Ps},${Kh}\\)$`),eF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ij(Jf,Yh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tF,formatHex:tF,formatHex8:aye,formatHsl:oye,formatRgb:nF,toString:nF});function tF(){return this.rgb().formatHex()}function aye(){return this.rgb().formatHex8()}function oye(){return w8(this).formatHsl()}function nF(){return this.rgb().formatRgb()}function Yh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rF(e):n===3?new $r(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=eye.exec(t))?new $r(e[1],e[2],e[3],1):(e=tye.exec(t))?new $r(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=nye.exec(t))?Wm(e[1],e[2],e[3],e[4]):(e=rye.exec(t))?Wm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=iye.exec(t))?aF(e[1],e[2]/100,e[3]/100,1):(e=sye.exec(t))?aF(e[1],e[2]/100,e[3]/100,e[4]):eF.hasOwnProperty(t)?rF(eF[t]):t==="transparent"?new $r(NaN,NaN,NaN,0):null}function rF(t){return new $r(t>>16&255,t>>8&255,t&255,1)}function Wm(t,e,n,r){return r<=0&&(t=e=n=NaN),new $r(t,e,n,r)}function lye(t){return t instanceof Jf||(t=Yh(t)),t?(t=t.rgb(),new $r(t.r,t.g,t.b,t.opacity)):new $r}function _C(t,e,n,r){return arguments.length===1?lye(t):new $r(t,e,n,r??1)}function $r(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ij($r,_C,x8(Jf,{brighter(t){return t=t==null?Qg:Math.pow(Qg,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Gh:Math.pow(Gh,t),new $r(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $r(rl(this.r),rl(this.g),rl(this.b),Zg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iF,formatHex:iF,formatHex8:cye,formatRgb:sF,toString:sF}));function iF(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}`}function cye(){return`#${Yo(this.r)}${Yo(this.g)}${Yo(this.b)}${Yo((isNaN(this.opacity)?1:this.opacity)*255)}`}function sF(){const t=Zg(this.opacity);return`${t===1?"rgb(":"rgba("}${rl(this.r)}, ${rl(this.g)}, ${rl(this.b)}${t===1?")":`, ${t})`}`}function Zg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function rl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Yo(t){return t=rl(t),(t<16?"0":"")+t.toString(16)}function aF(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xi(t,e,n,r)}function w8(t){if(t instanceof Xi)return new Xi(t.h,t.s,t.l,t.opacity);if(t instanceof Jf||(t=Yh(t)),!t)return new Xi;if(t instanceof Xi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Xi(a,o,l,t.opacity)}function uye(t,e,n,r){return arguments.length===1?w8(t):new Xi(t,e,n,r??1)}function Xi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ij(Xi,uye,x8(Jf,{brighter(t){return t=t==null?Qg:Math.pow(Qg,t),new Xi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Gh:Math.pow(Gh,t),new Xi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $r(t_(t>=240?t-240:t+120,i,r),t_(t,i,r),t_(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xi(oF(this.h),Hm(this.s),Hm(this.l),Zg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Zg(this.opacity);return`${t===1?"hsl(":"hsla("}${oF(this.h)}, ${Hm(this.s)*100}%, ${Hm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function oF(t){return t=(t||0)%360,t<0?t+360:t}function Hm(t){return Math.max(0,Math.min(1,t||0))}function t_(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Lj=t=>()=>t;function dye(t,e){return function(n){return t+n*e}}function hye(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fye(t){return(t=+t)==1?S8:function(e,n){return n-e?hye(e,n,t):Lj(isNaN(e)?n:e)}}function S8(t,e){var n=e-t;return n?dye(t,n):Lj(isNaN(t)?e:t)}const lF=(function t(e){var n=fye(e);function r(i,s){var a=n((i=_C(i)).r,(s=_C(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=S8(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=l(h),i.opacity=c(h),i+""}}return r.gamma=t,r})(1);function pye(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function mye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gye(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Fu(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function vye(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Jg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yye(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Fu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var AC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,n_=new RegExp(AC.source,"g");function bye(t){return function(){return t}}function xye(t){return function(e){return t(e)+""}}function wye(t,e){var n=AC.lastIndex=n_.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=AC.exec(t))&&(i=n_.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Jg(r,i)})),n=n_.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?xye(l[0].x):bye(e):(e=l.length,function(c){for(var h=0,d;h<e;++h)o[(d=l[h]).i]=d.x(c);return o.join("")})}function Fu(t,e){var n=typeof e,r;return e==null||n==="boolean"?Lj(e):(n==="number"?Jg:n==="string"?(r=Yh(e))?(e=r,lF):wye:e instanceof Yh?lF:e instanceof Date?vye:mye(e)?pye:Array.isArray(e)?gye:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?yye:Jg)(t,e)}function Fj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Sye(t,e){e===void 0&&(e=t,t=Fu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function _ye(t){return function(){return t}}function ev(t){return+t}var cF=[0,1];function Ar(t){return t}function CC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:_ye(isNaN(e)?NaN:.5)}function Aye(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cye(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=CC(i,r),s=n(a,s)):(r=CC(r,i),s=n(s,a)),function(o){return s(r(o))}}function Pye(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=CC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Zf(t,o,1,r)-1;return s[l](i[l](o))}}function ep(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $y(){var t=cF,e=cF,n=Fu,r,i,s,a=Ar,o,l,c;function h(){var m=Math.min(t.length,e.length);return a!==Ar&&(a=Aye(t[0],t[m-1])),o=m>2?Pye:Cye,l=c=null,d}function d(m){return m==null||isNaN(m=+m)?s:(l||(l=o(t.map(r),e,n)))(r(a(m)))}return d.invert=function(m){return a(i((c||(c=o(e,t.map(r),Jg)))(m)))},d.domain=function(m){return arguments.length?(t=Array.from(m,ev),h()):t.slice()},d.range=function(m){return arguments.length?(e=Array.from(m),h()):e.slice()},d.rangeRound=function(m){return e=Array.from(m),n=Fj,h()},d.clamp=function(m){return arguments.length?(a=m?!0:Ar,h()):a!==Ar},d.interpolate=function(m){return arguments.length?(n=m,h()):n},d.unknown=function(m){return arguments.length?(s=m,d):s},function(m,g){return r=m,i=g,h()}}function $j(){return $y()(Ar,Ar)}function Eye(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function tv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function eu(t){return t=tv(Math.abs(t)),t?t[1]:NaN}function jye(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Tye(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var kye=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xh(t){if(!(e=kye.exec(t)))throw new Error("invalid format: "+t);var e;return new Bj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xh.prototype=Bj.prototype;function Bj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Bj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Nye(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var _8;function Oye(t,e){var n=tv(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(_8=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+tv(t,Math.max(0,e+s-1))[0]}function uF(t,e){var n=tv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const dF={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Eye,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>uF(t*100,e),r:uF,s:Oye,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hF(t){return t}var fF=Array.prototype.map,pF=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Mye(t){var e=t.grouping===void 0||t.thousands===void 0?hF:jye(fF.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?hF:Tye(fF.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Xh(d);var m=d.fill,g=d.align,x=d.sign,v=d.symbol,b=d.zero,w=d.width,_=d.comma,A=d.precision,T=d.trim,P=d.type;P==="n"?(_=!0,P="g"):dF[P]||(A===void 0&&(A=12),T=!0,P="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var E=v==="$"?n:v==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=v==="$"?r:/[%p]/.test(P)?a:"",O=dF[P],D=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function F(M){var R=E,$=k,H,G,V;if(P==="c")$=O(M)+$,M="";else{M=+M;var B=M<0||1/M<0;if(M=isNaN(M)?l:O(Math.abs(M),A),T&&(M=Nye(M)),B&&+M==0&&x!=="+"&&(B=!1),R=(B?x==="("?x:o:x==="-"||x==="("?"":x)+R,$=(P==="s"?pF[8+_8/3]:"")+$+(B&&x==="("?")":""),D){for(H=-1,G=M.length;++H<G;)if(V=M.charCodeAt(H),48>V||V>57){$=(V===46?i+M.slice(H+1):M.slice(H))+$,M=M.slice(0,H);break}}}_&&!b&&(M=e(M,1/0));var L=R.length+M.length+$.length,W=L<w?new Array(w-L+1).join(m):"";switch(_&&b&&(M=e(W+M,W.length?w-$.length:1/0),W=""),g){case"<":M=R+M+$+W;break;case"=":M=R+W+M+$;break;case"^":M=W.slice(0,L=W.length>>1)+R+M+$+W.slice(L);break;default:M=W+R+M+$;break}return s(M)}return F.toString=function(){return d+""},F}function h(d,m){var g=c((d=Xh(d),d.type="f",d)),x=Math.max(-8,Math.min(8,Math.floor(eu(m)/3)))*3,v=Math.pow(10,-x),b=pF[8+x/3];return function(w){return g(v*w)+b}}return{format:c,formatPrefix:h}}var qm,Uj,A8;Dye({thousands:",",grouping:[3],currency:["$",""]});function Dye(t){return qm=Mye(t),Uj=qm.format,A8=qm.formatPrefix,qm}function Rye(t){return Math.max(0,-eu(Math.abs(t)))}function Iye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(eu(e)/3)))*3-eu(Math.abs(t)))}function Lye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,eu(e)-eu(t))+1}function C8(t,e,n,r){var i=wC(t,e,n),s;switch(r=Xh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=Iye(i,a))&&(r.precision=s),A8(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Lye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Rye(i))&&(r.precision=s-(r.type==="%")*2);break}}return Uj(r)}function go(t){var e=t.domain;return t.ticks=function(n){var r=e();return bC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return C8(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,h=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);h-- >0;){if(c=xC(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function nv(){var t=$j();return t.copy=function(){return ep(t,nv())},Li.apply(t,arguments),go(t)}function P8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ev),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return P8(t).unknown(e)},t=arguments.length?Array.from(t,ev):[0,1],go(n)}function E8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function mF(t){return Math.log(t)}function gF(t){return Math.exp(t)}function Fye(t){return-Math.log(-t)}function $ye(t){return-Math.exp(-t)}function Bye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Uye(t){return t===10?Bye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function zye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vF(t){return(e,n)=>-t(-e,n)}function zj(t){const e=t(mF,gF),n=e.domain;let r=10,i,s;function a(){return i=zye(r),s=Uye(r),n()[0]<0?(i=vF(i),s=vF(s),t(Fye,$ye)):t(mF,gF),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],h=l[l.length-1];const d=h<c;d&&([c,h]=[h,c]);let m=i(c),g=i(h),x,v;const b=o==null?10:+o;let w=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(x=1;x<r;++x)if(v=m<0?x/s(-m):x*s(m),!(v<c)){if(v>h)break;w.push(v)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(v=m>0?x/s(-m):x*s(m),!(v<c)){if(v>h)break;w.push(v)}w.length*2<b&&(w=bC(c,h,b))}else w=bC(m,g,Math.min(g-m,b)).map(s);return d?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Xh(l)).precision==null&&(l.trim=!0),l=Uj(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return h=>{let d=h/s(Math.round(i(h)));return d*r<r-.5&&(d*=r),d<=c?l(h):""}},e.nice=()=>n(E8(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function j8(){const t=zj($y()).domain([1,10]);return t.copy=()=>ep(t,j8()).base(t.base()),Li.apply(t,arguments),t}function yF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Vj(t){var e=1,n=t(yF(e),bF(e));return n.constant=function(r){return arguments.length?t(yF(e=+r),bF(e)):e},go(n)}function T8(){var t=Vj($y());return t.copy=function(){return ep(t,T8()).constant(t.constant())},Li.apply(t,arguments)}function xF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Vye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wye(t){return t<0?-t*t:t*t}function Wj(t){var e=t(Ar,Ar),n=1;function r(){return n===1?t(Ar,Ar):n===.5?t(Vye,Wye):t(xF(n),xF(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},go(e)}function Hj(){var t=Wj($y());return t.copy=function(){return ep(t,Hj()).exponent(t.exponent())},Li.apply(t,arguments),t}function Hye(){return Hj.apply(null,arguments).exponent(.5)}function wF(t){return Math.sign(t)*t*t}function qye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k8(){var t=$j(),e=[0,1],n=!1,r;function i(s){var a=qye(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(wF(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ev)).map(wF)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return k8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Li.apply(i,arguments),go(i)}function N8(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Qve(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Zf(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(to),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return N8().domain(t).range(e).unknown(r)},Li.apply(s,arguments)}function O8(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Zf(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return O8().domain([t,e]).range(i).unknown(s)},Li.apply(go(a),arguments)}function M8(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Zf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return M8().domain(t).range(e).unknown(n)},Li.apply(i,arguments)}const r_=new Date,i_=new Date;function On(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>On(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(r_.setTime(+s),i_.setTime(+a),t(r_),t(i_),Math.floor(n(r_,i_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const rv=On(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);rv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?On(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):rv);rv.range;const ea=1e3,Pi=ea*60,ta=Pi*60,ha=ta*24,qj=ha*7,SF=ha*30,s_=ha*365,Xo=On(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*ea)},(t,e)=>(e-t)/ea,t=>t.getUTCSeconds());Xo.range;const Gj=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ea)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getMinutes());Gj.range;const Kj=On(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Pi)},(t,e)=>(e-t)/Pi,t=>t.getUTCMinutes());Kj.range;const Yj=On(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ea-t.getMinutes()*Pi)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getHours());Yj.range;const Xj=On(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ta)},(t,e)=>(e-t)/ta,t=>t.getUTCHours());Xj.range;const tp=On(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Pi)/ha,t=>t.getDate()-1);tp.range;const By=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ha,t=>t.getUTCDate()-1);By.range;const D8=On(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ha,t=>Math.floor(t/ha));D8.range;function Sl(t){return On(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Pi)/qj)}const Uy=Sl(0),iv=Sl(1),Gye=Sl(2),Kye=Sl(3),tu=Sl(4),Yye=Sl(5),Xye=Sl(6);Uy.range;iv.range;Gye.range;Kye.range;tu.range;Yye.range;Xye.range;function _l(t){return On(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/qj)}const zy=_l(0),sv=_l(1),Qye=_l(2),Zye=_l(3),nu=_l(4),Jye=_l(5),ebe=_l(6);zy.range;sv.range;Qye.range;Zye.range;nu.range;Jye.range;ebe.range;const Qj=On(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Qj.range;const Zj=On(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Zj.range;const fa=On(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());fa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});fa.range;const pa=On(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:On(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pa.range;function R8(t,e,n,r,i,s){const a=[[Xo,1,ea],[Xo,5,5*ea],[Xo,15,15*ea],[Xo,30,30*ea],[s,1,Pi],[s,5,5*Pi],[s,15,15*Pi],[s,30,30*Pi],[i,1,ta],[i,3,3*ta],[i,6,6*ta],[i,12,12*ta],[r,1,ha],[r,2,2*ha],[n,1,qj],[e,1,SF],[e,3,3*SF],[t,1,s_]];function o(c,h,d){const m=h<c;m&&([c,h]=[h,c]);const g=d&&typeof d.range=="function"?d:l(c,h,d),x=g?g.range(c,+h+1):[];return m?x.reverse():x}function l(c,h,d){const m=Math.abs(h-c)/d,g=Dj(([,,b])=>b).right(a,m);if(g===a.length)return t.every(wC(c/s_,h/s_,d));if(g===0)return rv.every(Math.max(wC(c,h,d),1));const[x,v]=a[m/a[g-1][2]<a[g][2]/m?g-1:g];return x.every(v)}return[o,l]}const[tbe,nbe]=R8(pa,Zj,zy,D8,Xj,Kj),[rbe,ibe]=R8(fa,Qj,Uy,tp,Yj,Gj);function a_(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function o_(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Bd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sbe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Ud(i),h=zd(i),d=Ud(s),m=zd(s),g=Ud(a),x=zd(a),v=Ud(o),b=zd(o),w=Ud(l),_=zd(l),A={a:B,A:L,b:W,B:X,c:null,d:jF,e:jF,f:jbe,g:Fbe,G:Bbe,H:Cbe,I:Pbe,j:Ebe,L:I8,m:Tbe,M:kbe,p:U,q:K,Q:NF,s:OF,S:Nbe,u:Obe,U:Mbe,V:Dbe,w:Rbe,W:Ibe,x:null,X:null,y:Lbe,Y:$be,Z:Ube,"%":kF},T={a:Z,A:se,b:oe,B:pe,c:null,d:TF,e:TF,f:Hbe,g:txe,G:rxe,H:zbe,I:Vbe,j:Wbe,L:F8,m:qbe,M:Gbe,p:te,q:le,Q:NF,s:OF,S:Kbe,u:Ybe,U:Xbe,V:Qbe,w:Zbe,W:Jbe,x:null,X:null,y:exe,Y:nxe,Z:ixe,"%":kF},P={a:F,A:M,b:R,B:$,c:H,d:PF,e:PF,f:wbe,g:CF,G:AF,H:EF,I:EF,j:vbe,L:xbe,m:gbe,M:ybe,p:D,q:mbe,Q:_be,s:Abe,S:bbe,u:ube,U:dbe,V:hbe,w:cbe,W:fbe,x:G,X:V,y:CF,Y:AF,Z:pbe,"%":Sbe};A.x=E(n,A),A.X=E(r,A),A.c=E(e,A),T.x=E(n,T),T.X=E(r,T),T.c=E(e,T);function E(ie,he){return function(ve){var re=[],qe=-1,Ie=0,xt=ie.length,vt,ft,be;for(ve instanceof Date||(ve=new Date(+ve));++qe<xt;)ie.charCodeAt(qe)===37&&(re.push(ie.slice(Ie,qe)),(ft=_F[vt=ie.charAt(++qe)])!=null?vt=ie.charAt(++qe):ft=vt==="e"?" ":"0",(be=he[vt])&&(vt=be(ve,ft)),re.push(vt),Ie=qe+1);return re.push(ie.slice(Ie,qe)),re.join("")}}function k(ie,he){return function(ve){var re=Bd(1900,void 0,1),qe=O(re,ie,ve+="",0),Ie,xt;if(qe!=ve.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(he&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(Ie=o_(Bd(re.y,0,1)),xt=Ie.getUTCDay(),Ie=xt>4||xt===0?sv.ceil(Ie):sv(Ie),Ie=By.offset(Ie,(re.V-1)*7),re.y=Ie.getUTCFullYear(),re.m=Ie.getUTCMonth(),re.d=Ie.getUTCDate()+(re.w+6)%7):(Ie=a_(Bd(re.y,0,1)),xt=Ie.getDay(),Ie=xt>4||xt===0?iv.ceil(Ie):iv(Ie),Ie=tp.offset(Ie,(re.V-1)*7),re.y=Ie.getFullYear(),re.m=Ie.getMonth(),re.d=Ie.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),xt="Z"in re?o_(Bd(re.y,0,1)).getUTCDay():a_(Bd(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(xt+5)%7:re.w+re.U*7-(xt+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,o_(re)):a_(re)}}function O(ie,he,ve,re){for(var qe=0,Ie=he.length,xt=ve.length,vt,ft;qe<Ie;){if(re>=xt)return-1;if(vt=he.charCodeAt(qe++),vt===37){if(vt=he.charAt(qe++),ft=P[vt in _F?he.charAt(qe++):vt],!ft||(re=ft(ie,ve,re))<0)return-1}else if(vt!=ve.charCodeAt(re++))return-1}return re}function D(ie,he,ve){var re=c.exec(he.slice(ve));return re?(ie.p=h.get(re[0].toLowerCase()),ve+re[0].length):-1}function F(ie,he,ve){var re=g.exec(he.slice(ve));return re?(ie.w=x.get(re[0].toLowerCase()),ve+re[0].length):-1}function M(ie,he,ve){var re=d.exec(he.slice(ve));return re?(ie.w=m.get(re[0].toLowerCase()),ve+re[0].length):-1}function R(ie,he,ve){var re=w.exec(he.slice(ve));return re?(ie.m=_.get(re[0].toLowerCase()),ve+re[0].length):-1}function $(ie,he,ve){var re=v.exec(he.slice(ve));return re?(ie.m=b.get(re[0].toLowerCase()),ve+re[0].length):-1}function H(ie,he,ve){return O(ie,e,he,ve)}function G(ie,he,ve){return O(ie,n,he,ve)}function V(ie,he,ve){return O(ie,r,he,ve)}function B(ie){return a[ie.getDay()]}function L(ie){return s[ie.getDay()]}function W(ie){return l[ie.getMonth()]}function X(ie){return o[ie.getMonth()]}function U(ie){return i[+(ie.getHours()>=12)]}function K(ie){return 1+~~(ie.getMonth()/3)}function Z(ie){return a[ie.getUTCDay()]}function se(ie){return s[ie.getUTCDay()]}function oe(ie){return l[ie.getUTCMonth()]}function pe(ie){return o[ie.getUTCMonth()]}function te(ie){return i[+(ie.getUTCHours()>=12)]}function le(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var he=E(ie+="",A);return he.toString=function(){return ie},he},parse:function(ie){var he=k(ie+="",!1);return he.toString=function(){return ie},he},utcFormat:function(ie){var he=E(ie+="",T);return he.toString=function(){return ie},he},utcParse:function(ie){var he=k(ie+="",!0);return he.toString=function(){return ie},he}}}var _F={"-":"",_:" ",0:"0"},Gn=/^\s*\d+/,abe=/^%/,obe=/[\\^$*+?|[\]().{}]/g;function gt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function lbe(t){return t.replace(obe,"\\$&")}function Ud(t){return new RegExp("^(?:"+t.map(lbe).join("|")+")","i")}function zd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function cbe(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ube(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function dbe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hbe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function fbe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function AF(t,e,n){var r=Gn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function CF(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pbe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mbe(t,e,n){var r=Gn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function gbe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function PF(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function vbe(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function EF(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ybe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function bbe(t,e,n){var r=Gn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xbe(t,e,n){var r=Gn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function wbe(t,e,n){var r=Gn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sbe(t,e,n){var r=abe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _be(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Abe(t,e,n){var r=Gn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jF(t,e){return gt(t.getDate(),e,2)}function Cbe(t,e){return gt(t.getHours(),e,2)}function Pbe(t,e){return gt(t.getHours()%12||12,e,2)}function Ebe(t,e){return gt(1+tp.count(fa(t),t),e,3)}function I8(t,e){return gt(t.getMilliseconds(),e,3)}function jbe(t,e){return I8(t,e)+"000"}function Tbe(t,e){return gt(t.getMonth()+1,e,2)}function kbe(t,e){return gt(t.getMinutes(),e,2)}function Nbe(t,e){return gt(t.getSeconds(),e,2)}function Obe(t){var e=t.getDay();return e===0?7:e}function Mbe(t,e){return gt(Uy.count(fa(t)-1,t),e,2)}function L8(t){var e=t.getDay();return e>=4||e===0?tu(t):tu.ceil(t)}function Dbe(t,e){return t=L8(t),gt(tu.count(fa(t),t)+(fa(t).getDay()===4),e,2)}function Rbe(t){return t.getDay()}function Ibe(t,e){return gt(iv.count(fa(t)-1,t),e,2)}function Lbe(t,e){return gt(t.getFullYear()%100,e,2)}function Fbe(t,e){return t=L8(t),gt(t.getFullYear()%100,e,2)}function $be(t,e){return gt(t.getFullYear()%1e4,e,4)}function Bbe(t,e){var n=t.getDay();return t=n>=4||n===0?tu(t):tu.ceil(t),gt(t.getFullYear()%1e4,e,4)}function Ube(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gt(e/60|0,"0",2)+gt(e%60,"0",2)}function TF(t,e){return gt(t.getUTCDate(),e,2)}function zbe(t,e){return gt(t.getUTCHours(),e,2)}function Vbe(t,e){return gt(t.getUTCHours()%12||12,e,2)}function Wbe(t,e){return gt(1+By.count(pa(t),t),e,3)}function F8(t,e){return gt(t.getUTCMilliseconds(),e,3)}function Hbe(t,e){return F8(t,e)+"000"}function qbe(t,e){return gt(t.getUTCMonth()+1,e,2)}function Gbe(t,e){return gt(t.getUTCMinutes(),e,2)}function Kbe(t,e){return gt(t.getUTCSeconds(),e,2)}function Ybe(t){var e=t.getUTCDay();return e===0?7:e}function Xbe(t,e){return gt(zy.count(pa(t)-1,t),e,2)}function $8(t){var e=t.getUTCDay();return e>=4||e===0?nu(t):nu.ceil(t)}function Qbe(t,e){return t=$8(t),gt(nu.count(pa(t),t)+(pa(t).getUTCDay()===4),e,2)}function Zbe(t){return t.getUTCDay()}function Jbe(t,e){return gt(sv.count(pa(t)-1,t),e,2)}function exe(t,e){return gt(t.getUTCFullYear()%100,e,2)}function txe(t,e){return t=$8(t),gt(t.getUTCFullYear()%100,e,2)}function nxe(t,e){return gt(t.getUTCFullYear()%1e4,e,4)}function rxe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?nu(t):nu.ceil(t),gt(t.getUTCFullYear()%1e4,e,4)}function ixe(){return"+0000"}function kF(){return"%"}function NF(t){return+t}function OF(t){return Math.floor(+t/1e3)}var ic,B8,U8;sxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sxe(t){return ic=sbe(t),B8=ic.format,ic.parse,U8=ic.utcFormat,ic.utcParse,ic}function axe(t){return new Date(t)}function oxe(t){return t instanceof Date?+t:+new Date(+t)}function Jj(t,e,n,r,i,s,a,o,l,c){var h=$j(),d=h.invert,m=h.domain,g=c(".%L"),x=c(":%S"),v=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),_=c("%b %d"),A=c("%B"),T=c("%Y");function P(E){return(l(E)<E?g:o(E)<E?x:a(E)<E?v:s(E)<E?b:r(E)<E?i(E)<E?w:_:n(E)<E?A:T)(E)}return h.invert=function(E){return new Date(d(E))},h.domain=function(E){return arguments.length?m(Array.from(E,oxe)):m().map(axe)},h.ticks=function(E){var k=m();return t(k[0],k[k.length-1],E??10)},h.tickFormat=function(E,k){return k==null?P:c(k)},h.nice=function(E){var k=m();return(!E||typeof E.range!="function")&&(E=e(k[0],k[k.length-1],E??10)),E?m(E8(k,E)):h},h.copy=function(){return ep(h,Jj(t,e,n,r,i,s,a,o,l,c))},h}function lxe(){return Li.apply(Jj(rbe,ibe,fa,Qj,Uy,tp,Yj,Gj,Xo,B8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cxe(){return Li.apply(Jj(tbe,nbe,pa,Zj,zy,By,Xj,Kj,Xo,U8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vy(){var t=0,e=1,n,r,i,s,a=Ar,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function h(d){return function(m){var g,x;return arguments.length?([g,x]=m,a=d(g,x),c):[a(0),a(1)]}}return c.range=h(Fu),c.rangeRound=h(Fj),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function vo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function z8(){var t=go(Vy()(Ar));return t.copy=function(){return vo(t,z8())},ya.apply(t,arguments)}function V8(){var t=zj(Vy()).domain([1,10]);return t.copy=function(){return vo(t,V8()).base(t.base())},ya.apply(t,arguments)}function W8(){var t=Vj(Vy());return t.copy=function(){return vo(t,W8()).constant(t.constant())},ya.apply(t,arguments)}function eT(){var t=Wj(Vy());return t.copy=function(){return vo(t,eT()).exponent(t.exponent())},ya.apply(t,arguments)}function uxe(){return eT.apply(null,arguments).exponent(.5)}function H8(){var t=[],e=Ar;function n(r){if(r!=null&&!isNaN(r=+r))return e((Zf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(to),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Xve(t,s/r))},n.copy=function(){return H8(e).domain(t)},ya.apply(n,arguments)}function Wy(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Ar,h,d=!1,m;function g(v){return isNaN(v=+v)?m:(v=.5+((v=+h(v))-s)*(r*v<r*s?o:l),c(d?Math.max(0,Math.min(1,v)):v))}g.domain=function(v){return arguments.length?([t,e,n]=v,i=h(t=+t),s=h(e=+e),a=h(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(v){return arguments.length?(d=!!v,g):d},g.interpolator=function(v){return arguments.length?(c=v,g):c};function x(v){return function(b){var w,_,A;return arguments.length?([w,_,A]=b,c=Sye(v,[w,_,A]),g):[c(0),c(.5),c(1)]}}return g.range=x(Fu),g.rangeRound=x(Fj),g.unknown=function(v){return arguments.length?(m=v,g):m},function(v){return h=v,i=v(t),s=v(e),a=v(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g}}function q8(){var t=go(Wy()(Ar));return t.copy=function(){return vo(t,q8())},ya.apply(t,arguments)}function G8(){var t=zj(Wy()).domain([.1,1,10]);return t.copy=function(){return vo(t,G8()).base(t.base())},ya.apply(t,arguments)}function K8(){var t=Vj(Wy());return t.copy=function(){return vo(t,K8()).constant(t.constant())},ya.apply(t,arguments)}function tT(){var t=Wj(Wy());return t.copy=function(){return vo(t,tT()).exponent(t.exponent())},ya.apply(t,arguments)}function dxe(){return tT.apply(null,arguments).exponent(.5)}const MF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qh,scaleDiverging:q8,scaleDivergingLog:G8,scaleDivergingPow:tT,scaleDivergingSqrt:dxe,scaleDivergingSymlog:K8,scaleIdentity:P8,scaleImplicit:SC,scaleLinear:nv,scaleLog:j8,scaleOrdinal:Rj,scalePoint:uh,scalePow:Hj,scaleQuantile:N8,scaleQuantize:O8,scaleRadial:k8,scaleSequential:z8,scaleSequentialLog:V8,scaleSequentialPow:eT,scaleSequentialQuantile:H8,scaleSequentialSqrt:uxe,scaleSequentialSymlog:W8,scaleSqrt:Hye,scaleSymlog:T8,scaleThreshold:M8,scaleTime:lxe,scaleUtc:cxe,tickFormat:C8},Symbol.toStringTag,{value:"Module"}));var l_,DF;function Hy(){if(DF)return l_;DF=1;var t=Du();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,h=o}return h}return l_=e,l_}var c_,RF;function Y8(){if(RF)return c_;RF=1;function t(e,n){return e>n}return c_=t,c_}var u_,IF;function hxe(){if(IF)return u_;IF=1;var t=Hy(),e=Y8(),n=Lu();function r(i){return i&&i.length?t(i,n,e):void 0}return u_=r,u_}var fxe=hxe();const qy=At(fxe);var d_,LF;function X8(){if(LF)return d_;LF=1;function t(e,n){return e<n}return d_=t,d_}var h_,FF;function pxe(){if(FF)return h_;FF=1;var t=Hy(),e=X8(),n=Lu();function r(i){return i&&i.length?t(i,n,e):void 0}return h_=r,h_}var mxe=pxe();const Gy=At(mxe);var f_,$F;function gxe(){if($F)return f_;$F=1;var t=vj(),e=Is(),n=i8(),r=Ur();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return f_=i,f_}var p_,BF;function vxe(){if(BF)return p_;BF=1;var t=n8(),e=gxe();function n(r,i){return t(e(r,i),1)}return p_=n,p_}var yxe=vxe();const bxe=At(yxe);var m_,UF;function xxe(){if(UF)return m_;UF=1;var t=kj();function e(n,r){return t(n,r)}return m_=e,m_}var wxe=xxe();const np=At(wxe);var $u=1e9,Sxe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},rT,Gt=!0,Di="[DecimalError] ",il=Di+"Invalid argument: ",nT=Di+"Exponent out of range: ",Bu=Math.floor,zo=Math.pow,_xe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ei,$n=1e7,zt=7,Q8=9007199254740991,av=Bu(Q8/zt),Ae={};Ae.absoluteValue=Ae.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ae.comparedTo=Ae.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*zt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ae.dividedBy=Ae.div=function(t){return sa(this,new this.constructor(t))};Ae.dividedToIntegerBy=Ae.idiv=function(t){var e=this,n=e.constructor;return Dt(sa(e,new n(t),0,1),n.precision)};Ae.equals=Ae.eq=function(t){return!this.cmp(t)};Ae.exponent=function(){return wn(this)};Ae.greaterThan=Ae.gt=function(t){return this.cmp(t)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(t){return this.cmp(t)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(t){return this.cmp(t)<0};Ae.lessThanOrEqualTo=Ae.lte=function(t){return this.cmp(t)<1};Ae.logarithm=Ae.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(ei))throw Error(Di+"NaN");if(n.s<1)throw Error(Di+(n.s?"NaN":"-Infinity"));return n.eq(ei)?new r(0):(Gt=!1,e=sa(Qh(n,s),Qh(t,s),s),Gt=!0,Dt(e,i))};Ae.minus=Ae.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?eW(e,t):Z8(e,(t.s=-t.s,t))};Ae.modulo=Ae.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Di+"NaN");return n.s?(Gt=!1,e=sa(n,t,0,1).times(t),Gt=!0,n.minus(e)):Dt(new r(n),i)};Ae.naturalExponential=Ae.exp=function(){return J8(this)};Ae.naturalLogarithm=Ae.ln=function(){return Qh(this)};Ae.negated=Ae.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ae.plus=Ae.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Z8(e,t):eW(e,(t.s=-t.s,t))};Ae.precision=Ae.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(il+t);if(e=wn(i)+1,r=i.d.length-1,n=r*zt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ae.squareRoot=Ae.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Di+"NaN")}for(t=wn(o),Gt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=bs(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(sa(o,s,a+2)).times(.5),bs(s.d).slice(0,a)===(e=bs(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Dt(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Gt=!0,Dt(r,n)};Ae.times=Ae.mul=function(t){var e,n,r,i,s,a,o,l,c,h=this,d=h.constructor,m=h.d,g=(t=new d(t)).d;if(!h.s||!t.s)return new d(0);for(t.s*=h.s,n=h.e+t.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+g[r]*m[i-r-1]+e,s[i--]=o%$n|0,e=o/$n|0;s[i]=(s[i]+e)%$n|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Gt?Dt(t,d.precision):t};Ae.toDecimalPlaces=Ae.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ks(t,0,$u),e===void 0?e=r.rounding:ks(e,0,8),Dt(n,t+wn(n)+1,e))};Ae.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ml(r,!0):(ks(t,0,$u),e===void 0?e=i.rounding:ks(e,0,8),r=Dt(new i(r),t+1,e),n=ml(r,!0,t+1)),n};Ae.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ml(i):(ks(t,0,$u),e===void 0?e=s.rounding:ks(e,0,8),r=Dt(new s(i),t+wn(i)+1,e),n=ml(r.abs(),!1,t+wn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ae.toInteger=Ae.toint=function(){var t=this,e=t.constructor;return Dt(new e(t),wn(t)+1,e.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,h=+(t=new l(t));if(!t.s)return new l(ei);if(o=new l(o),!o.s){if(t.s<1)throw Error(Di+"Infinity");return o}if(o.eq(ei))return o;if(r=l.precision,t.eq(ei))return Dt(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=h<0?-h:h)<=Q8){for(i=new l(ei),e=Math.ceil(r/zt+4),Gt=!1;n%2&&(i=i.times(o),VF(i.d,e)),n=Bu(n/2),n!==0;)o=o.times(o),VF(o.d,e);return Gt=!0,t.s<0?new l(ei).div(i):Dt(i,r)}}else if(s<0)throw Error(Di+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Gt=!1,i=t.times(Qh(o,r+c)),Gt=!0,i=J8(i),i.s=s,i};Ae.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=wn(i),r=ml(i,n<=s.toExpNeg||n>=s.toExpPos)):(ks(t,1,$u),e===void 0?e=s.rounding:ks(e,0,8),i=Dt(new s(i),t,e),n=wn(i),r=ml(i,t<=n||n<=s.toExpNeg,t)),r};Ae.toSignificantDigits=Ae.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ks(t,1,$u),e===void 0?e=r.rounding:ks(e,0,8)),Dt(new r(n),t,e)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=wn(t),n=t.constructor;return ml(t,e<=n.toExpNeg||e>=n.toExpPos)};function Z8(t,e){var n,r,i,s,a,o,l,c,h=t.constructor,d=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Gt?Dt(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/zt),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/$n|0,l[s]%=$n;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Gt?Dt(e,d):e}function ks(t,e,n){if(t!==~~t||t<e||t>n)throw Error(il+t)}function bs(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=zt-r.length,n&&(s+=Ya(n)),s+=r;a=t[e],r=a+"",n=zt-r.length,n&&(s+=Ya(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var sa=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%$n|0,a=s/$n|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*$n+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,h,d,m,g,x,v,b,w,_,A,T,P,E,k,O,D=r.constructor,F=r.s==i.s?1:-1,M=r.d,R=i.d;if(!r.s)return new D(r);if(!i.s)throw Error(Di+"Division by zero");for(l=r.e-i.e,k=R.length,P=M.length,g=new D(F),x=g.d=[],c=0;R[c]==(M[c]||0);)++c;if(R[c]>(M[c]||0)&&--l,s==null?_=s=D.precision:a?_=s+(wn(r)-wn(i))+1:_=s,_<0)return new D(0);if(_=_/zt+2|0,c=0,k==1)for(h=0,R=R[0],_++;(c<P||h)&&_--;c++)A=h*$n+(M[c]||0),x[c]=A/R|0,h=A%R|0;else{for(h=$n/(R[0]+1)|0,h>1&&(R=t(R,h),M=t(M,h),k=R.length,P=M.length),T=k,v=M.slice(0,k),b=v.length;b<k;)v[b++]=0;O=R.slice(),O.unshift(0),E=R[0],R[1]>=$n/2&&++E;do h=0,o=e(R,v,k,b),o<0?(w=v[0],k!=b&&(w=w*$n+(v[1]||0)),h=w/E|0,h>1?(h>=$n&&(h=$n-1),d=t(R,h),m=d.length,b=v.length,o=e(d,v,m,b),o==1&&(h--,n(d,k<m?O:R,m))):(h==0&&(o=h=1),d=R.slice()),m=d.length,m<b&&d.unshift(0),n(v,d,b),o==-1&&(b=v.length,o=e(R,v,k,b),o<1&&(h++,n(v,k<b?O:R,b))),b=v.length):o===0&&(h++,v=[0]),x[c++]=h,o&&v[0]?v[b++]=M[T]||0:(v=[M[T]],b=1);while((T++<P||v[0]!==void 0)&&_--)}return x[0]||x.shift(),g.e=l,Dt(g,a?s+wn(g)+1:s)}})();function J8(t,e){var n,r,i,s,a,o,l=0,c=0,h=t.constructor,d=h.precision;if(wn(t)>16)throw Error(nT+wn(t));if(!t.s)return new h(ei);for(Gt=!1,o=d,a=new h(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(zo(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new h(ei),h.precision=o;;){if(i=Dt(i.times(t),o),n=n.times(++l),a=s.plus(sa(i,n,o)),bs(a.d).slice(0,o)===bs(s.d).slice(0,o)){for(;c--;)s=Dt(s.times(s),o);return h.precision=d,e==null?(Gt=!0,Dt(s,d)):s}s=a}}function wn(t){for(var e=t.e*zt,n=t.d[0];n>=10;n/=10)e++;return e}function g_(t,e,n){if(e>t.LN10.sd())throw Gt=!0,n&&(t.precision=n),Error(Di+"LN10 precision limit exceeded");return Dt(new t(t.LN10),e)}function Ya(t){for(var e="";t--;)e+="0";return e}function Qh(t,e){var n,r,i,s,a,o,l,c,h,d=1,m=10,g=t,x=g.d,v=g.constructor,b=v.precision;if(g.s<1)throw Error(Di+(g.s?"NaN":"-Infinity"));if(g.eq(ei))return new v(0);if(e==null?(Gt=!1,c=b):c=e,g.eq(10))return e==null&&(Gt=!0),g_(v,c);if(c+=m,v.precision=c,n=bs(x),r=n.charAt(0),s=wn(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=bs(g.d),r=n.charAt(0),d++;s=wn(g),r>1?(g=new v("0."+n),s++):g=new v(r+"."+n.slice(1))}else return l=g_(v,c+2,b).times(s+""),g=Qh(new v(r+"."+n.slice(1)),c-m).plus(l),v.precision=b,e==null?(Gt=!0,Dt(g,b)):g;for(o=a=g=sa(g.minus(ei),g.plus(ei),c),h=Dt(g.times(g),c),i=3;;){if(a=Dt(a.times(h),c),l=o.plus(sa(a,new v(i),c)),bs(l.d).slice(0,c)===bs(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(g_(v,c+2,b).times(s+""))),o=sa(o,new v(d),c),v.precision=b,e==null?(Gt=!0,Dt(o,b)):o;o=l,i+=2}}function zF(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bu(n/zt),t.d=[],r=(n+1)%zt,n<0&&(r+=zt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=zt;r<i;)t.d.push(+e.slice(r,r+=zt));e=e.slice(r),r=zt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Gt&&(t.e>av||t.e<-av))throw Error(nT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Dt(t,e,n){var r,i,s,a,o,l,c,h,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=zt,i=e,c=d[h=0];else{if(h=Math.ceil((r+1)/zt),s=d.length,h>=s)return t;for(c=s=d[h],a=1;s>=10;s/=10)a++;r%=zt,i=r-zt+a}if(n!==void 0&&(s=zo(10,a-i-1),o=c/s%10|0,l=e<0||d[h+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/zo(10,a-i):0:d[h-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=wn(t),d.length=1,e=e-s-1,d[0]=zo(10,(zt-e%zt)%zt),t.e=Bu(-e/zt)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=h,s=1,h--):(d.length=h+1,s=zo(10,zt-r),d[h]=i>0?(c/zo(10,a-i)%zo(10,i)|0)*s:0),l)for(;;)if(h==0){(d[0]+=s)==$n&&(d[0]=1,++t.e);break}else{if(d[h]+=s,d[h]!=$n)break;d[h--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Gt&&(t.e>av||t.e<-av))throw Error(nT+wn(t));return t}function eW(t,e){var n,r,i,s,a,o,l,c,h,d,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),Gt?Dt(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(h=a<0,h?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(g/zt),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){h=l[i]<d[i];break}a=0}for(h&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=$n-1;--l[s],l[i]+=$n}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Gt?Dt(e,g):e):new m(0)}function ml(t,e,n){var r,i=wn(t),s=bs(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ya(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ya(-i-1)+s,n&&(r=n-a)>0&&(s+=Ya(r))):i>=a?(s+=Ya(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ya(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ya(r))),t.s<0?"-"+s:s}function VF(t,e){if(t.length>e)return t.length=e,!0}function tW(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(il+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return zF(a,s.toString())}else if(typeof s!="string")throw Error(il+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,_xe.test(s))zF(a,s);else throw Error(il+s)}if(i.prototype=Ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=tW,i.config=i.set=Axe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Axe(t){if(!t||typeof t!="object")throw Error(Di+"Object expected");var e,n,r,i=["precision",1,$u,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(il+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(il+n+": "+r);return this}var rT=tW(Sxe);ei=new rT(1);const Ot=rT;function Cxe(t){return Txe(t)||jxe(t)||Exe(t)||Pxe()}function Pxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Exe(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function jxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Txe(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var kxe=function(e){return e},nW={},rW=function(e){return e===nW},WF=function(e){return function n(){return arguments.length===0||arguments.length===1&&rW(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Nxe=function t(e,n){return e===1?n:WF(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==nW}).length;return a>=e?n.apply(void 0,i):t(e-a,WF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var h=i.map(function(d){return rW(d)?l.shift():d});return n.apply(void 0,Cxe(h).concat(l))}))})},Ky=function(e){return Nxe(e.length,e)},EC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Oxe=Ky(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Mxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return kxe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},jC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},iW=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Dxe(t){var e;return t===0?e=1:e=Math.floor(new Ot(t).abs().log(10).toNumber())+1,e}function Rxe(t,e,n){for(var r=new Ot(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Ixe=Ky(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Lxe=Ky(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Fxe=Ky(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Yy={rangeStep:Rxe,getDigitCount:Dxe,interpolateNumber:Ixe,uninterpolateNumber:Lxe,uninterpolateTruncation:Fxe};function TC(t){return Uxe(t)||Bxe(t)||sW(t)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Uxe(t){if(Array.isArray(t))return kC(t)}function Zh(t,e){return Wxe(t)||Vxe(t,e)||sW(t,e)||zxe()}function zxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sW(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function Wxe(t){if(Array.isArray(t))return t}function aW(t){var e=Zh(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function oW(t,e,n){if(t.lte(0))return new Ot(0);var r=Yy.getDigitCount(t.toNumber()),i=new Ot(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ot(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new Ot(Math.ceil(l))}function Hxe(t,e,n){var r=1,i=new Ot(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ot(10).pow(Yy.getDigitCount(t)-1),i=new Ot(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ot(Math.floor(t)))}else t===0?i=new Ot(Math.floor((e-1)/2)):n||(i=new Ot(Math.floor(t)));var a=Math.floor((e-1)/2),o=Mxe(Oxe(function(l){return i.add(new Ot(l-a).mul(r)).toNumber()}),EC);return o(0,e)}function lW(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var s=oW(new Ot(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new Ot(0):(a=new Ot(t).add(e).div(2),a=a.sub(new Ot(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new Ot(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?lW(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new Ot(o).mul(s)),tickMax:a.add(new Ot(l).mul(s))})}function qxe(t){var e=Zh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=aW([n,r]),l=Zh(o,2),c=l[0],h=l[1];if(c===-1/0||h===1/0){var d=h===1/0?[c].concat(TC(EC(0,i-1).map(function(){return 1/0}))):[].concat(TC(EC(0,i-1).map(function(){return-1/0})),[h]);return n>r?jC(d):d}if(c===h)return Hxe(c,i,s);var m=lW(c,h,a,s),g=m.step,x=m.tickMin,v=m.tickMax,b=Yy.rangeStep(x,v.add(new Ot(.1).mul(g)),g);return n>r?jC(b):b}function Gxe(t,e){var n=Zh(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=aW([r,i]),o=Zh(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var h=Math.max(e,2),d=oW(new Ot(c).sub(l).div(h-1),s,0),m=[].concat(TC(Yy.rangeStep(new Ot(l),new Ot(c).sub(new Ot(.99).mul(d)),d)),[c]);return r>i?jC(m):m}var Kxe=iW(qxe),Yxe=iW(Gxe),Xxe="Invariant failed";function gl(t,e){throw new Error(Xxe)}var Qxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function Zxe(t,e){return n0e(t)||t0e(t,e)||e0e(t,e)||Jxe()}function Jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e0e(t,e){if(t){if(typeof t=="string")return HF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function t0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function n0e(t){if(Array.isArray(t))return t}function r0e(t,e){if(t==null)return{};var n=i0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function i0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function s0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dW(r.key),r)}}function o0e(t,e,n){return e&&a0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function l0e(t,e,n){return e=lv(e),c0e(t,cW()?Reflect.construct(e,n||[],lv(t).constructor):e.apply(t,n))}function c0e(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(t)}function u0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cW=function(){return!!t})()}function lv(t){return lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lv(t)}function d0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NC(t,e)}function NC(t,e){return NC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NC(t,e)}function uW(t,e,n){return e=dW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dW(t){var e=h0e(t,"string");return ru(e)=="symbol"?e:e+""}function h0e(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rp=(function(t){function e(){return s0e(this,e),l0e(this,e,arguments)}return d0e(e,t),o0e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,h=r.xAxis,d=r.yAxis,m=r0e(r,Qxe),g=Be(m,!1);this.props.direction==="x"&&h.type!=="number"&&gl();var x=l.map(function(v){var b=c(v,o),w=b.x,_=b.y,A=b.value,T=b.errorVal;if(!T)return null;var P=[],E,k;if(Array.isArray(T)){var O=Zxe(T,2);E=O[0],k=O[1]}else E=k=T;if(s==="vertical"){var D=h.scale,F=_+i,M=F+a,R=F-a,$=D(A-E),H=D(A+k);P.push({x1:H,y1:M,x2:H,y2:R}),P.push({x1:$,y1:F,x2:H,y2:F}),P.push({x1:$,y1:M,x2:$,y2:R})}else if(s==="horizontal"){var G=d.scale,V=w+i,B=V-a,L=V+a,W=G(A-E),X=G(A+k);P.push({x1:B,y1:X,x2:L,y2:X}),P.push({x1:V,y1:W,x2:V,y2:X}),P.push({x1:B,y1:W,x2:L,y2:W})}return z.createElement(mt,ov({className:"recharts-errorBar",key:"bar-".concat(P.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},g),P.map(function(U){return z.createElement("line",ov({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return z.createElement(mt,{className:"recharts-errorBars"},x)}}])})(z.Component);uW(rp,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});uW(rp,"displayName","ErrorBar");function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function qF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(n),!0).forEach(function(r){f0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function f0e(t,e,n){return e=p0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p0e(t){var e=m0e(t,"string");return Jh(e)=="symbol"?e:e+""}function m0e(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hW=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Xr(n,ys);if(!a)return null;var o=ys.defaultProps,l=o!==void 0?Io(Io({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(h,d){var m=d.item,g=d.props,x=g.sectors||g.data||[];return h.concat(x.map(function(v){return{type:a.props.iconType||m.props.legendType,value:v.name,color:v.fill,payload:v}}))},[]):c=(r||[]).map(function(h){var d=h.item,m=d.type.defaultProps,g=m!==void 0?Io(Io({},m),d.props):{},x=g.dataKey,v=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:x,type:l.iconType||b||"square",color:iT(d),value:v||x,payload:g}}),Io(Io(Io({},l),ys.getWithHeight(a,i)),{},{payload:c,item:a})};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function GF(t){return b0e(t)||y0e(t)||v0e(t)||g0e()}function g0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v0e(t,e){if(t){if(typeof t=="string")return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(t,e)}}function y0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b0e(t){if(Array.isArray(t))return OC(t)}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function on(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KF(Object(n),!0).forEach(function(r){Mc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mc(t,e,n){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=w0e(t,"string");return ef(e)=="symbol"?e:e+""}function w0e(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kn(t,e,n){return Qe(t)||Qe(e)?n:Nn(e)?ni(t,e,n):Ke(e)?e(t):n}function dh(t,e,n,r){var i=bxe(t,function(o){return kn(o,e)});if(n==="number"){var s=i.filter(function(o){return ge(o)||parseFloat(o)});return s.length?[Gy(s),qy(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Qe(o)}):i;return a.map(function(o){return Nn(o)||o instanceof Date?o:""})}var S0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var h=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,m=c>=o-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(Sr(d-h)!==Sr(m-d)){var x=[];if(Sr(m-d)===Sr(l[1]-l[0])){g=m;var v=d+l[1]-l[0];x[0]=Math.min(v,(v+h)/2),x[1]=Math.max(v,(v+h)/2)}else{g=h;var b=m+l[1]-l[0];x[0]=Math.min(d,(b+d)/2),x[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var _=Math.min(h,m),A=Math.max(h,m);if(e>(_+d)/2&&e<=(A+d)/2){a=i[c].index;break}}}else for(var T=0;T<o;T++)if(T===0&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T>0&&T<o-1&&e>(r[T].coordinate+r[T-1].coordinate)/2&&e<=(r[T].coordinate+r[T+1].coordinate)/2||T===o-1&&e>(r[T].coordinate+r[T-1].coordinate)/2){a=r[T].index;break}return a},iT=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},_0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var h=s[o[l]].stackGroups,d=Object.keys(h),m=0,g=d.length;m<g;m++){var x=h[d[m]],v=x.items,b=x.cateAxisId,w=v.filter(function(k){return ia(k.type).indexOf("Bar")>=0});if(w&&w.length){var _=w[0].type.defaultProps,A=_!==void 0?on(on({},_),w[0].props):w[0].props,T=A.barSize,P=A[b];a[P]||(a[P]=[]);var E=Qe(T)?n:T;a[P].push({item:w[0],stackList:w.slice(1),barSize:Qe(E)?void 0:_r(E,r,0)})}}return a},A0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=_r(n,i,0,!0),h,d=[];if(a[0].barSize===+a[0].barSize){var m=!1,g=i/l,x=a.reduce(function(T,P){return T+P.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(m=!0,g*=.9,x=l*g);var v=(i-x)/2>>0,b={offset:v-c,size:0};h=a.reduce(function(T,P){var E={item:P.item,position:{offset:b.offset+b.size+c,size:m?g:P.barSize}},k=[].concat(GF(T),[E]);return b=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:b})}),k},d)}else{var w=_r(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var _=(i-2*w-(l-1)*c)/l;_>1&&(_>>=0);var A=o===+o?Math.min(_,o):_;h=a.reduce(function(T,P,E){var k=[].concat(GF(T),[{item:P.item,position:{offset:w+(_+c)*E+(_-A)/2,size:A}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},d)}return h},C0e=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=hW({children:s,legendWidth:l});if(c){var h=i||{},d=h.width,m=h.height,g=c.align,x=c.verticalAlign,v=c.layout;if((v==="vertical"||v==="horizontal"&&x==="middle")&&g!=="center"&&ge(e[g]))return on(on({},e),{},Mc({},g,e[g]+(d||0)));if((v==="horizontal"||v==="vertical"&&g==="center")&&x!=="middle"&&ge(e[x]))return on(on({},e),{},Mc({},x,e[x]+(m||0)))}return e},P0e=function(e,n,r){return Qe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},fW=function(e,n,r,i,s){var a=n.props.children,o=ri(a,rp).filter(function(c){return P0e(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,h){var d=kn(h,r);if(Qe(d))return c;var m=Array.isArray(d)?[Gy(d),qy(d)]:[d,d],g=l.reduce(function(x,v){var b=kn(h,v,0),w=m[0]-Math.abs(Array.isArray(b)?b[0]:b),_=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,x[0]),Math.max(_,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},E0e=function(e,n,r,i,s){var a=n.map(function(o){return fW(e,o,r,s,i)}).filter(function(o){return!Qe(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},pW=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&fW(e,l,c,i)||dh(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var h=0,d=c.length;h<d;h++)o[c[h]]||(o[c[h]]=!0,l.push(c[h]));return l},[])},mW=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},gW=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},na=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?Sr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(d){var m=s?s.indexOf(d):d;return{coordinate:i(m)+c,value:d,offset:c}});return h.filter(function(d){return!Xf(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,m){return{coordinate:i(d)+c,value:d,index:m,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,m){return{coordinate:i(d)+c,value:s?s[d]:d,index:m,offset:c}})},v_=new WeakMap,Gm=function(e,n){if(typeof n!="function")return e;v_.has(e)||v_.set(e,new WeakMap);var r=v_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},vW=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:qh(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:nv(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uh(),realScaleType:"point"}:s==="category"?{scale:qh(),realScaleType:"band"}:{scale:nv(),realScaleType:"linear"};if(hl(i)){var l="scale".concat(Oy(i));return{scale:(MF[l]||uh)(),realScaleType:MF[l]?l:"point"}}return Ke(i)?{scale:i}:{scale:uh(),realScaleType:"point"}},YF=1e-4,yW=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-YF,a=Math.max(i[0],i[1])+YF,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},j0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},T0e=function(e,n){if(!n||n.length!==2||!ge(n[0])||!ge(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ge(e[0])||e[0]<r)&&(s[0]=r),(!ge(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},k0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=Xf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},N0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=Xf(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},O0e={sign:k0e,expand:bpe,none:Yc,silhouette:xpe,wiggle:wpe,positive:N0e},M0e=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=O0e[r],a=ype().keys(i).value(function(o,l){return+kn(o,l,0)}).order(lC).offset(s);return a(e)},D0e=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(d,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?on(on({},m.type.defaultProps),m.props):m.props,v=x.stackId,b=x.hide;if(b)return d;var w=x[r],_=d[w]||{hasStack:!1,stackGroups:{}};if(Nn(v)){var A=_.stackGroups[v]||{numericAxisId:r,cateAxisId:i,items:[]};A.items.push(m),_.hasStack=!0,_.stackGroups[v]=A}else _.stackGroups[Iu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return on(on({},d),{},Mc({},w,_))},l),h={};return Object.keys(c).reduce(function(d,m){var g=c[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(v,b){var w=g.stackGroups[b];return on(on({},v),{},Mc({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:M0e(e,w.items,s)}))},x)}return on(on({},d),{},Mc({},m,g))},h)},bW=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var h=Kxe(c,s,o);return e.domain([Gy(h),qy(h)]),{niceTicks:h}}if(s&&i==="number"){var d=e.domain(),m=Yxe(d,s,o);return{niceTicks:m}}return null};function XF(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qe(i[e.dataKey])){var o=Fg(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=kn(i,Qe(a)?e.dataKey:a);return Qe(l)?null:e.scale(l)}var QF=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=kn(a,n.dataKey,n.domain[o]);return Qe(l)?null:n.scale(l)-s/2+i},R0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},I0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Nn(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},L0e=function(e){return e.reduce(function(n,r){return[Gy(r.concat([n[0]]).filter(ge)),qy(r.concat([n[1]]).filter(ge))]},[1/0,-1/0])},xW=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,h){var d=L0e(h.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},ZF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,JF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MC=function(e,n,r){if(Ke(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ge(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(ZF.test(e[0])){var s=+ZF.exec(e[0])[1];i[0]=n[0]-s}else Ke(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ge(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(JF.test(e[1])){var a=+JF.exec(e[1])[1];i[1]=n[1]+a}else Ke(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},cv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=Oj(n,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],h=s[o-1];a=Math.min((c.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},e$=function(e,n,r){return!e||!e.length||np(e,ni(r,"type.defaultProps.domain"))?n:e},wW=function(e,n){var r=e.type.defaultProps?on(on({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,h=r.hide;return on(on({},Be(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:iT(e),value:kn(n,i),type:l,payload:n,chartType:c,hide:h})};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function t$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t$(Object(n),!0).forEach(function(r){SW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SW(t,e,n){return e=F0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function F0e(t){var e=$0e(t,"string");return tf(e)=="symbol"?e:e+""}function $0e(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function B0e(t,e){return W0e(t)||V0e(t,e)||z0e(t,e)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0e(t,e){if(t){if(typeof t=="string")return n$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n$(t,e)}}function n$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function W0e(t){if(Array.isArray(t))return t}var uv=Math.PI/180,H0e=function(e){return e*180/Math.PI},Ft=function(e,n,r,i){return{x:e+Math.cos(-uv*i)*r,y:n+Math.sin(-uv*i)*r}},_W=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},q0e=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,h=_r(e.cx,a,a/2),d=_r(e.cy,o,o/2),m=_W(a,o,r),g=_r(e.innerRadius,m,0),x=_r(e.outerRadius,m,m*.8),v=Object.keys(n);return v.reduce(function(b,w){var _=n[w],A=_.domain,T=_.reversed,P;if(Qe(_.range))i==="angleAxis"?P=[l,c]:i==="radiusAxis"&&(P=[g,x]),T&&(P=[P[1],P[0]]);else{P=_.range;var E=P,k=B0e(E,2);l=k[0],c=k[1]}var O=vW(_,s),D=O.realScaleType,F=O.scale;F.domain(A).range(P),yW(F);var M=bW(F,Zs(Zs({},_),{},{realScaleType:D})),R=Zs(Zs(Zs({},_),M),{},{range:P,radius:x,realScaleType:D,scale:F,cx:h,cy:d,innerRadius:g,outerRadius:x,startAngle:l,endAngle:c});return Zs(Zs({},b),{},SW({},w,R))},{})},G0e=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},K0e=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=G0e({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:H0e(c),angleInRadian:c}},Y0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},X0e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},r$=function(e,n){var r=e.x,i=e.y,s=K0e({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var h=Y0e(n),d=h.startAngle,m=h.endAngle,g=o,x;if(d<=m){for(;g>m;)g-=360;for(;g<d;)g+=360;x=g>=d&&g<=m}else{for(;g>d;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=d}return x?Zs(Zs({},n),{},{radius:a,angle:X0e(g,n)}):null},AW=function(e){return!C.isValidElement(e)&&!Ke(e)&&typeof e!="boolean"?e.className:""};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}var Q0e=["offset"];function Z0e(t){return nwe(t)||twe(t)||ewe(t)||J0e()}function J0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ewe(t,e){if(t){if(typeof t=="string")return DC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DC(t,e)}}function twe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nwe(t){if(Array.isArray(t))return DC(t)}function DC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rwe(t,e){if(t==null)return{};var n=iwe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function iwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){swe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function swe(t,e,n){return e=awe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function awe(t){var e=owe(t,"string");return nf(e)=="symbol"?e:e+""}function owe(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rf(){return rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rf.apply(this,arguments)}var lwe=function(e){var n=e.value,r=e.formatter,i=Qe(e.children)?n:e.children;return Ke(r)?r(i):i},cwe=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},uwe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,h=l.cy,d=l.innerRadius,m=l.outerRadius,g=l.startAngle,x=l.endAngle,v=l.clockWise,b=(d+m)/2,w=cwe(g,x),_=w>=0?1:-1,A,T;i==="insideStart"?(A=g+_*a,T=v):i==="insideEnd"?(A=x-_*a,T=!v):i==="end"&&(A=x+_*a,T=v),T=w<=0?T:!T;var P=Ft(c,h,b,A),E=Ft(c,h,b,A+(T?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(T?0:1,`,
    `).concat(E.x,",").concat(E.y),O=Qe(e.id)?Iu("recharts-radial-line-"):e.id;return z.createElement("text",rf({},r,{dominantBaseline:"central",className:Je("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:O,d:k})),z.createElement("textPath",{xlinkHref:"#".concat(O)},n))},dwe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,h=s.startAngle,d=s.endAngle,m=(h+d)/2;if(i==="outside"){var g=Ft(a,o,c+r,m),x=g.x,v=g.y;return{x,y:v,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,w=Ft(a,o,b,m),_=w.x,A=w.y;return{x:_,y:A,textAnchor:"middle",verticalAnchor:"middle"}},hwe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,h=a.height,d=h>=0?1:-1,m=d*i,g=d>0?"end":"start",x=d>0?"start":"end",v=c>=0?1:-1,b=v*i,w=v>0?"end":"start",_=v>0?"start":"end";if(s==="top"){var A={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return jn(jn({},A),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var T={x:o+c/2,y:l+h+m,textAnchor:"middle",verticalAnchor:x};return jn(jn({},T),r?{height:Math.max(r.y+r.height-(l+h),0),width:c}:{})}if(s==="left"){var P={x:o-b,y:l+h/2,textAnchor:w,verticalAnchor:"middle"};return jn(jn({},P),r?{width:Math.max(P.x-r.x,0),height:h}:{})}if(s==="right"){var E={x:o+c+b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"};return jn(jn({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:h}:{})}var k=r?{width:c,height:h}:{};return s==="insideLeft"?jn({x:o+b,y:l+h/2,textAnchor:_,verticalAnchor:"middle"},k):s==="insideRight"?jn({x:o+c-b,y:l+h/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideTop"?jn({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:x},k):s==="insideBottom"?jn({x:o+c/2,y:l+h-m,textAnchor:"middle",verticalAnchor:g},k):s==="insideTopLeft"?jn({x:o+b,y:l+m,textAnchor:_,verticalAnchor:x},k):s==="insideTopRight"?jn({x:o+c-b,y:l+m,textAnchor:w,verticalAnchor:x},k):s==="insideBottomLeft"?jn({x:o+b,y:l+h-m,textAnchor:_,verticalAnchor:g},k):s==="insideBottomRight"?jn({x:o+c-b,y:l+h-m,textAnchor:w,verticalAnchor:g},k):Ru(s)&&(ge(s.x)||Ko(s.x))&&(ge(s.y)||Ko(s.y))?jn({x:o+_r(s.x,c),y:l+_r(s.y,h),textAnchor:"end",verticalAnchor:"end"},k):jn({x:o+c/2,y:l+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},fwe=function(e){return"cx"in e&&ge(e.cx)};function Un(t){var e=t.offset,n=e===void 0?5:e,r=rwe(t,Q0e),i=jn({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,h=i.className,d=h===void 0?"":h,m=i.textBreakAll;if(!s||Qe(o)&&Qe(l)&&!C.isValidElement(c)&&!Ke(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var g;if(Ke(c)){if(g=C.createElement(c,i),C.isValidElement(g))return g}else g=lwe(i);var x=fwe(s),v=Be(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return uwe(i,g,v);var b=x?dwe(i):hwe(i);return z.createElement(pl,rf({className:Je("recharts-label",d)},v,b,{breakAll:m}),g)}Un.displayName="Label";var CW=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,h=e.outerRadius,d=e.x,m=e.y,g=e.top,x=e.left,v=e.width,b=e.height,w=e.clockWise,_=e.labelViewBox;if(_)return _;if(ge(v)&&ge(b)){if(ge(d)&&ge(m))return{x:d,y:m,width:v,height:b};if(ge(g)&&ge(x))return{x:g,y:x,width:v,height:b}}return ge(d)&&ge(m)?{x:d,y:m,width:0,height:0}:ge(n)&&ge(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:h||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},pwe=function(e,n){return e?e===!0?z.createElement(Un,{key:"label-implicit",viewBox:n}):Nn(e)?z.createElement(Un,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Un?C.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Un,{key:"label-implicit",content:e,viewBox:n}):Ke(e)?z.createElement(Un,{key:"label-implicit",content:e,viewBox:n}):Ru(e)?z.createElement(Un,rf({viewBox:n},e,{key:"label-implicit"})):null:null},mwe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=CW(e),a=ri(i,Un).map(function(l,c){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=pwe(e.label,n||s);return[o].concat(Z0e(a))};Un.parseViewBox=CW;Un.renderCallByParent=mwe;var y_,s$;function gwe(){if(s$)return y_;s$=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return y_=t,y_}var vwe=gwe();const ywe=At(vwe);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}var bwe=["valueAccessor"],xwe=["data","dataKey","clockWise","id","textBreakAll"];function wwe(t){return Cwe(t)||Awe(t)||_we(t)||Swe()}function Swe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _we(t,e){if(t){if(typeof t=="string")return RC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RC(t,e)}}function Awe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cwe(t){if(Array.isArray(t))return RC(t)}function RC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dv.apply(this,arguments)}function a$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a$(Object(n),!0).forEach(function(r){Pwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pwe(t,e,n){return e=Ewe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ewe(t){var e=jwe(t,"string");return sf(e)=="symbol"?e:e+""}function jwe(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function l$(t,e){if(t==null)return{};var n=Twe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Twe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var kwe=function(e){return Array.isArray(e.value)?ywe(e.value):e.value};function aa(t){var e=t.valueAccessor,n=e===void 0?kwe:e,r=l$(t,bwe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=l$(r,xwe);return!i||!i.length?null:z.createElement(mt,{className:"recharts-label-list"},i.map(function(h,d){var m=Qe(s)?n(h,d):kn(h&&h.payload,s),g=Qe(o)?{}:{id:"".concat(o,"-").concat(d)};return z.createElement(Un,dv({},Be(h,!0),c,g,{parentViewBox:h.parentViewBox,value:m,textBreakAll:l,viewBox:Un.parseViewBox(Qe(a)?h:o$(o$({},h),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}aa.displayName="LabelList";function Nwe(t,e){return t?t===!0?z.createElement(aa,{key:"labelList-implicit",data:e}):z.isValidElement(t)||Ke(t)?z.createElement(aa,{key:"labelList-implicit",data:e,content:t}):Ru(t)?z.createElement(aa,dv({data:e},t,{key:"labelList-implicit"})):null:null}function Owe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ri(r,aa).map(function(a,o){return C.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Nwe(t.label,e);return[s].concat(wwe(i))}aa.renderCallByParent=Owe;function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function IC(){return IC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IC.apply(this,arguments)}function c$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(n),!0).forEach(function(r){Mwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mwe(t,e,n){return e=Dwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dwe(t){var e=Rwe(t,"string");return af(e)=="symbol"?e:e+""}function Rwe(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iwe=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Km=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,h=l*(o?1:-1)+i,d=Math.asin(l/h)/uv,m=c?s:s+a*d,g=Ft(n,r,h,m),x=Ft(n,r,i,m),v=c?s-a*d:s,b=Ft(n,r,h*Math.cos(d*uv),v);return{center:g,circleTangency:x,lineTangency:b,theta:d}},PW=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Iwe(a,o),c=a+l,h=Ft(n,r,s,a),d=Ft(n,r,s,c),m="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Ft(n,r,i,a),x=Ft(n,r,i,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},Lwe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,h=e.endAngle,d=Sr(h-c),m=Km({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),g=m.circleTangency,x=m.lineTangency,v=m.theta,b=Km({cx:n,cy:r,radius:s,angle:h,sign:-d,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,_=b.lineTangency,A=b.theta,T=l?Math.abs(c-h):Math.abs(c-h)-v-A;if(T<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):PW({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:h});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,`
  `);if(i>0){var E=Km({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=E.circleTangency,O=E.lineTangency,D=E.theta,F=Km({cx:n,cy:r,radius:i,angle:h,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=F.circleTangency,R=F.lineTangency,$=F.theta,H=l?Math.abs(c-h):Math.abs(c-h)-D-$;if(H<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(d>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},Fwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EW=function(e){var n=u$(u$({},Fwe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,h=n.startAngle,d=n.endAngle,m=n.className;if(a<s||h===d)return null;var g=Je("recharts-sector",m),x=a-s,v=_r(o,x,0,!0),b;return v>0&&Math.abs(h-d)<360?b=Lwe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(v,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:h,endAngle:d}):b=PW({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:h,endAngle:d}),z.createElement("path",IC({},Be(n,!0),{className:g,d:b,role:"img"}))};function of(t){"@babel/helpers - typeof";return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},of(t)}function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}function d$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(n),!0).forEach(function(r){$we(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $we(t,e,n){return e=Bwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bwe(t){var e=Uwe(t,"string");return of(e)=="symbol"?e:e+""}function Uwe(t,e){if(of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var f$={curveBasisClosed:ope,curveBasisOpen:lpe,curveBasis:ape,curveBumpX:qfe,curveBumpY:Gfe,curveLinearClosed:cpe,curveLinear:Dy,curveMonotoneX:upe,curveMonotoneY:dpe,curveNatural:hpe,curveStep:fpe,curveStepAfter:mpe,curveStepBefore:ppe},Ym=function(e){return e.x===+e.x&&e.y===+e.y},Vd=function(e){return e.x},Wd=function(e){return e.y},zwe=function(e,n){if(Ke(e))return e;var r="curve".concat(Oy(e));return(r==="curveMonotone"||r==="curveBump")&&n?f$["".concat(r).concat(n==="vertical"?"Y":"X")]:f$[r]||Dy},Vwe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,h=zwe(r,o),d=c?s.filter(function(v){return Ym(v)}):s,m;if(Array.isArray(a)){var g=c?a.filter(function(v){return Ym(v)}):a,x=d.map(function(v,b){return h$(h$({},v),{},{base:g[b]})});return o==="vertical"?m=Bm().y(Wd).x1(Vd).x0(function(v){return v.base.x}):m=Bm().x(Vd).y1(Wd).y0(function(v){return v.base.y}),m.defined(Ym).curve(h),m(x)}return o==="vertical"&&ge(a)?m=Bm().y(Wd).x1(Vd).x0(a):ge(a)?m=Bm().x(Vd).y1(Wd).y0(a):m=C6().x(Vd).y(Wd),m.defined(Ym).curve(h),m(d)},hv=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Vwe(e):i;return C.createElement("path",LC({},Be(e,!1),$g(e),{className:Je("recharts-curve",n),d:a,ref:s}))},b_={exports:{}},x_,p$;function Wwe(){if(p$)return x_;p$=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return x_=t,x_}var w_,m$;function Hwe(){if(m$)return w_;m$=1;var t=Wwe();function e(){}function n(){}return n.resetWarningCache=e,w_=function(){function r(a,o,l,c,h,d){if(d!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},w_}var g$;function qwe(){return g$||(g$=1,b_.exports=Hwe()()),b_.exports}var Gwe=qwe();const St=At(Gwe);var Kwe=Object.getOwnPropertyNames,Ywe=Object.getOwnPropertySymbols,Xwe=Object.prototype.hasOwnProperty;function v$(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function Xm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function Qwe(t){return t?.[Symbol.toStringTag]}function y$(t){return Kwe(t).concat(Ywe(t))}var Zwe=Object.hasOwn||(function(t,e){return Xwe.call(t,e)});function Al(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Jwe="__v",e1e="__o",t1e="_owner",b$=Object.getOwnPropertyDescriptor,x$=Object.keys;function n1e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function r1e(t,e){return Al(t.getTime(),e.getTime())}function i1e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function s1e(t,e){return t===e}function w$(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),h=!1,d=0;(o=c.next())&&!o.done;){if(i[d]){d++;continue}var m=a.value,g=o.value;if(n.equals(m[0],g[0],l,d,t,e,n)&&n.equals(m[1],g[1],m[0],g[0],t,e,n)){h=i[d]=!0;break}d++}if(!h)return!1;l++}return!0}var a1e=Al;function o1e(t,e,n){var r=x$(t),i=r.length;if(x$(e).length!==i)return!1;for(;i-- >0;)if(!jW(t,e,n,r[i]))return!1;return!0}function Hd(t,e,n){var r=y$(t),i=r.length;if(y$(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!jW(t,e,n,s)||(a=b$(t,s),o=b$(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function l1e(t,e){return Al(t.valueOf(),e.valueOf())}function c1e(t,e){return t.source===e.source&&t.flags===e.flags}function S$(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,h=0;(o=l.next())&&!o.done;){if(!i[h]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[h]=!0;break}h++}if(!c)return!1}return!0}function u1e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function d1e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function jW(t,e,n,r){return(r===t1e||r===e1e||r===Jwe)&&(t.$$typeof||e.$$typeof)?!0:Zwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var h1e="[object Arguments]",f1e="[object Boolean]",p1e="[object Date]",m1e="[object Error]",g1e="[object Map]",v1e="[object Number]",y1e="[object Object]",b1e="[object RegExp]",x1e="[object Set]",w1e="[object String]",S1e="[object URL]",_1e=Array.isArray,_$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,A$=Object.assign,A1e=Object.prototype.toString.call.bind(Object.prototype.toString);function C1e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,h=t.areSetsEqual,d=t.areTypedArraysEqual,m=t.areUrlsEqual,g=t.unknownTagComparators;return function(v,b,w){if(v===b)return!0;if(v==null||b==null)return!1;var _=typeof v;if(_!==typeof b)return!1;if(_!=="object")return _==="number"?a(v,b,w):_==="function"?i(v,b,w):!1;var A=v.constructor;if(A!==b.constructor)return!1;if(A===Object)return o(v,b,w);if(_1e(v))return e(v,b,w);if(_$!=null&&_$(v))return d(v,b,w);if(A===Date)return n(v,b,w);if(A===RegExp)return c(v,b,w);if(A===Map)return s(v,b,w);if(A===Set)return h(v,b,w);var T=A1e(v);if(T===p1e)return n(v,b,w);if(T===b1e)return c(v,b,w);if(T===g1e)return s(v,b,w);if(T===x1e)return h(v,b,w);if(T===y1e)return typeof v.then!="function"&&typeof b.then!="function"&&o(v,b,w);if(T===S1e)return m(v,b,w);if(T===m1e)return r(v,b,w);if(T===h1e)return o(v,b,w);if(T===f1e||T===v1e||T===w1e)return l(v,b,w);if(g){var P=g[T];if(!P){var E=Qwe(v);E&&(P=g[E])}if(P)return P(v,b,w)}return!1}}function P1e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Hd:n1e,areDatesEqual:r1e,areErrorsEqual:i1e,areFunctionsEqual:s1e,areMapsEqual:r?v$(w$,Hd):w$,areNumbersEqual:a1e,areObjectsEqual:r?Hd:o1e,arePrimitiveWrappersEqual:l1e,areRegExpsEqual:c1e,areSetsEqual:r?v$(S$,Hd):S$,areTypedArraysEqual:r?Hd:u1e,areUrlsEqual:d1e,unknownTagComparators:void 0};if(n&&(i=A$({},i,n(i))),e){var s=Xm(i.areArraysEqual),a=Xm(i.areMapsEqual),o=Xm(i.areObjectsEqual),l=Xm(i.areSetsEqual);i=A$({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function E1e(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function j1e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var h=r(),d=h.cache,m=d===void 0?e?new WeakMap:void 0:d,g=h.meta;return n(l,c,{cache:m,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var T1e=yo();yo({strict:!0});yo({circular:!0});yo({circular:!0,strict:!0});yo({createInternalComparator:function(){return Al}});yo({strict:!0,createInternalComparator:function(){return Al}});yo({circular:!0,createInternalComparator:function(){return Al}});yo({circular:!0,createInternalComparator:function(){return Al},strict:!0});function yo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=P1e(t),l=C1e(o),c=r?r(l):E1e(l);return j1e({circular:n,comparator:l,createState:i,equals:c,strict:a})}function k1e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function C$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):k1e(i)};requestAnimationFrame(r)}function FC(t){"@babel/helpers - typeof";return FC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FC(t)}function N1e(t){return R1e(t)||D1e(t)||M1e(t)||O1e()}function O1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1e(t,e){if(t){if(typeof t=="string")return P$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P$(t,e)}}function P$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R1e(t){if(Array.isArray(t))return t}function I1e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=N1e(a),l=o[0],c=o.slice(1);if(typeof l=="number"){C$(i.bind(null,c),l);return}i(l),C$(i.bind(null,c));return}FC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function E$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function j$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(n),!0).forEach(function(r){TW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TW(t,e,n){return e=L1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L1e(t){var e=F1e(t,"string");return lf(e)==="symbol"?e:String(e)}function F1e(t,e){if(lf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},B1e=function(e){return e},U1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},hh=function(e,n){return Object.keys(n).reduce(function(r,i){return j$(j$({},r),{},TW({},i,e(i,n[i])))},{})},T$=function(e,n,r){return e.map(function(i){return"".concat(U1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function z1e(t,e){return H1e(t)||W1e(t,e)||kW(t,e)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function H1e(t){if(Array.isArray(t))return t}function q1e(t){return Y1e(t)||K1e(t)||kW(t)||G1e()}function G1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kW(t,e){if(t){if(typeof t=="string")return $C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $C(t,e)}}function K1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y1e(t){if(Array.isArray(t))return $C(t)}function $C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fv=1e-4,NW=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},OW=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},k$=function(e,n){return function(r){var i=NW(e,n);return OW(i,r)}},X1e=function(e,n){return function(r){var i=NW(e,n),s=[].concat(q1e(i.map(function(a,o){return a*o}).slice(1)),[0]);return OW(s,r)}},N$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),h=z1e(c,4);i=h[0],s=h[1],a=h[2],o=h[3]}}}var d=k$(i,a),m=k$(s,o),g=X1e(i,a),x=function(w){return w>1?1:w<0?0:w},v=function(w){for(var _=w>1?1:w,A=_,T=0;T<8;++T){var P=d(A)-_,E=g(A);if(Math.abs(P-_)<fv||E<fv)return m(A);A=x(A-P/E)}return m(A)};return v.isStepper=!1,v},Q1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(h,d,m){var g=-(h-d)*r,x=m*s,v=m+(g-x)*o/1e3,b=m*o/1e3+h;return Math.abs(b-d)<fv&&Math.abs(v)<fv?[d,0]:[b,v]};return l.isStepper=!0,l.dt=o,l},Z1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return N$(i);case"spring":return Q1e();default:if(i.split("(")[0]==="cubic-bezier")return N$(i)}return typeof i=="function"?i:null};function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function O$(t){return tSe(t)||eSe(t)||MW(t)||J1e()}function J1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tSe(t){if(Array.isArray(t))return UC(t)}function M$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M$(Object(n),!0).forEach(function(r){BC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BC(t,e,n){return e=nSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nSe(t){var e=rSe(t,"string");return cf(e)==="symbol"?e:String(e)}function rSe(t,e){if(cf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iSe(t,e){return oSe(t)||aSe(t,e)||MW(t,e)||sSe()}function sSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MW(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function aSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function oSe(t){if(Array.isArray(t))return t}var pv=function(e,n,r){return e+(n-e)*r},zC=function(e){var n=e.from,r=e.to;return n!==r},lSe=function t(e,n,r){var i=hh(function(s,a){if(zC(a)){var o=e(a.from,a.to,a.velocity),l=iSe(o,2),c=l[0],h=l[1];return tr(tr({},a),{},{from:c,velocity:h})}return a},n);return r<1?hh(function(s,a){return zC(a)?tr(tr({},a),{},{velocity:pv(a.velocity,i[s].velocity,r),from:pv(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const cSe=(function(t,e,n,r,i){var s=$1e(t,e),a=s.reduce(function(b,w){return tr(tr({},b),{},BC({},w,[t[w],e[w]]))},{}),o=s.reduce(function(b,w){return tr(tr({},b),{},BC({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,h,d=function(){return null},m=function(){return hh(function(w,_){return _.from},o)},g=function(){return!Object.values(o).filter(zC).length},x=function(w){c||(c=w);var _=w-c,A=_/n.dt;o=lSe(n,o,A),i(tr(tr(tr({},t),e),m())),c=w,g()||(l=requestAnimationFrame(d))},v=function(w){h||(h=w);var _=(w-h)/r,A=hh(function(P,E){return pv.apply(void 0,O$(E).concat([n(_)]))},a);if(i(tr(tr(tr({},t),e),A)),_<1)l=requestAnimationFrame(d);else{var T=hh(function(P,E){return pv.apply(void 0,O$(E).concat([n(1)]))},a);i(tr(tr(tr({},t),e),T))}};return d=n.isStepper?x:v,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}});function iu(t){"@babel/helpers - typeof";return iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iu(t)}var uSe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function dSe(t,e){if(t==null)return{};var n=hSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function S_(t){return gSe(t)||mSe(t)||pSe(t)||fSe()}function fSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pSe(t,e){if(t){if(typeof t=="string")return VC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(t,e)}}function mSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gSe(t){if(Array.isArray(t))return VC(t)}function VC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function D$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D$(Object(n),!0).forEach(function(r){Jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jd(t,e,n){return e=DW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ySe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DW(r.key),r)}}function bSe(t,e,n){return e&&ySe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DW(t){var e=xSe(t,"string");return iu(e)==="symbol"?e:String(e)}function xSe(t,e){if(iu(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(iu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function SSe(t){var e=_Se();return function(){var r=mv(t),i;if(e){var s=mv(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return HC(this,i)}}function HC(t,e){if(e&&(iu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qC(t)}function qC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _Se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function mv(t){return mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mv(t)}var Ns=(function(t){wSe(n,t);var e=SSe(n);function n(r,i){var s;vSe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,h=a.to,d=a.steps,m=a.children,g=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(qC(s)),s.changeStyle=s.changeStyle.bind(qC(s)),!o||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:h}),HC(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof m=="function")return s.state={style:c},HC(s);s.state={style:l?Jd({},l,c):c}}else s.state={style:{}};return s}return bSe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,h=s.to,d=s.from,m=this.state.style;if(o){if(!a){var g={style:l?Jd({},l,h):h};this.state&&m&&(l&&m[l]!==h||!l&&m!==h)&&this.setState(g);return}if(!(T1e(i.to,h)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=x||c?d:i.to;if(this.state&&m){var b={style:l?Jd({},l,v):v};(l&&m[l]!==v||!l&&m!==v)&&this.setState(b)}this.runAnimation(Hi(Hi({},this.props),{},{from:v,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,h=i.begin,d=i.onAnimationEnd,m=i.onAnimationStart,g=cSe(a,o,Z1e(c),l,this.changeStyle),x=function(){s.stopJSAnimation=g()};this.manager.start([m,h,x,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],h=c.style,d=c.duration,m=d===void 0?0:d,g=function(v,b,w){if(w===0)return v;var _=b.duration,A=b.easing,T=A===void 0?"ease":A,P=b.style,E=b.properties,k=b.onAnimationEnd,O=w>0?a[w-1]:b,D=E||Object.keys(P);if(typeof T=="function"||T==="spring")return[].concat(S_(v),[s.runJSAnimation.bind(s,{from:O.style,to:P,duration:_,easing:T}),_]);var F=T$(D,_,T),M=Hi(Hi(Hi({},O.style),P),{},{transition:F});return[].concat(S_(v),[M,_,k]).filter(B1e)};return this.manager.start([l].concat(S_(a.reduce(g,[h,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=I1e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,h=i.onAnimationStart,d=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var v=o?Jd({},o,l):l,b=T$(Object.keys(v),a,c);x.start([h,s,Hi(Hi({},v),{},{transition:b}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=dSe(i,uSe),c=C.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!o||c===0||a<=0)return s;var d=function(g){var x=g.props,v=x.style,b=v===void 0?{}:v,w=x.className,_=C.cloneElement(g,Hi(Hi({},l),{},{style:Hi(Hi({},b),h),className:w}));return _};return c===1?d(C.Children.only(s)):z.createElement("div",null,C.Children.map(s,function(m){return d(m)}))}}]),n})(C.PureComponent);Ns.displayName="Animate";Ns.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ns.propTypes={from:St.oneOfType([St.object,St.string]),to:St.oneOfType([St.object,St.string]),attributeName:St.string,duration:St.number,begin:St.number,easing:St.oneOfType([St.string,St.func]),steps:St.arrayOf(St.shape({duration:St.number.isRequired,style:St.object.isRequired,easing:St.oneOfType([St.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),St.func]),properties:St.arrayOf("string"),onAnimationEnd:St.func})),children:St.oneOfType([St.node,St.func]),isActive:St.bool,canBegin:St.bool,onAnimationEnd:St.func,shouldReAnimate:St.bool,onAnimationStart:St.func,onAnimationReStart:St.func};function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function gv(){return gv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gv.apply(this,arguments)}function ASe(t,e){return jSe(t)||ESe(t,e)||PSe(t,e)||CSe()}function CSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PSe(t,e){if(t){if(typeof t=="string")return R$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R$(t,e)}}function R$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ESe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function jSe(t){if(Array.isArray(t))return t}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(n),!0).forEach(function(r){TSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function TSe(t,e,n){return e=kSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kSe(t){var e=NSe(t,"string");return uf(e)=="symbol"?e:e+""}function NSe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F$=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],m=0,g=4;m<g;m++)d[m]=s[m]>a?a:s[m];h="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(h+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),h+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(h+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),h+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(h+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),h+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(h+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),h+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);h="M ".concat(e,",").concat(n+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*x,`
            L `).concat(e+r,",").concat(n+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*x," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},OSe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),h=Math.max(s,s+o),d=Math.min(a,a+l),m=Math.max(a,a+l);return r>=c&&r<=h&&i>=d&&i<=m}return!1},MSe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},sT=function(e){var n=L$(L$({},MSe),e),r=C.useRef(),i=C.useState(-1),s=ASe(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&o(T)}catch{}},[]);var l=n.x,c=n.y,h=n.width,d=n.height,m=n.radius,g=n.className,x=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,_=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||h===0||d===0)return null;var A=Je("recharts-rectangle",g);return _?z.createElement(Ns,{canBegin:a>0,from:{width:h,height:d,x:l,y:c},to:{width:h,height:d,x:l,y:c},duration:v,animationEasing:x,isActive:_},function(T){var P=T.width,E=T.height,k=T.x,O=T.y;return z.createElement(Ns,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,isActive:w,easing:x},z.createElement("path",gv({},Be(n,!0),{className:A,d:F$(k,O,P,E,m),ref:r})))}):z.createElement("path",gv({},Be(n,!0),{className:A,d:F$(l,c,h,d,m)}))},DSe=["points","className","baseLinePoints","connectNulls"];function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xc.apply(this,arguments)}function RSe(t,e){if(t==null)return{};var n=ISe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ISe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $$(t){return BSe(t)||$Se(t)||FSe(t)||LSe()}function LSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FSe(t,e){if(t){if(typeof t=="string")return GC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GC(t,e)}}function $Se(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BSe(t){if(Array.isArray(t))return GC(t)}function GC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var B$=function(e){return e&&e.x===+e.x&&e.y===+e.y},USe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){B$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),B$(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},fh=function(e,n){var r=USe(e);n&&(r=[r.reduce(function(s,a){return[].concat($$(s),$$(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},zSe=function(e,n,r){var i=fh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(fh(n.reverse(),r).slice(1))},VSe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=RSe(e,DSe);if(!n||!n.length)return null;var o=Je("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=zSe(n,i,s);return z.createElement("g",{className:o},z.createElement("path",xc({},Be(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?z.createElement("path",xc({},Be(a,!0),{fill:"none",d:fh(n,s)})):null,l?z.createElement("path",xc({},Be(a,!0),{fill:"none",d:fh(i,s)})):null)}var h=fh(n,s);return z.createElement("path",xc({},Be(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:o,d:h}))};function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KC.apply(this,arguments)}var Xy=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=Je("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",KC({},Be(e,!1),$g(e),{className:a,cx:n,cy:r,r:i})):null};function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}var WSe=["x","y","top","left","width","height","className"];function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function U$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(n),!0).forEach(function(r){qSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qSe(t,e,n){return e=GSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GSe(t){var e=KSe(t,"string");return df(e)=="symbol"?e:e+""}function KSe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YSe(t,e){if(t==null)return{};var n=XSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var QSe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},ZSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,h=e.width,d=h===void 0?0:h,m=e.height,g=m===void 0?0:m,x=e.className,v=YSe(e,WSe),b=HSe({x:r,y:s,top:o,left:c,width:d,height:g},v);return!ge(r)||!ge(s)||!ge(d)||!ge(g)||!ge(o)||!ge(c)?null:z.createElement("path",YC({},Be(b,!0),{className:Je("recharts-cross",x),d:QSe(r,s,d,g,o,c)}))},__,z$;function JSe(){if(z$)return __;z$=1;var t=Hy(),e=Y8(),n=Is();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return __=r,__}var e_e=JSe();const t_e=At(e_e);var A_,V$;function n_e(){if(V$)return A_;V$=1;var t=Hy(),e=Is(),n=X8();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return A_=r,A_}var r_e=n_e();const i_e=At(r_e);var s_e=["cx","cy","angle","ticks","axisLine"],a_e=["ticks","tick","angle","tickFormatter","stroke"];function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function ph(){return ph=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ph.apply(this,arguments)}function W$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(n),!0).forEach(function(r){Qy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H$(t,e){if(t==null)return{};var n=o_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function l_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IW(r.key),r)}}function c_e(t,e,n){return e&&q$(t.prototype,e),n&&q$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function u_e(t,e,n){return e=vv(e),d_e(t,RW()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function d_e(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h_e(t)}function h_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RW=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function f_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XC(t,e)}function Qy(t,e,n){return e=IW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IW(t){var e=p_e(t,"string");return su(e)=="symbol"?e:e+""}function p_e(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zy=(function(t){function e(){return l_e(this,e),u_e(this,e,arguments)}return f_e(e,t),c_e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Ft(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=t_e(o,function(h){return h.coordinate||0}),c=i_e(o,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=H$(r,s_e),h=o.reduce(function(x,v){return[Math.min(x[0],v.coordinate),Math.max(x[1],v.coordinate)]},[1/0,-1/0]),d=Ft(i,s,h[0],a),m=Ft(i,s,h[1],a),g=Lo(Lo(Lo({},Be(c,!1)),{},{fill:"none"},Be(l,!1)),{},{x1:d.x,y1:d.y,x2:m.x,y2:m.y});return z.createElement("line",ph({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,h=H$(i,a_e),d=this.getTickTextAnchor(),m=Be(h,!1),g=Be(a,!1),x=s.map(function(v,b){var w=r.getTickValueCoord(v),_=Lo(Lo(Lo(Lo({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:c},g),{},{index:b},w),{},{payload:v});return z.createElement(mt,ph({className:Je("recharts-polar-radius-axis-tick",AW(a)),key:"tick-".concat(v.coordinate)},fl(r.props,v,b)),e.renderTickItem(a,_,l?l(v.value,b):v.value))});return z.createElement(mt,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:z.createElement(mt,{className:Je("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Un.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Ke(r)?a=r(i):a=z.createElement(pl,ph({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(C.PureComponent);Qy(Zy,"displayName","PolarRadiusAxis");Qy(Zy,"axisType","radiusAxis");Qy(Zy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vo.apply(this,arguments)}function G$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(n),!0).forEach(function(r){Jy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,FW(r.key),r)}}function g_e(t,e,n){return e&&K$(t.prototype,e),n&&K$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function v_e(t,e,n){return e=yv(e),y_e(t,LW()?Reflect.construct(e,n||[],yv(t).constructor):e.apply(t,n))}function y_e(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b_e(t)}function b_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LW=function(){return!!t})()}function yv(t){return yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yv(t)}function x_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QC(t,e)}function Jy(t,e,n){return e=FW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FW(t){var e=w_e(t,"string");return au(e)=="symbol"?e:e+""}function w_e(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var S_e=Math.PI/180,Y$=1e-5,eb=(function(t){function e(){return m_e(this,e),v_e(this,e,arguments)}return x_e(e,t),g_e(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,h=c||8,d=Ft(s,a,o,r.coordinate),m=Ft(s,a,o+(l==="inner"?-1:1)*h,r.coordinate);return{x1:d.x,y1:d.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*S_e),a;return s>Y$?a=i==="outer"?"start":"end":s<-Y$?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Fo(Fo({},Be(this.props,!1)),{},{fill:"none"},Be(o,!1));if(l==="circle")return z.createElement(Xy,Vo({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var h=this.props.ticks,d=h.map(function(m){return Ft(i,s,a,m.coordinate)});return z.createElement(VSe,Vo({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,h=Be(this.props,!1),d=Be(a,!1),m=Fo(Fo({},h),{},{fill:"none"},Be(o,!1)),g=s.map(function(x,v){var b=r.getTickLineCoord(x),w=r.getTickTextAnchor(x),_=Fo(Fo(Fo({textAnchor:w},h),{},{stroke:"none",fill:c},d),{},{index:v,payload:x,x:b.x2,y:b.y2});return z.createElement(mt,Vo({className:Je("recharts-polar-angle-axis-tick",AW(a)),key:"tick-".concat(x.coordinate)},fl(r.props,x,v)),o&&z.createElement("line",Vo({className:"recharts-polar-angle-axis-tick-line"},m,b)),a&&e.renderTickItem(a,_,l?l(x.value,v):x.value))});return z.createElement(mt,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:z.createElement(mt,{className:Je("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):Ke(r)?a=r(i):a=z.createElement(pl,Vo({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(C.PureComponent);Jy(eb,"displayName","PolarAngleAxis");Jy(eb,"axisType","angleAxis");Jy(eb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var C_,X$;function __e(){if(X$)return C_;X$=1;var t=K6(),e=t(Object.getPrototypeOf,Object);return C_=e,C_}var P_,Q$;function A_e(){if(Q$)return P_;Q$=1;var t=ga(),e=__e(),n=va(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(h){if(!n(h)||t(h)!=r)return!1;var d=e(h);if(d===null)return!0;var m=o.call(d,"constructor")&&d.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==l}return P_=c,P_}var C_e=A_e();const P_e=At(C_e);var E_,Z$;function E_e(){if(Z$)return E_;Z$=1;var t=ga(),e=va(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return E_=r,E_}var j_e=E_e();const T_e=At(j_e);function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function k_e(t,e){return D_e(t)||M_e(t,e)||O_e(t,e)||N_e()}function N_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(t,e){if(t){if(typeof t=="string")return J$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J$(t,e)}}function J$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function D_e(t){if(Array.isArray(t))return t}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){R_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_e(t,e,n){return e=I_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I_e(t){var e=L_e(t,"string");return hf(e)=="symbol"?e:e+""}function L_e(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nB=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},F_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},$_e=function(e){var n=tB(tB({},F_e),e),r=C.useRef(),i=C.useState(-1),s=k_e(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var A=r.current.getTotalLength();A&&o(A)}catch{}},[]);var l=n.x,c=n.y,h=n.upperWidth,d=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,v=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||h!==+h||d!==+d||m!==+m||h===0&&d===0||m===0)return null;var _=Je("recharts-trapezoid",g);return w?z.createElement(Ns,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:h,lowerWidth:d,height:m,x:l,y:c},duration:v,animationEasing:x,isActive:w},function(A){var T=A.upperWidth,P=A.lowerWidth,E=A.height,k=A.x,O=A.y;return z.createElement(Ns,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:v,easing:x},z.createElement("path",bv({},Be(n,!0),{className:_,d:nB(k,O,T,P,E),ref:r})))}):z.createElement("g",null,z.createElement("path",bv({},Be(n,!0),{className:_,d:nB(l,c,h,d,m)})))},B_e=["option","shapeType","propTransformer","activeClassName","isActive"];function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function U_e(t,e){if(t==null)return{};var n=z_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rB(Object(n),!0).forEach(function(r){V_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V_e(t,e,n){return e=W_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W_e(t){var e=H_e(t,"string");return ff(e)=="symbol"?e:e+""}function H_e(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_e(t,e){return xv(xv({},e),t)}function G_e(t,e){return t==="symbols"}function iB(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(sT,n);case"trapezoid":return z.createElement($_e,n);case"sector":return z.createElement(EW,n);case"symbols":if(G_e(e))return z.createElement(Aj,n);break;default:return null}}function K_e(t){return C.isValidElement(t)?t.props:t}function $W(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?q_e:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=U_e(t,B_e),c;if(C.isValidElement(e))c=C.cloneElement(e,xv(xv({},l),K_e(e)));else if(Ke(e))c=e(l);else if(P_e(e)&&!T_e(e)){var h=i(e,l);c=z.createElement(iB,{shapeType:n,elementProps:h})}else{var d=l;c=z.createElement(iB,{shapeType:n,elementProps:d})}return o?z.createElement(mt,{className:a},c):c}function tb(t,e){return e!=null&&"trapezoids"in t.props}function nb(t,e){return e!=null&&"sectors"in t.props}function pf(t,e){return e!=null&&"points"in t.props}function Y_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function X_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Q_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Z_e(t,e){var n;return tb(t,e)?n=Y_e:nb(t,e)?n=X_e:pf(t,e)&&(n=Q_e),n}function J_e(t,e){var n;return tb(t,e)?n="trapezoids":nb(t,e)?n="sectors":pf(t,e)&&(n="points"),n}function eAe(t,e){if(tb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(nb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return pf(t,e)?e.payload:{}}function tAe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=J_e(n,e),s=eAe(n,e),a=r.filter(function(l,c){var h=np(s,l),d=n.props[i].filter(function(x){var v=Z_e(n,e);return v(x,e)}),m=n.props[i].indexOf(d[d.length-1]),g=c===m;return h&&g}),o=r.indexOf(a[a.length-1]);return o}var cg;function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function wc(){return wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wc.apply(this,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){Ai(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,UW(r.key),r)}}function rAe(t,e,n){return e&&aB(t.prototype,e),n&&aB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iAe(t,e,n){return e=wv(e),sAe(t,BW()?Reflect.construct(e,n||[],wv(t).constructor):e.apply(t,n))}function sAe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aAe(t)}function aAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BW=function(){return!!t})()}function wv(t){return wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wv(t)}function oAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZC(t,e)}function Ai(t,e,n){return e=UW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function UW(t){var e=lAe(t,"string");return ou(e)=="symbol"?e:e+""}function lAe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ns=(function(t){function e(n){var r;return nAe(this,e),r=iAe(this,e,[n]),Ai(r,"pieRef",null),Ai(r,"sectorRefs",[]),Ai(r,"id",Iu("recharts-pie-")),Ai(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ke(i)&&i()}),Ai(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ke(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return oAe(e,t),rAe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,h=Be(this.props,!1),d=Be(a,!1),m=Be(o,!1),g=a&&a.offsetRadius||20,x=r.map(function(v,b){var w=(v.startAngle+v.endAngle)/2,_=Ft(v.cx,v.cy,v.outerRadius+g,w),A=It(It(It(It({},h),v),{},{stroke:"none"},d),{},{index:b,textAnchor:e.getTextAnchor(_.x,v.cx)},_),T=It(It(It(It({},h),v),{},{fill:"none",stroke:v.fill},m),{},{index:b,points:[Ft(v.cx,v.cy,v.outerRadius,w),_]}),P=l;return Qe(l)&&Qe(c)?P="value":Qe(l)&&(P=c),z.createElement(mt,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,T,"line"),e.renderLabelItem(a,A,kn(v,P)))});return z.createElement(mt,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,h){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var d=i.isActiveIndex(h),m=l&&i.hasActiveIndex()?l:null,g=d?a:m,x=It(It({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return z.createElement(mt,wc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},fl(i.props,c,h),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(h)}),z.createElement($W,wc({option:g,isActive:d,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,h=i.animationId,d=this.state,m=d.prevSectors,g=d.prevIsAnimationActive;return z.createElement(Ns,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var v=x.t,b=[],w=s&&s[0],_=w.startAngle;return s.forEach(function(A,T){var P=m&&m[T],E=T>0?ni(A,"paddingAngle",0):0;if(P){var k=Jr(P.endAngle-P.startAngle,A.endAngle-A.startAngle),O=It(It({},A),{},{startAngle:_+E,endAngle:_+k(v)+E});b.push(O),_=O.endAngle}else{var D=A.endAngle,F=A.startAngle,M=Jr(0,D-F),R=M(v),$=It(It({},A),{},{startAngle:_+E,endAngle:_+R+E});b.push($),_=$.endAngle}}),z.createElement(mt,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!np(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,h=i.cy,d=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!ge(c)||!ge(h)||!ge(d)||!ge(m))return null;var v=Je("recharts-pie",o);return z.createElement(mt,{tabIndex:this.props.rootTabIndex,className:v,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Un.renderCallByParent(this.props,null,!1),(!g||x)&&aa.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);if(Ke(r))return r(i);var a=Je("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(hv,wc({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);var a=s;if(Ke(r)&&(a=r(i),z.isValidElement(a)))return a;var o=Je("recharts-pie-label-text",typeof r!="boolean"&&!Ke(r)?r.className:"");return z.createElement(pl,wc({},i,{alignmentBaseline:"middle",className:o}),a)}}])})(C.PureComponent);cg=ns;Ai(ns,"displayName","Pie");Ai(ns,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!wl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ai(ns,"parseDeltaAngle",function(t,e){var n=Sr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ai(ns,"getRealPieData",function(t){var e=t.data,n=t.children,r=Be(t,!1),i=ri(n,nl);return e&&e.length?e.map(function(s,a){return It(It(It({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return It(It({},r),s.props)}):[]});Ai(ns,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=_W(i,s),o=r+_r(t.cx,i,i/2),l=n+_r(t.cy,s,s/2),c=_r(t.innerRadius,a,0),h=_r(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:h,maxRadius:d}});Ai(ns,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?It(It({},e.type.defaultProps),e.props):e.props,i=cg.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,h=r.nameKey,d=r.valueKey,m=r.tooltipType,g=Math.abs(r.minAngle),x=cg.parseCoordinateOfPie(r,n),v=cg.parseDeltaAngle(a,o),b=Math.abs(v),w=c;Qe(c)&&Qe(d)?(Zi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Qe(c)&&(Zi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=d);var _=i.filter(function(O){return kn(O,w,0)!==0}).length,A=(b>=360?_:_-1)*l,T=b-_*g-A,P=i.reduce(function(O,D){var F=kn(D,w,0);return O+(ge(F)?F:0)},0),E;if(P>0){var k;E=i.map(function(O,D){var F=kn(O,w,0),M=kn(O,h,D),R=(ge(F)?F:0)/P,$;D?$=k.endAngle+Sr(v)*l*(F!==0?1:0):$=a;var H=$+Sr(v)*((F!==0?g:0)+R*T),G=($+H)/2,V=(x.innerRadius+x.outerRadius)/2,B=[{name:M,value:F,payload:O,dataKey:w,type:m}],L=Ft(x.cx,x.cy,V,G);return k=It(It(It({percent:R,cornerRadius:s,name:M,tooltipPayload:B,midAngle:G,middleRadius:V,tooltipPosition:L},O),x),{},{value:kn(O,w),startAngle:$,endAngle:H,payload:O,paddingAngle:Sr(v)*l}),k})}return It(It({},x),{},{sectors:E,data:i})});var j_,oB;function cAe(){if(oB)return j_;oB=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return j_=n,j_}var T_,lB;function zW(){if(lB)return T_;lB=1;var t=u8(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return T_=r,T_}var k_,cB;function uAe(){if(cB)return k_;cB=1;var t=cAe(),e=Fy(),n=zW();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return k_=r,k_}var N_,uB;function dAe(){if(uB)return N_;uB=1;var t=uAe(),e=t();return N_=e,N_}var hAe=dAe();const Sv=At(hAe);function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}function dB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(n),!0).forEach(function(r){VW(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VW(t,e,n){return e=fAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fAe(t){var e=pAe(t,"string");return mf(e)=="symbol"?e:e+""}function pAe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mAe=["Webkit","Moz","O","ms"],gAe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=mAe.reduce(function(s,a){return hB(hB({},s),{},VW({},a+r,n))},{});return i[e]=n,i};function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_v.apply(this,arguments)}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){Kr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HW(r.key),r)}}function yAe(t,e,n){return e&&pB(t.prototype,e),n&&pB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bAe(t,e,n){return e=Av(e),xAe(t,WW()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wAe(t)}function wAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function SAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JC(t,e)}function Kr(t,e,n){return e=HW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HW(t){var e=_Ae(t,"string");return lu(e)=="symbol"?e:e+""}function _Ae(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AAe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=uh().domain(Sv(0,l)).range([s,s+a-o]),h=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:h}},mB=function(e){return e.changedTouches&&!!e.changedTouches.length},cu=(function(t){function e(n){var r;return vAe(this,e),r=bAe(this,e,[n]),Kr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Kr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Kr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Kr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Kr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Kr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Kr(r,"handleSlideDragStart",function(i){var s=mB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return SAe(e,t),yAe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,h=c.length-1,d=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(a,d),x=e.getIndexInRange(a,m);return{startIndex:g-g%l,endIndex:x===h?h:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=kn(s[r],o,r);return Ke(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,h=l.width,d=l.travellerWidth,m=l.startIndex,g=l.endIndex,x=l.onChange,v=r.pageX-s;v>0?v=Math.min(v,c+h-d-o,c+h-d-a):v<0&&(v=Math.max(v,c-a,c-o));var b=this.getIndex({startX:a+v,endX:o+v});(b.startIndex!==m||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+v,endX:o+v,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=mB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],h=this.props,d=h.x,m=h.width,g=h.travellerWidth,x=h.onChange,v=h.gap,b=h.data,w={startX:this.state.startX,endX:this.state.endX},_=r.pageX-s;_>0?_=Math.min(_,d+m-g-c):_<0&&(_=Math.max(_,d-c)),w[a]=c+_;var A=this.getIndex(w),T=A.startIndex,P=A.endIndex,E=function(){var O=b.length-1;return a==="startX"&&(o>l?T%v===0:P%v===0)||o<l&&P===O||a==="endX"&&(o>l?P%v===0:T%v===0)||o>l&&P===O};this.setState(Kr(Kr({},a,c+_),"brushMoveStartX",r.pageX),function(){x&&E()&&x(A)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,h=this.state[i],d=o.indexOf(h);if(d!==-1){var m=d+r;if(!(m===-1||m>=o.length)){var g=o[m];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Kr({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,h=r.padding,d=C.Children.only(c);return d?z.cloneElement(d,{x:i,y:s,width:a,height:o,margin:h,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,h=l.travellerWidth,d=l.height,m=l.traveller,g=l.ariaLabel,x=l.data,v=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),_=O_(O_({},Be(this.props,!1)),{},{x:w,y:c,width:h,height:d}),A=g||"Min value: ".concat((s=x[v])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return z.createElement(mt,{tabIndex:0,role:"slider","aria-label":A,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,_))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,h=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:h,y:a,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,h=this.state,d=h.startX,m=h.endX,g=5,x={pointerEvents:"none",fill:c};return z.createElement(mt,{className:"recharts-brush-texts"},z.createElement(pl,_v({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,m)-g,y:a+o/2},x),this.getTextOfTick(i)),z.createElement(pl,_v({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,m)+l+g,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,h=r.height,d=r.alwaysShowText,m=this.state,g=m.startX,x=m.endX,v=m.isTextActive,b=m.isSlideMoving,w=m.isTravellerMoving,_=m.isTravellerFocused;if(!i||!i.length||!ge(o)||!ge(l)||!ge(c)||!ge(h)||c<=0||h<=0)return null;var A=Je("recharts-brush",s),T=z.Children.count(a)===1,P=gAe("userSelect","none");return z.createElement(mt,{className:A,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(v||b||w||_||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):Ke(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,h=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return O_({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?AAe({data:s,width:a,x:o,travellerWidth:l,startIndex:h,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])})(C.PureComponent);Kr(cu,"displayName","Brush");Kr(cu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var M_,gB;function CAe(){if(gB)return M_;gB=1;var t=Nj();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return M_=e,M_}var D_,vB;function PAe(){if(vB)return D_;vB=1;var t=U6(),e=Is(),n=CAe(),r=Ur(),i=Fy();function s(a,o,l){var c=r(a)?t:n;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return D_=s,D_}var EAe=PAe();const jAe=At(EAe);var Es=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},R_,yB;function TAe(){if(yB)return R_;yB=1;var t=s8();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return R_=e,R_}var I_,bB;function kAe(){if(bB)return I_;bB=1;var t=TAe(),e=r8(),n=Is();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return I_=r,I_}var NAe=kAe();const OAe=At(NAe);var L_,xB;function MAe(){if(xB)return L_;xB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return L_=t,L_}var F_,wB;function DAe(){if(wB)return F_;wB=1;var t=Nj();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return F_=e,F_}var $_,SB;function RAe(){if(SB)return $_;SB=1;var t=MAe(),e=DAe(),n=Is(),r=Ur(),i=Fy();function s(a,o,l){var c=r(a)?t:e;return l&&i(a,o,l)&&(o=void 0),c(a,n(o,3))}return $_=s,$_}var IAe=RAe();const qW=At(IAe);var LAe=["x","y"];function gf(t){"@babel/helpers - typeof";return gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gf(t)}function eP(){return eP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eP.apply(this,arguments)}function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){FAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FAe(t,e,n){return e=$Ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ae(t){var e=BAe(t,"string");return gf(e)=="symbol"?e:e+""}function BAe(t,e){if(gf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UAe(t,e){if(t==null)return{};var n=zAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VAe(t,e){var n=t.x,r=t.y,i=UAe(t,LAe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),h=parseInt(c,10),d="".concat(e.width||i.width),m=parseInt(d,10);return qd(qd(qd(qd(qd({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:h,width:m,name:e.name,radius:e.radius})}function AB(t){return z.createElement($W,eP({shapeType:"rectangle",propTransformer:VAe,activeClassName:"recharts-active-bar"},t))}var WAe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ge(r)||ffe(r);return s?e(r,i):(s||gl(),n)}},HAe=["value","background"],GW;function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function qAe(t,e){if(t==null)return{};var n=GAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cv.apply(this,arguments)}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){Ja(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YW(r.key),r)}}function YAe(t,e,n){return e&&PB(t.prototype,e),n&&PB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XAe(t,e,n){return e=Pv(e),QAe(t,KW()?Reflect.construct(e,n||[],Pv(t).constructor):e.apply(t,n))}function QAe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZAe(t)}function ZAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KW=function(){return!!t})()}function Pv(t){return Pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Pv(t)}function JAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tP(t,e)}function Ja(t,e,n){return e=YW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YW(t){var e=eCe(t,"string");return uu(e)=="symbol"?e:e+""}function eCe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ei=(function(t){function e(){var n;KAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=XAe(this,e,[].concat(i)),Ja(n,"state",{isAnimationFinished:!1}),Ja(n,"id",Iu("recharts-bar-")),Ja(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ja(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return JAe(e,t),YAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,h=Be(this.props,!1);return r&&r.map(function(d,m){var g=m===l,x=g?c:a,v=bn(bn(bn({},h),d),{},{isActive:g,option:x,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(mt,Cv({className:"recharts-bar-rectangle"},fl(i.props,d,m),{key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(m)}),z.createElement(AB,v))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,h=i.animationEasing,d=i.animationId,m=this.state.prevData;return z.createElement(Ns,{begin:l,duration:c,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,v=s.map(function(b,w){var _=m&&m[w];if(_){var A=Jr(_.x,b.x),T=Jr(_.y,b.y),P=Jr(_.width,b.width),E=Jr(_.height,b.height);return bn(bn({},b),{},{x:A(x),y:T(x),width:P(x),height:E(x)})}if(a==="horizontal"){var k=Jr(0,b.height),O=k(x);return bn(bn({},b),{},{y:b.y+b.height-O,height:O})}var D=Jr(0,b.width),F=D(x);return bn(bn({},b),{},{width:F})});return z.createElement(mt,null,r.renderRectanglesStatically(v))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!np(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Be(this.props.background,!1);return s.map(function(c,h){c.value;var d=c.background,m=qAe(c,HAe);if(!d)return null;var g=bn(bn(bn(bn(bn({},m),{},{fill:"#eee"},d),l),fl(r.props,c,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return z.createElement(AB,Cv({key:"background-bar-".concat(h),option:r.props.background,isActive:h===o},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,h=s.children,d=ri(h,rp);if(!d)return null;var m=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,w){var _=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:_,errorVal:kn(b,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(mt,x,d.map(function(v){return z.cloneElement(v,{key:"error-bar-".concat(i,"-").concat(v.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,h=r.top,d=r.width,m=r.height,g=r.isAnimationActive,x=r.background,v=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=Je("recharts-bar",a),_=o&&o.allowDataOverflow,A=l&&l.allowDataOverflow,T=_||A,P=Qe(v)?this.id:v;return z.createElement(mt,{className:w},_||A?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:_?c:c-d/2,y:A?h:h-m/2,width:_?d:d*2,height:A?m:m*2}))):null,z.createElement(mt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,P),(!g||b)&&aa.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);GW=Ei;Ja(Ei,"displayName","Bar");Ja(Ei,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!wl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ja(Ei,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,h=t.dataStartIndex,d=t.displayedData,m=t.offset,g=j0e(r,n);if(!g)return null;var x=e.layout,v=n.type.defaultProps,b=v!==void 0?bn(bn({},v),n.props):n.props,w=b.dataKey,_=b.children,A=b.minPointSize,T=x==="horizontal"?a:s,P=c?T.scale.domain():null,E=R0e({numericAxis:T}),k=ri(_,nl),O=d.map(function(D,F){var M,R,$,H,G,V;c?M=T0e(c[h+F],P):(M=kn(D,w),Array.isArray(M)||(M=[E,M]));var B=WAe(A,GW.defaultProps.minPointSize)(M[1],F);if(x==="horizontal"){var L,W=[a.scale(M[0]),a.scale(M[1])],X=W[0],U=W[1];R=QF({axis:s,ticks:o,bandSize:i,offset:g.offset,entry:D,index:F}),$=(L=U??X)!==null&&L!==void 0?L:void 0,H=g.size;var K=X-U;if(G=Number.isNaN(K)?0:K,V={x:R,y:a.y,width:H,height:a.height},Math.abs(B)>0&&Math.abs(G)<Math.abs(B)){var Z=Sr(G||B)*(Math.abs(B)-Math.abs(G));$-=Z,G+=Z}}else{var se=[s.scale(M[0]),s.scale(M[1])],oe=se[0],pe=se[1];if(R=oe,$=QF({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:D,index:F}),H=pe-oe,G=g.size,V={x:s.x,y:$,width:s.width,height:G},Math.abs(B)>0&&Math.abs(H)<Math.abs(B)){var te=Sr(H||B)*(Math.abs(B)-Math.abs(H));H+=te}}return bn(bn(bn({},D),{},{x:R,y:$,width:H,height:G,value:c?M:M[1],payload:D,background:V},k&&k[F]&&k[F].props),{},{tooltipPayload:[wW(n,D)],tooltipPosition:{x:R+H/2,y:$+G/2}})});return bn({data:O,layout:x},m)});function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function tCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XW(r.key),r)}}function nCe(t,e,n){return e&&EB(t.prototype,e),n&&EB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){rb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rb(t,e,n){return e=XW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XW(t){var e=rCe(t,"string");return vf(e)=="symbol"?e:e+""}function rCe(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var QW=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,h=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},m=!!Xr(c,Ei);return h.reduce(function(g,x){var v=n[x],b=v.orientation,w=v.domain,_=v.padding,A=_===void 0?{}:_,T=v.mirror,P=v.reversed,E="".concat(b).concat(T?"Mirror":""),k,O,D,F,M;if(v.type==="number"&&(v.padding==="gap"||v.padding==="no-gap")){var R=w[1]-w[0],$=1/0,H=v.categoricalDomain.sort(gfe);if(H.forEach(function(se,oe){oe>0&&($=Math.min((se||0)-(H[oe-1]||0),$))}),Number.isFinite($)){var G=$/R,V=v.layout==="vertical"?r.height:r.width;if(v.padding==="gap"&&(k=G*V/2),v.padding==="no-gap"){var B=_r(e.barCategoryGap,G*V),L=G*V/2;k=L-B-(L-B)/V*B}}}i==="xAxis"?O=[r.left+(A.left||0)+(k||0),r.left+r.width-(A.right||0)-(k||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(A.bottom||0),r.top+(A.top||0)]:[r.top+(A.top||0)+(k||0),r.top+r.height-(A.bottom||0)-(k||0)]:O=v.range,P&&(O=[O[1],O[0]]);var W=vW(v,s,m),X=W.scale,U=W.realScaleType;X.domain(w).range(O),yW(X);var K=bW(X,Ki(Ki({},v),{},{realScaleType:U}));i==="xAxis"?(M=b==="top"&&!T||b==="bottom"&&T,D=r.left,F=d[E]-M*v.height):i==="yAxis"&&(M=b==="left"&&!T||b==="right"&&T,D=d[E]-M*v.width,F=r.top);var Z=Ki(Ki(Ki({},v),K),{},{realScaleType:U,x:D,y:F,scale:X,width:i==="xAxis"?r.width:v.width,height:i==="yAxis"?r.height:v.height});return Z.bandSize=cv(Z,K),!v.hide&&i==="xAxis"?d[E]+=(M?-1:1)*Z.height:v.hide||(d[E]+=(M?-1:1)*Z.width),Ki(Ki({},g),{},rb({},x,Z))},{})},ZW=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},iCe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return ZW({x:n,y:r},{x:i,y:s})},JW=(function(){function t(e){tCe(this,t),this.scale=e}return nCe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();rb(JW,"EPS",1e-4);var aT=function(e){var n=Object.keys(e).reduce(function(r,i){return Ki(Ki({},r),{},rb({},i,JW.create(e[i])))},{});return Ki(Ki({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return OAe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return qW(i,function(s,a){return n[a].isInRange(s)})}})};function sCe(t){return(t%180+180)%180}var aCe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=sCe(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},B_,TB;function oCe(){if(TB)return B_;TB=1;var t=Is(),e=Qf(),n=Iy();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(d){return c(l[d],d,l)}}var h=i(s,a,o);return h>-1?l[c?s[h]:h]:void 0}}return B_=r,B_}var U_,kB;function lCe(){if(kB)return U_;kB=1;var t=zW();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return U_=e,U_}var z_,NB;function cCe(){if(NB)return z_;NB=1;var t=Z6(),e=Is(),n=lCe(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return z_=i,z_}var V_,OB;function uCe(){if(OB)return V_;OB=1;var t=oCe(),e=cCe(),n=t(e);return V_=n,V_}var dCe=uCe();const hCe=At(dCe);var fCe=p6();const pCe=At(fCe);var mCe=pCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),oT=C.createContext(void 0),lT=C.createContext(void 0),eH=C.createContext(void 0),tH=C.createContext({}),nH=C.createContext(void 0),rH=C.createContext(0),iH=C.createContext(0),MB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,h=mCe(s);return z.createElement(oT.Provider,{value:r},z.createElement(lT.Provider,{value:i},z.createElement(tH.Provider,{value:s},z.createElement(eH.Provider,{value:h},z.createElement(nH.Provider,{value:a},z.createElement(rH.Provider,{value:c},z.createElement(iH.Provider,{value:l},o)))))))},gCe=function(){return C.useContext(nH)},sH=function(e){var n=C.useContext(oT);n==null&&gl();var r=n[e];return r==null&&gl(),r},vCe=function(){var e=C.useContext(oT);return Qa(e)},yCe=function(){var e=C.useContext(lT),n=hCe(e,function(r){return qW(r.domain,Number.isFinite)});return n||Qa(e)},aH=function(e){var n=C.useContext(lT);n==null&&gl();var r=n[e];return r==null&&gl(),r},bCe=function(){var e=C.useContext(eH);return e},xCe=function(){return C.useContext(tH)},cT=function(){return C.useContext(iH)},uT=function(){return C.useContext(rH)};function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function wCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lH(r.key),r)}}function _Ce(t,e,n){return e&&SCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ACe(t,e,n){return e=Ev(e),CCe(t,oH()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function CCe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PCe(t)}function PCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oH=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function ECe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nP(t,e)}function nP(t,e){return nP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nP(t,e)}function DB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DB(Object(n),!0).forEach(function(r){dT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dT(t,e,n){return e=lH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lH(t){var e=jCe(t,"string");return du(e)=="symbol"?e:e+""}function jCe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function TCe(t,e){return MCe(t)||OCe(t,e)||NCe(t,e)||kCe()}function kCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NCe(t,e){if(t){if(typeof t=="string")return IB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IB(t,e)}}function IB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function MCe(t){if(Array.isArray(t))return t}function rP(){return rP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rP.apply(this,arguments)}var DCe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):Ke(e)?r=e(n):r=z.createElement("line",rP({},n,{className:"recharts-reference-line-line"})),r},RCe=function(e,n,r,i,s,a,o,l,c){var h=s.x,d=s.y,m=s.width,g=s.height;if(r){var x=c.y,v=e.y.apply(x,{position:a});if(Es(c,"discard")&&!e.y.isInRange(v))return null;var b=[{x:h+m,y:v},{x:h,y:v}];return l==="left"?b.reverse():b}if(n){var w=c.x,_=e.x.apply(w,{position:a});if(Es(c,"discard")&&!e.x.isInRange(_))return null;var A=[{x:_,y:d+g},{x:_,y:d}];return o==="top"?A.reverse():A}if(i){var T=c.segment,P=T.map(function(E){return e.apply(E,{position:a})});return Es(c,"discard")&&jAe(P,function(E){return!e.isInRange(E)})?null:P}return null};function ICe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=gCe(),h=sH(i),d=aH(s),m=bCe();if(!c||!m)return null;Zi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=aT({x:h.scale,y:d.scale}),x=Nn(e),v=Nn(n),b=r&&r.length===2,w=RCe(g,x,v,b,m,t.position,h.orientation,d.orientation,t);if(!w)return null;var _=TCe(w,2),A=_[0],T=A.x,P=A.y,E=_[1],k=E.x,O=E.y,D=Es(t,"hidden")?"url(#".concat(c,")"):void 0,F=RB(RB({clipPath:D},Be(t,!0)),{},{x1:T,y1:P,x2:k,y2:O});return z.createElement(mt,{className:Je("recharts-reference-line",o)},DCe(a,F),Un.renderCallByParent(t,iCe({x1:T,y1:P,x2:k,y2:O})))}var hT=(function(t){function e(){return wCe(this,e),ACe(this,e,arguments)}return ECe(e,t),_Ce(e,[{key:"render",value:function(){return z.createElement(ICe,this.props)}}])})(z.Component);dT(hT,"displayName","ReferenceLine");dT(hT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){ib(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uH(r.key),r)}}function $Ce(t,e,n){return e&&FCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BCe(t,e,n){return e=jv(e),UCe(t,cH()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function UCe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zCe(t)}function zCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function VCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sP(t,e)}function sP(t,e){return sP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sP(t,e)}function ib(t,e,n){return e=uH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uH(t){var e=WCe(t,"string");return hu(e)=="symbol"?e:e+""}function WCe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var HCe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=aT({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return Es(e,"discard")&&!a.isInRange(o)?null:o},sb=(function(t){function e(){return LCe(this,e),BCe(this,e,arguments)}return VCe(e,t),$Ce(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Nn(i),h=Nn(s);if(Zi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!h)return null;var d=HCe(this.props);if(!d)return null;var m=d.x,g=d.y,x=this.props,v=x.shape,b=x.className,w=Es(this.props,"hidden")?"url(#".concat(l,")"):void 0,_=FB(FB({clipPath:w},Be(this.props,!0)),{},{cx:m,cy:g});return z.createElement(mt,{className:Je("recharts-reference-dot",b)},e.renderDot(v,_),Un.renderCallByParent(this.props,{x:m-a,y:g-a,width:2*a,height:2*a}))}}])})(z.Component);ib(sb,"displayName","ReferenceDot");ib(sb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ib(sb,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Ke(t)?n=t(e):n=z.createElement(Xy,iP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function aP(){return aP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aP.apply(this,arguments)}function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function $B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$B(Object(n),!0).forEach(function(r){ab(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hH(r.key),r)}}function KCe(t,e,n){return e&&GCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YCe(t,e,n){return e=Tv(e),XCe(t,dH()?Reflect.construct(e,n||[],Tv(t).constructor):e.apply(t,n))}function XCe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QCe(t)}function QCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(t)}function ZCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oP(t,e)}function ab(t,e,n){return e=hH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hH(t){var e=JCe(t,"string");return fu(e)=="symbol"?e:e+""}function JCe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ePe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,h=s.xAxis,d=s.yAxis;if(!h||!d)return null;var m=aT({x:h.scale,y:d.scale}),g={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return Es(s,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:ZW(g,x)},ob=(function(t){function e(){return qCe(this,e),YCe(this,e,arguments)}return ZCe(e,t),KCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,h=r.clipPathId;Zi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Nn(i),m=Nn(s),g=Nn(a),x=Nn(o),v=this.props.shape;if(!d&&!m&&!g&&!x&&!v)return null;var b=ePe(d,m,g,x,this.props);if(!b&&!v)return null;var w=Es(this.props,"hidden")?"url(#".concat(h,")"):void 0;return z.createElement(mt,{className:Je("recharts-reference-area",l)},e.renderRect(v,BB(BB({clipPath:w},Be(this.props,!0)),b)),Un.renderCallByParent(this.props,b))}}])})(z.Component);ab(ob,"displayName","ReferenceArea");ab(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ab(ob,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):Ke(t)?n=t(e):n=z.createElement(sT,aP({},e,{className:"recharts-reference-area-rect"})),n});function fH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tPe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return aCe(r,n)}function nPe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function kv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function rPe(t,e){return fH(t,e+1)}function iPe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,h=a,d=function(){var x=r?.[l];if(x===void 0)return{v:fH(r,c)};var v=l,b,w=function(){return b===void 0&&(b=n(x,v)),b},_=x.coordinate,A=l===0||kv(t,_,w,h,o);A||(l=0,h=a,c+=1),A&&(h=_+t*(w()/2+i),l+=c)},m;c<=s.length;)if(m=d(),m)return m.v;return[]}function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}function UB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(n),!0).forEach(function(r){sPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sPe(t,e,n){return e=aPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aPe(t){var e=oPe(t,"string");return yf(e)=="symbol"?e:e+""}function oPe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lPe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(m){var g=s[m],x,v=function(){return x===void 0&&(x=n(g,m)),x};if(m===a-1){var b=t*(g.coordinate+t*v()/2-l);s[m]=g=hr(hr({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else s[m]=g=hr(hr({},g),{},{tickCoord:g.coordinate});var w=kv(t,g.tickCoord,v,o,l);w&&(l=g.tickCoord-t*(v()/2+i),s[m]=hr(hr({},g),{},{isShow:!0}))},h=a-1;h>=0;h--)c(h);return s}function cPe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var h=r[o-1],d=n(h,o-1),m=t*(h.coordinate+t*d/2-c);a[o-1]=h=hr(hr({},h),{},{tickCoord:m>0?h.coordinate-m*t:h.coordinate});var g=kv(t,h.tickCoord,function(){return d},l,c);g&&(c=h.tickCoord-t*(d/2+i),a[o-1]=hr(hr({},h),{},{isShow:!0}))}for(var x=s?o-1:o,v=function(_){var A=a[_],T,P=function(){return T===void 0&&(T=n(A,_)),T};if(_===0){var E=t*(A.coordinate-t*P()/2-l);a[_]=A=hr(hr({},A),{},{tickCoord:E<0?A.coordinate-E*t:A.coordinate})}else a[_]=A=hr(hr({},A),{},{tickCoord:A.coordinate});var k=kv(t,A.tickCoord,P,l,c);k&&(l=A.tickCoord+t*(P()/2+i),a[_]=hr(hr({},A),{},{isShow:!0}))},b=0;b<x;b++)v(b);return a}function fT(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,h=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(ge(l)||wl.isSsr)return rPe(i,typeof l=="number"&&ge(l)?l:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",x=h&&g==="width"?ch(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},v=function(A,T){var P=Ke(c)?c(A.value,T):A.value;return g==="width"?tPe(ch(P,{fontSize:e,letterSpacing:n}),x,d):ch(P,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?Sr(i[1].coordinate-i[0].coordinate):1,w=nPe(s,b,g);return l==="equidistantPreserveStart"?iPe(b,w,v,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=cPe(b,w,v,i,a,l==="preserveStartEnd"):m=lPe(b,w,v,i,a),m.filter(function(_){return _.isShow}))}var uPe=["viewBox"],dPe=["viewBox"],hPe=["ticks"];function pu(t){"@babel/helpers - typeof";return pu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pu(t)}function Sc(){return Sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sc.apply(this,arguments)}function zB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(n),!0).forEach(function(r){pT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W_(t,e){if(t==null)return{};var n=fPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mH(r.key),r)}}function mPe(t,e,n){return e&&VB(t.prototype,e),n&&VB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gPe(t,e,n){return e=Nv(e),vPe(t,pH()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function vPe(t,e){if(e&&(pu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yPe(t)}function yPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function bPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lP(t,e)}function pT(t,e,n){return e=mH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mH(t){var e=xPe(t,"string");return pu(e)=="symbol"?e:e+""}function xPe(t,e){if(pu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Uu=(function(t){function e(n){var r;return pPe(this,e),r=gPe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bPe(e,t),mPe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=W_(r,uPe),o=this.props,l=o.viewBox,c=W_(o,dPe);return!Nc(s,l)||!Nc(a,c)||!Nc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,h=i.tickSize,d=i.mirror,m=i.tickMargin,g,x,v,b,w,_,A=d?-1:1,T=r.tickSize||h,P=ge(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=x=r.coordinate,b=a+ +!d*l,v=b-A*T,_=v-A*m,w=P;break;case"left":v=b=r.coordinate,x=s+ +!d*o,g=x-A*T,w=g-A*m,_=P;break;case"right":v=b=r.coordinate,x=s+ +d*o,g=x+A*T,w=g+A*m,_=P;break;default:g=x=r.coordinate,b=a+ +d*l,v=b+A*T,_=v+A*m,w=P;break}return{line:{x1:g,y1:v,x2:x,y2:b},tick:{x:w,y:_}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,h=r.axisLine,d=En(En(En({},Be(this.props,!1)),Be(h,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);d=En(En({},d),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=En(En({},d),{},{x1:i+g*a,y1:s,x2:i+g*a,y2:s+o})}return z.createElement("line",Sc({},d,{className:Je("recharts-cartesian-axis-line",ni(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,h=o.tick,d=o.tickFormatter,m=o.unit,g=fT(En(En({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),b=Be(this.props,!1),w=Be(h,!1),_=En(En({},b),{},{fill:"none"},Be(l,!1)),A=g.map(function(T,P){var E=a.getTickLineCoord(T),k=E.line,O=E.tick,D=En(En(En(En({textAnchor:x,verticalAnchor:v},b),{},{stroke:"none",fill:c},w),O),{},{index:P,payload:T,visibleTicksCount:g.length,tickFormatter:d});return z.createElement(mt,Sc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},fl(a.props,T,P)),l&&z.createElement("line",Sc({},_,k,{className:Je("recharts-cartesian-axis-tick-line",ni(l,"className"))})),h&&e.renderTickItem(h,D,"".concat(Ke(d)?d(T.value,P):T.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},A)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,h=i.hide;if(h)return null;var d=this.props,m=d.ticks,g=W_(d,hPe),x=m;return Ke(l)&&(x=m&&m.length>0?l(this.props):l(g)),a<=0||o<=0||!x||!x.length?null:z.createElement(mt,{className:Je("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=Je(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?a=z.cloneElement(r,En(En({},i),{},{className:o})):Ke(r)?a=r(En(En({},i),{},{className:o})):a=z.createElement(pl,Sc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(C.Component);pT(Uu,"displayName","CartesianAxis");pT(Uu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wPe=["x1","y1","x2","y2","key"],SPe=["offset"];function vl(t){"@babel/helpers - typeof";return vl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vl(t)}function WB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WB(Object(n),!0).forEach(function(r){_Pe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Pe(t,e,n){return e=APe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function APe(t){var e=CPe(t,"string");return vl(e)=="symbol"?e:e+""}function CPe(t,e){if(vl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qo(){return Qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qo.apply(this,arguments)}function HB(t,e){if(t==null)return{};var n=PPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function PPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var EPe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function gH(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(Ke(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=HB(e,wPe),c=Be(l,!1);c.offset;var h=HB(c,SPe);n=z.createElement("line",Qo({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function jPe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=fr(fr({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return gH(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function TPe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=fr(fr({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return gH(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function kPe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var h=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var x=!h[g+1],v=x?i+a-m:h[g+1]-m;if(v<=0)return null;var b=g%e.length;return z.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:v,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NPe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var h=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==h[0]&&h.unshift(0);var d=h.map(function(m,g){var x=!h[g+1],v=x?s+o-m:h[g+1]-m;if(v<=0)return null;var b=g%r.length;return z.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:v,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var OPe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return gW(fT(fr(fr(fr({},Uu.defaultProps),r),{},{ticks:na(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},MPe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return gW(fT(fr(fr(fr({},Uu.defaultProps),r),{},{ticks:na(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},sc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function eh(t){var e,n,r,i,s,a,o=cT(),l=uT(),c=xCe(),h=fr(fr({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:sc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:sc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:sc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:sc.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:sc.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:sc.verticalFill,x:ge(t.x)?t.x:c.left,y:ge(t.y)?t.y:c.top,width:ge(t.width)?t.width:c.width,height:ge(t.height)?t.height:c.height}),d=h.x,m=h.y,g=h.width,x=h.height,v=h.syncWithTicks,b=h.horizontalValues,w=h.verticalValues,_=vCe(),A=yCe();if(!ge(g)||g<=0||!ge(x)||x<=0||!ge(d)||d!==+d||!ge(m)||m!==+m)return null;var T=h.verticalCoordinatesGenerator||OPe,P=h.horizontalCoordinatesGenerator||MPe,E=h.horizontalPoints,k=h.verticalPoints;if((!E||!E.length)&&Ke(P)){var O=b&&b.length,D=P({yAxis:A?fr(fr({},A),{},{ticks:O?b:A.ticks}):void 0,width:o,height:l,offset:c},O?!0:v);Zi(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vl(D),"]")),Array.isArray(D)&&(E=D)}if((!k||!k.length)&&Ke(T)){var F=w&&w.length,M=T({xAxis:_?fr(fr({},_),{},{ticks:F?w:_.ticks}):void 0,width:o,height:l,offset:c},F?!0:v);Zi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vl(M),"]")),Array.isArray(M)&&(k=M)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(EPe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),z.createElement(jPe,Qo({},h,{offset:c,horizontalPoints:E,xAxis:_,yAxis:A})),z.createElement(TPe,Qo({},h,{offset:c,verticalPoints:k,xAxis:_,yAxis:A})),z.createElement(kPe,Qo({},h,{horizontalPoints:E})),z.createElement(NPe,Qo({},h,{verticalPoints:k})))}eh.displayName="CartesianGrid";var DPe=["type","layout","connectNulls","ref"],RPe=["key"];function mu(t){"@babel/helpers - typeof";return mu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mu(t)}function qB(t,e){if(t==null)return{};var n=IPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mh(){return mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mh.apply(this,arguments)}function GB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GB(Object(n),!0).forEach(function(r){Yi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ac(t){return BPe(t)||$Pe(t)||FPe(t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(t,e){if(t){if(typeof t=="string")return cP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cP(t,e)}}function $Pe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BPe(t){if(Array.isArray(t))return cP(t)}function cP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yH(r.key),r)}}function zPe(t,e,n){return e&&KB(t.prototype,e),n&&KB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VPe(t,e,n){return e=Ov(e),WPe(t,vH()?Reflect.construct(e,n||[],Ov(t).constructor):e.apply(t,n))}function WPe(t,e){if(e&&(mu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HPe(t)}function HPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vH=function(){return!!t})()}function Ov(t){return Ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ov(t)}function qPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uP(t,e)}function uP(t,e){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uP(t,e)}function Yi(t,e,n){return e=yH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yH(t){var e=GPe(t,"string");return mu(e)=="symbol"?e:e+""}function GPe(t,e){if(mu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ip=(function(t){function e(){var n;UPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=VPe(this,e,[].concat(i)),Yi(n,"state",{isAnimationFinished:!0,totalLength:0}),Yi(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Yi(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(w,_){return w+_});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var h=Math.floor(a/c),d=a%c,m=o-a,g=[],x=0,v=0;x<l.length;v+=l[x],++x)if(v+l[x]>d){g=[].concat(ac(l.slice(0,x)),[d-v]);break}var b=g.length%2===0?[0,m]:[m];return[].concat(ac(e.repeat(l,h)),ac(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),Yi(n,"id",Iu("recharts-line-")),Yi(n,"pathRef",function(a){n.mainCurve=a}),Yi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Yi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return qPe(e,t),zPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,h=s.children,d=ri(h,rp);if(!d)return null;var m=function(v,b){return{x:v.x,y:v.y,value:v.value,errorVal:kn(v.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(mt,g,d.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,h=o.dataKey,d=Be(this.props,!1),m=Be(l,!0),g=c.map(function(v,b){var w=Gr(Gr(Gr({key:"dot-".concat(b),r:3},d),m),{},{index:b,cx:v.x,cy:v.y,value:v.value,dataKey:h,payload:v.payload,points:c});return e.renderDotItem(l,w)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(mt,mh({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,h=o.connectNulls;o.ref;var d=qB(o,DPe),m=Gr(Gr(Gr({},Be(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:h});return z.createElement(hv,mh({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,h=a.animationBegin,d=a.animationDuration,m=a.animationEasing,g=a.animationId,x=a.animateNewValues,v=a.width,b=a.height,w=this.state,_=w.prevPoints,A=w.totalLength;return z.createElement(Ns,{begin:h,duration:d,isActive:c,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var P=T.t;if(_){var E=_.length/o.length,k=o.map(function(R,$){var H=Math.floor($*E);if(_[H]){var G=_[H],V=Jr(G.x,R.x),B=Jr(G.y,R.y);return Gr(Gr({},R),{},{x:V(P),y:B(P)})}if(x){var L=Jr(v*2,R.x),W=Jr(b/2,R.y);return Gr(Gr({},R),{},{x:L(P),y:W(P)})}return Gr(Gr({},R),{},{x:R.x,y:R.y})});return s.renderCurveStatically(k,r,i)}var O=Jr(0,A),D=O(P),F;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});F=s.getStrokeDasharray(D,A,M)}else F=s.generateSimpleStrokeDasharray(A,D);return s.renderCurveStatically(o,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,h=l.totalLength;return o&&a&&a.length&&(!c&&h>0||!np(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,h=i.yAxis,d=i.top,m=i.left,g=i.width,x=i.height,v=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,_=o.length===1,A=Je("recharts-line",l),T=c&&c.allowDataOverflow,P=h&&h.allowDataOverflow,E=T||P,k=Qe(b)?this.id:b,O=(r=Be(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},D=O.r,F=D===void 0?3:D,M=O.strokeWidth,R=M===void 0?2:M,$=Cfe(a)?a:{},H=$.clipDot,G=H===void 0?!0:H,V=F*2+R;return z.createElement(mt,{className:A},T||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(k)},z.createElement("rect",{x:T?m:m-g/2,y:P?d:d-x/2,width:T?g:g*2,height:P?x:x*2})),!G&&z.createElement("clipPath",{id:"clipPath-dots-".concat(k)},z.createElement("rect",{x:m-V/2,y:d-V/2,width:g+V,height:x+V}))):null,!_&&this.renderCurve(E,k),this.renderErrorBar(E,k),(_||a)&&this.renderDots(E,G,k),(!v||w)&&aa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ac(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(ac(a),ac(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(z.isValidElement(r))s=z.cloneElement(r,i);else if(Ke(r))s=r(i);else{var a=i.key,o=qB(i,RPe),l=Je("recharts-line-dot",typeof r!="boolean"?r.className:"");s=z.createElement(Xy,mh({key:a},o,{className:l}))}return s}}])})(C.PureComponent);Yi(ip,"displayName","Line");Yi(ip,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!wl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Yi(ip,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,h=e.layout,d=l.map(function(m,g){var x=kn(m,a);return h==="horizontal"?{x:XF({axis:n,ticks:i,bandSize:o,entry:m,index:g}),y:Qe(x)?null:r.scale(x),value:x,payload:m}:{x:Qe(x)?null:n.scale(x),y:XF({axis:r,ticks:s,bandSize:o,entry:m,index:g}),value:x,payload:m}});return Gr({points:d,layout:h},c)});function gu(t){"@babel/helpers - typeof";return gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gu(t)}function KPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wH(r.key),r)}}function XPe(t,e,n){return e&&YPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QPe(t,e,n){return e=Mv(e),ZPe(t,bH()?Reflect.construct(e,n||[],Mv(t).constructor):e.apply(t,n))}function ZPe(t,e){if(e&&(gu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(t)}function JPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function eEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dP(t,e)}function dP(t,e){return dP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},dP(t,e)}function xH(t,e,n){return e=wH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wH(t){var e=tEe(t,"string");return gu(e)=="symbol"?e:e+""}function tEe(t,e){if(gu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hP.apply(this,arguments)}function nEe(t){var e=t.xAxisId,n=cT(),r=uT(),i=sH(e);return i==null?null:C.createElement(Uu,hP({},i,{className:Je("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return na(a,!0)}}))}var xs=(function(t){function e(){return KPe(this,e),QPe(this,e,arguments)}return eEe(e,t),XPe(e,[{key:"render",value:function(){return C.createElement(nEe,this.props)}}])})(C.Component);xH(xs,"displayName","XAxis");xH(xs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vu(t){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(t)}function rEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,AH(r.key),r)}}function sEe(t,e,n){return e&&iEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function aEe(t,e,n){return e=Dv(e),oEe(t,SH()?Reflect.construct(e,n||[],Dv(t).constructor):e.apply(t,n))}function oEe(t,e){if(e&&(vu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lEe(t)}function lEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SH=function(){return!!t})()}function Dv(t){return Dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dv(t)}function cEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(t,e)}function _H(t,e,n){return e=AH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AH(t){var e=uEe(t,"string");return vu(e)=="symbol"?e:e+""}function uEe(t,e){if(vu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pP(){return pP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pP.apply(this,arguments)}var dEe=function(e){var n=e.yAxisId,r=cT(),i=uT(),s=aH(n);return s==null?null:C.createElement(Uu,pP({},s,{className:Je("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return na(o,!0)}}))},ws=(function(t){function e(){return rEe(this,e),aEe(this,e,arguments)}return cEe(e,t),sEe(e,[{key:"render",value:function(){return C.createElement(dEe,this.props)}}])})(C.Component);_H(ws,"displayName","YAxis");_H(ws,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YB(t){return mEe(t)||pEe(t)||fEe(t)||hEe()}function hEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(t,e){if(t){if(typeof t=="string")return mP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mP(t,e)}}function pEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mEe(t){if(Array.isArray(t))return mP(t)}function mP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gP=function(e,n,r,i,s){var a=ri(e,hT),o=ri(e,sb),l=[].concat(YB(a),YB(o)),c=ri(e,ob),h="".concat(i,"Id"),d=i[0],m=n;if(l.length&&(m=l.reduce(function(v,b){if(b.props[h]===r&&Es(b.props,"extendDomain")&&ge(b.props[d])){var w=b.props[d];return[Math.min(v[0],w),Math.max(v[1],w)]}return v},m)),c.length){var g="".concat(d,"1"),x="".concat(d,"2");m=c.reduce(function(v,b){if(b.props[h]===r&&Es(b.props,"extendDomain")&&ge(b.props[g])&&ge(b.props[x])){var w=b.props[g],_=b.props[x];return[Math.min(v[0],w,_),Math.max(v[1],w,_)]}return v},m)}return s&&s.length&&(m=s.reduce(function(v,b){return ge(b)?[Math.min(v[0],b),Math.max(v[1],b)]:v},m)),m},H_={exports:{}},XB;function gEe(){return XB||(XB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,h){this.fn=l,this.context=c,this.once=h||!1}function s(l,c,h,d,m){if(typeof h!="function")throw new TypeError("The listener must be a function");var g=new i(h,d||l,m),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],h,d;if(this._eventsCount===0)return c;for(d in h=this._events)e.call(h,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},o.prototype.listeners=function(c){var h=n?n+c:c,d=this._events[h];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,g=d.length,x=new Array(g);m<g;m++)x[m]=d[m].fn;return x},o.prototype.listenerCount=function(c){var h=n?n+c:c,d=this._events[h];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,h,d,m,g,x){var v=n?n+c:c;if(!this._events[v])return!1;var b=this._events[v],w=arguments.length,_,A;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,h),!0;case 3:return b.fn.call(b.context,h,d),!0;case 4:return b.fn.call(b.context,h,d,m),!0;case 5:return b.fn.call(b.context,h,d,m,g),!0;case 6:return b.fn.call(b.context,h,d,m,g,x),!0}for(A=1,_=new Array(w-1);A<w;A++)_[A-1]=arguments[A];b.fn.apply(b.context,_)}else{var T=b.length,P;for(A=0;A<T;A++)switch(b[A].once&&this.removeListener(c,b[A].fn,void 0,!0),w){case 1:b[A].fn.call(b[A].context);break;case 2:b[A].fn.call(b[A].context,h);break;case 3:b[A].fn.call(b[A].context,h,d);break;case 4:b[A].fn.call(b[A].context,h,d,m);break;default:if(!_)for(P=1,_=new Array(w-1);P<w;P++)_[P-1]=arguments[P];b[A].fn.apply(b[A].context,_)}}return!0},o.prototype.on=function(c,h,d){return s(this,c,h,d,!1)},o.prototype.once=function(c,h,d){return s(this,c,h,d,!0)},o.prototype.removeListener=function(c,h,d,m){var g=n?n+c:c;if(!this._events[g])return this;if(!h)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===h&&(!m||x.once)&&(!d||x.context===d)&&a(this,g);else{for(var v=0,b=[],w=x.length;v<w;v++)(x[v].fn!==h||m&&!x[v].once||d&&x[v].context!==d)&&b.push(x[v]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(c){var h;return c?(h=n?n+c:c,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(H_)),H_.exports}var vEe=gEe();const yEe=At(vEe);var q_=new yEe,G_="recharts.syncMouseEvents";function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function bEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,CH(r.key),r)}}function wEe(t,e,n){return e&&xEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K_(t,e,n){return e=CH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CH(t){var e=SEe(t,"string");return bf(e)=="symbol"?e:e+""}function SEe(t,e){if(bf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _Ee=(function(){function t(){bEe(this,t),K_(this,"activeIndex",0),K_(this,"coordinateList",[]),K_(this,"layout","horizontal")}return wEe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,h=n.offset,d=h===void 0?null:h,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,m=a+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:d,pageY:m})}}}])})();function AEe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ge(r)&&ge(i))return!0}return!1}function CEe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function PH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Ft(e,n,r,i),o=Ft(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function PEe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,h=e.outerRadius,d=e.angle,m=Ft(o,l,c,d),g=Ft(o,l,h,d);r=m.x,i=m.y,s=g.x,a=g.y}else return PH(e);return[{x:r,y:i},{x:s,y:a}]}function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function QB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(n),!0).forEach(function(r){EEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EEe(t,e,n){return e=jEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jEe(t){var e=TEe(t,"string");return xf(e)=="symbol"?e:e+""}function TEe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kEe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,h=t.tooltipAxisBandSize,d=t.layout,m=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,v=hv;if(m==="ScatterChart")x=a,v=ZSe;else if(m==="BarChart")x=CEe(d,a,l,h),v=sT;else if(d==="radial"){var b=PH(a),w=b.cx,_=b.cy,A=b.radius,T=b.startAngle,P=b.endAngle;x={cx:w,cy:_,startAngle:T,endAngle:P,innerRadius:A,outerRadius:A},v=EW}else x={points:PEe(d,a,l)},v=hv;var E=Qm(Qm(Qm(Qm({stroke:"#ccc",pointerEvents:"none"},l),x),Be(g,!1)),{},{payload:o,payloadIndex:c,className:Je("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,E):C.createElement(v,E)}var NEe=["item"],OEe=["children","className","width","height","style","compact","title","desc"];function yu(t){"@babel/helpers - typeof";return yu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yu(t)}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}function ZB(t,e){return REe(t)||DEe(t,e)||jH(t,e)||MEe()}function MEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(h){c=!0,i=h}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function REe(t){if(Array.isArray(t))return t}function JB(t,e){if(t==null)return{};var n=IEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function IEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TH(r.key),r)}}function $Ee(t,e,n){return e&&FEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BEe(t,e,n){return e=Rv(e),UEe(t,EH()?Reflect.construct(e,n||[],Rv(t).constructor):e.apply(t,n))}function UEe(t,e){if(e&&(yu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zEe(t)}function zEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EH=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function VEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}function vP(t,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vP(t,e)}function bu(t){return qEe(t)||HEe(t)||jH(t)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jH(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function HEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qEe(t){if(Array.isArray(t))return yP(t)}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e3(Object(n),!0).forEach(function(r){Ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ve(t,e,n){return e=TH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TH(t){var e=GEe(t,"string");return yu(e)=="symbol"?e:e+""}function GEe(t,e){if(yu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KEe={xAxis:["bottom","top"],yAxis:["left","right"]},YEe={width:"100%",height:"100%"},kH={x:0,y:0};function Zm(t){return t}var XEe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},QEe=function(e,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return ae(ae(ae({},i),Ft(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return ae(ae(ae({},i),Ft(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return kH},lb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(bu(o),bu(c)):o},[]);return a.length>0?a:e&&e.length&&ge(i)&&ge(s)?e.slice(i,s+1):[]};function NH(t){return t==="number"?[0,"auto"]:void 0}var bP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=lb(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var h,d=(h=c.props.data)!==null&&h!==void 0?h:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var g=d===void 0?o:d;m=Fg(g,a.dataKey,i)}else m=d&&d[r]||o[r];return m?[].concat(bu(l),[wW(c,m)]):l},[])},t3=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=XEe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,h=S0e(a,o,c,l);if(h>=0&&c){var d=c[h]&&c[h].value,m=bP(e,n,h,d),g=QEe(r,o,h,s);return{activeTooltipIndex:h,activeLabel:d,activePayload:m,activeCoordinate:g}}return null},ZEe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,m=e.stackOffset,g=mW(h,s);return r.reduce(function(x,v){var b,w=v.type.defaultProps!==void 0?ae(ae({},v.type.defaultProps),v.props):v.props,_=w.type,A=w.dataKey,T=w.allowDataOverflow,P=w.allowDuplicatedCategory,E=w.scale,k=w.ticks,O=w.includeHidden,D=w[a];if(x[D])return x;var F=lb(e.data,{graphicalItems:i.filter(function(K){var Z,se=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a];return se===D}),dataStartIndex:l,dataEndIndex:c}),M=F.length,R,$,H;AEe(w.domain,T,_)&&(R=MC(w.domain,null,T),g&&(_==="number"||E!=="auto")&&(H=dh(F,A,"category")));var G=NH(_);if(!R||R.length===0){var V,B=(V=w.domain)!==null&&V!==void 0?V:G;if(A){if(R=dh(F,A,_),_==="category"&&g){var L=mfe(R);P&&L?($=R,R=Sv(0,M)):P||(R=e$(B,R,v).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(bu(K),[Z])},[]))}else if(_==="category")P?R=R.filter(function(K){return K!==""&&!Qe(K)}):R=e$(B,R,v).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||Qe(Z)?K:[].concat(bu(K),[Z])},[]);else if(_==="number"){var W=E0e(F,i.filter(function(K){var Z,se,oe=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a],pe="hide"in K.props?K.props.hide:(se=K.type.defaultProps)===null||se===void 0?void 0:se.hide;return oe===D&&(O||!pe)}),A,s,h);W&&(R=W)}g&&(_==="number"||E!=="auto")&&(H=dh(F,A,"category"))}else g?R=Sv(0,M):o&&o[D]&&o[D].hasStack&&_==="number"?R=m==="expand"?[0,1]:xW(o[D].stackGroups,l,c):R=pW(F,i.filter(function(K){var Z=a in K.props?K.props[a]:K.type.defaultProps[a],se="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===D&&(O||!se)}),_,h,!0);if(_==="number")R=gP(d,R,D,s,k),B&&(R=MC(B,R,T));else if(_==="category"&&B){var X=B,U=R.every(function(K){return X.indexOf(K)>=0});U&&(R=X)}}return ae(ae({},x),{},Ve({},D,ae(ae({},w),{},{axisType:s,domain:R,categoricalDomain:H,duplicateDomain:$,originalDomain:(b=w.domain)!==null&&b!==void 0?b:G,isCategorical:g,layout:h})))},{})},JEe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.layout,d=e.children,m=lb(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=m.length,x=mW(h,s),v=-1;return r.reduce(function(b,w){var _=w.type.defaultProps!==void 0?ae(ae({},w.type.defaultProps),w.props):w.props,A=_[a],T=NH("number");if(!b[A]){v++;var P;return x?P=Sv(0,g):o&&o[A]&&o[A].hasStack?(P=xW(o[A].stackGroups,l,c),P=gP(d,P,A,s)):(P=MC(T,pW(m,r.filter(function(E){var k,O,D=a in E.props?E.props[a]:(k=E.type.defaultProps)===null||k===void 0?void 0:k[a],F="hide"in E.props?E.props.hide:(O=E.type.defaultProps)===null||O===void 0?void 0:O.hide;return D===A&&!F}),"number",h),i.defaultProps.allowDataOverflow),P=gP(d,P,A,s)),ae(ae({},b),{},Ve({},A,ae(ae({axisType:s},i.defaultProps),{},{hide:!0,orientation:ni(KEe,"".concat(s,".").concat(v%2),null),domain:P,originalDomain:T,isCategorical:x,layout:h})))}return b},{})},eje=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,h=e.children,d="".concat(i,"Id"),m=ri(h,s),g={};return m&&m.length?g=ZEe(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=JEe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),g},tje=function(e){var n=Qa(e),r=na(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Oj(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:cv(n,r)}},n3=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xr(n,cu),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},nje=function(e){return!e||!e.length?!1:e.some(function(n){var r=ia(n&&n.type);return r&&r.indexOf("Bar")>=0})},r3=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rje=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,h=r.height,d=r.children,m=r.margin||{},g=Xr(d,cu),x=Xr(d,ys),v=Object.keys(l).reduce(function(P,E){var k=l[E],O=k.orientation;return!k.mirror&&!k.hide?ae(ae({},P),{},Ve({},O,P[O]+k.width)):P},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(P,E){var k=a[E],O=k.orientation;return!k.mirror&&!k.hide?ae(ae({},P),{},Ve({},O,ni(P,"".concat(O))+k.height)):P},{top:m.top||0,bottom:m.bottom||0}),w=ae(ae({},b),v),_=w.bottom;g&&(w.bottom+=g.props.height||cu.defaultProps.height),x&&n&&(w=C0e(w,i,r,n));var A=c-w.left-w.right,T=h-w.top-w.bottom;return ae(ae({brushBottom:_},w),{},{width:Math.max(A,0),height:Math.max(T,0)})},ije=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},mT=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,h=e.formatAxisMap,d=e.defaultProps,m=function(w,_){var A=_.graphicalItems,T=_.stackGroups,P=_.offset,E=_.updateId,k=_.dataStartIndex,O=_.dataEndIndex,D=w.barSize,F=w.layout,M=w.barGap,R=w.barCategoryGap,$=w.maxBarSize,H=r3(F),G=H.numericAxisName,V=H.cateAxisName,B=nje(A),L=[];return A.forEach(function(W,X){var U=lb(w.data,{graphicalItems:[W],dataStartIndex:k,dataEndIndex:O}),K=W.type.defaultProps!==void 0?ae(ae({},W.type.defaultProps),W.props):W.props,Z=K.dataKey,se=K.maxBarSize,oe=K["".concat(G,"Id")],pe=K["".concat(V,"Id")],te={},le=l.reduce(function(kt,ct){var ar=_["".concat(ct.axisType,"Map")],Er=K["".concat(ct.axisType,"Id")];ar&&ar[Er]||ct.axisType==="zAxis"||gl();var ai=ar[Er];return ae(ae({},kt),{},Ve(Ve({},ct.axisType,ai),"".concat(ct.axisType,"Ticks"),na(ai)))},te),ie=le[V],he=le["".concat(V,"Ticks")],ve=T&&T[oe]&&T[oe].hasStack&&I0e(W,T[oe].stackGroups),re=ia(W.type).indexOf("Bar")>=0,qe=cv(ie,he),Ie=[],xt=B&&_0e({barSize:D,stackGroups:T,totalSize:ije(le,V)});if(re){var vt,ft,be=Qe(se)?$:se,Re=(vt=(ft=cv(ie,he,!0))!==null&&ft!==void 0?ft:be)!==null&&vt!==void 0?vt:0;Ie=A0e({barGap:M,barCategoryGap:R,bandSize:Re!==qe?Re:qe,sizeList:xt[pe],maxBarSize:be}),Re!==qe&&(Ie=Ie.map(function(kt){return ae(ae({},kt),{},{position:ae(ae({},kt.position),{},{offset:kt.position.offset-Re/2})})}))}var rt=W&&W.type&&W.type.getComposedData;rt&&L.push({props:ae(ae({},rt(ae(ae({},le),{},{displayedData:U,props:w,dataKey:Z,item:W,bandSize:qe,barPosition:Ie,offset:P,stackedData:ve,layout:F,dataStartIndex:k,dataEndIndex:O}))),{},Ve(Ve(Ve({key:W.key||"item-".concat(X)},G,le[G]),V,le[V]),"animationId",E)),childIndex:jfe(W,w.children),item:W})}),L},g=function(w,_){var A=w.props,T=w.dataStartIndex,P=w.dataEndIndex,E=w.updateId;if(!pR({props:A}))return null;var k=A.children,O=A.layout,D=A.stackOffset,F=A.data,M=A.reverseStackOrder,R=r3(O),$=R.numericAxisName,H=R.cateAxisName,G=ri(k,r),V=D0e(F,G,"".concat($,"Id"),"".concat(H,"Id"),D,M),B=l.reduce(function(K,Z){var se="".concat(Z.axisType,"Map");return ae(ae({},K),{},Ve({},se,eje(A,ae(ae({},Z),{},{graphicalItems:G,stackGroups:Z.axisType===$&&V,dataStartIndex:T,dataEndIndex:P}))))},{}),L=rje(ae(ae({},B),{},{props:A,graphicalItems:G}),_?.legendBBox);Object.keys(B).forEach(function(K){B[K]=h(A,B[K],L,K.replace("Map",""),n)});var W=B["".concat(H,"Map")],X=tje(W),U=m(A,ae(ae({},B),{},{dataStartIndex:T,dataEndIndex:P,updateId:E,graphicalItems:G,stackGroups:V,offset:L}));return ae(ae({formattedGraphicalItems:U,graphicalItems:G,offset:L,stackGroups:V},X),B)},x=(function(b){function w(_){var A,T,P;return LEe(this,w),P=BEe(this,w,[_]),Ve(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ve(P,"accessibilityManager",new _Ee),Ve(P,"handleLegendBBoxUpdate",function(E){if(E){var k=P.state,O=k.dataStartIndex,D=k.dataEndIndex,F=k.updateId;P.setState(ae({legendBBox:E},g({props:P.props,dataStartIndex:O,dataEndIndex:D,updateId:F},ae(ae({},P.state),{},{legendBBox:E}))))}}),Ve(P,"handleReceiveSyncEvent",function(E,k,O){if(P.props.syncId===E){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),Ve(P,"handleBrushChange",function(E){var k=E.startIndex,O=E.endIndex;if(k!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var D=P.state.updateId;P.setState(function(){return ae({dataStartIndex:k,dataEndIndex:O},g({props:P.props,dataStartIndex:k,dataEndIndex:O,updateId:D},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),Ve(P,"handleMouseEnter",function(E){var k=P.getMouseInfo(E);if(k){var O=ae(ae({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var D=P.props.onMouseEnter;Ke(D)&&D(O,E)}}),Ve(P,"triggeredAfterMouseMove",function(E){var k=P.getMouseInfo(E),O=k?ae(ae({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var D=P.props.onMouseMove;Ke(D)&&D(O,E)}),Ve(P,"handleItemMouseEnter",function(E){P.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Ve(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ve(P,"handleMouseMove",function(E){E.persist(),P.throttleTriggeredAfterMouseMove(E)}),Ve(P,"handleMouseLeave",function(E){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var O=P.props.onMouseLeave;Ke(O)&&O(k,E)}),Ve(P,"handleOuterEvent",function(E){var k=Efe(E),O=ni(P.props,"".concat(k));if(k&&Ke(O)){var D,F;/.*touch.*/i.test(k)?F=P.getMouseInfo(E.changedTouches[0]):F=P.getMouseInfo(E),O((D=F)!==null&&D!==void 0?D:{},E)}}),Ve(P,"handleClick",function(E){var k=P.getMouseInfo(E);if(k){var O=ae(ae({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var D=P.props.onClick;Ke(D)&&D(O,E)}}),Ve(P,"handleMouseDown",function(E){var k=P.props.onMouseDown;if(Ke(k)){var O=P.getMouseInfo(E);k(O,E)}}),Ve(P,"handleMouseUp",function(E){var k=P.props.onMouseUp;if(Ke(k)){var O=P.getMouseInfo(E);k(O,E)}}),Ve(P,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Ve(P,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseDown(E.changedTouches[0])}),Ve(P,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&P.handleMouseUp(E.changedTouches[0])}),Ve(P,"handleDoubleClick",function(E){var k=P.props.onDoubleClick;if(Ke(k)){var O=P.getMouseInfo(E);k(O,E)}}),Ve(P,"handleContextMenu",function(E){var k=P.props.onContextMenu;if(Ke(k)){var O=P.getMouseInfo(E);k(O,E)}}),Ve(P,"triggerSyncEvent",function(E){P.props.syncId!==void 0&&q_.emit(G_,P.props.syncId,E,P.eventEmitterSymbol)}),Ve(P,"applySyncEvent",function(E){var k=P.props,O=k.layout,D=k.syncMethod,F=P.state.updateId,M=E.dataStartIndex,R=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)P.setState(ae({dataStartIndex:M,dataEndIndex:R},g({props:P.props,dataStartIndex:M,dataEndIndex:R,updateId:F},P.state)));else if(E.activeTooltipIndex!==void 0){var $=E.chartX,H=E.chartY,G=E.activeTooltipIndex,V=P.state,B=V.offset,L=V.tooltipTicks;if(!B)return;if(typeof D=="function")G=D(L,E);else if(D==="value"){G=-1;for(var W=0;W<L.length;W++)if(L[W].value===E.activeLabel){G=W;break}}var X=ae(ae({},B),{},{x:B.left,y:B.top}),U=Math.min($,X.x+X.width),K=Math.min(H,X.y+X.height),Z=L[G]&&L[G].value,se=bP(P.state,P.props.data,G),oe=L[G]?{x:O==="horizontal"?L[G].coordinate:U,y:O==="horizontal"?K:L[G].coordinate}:kH;P.setState(ae(ae({},E),{},{activeLabel:Z,activeCoordinate:oe,activePayload:se,activeTooltipIndex:G}))}else P.setState(E)}),Ve(P,"renderCursor",function(E){var k,O=P.state,D=O.isTooltipActive,F=O.activeCoordinate,M=O.activePayload,R=O.offset,$=O.activeTooltipIndex,H=O.tooltipAxisBandSize,G=P.getTooltipEventType(),V=(k=E.props.active)!==null&&k!==void 0?k:D,B=P.props.layout,L=E.key||"_recharts-cursor";return z.createElement(kEe,{key:L,activeCoordinate:F,activePayload:M,activeTooltipIndex:$,chartName:n,element:E,isActive:V,layout:B,offset:R,tooltipAxisBandSize:H,tooltipEventType:G})}),Ve(P,"renderPolarAxis",function(E,k,O){var D=ni(E,"type.axisType"),F=ni(P.state,"".concat(D,"Map")),M=E.type.defaultProps,R=M!==void 0?ae(ae({},M),E.props):E.props,$=F&&F[R["".concat(D,"Id")]];return C.cloneElement(E,ae(ae({},$),{},{className:Je(D,$.className),key:E.key||"".concat(k,"-").concat(O),ticks:na($,!0)}))}),Ve(P,"renderPolarGrid",function(E){var k=E.props,O=k.radialLines,D=k.polarAngles,F=k.polarRadius,M=P.state,R=M.radiusAxisMap,$=M.angleAxisMap,H=Qa(R),G=Qa($),V=G.cx,B=G.cy,L=G.innerRadius,W=G.outerRadius;return C.cloneElement(E,{polarAngles:Array.isArray(D)?D:na(G,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(F)?F:na(H,!0).map(function(X){return X.coordinate}),cx:V,cy:B,innerRadius:L,outerRadius:W,key:E.key||"polar-grid",radialLines:O})}),Ve(P,"renderLegend",function(){var E=P.state.formattedGraphicalItems,k=P.props,O=k.children,D=k.width,F=k.height,M=P.props.margin||{},R=D-(M.left||0)-(M.right||0),$=hW({children:O,formattedGraphicalItems:E,legendWidth:R,legendContent:c});if(!$)return null;var H=$.item,G=JB($,NEe);return C.cloneElement(H,ae(ae({},G),{},{chartWidth:D,chartHeight:F,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ve(P,"renderTooltip",function(){var E,k=P.props,O=k.children,D=k.accessibilityLayer,F=Xr(O,Bn);if(!F)return null;var M=P.state,R=M.isTooltipActive,$=M.activeCoordinate,H=M.activePayload,G=M.activeLabel,V=M.offset,B=(E=F.props.active)!==null&&E!==void 0?E:R;return C.cloneElement(F,{viewBox:ae(ae({},V),{},{x:V.left,y:V.top}),active:B,label:G,payload:B?H:[],coordinate:$,accessibilityLayer:D})}),Ve(P,"renderBrush",function(E){var k=P.props,O=k.margin,D=k.data,F=P.state,M=F.offset,R=F.dataStartIndex,$=F.dataEndIndex,H=F.updateId;return C.cloneElement(E,{key:E.key||"_recharts-brush",onChange:Gm(P.handleBrushChange,E.props.onChange),data:D,x:ge(E.props.x)?E.props.x:M.left,y:ge(E.props.y)?E.props.y:M.top+M.height+M.brushBottom-(O.bottom||0),width:ge(E.props.width)?E.props.width:M.width,startIndex:R,endIndex:$,updateId:"brush-".concat(H)})}),Ve(P,"renderReferenceElement",function(E,k,O){if(!E)return null;var D=P,F=D.clipPathId,M=P.state,R=M.xAxisMap,$=M.yAxisMap,H=M.offset,G=E.type.defaultProps||{},V=E.props,B=V.xAxisId,L=B===void 0?G.xAxisId:B,W=V.yAxisId,X=W===void 0?G.yAxisId:W;return C.cloneElement(E,{key:E.key||"".concat(k,"-").concat(O),xAxis:R[L],yAxis:$[X],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:F})}),Ve(P,"renderActivePoints",function(E){var k=E.item,O=E.activePoint,D=E.basePoint,F=E.childIndex,M=E.isRange,R=[],$=k.props.key,H=k.item.type.defaultProps!==void 0?ae(ae({},k.item.type.defaultProps),k.item.props):k.item.props,G=H.activeDot,V=H.dataKey,B=ae(ae({index:F,dataKey:V,cx:O.x,cy:O.y,r:4,fill:iT(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Be(G,!1)),$g(G));return R.push(w.renderActiveDot(G,B,"".concat($,"-activePoint-").concat(F))),D?R.push(w.renderActiveDot(G,ae(ae({},B),{},{cx:D.x,cy:D.y}),"".concat($,"-basePoint-").concat(F))):M&&R.push(null),R}),Ve(P,"renderGraphicChild",function(E,k,O){var D=P.filterFormatItem(E,k,O);if(!D)return null;var F=P.getTooltipEventType(),M=P.state,R=M.isTooltipActive,$=M.tooltipAxis,H=M.activeTooltipIndex,G=M.activeLabel,V=P.props.children,B=Xr(V,Bn),L=D.props,W=L.points,X=L.isRange,U=L.baseLine,K=D.item.type.defaultProps!==void 0?ae(ae({},D.item.type.defaultProps),D.item.props):D.item.props,Z=K.activeDot,se=K.hide,oe=K.activeBar,pe=K.activeShape,te=!!(!se&&R&&B&&(Z||oe||pe)),le={};F!=="axis"&&B&&B.props.trigger==="click"?le={onClick:Gm(P.handleItemMouseEnter,E.props.onClick)}:F!=="axis"&&(le={onMouseLeave:Gm(P.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:Gm(P.handleItemMouseEnter,E.props.onMouseEnter)});var ie=C.cloneElement(E,ae(ae({},D.props),le));function he(ct){return typeof $.dataKey=="function"?$.dataKey(ct.payload):null}if(te)if(H>=0){var ve,re;if($.dataKey&&!$.allowDuplicatedCategory){var qe=typeof $.dataKey=="function"?he:"payload.".concat($.dataKey.toString());ve=Fg(W,qe,G),re=X&&U&&Fg(U,qe,G)}else ve=W?.[H],re=X&&U&&U[H];if(pe||oe){var Ie=E.props.activeIndex!==void 0?E.props.activeIndex:H;return[C.cloneElement(E,ae(ae(ae({},D.props),le),{},{activeIndex:Ie})),null,null]}if(!Qe(ve))return[ie].concat(bu(P.renderActivePoints({item:D,activePoint:ve,basePoint:re,childIndex:H,isRange:X})))}else{var xt,vt=(xt=P.getItemByXY(P.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:ie},ft=vt.graphicalItem,be=ft.item,Re=be===void 0?E:be,rt=ft.childIndex,kt=ae(ae(ae({},D.props),le),{},{activeIndex:rt});return[C.cloneElement(Re,kt),null,null]}return X?[ie,null,null]:[ie,null]}),Ve(P,"renderCustomized",function(E,k,O){return C.cloneElement(E,ae(ae({key:"recharts-customized-".concat(O)},P.props),P.state))}),Ve(P,"renderMap",{CartesianGrid:{handler:Zm,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Zm},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Zm},YAxis:{handler:Zm},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((A=_.id)!==null&&A!==void 0?A:Iu("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=d8(P.triggeredAfterMouseMove,(T=_.throttleDelay)!==null&&T!==void 0?T:1e3/60),P.state={},P}return VEe(w,b),$Ee(w,[{key:"componentDidMount",value:function(){var A,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(A=this.props.margin.left)!==null&&A!==void 0?A:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var A=this.props,T=A.children,P=A.data,E=A.height,k=A.layout,O=Xr(T,Bn);if(O){var D=O.props.defaultIndex;if(!(typeof D!="number"||D<0||D>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[D]&&this.state.tooltipTicks[D].value,M=bP(this.state,P,D,F),R=this.state.tooltipTicks[D].coordinate,$=(this.state.offset.top+E)/2,H=k==="horizontal",G=H?{x:R,y:$}:{y:R,x:$},V=this.state.formattedGraphicalItems.find(function(L){var W=L.item;return W.type.name==="Scatter"});V&&(G=ae(ae({},G),V.props.points[D].tooltipPosition),M=V.props.points[D].tooltipPayload);var B={activeTooltipIndex:D,isTooltipActive:!0,activeLabel:F,activePayload:M,activeCoordinate:G};this.setState(B),this.renderCursor(O),this.accessibilityManager.setIndex(D)}}}},{key:"getSnapshotBeforeUpdate",value:function(A,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==A.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==A.margin){var P,E;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(A){tC([Xr(A.children,Bn)],[Xr(this.props.children,Bn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var A=Xr(this.props.children,Bn);if(A&&typeof A.props.shared=="boolean"){var T=A.props.shared?"axis":"item";return o.indexOf(T)>=0?T:s}return s}},{key:"getMouseInfo",value:function(A){if(!this.container)return null;var T=this.container,P=T.getBoundingClientRect(),E=pve(P),k={chartX:Math.round(A.pageX-E.left),chartY:Math.round(A.pageY-E.top)},O=P.width/T.offsetWidth||1,D=this.inRange(k.chartX,k.chartY,O);if(!D)return null;var F=this.state,M=F.xAxisMap,R=F.yAxisMap,$=this.getTooltipEventType(),H=t3(this.state,this.props.data,this.props.layout,D);if($!=="axis"&&M&&R){var G=Qa(M).scale,V=Qa(R).scale,B=G&&G.invert?G.invert(k.chartX):null,L=V&&V.invert?V.invert(k.chartY):null;return ae(ae({},k),{},{xValue:B,yValue:L},H)}return H?ae(ae({},k),H):null}},{key:"inRange",value:function(A,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,k=A/P,O=T/P;if(E==="horizontal"||E==="vertical"){var D=this.state.offset,F=k>=D.left&&k<=D.left+D.width&&O>=D.top&&O<=D.top+D.height;return F?{x:k,y:O}:null}var M=this.state,R=M.angleAxisMap,$=M.radiusAxisMap;if(R&&$){var H=Qa(R);return r$({x:k,y:O},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var A=this.props.children,T=this.getTooltipEventType(),P=Xr(A,Bn),E={};P&&T==="axis"&&(P.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=$g(this.props,this.handleOuterEvent);return ae(ae({},k),E)}},{key:"addListener",value:function(){q_.on(G_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){q_.removeListener(G_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(A,T,P){for(var E=this.state.formattedGraphicalItems,k=0,O=E.length;k<O;k++){var D=E[k];if(D.item===A||D.props.key===A.key||T===ia(D.item.type)&&P===D.childIndex)return D}return null}},{key:"renderClipPath",value:function(){var A=this.clipPathId,T=this.state.offset,P=T.left,E=T.top,k=T.height,O=T.width;return z.createElement("defs",null,z.createElement("clipPath",{id:A},z.createElement("rect",{x:P,y:E,height:k,width:O})))}},{key:"getXScales",value:function(){var A=this.state.xAxisMap;return A?Object.entries(A).reduce(function(T,P){var E=ZB(P,2),k=E[0],O=E[1];return ae(ae({},T),{},Ve({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var A=this.state.yAxisMap;return A?Object.entries(A).reduce(function(T,P){var E=ZB(P,2),k=E[0],O=E[1];return ae(ae({},T),{},Ve({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(A){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[A])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(A){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[A])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(A){var T=this.state,P=T.formattedGraphicalItems,E=T.activeItem;if(P&&P.length)for(var k=0,O=P.length;k<O;k++){var D=P[k],F=D.props,M=D.item,R=M.type.defaultProps!==void 0?ae(ae({},M.type.defaultProps),M.props):M.props,$=ia(M.type);if($==="Bar"){var H=(F.data||[]).find(function(L){return OSe(A,L)});if(H)return{graphicalItem:D,payload:H}}else if($==="RadialBar"){var G=(F.data||[]).find(function(L){return r$(A,L)});if(G)return{graphicalItem:D,payload:G}}else if(tb(D,E)||nb(D,E)||pf(D,E)){var V=tAe({graphicalItem:D,activeTooltipItem:E,itemData:R.data}),B=R.activeIndex===void 0?V:R.activeIndex;return{graphicalItem:ae(ae({},D),{},{childIndex:B}),payload:pf(D,E)?R.data[V]:D.props.data[V]}}}return null}},{key:"render",value:function(){var A=this;if(!pR(this))return null;var T=this.props,P=T.children,E=T.className,k=T.width,O=T.height,D=T.style,F=T.compact,M=T.title,R=T.desc,$=JB(T,OEe),H=Be($,!1);if(F)return z.createElement(MB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(rC,_c({},H,{width:k,height:O,title:M,desc:R}),this.renderClipPath(),gR(P,this.renderMap)));if(this.props.accessibilityLayer){var G,V;H.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,H.role=(V=this.props.role)!==null&&V!==void 0?V:"application",H.onKeyDown=function(L){A.accessibilityManager.keyboardEvent(L)},H.onFocus=function(){A.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return z.createElement(MB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",_c({className:Je("recharts-wrapper",E),style:ae({position:"relative",cursor:"default",width:k,height:O},D)},B,{ref:function(W){A.container=W}}),z.createElement(rC,_c({},H,{width:k,height:O,title:M,desc:R,style:YEe}),this.renderClipPath(),gR(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Ve(x,"displayName",n),Ve(x,"defaultProps",ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Ve(x,"getDerivedStateFromProps",function(b,w){var _=b.dataKey,A=b.data,T=b.children,P=b.width,E=b.height,k=b.layout,O=b.stackOffset,D=b.margin,F=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var R=n3(b);return ae(ae(ae({},R),{},{updateId:0},g(ae(ae({props:b},R),{},{updateId:0}),w)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:E,prevLayout:k,prevStackOffset:O,prevMargin:D,prevChildren:T})}if(_!==w.prevDataKey||A!==w.prevData||P!==w.prevWidth||E!==w.prevHeight||k!==w.prevLayout||O!==w.prevStackOffset||!Nc(D,w.prevMargin)){var $=n3(b),H={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},G=ae(ae({},t3(w,A,k)),{},{updateId:w.updateId+1}),V=ae(ae(ae({},$),H),G);return ae(ae(ae({},V),g(ae({props:b},V),w)),{},{prevDataKey:_,prevData:A,prevWidth:P,prevHeight:E,prevLayout:k,prevStackOffset:O,prevMargin:D,prevChildren:T})}if(!tC(T,w.prevChildren)){var B,L,W,X,U=Xr(T,cu),K=U&&(B=(L=U.props)===null||L===void 0?void 0:L.startIndex)!==null&&B!==void 0?B:F,Z=U&&(W=(X=U.props)===null||X===void 0?void 0:X.endIndex)!==null&&W!==void 0?W:M,se=K!==F||Z!==M,oe=!Qe(A),pe=oe&&!se?w.updateId:w.updateId+1;return ae(ae({updateId:pe},g(ae(ae({props:b},w),{},{updateId:pe,dataStartIndex:K,dataEndIndex:Z}),w)),{},{prevChildren:T,dataStartIndex:K,dataEndIndex:Z})}return null}),Ve(x,"renderActiveDot",function(b,w,_){var A;return C.isValidElement(b)?A=C.cloneElement(b,w):Ke(b)?A=b(w):A=z.createElement(Xy,w),z.createElement(mt,{className:"recharts-active-dot",key:_},A)});var v=C.forwardRef(function(w,_){return z.createElement(x,_c({},w,{ref:_}))});return v.displayName=x.displayName,v},sje=mT({chartName:"LineChart",GraphicalChild:ip,axisComponents:[{axisType:"xAxis",AxisComp:xs},{axisType:"yAxis",AxisComp:ws}],formatAxisMap:QW}),gh=mT({chartName:"BarChart",GraphicalChild:Ei,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xs},{axisType:"yAxis",AxisComp:ws}],formatAxisMap:QW}),xP=mT({chartName:"PieChart",GraphicalChild:ns,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:eb},{axisType:"radiusAxis",AxisComp:Zy}],formatAxisMap:q0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Jm={groceries:"#10b981",food:"#f59e0b",transport:"#3b82f6",shopping:"#ec4899",utilities:"#8b5cf6",entertainment:"#ef4444",health:"#14b8a6",education:"#6366f1",other:"#6b7280"},i3={cash:"#10b981",upi:"#3b82f6",card:"#8b5cf6",bank:"#f59e0b"};function aje({onBack:t}){const{expenses:e,debts:n,goals:r,accounts:i,currentFamily:s,currentUser:a}=ot(),o=C.useMemo(()=>{const x=e.reduce((_,A)=>_+A.total_amount,0),v=e.length,b=v>0?x/v:0,w=new Set(e.map(_=>_.category));return{totalSpent:x,transactionCount:v,averageTransaction:b,categoriesUsed:w.size}},[e]),l=C.useMemo(()=>{const x={};return e.forEach(v=>{x[v.category]||(x[v.category]=0),x[v.category]+=v.total_amount}),Object.entries(x).map(([v,b])=>({name:v.charAt(0).toUpperCase()+v.slice(1),value:b,percentage:(b/o.totalSpent*100).toFixed(1)})).sort((v,b)=>b.value-v.value)},[e,o.totalSpent]),c=C.useMemo(()=>{const x={},v=new Date;for(let b=5;b>=0;b--){const _=new Date(v.getFullYear(),v.getMonth()-b,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});x[_]=0}return e.forEach(b=>{const _=new Date(b.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});x.hasOwnProperty(_)&&(x[_]+=b.total_amount)}),Object.entries(x).map(([b,w])=>({month:b,amount:w}))},[e]),h=C.useMemo(()=>{const x={};return e.forEach(v=>{v.payment_lines.forEach(b=>{let w="other";b.account_id==="cash"?w="cash":b.account_id==="upi"?w="upi":b.account_id&&b.account_id.includes("card")?w="card":b.account_id&&(w="bank"),x[w]||(x[w]=0),x[w]+=b.amount})}),Object.entries(x).map(([v,b])=>({name:v.toUpperCase(),value:b,percentage:(b/o.totalSpent*100).toFixed(1)})).sort((v,b)=>b.value-v.value)},[e,o.totalSpent]),d=C.useMemo(()=>{if(!s||!a)return[];const x=n.filter(b=>b.borrower_user_id===a.id&&b.status==="open").reduce((b,w)=>b+w.amount,0),v=n.filter(b=>b.lender_user_id===a.id&&b.status==="open").reduce((b,w)=>b+w.amount,0);return[{name:"You Owe",value:x,fill:"#ef4444"},{name:"Owed to You",value:v,fill:"#10b981"}].filter(b=>b.value>0)},[n,a,s]),m=C.useMemo(()=>r.filter(x=>x.is_active).sort((x,v)=>v.current_amount/v.target_amount-x.current_amount/x.target_amount).slice(0,5).map(x=>({name:x.goal_name,saved:x.current_amount,remaining:x.target_amount-x.current_amount,target:x.target_amount})),[r]),g=C.useMemo(()=>i.map(x=>({name:x.name,balance:x.current_balance})).sort((x,v)=>v.balance-x.balance),[i]);return f.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ue,{variant:"ghost",size:"icon",onClick:t,className:"text-primary-foreground hover:bg-primary-foreground/10 shrink-0",children:f.jsx(jf,{className:"h-5 w-5"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{children:"Reports & Analytics"}),f.jsx("p",{className:"text-sm opacity-90",children:"Visual spending insights"})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(tt,{className:"bg-gradient-to-br from-destructive/10 to-destructive/5 border-destructive/20",children:f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(so,{className:"h-3 w-3"}),"Total Spent"]}),f.jsx(jt,{className:"text-2xl text-destructive",children:Pe(o.totalSpent)})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(Lc,{className:"h-3 w-3"}),"Transactions"]}),f.jsx(jt,{className:"text-2xl text-primary",children:o.transactionCount})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-tertiary/10 to-tertiary/5 border-tertiary/20",children:f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(ii,{className:"h-3 w-3"}),"Average"]}),f.jsx(jt,{className:"text-2xl text-tertiary",children:Pe(o.averageTransaction)})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-success/10 to-success/5 border-success/20",children:f.jsxs(Et,{className:"pb-3",children:[f.jsxs(fn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(M2,{className:"h-3 w-3"}),"Categories"]}),f.jsx(jt,{className:"text-2xl text-success",children:o.categoriesUsed})]})})]}),f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Spending by Category"}),f.jsx(fn,{children:"Distribution of expenses across categories"})]}),f.jsx(_t,{children:l.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Js,{width:"100%",height:300,children:f.jsxs(xP,{children:[f.jsx(ns,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percentage:v})=>`${x} ${v}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((x,v)=>f.jsx(nl,{fill:Jm[x.name.toLowerCase()]||Jm.other},`cell-${v}`))}),f.jsx(Bn,{formatter:x=>Pe(x)})]})}),f.jsx("div",{className:"space-y-2",children:l.map(x=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:Jm[x.name.toLowerCase()]||Jm.other}}),f.jsx("span",{className:"capitalize",children:x.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Pe(x.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage,"%"]})]})]},x.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(M2,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No expense data available"})]})})]}),f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Spending Trend"}),f.jsx(fn,{children:"Monthly expenses over the last 6 months"})]}),f.jsx(_t,{children:c.length>0?f.jsx(Js,{width:"100%",height:250,children:f.jsxs(sje,{data:c,children:[f.jsx(eh,{strokeDasharray:"3 3"}),f.jsx(xs,{dataKey:"month"}),f.jsx(ws,{}),f.jsx(Bn,{formatter:x=>Pe(x)}),f.jsx(ys,{}),f.jsx(ip,{type:"monotone",dataKey:"amount",stroke:"#ef4444",strokeWidth:2,name:"Spent"})]})}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(ii,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No trend data available"})]})})]}),d.length>0&&f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Debt Overview"}),f.jsx(fn,{children:"Summary of what you owe and what is owed to you"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:250,children:f.jsxs(xP,{children:[f.jsx(ns,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:d.map((x,v)=>f.jsx(nl,{fill:x.fill},`cell-${v}`))}),f.jsx(Bn,{formatter:x=>Pe(x)}),f.jsx(ys,{})]})})})]}),m.length>0&&f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Goal Progress"}),f.jsx(fn,{children:"Top active goals by completion status"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:300,children:f.jsxs(gh,{layout:"vertical",data:m,margin:{left:40},children:[f.jsx(eh,{strokeDasharray:"3 3"}),f.jsx(xs,{type:"number"}),f.jsx(ws,{dataKey:"name",type:"category",width:100}),f.jsx(Bn,{formatter:x=>Pe(x)}),f.jsx(ys,{}),f.jsx(Ei,{dataKey:"saved",name:"Saved",stackId:"a",fill:"#10b981"}),f.jsx(Ei,{dataKey:"remaining",name:"Remaining",stackId:"a",fill:"#e5e7eb"})]})})})]}),g.length>0&&f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Account Balances"}),f.jsx(fn,{children:"Current balance across all accounts"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:250,children:f.jsxs(gh,{data:g,children:[f.jsx(eh,{strokeDasharray:"3 3"}),f.jsx(xs,{dataKey:"name"}),f.jsx(ws,{}),f.jsx(Bn,{formatter:x=>Pe(x)}),f.jsx(Ei,{dataKey:"balance",name:"Balance",fill:"#3b82f6"})]})})})]}),f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Payment Methods"}),f.jsx(fn,{children:"How you're paying for expenses"})]}),f.jsx(_t,{children:h.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Js,{width:"100%",height:250,children:f.jsxs(gh,{data:h,children:[f.jsx(eh,{strokeDasharray:"3 3"}),f.jsx(xs,{dataKey:"name"}),f.jsx(ws,{}),f.jsx(Bn,{formatter:x=>Pe(x)}),f.jsx(ys,{}),f.jsx(Ei,{dataKey:"value",name:"Amount",children:h.map((x,v)=>f.jsx(nl,{fill:i3[x.name.toLowerCase()]||"#6b7280"},`cell-${v}`))})]})}),f.jsx("div",{className:"space-y-2",children:h.map(x=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:i3[x.name.toLowerCase()]||"#6b7280"}}),f.jsx("span",{children:x.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Pe(x.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[x.percentage,"%"]})]})]},x.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(Lc,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No payment data available"})]})})]})]})]})}function oje(){const{currentUser:t,currentFamily:e,users:n,updateUser:r}=ot(),[i,s]=C.useState(null),[a,o]=C.useState(""),[l,c]=C.useState(""),h=m=>{s(m),o(m.name),c(m.phone||"")},d=async()=>{if(i)try{const m={...i,name:a.trim(),phone:l.trim()||void 0};await r(m),ke.success("Profile updated successfully"),s(null)}catch{ke.error("Failed to update profile")}};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(tt,{children:[f.jsx(Et,{children:f.jsx(jt,{children:"Family Information"})}),f.jsxs(_t,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Family Name"}),f.jsx("span",{className:"font-medium",children:e?.name})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Currency"}),f.jsx("span",{className:"font-medium",children:e?.currency})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),f.jsx("span",{className:"font-medium",children:e?.created_at?new Date(e.created_at).toLocaleDateString("en-IN"):"Unknown"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Invite Code"}),f.jsx(Jt,{variant:"secondary",className:"font-mono",children:e?.invite_code})]})]})]}),f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Family Members"}),f.jsxs(fn,{children:[n.length," ",n.length===1?"member":"members"]})]}),f.jsx(_t,{children:f.jsx("div",{className:"space-y-3",children:n.map(m=>f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${m.id===t?.id?"bg-accent/50 border-primary/20":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx($c,{children:f.jsx(Bc,{children:Fc(m.name)})}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("p",{className:"font-medium",children:[m.name,m.id===t?.id&&f.jsx("span",{className:"text-muted-foreground ml-1",children:"(You)"})]}),(m.id===t?.id||t?.role==="admin")&&f.jsx(ue,{variant:"ghost",size:"icon",className:"h-6 w-6 ml-2 text-muted-foreground hover:text-primary",onClick:()=>h(m),children:f.jsx(c5,{className:"h-3 w-3"})})]}),m.phone&&f.jsx("p",{className:"text-sm text-muted-foreground",children:m.phone}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",new Date(m.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsx(Jt,{variant:m.role==="admin"?"default":"secondary",className:"gap-1",children:m.role==="admin"?f.jsxs(f.Fragment,{children:[f.jsx(NZ,{className:"h-3 w-3"}),"Admin"]}):f.jsxs(f.Fragment,{children:[f.jsx(Gv,{className:"h-3 w-3"}),"Member"]})})]},m.id))})})]}),f.jsxs(tt,{children:[f.jsx(Et,{children:f.jsx(jt,{children:"About KharchaPal"})}),f.jsxs(_t,{className:"text-sm text-muted-foreground space-y-2",children:[f.jsx("p",{children:"KharchaPal is your simple, offline-first household expense tracker designed for Indian families."}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[f.jsx("li",{children:"Track expenses together with your family"}),f.jsx("li",{children:"Split payments across UPI, Cash, and Card"}),f.jsx("li",{children:"Manage informal IOUs"}),f.jsx("li",{children:"Set budgets and get alerts"}),f.jsx("li",{children:"Works offline - all data stored locally"})]}),f.jsx("p",{className:"pt-2 text-xs",children:"Version 1.0.0  Built with  for Indian households"})]})]}),f.jsx(Wt,{open:!!i,onOpenChange:m=>!m&&s(null),children:f.jsxs(Ht,{className:"max-w-sm",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Edit Profile"}),f.jsx(pn,{children:"Update your contact information"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Name"}),f.jsx(Tt,{value:a,onChange:m=>o(m.target.value),placeholder:"Your Name"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),f.jsx(Tt,{value:l,onChange:m=>c(m.target.value),placeholder:"+91 98765 43210",type:"tel"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for Nudge reminders"})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),f.jsx(ue,{onClick:d,disabled:!a.trim(),children:"Save Changes"})]})]})]})})]})}const gT=["Groceries/Kirana","Vegetables/Fruits","Milk/Dairy","Maid/Helper","Rent","Utilities","Transportation/Auto","Fuel/Petrol","Chai/Snacks","Food & Dining","Healthcare/Meds","Education/Tuition","Entertainment","Shopping","Puja/Festivals","Personal Care","Gifts/Shagun","Recharge/Mobile","Other"],lje=["Salary","Business","Freelance","Investment","Rental Income","Gift/Bonus","Refund","Other"],cje=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function uje(){const{customCategories:t,addCustomCategory:e,deleteCustomCategory:n,currentFamily:r,currentUser:i}=ot(),{t:s}=ma(),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("expense"),[m,g]=C.useState(!1),x=async()=>{if(!a.trim()||!r||!i)return;const _={id:Kv(),family_id:r.id,name:a.trim(),type:h,icon:l,created_by:i.id,created_at:new Date().toISOString()};try{await e(_),o(""),c(""),ke.success("Category added successfully")}catch(A){console.error("Failed to add category:",A),ke.error("Failed to add category")}},v=async _=>{if(confirm("Are you sure you want to delete this category?"))try{await n(_),ke.success("Category deleted")}catch(A){console.error("Failed to delete category:",A),ke.error("Failed to delete category")}},b=t.filter(_=>_.type===h),w=h==="expense"?gT:lje;return f.jsx("div",{className:"space-y-6",children:f.jsxs(Hc,{value:h,onValueChange:_=>d(_),children:[f.jsxs(qc,{className:"grid w-full grid-cols-2",children:[f.jsx(Fr,{value:"expense",children:"Expense Categories"}),f.jsx(Fr,{value:"income",children:"Income Sources"})]}),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Oh,{open:m,onOpenChange:g,children:[f.jsx(Mh,{asChild:!0,children:f.jsx(ue,{variant:"outline",size:"icon",className:"shrink-0",children:f.jsx("span",{className:"text-lg",children:l})})}),f.jsx(Dh,{className:"w-64 p-2",children:f.jsx("div",{className:"grid grid-cols-6 gap-1",children:cje.map(_=>f.jsx("button",{className:"h-8 w-8 flex items-center justify-center rounded hover:bg-accent text-lg",onClick:()=>{c(_),g(!1)},children:_},_))})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx(Me,{htmlFor:"new-category",className:"sr-only",children:"New Category"}),f.jsx(Tt,{id:"new-category",placeholder:`Add new ${h} category...`,value:a,onChange:_=>o(_.target.value),onKeyDown:_=>_.key==="Enter"&&x()})]}),f.jsx(ue,{onClick:x,disabled:!a.trim(),children:f.jsx(Br,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Custom Categories"}),b.length===0?f.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No custom categories yet."}):f.jsx("div",{className:"grid gap-2",children:b.map(_=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-card border rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:_.icon||""}),f.jsx("span",{children:_.name})]}),f.jsx(ue,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90",onClick:()=>v(_.id),children:f.jsx(Hv,{className:"h-4 w-4"})})]},_.id))})]}),f.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Default Categories"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(_=>f.jsx("div",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:_},_))})]})]})]})})}function dje(){const{recurringTransactions:t,addRecurringTransaction:e,updateRecurringTransaction:n,deleteRecurringTransaction:r,currentFamily:i,currentUser:s}=ot(),[a,o]=C.useState(!1),[l,c]=C.useState(null),[h,d]=C.useState(""),[m,g]=C.useState(""),[x,v]=C.useState(""),[b,w]=C.useState("monthly"),[_,A]=C.useState(Cs(new Date,"yyyy-MM-dd")),T=async()=>{if(!h||!m||!x||!i||!s){ke.error("Please fill in all required fields");return}try{if(l){const O=t.find(F=>F.id===l);if(!O)return;const D={...O,amount:parseFloat(m),category:x,description:h,frequency:b,start_date:_};await n(D),ke.success("Recurring transaction updated")}else{const O={id:Kv(),family_id:i.id,amount:parseFloat(m),currency:i.currency,category:x,description:h,frequency:b,start_date:_,next_due_date:_,is_active:!0,created_by:s.id,created_at:new Date().toISOString()};await e(O),ke.success("Recurring transaction added")}o(!1),k()}catch(O){console.error("Failed to save recurring transaction:",O),ke.error("Failed to save recurring transaction")}},P=O=>{c(O.id),d(O.description),g(O.amount.toString()),v(O.category),w(O.frequency),A(O.start_date),o(!0)},E=async O=>{if(confirm("Are you sure you want to delete this recurring transaction?"))try{await r(O),ke.success("Recurring transaction deleted")}catch(D){console.error("Failed to delete recurring transaction:",D),ke.error("Failed to delete recurring transaction")}},k=()=>{c(null),d(""),g(""),v(""),w("monthly"),A(Cs(new Date,"yyyy-MM-dd"))};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Subscriptions & Recurring"}),f.jsxs(Wt,{open:a,onOpenChange:O=>{o(O),O||k()},children:[f.jsx(Nse,{asChild:!0,children:f.jsxs(ue,{size:"sm",children:[f.jsx(Br,{className:"h-4 w-4 mr-2"}),"Add New"]})}),f.jsxs(Ht,{children:[f.jsxs(rn,{children:[f.jsxs(sn,{children:[l?"Edit":"Add"," Recurring Transaction"]}),f.jsx(pn,{children:l?"Update details of your recurring expense":"Set up a recurring expense or subscription"})]}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"description",children:"Description"}),f.jsx(Tt,{id:"description",placeholder:"e.g., Netflix Subscription",value:h,onChange:O=>d(O.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"amount",children:"Amount"}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0.00",value:m,onChange:O=>g(O.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"frequency",children:"Frequency"}),f.jsxs(Vn,{value:b,onValueChange:O=>w(O),children:[f.jsx(Hn,{children:f.jsx(Wn,{})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"daily",children:"Daily"}),f.jsx(ze,{value:"weekly",children:"Weekly"}),f.jsx(ze,{value:"monthly",children:"Monthly"}),f.jsx(ze,{value:"yearly",children:"Yearly"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"category",children:"Category"}),f.jsxs(Vn,{value:x,onValueChange:v,children:[f.jsx(Hn,{children:f.jsx(Wn,{placeholder:"Select category"})}),f.jsx(qn,{children:gT.map(O=>f.jsx(ze,{value:O,children:O},O))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"startDate",children:"Start Date"}),f.jsx(Tt,{id:"startDate",type:"date",value:_,onChange:O=>A(O.target.value)})]}),f.jsxs(ue,{className:"w-full",onClick:T,children:[l?"Update":"Save"," Recurring Transaction"]})]})]})]})]}),t.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(vg,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{children:"No recurring transactions set up yet."})]}):f.jsx("div",{className:"grid gap-3",children:t.map(O=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card border rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:f.jsx(vg,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:O.description}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[O.currency," ",O.amount,"  ",O.frequency]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"text-right mr-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Next due"}),f.jsx("p",{className:"text-sm font-medium",children:Cs(new Date(O.next_due_date),"MMM d")})]}),f.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>P(O),children:f.jsx(c5,{className:"h-4 w-4"})}),f.jsx(ue,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive/90",onClick:()=>E(O.id),children:f.jsx(Hv,{className:"h-4 w-4"})})]})]},O.id))})]})}function hje(){return f.jsx("div",{className:"space-y-4",children:f.jsxs(tt,{children:[f.jsx(Et,{children:f.jsx(jt,{className:"text-base",children:" Quick Start Guide"})}),f.jsxs(_t,{className:"space-y-4 text-sm",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"1. Add Your First Expense"}),f.jsx(Jt,{variant:"secondary",className:"text-xs",children:"Easy"})]}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:["Tap the ",f.jsx("strong",{children:"+ button"})," at bottom-right"]}),f.jsx("li",{children:"Enter amount, category, and date"}),f.jsx("li",{children:'Toggle "Split Payment" for multi-tender (UPI + Cash + Card)'}),f.jsx("li",{children:'Mark as "Borrowed" if you need to track an IOU'})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"2. Multi-Tender Split Example"}),f.jsxs("div",{className:"bg-accent/50 p-3 rounded text-xs space-y-1",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Total:"})," 800 (Grocery shopping)"]}),f.jsx("p",{children:" Card: 500"}),f.jsx("p",{children:" Cash: 300"}),f.jsx("p",{className:"text-muted-foreground pt-1",children:" The app ensures split amounts match the total"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"3. Track IOUs"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'When adding expense, toggle "Borrowed" on any payment line'}),f.jsx("li",{children:"Select who you borrowed from"}),f.jsx("li",{children:'View all IOUs in the "IOUs" tab'}),f.jsx("li",{children:"Settle debts when you pay back"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"4. Set Budgets"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'Go to "Budgets" tab'}),f.jsx("li",{children:'Tap "Add Budget" and select category'}),f.jsx("li",{children:"Set monthly/weekly limits"}),f.jsx("li",{children:"Get alerts when you reach threshold (default 80%)"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"5. Invite Family Members"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Admin:"}),' Tap "Invite" button in header']}),f.jsx("li",{children:"Share the 6-character invite code"}),f.jsxs("li",{children:[f.jsx("strong",{children:"Member:"}),' Use "Join Family" at welcome screen']})]})]}),f.jsx("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:f.jsxs("p",{className:"text-xs",children:[f.jsx("strong",{children:" Tip:"})," All data is stored locally on your device and works offline. Admin can view all family expenses, while members see their own and shared expenses."]})})]})]})})}const s3=["#8b5cf6","#f97316","#06b6d4","#10b981","#f59e0b","#ef4444"];function fje(){const{currentUser:t,currentFamily:e,expenses:n,users:r}=ot(),{categoryData:i,memberData:s,paymentMethodData:a}=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),1),c=n.filter(b=>new Date(b.date)>=l&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)),h={};c.forEach(b=>{h[b.category]=(h[b.category]||0)+b.total_amount});const d=Object.entries(h).map(([b,w])=>({name:b,value:w})).sort((b,w)=>w.value-b.value).slice(0,5),m={};t?.role==="admin"&&c.forEach(b=>{m[b.created_by]=(m[b.created_by]||0)+b.total_amount});const g=Object.entries(m).map(([b,w])=>({name:r.find(_=>_.id===b)?.name||"Unknown",value:w})).sort((b,w)=>w.value-b.value),x={};c.forEach(b=>{b.payment_lines.forEach(w=>{x[w.method]=(x[w.method]||0)+w.amount})});const v=Object.entries(x).map(([b,w])=>({name:b.charAt(0).toUpperCase()+b.slice(1),value:w})).sort((b,w)=>w.value-b.value);return{categoryData:d,memberData:g,paymentMethodData:v}},[n,t,r]);return i.length===0?f.jsx(tt,{className:"border-dashed",children:f.jsxs(_t,{className:"flex flex-col items-center justify-center py-10 text-center text-muted-foreground",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center mb-3",children:f.jsx("span",{className:"text-2xl",children:""})}),f.jsx("p",{className:"font-medium",children:"No spending data for this month"}),f.jsx("p",{className:"text-sm",children:"Add an expense to see your analytics"})]})}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Top Categories"}),f.jsx(fn,{children:"This month's spending by category"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:250,children:f.jsxs(xP,{children:[f.jsx(ns,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} (${(l*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>f.jsx(nl,{fill:s3[l%s3.length]},`cell-${l}`))}),f.jsx(Bn,{formatter:o=>Pe(o,e?.currency)})]})})})]}),a.length>0&&f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Payment Methods"}),f.jsx(fn,{children:"How you're paying"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:200,children:f.jsxs(gh,{data:a,children:[f.jsx(xs,{dataKey:"name"}),f.jsx(ws,{}),f.jsx(Bn,{formatter:o=>Pe(o,e?.currency)}),f.jsx(Ei,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})})]}),t?.role==="admin"&&s.length>0&&f.jsxs(tt,{children:[f.jsxs(Et,{children:[f.jsx(jt,{children:"Member Spending"}),f.jsx(fn,{children:"Expenses by family member"})]}),f.jsx(_t,{children:f.jsx(Js,{width:"100%",height:200,children:f.jsxs(gh,{data:s,children:[f.jsx(xs,{dataKey:"name"}),f.jsx(ws,{}),f.jsx(Bn,{formatter:o=>Pe(o,e?.currency)}),f.jsx(Ei,{dataKey:"value",fill:"#f97316",radius:[8,8,0,0]})]})})})]})]})}function pje({debt:t,open:e,onClose:n}){const{users:r,updateDebt:i}=ot(),[s,a]=C.useState("cash"),[o,l]=C.useState(!1),c=r.find(d=>d.id===t.lender_user_id),h=async()=>{l(!0);try{const d={...t,status:"settled",settled_at:new Date().toISOString(),settlement_method:s};await i(d),ke.success("IOU marked as settled"),n()}catch(d){console.error("Failed to settle debt:",d),ke.error("Failed to settle IOU")}finally{l(!1)}};return f.jsx(Wt,{open:e,onOpenChange:d=>!d&&n(),children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Settle IOU"}),f.jsxs(pn,{children:["Record how you paid back ",c?.name||"the lender"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-accent/50 p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Amount to Settle"}),f.jsx("p",{className:"text-2xl font-semibold",children:Pe(t.amount,t.currency)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"settlementMethod",children:"How did you pay?"}),f.jsxs(Vn,{value:s,onValueChange:d=>a(d),children:[f.jsx(Hn,{id:"settlementMethod",children:f.jsx(Wn,{})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"cash",children:" Cash"}),f.jsx(ze,{value:"upi",children:" UPI"}),f.jsx(ze,{value:"card",children:" Card"})]})]})]}),f.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:f.jsx("p",{className:"text-sm",children:" This will mark the IOU as settled and remove it from your active debts."})}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),f.jsx(ue,{onClick:h,disabled:o,className:"flex-1",children:o?"Settling...":"Mark as Settled"})]})]})]})})}function OH(){const{currentUser:t,debts:e,users:n}=ot(),[r,i]=C.useState(null),s=e.filter(c=>c.status==="open"&&c.borrower_user_id===t?.id),a=e.filter(c=>c.status==="open"&&c.lender_user_id===t?.id),o=c=>n.find(d=>d.id===c)?.name||"Unknown",l=c=>n.find(h=>h.id===c);return s.length===0&&a.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No active IOUs"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Borrowed payments will appear here"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"You Owe"}),f.jsx("div",{className:"space-y-2",children:s.map(c=>{const h=l(c.lender_user_id);return f.jsx(tt,{className:"p-4 bg-error-container/20 border-destructive/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx($c,{children:f.jsx(Bc,{children:h?Fc(h.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["To ",o(c.lender_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("p",{className:"font-semibold text-red-600",children:Pe(c.amount,c.currency)}),f.jsx(ue,{size:"sm",onClick:()=>i(c),children:"Settle"})]})]})},c.id)})})]}),a.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"Owed to You"}),f.jsx("div",{className:"space-y-2",children:a.map(c=>{const h=l(c.borrower_user_id);return f.jsx(tt,{className:"p-4 bg-tertiary-container/20 border-tertiary/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx($c,{children:f.jsx(Bc,{children:h?Fc(h.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["From ",o(c.borrower_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-green-600",children:Pe(c.amount,c.currency)}),f.jsx("div",{className:"flex gap-2 mt-1",children:f.jsxs(ue,{variant:"outline",size:"sm",className:"h-7 px-2 text-xs gap-1 text-green-700 border-green-200 hover:bg-green-50 dark:border-green-800 dark:text-green-400 dark:hover:bg-green-950/30",onClick:()=>{const d=`Hi ${h?.name||"there"}, just a gentle reminder about the ${Pe(c.amount,c.currency)} I lent you${c.linked_expense_id,""}.`,m=h?.phone?`https://wa.me/${h.phone}?text=${encodeURIComponent(d)}`:`https://wa.me/?text=${encodeURIComponent(d)}`;window.open(m,"_blank")},children:[f.jsx(dJ,{className:"h-3 w-3"}),"Nudge"]})})]})]})},c.id)})})]})]}),r&&f.jsx(pje,{debt:r,open:!!r,onClose:()=>i(null)})]})}function mje(){const{currentUser:t,currentFamily:e,budgets:n,expenses:r}=ot(),i=C.useMemo(()=>{const s=new Date,a=new Date(s.getFullYear(),s.getMonth(),1),o=new Date(s);return o.setDate(s.getDate()-s.getDay()),n.map(l=>{const c=l.period==="monthly"?a:o,d=r.filter(b=>b.category===l.category&&new Date(b.date)>=c&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)).reduce((b,w)=>b+w.total_amount,0),m=d/l.limit_amount*100,g=d>l.limit_amount,x=m>=l.notify_threshold_percent&&!g,v=l.limit_amount-d;return{...l,spent:d,percentage:Math.min(m,100),isOverBudget:g,isNearLimit:x,remaining:v}})},[n,r,t]);return n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No budgets set yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tap 'Add Budget' to create your first budget"})]}):f.jsx("div",{className:"space-y-3",children:i.map(s=>f.jsxs(tt,{className:s.isOverBudget?"border-red-300 bg-red-50/50":s.isNearLimit?"border-orange-300 bg-orange-50/50":"",children:[f.jsx(Et,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:yg(s.category)}),f.jsxs("div",{children:[f.jsx(jt,{className:"text-base",children:s.category}),f.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[s.period," budget"]})]})]}),s.isOverBudget?f.jsxs(Jt,{variant:"destructive",className:"gap-1",children:[f.jsx(Ic,{className:"h-3 w-3"}),"Over Budget"]}):s.isNearLimit?f.jsxs(Jt,{variant:"secondary",className:"gap-1 bg-orange-100 text-orange-700 border-orange-300",children:[f.jsx(ii,{className:"h-3 w-3"}),s.notify_threshold_percent,"% reached"]}):null]})}),f.jsxs(_t,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-end justify-between text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Spent: "}),f.jsx("span",{className:s.isOverBudget?"font-semibold text-red-600":"font-semibold",children:Pe(s.spent,e?.currency)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Limit: "}),f.jsx("span",{className:"font-semibold",children:Pe(s.limit_amount,e?.currency)})]})]}),f.jsx(kf,{value:s.percentage,className:s.isOverBudget?"bg-red-200":s.isNearLimit?"bg-orange-200":""}),f.jsxs("div",{className:"flex justify-between text-xs",children:[f.jsx("span",{className:s.remaining>=0?"text-green-600":"text-red-600",children:s.remaining>=0?`${Pe(s.remaining,e?.currency)} remaining`:`${Pe(Math.abs(s.remaining),e?.currency)} over`}),f.jsxs("span",{className:"text-muted-foreground",children:[s.percentage.toFixed(0),"% used"]})]})]})]},s.id))})}function gje(t){const e=vje(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(bje);if(l){const c=l.props.children,h=o.map(d=>d===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:d);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,h):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function vje(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=wje(i),o=xje(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Os(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var yje=Symbol("radix.slottable");function bje(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===yje}function xje(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function wje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var wP=["Enter"," "],Sje=["ArrowDown","PageUp","Home"],MH=["ArrowUp","PageDown","End"],_je=[...Sje,...MH],Aje={ltr:[...wP,"ArrowRight"],rtl:[...wP,"ArrowLeft"]},Cje={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sp="Menu",[wf,Pje,Eje]=ry(sp),[Cl,DH]=Ri(sp,[Eje,ku,gy]),cb=ku(),RH=gy(),[jje,Pl]=Cl(sp),[Tje,ap]=Cl(sp),IH=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=cb(e),[l,c]=C.useState(null),h=C.useRef(!1),d=zn(s),m=Eu(i);return C.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),f.jsx(TE,{...o,children:f.jsx(jje,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:f.jsx(Tje,{scope:e,onClose:C.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:h,dir:m,modal:a,children:r})})})};IH.displayName=sp;var kje="MenuAnchor",vT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cb(n);return f.jsx(ly,{...i,...r,ref:e})});vT.displayName=kje;var yT="MenuPortal",[Nje,LH]=Cl(yT,{forceMount:void 0}),FH=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Pl(yT,e);return f.jsx(Nje,{scope:e,forceMount:n,children:f.jsx(Cr,{present:n||s.open,children:f.jsx(Mf,{asChild:!0,container:i,children:r})})})};FH.displayName=yT;var Ti="MenuContent",[Oje,bT]=Cl(Ti),$H=C.forwardRef((t,e)=>{const n=LH(Ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Pl(Ti,t.__scopeMenu),a=ap(Ti,t.__scopeMenu);return f.jsx(wf.Provider,{scope:t.__scopeMenu,children:f.jsx(Cr,{present:r||s.open,children:f.jsx(wf.Slot,{scope:t.__scopeMenu,children:a.modal?f.jsx(Mje,{...i,ref:e}):f.jsx(Dje,{...i,ref:e})})})})}),Mje=C.forwardRef((t,e)=>{const n=Pl(Ti,t.__scopeMenu),r=C.useRef(null),i=et(e,r);return C.useEffect(()=>{const s=r.current;if(s)return Qv(s)},[]),f.jsx(xT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Dje=C.forwardRef((t,e)=>{const n=Pl(Ti,t.__scopeMenu);return f.jsx(xT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Rje=gje("MenuContent.ScrollLock"),xT=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...v}=t,b=Pl(Ti,n),w=ap(Ti,n),_=cb(n),A=RH(n),T=Pje(n),[P,E]=C.useState(null),k=C.useRef(null),O=et(e,k,b.onContentChange),D=C.useRef(0),F=C.useRef(""),M=C.useRef(0),R=C.useRef(null),$=C.useRef("right"),H=C.useRef(0),G=x?Df:C.Fragment,V=x?{as:Rje,allowPinchZoom:!0}:void 0,B=W=>{const X=F.current+W,U=T().filter(te=>!te.disabled),K=document.activeElement,Z=U.find(te=>te.ref.current===K)?.textValue,se=U.map(te=>te.textValue),oe=Gje(se,X,Z),pe=U.find(te=>te.textValue===oe)?.ref.current;(function te(le){F.current=le,window.clearTimeout(D.current),le!==""&&(D.current=window.setTimeout(()=>te(""),1e3))})(X),pe&&setTimeout(()=>pe.focus())};C.useEffect(()=>()=>window.clearTimeout(D.current),[]),Yv();const L=C.useCallback(W=>$.current===R.current?.side&&Yje(W,R.current?.area),[]);return f.jsx(Oje,{scope:n,searchRef:F,onItemEnter:C.useCallback(W=>{L(W)&&W.preventDefault()},[L]),onItemLeave:C.useCallback(W=>{L(W)||(k.current?.focus(),E(null))},[L]),onTriggerLeave:C.useCallback(W=>{L(W)&&W.preventDefault()},[L]),pointerGraceTimerRef:M,onPointerGraceIntentChange:C.useCallback(W=>{R.current=W},[]),children:f.jsx(G,{...V,children:f.jsx(Of,{asChild:!0,trapped:i,onMountAutoFocus:ye(s,W=>{W.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:f.jsx(Nf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:h,onFocusOutside:d,onInteractOutside:m,onDismiss:g,children:f.jsx(cV,{asChild:!0,...A,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:E,onEntryFocus:ye(l,W=>{w.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(kE,{role:"menu","aria-orientation":"vertical","data-state":tq(b.open),"data-radix-menu-content":"",dir:w.dir,..._,...v,ref:O,style:{outline:"none",...v.style},onKeyDown:ye(v.onKeyDown,W=>{const U=W.target.closest("[data-radix-menu-content]")===W.currentTarget,K=W.ctrlKey||W.altKey||W.metaKey,Z=W.key.length===1;U&&(W.key==="Tab"&&W.preventDefault(),!K&&Z&&B(W.key));const se=k.current;if(W.target!==se||!_je.includes(W.key))return;W.preventDefault();const pe=T().filter(te=>!te.disabled).map(te=>te.ref.current);MH.includes(W.key)&&pe.reverse(),Hje(pe)}),onBlur:ye(t.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(D.current),F.current="")}),onPointerMove:ye(t.onPointerMove,Sf(W=>{const X=W.target,U=H.current!==W.clientX;if(W.currentTarget.contains(X)&&U){const K=W.clientX>H.current?"right":"left";$.current=K,H.current=W.clientX}}))})})})})})})});$H.displayName=Ti;var Ije="MenuGroup",wT=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ue.div,{role:"group",...r,ref:e})});wT.displayName=Ije;var Lje="MenuLabel",BH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ue.div,{...r,ref:e})});BH.displayName=Lje;var Iv="MenuItem",a3="menu.itemSelect",ub=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),a=ap(Iv,t.__scopeMenu),o=bT(Iv,t.__scopeMenu),l=et(e,s),c=C.useRef(!1),h=()=>{const d=s.current;if(!n&&d){const m=new CustomEvent(a3,{bubbles:!0,cancelable:!0});d.addEventListener(a3,g=>r?.(g),{once:!0}),x5(d,m),m.defaultPrevented?c.current=!1:a.onClose()}};return f.jsx(UH,{...i,ref:l,disabled:n,onClick:ye(t.onClick,h),onPointerDown:d=>{t.onPointerDown?.(d),c.current=!0},onPointerUp:ye(t.onPointerUp,d=>{c.current||d.currentTarget?.click()}),onKeyDown:ye(t.onKeyDown,d=>{const m=o.searchRef.current!=="";n||m&&d.key===" "||wP.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ub.displayName=Iv;var UH=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=bT(Iv,n),o=RH(n),l=C.useRef(null),c=et(e,l),[h,d]=C.useState(!1),[m,g]=C.useState("");return C.useEffect(()=>{const x=l.current;x&&g((x.textContent??"").trim())},[s.children]),f.jsx(wf.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:f.jsx(uV,{asChild:!0,...o,focusable:!r,children:f.jsx(Ue.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ye(t.onPointerMove,Sf(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,Sf(x=>a.onItemLeave(x))),onFocus:ye(t.onFocus,()=>d(!0)),onBlur:ye(t.onBlur,()=>d(!1))})})})}),Fje="MenuCheckboxItem",zH=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return f.jsx(GH,{scope:t.__scopeMenu,checked:n,children:f.jsx(ub,{role:"menuitemcheckbox","aria-checked":Lv(n)?"mixed":n,...i,ref:e,"data-state":_T(n),onSelect:ye(i.onSelect,()=>r?.(Lv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});zH.displayName=Fje;var VH="MenuRadioGroup",[$je,Bje]=Cl(VH,{value:void 0,onValueChange:()=>{}}),WH=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=zn(r);return f.jsx($je,{scope:t.__scopeMenu,value:n,onValueChange:s,children:f.jsx(wT,{...i,ref:e})})});WH.displayName=VH;var HH="MenuRadioItem",qH=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=Bje(HH,t.__scopeMenu),s=n===i.value;return f.jsx(GH,{scope:t.__scopeMenu,checked:s,children:f.jsx(ub,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":_T(s),onSelect:ye(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});qH.displayName=HH;var ST="MenuItemIndicator",[GH,Uje]=Cl(ST,{checked:!1}),KH=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Uje(ST,n);return f.jsx(Cr,{present:r||Lv(s.checked)||s.checked===!0,children:f.jsx(Ue.span,{...i,ref:e,"data-state":_T(s.checked)})})});KH.displayName=ST;var zje="MenuSeparator",YH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Ue.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});YH.displayName=zje;var Vje="MenuArrow",XH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=cb(n);return f.jsx(NE,{...i,...r,ref:e})});XH.displayName=Vje;var Wje="MenuSub",[hke,QH]=Cl(Wje),th="MenuSubTrigger",ZH=C.forwardRef((t,e)=>{const n=Pl(th,t.__scopeMenu),r=ap(th,t.__scopeMenu),i=QH(th,t.__scopeMenu),s=bT(th,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},h=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>h,[h]),C.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),f.jsx(vT,{asChild:!0,...c,children:f.jsx(UH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":tq(n.open),...t,ref:Os(e,i.onTriggerChange),onClick:d=>{t.onClick?.(d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,Sf(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ye(t.onPointerLeave,Sf(d=>{h();const m=n.content?.getBoundingClientRect();if(m){const g=n.content?.dataset.side,x=g==="right",v=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+v,y:d.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,d=>{const m=s.searchRef.current!=="";t.disabled||m&&d.key===" "||Aje[r.dir].includes(d.key)&&(n.onOpenChange(!0),n.content?.focus(),d.preventDefault())})})})});ZH.displayName=th;var JH="MenuSubContent",eq=C.forwardRef((t,e)=>{const n=LH(Ti,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Pl(Ti,t.__scopeMenu),a=ap(Ti,t.__scopeMenu),o=QH(JH,t.__scopeMenu),l=C.useRef(null),c=et(e,l);return f.jsx(wf.Provider,{scope:t.__scopeMenu,children:f.jsx(Cr,{present:r||s.open,children:f.jsx(wf.Slot,{scope:t.__scopeMenu,children:f.jsx(xT,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{a.isUsingKeyboardRef.current&&l.current?.focus(),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ye(t.onFocusOutside,h=>{h.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,h=>{a.onClose(),h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{const d=h.currentTarget.contains(h.target),m=Cje[a.dir].includes(h.key);d&&m&&(s.onOpenChange(!1),o.trigger?.focus(),h.preventDefault())})})})})})});eq.displayName=JH;function tq(t){return t?"open":"closed"}function Lv(t){return t==="indeterminate"}function _T(t){return Lv(t)?"indeterminate":t?"checked":"unchecked"}function Hje(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function qje(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Gje(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=qje(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Kje(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,h=o.y,d=l.x,m=l.y;h>r!=m>r&&n<(d-c)*(r-h)/(m-h)+c&&(i=!i)}return i}function Yje(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Kje(n,e)}function Sf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Xje=IH,Qje=vT,Zje=FH,Jje=$H,eTe=wT,tTe=BH,nTe=ub,rTe=zH,iTe=WH,sTe=qH,aTe=KH,oTe=YH,lTe=XH,cTe=ZH,uTe=eq,db="DropdownMenu",[dTe]=Ri(db,[DH]),Pr=DH(),[hTe,nq]=dTe(db),rq=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Pr(e),c=C.useRef(null),[h,d]=ca({prop:i,defaultProp:s??!1,onChange:a,caller:db});return f.jsx(hTe,{scope:e,triggerId:Qi(),triggerRef:c,contentId:Qi(),open:h,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(m=>!m),[d]),modal:o,children:f.jsx(Xje,{...l,open:h,onOpenChange:d,dir:r,modal:o,children:n})})};rq.displayName=db;var iq="DropdownMenuTrigger",sq=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=nq(iq,n),a=Pr(n);return f.jsx(Qje,{asChild:!0,...a,children:f.jsx(Ue.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Os(e,s.triggerRef),onPointerDown:ye(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:ye(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});sq.displayName=iq;var fTe="DropdownMenuPortal",aq=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Pr(e);return f.jsx(Zje,{...r,...n})};aq.displayName=fTe;var oq="DropdownMenuContent",lq=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=nq(oq,n),s=Pr(n),a=C.useRef(!1);return f.jsx(Jje,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,h=l.button===2||c;(!i.modal||h)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lq.displayName=oq;var pTe="DropdownMenuGroup",mTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(eTe,{...i,...r,ref:e})});mTe.displayName=pTe;var gTe="DropdownMenuLabel",vTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(tTe,{...i,...r,ref:e})});vTe.displayName=gTe;var yTe="DropdownMenuItem",cq=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(nTe,{...i,...r,ref:e})});cq.displayName=yTe;var bTe="DropdownMenuCheckboxItem",xTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(rTe,{...i,...r,ref:e})});xTe.displayName=bTe;var wTe="DropdownMenuRadioGroup",STe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(iTe,{...i,...r,ref:e})});STe.displayName=wTe;var _Te="DropdownMenuRadioItem",ATe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(sTe,{...i,...r,ref:e})});ATe.displayName=_Te;var CTe="DropdownMenuItemIndicator",PTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(aTe,{...i,...r,ref:e})});PTe.displayName=CTe;var ETe="DropdownMenuSeparator",jTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(oTe,{...i,...r,ref:e})});jTe.displayName=ETe;var TTe="DropdownMenuArrow",kTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(lTe,{...i,...r,ref:e})});kTe.displayName=TTe;var NTe="DropdownMenuSubTrigger",OTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(cTe,{...i,...r,ref:e})});OTe.displayName=NTe;var MTe="DropdownMenuSubContent",DTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Pr(n);return f.jsx(uTe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DTe.displayName=MTe;var RTe=rq,ITe=sq,LTe=aq,FTe=lq,$Te=cq;function BTe({...t}){return f.jsx(RTe,{"data-slot":"dropdown-menu",...t})}function UTe({...t}){return f.jsx(ITe,{"data-slot":"dropdown-menu-trigger",...t})}function zTe({className:t,sideOffset:e=4,...n}){return f.jsx(LTe,{children:f.jsx(FTe,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Le("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Y_({className:t,inset:e,variant:n="default",...r}){return f.jsx($Te,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Le("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}const VTe={cash:oE,bank:lE,card:cE,wallet:Cu},WTe={cash:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",bank:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",card:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400",wallet:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"};function HTe({account:t,compact:e=!1,onEdit:n,onDelete:r,onQuickAdd:i}){const s=VTe[t.type],a=WTe[t.type],o=t.current_balance>t.opening_balance?"positive":t.current_balance<t.opening_balance?"negative":"zero";return e?f.jsx(tt,{className:"hover:shadow-md transition-shadow",children:f.jsx(_t,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${a}`,children:f.jsx(s,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t.type})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Pe(t.current_balance)}),o!=="zero"&&f.jsxs("p",{className:`text-xs ${o==="positive"?"text-green-600":"text-red-600"}`,children:[o==="positive"?"+":"",Pe(t.current_balance-t.opening_balance)]})]})]})})}):f.jsx(tt,{className:"hover:shadow-lg transition-shadow",children:f.jsxs(_t,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-3 rounded-xl ${a}`,children:f.jsx(s,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:t.name}),f.jsx(Jt,{variant:"secondary",className:"text-xs capitalize mt-1",children:t.type})]})]}),f.jsxs(BTe,{children:[f.jsx(UTe,{asChild:!0,children:f.jsx(ue,{variant:"ghost",size:"icon",children:f.jsx(RZ,{className:"h-4 w-4"})})}),f.jsxs(zTe,{align:"end",children:[i&&f.jsxs(Y_,{onClick:i,children:[f.jsx(Br,{className:"h-4 w-4 mr-2"}),"Quick Add"]}),n&&f.jsx(Y_,{onClick:n,children:"Edit Account"}),r&&f.jsx(Y_,{onClick:r,className:"text-destructive",children:"Delete Account"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-baseline",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Balance"}),f.jsx("span",{className:"text-2xl font-bold",children:Pe(t.current_balance)})]}),f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Opening Balance"}),f.jsx("span",{children:Pe(t.opening_balance)})]}),o!=="zero"&&f.jsx("div",{className:"pt-2 border-t",children:f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Change"}),f.jsxs("span",{className:o==="positive"?"text-green-600 font-medium":"text-red-600 font-medium",children:[o==="positive"?"+":"",Pe(t.current_balance-t.opening_balance)]})]})})]}),t.notes&&f.jsx("p",{className:"text-sm text-muted-foreground mt-4 pt-4 border-t",children:t.notes})]})})}const X_=[{value:"cash",label:"Cash",icon:oE,description:"Physical cash at home or wallet"},{value:"bank",label:"Bank Account",icon:lE,description:"Savings or current account"},{value:"card",label:"Credit/Debit Card",icon:cE,description:"Card balance or limit"},{value:"wallet",label:"Digital Wallet",icon:Cu,description:"UPI, PayTM, PhonePe, etc."}];function SP({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addAccount:i}=ot(),[s,a]=C.useState(""),[o,l]=C.useState("cash"),[c,h]=C.useState(""),[d,m]=C.useState(""),[g,x]=C.useState(!1),v=async()=>{if(!n||!r)return;if(!s.trim()){ke.error("Please enter an account name");return}const A=parseFloat(c)||0;if(isNaN(A)){ke.error("Please enter a valid amount");return}x(!0);try{const T={id:Qt(),family_id:r.id,name:s.trim(),type:o,opening_balance:A,current_balance:A,currency:r.currency,notes:d.trim()||void 0,created_by:n.id,created_at:new Date().toISOString()};await i(T),ke.success(`Account "${s}" added successfully`),b()}catch(T){console.error("Failed to add account:",T),ke.error("Failed to add account")}finally{x(!1)}},b=()=>{a(""),l("cash"),h(""),m(""),e()},w=X_.find(A=>A.value===o)||X_[0],_=w.icon;return f.jsx(Wt,{open:t,onOpenChange:A=>!A&&b(),children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Add Account"}),f.jsx(pn,{children:"Track your cash, bank accounts, cards, and digital wallets"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"name",children:"Account Name *"}),f.jsx(Tt,{id:"name",placeholder:"e.g., Home Cash, HDFC Savings, Paytm",value:s,onChange:A=>a(A.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"type",children:"Account Type *"}),f.jsxs(Vn,{value:o,onValueChange:A=>l(A),children:[f.jsx(Hn,{id:"type",children:f.jsx(Wn,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(_,{className:"h-4 w-4"}),f.jsx("span",{children:w.label})]})})}),f.jsx(qn,{children:X_.map(A=>{const T=A.icon;return f.jsx(ze,{value:A.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(T,{className:"h-4 w-4"}),f.jsxs("div",{children:[f.jsx("div",{children:A.label}),f.jsx("div",{className:"text-xs text-muted-foreground",children:A.description})]})]})},A.value)})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"balance",children:"Current Balance *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{id:"balance",type:"number",placeholder:"0.00",value:c,onChange:A=>h(A.target.value),className:"pl-8",step:"0.01"})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the current amount in this account"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"notes",children:"Notes (optional)"}),f.jsx(eo,{id:"notes",placeholder:"e.g., Last 4 digits: 1234",value:d,onChange:A=>m(A.target.value),rows:2})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),f.jsx(ue,{onClick:v,disabled:g,className:"flex-1",children:g?"Adding...":"Add Account"})]})]})]})})}function qTe(){const{accounts:t=[]}=ot(),[e,n]=C.useState(!1),r=t.reduce((i,s)=>i+s.current_balance,0);return t.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs(Ng,{children:[f.jsx(Cu,{className:"h-4 w-4"}),f.jsx(Og,{children:"No accounts found. Add your first account to track cash, bank balance, cards, and wallets."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs(ue,{onClick:()=>n(!0),children:[f.jsx(Br,{className:"h-4 w-4 mr-2"}),"Add Your First Account"]})}),f.jsx(SP,{open:e,onClose:()=>n(!1)})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Accounts"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Balance: ",f.jsxs("span",{className:"font-medium text-foreground",children:["",r.toFixed(2)]})]})]}),f.jsxs(ue,{onClick:()=>n(!0),size:"sm",children:[f.jsx(Br,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),f.jsx("div",{className:"space-y-6",children:["cash","bank","card","wallet"].map(i=>{const s=t.filter(o=>o.type===i);if(s.length===0)return null;const a={cash:"Cash",bank:"Bank Accounts",card:"Cards",wallet:"Wallets & UPI"}[i];return f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground uppercase tracking-wider",children:a}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:s.map(o=>f.jsx(HTe,{account:o,compact:!0},o.id))})]},i)})}),f.jsx(SP,{open:e,onClose:()=>n(!1)})]})}function GTe({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addBudget:i,budgets:s}=ot(),[a,o]=C.useState(""),[l,c]=C.useState(""),[h,d]=C.useState("monthly"),[m,g]=C.useState([80]),[x,v]=C.useState(!1),b=gT.filter(A=>!s.some(T=>T.category===A&&T.period===h)),w=async()=>{if(!n||!r)return;const A=parseFloat(l);if(isNaN(A)||A<=0){ke.error("Please enter a valid amount");return}if(!a){ke.error("Please select a category");return}v(!0);try{const T={id:Qt(),family_id:r.id,category:a,limit_amount:A,period:h,notify_threshold_percent:m[0],created_by_user_id:n.id,created_at:new Date().toISOString()};await i(T),ke.success("Budget created successfully"),_()}catch(T){console.error("Failed to create budget:",T),ke.error("Failed to create budget")}finally{v(!1)}},_=()=>{o(""),c(""),d("monthly"),g([80]),e()};return f.jsx(Wt,{open:t,onOpenChange:A=>!A&&_(),children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Add Budget"}),f.jsx(pn,{children:"Set a spending limit for a category"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"category",children:"Category *"}),f.jsxs(Vn,{value:a,onValueChange:o,children:[f.jsx(Hn,{id:"category",children:f.jsx(Wn,{placeholder:"Select category"})}),f.jsx(qn,{children:b.length>0?b.map(A=>f.jsx(ze,{value:A,children:A},A)):f.jsx(ze,{value:"_disabled",disabled:!0,children:"All categories have budgets"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"period",children:"Period *"}),f.jsxs(Vn,{value:h,onValueChange:A=>d(A),children:[f.jsx(Hn,{id:"period",children:f.jsx(Wn,{})}),f.jsxs(qn,{children:[f.jsx(ze,{value:"monthly",children:"Monthly"}),f.jsx(ze,{value:"weekly",children:"Weekly"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"limitAmount",children:"Limit Amount *"}),f.jsx(Tt,{id:"limitAmount",type:"number",placeholder:"0.00",value:l,onChange:A=>c(A.target.value),step:"0.01"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Me,{htmlFor:"threshold",children:["Alert at ",m[0],"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:l&&!isNaN(parseFloat(l))?`${(parseFloat(l)*m[0]/100).toFixed(2)}`:"0.00"})]}),f.jsx(LA,{id:"threshold",value:m,onValueChange:g,min:50,max:100,step:5}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll be notified when spending reaches this percentage"})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:_,className:"flex-1",children:"Cancel"}),f.jsx(ue,{onClick:w,disabled:!a||!l||x||b.length===0,className:"flex-1",children:x?"Creating...":"Create Budget"})]})]})]})})}function KTe({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addDebt:i}=ot(),[s,a]=C.useState("gave"),[o,l]=C.useState(""),[c,h]=C.useState(""),[d,m]=C.useState(new Date),[g,x]=C.useState(void 0),[v,b]=C.useState(""),[w,_]=C.useState(!1),A=async()=>{if(!n||!r)return;const P=parseFloat(c);if(isNaN(P)||P<=0){ke.error("Please enter a valid amount");return}if(!o.trim()){ke.error("Please enter the person's name");return}_(!0);try{const E={id:Qt(),family_id:r.id,lender_user_id:s==="gave"?n.id:o,borrower_user_id:s==="gave"?o:n.id,amount:P,currency:r.currency,status:"open",created_at:d.toISOString()};await i(E),ke.success(s==="gave"?`Recorded: You lent ${P} to ${o}`:`Recorded: You borrowed ${P} from ${o}`),T()}catch(E){console.error("Failed to add debt:",E),ke.error("Failed to record debt")}finally{_(!1)}},T=()=>{l(""),h(""),m(new Date),x(void 0),b(""),a("gave"),e()};return f.jsx(Wt,{open:t,onOpenChange:P=>!P&&T(),children:f.jsxs(Ht,{className:"max-w-lg",children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(sn,{className:"text-xl",children:"Add Debt Record"}),f.jsx(ue,{variant:"ghost",size:"icon",onClick:T,className:"h-6 w-6 rounded-full",children:f.jsx(Pu,{className:"h-4 w-4"})})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsx(Hc,{value:s,onValueChange:P=>a(P),className:"w-full",children:f.jsxs(qc,{className:"grid w-full grid-cols-2 h-auto p-1 bg-muted",children:[f.jsxs(Fr,{value:"gave",className:"h-12 data-[state=active]:bg-emerald-500 data-[state=active]:text-white",children:[f.jsx(ii,{className:"mr-2 h-5 w-5"}),"I Gave"]}),f.jsxs(Fr,{value:"took",className:"h-12 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[f.jsx(so,{className:"mr-2 h-5 w-5"}),"I Took"]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"personName",children:s==="gave"?"Lent To":"Borrowed From"}),f.jsx(Tt,{id:"personName",placeholder:"Person's name",value:o,onChange:P=>l(P.target.value),className:"h-12"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"amount",children:"Amount ()"}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0.00",value:c,onChange:P=>h(P.target.value),step:"10",className:"h-14 text-xl"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{children:"Date"}),f.jsxs(Oh,{children:[f.jsx(Mh,{asChild:!0,children:f.jsxs(ue,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(ra,{className:"mr-2 h-4 w-4"}),ki(d)]})}),f.jsx(Dh,{className:"w-auto p-0",align:"start",children:f.jsx(kg,{mode:"single",selected:d,onSelect:P=>P&&m(P),initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Me,{className:"flex items-center gap-2",children:[f.jsx(ra,{className:"h-4 w-4"}),"Due Date (Optional)"]}),f.jsxs(Oh,{children:[f.jsx(Mh,{asChild:!0,children:f.jsxs(ue,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(ra,{className:"mr-2 h-4 w-4"}),g?ki(g):"dd-mm-yyyy"]})}),f.jsx(Dh,{className:"w-auto p-0",align:"start",children:f.jsx(kg,{mode:"single",selected:g,onSelect:x,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Me,{htmlFor:"notes",children:"Notes (Optional)"}),f.jsx(eo,{id:"notes",placeholder:"Add any additional details...",value:v,onChange:P=>b(P.target.value),rows:3,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ue,{variant:"outline",onClick:T,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ue,{onClick:A,disabled:w,className:`flex-1 h-12 ${s==="gave"?"bg-emerald-500 hover:bg-emerald-600":"bg-orange-500 hover:bg-orange-600"}`,children:w?"Saving...":"Save Record"})]})]})]})})}function YTe({onViewChange:t,onShowReports:e}){const{currentUser:n,currentFamily:r,logout:i,debts:s,goals:a,budgets:o,accounts:l,expenses:c,income:h,goalTransfers:d,users:m}=ot(),{language:g,setLanguage:x,t:v}=ma(),[b,w]=C.useState(null),[_,A]=C.useState(!1),[T,P]=C.useState(!1),[E,k]=C.useState(!1),[O,D]=C.useState(!1),[F,M]=C.useState(!1),R=s.filter(W=>W.status==="open");a.filter(W=>W.is_active);const $=o.length,H=l.length,G=()=>{ke.info(" Coming Soon!",{description:"Invite feature is being enhanced and will be available soon!"})},V=()=>{ke.info(" Coming Soon!",{description:"Data export feature is being enhanced and will be available soon!"})},B=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())},L=[{id:"reports",title:v("reports"),description:"View spending insights",icon:hZ,iconColor:"text-chart-1",onClick:e||(()=>w("reports"))},{id:"about",title:v("about"),description:"Developer info & support",icon:tl,iconColor:"text-tertiary",onClick:()=>w("about")},{id:"budgets",title:v("budgets"),description:"Set spending limits",icon:AZ,iconColor:"text-purple-600",badge:$>0?`${$}`:void 0,onClick:()=>w("budgets")},{id:"accounts",title:v("accounts"),description:"Manage payment accounts",icon:Cu,iconColor:"text-green-600",badge:H>0?`${H}`:void 0,onClick:()=>w("accounts")},{id:"ious",title:v("debts"),description:"Money lent and borrowed",icon:io,iconColor:"text-orange-600",badge:R.length>0?`${R.length}`:void 0,onClick:()=>w("ious")},{id:"family",title:v("family"),description:"Invite & manage members",icon:tl,iconColor:"text-primary",onClick:()=>w("invite"),adminOnly:!0},{id:"guide",title:v("guide"),description:"Learn how to use KharchaPal",icon:iZ,iconColor:"text-tertiary",onClick:()=>w("guide")},{id:"settings",title:v("settings"),description:"Family preferences",icon:_J,iconColor:"text-on-surface-variant",onClick:()=>w("settings")},{id:"categories",title:"Categories",description:"Manage custom categories",icon:u5,iconColor:"text-pink-600",onClick:()=>w("categories")},{id:"subscriptions",title:"Subscriptions",description:"Manage recurring payments",icon:vg,iconColor:"text-purple-600",onClick:()=>w("subscriptions")},{id:"language",title:v("language"),description:"Change app language",icon:rJ,iconColor:"text-blue-600",badge:g.toUpperCase(),onClick:()=>w("language")}];return f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"bg-gradient-to-br from-primary/10 to-tertiary/10 border-primary/20",children:f.jsx(Et,{children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xl",children:n?.name.charAt(0).toUpperCase()}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx(jt,{className:"truncate",children:n?.name}),f.jsx(fn,{className:"truncate",children:r?.name})]}),n?.role==="admin"&&f.jsx(Jt,{variant:"secondary",className:"shrink-0",children:"Admin"})]})})}),f.jsx("div",{className:"space-y-2",children:L.map(W=>{const X=W.icon;return W.adminOnly&&n?.role!=="admin"?null:f.jsxs("button",{onClick:W.onClick,className:"w-full bg-card border border-border rounded-xl p-4 flex items-center gap-4 hover:bg-accent/50 transition-all duration-200 elevation-1 hover:elevation-2",children:[f.jsx("div",{className:`h-10 w-10 rounded-lg bg-surface-variant/50 flex items-center justify-center ${W.iconColor}`,children:f.jsx(X,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-left min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"truncate",children:W.title}),W.badge&&f.jsx(Jt,{variant:"secondary",className:"shrink-0",children:W.badge})]}),f.jsx("p",{className:"text-sm text-muted-foreground truncate",children:W.description})]}),f.jsx(Wv,{className:"h-5 w-5 text-muted-foreground shrink-0"})]},W.id)})}),f.jsx(tt,{className:"bg-muted/30",children:f.jsxs(_t,{className:"pt-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"App Version"}),f.jsx("span",{className:"text-sm",children:"1.0.0"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Storage"}),f.jsx("span",{className:"text-sm",children:"Local (Offline-first)"})]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(ue,{variant:"outline",className:"w-full justify-start gap-3",onClick:V,children:[f.jsx(MZ,{className:"h-4 w-4"}),"Export Data"]}),f.jsxs(ue,{variant:"outline",className:"w-full justify-start gap-3 text-destructive hover:text-destructive",onClick:B,children:[f.jsx(Hv,{className:"h-4 w-4"}),"Clear All Data"]})]}),f.jsxs(ue,{variant:"destructive",className:"w-full gap-2",onClick:i,children:[f.jsx(oJ,{className:"h-4 w-4"}),"Logout"]}),f.jsx(Wt,{open:b==="reports",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Reports & Charts"}),f.jsx(pn,{children:"Visualize your spending patterns and trends"})]}),f.jsx(fje,{})]})}),f.jsx(Wt,{open:b==="budgets",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(sn,{children:"Monthly Budgets"}),f.jsx(pn,{children:"Set spending limits for different categories"})]}),f.jsxs(ue,{size:"sm",onClick:()=>D(!0),className:"gap-2",children:[f.jsx(Br,{className:"h-4 w-4"}),"Add Budget"]})]})}),f.jsx(mje,{})]})}),f.jsx(Wt,{open:b==="accounts",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(sn,{children:"Bank Accounts"}),f.jsx(pn,{children:"Manage your payment methods and accounts"})]}),f.jsxs(ue,{size:"sm",onClick:()=>M(!0),className:"gap-2",children:[f.jsx(Br,{className:"h-4 w-4"}),"Add Account"]})]})}),f.jsx(qTe,{})]})}),f.jsx(Wt,{open:b==="ious",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(rn,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(sn,{children:"Debts & Loans"}),f.jsx(pn,{children:"Money you've lent to or borrowed from others"})]}),f.jsxs(ue,{size:"sm",onClick:()=>k(!0),className:"gap-2",children:[f.jsx(Br,{className:"h-4 w-4"}),"Add Record"]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx(io,{className:"h-4 w-4"}),"How this works"]}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Money Lent:"})," Money you gave to others (they owe you)"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Money Borrowed:"})," Money you took from others (you owe them)"]}),f.jsx("li",{children:'IOUs are created automatically when you mark a payment as "borrowed"'}),f.jsx("li",{children:'Click "Settle" to mark the debt as paid'})]})]}),f.jsx(OH,{})]})]})}),f.jsx(Wt,{open:b==="invite",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Invite Family Members"}),f.jsx(pn,{children:"Share this code with family members to join"})]}),f.jsxs(tt,{children:[f.jsx(Et,{children:f.jsx(jt,{className:"text-center text-3xl tracking-widest font-mono",children:r?.invite_code})}),f.jsxs(_t,{children:[f.jsx(ue,{onClick:G,className:"w-full",children:_?f.jsxs(f.Fragment,{children:[f.jsx(Vv,{className:"h-4 w-4 mr-2"}),"Copied!"]}):f.jsxs(f.Fragment,{children:[f.jsx(jZ,{className:"h-4 w-4 mr-2"}),"Copy Invite Code"]})}),f.jsx(Ng,{className:"mt-4",children:f.jsx(Og,{children:"New members can enter this code when joining your family"})})]})]})]})}),f.jsx(Wt,{open:b==="guide",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Quick Guide"}),f.jsx(pn,{children:"Learn how to use KharchaPal effectively"})]}),f.jsx(hje,{})]})}),f.jsx(Wt,{open:b==="about",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-md",children:[f.jsxs(rn,{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary to-tertiary flex items-center justify-center text-4xl",children:""}),f.jsx(sn,{className:"text-2xl",children:"KharchaPal"}),f.jsx(pn,{className:"text-base",children:"Your simple household expense tracker"})]}),f.jsxs("div",{className:"space-y-4 text-center",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-tertiary/10 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Developed by"}),f.jsx("p",{className:"text-xl font-bold text-on-primary-container",children:"Nitesh Jha"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Im Nitesh Jha, a UI/UX Designer who uses AI extensively to plan, design, and develop mobile applications with high speed and clarity. I follow a structured product development approach where every idea begins with a PRD (Product Requirement Document). Using AI tools, I convert the PRD into task lists, flows, wireframes, and development-ready assets, ensuring that the entire processfrom concept to a fully functional mobile appbecomes smooth, fast, and extremely efficient. My workflow is simple and scalable: Create the PRD  Define the problem, goals, features, user journeys, and success metrics. Break It Into Tasks Using AI  Convert the PRD into atomic tasks for design, development, and testing. Generate User Flows & Wireframes  Use AI models to instantly create low-fidelity and high-fidelity screens. Build the App With AI Agents  Transform the design into a working PWA, Android APK, or iOS app using another AI tool. Validate & Iterate  Run automated validation flows and refine based on feedback. I combine design thinking with AI automation to build apps faster than traditional methodswhile still maintaining clarity, structure, and user experience."})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ue,{variant:"outline",className:"flex-1",onClick:()=>{window.open("https://www.linkedin.com/in/nitesh-jha-2021/","_blank")},children:[f.jsx(tl,{className:"h-4 w-4 mr-2"}),"LinkedIn"]}),f.jsx(ue,{onClick:()=>{const W=encodeURIComponent("Feedback: KharchaPal App"),X=encodeURIComponent(`Hi Nitesh,

I wanted to share some feedback about KharchaPal:

[Please share your suggestions, feedback, or any issues you encountered]

- App version: 1.0.0
- Family: ${r?.name||"Not set"}

Thank you!`);window.open(`mailto:niteshjha.uiux@yahoo.com subject=${W}&body=${X}`)},className:"flex-1",children:" Feedback"})]}),f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"If you have time, your suggestions are helpful for improving the app."}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"App Version 1.0.0"})]})]})]})}),f.jsx(Wt,{open:b==="settings",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Family Settings"}),f.jsx(pn,{children:"Manage your family preferences and members"})]}),f.jsx(oje,{})]})}),f.jsx(Wt,{open:b==="categories",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:"Manage Categories"}),f.jsx(pn,{children:"Add or remove custom categories"})]}),f.jsx(uje,{})]})}),f.jsx(Wt,{open:b==="subscriptions",onOpenChange:()=>w(null),children:f.jsx(Ht,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:f.jsx(dje,{})})}),f.jsx(GTe,{open:O,onClose:()=>D(!1)}),f.jsx(SP,{open:F,onClose:()=>M(!1)}),f.jsx(rV,{open:T,onClose:()=>P(!1)}),f.jsx(KTe,{open:E,onClose:()=>k(!1)}),f.jsx(Wt,{open:b==="language",onOpenChange:()=>w(null),children:f.jsxs(Ht,{className:"max-w-sm",children:[f.jsxs(rn,{children:[f.jsx(sn,{children:v("select_language")}),f.jsx(pn,{children:"Choose your preferred language"})]}),f.jsx("div",{className:"grid gap-2",children:[{code:"en",name:"English",native:"English"},{code:"hi",name:"Hindi",native:""},{code:"mr",name:"Marathi",native:""},{code:"ta",name:"Tamil",native:""},{code:"gu",name:"Gujarati",native:""}].map(W=>f.jsxs(ue,{variant:g===W.code?"default":"outline",className:"justify-between",onClick:()=>{x(W.code),w(null)},children:[f.jsx("span",{children:W.name}),f.jsx("span",{className:"text-xs opacity-70",children:W.native})]},W.code))})]})})]})}function XTe({activeTab:t,onTabChange:e}){const{t:n}=ma(),r=[{id:"home",label:n("home"),icon:QZ},{id:"transactions",label:n("transactions"),icon:Lc},{id:"goals",label:n("goals"),icon:el},{id:"more",label:n("more"),icon:cJ}];return f.jsxs("nav",{className:"fixed bottom-safe bottom-0 left-0 right-0 z-50 bg-surface/95 backdrop-blur-lg border-t border-border elevation-4",children:[f.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-around h-16 px-2",children:r.map(i=>{const s=i.icon,a=t===i.id;return f.jsxs("button",{onClick:()=>e(i.id),className:`
                flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl
                transition-all duration-200 min-w-0 flex-1 max-w-[80px]
                active:scale-95
                ${a?"text-primary bg-primary-container/60 shadow-sm":"text-on-surface-variant hover:bg-surface-variant/40 hover:text-foreground"}
              `,children:[f.jsx(s,{className:`h-5 w-5 shrink-0 transition-all ${a?"fill-primary/20 scale-110":""}`}),f.jsx("span",{className:`text-xs truncate w-full text-center transition-all ${a?"font-medium":""}`,children:i.label})]},i.id)})}),f.jsx("div",{className:"absolute top-0 left-0 h-0.5 bg-primary transition-all duration-300 ease-out",style:{width:"25%",transform:`translateX(${r.findIndex(i=>i.id===t)*100}%)`}})]})}const QTe="/assets/kharchapal-5yiOkW9g.png";function ZTe({onAddExpense:t,onAddIncome:e,onAddGoal:n,onSettleDebt:r}){const[i,s]=C.useState(!1),a=o=>{jh.impact({style:Eh.Light}),s(!1),setTimeout(o,150)};return f.jsxs(ey,{open:i,onOpenChange:s,children:[f.jsx(one,{asChild:!0,children:f.jsx(ue,{size:"icon",className:"h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 transition-transform hover:scale-105 active:scale-95",onClick:()=>jh.impact({style:Eh.Medium}),children:f.jsx(Br,{className:`h-8 w-8 transition-transform duration-300 ${i?"rotate-45":""}`})})}),f.jsxs(ty,{side:"bottom",className:"pb-8 rounded-t-3xl",children:[f.jsx(gE,{className:"mb-6 text-center",children:f.jsx(ny,{children:"Quick Actions"})}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(ue,{variant:"outline",className:"h-24 flex flex-col gap-2 border-2 hover:border-red-500/50 hover:bg-red-50 dark:hover:bg-red-950/20",onClick:()=>a(t),children:[f.jsx("div",{className:"p-2 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600",children:f.jsx(so,{className:"h-6 w-6"})}),f.jsx("span",{className:"font-medium",children:"Add Expense"})]}),f.jsxs(ue,{variant:"outline",className:"h-24 flex flex-col gap-2 border-2 hover:border-green-500/50 hover:bg-green-50 dark:hover:bg-green-950/20",onClick:()=>a(e),children:[f.jsx("div",{className:"p-2 rounded-full bg-green-100 dark:bg-green-900/30 text-green-600",children:f.jsx(ii,{className:"h-6 w-6"})}),f.jsx("span",{className:"font-medium",children:"Add Income"})]}),f.jsxs(ue,{variant:"outline",className:"h-24 flex flex-col gap-2 border-2 hover:border-blue-500/50 hover:bg-blue-50 dark:hover:bg-blue-950/20",onClick:()=>a(n),children:[f.jsx("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900/30 text-blue-600",children:f.jsx(el,{className:"h-6 w-6"})}),f.jsx("span",{className:"font-medium",children:"New Goal"})]}),f.jsxs(ue,{variant:"outline",className:"h-24 flex flex-col gap-2 border-2 hover:border-orange-500/50 hover:bg-orange-50 dark:hover:bg-orange-950/20",onClick:()=>a(r),children:[f.jsx("div",{className:"p-2 rounded-full bg-orange-100 dark:bg-orange-900/30 text-orange-600",children:f.jsx(tl,{className:"h-6 w-6"})}),f.jsx("span",{className:"font-medium",children:"Settle Debt"})]})]})]})]})}function JTe(){const{currentUser:t,currentFamily:e}=ot(),{t:n}=ma(),[r,i]=C.useState("home"),[s,a]=C.useState("expenses"),[o,l]=C.useState(!1),[c,h]=C.useState("expense"),[d,m]=C.useState(!1),[g,x]=C.useState(!1),[v,b]=C.useState(!1),[w,_]=C.useState(!1),[A,T]=C.useState(!1),[P,E]=C.useState(!1),[k,O]=C.useState({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),[D,F]=C.useState(!1),M=H=>{O(H),F(H.searchQuery!==""||H.timeRange!=="all"||H.category!=="All Categories"||H.mode!=="All Modes"),E(!1)},R=()=>{O({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),F(!1)},$=r==="home"||r==="transactions";return v?f.jsx(aje,{onBack:()=>b(!1)}):w?f.jsxs("div",{className:"min-h-screen bg-background pb-safe",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10 pt-safe",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4 flex items-center gap-3",children:[f.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>_(!1),className:"text-primary-foreground hover:bg-primary-foreground/10",children:f.jsx(jf,{className:"h-6 w-6"})}),f.jsx("h1",{className:"text-xl font-semibold",children:"Debt History"})]})}),f.jsx("main",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsx(OH,{})})]}):f.jsxs("div",{className:"min-h-screen bg-background pb-safe",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10 pt-safe",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:QTe,alt:"KharchaPal",className:"h-8 w-8"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{className:"truncate",children:e?.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-sm opacity-90 truncate",children:t?.name}),t?.role==="admin"&&f.jsx(Jt,{variant:"secondary",className:"text-xs bg-primary-container text-on-primary-container shrink-0",children:"Admin"})]})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-4 pb-4",children:[r==="home"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-5 border border-primary/20",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-purple-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:f.jsx("span",{className:"text-2xl font-bold",children:""})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[n("welcome"),", ",t?.name,"! "]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:new Date().toLocaleDateString("en-IN",{month:"long",year:"numeric"})})]})]}),f.jsx("div",{className:"text-4xl",children:new Date().getHours()<12?"":new Date().getHours()<17?"":""})]})}),f.jsx(Che,{}),f.jsx(Phe,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(uE,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-green-900 dark:text-green-100",children:n("quick_add")}),f.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:n("quick_add_desc")})]})]}),f.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(qv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:n("import_upi")}),f.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:n("import_upi_desc")})]})]})]}),f.jsx(Cee,{}),f.jsx(Pee,{onShowHistory:()=>_(!0)}),f.jsx(dee,{}),f.jsx(fee,{}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3",children:n("recent_transactions")}),f.jsxs(Hc,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(qc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Fr,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Fr,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(Za,{value:"expenses",className:"mt-4",children:f.jsx(mM,{})}),f.jsx(Za,{value:"income",className:"mt-4",children:f.jsx(vM,{})})]})]})]}),r==="transactions"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{children:n("transactions")}),f.jsxs("div",{className:"flex items-center gap-2",children:[D&&f.jsxs(ue,{variant:"ghost",size:"sm",onClick:R,className:"gap-2 h-9 px-3",children:[f.jsx(Pu,{className:"h-4 w-4"}),"Clear Filters"]}),f.jsxs(ue,{variant:D?"default":"outline",size:"sm",onClick:()=>E(!0),className:"gap-2",children:[f.jsx(WZ,{className:"h-4 w-4"}),"Filter",D&&f.jsx(Jt,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs",children:"On"})]})]})]}),f.jsxs(Hc,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(qc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Fr,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Fr,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(Za,{value:"expenses",className:"mt-4",children:f.jsx(mM,{filters:k})}),f.jsx(Za,{value:"income",className:"mt-4",children:f.jsx(vM,{filters:k})})]})]}),r==="goals"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{children:n("savings_goals")}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your financial targets"})]}),f.jsxs(ue,{size:"sm",onClick:()=>T(!0),className:"gap-2",children:[f.jsx(Br,{className:"h-4 w-4"}),"Add Goal"]})]}),f.jsx(Dse,{})]}),r==="more"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{children:n("more_options")}),f.jsx(YTe,{onShowReports:()=>b(!0)})]})]}),f.jsx(XTe,{activeTab:r,onTabChange:i}),$&&f.jsx("div",{className:"fixed right-4 z-40",style:{bottom:"calc(max(env(safe-area-inset-bottom), 16px) + 84px)"},children:f.jsx(ZTe,{onAddExpense:()=>{h("expense"),l(!0)},onAddIncome:()=>{h("income"),l(!0)},onAddGoal:()=>T(!0),onSettleDebt:()=>_(!0)})}),f.jsx(Qce,{open:o,onClose:()=>l(!1),defaultType:c}),f.jsx(eue,{open:d,onClose:()=>m(!1)}),f.jsx(xhe,{open:g,onClose:()=>x(!1)}),f.jsx(rV,{open:A,onClose:()=>T(!1)}),f.jsx(Ahe,{open:P,onClose:()=>E(!1),onApplyFilters:M})]})}var eke=(t,e,n,r,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function h(g){(Array.isArray(t)?t:[t]).forEach(x=>{let v=x==="class",b=v&&s?i.map(w=>s[w]||w):i;v?(l.classList.remove(...b),l.classList.add(s&&s[g]?s[g]:g)):l.setAttribute(x,g)}),d(g)}function d(g){o&&c.includes(g)&&(l.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)h(r);else try{let g=localStorage.getItem(e)||n,x=a&&g==="system"?m():g;h(x)}catch{}},tke=C.createContext(void 0),nke={setTheme:t=>{},themes:[]},rke=()=>{var t;return(t=C.useContext(tke))!=null?t:nke};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let h=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return C.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${eke.toString()})(${h})`}})});const ike=({...t})=>{const{theme:e="system"}=rke();return f.jsx(use,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};var _P;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(_P||(_P={}));var o3;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(o3||(o3={}));const Q_=Ou("StatusBar"),ske=Ou("Device",{web:()=>nz(()=>import("./web-CAZzPAhd.js"),[]).then(t=>new t.DeviceWeb)}),ake=Ou("EdgeToEdge",{});function oke(){const{recurringTransactions:t,expenses:e,income:n,debts:r,currentUser:i}=ot();return C.useEffect(()=>{if(!i)return;const s=()=>{const o=new Date,l=localStorage.getItem("lastNotificationCheck"),c=localStorage.getItem("lastDailyBrief");if(!l||!Tn(Nd(l),o)){const h=rr(o,1);t.forEach(d=>{if(!d.is_active)return;const m=Nd(d.next_due_date);Tn(m,h)&&ke.info(`Upcoming Payment: ${d.description}`,{description:`${d.currency} ${d.amount} is due tomorrow!`,duration:8e3})}),localStorage.setItem("lastNotificationCheck",o.toISOString())}if((!c||!Tn(Nd(c),o))&&o.getHours()>=9){const h=rr(o,-1),d=e.filter(g=>Tn(Nd(g.date),h)).reduce((g,x)=>g+x.total_amount,0),m=n.filter(g=>Tn(Nd(g.date),h)).reduce((g,x)=>g+x.amount,0);(d>0||m>0)&&ke.message("Daily Brief ",{description:`Yesterday: Spent ${d}, Earned ${m}`,duration:8e3}),localStorage.setItem("lastDailyBrief",o.toISOString())}};s();const a=setInterval(s,6e4);return()=>clearInterval(a)},[t,e,n,r,i]),null}function lke(){const{currentUser:t,currentFamily:e,isLoading:n}=ot(),[r,i]=C.useState("welcome"),[s,a]=C.useState(!1);C.useEffect(()=>{Ph.isNativePlatform()&&(Q_.setStyle({style:_P.Light}),Q_.setBackgroundColor({color:"#4F46E5"}),Q_.show())},[]),C.useEffect(()=>{(async()=>{if(Ph.isNativePlatform())try{const{osVersion:c}=await ske.getInfo();+c>=15&&await ake.enable()}catch(c){console.warn("EdgeToEdge not supported or failed to enable:",c)}})()},[]),C.useEffect(()=>{if(n){const l=setTimeout(()=>{a(!0)},5e3);return()=>clearTimeout(l)}else a(!1)},[n]);const o=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())};return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-tertiary/5 p-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-6",children:f.jsx("div",{className:"text-7xl animate-pulse",children:""})}),f.jsx("h2",{className:"text-2xl mb-2 text-primary",children:"KharchaPal"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Loading your expenses..."}),f.jsx("div",{className:"w-48 h-1 bg-surface-variant rounded-full mx-auto overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary rounded-full animate-[loading_1.5s_ease-in-out_infinite]"})}),s&&f.jsxs("div",{className:"mt-8 p-6 bg-error-container/20 border-2 border-destructive/20 rounded-xl elevation-2",children:[f.jsx("p",{className:"text-sm mb-4 text-on-error-container",children:"Taking longer than usual?"}),f.jsx("button",{onClick:o,className:"px-6 py-3 bg-destructive text-destructive-foreground rounded-xl hover:bg-destructive/90 transition-all duration-200 elevation-1 hover:elevation-2",children:"Reset App Data"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Check the console (F12) for error details"})]})]})}):t&&e?f.jsxs(f.Fragment,{children:[f.jsx(oke,{}),f.jsx(JTe,{})]}):f.jsxs(f.Fragment,{children:[r==="welcome"&&f.jsx(YJ,{onCreateFamily:()=>i("create"),onJoinFamily:()=>i("join")}),r==="create"&&f.jsx(cee,{onComplete:()=>{},onBack:()=>i("welcome")}),r==="join"&&f.jsx(uee,{onComplete:()=>{},onBack:()=>i("welcome")})]})}function cke(){return f.jsx(p9,{children:f.jsxs(GJ,{children:[f.jsx(lke,{}),f.jsx(ike,{position:"top-center"})]})})}d9.createRoot(document.getElementById("root")).render(f.jsx(cke,{}));export{Eh as I,Pg as N,rz as W};
