function qG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lx={exports:{}},wd={},Fx={exports:{}},nt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UN;function GG(){if(UN)return nt;UN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function m(B){return B===null||typeof B!="object"?null:(B=h&&B[h]||B["@@iterator"],typeof B=="function"?B:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,y={};function b(B,K,Z){this.props=B,this.context=K,this.refs=y,this.updater=Z||g}b.prototype.isReactComponent={},b.prototype.setState=function(B,K){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,K,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function A(B,K,Z){this.props=B,this.context=K,this.refs=y,this.updater=Z||g}var _=A.prototype=new w;_.constructor=A,x(_,b.prototype),_.isPureReactComponent=!0;var E=Array.isArray,P=Object.prototype.hasOwnProperty,T={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function O(B,K,Z){var ae,ce={},pe=null,ie=null;if(K!=null)for(ae in K.ref!==void 0&&(ie=K.ref),K.key!==void 0&&(pe=""+K.key),K)P.call(K,ae)&&!k.hasOwnProperty(ae)&&(ce[ae]=K[ae]);var ee=arguments.length-2;if(ee===1)ce.children=Z;else if(1<ee){for(var te=Array(ee),le=0;le<ee;le++)te[le]=arguments[le+2];ce.children=te}if(B&&B.defaultProps)for(ae in ee=B.defaultProps,ee)ce[ae]===void 0&&(ce[ae]=ee[ae]);return{$$typeof:t,type:B,key:pe,ref:ie,props:ce,_owner:T.current}}function R(B,K){return{$$typeof:t,type:B.type,key:K,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function M(B){var K={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Z){return K[Z]})}var D=/\/+/g;function $(B,K){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):K.toString(36)}function W(B,K,Z,ae,ce){var pe=typeof B;(pe==="undefined"||pe==="boolean")&&(B=null);var ie=!1;if(B===null)ie=!0;else switch(pe){case"string":case"number":ie=!0;break;case"object":switch(B.$$typeof){case t:case e:ie=!0}}if(ie)return ie=B,ce=ce(ie),B=ae===""?"."+$(ie,0):ae,E(ce)?(Z="",B!=null&&(Z=B.replace(D,"$&/")+"/"),W(ce,K,Z,"",function(le){return le})):ce!=null&&(F(ce)&&(ce=R(ce,Z+(!ce.key||ie&&ie.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+B)),K.push(ce)),1;if(ie=0,ae=ae===""?".":ae+":",E(B))for(var ee=0;ee<B.length;ee++){pe=B[ee];var te=ae+$(pe,ee);ie+=W(pe,K,Z,te,ce)}else if(te=m(B),typeof te=="function")for(B=te.call(B),ee=0;!(pe=B.next()).done;)pe=pe.value,te=ae+$(pe,ee++),ie+=W(pe,K,Z,te,ce);else if(pe==="object")throw K=String(B),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return ie}function H(B,K,Z){if(B==null)return B;var ae=[],ce=0;return W(B,ae,"","",function(pe){return K.call(Z,pe,ce++)}),ae}function V(B){if(B._status===-1){var K=B._result;K=K(),K.then(function(Z){(B._status===0||B._status===-1)&&(B._status=1,B._result=Z)},function(Z){(B._status===0||B._status===-1)&&(B._status=2,B._result=Z)}),B._status===-1&&(B._status=0,B._result=K)}if(B._status===1)return B._result.default;throw B._result}var U={current:null},L={transition:null},G={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:L,ReactCurrentOwner:T};function Q(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:H,forEach:function(B,K,Z){H(B,function(){K.apply(this,arguments)},Z)},count:function(B){var K=0;return H(B,function(){K++}),K},toArray:function(B){return H(B,function(K){return K})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},nt.Component=b,nt.Fragment=n,nt.Profiler=i,nt.PureComponent=A,nt.StrictMode=r,nt.Suspense=l,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,nt.act=Q,nt.cloneElement=function(B,K,Z){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ae=x({},B.props),ce=B.key,pe=B.ref,ie=B._owner;if(K!=null){if(K.ref!==void 0&&(pe=K.ref,ie=T.current),K.key!==void 0&&(ce=""+K.key),B.type&&B.type.defaultProps)var ee=B.type.defaultProps;for(te in K)P.call(K,te)&&!k.hasOwnProperty(te)&&(ae[te]=K[te]===void 0&&ee!==void 0?ee[te]:K[te])}var te=arguments.length-2;if(te===1)ae.children=Z;else if(1<te){ee=Array(te);for(var le=0;le<te;le++)ee[le]=arguments[le+2];ae.children=ee}return{$$typeof:t,type:B.type,key:ce,ref:pe,props:ae,_owner:ie}},nt.createContext=function(B){return B={$$typeof:a,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},nt.createElement=O,nt.createFactory=function(B){var K=O.bind(null,B);return K.type=B,K},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:o,render:B}},nt.isValidElement=F,nt.lazy=function(B){return{$$typeof:d,_payload:{_status:-1,_result:B},_init:V}},nt.memo=function(B,K){return{$$typeof:c,type:B,compare:K===void 0?null:K}},nt.startTransition=function(B){var K=L.transition;L.transition={};try{B()}finally{L.transition=K}},nt.unstable_act=Q,nt.useCallback=function(B,K){return U.current.useCallback(B,K)},nt.useContext=function(B){return U.current.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B){return U.current.useDeferredValue(B)},nt.useEffect=function(B,K){return U.current.useEffect(B,K)},nt.useId=function(){return U.current.useId()},nt.useImperativeHandle=function(B,K,Z){return U.current.useImperativeHandle(B,K,Z)},nt.useInsertionEffect=function(B,K){return U.current.useInsertionEffect(B,K)},nt.useLayoutEffect=function(B,K){return U.current.useLayoutEffect(B,K)},nt.useMemo=function(B,K){return U.current.useMemo(B,K)},nt.useReducer=function(B,K,Z){return U.current.useReducer(B,K,Z)},nt.useRef=function(B){return U.current.useRef(B)},nt.useState=function(B){return U.current.useState(B)},nt.useSyncExternalStore=function(B,K,Z){return U.current.useSyncExternalStore(B,K,Z)},nt.useTransition=function(){return U.current.useTransition()},nt.version="18.3.1",nt}var zN;function Dv(){return zN||(zN=1,Fx.exports=GG()),Fx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VN;function KG(){if(VN)return wd;VN=1;var t=Dv(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(o,l,c){var d,h={},m=null,g=null;c!==void 0&&(m=""+c),l.key!==void 0&&(m=""+l.key),l.ref!==void 0&&(g=l.ref);for(d in l)r.call(l,d)&&!s.hasOwnProperty(d)&&(h[d]=l[d]);if(o&&o.defaultProps)for(d in l=o.defaultProps,l)h[d]===void 0&&(h[d]=l[d]);return{$$typeof:e,type:o,key:m,ref:g,props:h,_owner:i.current}}return wd.Fragment=n,wd.jsx=a,wd.jsxs=a,wd}var WN;function YG(){return WN||(WN=1,Lx.exports=KG()),Lx.exports}var f=YG(),fm={},$x={exports:{}},Nr={},Bx={exports:{}},Ux={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HN;function XG(){return HN||(HN=1,(function(t){function e(L,G){var Q=L.length;L.push(G);e:for(;0<Q;){var B=Q-1>>>1,K=L[B];if(0<i(K,G))L[B]=G,L[Q]=K,Q=B;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var G=L[0],Q=L.pop();if(Q!==G){L[0]=Q;e:for(var B=0,K=L.length,Z=K>>>1;B<Z;){var ae=2*(B+1)-1,ce=L[ae],pe=ae+1,ie=L[pe];if(0>i(ce,Q))pe<K&&0>i(ie,ce)?(L[B]=ie,L[pe]=Q,B=pe):(L[B]=ce,L[ae]=Q,B=ae);else if(pe<K&&0>i(ie,Q))L[B]=ie,L[pe]=Q,B=pe;else break e}}return G}function i(L,G){var Q=L.sortIndex-G.sortIndex;return Q!==0?Q:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,m=3,g=!1,x=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=L)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function E(L){if(y=!1,_(L),!x)if(n(l)!==null)x=!0,V(P);else{var G=n(c);G!==null&&U(E,G.startTime-L)}}function P(L,G){x=!1,y&&(y=!1,w(O),O=-1),g=!0;var Q=m;try{for(_(G),h=n(l);h!==null&&(!(h.expirationTime>G)||L&&!M());){var B=h.callback;if(typeof B=="function"){h.callback=null,m=h.priorityLevel;var K=B(h.expirationTime<=G);G=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),_(G)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var ae=n(c);ae!==null&&U(E,ae.startTime-G),Z=!1}return Z}finally{h=null,m=Q,g=!1}}var T=!1,k=null,O=-1,R=5,F=-1;function M(){return!(t.unstable_now()-F<R)}function D(){if(k!==null){var L=t.unstable_now();F=L;var G=!0;try{G=k(!0,L)}finally{G?$():(T=!1,k=null)}}else T=!1}var $;if(typeof A=="function")$=function(){A(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,H=W.port2;W.port1.onmessage=D,$=function(){H.postMessage(null)}}else $=function(){b(D,0)};function V(L){k=L,T||(T=!0,$())}function U(L,G){O=b(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){x||g||(x=!0,V(P))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var Q=m;m=G;try{return L()}finally{m=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var Q=m;m=L;try{return G()}finally{m=Q}},t.unstable_scheduleCallback=function(L,G,Q){var B=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?B+Q:B):Q=B,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=Q+K,L={id:d++,callback:G,priorityLevel:L,startTime:Q,expirationTime:K,sortIndex:-1},Q>B?(L.sortIndex=Q,e(c,L),n(l)===null&&L===n(c)&&(y?(w(O),O=-1):y=!0,U(E,Q-B))):(L.sortIndex=K,e(l,L),x||g||(x=!0,V(P))),L},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(L){var G=m;return function(){var Q=m;m=G;try{return L.apply(this,arguments)}finally{m=Q}}}})(Ux)),Ux}var qN;function QG(){return qN||(qN=1,Bx.exports=XG()),Bx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN;function ZG(){if(GN)return Nr;GN=1;var t=Dv(),e=QG();function n(u){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+u,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+u+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function s(u,p){a(u,p),a(u+"Capture",p)}function a(u,p){for(i[u]=p,u=0;u<p.length;u++)r.add(p[u])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,c=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function m(u){return l.call(h,u)?!0:l.call(d,u)?!1:c.test(u)?h[u]=!0:(d[u]=!0,!1)}function g(u,p,v,S){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return S?!1:v!==null?!v.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function x(u,p,v,S){if(p===null||typeof p>"u"||g(u,p,v,S))return!0;if(S)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function y(u,p,v,S,j,N,I){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=S,this.attributeNamespace=j,this.mustUseProperty=v,this.propertyName=u,this.type=p,this.sanitizeURL=N,this.removeEmptyString=I}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new y(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var p=u[0];b[p]=new y(p,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new y(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new y(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new y(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new y(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new y(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new y(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new y(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function A(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var p=u.replace(w,A);b[p]=new y(p,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var p=u.replace(w,A);b[p]=new y(p,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var p=u.replace(w,A);b[p]=new y(p,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new y(u,1,!1,u.toLowerCase(),null,!0,!0)});function _(u,p,v,S){var j=b.hasOwnProperty(p)?b[p]:null;(j!==null?j.type!==0:S||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(x(p,v,j,S)&&(v=null),S||j===null?m(p)&&(v===null?u.removeAttribute(p):u.setAttribute(p,""+v)):j.mustUseProperty?u[j.propertyName]=v===null?j.type===3?!1:"":v:(p=j.attributeName,S=j.attributeNamespace,v===null?u.removeAttribute(p):(j=j.type,v=j===3||j===4&&v===!0?"":""+v,S?u.setAttributeNS(S,p,v):u.setAttribute(p,v))))}var E=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),T=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),M=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),L=Symbol.iterator;function G(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var Q=Object.assign,B;function K(u){if(B===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);B=p&&p[1]||""}return`
`+B+u}var Z=!1;function ae(u,p){if(!u||Z)return"";Z=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(se){var S=se}Reflect.construct(u,[],p)}else{try{p.call()}catch(se){S=se}u.call(p.prototype)}else{try{throw Error()}catch(se){S=se}u()}}catch(se){if(se&&S&&typeof se.stack=="string"){for(var j=se.stack.split(`
`),N=S.stack.split(`
`),I=j.length-1,q=N.length-1;1<=I&&0<=q&&j[I]!==N[q];)q--;for(;1<=I&&0<=q;I--,q--)if(j[I]!==N[q]){if(I!==1||q!==1)do if(I--,q--,0>q||j[I]!==N[q]){var Y=`
`+j[I].replace(" at new "," at ");return u.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",u.displayName)),Y}while(1<=I&&0<=q);break}}}finally{Z=!1,Error.prepareStackTrace=v}return(u=u?u.displayName||u.name:"")?K(u):""}function ce(u){switch(u.tag){case 5:return K(u.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return u=ae(u.type,!1),u;case 11:return u=ae(u.type.render,!1),u;case 1:return u=ae(u.type,!0),u;default:return""}}function pe(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case k:return"Fragment";case T:return"Portal";case R:return"Profiler";case O:return"StrictMode";case $:return"Suspense";case W:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case M:return(u.displayName||"Context")+".Consumer";case F:return(u._context.displayName||"Context")+".Provider";case D:var p=u.render;return u=u.displayName,u||(u=p.displayName||p.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case H:return p=u.displayName||null,p!==null?p:pe(u.type)||"Memo";case V:p=u._payload,u=u._init;try{return pe(u(p))}catch{}}return null}function ie(u){var p=u.type;switch(u.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=p.render,u=u.displayName||u.name||"",p.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(p);case 8:return p===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function ee(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function te(u){var p=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function le(u){var p=te(u)?"checked":"value",v=Object.getOwnPropertyDescriptor(u.constructor.prototype,p),S=""+u[p];if(!u.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var j=v.get,N=v.set;return Object.defineProperty(u,p,{configurable:!0,get:function(){return j.call(this)},set:function(I){S=""+I,N.call(this,I)}}),Object.defineProperty(u,p,{enumerable:v.enumerable}),{getValue:function(){return S},setValue:function(I){S=""+I},stopTracking:function(){u._valueTracker=null,delete u[p]}}}}function he(u){u._valueTracker||(u._valueTracker=le(u))}function ne(u){if(!u)return!1;var p=u._valueTracker;if(!p)return!0;var v=p.getValue(),S="";return u&&(S=te(u)?u.checked?"true":"false":u.value),u=S,u!==v?(p.setValue(u),!0):!1}function Me(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function Re(u,p){var v=p.checked;return Q({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??u._wrapperState.initialChecked})}function yt(u,p){var v=p.defaultValue==null?"":p.defaultValue,S=p.checked!=null?p.checked:p.defaultChecked;v=ee(p.value!=null?p.value:v),u._wrapperState={initialChecked:S,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function pt(u,p){p=p.checked,p!=null&&_(u,"checked",p,!1)}function bt(u,p){pt(u,p);var v=ee(p.value),S=p.type;if(v!=null)S==="number"?(v===0&&u.value===""||u.value!=v)&&(u.value=""+v):u.value!==""+v&&(u.value=""+v);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}p.hasOwnProperty("value")?jt(u,p.type,v):p.hasOwnProperty("defaultValue")&&jt(u,p.type,ee(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(u.defaultChecked=!!p.defaultChecked)}function wn(u,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var S=p.type;if(!(S!=="submit"&&S!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+u._wrapperState.initialValue,v||p===u.value||(u.value=p),u.defaultValue=p}v=u.name,v!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,v!==""&&(u.name=v)}function jt(u,p,v){(p!=="number"||Me(u.ownerDocument)!==u)&&(v==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+v&&(u.defaultValue=""+v))}var Cr=Array.isArray;function rr(u,p,v,S){if(u=u.options,p){p={};for(var j=0;j<v.length;j++)p["$"+v[j]]=!0;for(v=0;v<u.length;v++)j=p.hasOwnProperty("$"+u[v].value),u[v].selected!==j&&(u[v].selected=j),j&&S&&(u[v].defaultSelected=!0)}else{for(v=""+ee(v),p=null,j=0;j<u.length;j++){if(u[j].value===v){u[j].selected=!0,S&&(u[j].defaultSelected=!0);return}p!==null||u[j].disabled||(p=u[j])}p!==null&&(p.selected=!0)}}function Rt(u,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return Q({},p,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function Br(u,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(Cr(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}u._wrapperState={initialValue:ee(v)}}function ho(u,p){var v=ee(p.value),S=ee(p.defaultValue);v!=null&&(v=""+v,v!==u.value&&(u.value=v),p.defaultValue==null&&u.defaultValue!==v&&(u.defaultValue=v)),S!=null&&(u.defaultValue=""+S)}function fo(u){var p=u.textContent;p===u._wrapperState.initialValue&&p!==""&&p!==null&&(u.value=p)}function po(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(u,p){return u==null||u==="http://www.w3.org/1999/xhtml"?po(p):u==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var mo,wl=(function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,S,j){MSApp.execUnsafeLocalFunction(function(){return u(p,v,S,j)})}:u})(function(u,p){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=p;else{for(mo=mo||document.createElement("div"),mo.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=mo.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;p.firstChild;)u.appendChild(p.firstChild)}});function si(u,p){if(p){var v=u.firstChild;if(v&&v===u.lastChild&&v.nodeType===3){v.nodeValue=p;return}}u.textContent=p}var da={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ha=["Webkit","ms","Moz","O"];Object.keys(da).forEach(function(u){ha.forEach(function(p){p=p+u.charAt(0).toUpperCase()+u.substring(1),da[p]=da[u]})});function ip(u,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||da.hasOwnProperty(u)&&da[u]?(""+p).trim():p+"px"}function sp(u,p){u=u.style;for(var v in p)if(p.hasOwnProperty(v)){var S=v.indexOf("--")===0,j=ip(v,p[v],S);v==="float"&&(v="cssFloat"),S?u.setProperty(v,j):u[v]=j}}var ap=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sl(u,p){if(p){if(ap[u]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function Fu(u,p){if(u.indexOf("-")===-1)return typeof p.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var go=null;function ai(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var $u=null,fa=null,Ns=null;function Bu(u){if(u=ad(u)){if(typeof $u!="function")throw Error(n(280));var p=u.stateNode;p&&(p=Ep(p),$u(u.stateNode,u.type,p))}}function Ge(u){fa?Ns?Ns.push(u):Ns=[u]:fa=u}function nn(){if(fa){var u=fa,p=Ns;if(Ns=fa=null,Bu(u),p)for(u=0;u<p.length;u++)Bu(p[u])}}function Sn(u,p){return u(p)}function ir(){}var pa=!1;function un(u,p,v){if(pa)return u(p,v);pa=!0;try{return Sn(u,p,v)}finally{pa=!1,(fa!==null||Ns!==null)&&(ir(),nn())}}function Nn(u,p){var v=u.stateNode;if(v===null)return null;var S=Ep(v);if(S===null)return null;v=S[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var ma=!1;if(o)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){ma=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{ma=!1}function Ur(u,p,v,S,j,N,I,q,Y){var se=Array.prototype.slice.call(arguments,3);try{p.apply(v,se)}catch(de){this.onError(de)}}var ga=!1,oi=null,Uu=!1,nb=null,JH={onError:function(u){ga=!0,oi=u}};function eq(u,p,v,S,j,N,I,q,Y){ga=!1,oi=null,Ur.apply(JH,arguments)}function tq(u,p,v,S,j,N,I,q,Y){if(eq.apply(this,arguments),ga){if(ga){var se=oi;ga=!1,oi=null}else throw Error(n(198));Uu||(Uu=!0,nb=se)}}function vo(u){var p=u,v=u;if(u.alternate)for(;p.return;)p=p.return;else{u=p;do p=u,(p.flags&4098)!==0&&(v=p.return),u=p.return;while(u)}return p.tag===3?v:null}function uj(u){if(u.tag===13){var p=u.memoizedState;if(p===null&&(u=u.alternate,u!==null&&(p=u.memoizedState)),p!==null)return p.dehydrated}return null}function dj(u){if(vo(u)!==u)throw Error(n(188))}function nq(u){var p=u.alternate;if(!p){if(p=vo(u),p===null)throw Error(n(188));return p!==u?null:u}for(var v=u,S=p;;){var j=v.return;if(j===null)break;var N=j.alternate;if(N===null){if(S=j.return,S!==null){v=S;continue}break}if(j.child===N.child){for(N=j.child;N;){if(N===v)return dj(j),u;if(N===S)return dj(j),p;N=N.sibling}throw Error(n(188))}if(v.return!==S.return)v=j,S=N;else{for(var I=!1,q=j.child;q;){if(q===v){I=!0,v=j,S=N;break}if(q===S){I=!0,S=j,v=N;break}q=q.sibling}if(!I){for(q=N.child;q;){if(q===v){I=!0,v=N,S=j;break}if(q===S){I=!0,S=N,v=j;break}q=q.sibling}if(!I)throw Error(n(189))}}if(v.alternate!==S)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?u:p}function hj(u){return u=nq(u),u!==null?fj(u):null}function fj(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var p=fj(u);if(p!==null)return p;u=u.sibling}return null}var pj=e.unstable_scheduleCallback,mj=e.unstable_cancelCallback,rq=e.unstable_shouldYield,iq=e.unstable_requestPaint,rn=e.unstable_now,sq=e.unstable_getCurrentPriorityLevel,rb=e.unstable_ImmediatePriority,gj=e.unstable_UserBlockingPriority,op=e.unstable_NormalPriority,aq=e.unstable_LowPriority,vj=e.unstable_IdlePriority,lp=null,ts=null;function oq(u){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(lp,u,void 0,(u.current.flags&128)===128)}catch{}}var Di=Math.clz32?Math.clz32:uq,lq=Math.log,cq=Math.LN2;function uq(u){return u>>>=0,u===0?32:31-(lq(u)/cq|0)|0}var cp=64,up=4194304;function zu(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function dp(u,p){var v=u.pendingLanes;if(v===0)return 0;var S=0,j=u.suspendedLanes,N=u.pingedLanes,I=v&268435455;if(I!==0){var q=I&~j;q!==0?S=zu(q):(N&=I,N!==0&&(S=zu(N)))}else I=v&~j,I!==0?S=zu(I):N!==0&&(S=zu(N));if(S===0)return 0;if(p!==0&&p!==S&&(p&j)===0&&(j=S&-S,N=p&-p,j>=N||j===16&&(N&4194240)!==0))return p;if((S&4)!==0&&(S|=v&16),p=u.entangledLanes,p!==0)for(u=u.entanglements,p&=S;0<p;)v=31-Di(p),j=1<<v,S|=u[v],p&=~j;return S}function dq(u,p){switch(u){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hq(u,p){for(var v=u.suspendedLanes,S=u.pingedLanes,j=u.expirationTimes,N=u.pendingLanes;0<N;){var I=31-Di(N),q=1<<I,Y=j[I];Y===-1?((q&v)===0||(q&S)!==0)&&(j[I]=dq(q,p)):Y<=p&&(u.expiredLanes|=q),N&=~q}}function ib(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function yj(){var u=cp;return cp<<=1,(cp&4194240)===0&&(cp=64),u}function sb(u){for(var p=[],v=0;31>v;v++)p.push(u);return p}function Vu(u,p,v){u.pendingLanes|=p,p!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,p=31-Di(p),u[p]=v}function fq(u,p){var v=u.pendingLanes&~p;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=p,u.mutableReadLanes&=p,u.entangledLanes&=p,p=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<v;){var j=31-Di(v),N=1<<j;p[j]=0,S[j]=-1,u[j]=-1,v&=~N}}function ab(u,p){var v=u.entangledLanes|=p;for(u=u.entanglements;v;){var S=31-Di(v),j=1<<S;j&p|u[S]&p&&(u[S]|=p),v&=~j}}var xt=0;function bj(u){return u&=-u,1<u?4<u?(u&268435455)!==0?16:536870912:4:1}var xj,ob,wj,Sj,_j,lb=!1,hp=[],va=null,ya=null,ba=null,Wu=new Map,Hu=new Map,xa=[],pq="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aj(u,p){switch(u){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ya=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":Wu.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hu.delete(p.pointerId)}}function qu(u,p,v,S,j,N){return u===null||u.nativeEvent!==N?(u={blockedOn:p,domEventName:v,eventSystemFlags:S,nativeEvent:N,targetContainers:[j]},p!==null&&(p=ad(p),p!==null&&ob(p)),u):(u.eventSystemFlags|=S,p=u.targetContainers,j!==null&&p.indexOf(j)===-1&&p.push(j),u)}function mq(u,p,v,S,j){switch(p){case"focusin":return va=qu(va,u,p,v,S,j),!0;case"dragenter":return ya=qu(ya,u,p,v,S,j),!0;case"mouseover":return ba=qu(ba,u,p,v,S,j),!0;case"pointerover":var N=j.pointerId;return Wu.set(N,qu(Wu.get(N)||null,u,p,v,S,j)),!0;case"gotpointercapture":return N=j.pointerId,Hu.set(N,qu(Hu.get(N)||null,u,p,v,S,j)),!0}return!1}function Cj(u){var p=yo(u.target);if(p!==null){var v=vo(p);if(v!==null){if(p=v.tag,p===13){if(p=uj(v),p!==null){u.blockedOn=p,_j(u.priority,function(){wj(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){u.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}u.blockedOn=null}function fp(u){if(u.blockedOn!==null)return!1;for(var p=u.targetContainers;0<p.length;){var v=ub(u.domEventName,u.eventSystemFlags,p[0],u.nativeEvent);if(v===null){v=u.nativeEvent;var S=new v.constructor(v.type,v);go=S,v.target.dispatchEvent(S),go=null}else return p=ad(v),p!==null&&ob(p),u.blockedOn=v,!1;p.shift()}return!0}function Pj(u,p,v){fp(u)&&v.delete(p)}function gq(){lb=!1,va!==null&&fp(va)&&(va=null),ya!==null&&fp(ya)&&(ya=null),ba!==null&&fp(ba)&&(ba=null),Wu.forEach(Pj),Hu.forEach(Pj)}function Gu(u,p){u.blockedOn===p&&(u.blockedOn=null,lb||(lb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,gq)))}function Ku(u){function p(j){return Gu(j,u)}if(0<hp.length){Gu(hp[0],u);for(var v=1;v<hp.length;v++){var S=hp[v];S.blockedOn===u&&(S.blockedOn=null)}}for(va!==null&&Gu(va,u),ya!==null&&Gu(ya,u),ba!==null&&Gu(ba,u),Wu.forEach(p),Hu.forEach(p),v=0;v<xa.length;v++)S=xa[v],S.blockedOn===u&&(S.blockedOn=null);for(;0<xa.length&&(v=xa[0],v.blockedOn===null);)Cj(v),v.blockedOn===null&&xa.shift()}var _l=E.ReactCurrentBatchConfig,pp=!0;function vq(u,p,v,S){var j=xt,N=_l.transition;_l.transition=null;try{xt=1,cb(u,p,v,S)}finally{xt=j,_l.transition=N}}function yq(u,p,v,S){var j=xt,N=_l.transition;_l.transition=null;try{xt=4,cb(u,p,v,S)}finally{xt=j,_l.transition=N}}function cb(u,p,v,S){if(pp){var j=ub(u,p,v,S);if(j===null)Eb(u,p,S,mp,v),Aj(u,S);else if(mq(j,u,p,v,S))S.stopPropagation();else if(Aj(u,S),p&4&&-1<pq.indexOf(u)){for(;j!==null;){var N=ad(j);if(N!==null&&xj(N),N=ub(u,p,v,S),N===null&&Eb(u,p,S,mp,v),N===j)break;j=N}j!==null&&S.stopPropagation()}else Eb(u,p,S,null,v)}}var mp=null;function ub(u,p,v,S){if(mp=null,u=ai(S),u=yo(u),u!==null)if(p=vo(u),p===null)u=null;else if(v=p.tag,v===13){if(u=uj(p),u!==null)return u;u=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;u=null}else p!==u&&(u=null);return mp=u,null}function Ej(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sq()){case rb:return 1;case gj:return 4;case op:case aq:return 16;case vj:return 536870912;default:return 16}default:return 16}}var wa=null,db=null,gp=null;function Tj(){if(gp)return gp;var u,p=db,v=p.length,S,j="value"in wa?wa.value:wa.textContent,N=j.length;for(u=0;u<v&&p[u]===j[u];u++);var I=v-u;for(S=1;S<=I&&p[v-S]===j[N-S];S++);return gp=j.slice(u,1<S?1-S:void 0)}function vp(u){var p=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&p===13&&(u=13)):u=p,u===10&&(u=13),32<=u||u===13?u:0}function yp(){return!0}function jj(){return!1}function zr(u){function p(v,S,j,N,I){this._reactName=v,this._targetInst=j,this.type=S,this.nativeEvent=N,this.target=I,this.currentTarget=null;for(var q in u)u.hasOwnProperty(q)&&(v=u[q],this[q]=v?v(N):N[q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?yp:jj,this.isPropagationStopped=jj,this}return Q(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=yp)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=yp)},persist:function(){},isPersistent:yp}),p}var Al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hb=zr(Al),Yu=Q({},Al,{view:0,detail:0}),bq=zr(Yu),fb,pb,Xu,bp=Q({},Yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gb,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Xu&&(Xu&&u.type==="mousemove"?(fb=u.screenX-Xu.screenX,pb=u.screenY-Xu.screenY):pb=fb=0,Xu=u),fb)},movementY:function(u){return"movementY"in u?u.movementY:pb}}),kj=zr(bp),xq=Q({},bp,{dataTransfer:0}),wq=zr(xq),Sq=Q({},Yu,{relatedTarget:0}),mb=zr(Sq),_q=Q({},Al,{animationName:0,elapsedTime:0,pseudoElement:0}),Aq=zr(_q),Cq=Q({},Al,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Pq=zr(Cq),Eq=Q({},Al,{data:0}),Nj=zr(Eq),Tq={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jq={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kq={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nq(u){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(u):(u=kq[u])?!!p[u]:!1}function gb(){return Nq}var Oq=Q({},Yu,{key:function(u){if(u.key){var p=Tq[u.key]||u.key;if(p!=="Unidentified")return p}return u.type==="keypress"?(u=vp(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?jq[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gb,charCode:function(u){return u.type==="keypress"?vp(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?vp(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),Mq=zr(Oq),Dq=Q({},bp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oj=zr(Dq),Rq=Q({},Yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gb}),Iq=zr(Rq),Lq=Q({},Al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fq=zr(Lq),$q=Q({},bp,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Bq=zr($q),Uq=[9,13,27,32],vb=o&&"CompositionEvent"in window,Qu=null;o&&"documentMode"in document&&(Qu=document.documentMode);var zq=o&&"TextEvent"in window&&!Qu,Mj=o&&(!vb||Qu&&8<Qu&&11>=Qu),Dj=" ",Rj=!1;function Ij(u,p){switch(u){case"keyup":return Uq.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lj(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Cl=!1;function Vq(u,p){switch(u){case"compositionend":return Lj(p);case"keypress":return p.which!==32?null:(Rj=!0,Dj);case"textInput":return u=p.data,u===Dj&&Rj?null:u;default:return null}}function Wq(u,p){if(Cl)return u==="compositionend"||!vb&&Ij(u,p)?(u=Tj(),gp=db=wa=null,Cl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return Mj&&p.locale!=="ko"?null:p.data;default:return null}}var Hq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fj(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p==="input"?!!Hq[u.type]:p==="textarea"}function $j(u,p,v,S){Ge(S),p=Ap(p,"onChange"),0<p.length&&(v=new hb("onChange","change",null,v,S),u.push({event:v,listeners:p}))}var Zu=null,Ju=null;function qq(u){rk(u,0)}function xp(u){var p=kl(u);if(ne(p))return u}function Gq(u,p){if(u==="change")return p}var Bj=!1;if(o){var yb;if(o){var bb="oninput"in document;if(!bb){var Uj=document.createElement("div");Uj.setAttribute("oninput","return;"),bb=typeof Uj.oninput=="function"}yb=bb}else yb=!1;Bj=yb&&(!document.documentMode||9<document.documentMode)}function zj(){Zu&&(Zu.detachEvent("onpropertychange",Vj),Ju=Zu=null)}function Vj(u){if(u.propertyName==="value"&&xp(Ju)){var p=[];$j(p,Ju,u,ai(u)),un(qq,p)}}function Kq(u,p,v){u==="focusin"?(zj(),Zu=p,Ju=v,Zu.attachEvent("onpropertychange",Vj)):u==="focusout"&&zj()}function Yq(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return xp(Ju)}function Xq(u,p){if(u==="click")return xp(p)}function Qq(u,p){if(u==="input"||u==="change")return xp(p)}function Zq(u,p){return u===p&&(u!==0||1/u===1/p)||u!==u&&p!==p}var Ri=typeof Object.is=="function"?Object.is:Zq;function ed(u,p){if(Ri(u,p))return!0;if(typeof u!="object"||u===null||typeof p!="object"||p===null)return!1;var v=Object.keys(u),S=Object.keys(p);if(v.length!==S.length)return!1;for(S=0;S<v.length;S++){var j=v[S];if(!l.call(p,j)||!Ri(u[j],p[j]))return!1}return!0}function Wj(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function Hj(u,p){var v=Wj(u);u=0;for(var S;v;){if(v.nodeType===3){if(S=u+v.textContent.length,u<=p&&S>=p)return{node:v,offset:p-u};u=S}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=Wj(v)}}function qj(u,p){return u&&p?u===p?!0:u&&u.nodeType===3?!1:p&&p.nodeType===3?qj(u,p.parentNode):"contains"in u?u.contains(p):u.compareDocumentPosition?!!(u.compareDocumentPosition(p)&16):!1:!1}function Gj(){for(var u=window,p=Me();p instanceof u.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)u=p.contentWindow;else break;p=Me(u.document)}return p}function xb(u){var p=u&&u.nodeName&&u.nodeName.toLowerCase();return p&&(p==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||p==="textarea"||u.contentEditable==="true")}function Jq(u){var p=Gj(),v=u.focusedElem,S=u.selectionRange;if(p!==v&&v&&v.ownerDocument&&qj(v.ownerDocument.documentElement,v)){if(S!==null&&xb(v)){if(p=S.start,u=S.end,u===void 0&&(u=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(u,v.value.length);else if(u=(p=v.ownerDocument||document)&&p.defaultView||window,u.getSelection){u=u.getSelection();var j=v.textContent.length,N=Math.min(S.start,j);S=S.end===void 0?N:Math.min(S.end,j),!u.extend&&N>S&&(j=S,S=N,N=j),j=Hj(v,N);var I=Hj(v,S);j&&I&&(u.rangeCount!==1||u.anchorNode!==j.node||u.anchorOffset!==j.offset||u.focusNode!==I.node||u.focusOffset!==I.offset)&&(p=p.createRange(),p.setStart(j.node,j.offset),u.removeAllRanges(),N>S?(u.addRange(p),u.extend(I.node,I.offset)):(p.setEnd(I.node,I.offset),u.addRange(p)))}}for(p=[],u=v;u=u.parentNode;)u.nodeType===1&&p.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)u=p[v],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var eG=o&&"documentMode"in document&&11>=document.documentMode,Pl=null,wb=null,td=null,Sb=!1;function Kj(u,p,v){var S=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;Sb||Pl==null||Pl!==Me(S)||(S=Pl,"selectionStart"in S&&xb(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),td&&ed(td,S)||(td=S,S=Ap(wb,"onSelect"),0<S.length&&(p=new hb("onSelect","select",null,p,v),u.push({event:p,listeners:S}),p.target=Pl)))}function wp(u,p){var v={};return v[u.toLowerCase()]=p.toLowerCase(),v["Webkit"+u]="webkit"+p,v["Moz"+u]="moz"+p,v}var El={animationend:wp("Animation","AnimationEnd"),animationiteration:wp("Animation","AnimationIteration"),animationstart:wp("Animation","AnimationStart"),transitionend:wp("Transition","TransitionEnd")},_b={},Yj={};o&&(Yj=document.createElement("div").style,"AnimationEvent"in window||(delete El.animationend.animation,delete El.animationiteration.animation,delete El.animationstart.animation),"TransitionEvent"in window||delete El.transitionend.transition);function Sp(u){if(_b[u])return _b[u];if(!El[u])return u;var p=El[u],v;for(v in p)if(p.hasOwnProperty(v)&&v in Yj)return _b[u]=p[v];return u}var Xj=Sp("animationend"),Qj=Sp("animationiteration"),Zj=Sp("animationstart"),Jj=Sp("transitionend"),ek=new Map,tk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(u,p){ek.set(u,p),s(p,[u])}for(var Ab=0;Ab<tk.length;Ab++){var Cb=tk[Ab],tG=Cb.toLowerCase(),nG=Cb[0].toUpperCase()+Cb.slice(1);Sa(tG,"on"+nG)}Sa(Xj,"onAnimationEnd"),Sa(Qj,"onAnimationIteration"),Sa(Zj,"onAnimationStart"),Sa("dblclick","onDoubleClick"),Sa("focusin","onFocus"),Sa("focusout","onBlur"),Sa(Jj,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rG=new Set("cancel close invalid load scroll toggle".split(" ").concat(nd));function nk(u,p,v){var S=u.type||"unknown-event";u.currentTarget=v,tq(S,p,void 0,u),u.currentTarget=null}function rk(u,p){p=(p&4)!==0;for(var v=0;v<u.length;v++){var S=u[v],j=S.event;S=S.listeners;e:{var N=void 0;if(p)for(var I=S.length-1;0<=I;I--){var q=S[I],Y=q.instance,se=q.currentTarget;if(q=q.listener,Y!==N&&j.isPropagationStopped())break e;nk(j,q,se),N=Y}else for(I=0;I<S.length;I++){if(q=S[I],Y=q.instance,se=q.currentTarget,q=q.listener,Y!==N&&j.isPropagationStopped())break e;nk(j,q,se),N=Y}}}if(Uu)throw u=nb,Uu=!1,nb=null,u}function It(u,p){var v=p[Mb];v===void 0&&(v=p[Mb]=new Set);var S=u+"__bubble";v.has(S)||(ik(p,u,2,!1),v.add(S))}function Pb(u,p,v){var S=0;p&&(S|=4),ik(v,u,S,p)}var _p="_reactListening"+Math.random().toString(36).slice(2);function rd(u){if(!u[_p]){u[_p]=!0,r.forEach(function(v){v!=="selectionchange"&&(rG.has(v)||Pb(v,!1,u),Pb(v,!0,u))});var p=u.nodeType===9?u:u.ownerDocument;p===null||p[_p]||(p[_p]=!0,Pb("selectionchange",!1,p))}}function ik(u,p,v,S){switch(Ej(p)){case 1:var j=vq;break;case 4:j=yq;break;default:j=cb}v=j.bind(null,p,v,u),j=void 0,!ma||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(j=!0),S?j!==void 0?u.addEventListener(p,v,{capture:!0,passive:j}):u.addEventListener(p,v,!0):j!==void 0?u.addEventListener(p,v,{passive:j}):u.addEventListener(p,v,!1)}function Eb(u,p,v,S,j){var N=S;if((p&1)===0&&(p&2)===0&&S!==null)e:for(;;){if(S===null)return;var I=S.tag;if(I===3||I===4){var q=S.stateNode.containerInfo;if(q===j||q.nodeType===8&&q.parentNode===j)break;if(I===4)for(I=S.return;I!==null;){var Y=I.tag;if((Y===3||Y===4)&&(Y=I.stateNode.containerInfo,Y===j||Y.nodeType===8&&Y.parentNode===j))return;I=I.return}for(;q!==null;){if(I=yo(q),I===null)return;if(Y=I.tag,Y===5||Y===6){S=N=I;continue e}q=q.parentNode}}S=S.return}un(function(){var se=N,de=ai(v),fe=[];e:{var ue=ek.get(u);if(ue!==void 0){var be=hb,Ce=u;switch(u){case"keypress":if(vp(v)===0)break e;case"keydown":case"keyup":be=Mq;break;case"focusin":Ce="focus",be=mb;break;case"focusout":Ce="blur",be=mb;break;case"beforeblur":case"afterblur":be=mb;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":be=kj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":be=wq;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":be=Iq;break;case Xj:case Qj:case Zj:be=Aq;break;case Jj:be=Fq;break;case"scroll":be=bq;break;case"wheel":be=Bq;break;case"copy":case"cut":case"paste":be=Pq;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":be=Oj}var je=(p&4)!==0,sn=!je&&u==="scroll",J=je?ue!==null?ue+"Capture":null:ue;je=[];for(var X=se,re;X!==null;){re=X;var me=re.stateNode;if(re.tag===5&&me!==null&&(re=me,J!==null&&(me=Nn(X,J),me!=null&&je.push(id(X,me,re)))),sn)break;X=X.return}0<je.length&&(ue=new be(ue,Ce,null,v,de),fe.push({event:ue,listeners:je}))}}if((p&7)===0){e:{if(ue=u==="mouseover"||u==="pointerover",be=u==="mouseout"||u==="pointerout",ue&&v!==go&&(Ce=v.relatedTarget||v.fromElement)&&(yo(Ce)||Ce[Os]))break e;if((be||ue)&&(ue=de.window===de?de:(ue=de.ownerDocument)?ue.defaultView||ue.parentWindow:window,be?(Ce=v.relatedTarget||v.toElement,be=se,Ce=Ce?yo(Ce):null,Ce!==null&&(sn=vo(Ce),Ce!==sn||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(be=null,Ce=se),be!==Ce)){if(je=kj,me="onMouseLeave",J="onMouseEnter",X="mouse",(u==="pointerout"||u==="pointerover")&&(je=Oj,me="onPointerLeave",J="onPointerEnter",X="pointer"),sn=be==null?ue:kl(be),re=Ce==null?ue:kl(Ce),ue=new je(me,X+"leave",be,v,de),ue.target=sn,ue.relatedTarget=re,me=null,yo(de)===se&&(je=new je(J,X+"enter",Ce,v,de),je.target=re,je.relatedTarget=sn,me=je),sn=me,be&&Ce)t:{for(je=be,J=Ce,X=0,re=je;re;re=Tl(re))X++;for(re=0,me=J;me;me=Tl(me))re++;for(;0<X-re;)je=Tl(je),X--;for(;0<re-X;)J=Tl(J),re--;for(;X--;){if(je===J||J!==null&&je===J.alternate)break t;je=Tl(je),J=Tl(J)}je=null}else je=null;be!==null&&sk(fe,ue,be,je,!1),Ce!==null&&sn!==null&&sk(fe,sn,Ce,je,!0)}}e:{if(ue=se?kl(se):window,be=ue.nodeName&&ue.nodeName.toLowerCase(),be==="select"||be==="input"&&ue.type==="file")var ke=Gq;else if(Fj(ue))if(Bj)ke=Qq;else{ke=Yq;var Ie=Kq}else(be=ue.nodeName)&&be.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(ke=Xq);if(ke&&(ke=ke(u,se))){$j(fe,ke,v,de);break e}Ie&&Ie(u,ue,se),u==="focusout"&&(Ie=ue._wrapperState)&&Ie.controlled&&ue.type==="number"&&jt(ue,"number",ue.value)}switch(Ie=se?kl(se):window,u){case"focusin":(Fj(Ie)||Ie.contentEditable==="true")&&(Pl=Ie,wb=se,td=null);break;case"focusout":td=wb=Pl=null;break;case"mousedown":Sb=!0;break;case"contextmenu":case"mouseup":case"dragend":Sb=!1,Kj(fe,v,de);break;case"selectionchange":if(eG)break;case"keydown":case"keyup":Kj(fe,v,de)}var Le;if(vb)e:{switch(u){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Cl?Ij(u,v)&&(We="onCompositionEnd"):u==="keydown"&&v.keyCode===229&&(We="onCompositionStart");We&&(Mj&&v.locale!=="ko"&&(Cl||We!=="onCompositionStart"?We==="onCompositionEnd"&&Cl&&(Le=Tj()):(wa=de,db="value"in wa?wa.value:wa.textContent,Cl=!0)),Ie=Ap(se,We),0<Ie.length&&(We=new Nj(We,u,null,v,de),fe.push({event:We,listeners:Ie}),Le?We.data=Le:(Le=Lj(v),Le!==null&&(We.data=Le)))),(Le=zq?Vq(u,v):Wq(u,v))&&(se=Ap(se,"onBeforeInput"),0<se.length&&(de=new Nj("onBeforeInput","beforeinput",null,v,de),fe.push({event:de,listeners:se}),de.data=Le))}rk(fe,p)})}function id(u,p,v){return{instance:u,listener:p,currentTarget:v}}function Ap(u,p){for(var v=p+"Capture",S=[];u!==null;){var j=u,N=j.stateNode;j.tag===5&&N!==null&&(j=N,N=Nn(u,v),N!=null&&S.unshift(id(u,N,j)),N=Nn(u,p),N!=null&&S.push(id(u,N,j))),u=u.return}return S}function Tl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function sk(u,p,v,S,j){for(var N=p._reactName,I=[];v!==null&&v!==S;){var q=v,Y=q.alternate,se=q.stateNode;if(Y!==null&&Y===S)break;q.tag===5&&se!==null&&(q=se,j?(Y=Nn(v,N),Y!=null&&I.unshift(id(v,Y,q))):j||(Y=Nn(v,N),Y!=null&&I.push(id(v,Y,q)))),v=v.return}I.length!==0&&u.push({event:p,listeners:I})}var iG=/\r\n?/g,sG=/\u0000|\uFFFD/g;function ak(u){return(typeof u=="string"?u:""+u).replace(iG,`
`).replace(sG,"")}function Cp(u,p,v){if(p=ak(p),ak(u)!==p&&v)throw Error(n(425))}function Pp(){}var Tb=null,jb=null;function kb(u,p){return u==="textarea"||u==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Nb=typeof setTimeout=="function"?setTimeout:void 0,aG=typeof clearTimeout=="function"?clearTimeout:void 0,ok=typeof Promise=="function"?Promise:void 0,oG=typeof queueMicrotask=="function"?queueMicrotask:typeof ok<"u"?function(u){return ok.resolve(null).then(u).catch(lG)}:Nb;function lG(u){setTimeout(function(){throw u})}function Ob(u,p){var v=p,S=0;do{var j=v.nextSibling;if(u.removeChild(v),j&&j.nodeType===8)if(v=j.data,v==="/$"){if(S===0){u.removeChild(j),Ku(p);return}S--}else v!=="$"&&v!=="$?"&&v!=="$!"||S++;v=j}while(v);Ku(p)}function _a(u){for(;u!=null;u=u.nextSibling){var p=u.nodeType;if(p===1||p===3)break;if(p===8){if(p=u.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return u}function lk(u){u=u.previousSibling;for(var p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return u;p--}else v==="/$"&&p++}u=u.previousSibling}return null}var jl=Math.random().toString(36).slice(2),ns="__reactFiber$"+jl,sd="__reactProps$"+jl,Os="__reactContainer$"+jl,Mb="__reactEvents$"+jl,cG="__reactListeners$"+jl,uG="__reactHandles$"+jl;function yo(u){var p=u[ns];if(p)return p;for(var v=u.parentNode;v;){if(p=v[Os]||v[ns]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(u=lk(u);u!==null;){if(v=u[ns])return v;u=lk(u)}return p}u=v,v=u.parentNode}return null}function ad(u){return u=u[ns]||u[Os],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function kl(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Ep(u){return u[sd]||null}var Db=[],Nl=-1;function Aa(u){return{current:u}}function Lt(u){0>Nl||(u.current=Db[Nl],Db[Nl]=null,Nl--)}function kt(u,p){Nl++,Db[Nl]=u.current,u.current=p}var Ca={},sr=Aa(Ca),Pr=Aa(!1),bo=Ca;function Ol(u,p){var v=u.type.contextTypes;if(!v)return Ca;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===p)return S.__reactInternalMemoizedMaskedChildContext;var j={},N;for(N in v)j[N]=p[N];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=p,u.__reactInternalMemoizedMaskedChildContext=j),j}function Er(u){return u=u.childContextTypes,u!=null}function Tp(){Lt(Pr),Lt(sr)}function ck(u,p,v){if(sr.current!==Ca)throw Error(n(168));kt(sr,p),kt(Pr,v)}function uk(u,p,v){var S=u.stateNode;if(p=p.childContextTypes,typeof S.getChildContext!="function")return v;S=S.getChildContext();for(var j in S)if(!(j in p))throw Error(n(108,ie(u)||"Unknown",j));return Q({},v,S)}function jp(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||Ca,bo=sr.current,kt(sr,u),kt(Pr,Pr.current),!0}function dk(u,p,v){var S=u.stateNode;if(!S)throw Error(n(169));v?(u=uk(u,p,bo),S.__reactInternalMemoizedMergedChildContext=u,Lt(Pr),Lt(sr),kt(sr,u)):Lt(Pr),kt(Pr,v)}var Ms=null,kp=!1,Rb=!1;function hk(u){Ms===null?Ms=[u]:Ms.push(u)}function dG(u){kp=!0,hk(u)}function Pa(){if(!Rb&&Ms!==null){Rb=!0;var u=0,p=xt;try{var v=Ms;for(xt=1;u<v.length;u++){var S=v[u];do S=S(!0);while(S!==null)}Ms=null,kp=!1}catch(j){throw Ms!==null&&(Ms=Ms.slice(u+1)),pj(rb,Pa),j}finally{xt=p,Rb=!1}}return null}var Ml=[],Dl=0,Np=null,Op=0,li=[],ci=0,xo=null,Ds=1,Rs="";function wo(u,p){Ml[Dl++]=Op,Ml[Dl++]=Np,Np=u,Op=p}function fk(u,p,v){li[ci++]=Ds,li[ci++]=Rs,li[ci++]=xo,xo=u;var S=Ds;u=Rs;var j=32-Di(S)-1;S&=~(1<<j),v+=1;var N=32-Di(p)+j;if(30<N){var I=j-j%5;N=(S&(1<<I)-1).toString(32),S>>=I,j-=I,Ds=1<<32-Di(p)+j|v<<j|S,Rs=N+u}else Ds=1<<N|v<<j|S,Rs=u}function Ib(u){u.return!==null&&(wo(u,1),fk(u,1,0))}function Lb(u){for(;u===Np;)Np=Ml[--Dl],Ml[Dl]=null,Op=Ml[--Dl],Ml[Dl]=null;for(;u===xo;)xo=li[--ci],li[ci]=null,Rs=li[--ci],li[ci]=null,Ds=li[--ci],li[ci]=null}var Vr=null,Wr=null,Bt=!1,Ii=null;function pk(u,p){var v=fi(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=u,p=u.deletions,p===null?(u.deletions=[v],u.flags|=16):p.push(v)}function mk(u,p){switch(u.tag){case 5:var v=u.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(u.stateNode=p,Vr=u,Wr=_a(p.firstChild),!0):!1;case 6:return p=u.pendingProps===""||p.nodeType!==3?null:p,p!==null?(u.stateNode=p,Vr=u,Wr=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=xo!==null?{id:Ds,overflow:Rs}:null,u.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=fi(18,null,null,0),v.stateNode=p,v.return=u,u.child=v,Vr=u,Wr=null,!0):!1;default:return!1}}function Fb(u){return(u.mode&1)!==0&&(u.flags&128)===0}function $b(u){if(Bt){var p=Wr;if(p){var v=p;if(!mk(u,p)){if(Fb(u))throw Error(n(418));p=_a(v.nextSibling);var S=Vr;p&&mk(u,p)?pk(S,v):(u.flags=u.flags&-4097|2,Bt=!1,Vr=u)}}else{if(Fb(u))throw Error(n(418));u.flags=u.flags&-4097|2,Bt=!1,Vr=u}}}function gk(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;Vr=u}function Mp(u){if(u!==Vr)return!1;if(!Bt)return gk(u),Bt=!0,!1;var p;if((p=u.tag!==3)&&!(p=u.tag!==5)&&(p=u.type,p=p!=="head"&&p!=="body"&&!kb(u.type,u.memoizedProps)),p&&(p=Wr)){if(Fb(u))throw vk(),Error(n(418));for(;p;)pk(u,p),p=_a(p.nextSibling)}if(gk(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,p=0;u;){if(u.nodeType===8){var v=u.data;if(v==="/$"){if(p===0){Wr=_a(u.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}u=u.nextSibling}Wr=null}}else Wr=Vr?_a(u.stateNode.nextSibling):null;return!0}function vk(){for(var u=Wr;u;)u=_a(u.nextSibling)}function Rl(){Wr=Vr=null,Bt=!1}function Bb(u){Ii===null?Ii=[u]:Ii.push(u)}var hG=E.ReactCurrentBatchConfig;function od(u,p,v){if(u=v.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var S=v.stateNode}if(!S)throw Error(n(147,u));var j=S,N=""+u;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===N?p.ref:(p=function(I){var q=j.refs;I===null?delete q[N]:q[N]=I},p._stringRef=N,p)}if(typeof u!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,u))}return u}function Dp(u,p){throw u=Object.prototype.toString.call(p),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":u))}function yk(u){var p=u._init;return p(u._payload)}function bk(u){function p(J,X){if(u){var re=J.deletions;re===null?(J.deletions=[X],J.flags|=16):re.push(X)}}function v(J,X){if(!u)return null;for(;X!==null;)p(J,X),X=X.sibling;return null}function S(J,X){for(J=new Map;X!==null;)X.key!==null?J.set(X.key,X):J.set(X.index,X),X=X.sibling;return J}function j(J,X){return J=Da(J,X),J.index=0,J.sibling=null,J}function N(J,X,re){return J.index=re,u?(re=J.alternate,re!==null?(re=re.index,re<X?(J.flags|=2,X):re):(J.flags|=2,X)):(J.flags|=1048576,X)}function I(J){return u&&J.alternate===null&&(J.flags|=2),J}function q(J,X,re,me){return X===null||X.tag!==6?(X=Nx(re,J.mode,me),X.return=J,X):(X=j(X,re),X.return=J,X)}function Y(J,X,re,me){var ke=re.type;return ke===k?de(J,X,re.props.children,me,re.key):X!==null&&(X.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===V&&yk(ke)===X.type)?(me=j(X,re.props),me.ref=od(J,X,re),me.return=J,me):(me=im(re.type,re.key,re.props,null,J.mode,me),me.ref=od(J,X,re),me.return=J,me)}function se(J,X,re,me){return X===null||X.tag!==4||X.stateNode.containerInfo!==re.containerInfo||X.stateNode.implementation!==re.implementation?(X=Ox(re,J.mode,me),X.return=J,X):(X=j(X,re.children||[]),X.return=J,X)}function de(J,X,re,me,ke){return X===null||X.tag!==7?(X=jo(re,J.mode,me,ke),X.return=J,X):(X=j(X,re),X.return=J,X)}function fe(J,X,re){if(typeof X=="string"&&X!==""||typeof X=="number")return X=Nx(""+X,J.mode,re),X.return=J,X;if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return re=im(X.type,X.key,X.props,null,J.mode,re),re.ref=od(J,null,X),re.return=J,re;case T:return X=Ox(X,J.mode,re),X.return=J,X;case V:var me=X._init;return fe(J,me(X._payload),re)}if(Cr(X)||G(X))return X=jo(X,J.mode,re,null),X.return=J,X;Dp(J,X)}return null}function ue(J,X,re,me){var ke=X!==null?X.key:null;if(typeof re=="string"&&re!==""||typeof re=="number")return ke!==null?null:q(J,X,""+re,me);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case P:return re.key===ke?Y(J,X,re,me):null;case T:return re.key===ke?se(J,X,re,me):null;case V:return ke=re._init,ue(J,X,ke(re._payload),me)}if(Cr(re)||G(re))return ke!==null?null:de(J,X,re,me,null);Dp(J,re)}return null}function be(J,X,re,me,ke){if(typeof me=="string"&&me!==""||typeof me=="number")return J=J.get(re)||null,q(X,J,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case P:return J=J.get(me.key===null?re:me.key)||null,Y(X,J,me,ke);case T:return J=J.get(me.key===null?re:me.key)||null,se(X,J,me,ke);case V:var Ie=me._init;return be(J,X,re,Ie(me._payload),ke)}if(Cr(me)||G(me))return J=J.get(re)||null,de(X,J,me,ke,null);Dp(X,me)}return null}function Ce(J,X,re,me){for(var ke=null,Ie=null,Le=X,We=X=0,Dn=null;Le!==null&&We<re.length;We++){Le.index>We?(Dn=Le,Le=null):Dn=Le.sibling;var ct=ue(J,Le,re[We],me);if(ct===null){Le===null&&(Le=Dn);break}u&&Le&&ct.alternate===null&&p(J,Le),X=N(ct,X,We),Ie===null?ke=ct:Ie.sibling=ct,Ie=ct,Le=Dn}if(We===re.length)return v(J,Le),Bt&&wo(J,We),ke;if(Le===null){for(;We<re.length;We++)Le=fe(J,re[We],me),Le!==null&&(X=N(Le,X,We),Ie===null?ke=Le:Ie.sibling=Le,Ie=Le);return Bt&&wo(J,We),ke}for(Le=S(J,Le);We<re.length;We++)Dn=be(Le,J,We,re[We],me),Dn!==null&&(u&&Dn.alternate!==null&&Le.delete(Dn.key===null?We:Dn.key),X=N(Dn,X,We),Ie===null?ke=Dn:Ie.sibling=Dn,Ie=Dn);return u&&Le.forEach(function(Ra){return p(J,Ra)}),Bt&&wo(J,We),ke}function je(J,X,re,me){var ke=G(re);if(typeof ke!="function")throw Error(n(150));if(re=ke.call(re),re==null)throw Error(n(151));for(var Ie=ke=null,Le=X,We=X=0,Dn=null,ct=re.next();Le!==null&&!ct.done;We++,ct=re.next()){Le.index>We?(Dn=Le,Le=null):Dn=Le.sibling;var Ra=ue(J,Le,ct.value,me);if(Ra===null){Le===null&&(Le=Dn);break}u&&Le&&Ra.alternate===null&&p(J,Le),X=N(Ra,X,We),Ie===null?ke=Ra:Ie.sibling=Ra,Ie=Ra,Le=Dn}if(ct.done)return v(J,Le),Bt&&wo(J,We),ke;if(Le===null){for(;!ct.done;We++,ct=re.next())ct=fe(J,ct.value,me),ct!==null&&(X=N(ct,X,We),Ie===null?ke=ct:Ie.sibling=ct,Ie=ct);return Bt&&wo(J,We),ke}for(Le=S(J,Le);!ct.done;We++,ct=re.next())ct=be(Le,J,We,ct.value,me),ct!==null&&(u&&ct.alternate!==null&&Le.delete(ct.key===null?We:ct.key),X=N(ct,X,We),Ie===null?ke=ct:Ie.sibling=ct,Ie=ct);return u&&Le.forEach(function(HG){return p(J,HG)}),Bt&&wo(J,We),ke}function sn(J,X,re,me){if(typeof re=="object"&&re!==null&&re.type===k&&re.key===null&&(re=re.props.children),typeof re=="object"&&re!==null){switch(re.$$typeof){case P:e:{for(var ke=re.key,Ie=X;Ie!==null;){if(Ie.key===ke){if(ke=re.type,ke===k){if(Ie.tag===7){v(J,Ie.sibling),X=j(Ie,re.props.children),X.return=J,J=X;break e}}else if(Ie.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===V&&yk(ke)===Ie.type){v(J,Ie.sibling),X=j(Ie,re.props),X.ref=od(J,Ie,re),X.return=J,J=X;break e}v(J,Ie);break}else p(J,Ie);Ie=Ie.sibling}re.type===k?(X=jo(re.props.children,J.mode,me,re.key),X.return=J,J=X):(me=im(re.type,re.key,re.props,null,J.mode,me),me.ref=od(J,X,re),me.return=J,J=me)}return I(J);case T:e:{for(Ie=re.key;X!==null;){if(X.key===Ie)if(X.tag===4&&X.stateNode.containerInfo===re.containerInfo&&X.stateNode.implementation===re.implementation){v(J,X.sibling),X=j(X,re.children||[]),X.return=J,J=X;break e}else{v(J,X);break}else p(J,X);X=X.sibling}X=Ox(re,J.mode,me),X.return=J,J=X}return I(J);case V:return Ie=re._init,sn(J,X,Ie(re._payload),me)}if(Cr(re))return Ce(J,X,re,me);if(G(re))return je(J,X,re,me);Dp(J,re)}return typeof re=="string"&&re!==""||typeof re=="number"?(re=""+re,X!==null&&X.tag===6?(v(J,X.sibling),X=j(X,re),X.return=J,J=X):(v(J,X),X=Nx(re,J.mode,me),X.return=J,J=X),I(J)):v(J,X)}return sn}var Il=bk(!0),xk=bk(!1),Rp=Aa(null),Ip=null,Ll=null,Ub=null;function zb(){Ub=Ll=Ip=null}function Vb(u){var p=Rp.current;Lt(Rp),u._currentValue=p}function Wb(u,p,v){for(;u!==null;){var S=u.alternate;if((u.childLanes&p)!==p?(u.childLanes|=p,S!==null&&(S.childLanes|=p)):S!==null&&(S.childLanes&p)!==p&&(S.childLanes|=p),u===v)break;u=u.return}}function Fl(u,p){Ip=u,Ub=Ll=null,u=u.dependencies,u!==null&&u.firstContext!==null&&((u.lanes&p)!==0&&(Tr=!0),u.firstContext=null)}function ui(u){var p=u._currentValue;if(Ub!==u)if(u={context:u,memoizedValue:p,next:null},Ll===null){if(Ip===null)throw Error(n(308));Ll=u,Ip.dependencies={lanes:0,firstContext:u}}else Ll=Ll.next=u;return p}var So=null;function Hb(u){So===null?So=[u]:So.push(u)}function wk(u,p,v,S){var j=p.interleaved;return j===null?(v.next=v,Hb(p)):(v.next=j.next,j.next=v),p.interleaved=v,Is(u,S)}function Is(u,p){u.lanes|=p;var v=u.alternate;for(v!==null&&(v.lanes|=p),v=u,u=u.return;u!==null;)u.childLanes|=p,v=u.alternate,v!==null&&(v.childLanes|=p),v=u,u=u.return;return v.tag===3?v.stateNode:null}var Ea=!1;function qb(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sk(u,p){u=u.updateQueue,p.updateQueue===u&&(p.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Ls(u,p){return{eventTime:u,lane:p,tag:0,payload:null,callback:null,next:null}}function Ta(u,p,v){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,(lt&2)!==0){var j=S.pending;return j===null?p.next=p:(p.next=j.next,j.next=p),S.pending=p,Is(u,v)}return j=S.interleaved,j===null?(p.next=p,Hb(S)):(p.next=j.next,j.next=p),S.interleaved=p,Is(u,v)}function Lp(u,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var S=p.lanes;S&=u.pendingLanes,v|=S,p.lanes=v,ab(u,v)}}function _k(u,p){var v=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,v===S)){var j=null,N=null;if(v=v.firstBaseUpdate,v!==null){do{var I={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};N===null?j=N=I:N=N.next=I,v=v.next}while(v!==null);N===null?j=N=p:N=N.next=p}else j=N=p;v={baseState:S.baseState,firstBaseUpdate:j,lastBaseUpdate:N,shared:S.shared,effects:S.effects},u.updateQueue=v;return}u=v.lastBaseUpdate,u===null?v.firstBaseUpdate=p:u.next=p,v.lastBaseUpdate=p}function Fp(u,p,v,S){var j=u.updateQueue;Ea=!1;var N=j.firstBaseUpdate,I=j.lastBaseUpdate,q=j.shared.pending;if(q!==null){j.shared.pending=null;var Y=q,se=Y.next;Y.next=null,I===null?N=se:I.next=se,I=Y;var de=u.alternate;de!==null&&(de=de.updateQueue,q=de.lastBaseUpdate,q!==I&&(q===null?de.firstBaseUpdate=se:q.next=se,de.lastBaseUpdate=Y))}if(N!==null){var fe=j.baseState;I=0,de=se=Y=null,q=N;do{var ue=q.lane,be=q.eventTime;if((S&ue)===ue){de!==null&&(de=de.next={eventTime:be,lane:0,tag:q.tag,payload:q.payload,callback:q.callback,next:null});e:{var Ce=u,je=q;switch(ue=p,be=v,je.tag){case 1:if(Ce=je.payload,typeof Ce=="function"){fe=Ce.call(be,fe,ue);break e}fe=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=je.payload,ue=typeof Ce=="function"?Ce.call(be,fe,ue):Ce,ue==null)break e;fe=Q({},fe,ue);break e;case 2:Ea=!0}}q.callback!==null&&q.lane!==0&&(u.flags|=64,ue=j.effects,ue===null?j.effects=[q]:ue.push(q))}else be={eventTime:be,lane:ue,tag:q.tag,payload:q.payload,callback:q.callback,next:null},de===null?(se=de=be,Y=fe):de=de.next=be,I|=ue;if(q=q.next,q===null){if(q=j.shared.pending,q===null)break;ue=q,q=ue.next,ue.next=null,j.lastBaseUpdate=ue,j.shared.pending=null}}while(!0);if(de===null&&(Y=fe),j.baseState=Y,j.firstBaseUpdate=se,j.lastBaseUpdate=de,p=j.shared.interleaved,p!==null){j=p;do I|=j.lane,j=j.next;while(j!==p)}else N===null&&(j.shared.lanes=0);Co|=I,u.lanes=I,u.memoizedState=fe}}function Ak(u,p,v){if(u=p.effects,p.effects=null,u!==null)for(p=0;p<u.length;p++){var S=u[p],j=S.callback;if(j!==null){if(S.callback=null,S=v,typeof j!="function")throw Error(n(191,j));j.call(S)}}}var ld={},rs=Aa(ld),cd=Aa(ld),ud=Aa(ld);function _o(u){if(u===ld)throw Error(n(174));return u}function Gb(u,p){switch(kt(ud,p),kt(cd,u),kt(rs,ld),u=p.nodeType,u){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:Lu(null,"");break;default:u=u===8?p.parentNode:p,p=u.namespaceURI||null,u=u.tagName,p=Lu(p,u)}Lt(rs),kt(rs,p)}function $l(){Lt(rs),Lt(cd),Lt(ud)}function Ck(u){_o(ud.current);var p=_o(rs.current),v=Lu(p,u.type);p!==v&&(kt(cd,u),kt(rs,v))}function Kb(u){cd.current===u&&(Lt(rs),Lt(cd))}var Vt=Aa(0);function $p(u){for(var p=u;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var Yb=[];function Xb(){for(var u=0;u<Yb.length;u++)Yb[u]._workInProgressVersionPrimary=null;Yb.length=0}var Bp=E.ReactCurrentDispatcher,Qb=E.ReactCurrentBatchConfig,Ao=0,Wt=null,_n=null,On=null,Up=!1,dd=!1,hd=0,fG=0;function ar(){throw Error(n(321))}function Zb(u,p){if(p===null)return!1;for(var v=0;v<p.length&&v<u.length;v++)if(!Ri(u[v],p[v]))return!1;return!0}function Jb(u,p,v,S,j,N){if(Ao=N,Wt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Bp.current=u===null||u.memoizedState===null?vG:yG,u=v(S,j),dd){N=0;do{if(dd=!1,hd=0,25<=N)throw Error(n(301));N+=1,On=_n=null,p.updateQueue=null,Bp.current=bG,u=v(S,j)}while(dd)}if(Bp.current=Wp,p=_n!==null&&_n.next!==null,Ao=0,On=_n=Wt=null,Up=!1,p)throw Error(n(300));return u}function ex(){var u=hd!==0;return hd=0,u}function is(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return On===null?Wt.memoizedState=On=u:On=On.next=u,On}function di(){if(_n===null){var u=Wt.alternate;u=u!==null?u.memoizedState:null}else u=_n.next;var p=On===null?Wt.memoizedState:On.next;if(p!==null)On=p,_n=u;else{if(u===null)throw Error(n(310));_n=u,u={memoizedState:_n.memoizedState,baseState:_n.baseState,baseQueue:_n.baseQueue,queue:_n.queue,next:null},On===null?Wt.memoizedState=On=u:On=On.next=u}return On}function fd(u,p){return typeof p=="function"?p(u):p}function tx(u){var p=di(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=_n,j=S.baseQueue,N=v.pending;if(N!==null){if(j!==null){var I=j.next;j.next=N.next,N.next=I}S.baseQueue=j=N,v.pending=null}if(j!==null){N=j.next,S=S.baseState;var q=I=null,Y=null,se=N;do{var de=se.lane;if((Ao&de)===de)Y!==null&&(Y=Y.next={lane:0,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),S=se.hasEagerState?se.eagerState:u(S,se.action);else{var fe={lane:de,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null};Y===null?(q=Y=fe,I=S):Y=Y.next=fe,Wt.lanes|=de,Co|=de}se=se.next}while(se!==null&&se!==N);Y===null?I=S:Y.next=q,Ri(S,p.memoizedState)||(Tr=!0),p.memoizedState=S,p.baseState=I,p.baseQueue=Y,v.lastRenderedState=S}if(u=v.interleaved,u!==null){j=u;do N=j.lane,Wt.lanes|=N,Co|=N,j=j.next;while(j!==u)}else j===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function nx(u){var p=di(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=u;var S=v.dispatch,j=v.pending,N=p.memoizedState;if(j!==null){v.pending=null;var I=j=j.next;do N=u(N,I.action),I=I.next;while(I!==j);Ri(N,p.memoizedState)||(Tr=!0),p.memoizedState=N,p.baseQueue===null&&(p.baseState=N),v.lastRenderedState=N}return[N,S]}function Pk(){}function Ek(u,p){var v=Wt,S=di(),j=p(),N=!Ri(S.memoizedState,j);if(N&&(S.memoizedState=j,Tr=!0),S=S.queue,rx(kk.bind(null,v,S,u),[u]),S.getSnapshot!==p||N||On!==null&&On.memoizedState.tag&1){if(v.flags|=2048,pd(9,jk.bind(null,v,S,j,p),void 0,null),Mn===null)throw Error(n(349));(Ao&30)!==0||Tk(v,p,j)}return j}function Tk(u,p,v){u.flags|=16384,u={getSnapshot:p,value:v},p=Wt.updateQueue,p===null?(p={lastEffect:null,stores:null},Wt.updateQueue=p,p.stores=[u]):(v=p.stores,v===null?p.stores=[u]:v.push(u))}function jk(u,p,v,S){p.value=v,p.getSnapshot=S,Nk(p)&&Ok(u)}function kk(u,p,v){return v(function(){Nk(p)&&Ok(u)})}function Nk(u){var p=u.getSnapshot;u=u.value;try{var v=p();return!Ri(u,v)}catch{return!0}}function Ok(u){var p=Is(u,1);p!==null&&Bi(p,u,1,-1)}function Mk(u){var p=is();return typeof u=="function"&&(u=u()),p.memoizedState=p.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fd,lastRenderedState:u},p.queue=u,u=u.dispatch=gG.bind(null,Wt,u),[p.memoizedState,u]}function pd(u,p,v,S){return u={tag:u,create:p,destroy:v,deps:S,next:null},p=Wt.updateQueue,p===null?(p={lastEffect:null,stores:null},Wt.updateQueue=p,p.lastEffect=u.next=u):(v=p.lastEffect,v===null?p.lastEffect=u.next=u:(S=v.next,v.next=u,u.next=S,p.lastEffect=u)),u}function Dk(){return di().memoizedState}function zp(u,p,v,S){var j=is();Wt.flags|=u,j.memoizedState=pd(1|p,v,void 0,S===void 0?null:S)}function Vp(u,p,v,S){var j=di();S=S===void 0?null:S;var N=void 0;if(_n!==null){var I=_n.memoizedState;if(N=I.destroy,S!==null&&Zb(S,I.deps)){j.memoizedState=pd(p,v,N,S);return}}Wt.flags|=u,j.memoizedState=pd(1|p,v,N,S)}function Rk(u,p){return zp(8390656,8,u,p)}function rx(u,p){return Vp(2048,8,u,p)}function Ik(u,p){return Vp(4,2,u,p)}function Lk(u,p){return Vp(4,4,u,p)}function Fk(u,p){if(typeof p=="function")return u=u(),p(u),function(){p(null)};if(p!=null)return u=u(),p.current=u,function(){p.current=null}}function $k(u,p,v){return v=v!=null?v.concat([u]):null,Vp(4,4,Fk.bind(null,p,u),v)}function ix(){}function Bk(u,p){var v=di();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&Zb(p,S[1])?S[0]:(v.memoizedState=[u,p],u)}function Uk(u,p){var v=di();p=p===void 0?null:p;var S=v.memoizedState;return S!==null&&p!==null&&Zb(p,S[1])?S[0]:(u=u(),v.memoizedState=[u,p],u)}function zk(u,p,v){return(Ao&21)===0?(u.baseState&&(u.baseState=!1,Tr=!0),u.memoizedState=v):(Ri(v,p)||(v=yj(),Wt.lanes|=v,Co|=v,u.baseState=!0),p)}function pG(u,p){var v=xt;xt=v!==0&&4>v?v:4,u(!0);var S=Qb.transition;Qb.transition={};try{u(!1),p()}finally{xt=v,Qb.transition=S}}function Vk(){return di().memoizedState}function mG(u,p,v){var S=Oa(u);if(v={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null},Wk(u))Hk(p,v);else if(v=wk(u,p,v,S),v!==null){var j=pr();Bi(v,u,S,j),qk(v,p,S)}}function gG(u,p,v){var S=Oa(u),j={lane:S,action:v,hasEagerState:!1,eagerState:null,next:null};if(Wk(u))Hk(p,j);else{var N=u.alternate;if(u.lanes===0&&(N===null||N.lanes===0)&&(N=p.lastRenderedReducer,N!==null))try{var I=p.lastRenderedState,q=N(I,v);if(j.hasEagerState=!0,j.eagerState=q,Ri(q,I)){var Y=p.interleaved;Y===null?(j.next=j,Hb(p)):(j.next=Y.next,Y.next=j),p.interleaved=j;return}}catch{}finally{}v=wk(u,p,j,S),v!==null&&(j=pr(),Bi(v,u,S,j),qk(v,p,S))}}function Wk(u){var p=u.alternate;return u===Wt||p!==null&&p===Wt}function Hk(u,p){dd=Up=!0;var v=u.pending;v===null?p.next=p:(p.next=v.next,v.next=p),u.pending=p}function qk(u,p,v){if((v&4194240)!==0){var S=p.lanes;S&=u.pendingLanes,v|=S,p.lanes=v,ab(u,v)}}var Wp={readContext:ui,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useInsertionEffect:ar,useLayoutEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useMutableSource:ar,useSyncExternalStore:ar,useId:ar,unstable_isNewReconciler:!1},vG={readContext:ui,useCallback:function(u,p){return is().memoizedState=[u,p===void 0?null:p],u},useContext:ui,useEffect:Rk,useImperativeHandle:function(u,p,v){return v=v!=null?v.concat([u]):null,zp(4194308,4,Fk.bind(null,p,u),v)},useLayoutEffect:function(u,p){return zp(4194308,4,u,p)},useInsertionEffect:function(u,p){return zp(4,2,u,p)},useMemo:function(u,p){var v=is();return p=p===void 0?null:p,u=u(),v.memoizedState=[u,p],u},useReducer:function(u,p,v){var S=is();return p=v!==void 0?v(p):p,S.memoizedState=S.baseState=p,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:p},S.queue=u,u=u.dispatch=mG.bind(null,Wt,u),[S.memoizedState,u]},useRef:function(u){var p=is();return u={current:u},p.memoizedState=u},useState:Mk,useDebugValue:ix,useDeferredValue:function(u){return is().memoizedState=u},useTransition:function(){var u=Mk(!1),p=u[0];return u=pG.bind(null,u[1]),is().memoizedState=u,[p,u]},useMutableSource:function(){},useSyncExternalStore:function(u,p,v){var S=Wt,j=is();if(Bt){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),Mn===null)throw Error(n(349));(Ao&30)!==0||Tk(S,p,v)}j.memoizedState=v;var N={value:v,getSnapshot:p};return j.queue=N,Rk(kk.bind(null,S,N,u),[u]),S.flags|=2048,pd(9,jk.bind(null,S,N,v,p),void 0,null),v},useId:function(){var u=is(),p=Mn.identifierPrefix;if(Bt){var v=Rs,S=Ds;v=(S&~(1<<32-Di(S)-1)).toString(32)+v,p=":"+p+"R"+v,v=hd++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=fG++,p=":"+p+"r"+v.toString(32)+":";return u.memoizedState=p},unstable_isNewReconciler:!1},yG={readContext:ui,useCallback:Bk,useContext:ui,useEffect:rx,useImperativeHandle:$k,useInsertionEffect:Ik,useLayoutEffect:Lk,useMemo:Uk,useReducer:tx,useRef:Dk,useState:function(){return tx(fd)},useDebugValue:ix,useDeferredValue:function(u){var p=di();return zk(p,_n.memoizedState,u)},useTransition:function(){var u=tx(fd)[0],p=di().memoizedState;return[u,p]},useMutableSource:Pk,useSyncExternalStore:Ek,useId:Vk,unstable_isNewReconciler:!1},bG={readContext:ui,useCallback:Bk,useContext:ui,useEffect:rx,useImperativeHandle:$k,useInsertionEffect:Ik,useLayoutEffect:Lk,useMemo:Uk,useReducer:nx,useRef:Dk,useState:function(){return nx(fd)},useDebugValue:ix,useDeferredValue:function(u){var p=di();return _n===null?p.memoizedState=u:zk(p,_n.memoizedState,u)},useTransition:function(){var u=nx(fd)[0],p=di().memoizedState;return[u,p]},useMutableSource:Pk,useSyncExternalStore:Ek,useId:Vk,unstable_isNewReconciler:!1};function Li(u,p){if(u&&u.defaultProps){p=Q({},p),u=u.defaultProps;for(var v in u)p[v]===void 0&&(p[v]=u[v]);return p}return p}function sx(u,p,v,S){p=u.memoizedState,v=v(S,p),v=v==null?p:Q({},p,v),u.memoizedState=v,u.lanes===0&&(u.updateQueue.baseState=v)}var Hp={isMounted:function(u){return(u=u._reactInternals)?vo(u)===u:!1},enqueueSetState:function(u,p,v){u=u._reactInternals;var S=pr(),j=Oa(u),N=Ls(S,j);N.payload=p,v!=null&&(N.callback=v),p=Ta(u,N,j),p!==null&&(Bi(p,u,j,S),Lp(p,u,j))},enqueueReplaceState:function(u,p,v){u=u._reactInternals;var S=pr(),j=Oa(u),N=Ls(S,j);N.tag=1,N.payload=p,v!=null&&(N.callback=v),p=Ta(u,N,j),p!==null&&(Bi(p,u,j,S),Lp(p,u,j))},enqueueForceUpdate:function(u,p){u=u._reactInternals;var v=pr(),S=Oa(u),j=Ls(v,S);j.tag=2,p!=null&&(j.callback=p),p=Ta(u,j,S),p!==null&&(Bi(p,u,S,v),Lp(p,u,S))}};function Gk(u,p,v,S,j,N,I){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,N,I):p.prototype&&p.prototype.isPureReactComponent?!ed(v,S)||!ed(j,N):!0}function Kk(u,p,v){var S=!1,j=Ca,N=p.contextType;return typeof N=="object"&&N!==null?N=ui(N):(j=Er(p)?bo:sr.current,S=p.contextTypes,N=(S=S!=null)?Ol(u,j):Ca),p=new p(v,N),u.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Hp,u.stateNode=p,p._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=j,u.__reactInternalMemoizedMaskedChildContext=N),p}function Yk(u,p,v,S){u=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,S),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,S),p.state!==u&&Hp.enqueueReplaceState(p,p.state,null)}function ax(u,p,v,S){var j=u.stateNode;j.props=v,j.state=u.memoizedState,j.refs={},qb(u);var N=p.contextType;typeof N=="object"&&N!==null?j.context=ui(N):(N=Er(p)?bo:sr.current,j.context=Ol(u,N)),j.state=u.memoizedState,N=p.getDerivedStateFromProps,typeof N=="function"&&(sx(u,p,N,v),j.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(p=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),p!==j.state&&Hp.enqueueReplaceState(j,j.state,null),Fp(u,v,j,S),j.state=u.memoizedState),typeof j.componentDidMount=="function"&&(u.flags|=4194308)}function Bl(u,p){try{var v="",S=p;do v+=ce(S),S=S.return;while(S);var j=v}catch(N){j=`
Error generating stack: `+N.message+`
`+N.stack}return{value:u,source:p,stack:j,digest:null}}function ox(u,p,v){return{value:u,source:null,stack:v??null,digest:p??null}}function lx(u,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var xG=typeof WeakMap=="function"?WeakMap:Map;function Xk(u,p,v){v=Ls(-1,v),v.tag=3,v.payload={element:null};var S=p.value;return v.callback=function(){Zp||(Zp=!0,_x=S),lx(u,p)},v}function Qk(u,p,v){v=Ls(-1,v),v.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var j=p.value;v.payload=function(){return S(j)},v.callback=function(){lx(u,p)}}var N=u.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(v.callback=function(){lx(u,p),typeof S!="function"&&(ka===null?ka=new Set([this]):ka.add(this));var I=p.stack;this.componentDidCatch(p.value,{componentStack:I!==null?I:""})}),v}function Zk(u,p,v){var S=u.pingCache;if(S===null){S=u.pingCache=new xG;var j=new Set;S.set(p,j)}else j=S.get(p),j===void 0&&(j=new Set,S.set(p,j));j.has(v)||(j.add(v),u=DG.bind(null,u,p,v),p.then(u,u))}function Jk(u){do{var p;if((p=u.tag===13)&&(p=u.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return u;u=u.return}while(u!==null);return null}function eN(u,p,v,S,j){return(u.mode&1)===0?(u===p?u.flags|=65536:(u.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=Ls(-1,1),p.tag=2,Ta(v,p,1))),v.lanes|=1),u):(u.flags|=65536,u.lanes=j,u)}var wG=E.ReactCurrentOwner,Tr=!1;function fr(u,p,v,S){p.child=u===null?xk(p,null,v,S):Il(p,u.child,v,S)}function tN(u,p,v,S,j){v=v.render;var N=p.ref;return Fl(p,j),S=Jb(u,p,v,S,N,j),v=ex(),u!==null&&!Tr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~j,Fs(u,p,j)):(Bt&&v&&Ib(p),p.flags|=1,fr(u,p,S,j),p.child)}function nN(u,p,v,S,j){if(u===null){var N=v.type;return typeof N=="function"&&!kx(N)&&N.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=N,rN(u,p,N,S,j)):(u=im(v.type,null,S,p,p.mode,j),u.ref=p.ref,u.return=p,p.child=u)}if(N=u.child,(u.lanes&j)===0){var I=N.memoizedProps;if(v=v.compare,v=v!==null?v:ed,v(I,S)&&u.ref===p.ref)return Fs(u,p,j)}return p.flags|=1,u=Da(N,S),u.ref=p.ref,u.return=p,p.child=u}function rN(u,p,v,S,j){if(u!==null){var N=u.memoizedProps;if(ed(N,S)&&u.ref===p.ref)if(Tr=!1,p.pendingProps=S=N,(u.lanes&j)!==0)(u.flags&131072)!==0&&(Tr=!0);else return p.lanes=u.lanes,Fs(u,p,j)}return cx(u,p,v,S,j)}function iN(u,p,v){var S=p.pendingProps,j=S.children,N=u!==null?u.memoizedState:null;if(S.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(zl,Hr),Hr|=v;else{if((v&1073741824)===0)return u=N!==null?N.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:u,cachePool:null,transitions:null},p.updateQueue=null,kt(zl,Hr),Hr|=u,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=N!==null?N.baseLanes:v,kt(zl,Hr),Hr|=S}else N!==null?(S=N.baseLanes|v,p.memoizedState=null):S=v,kt(zl,Hr),Hr|=S;return fr(u,p,j,v),p.child}function sN(u,p){var v=p.ref;(u===null&&v!==null||u!==null&&u.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function cx(u,p,v,S,j){var N=Er(v)?bo:sr.current;return N=Ol(p,N),Fl(p,j),v=Jb(u,p,v,S,N,j),S=ex(),u!==null&&!Tr?(p.updateQueue=u.updateQueue,p.flags&=-2053,u.lanes&=~j,Fs(u,p,j)):(Bt&&S&&Ib(p),p.flags|=1,fr(u,p,v,j),p.child)}function aN(u,p,v,S,j){if(Er(v)){var N=!0;jp(p)}else N=!1;if(Fl(p,j),p.stateNode===null)Gp(u,p),Kk(p,v,S),ax(p,v,S,j),S=!0;else if(u===null){var I=p.stateNode,q=p.memoizedProps;I.props=q;var Y=I.context,se=v.contextType;typeof se=="object"&&se!==null?se=ui(se):(se=Er(v)?bo:sr.current,se=Ol(p,se));var de=v.getDerivedStateFromProps,fe=typeof de=="function"||typeof I.getSnapshotBeforeUpdate=="function";fe||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(q!==S||Y!==se)&&Yk(p,I,S,se),Ea=!1;var ue=p.memoizedState;I.state=ue,Fp(p,S,I,j),Y=p.memoizedState,q!==S||ue!==Y||Pr.current||Ea?(typeof de=="function"&&(sx(p,v,de,S),Y=p.memoizedState),(q=Ea||Gk(p,v,q,S,ue,Y,se))?(fe||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(p.flags|=4194308)):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=S,p.memoizedState=Y),I.props=S,I.state=Y,I.context=se,S=q):(typeof I.componentDidMount=="function"&&(p.flags|=4194308),S=!1)}else{I=p.stateNode,Sk(u,p),q=p.memoizedProps,se=p.type===p.elementType?q:Li(p.type,q),I.props=se,fe=p.pendingProps,ue=I.context,Y=v.contextType,typeof Y=="object"&&Y!==null?Y=ui(Y):(Y=Er(v)?bo:sr.current,Y=Ol(p,Y));var be=v.getDerivedStateFromProps;(de=typeof be=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(q!==fe||ue!==Y)&&Yk(p,I,S,Y),Ea=!1,ue=p.memoizedState,I.state=ue,Fp(p,S,I,j);var Ce=p.memoizedState;q!==fe||ue!==Ce||Pr.current||Ea?(typeof be=="function"&&(sx(p,v,be,S),Ce=p.memoizedState),(se=Ea||Gk(p,v,se,S,ue,Ce,Y)||!1)?(de||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(S,Ce,Y),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(S,Ce,Y)),typeof I.componentDidUpdate=="function"&&(p.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof I.componentDidUpdate!="function"||q===u.memoizedProps&&ue===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||q===u.memoizedProps&&ue===u.memoizedState||(p.flags|=1024),p.memoizedProps=S,p.memoizedState=Ce),I.props=S,I.state=Ce,I.context=Y,S=se):(typeof I.componentDidUpdate!="function"||q===u.memoizedProps&&ue===u.memoizedState||(p.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||q===u.memoizedProps&&ue===u.memoizedState||(p.flags|=1024),S=!1)}return ux(u,p,v,S,N,j)}function ux(u,p,v,S,j,N){sN(u,p);var I=(p.flags&128)!==0;if(!S&&!I)return j&&dk(p,v,!1),Fs(u,p,N);S=p.stateNode,wG.current=p;var q=I&&typeof v.getDerivedStateFromError!="function"?null:S.render();return p.flags|=1,u!==null&&I?(p.child=Il(p,u.child,null,N),p.child=Il(p,null,q,N)):fr(u,p,q,N),p.memoizedState=S.state,j&&dk(p,v,!0),p.child}function oN(u){var p=u.stateNode;p.pendingContext?ck(u,p.pendingContext,p.pendingContext!==p.context):p.context&&ck(u,p.context,!1),Gb(u,p.containerInfo)}function lN(u,p,v,S,j){return Rl(),Bb(j),p.flags|=256,fr(u,p,v,S),p.child}var dx={dehydrated:null,treeContext:null,retryLane:0};function hx(u){return{baseLanes:u,cachePool:null,transitions:null}}function cN(u,p,v){var S=p.pendingProps,j=Vt.current,N=!1,I=(p.flags&128)!==0,q;if((q=I)||(q=u!==null&&u.memoizedState===null?!1:(j&2)!==0),q?(N=!0,p.flags&=-129):(u===null||u.memoizedState!==null)&&(j|=1),kt(Vt,j&1),u===null)return $b(p),u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?((p.mode&1)===0?p.lanes=1:u.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(I=S.children,u=S.fallback,N?(S=p.mode,N=p.child,I={mode:"hidden",children:I},(S&1)===0&&N!==null?(N.childLanes=0,N.pendingProps=I):N=sm(I,S,0,null),u=jo(u,S,v,null),N.return=p,u.return=p,N.sibling=u,p.child=N,p.child.memoizedState=hx(v),p.memoizedState=dx,u):fx(p,I));if(j=u.memoizedState,j!==null&&(q=j.dehydrated,q!==null))return SG(u,p,I,S,q,j,v);if(N){N=S.fallback,I=p.mode,j=u.child,q=j.sibling;var Y={mode:"hidden",children:S.children};return(I&1)===0&&p.child!==j?(S=p.child,S.childLanes=0,S.pendingProps=Y,p.deletions=null):(S=Da(j,Y),S.subtreeFlags=j.subtreeFlags&14680064),q!==null?N=Da(q,N):(N=jo(N,I,v,null),N.flags|=2),N.return=p,S.return=p,S.sibling=N,p.child=S,S=N,N=p.child,I=u.child.memoizedState,I=I===null?hx(v):{baseLanes:I.baseLanes|v,cachePool:null,transitions:I.transitions},N.memoizedState=I,N.childLanes=u.childLanes&~v,p.memoizedState=dx,S}return N=u.child,u=N.sibling,S=Da(N,{mode:"visible",children:S.children}),(p.mode&1)===0&&(S.lanes=v),S.return=p,S.sibling=null,u!==null&&(v=p.deletions,v===null?(p.deletions=[u],p.flags|=16):v.push(u)),p.child=S,p.memoizedState=null,S}function fx(u,p){return p=sm({mode:"visible",children:p},u.mode,0,null),p.return=u,u.child=p}function qp(u,p,v,S){return S!==null&&Bb(S),Il(p,u.child,null,v),u=fx(p,p.pendingProps.children),u.flags|=2,p.memoizedState=null,u}function SG(u,p,v,S,j,N,I){if(v)return p.flags&256?(p.flags&=-257,S=ox(Error(n(422))),qp(u,p,I,S)):p.memoizedState!==null?(p.child=u.child,p.flags|=128,null):(N=S.fallback,j=p.mode,S=sm({mode:"visible",children:S.children},j,0,null),N=jo(N,j,I,null),N.flags|=2,S.return=p,N.return=p,S.sibling=N,p.child=S,(p.mode&1)!==0&&Il(p,u.child,null,I),p.child.memoizedState=hx(I),p.memoizedState=dx,N);if((p.mode&1)===0)return qp(u,p,I,null);if(j.data==="$!"){if(S=j.nextSibling&&j.nextSibling.dataset,S)var q=S.dgst;return S=q,N=Error(n(419)),S=ox(N,S,void 0),qp(u,p,I,S)}if(q=(I&u.childLanes)!==0,Tr||q){if(S=Mn,S!==null){switch(I&-I){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}j=(j&(S.suspendedLanes|I))!==0?0:j,j!==0&&j!==N.retryLane&&(N.retryLane=j,Is(u,j),Bi(S,u,j,-1))}return jx(),S=ox(Error(n(421))),qp(u,p,I,S)}return j.data==="$?"?(p.flags|=128,p.child=u.child,p=RG.bind(null,u),j._reactRetry=p,null):(u=N.treeContext,Wr=_a(j.nextSibling),Vr=p,Bt=!0,Ii=null,u!==null&&(li[ci++]=Ds,li[ci++]=Rs,li[ci++]=xo,Ds=u.id,Rs=u.overflow,xo=p),p=fx(p,S.children),p.flags|=4096,p)}function uN(u,p,v){u.lanes|=p;var S=u.alternate;S!==null&&(S.lanes|=p),Wb(u.return,p,v)}function px(u,p,v,S,j){var N=u.memoizedState;N===null?u.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:S,tail:v,tailMode:j}:(N.isBackwards=p,N.rendering=null,N.renderingStartTime=0,N.last=S,N.tail=v,N.tailMode=j)}function dN(u,p,v){var S=p.pendingProps,j=S.revealOrder,N=S.tail;if(fr(u,p,S.children,v),S=Vt.current,(S&2)!==0)S=S&1|2,p.flags|=128;else{if(u!==null&&(u.flags&128)!==0)e:for(u=p.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&uN(u,v,p);else if(u.tag===19)uN(u,v,p);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===p)break e;for(;u.sibling===null;){if(u.return===null||u.return===p)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(kt(Vt,S),(p.mode&1)===0)p.memoizedState=null;else switch(j){case"forwards":for(v=p.child,j=null;v!==null;)u=v.alternate,u!==null&&$p(u)===null&&(j=v),v=v.sibling;v=j,v===null?(j=p.child,p.child=null):(j=v.sibling,v.sibling=null),px(p,!1,j,v,N);break;case"backwards":for(v=null,j=p.child,p.child=null;j!==null;){if(u=j.alternate,u!==null&&$p(u)===null){p.child=j;break}u=j.sibling,j.sibling=v,v=j,j=u}px(p,!0,v,null,N);break;case"together":px(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Gp(u,p){(p.mode&1)===0&&u!==null&&(u.alternate=null,p.alternate=null,p.flags|=2)}function Fs(u,p,v){if(u!==null&&(p.dependencies=u.dependencies),Co|=p.lanes,(v&p.childLanes)===0)return null;if(u!==null&&p.child!==u.child)throw Error(n(153));if(p.child!==null){for(u=p.child,v=Da(u,u.pendingProps),p.child=v,v.return=p;u.sibling!==null;)u=u.sibling,v=v.sibling=Da(u,u.pendingProps),v.return=p;v.sibling=null}return p.child}function _G(u,p,v){switch(p.tag){case 3:oN(p),Rl();break;case 5:Ck(p);break;case 1:Er(p.type)&&jp(p);break;case 4:Gb(p,p.stateNode.containerInfo);break;case 10:var S=p.type._context,j=p.memoizedProps.value;kt(Rp,S._currentValue),S._currentValue=j;break;case 13:if(S=p.memoizedState,S!==null)return S.dehydrated!==null?(kt(Vt,Vt.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?cN(u,p,v):(kt(Vt,Vt.current&1),u=Fs(u,p,v),u!==null?u.sibling:null);kt(Vt,Vt.current&1);break;case 19:if(S=(v&p.childLanes)!==0,(u.flags&128)!==0){if(S)return dN(u,p,v);p.flags|=128}if(j=p.memoizedState,j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),kt(Vt,Vt.current),S)break;return null;case 22:case 23:return p.lanes=0,iN(u,p,v)}return Fs(u,p,v)}var hN,mx,fN,pN;hN=function(u,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)u.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},mx=function(){},fN=function(u,p,v,S){var j=u.memoizedProps;if(j!==S){u=p.stateNode,_o(rs.current);var N=null;switch(v){case"input":j=Re(u,j),S=Re(u,S),N=[];break;case"select":j=Q({},j,{value:void 0}),S=Q({},S,{value:void 0}),N=[];break;case"textarea":j=Rt(u,j),S=Rt(u,S),N=[];break;default:typeof j.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Pp)}Sl(v,S);var I;v=null;for(se in j)if(!S.hasOwnProperty(se)&&j.hasOwnProperty(se)&&j[se]!=null)if(se==="style"){var q=j[se];for(I in q)q.hasOwnProperty(I)&&(v||(v={}),v[I]="")}else se!=="dangerouslySetInnerHTML"&&se!=="children"&&se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&se!=="autoFocus"&&(i.hasOwnProperty(se)?N||(N=[]):(N=N||[]).push(se,null));for(se in S){var Y=S[se];if(q=j?.[se],S.hasOwnProperty(se)&&Y!==q&&(Y!=null||q!=null))if(se==="style")if(q){for(I in q)!q.hasOwnProperty(I)||Y&&Y.hasOwnProperty(I)||(v||(v={}),v[I]="");for(I in Y)Y.hasOwnProperty(I)&&q[I]!==Y[I]&&(v||(v={}),v[I]=Y[I])}else v||(N||(N=[]),N.push(se,v)),v=Y;else se==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,q=q?q.__html:void 0,Y!=null&&q!==Y&&(N=N||[]).push(se,Y)):se==="children"?typeof Y!="string"&&typeof Y!="number"||(N=N||[]).push(se,""+Y):se!=="suppressContentEditableWarning"&&se!=="suppressHydrationWarning"&&(i.hasOwnProperty(se)?(Y!=null&&se==="onScroll"&&It("scroll",u),N||q===Y||(N=[])):(N=N||[]).push(se,Y))}v&&(N=N||[]).push("style",v);var se=N;(p.updateQueue=se)&&(p.flags|=4)}},pN=function(u,p,v,S){v!==S&&(p.flags|=4)};function md(u,p){if(!Bt)switch(u.tailMode){case"hidden":p=u.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?u.tail=null:v.sibling=null;break;case"collapsed":v=u.tail;for(var S=null;v!==null;)v.alternate!==null&&(S=v),v=v.sibling;S===null?p||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function or(u){var p=u.alternate!==null&&u.alternate.child===u.child,v=0,S=0;if(p)for(var j=u.child;j!==null;)v|=j.lanes|j.childLanes,S|=j.subtreeFlags&14680064,S|=j.flags&14680064,j.return=u,j=j.sibling;else for(j=u.child;j!==null;)v|=j.lanes|j.childLanes,S|=j.subtreeFlags,S|=j.flags,j.return=u,j=j.sibling;return u.subtreeFlags|=S,u.childLanes=v,p}function AG(u,p,v){var S=p.pendingProps;switch(Lb(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return or(p),null;case 1:return Er(p.type)&&Tp(),or(p),null;case 3:return S=p.stateNode,$l(),Lt(Pr),Lt(sr),Xb(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(Mp(p)?p.flags|=4:u===null||u.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Ii!==null&&(Px(Ii),Ii=null))),mx(u,p),or(p),null;case 5:Kb(p);var j=_o(ud.current);if(v=p.type,u!==null&&p.stateNode!=null)fN(u,p,v,S,j),u.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!S){if(p.stateNode===null)throw Error(n(166));return or(p),null}if(u=_o(rs.current),Mp(p)){S=p.stateNode,v=p.type;var N=p.memoizedProps;switch(S[ns]=p,S[sd]=N,u=(p.mode&1)!==0,v){case"dialog":It("cancel",S),It("close",S);break;case"iframe":case"object":case"embed":It("load",S);break;case"video":case"audio":for(j=0;j<nd.length;j++)It(nd[j],S);break;case"source":It("error",S);break;case"img":case"image":case"link":It("error",S),It("load",S);break;case"details":It("toggle",S);break;case"input":yt(S,N),It("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!N.multiple},It("invalid",S);break;case"textarea":Br(S,N),It("invalid",S)}Sl(v,N),j=null;for(var I in N)if(N.hasOwnProperty(I)){var q=N[I];I==="children"?typeof q=="string"?S.textContent!==q&&(N.suppressHydrationWarning!==!0&&Cp(S.textContent,q,u),j=["children",q]):typeof q=="number"&&S.textContent!==""+q&&(N.suppressHydrationWarning!==!0&&Cp(S.textContent,q,u),j=["children",""+q]):i.hasOwnProperty(I)&&q!=null&&I==="onScroll"&&It("scroll",S)}switch(v){case"input":he(S),wn(S,N,!0);break;case"textarea":he(S),fo(S);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(S.onclick=Pp)}S=j,p.updateQueue=S,S!==null&&(p.flags|=4)}else{I=j.nodeType===9?j:j.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=po(v)),u==="http://www.w3.org/1999/xhtml"?v==="script"?(u=I.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=I.createElement(v,{is:S.is}):(u=I.createElement(v),v==="select"&&(I=u,S.multiple?I.multiple=!0:S.size&&(I.size=S.size))):u=I.createElementNS(u,v),u[ns]=p,u[sd]=S,hN(u,p,!1,!1),p.stateNode=u;e:{switch(I=Fu(v,S),v){case"dialog":It("cancel",u),It("close",u),j=S;break;case"iframe":case"object":case"embed":It("load",u),j=S;break;case"video":case"audio":for(j=0;j<nd.length;j++)It(nd[j],u);j=S;break;case"source":It("error",u),j=S;break;case"img":case"image":case"link":It("error",u),It("load",u),j=S;break;case"details":It("toggle",u),j=S;break;case"input":yt(u,S),j=Re(u,S),It("invalid",u);break;case"option":j=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},j=Q({},S,{value:void 0}),It("invalid",u);break;case"textarea":Br(u,S),j=Rt(u,S),It("invalid",u);break;default:j=S}Sl(v,j),q=j;for(N in q)if(q.hasOwnProperty(N)){var Y=q[N];N==="style"?sp(u,Y):N==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&wl(u,Y)):N==="children"?typeof Y=="string"?(v!=="textarea"||Y!=="")&&si(u,Y):typeof Y=="number"&&si(u,""+Y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(i.hasOwnProperty(N)?Y!=null&&N==="onScroll"&&It("scroll",u):Y!=null&&_(u,N,Y,I))}switch(v){case"input":he(u),wn(u,S,!1);break;case"textarea":he(u),fo(u);break;case"option":S.value!=null&&u.setAttribute("value",""+ee(S.value));break;case"select":u.multiple=!!S.multiple,N=S.value,N!=null?rr(u,!!S.multiple,N,!1):S.defaultValue!=null&&rr(u,!!S.multiple,S.defaultValue,!0);break;default:typeof j.onClick=="function"&&(u.onclick=Pp)}switch(v){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return or(p),null;case 6:if(u&&p.stateNode!=null)pN(u,p,u.memoizedProps,S);else{if(typeof S!="string"&&p.stateNode===null)throw Error(n(166));if(v=_o(ud.current),_o(rs.current),Mp(p)){if(S=p.stateNode,v=p.memoizedProps,S[ns]=p,(N=S.nodeValue!==v)&&(u=Vr,u!==null))switch(u.tag){case 3:Cp(S.nodeValue,v,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&Cp(S.nodeValue,v,(u.mode&1)!==0)}N&&(p.flags|=4)}else S=(v.nodeType===9?v:v.ownerDocument).createTextNode(S),S[ns]=p,p.stateNode=S}return or(p),null;case 13:if(Lt(Vt),S=p.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(Bt&&Wr!==null&&(p.mode&1)!==0&&(p.flags&128)===0)vk(),Rl(),p.flags|=98560,N=!1;else if(N=Mp(p),S!==null&&S.dehydrated!==null){if(u===null){if(!N)throw Error(n(318));if(N=p.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(n(317));N[ns]=p}else Rl(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;or(p),N=!1}else Ii!==null&&(Px(Ii),Ii=null),N=!0;if(!N)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(p.child.flags|=8192,(p.mode&1)!==0&&(u===null||(Vt.current&1)!==0?An===0&&(An=3):jx())),p.updateQueue!==null&&(p.flags|=4),or(p),null);case 4:return $l(),mx(u,p),u===null&&rd(p.stateNode.containerInfo),or(p),null;case 10:return Vb(p.type._context),or(p),null;case 17:return Er(p.type)&&Tp(),or(p),null;case 19:if(Lt(Vt),N=p.memoizedState,N===null)return or(p),null;if(S=(p.flags&128)!==0,I=N.rendering,I===null)if(S)md(N,!1);else{if(An!==0||u!==null&&(u.flags&128)!==0)for(u=p.child;u!==null;){if(I=$p(u),I!==null){for(p.flags|=128,md(N,!1),S=I.updateQueue,S!==null&&(p.updateQueue=S,p.flags|=4),p.subtreeFlags=0,S=v,v=p.child;v!==null;)N=v,u=S,N.flags&=14680066,I=N.alternate,I===null?(N.childLanes=0,N.lanes=u,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=I.childLanes,N.lanes=I.lanes,N.child=I.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=I.memoizedProps,N.memoizedState=I.memoizedState,N.updateQueue=I.updateQueue,N.type=I.type,u=I.dependencies,N.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),v=v.sibling;return kt(Vt,Vt.current&1|2),p.child}u=u.sibling}N.tail!==null&&rn()>Vl&&(p.flags|=128,S=!0,md(N,!1),p.lanes=4194304)}else{if(!S)if(u=$p(I),u!==null){if(p.flags|=128,S=!0,v=u.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),md(N,!0),N.tail===null&&N.tailMode==="hidden"&&!I.alternate&&!Bt)return or(p),null}else 2*rn()-N.renderingStartTime>Vl&&v!==1073741824&&(p.flags|=128,S=!0,md(N,!1),p.lanes=4194304);N.isBackwards?(I.sibling=p.child,p.child=I):(v=N.last,v!==null?v.sibling=I:p.child=I,N.last=I)}return N.tail!==null?(p=N.tail,N.rendering=p,N.tail=p.sibling,N.renderingStartTime=rn(),p.sibling=null,v=Vt.current,kt(Vt,S?v&1|2:v&1),p):(or(p),null);case 22:case 23:return Tx(),S=p.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(p.flags|=8192),S&&(p.mode&1)!==0?(Hr&1073741824)!==0&&(or(p),p.subtreeFlags&6&&(p.flags|=8192)):or(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function CG(u,p){switch(Lb(p),p.tag){case 1:return Er(p.type)&&Tp(),u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 3:return $l(),Lt(Pr),Lt(sr),Xb(),u=p.flags,(u&65536)!==0&&(u&128)===0?(p.flags=u&-65537|128,p):null;case 5:return Kb(p),null;case 13:if(Lt(Vt),u=p.memoizedState,u!==null&&u.dehydrated!==null){if(p.alternate===null)throw Error(n(340));Rl()}return u=p.flags,u&65536?(p.flags=u&-65537|128,p):null;case 19:return Lt(Vt),null;case 4:return $l(),null;case 10:return Vb(p.type._context),null;case 22:case 23:return Tx(),null;case 24:return null;default:return null}}var Kp=!1,lr=!1,PG=typeof WeakSet=="function"?WeakSet:Set,we=null;function Ul(u,p){var v=u.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(S){Xt(u,p,S)}else v.current=null}function gx(u,p,v){try{v()}catch(S){Xt(u,p,S)}}var mN=!1;function EG(u,p){if(Tb=pp,u=Gj(),xb(u)){if("selectionStart"in u)var v={start:u.selectionStart,end:u.selectionEnd};else e:{v=(v=u.ownerDocument)&&v.defaultView||window;var S=v.getSelection&&v.getSelection();if(S&&S.rangeCount!==0){v=S.anchorNode;var j=S.anchorOffset,N=S.focusNode;S=S.focusOffset;try{v.nodeType,N.nodeType}catch{v=null;break e}var I=0,q=-1,Y=-1,se=0,de=0,fe=u,ue=null;t:for(;;){for(var be;fe!==v||j!==0&&fe.nodeType!==3||(q=I+j),fe!==N||S!==0&&fe.nodeType!==3||(Y=I+S),fe.nodeType===3&&(I+=fe.nodeValue.length),(be=fe.firstChild)!==null;)ue=fe,fe=be;for(;;){if(fe===u)break t;if(ue===v&&++se===j&&(q=I),ue===N&&++de===S&&(Y=I),(be=fe.nextSibling)!==null)break;fe=ue,ue=fe.parentNode}fe=be}v=q===-1||Y===-1?null:{start:q,end:Y}}else v=null}v=v||{start:0,end:0}}else v=null;for(jb={focusedElem:u,selectionRange:v},pp=!1,we=p;we!==null;)if(p=we,u=p.child,(p.subtreeFlags&1028)!==0&&u!==null)u.return=p,we=u;else for(;we!==null;){p=we;try{var Ce=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var je=Ce.memoizedProps,sn=Ce.memoizedState,J=p.stateNode,X=J.getSnapshotBeforeUpdate(p.elementType===p.type?je:Li(p.type,je),sn);J.__reactInternalSnapshotBeforeUpdate=X}break;case 3:var re=p.stateNode.containerInfo;re.nodeType===1?re.textContent="":re.nodeType===9&&re.documentElement&&re.removeChild(re.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(me){Xt(p,p.return,me)}if(u=p.sibling,u!==null){u.return=p.return,we=u;break}we=p.return}return Ce=mN,mN=!1,Ce}function gd(u,p,v){var S=p.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var j=S=S.next;do{if((j.tag&u)===u){var N=j.destroy;j.destroy=void 0,N!==void 0&&gx(p,v,N)}j=j.next}while(j!==S)}}function Yp(u,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&u)===u){var S=v.create;v.destroy=S()}v=v.next}while(v!==p)}}function vx(u){var p=u.ref;if(p!==null){var v=u.stateNode;switch(u.tag){case 5:u=v;break;default:u=v}typeof p=="function"?p(u):p.current=u}}function gN(u){var p=u.alternate;p!==null&&(u.alternate=null,gN(p)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(p=u.stateNode,p!==null&&(delete p[ns],delete p[sd],delete p[Mb],delete p[cG],delete p[uG])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function vN(u){return u.tag===5||u.tag===3||u.tag===4}function yN(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||vN(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function yx(u,p,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(u,p):v.insertBefore(u,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(u,v)):(p=v,p.appendChild(u)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=Pp));else if(S!==4&&(u=u.child,u!==null))for(yx(u,p,v),u=u.sibling;u!==null;)yx(u,p,v),u=u.sibling}function bx(u,p,v){var S=u.tag;if(S===5||S===6)u=u.stateNode,p?v.insertBefore(u,p):v.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(bx(u,p,v),u=u.sibling;u!==null;)bx(u,p,v),u=u.sibling}var qn=null,Fi=!1;function ja(u,p,v){for(v=v.child;v!==null;)bN(u,p,v),v=v.sibling}function bN(u,p,v){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(lp,v)}catch{}switch(v.tag){case 5:lr||Ul(v,p);case 6:var S=qn,j=Fi;qn=null,ja(u,p,v),qn=S,Fi=j,qn!==null&&(Fi?(u=qn,v=v.stateNode,u.nodeType===8?u.parentNode.removeChild(v):u.removeChild(v)):qn.removeChild(v.stateNode));break;case 18:qn!==null&&(Fi?(u=qn,v=v.stateNode,u.nodeType===8?Ob(u.parentNode,v):u.nodeType===1&&Ob(u,v),Ku(u)):Ob(qn,v.stateNode));break;case 4:S=qn,j=Fi,qn=v.stateNode.containerInfo,Fi=!0,ja(u,p,v),qn=S,Fi=j;break;case 0:case 11:case 14:case 15:if(!lr&&(S=v.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){j=S=S.next;do{var N=j,I=N.destroy;N=N.tag,I!==void 0&&((N&2)!==0||(N&4)!==0)&&gx(v,p,I),j=j.next}while(j!==S)}ja(u,p,v);break;case 1:if(!lr&&(Ul(v,p),S=v.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=v.memoizedProps,S.state=v.memoizedState,S.componentWillUnmount()}catch(q){Xt(v,p,q)}ja(u,p,v);break;case 21:ja(u,p,v);break;case 22:v.mode&1?(lr=(S=lr)||v.memoizedState!==null,ja(u,p,v),lr=S):ja(u,p,v);break;default:ja(u,p,v)}}function xN(u){var p=u.updateQueue;if(p!==null){u.updateQueue=null;var v=u.stateNode;v===null&&(v=u.stateNode=new PG),p.forEach(function(S){var j=IG.bind(null,u,S);v.has(S)||(v.add(S),S.then(j,j))})}}function $i(u,p){var v=p.deletions;if(v!==null)for(var S=0;S<v.length;S++){var j=v[S];try{var N=u,I=p,q=I;e:for(;q!==null;){switch(q.tag){case 5:qn=q.stateNode,Fi=!1;break e;case 3:qn=q.stateNode.containerInfo,Fi=!0;break e;case 4:qn=q.stateNode.containerInfo,Fi=!0;break e}q=q.return}if(qn===null)throw Error(n(160));bN(N,I,j),qn=null,Fi=!1;var Y=j.alternate;Y!==null&&(Y.return=null),j.return=null}catch(se){Xt(j,p,se)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)wN(p,u),p=p.sibling}function wN(u,p){var v=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if($i(p,u),ss(u),S&4){try{gd(3,u,u.return),Yp(3,u)}catch(je){Xt(u,u.return,je)}try{gd(5,u,u.return)}catch(je){Xt(u,u.return,je)}}break;case 1:$i(p,u),ss(u),S&512&&v!==null&&Ul(v,v.return);break;case 5:if($i(p,u),ss(u),S&512&&v!==null&&Ul(v,v.return),u.flags&32){var j=u.stateNode;try{si(j,"")}catch(je){Xt(u,u.return,je)}}if(S&4&&(j=u.stateNode,j!=null)){var N=u.memoizedProps,I=v!==null?v.memoizedProps:N,q=u.type,Y=u.updateQueue;if(u.updateQueue=null,Y!==null)try{q==="input"&&N.type==="radio"&&N.name!=null&&pt(j,N),Fu(q,I);var se=Fu(q,N);for(I=0;I<Y.length;I+=2){var de=Y[I],fe=Y[I+1];de==="style"?sp(j,fe):de==="dangerouslySetInnerHTML"?wl(j,fe):de==="children"?si(j,fe):_(j,de,fe,se)}switch(q){case"input":bt(j,N);break;case"textarea":ho(j,N);break;case"select":var ue=j._wrapperState.wasMultiple;j._wrapperState.wasMultiple=!!N.multiple;var be=N.value;be!=null?rr(j,!!N.multiple,be,!1):ue!==!!N.multiple&&(N.defaultValue!=null?rr(j,!!N.multiple,N.defaultValue,!0):rr(j,!!N.multiple,N.multiple?[]:"",!1))}j[sd]=N}catch(je){Xt(u,u.return,je)}}break;case 6:if($i(p,u),ss(u),S&4){if(u.stateNode===null)throw Error(n(162));j=u.stateNode,N=u.memoizedProps;try{j.nodeValue=N}catch(je){Xt(u,u.return,je)}}break;case 3:if($i(p,u),ss(u),S&4&&v!==null&&v.memoizedState.isDehydrated)try{Ku(p.containerInfo)}catch(je){Xt(u,u.return,je)}break;case 4:$i(p,u),ss(u);break;case 13:$i(p,u),ss(u),j=u.child,j.flags&8192&&(N=j.memoizedState!==null,j.stateNode.isHidden=N,!N||j.alternate!==null&&j.alternate.memoizedState!==null||(Sx=rn())),S&4&&xN(u);break;case 22:if(de=v!==null&&v.memoizedState!==null,u.mode&1?(lr=(se=lr)||de,$i(p,u),lr=se):$i(p,u),ss(u),S&8192){if(se=u.memoizedState!==null,(u.stateNode.isHidden=se)&&!de&&(u.mode&1)!==0)for(we=u,de=u.child;de!==null;){for(fe=we=de;we!==null;){switch(ue=we,be=ue.child,ue.tag){case 0:case 11:case 14:case 15:gd(4,ue,ue.return);break;case 1:Ul(ue,ue.return);var Ce=ue.stateNode;if(typeof Ce.componentWillUnmount=="function"){S=ue,v=ue.return;try{p=S,Ce.props=p.memoizedProps,Ce.state=p.memoizedState,Ce.componentWillUnmount()}catch(je){Xt(S,v,je)}}break;case 5:Ul(ue,ue.return);break;case 22:if(ue.memoizedState!==null){AN(fe);continue}}be!==null?(be.return=ue,we=be):AN(fe)}de=de.sibling}e:for(de=null,fe=u;;){if(fe.tag===5){if(de===null){de=fe;try{j=fe.stateNode,se?(N=j.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(q=fe.stateNode,Y=fe.memoizedProps.style,I=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,q.style.display=ip("display",I))}catch(je){Xt(u,u.return,je)}}}else if(fe.tag===6){if(de===null)try{fe.stateNode.nodeValue=se?"":fe.memoizedProps}catch(je){Xt(u,u.return,je)}}else if((fe.tag!==22&&fe.tag!==23||fe.memoizedState===null||fe===u)&&fe.child!==null){fe.child.return=fe,fe=fe.child;continue}if(fe===u)break e;for(;fe.sibling===null;){if(fe.return===null||fe.return===u)break e;de===fe&&(de=null),fe=fe.return}de===fe&&(de=null),fe.sibling.return=fe.return,fe=fe.sibling}}break;case 19:$i(p,u),ss(u),S&4&&xN(u);break;case 21:break;default:$i(p,u),ss(u)}}function ss(u){var p=u.flags;if(p&2){try{e:{for(var v=u.return;v!==null;){if(vN(v)){var S=v;break e}v=v.return}throw Error(n(160))}switch(S.tag){case 5:var j=S.stateNode;S.flags&32&&(si(j,""),S.flags&=-33);var N=yN(u);bx(u,N,j);break;case 3:case 4:var I=S.stateNode.containerInfo,q=yN(u);yx(u,q,I);break;default:throw Error(n(161))}}catch(Y){Xt(u,u.return,Y)}u.flags&=-3}p&4096&&(u.flags&=-4097)}function TG(u,p,v){we=u,SN(u)}function SN(u,p,v){for(var S=(u.mode&1)!==0;we!==null;){var j=we,N=j.child;if(j.tag===22&&S){var I=j.memoizedState!==null||Kp;if(!I){var q=j.alternate,Y=q!==null&&q.memoizedState!==null||lr;q=Kp;var se=lr;if(Kp=I,(lr=Y)&&!se)for(we=j;we!==null;)I=we,Y=I.child,I.tag===22&&I.memoizedState!==null?CN(j):Y!==null?(Y.return=I,we=Y):CN(j);for(;N!==null;)we=N,SN(N),N=N.sibling;we=j,Kp=q,lr=se}_N(u)}else(j.subtreeFlags&8772)!==0&&N!==null?(N.return=j,we=N):_N(u)}}function _N(u){for(;we!==null;){var p=we;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:lr||Yp(5,p);break;case 1:var S=p.stateNode;if(p.flags&4&&!lr)if(v===null)S.componentDidMount();else{var j=p.elementType===p.type?v.memoizedProps:Li(p.type,v.memoizedProps);S.componentDidUpdate(j,v.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var N=p.updateQueue;N!==null&&Ak(p,N,S);break;case 3:var I=p.updateQueue;if(I!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}Ak(p,I,v)}break;case 5:var q=p.stateNode;if(v===null&&p.flags&4){v=q;var Y=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&v.focus();break;case"img":Y.src&&(v.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var se=p.alternate;if(se!==null){var de=se.memoizedState;if(de!==null){var fe=de.dehydrated;fe!==null&&Ku(fe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}lr||p.flags&512&&vx(p)}catch(ue){Xt(p,p.return,ue)}}if(p===u){we=null;break}if(v=p.sibling,v!==null){v.return=p.return,we=v;break}we=p.return}}function AN(u){for(;we!==null;){var p=we;if(p===u){we=null;break}var v=p.sibling;if(v!==null){v.return=p.return,we=v;break}we=p.return}}function CN(u){for(;we!==null;){var p=we;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{Yp(4,p)}catch(Y){Xt(p,v,Y)}break;case 1:var S=p.stateNode;if(typeof S.componentDidMount=="function"){var j=p.return;try{S.componentDidMount()}catch(Y){Xt(p,j,Y)}}var N=p.return;try{vx(p)}catch(Y){Xt(p,N,Y)}break;case 5:var I=p.return;try{vx(p)}catch(Y){Xt(p,I,Y)}}}catch(Y){Xt(p,p.return,Y)}if(p===u){we=null;break}var q=p.sibling;if(q!==null){q.return=p.return,we=q;break}we=p.return}}var jG=Math.ceil,Xp=E.ReactCurrentDispatcher,xx=E.ReactCurrentOwner,hi=E.ReactCurrentBatchConfig,lt=0,Mn=null,dn=null,Gn=0,Hr=0,zl=Aa(0),An=0,vd=null,Co=0,Qp=0,wx=0,yd=null,jr=null,Sx=0,Vl=1/0,$s=null,Zp=!1,_x=null,ka=null,Jp=!1,Na=null,em=0,bd=0,Ax=null,tm=-1,nm=0;function pr(){return(lt&6)!==0?rn():tm!==-1?tm:tm=rn()}function Oa(u){return(u.mode&1)===0?1:(lt&2)!==0&&Gn!==0?Gn&-Gn:hG.transition!==null?(nm===0&&(nm=yj()),nm):(u=xt,u!==0||(u=window.event,u=u===void 0?16:Ej(u.type)),u)}function Bi(u,p,v,S){if(50<bd)throw bd=0,Ax=null,Error(n(185));Vu(u,v,S),((lt&2)===0||u!==Mn)&&(u===Mn&&((lt&2)===0&&(Qp|=v),An===4&&Ma(u,Gn)),kr(u,S),v===1&&lt===0&&(p.mode&1)===0&&(Vl=rn()+500,kp&&Pa()))}function kr(u,p){var v=u.callbackNode;hq(u,p);var S=dp(u,u===Mn?Gn:0);if(S===0)v!==null&&mj(v),u.callbackNode=null,u.callbackPriority=0;else if(p=S&-S,u.callbackPriority!==p){if(v!=null&&mj(v),p===1)u.tag===0?dG(EN.bind(null,u)):hk(EN.bind(null,u)),oG(function(){(lt&6)===0&&Pa()}),v=null;else{switch(bj(S)){case 1:v=rb;break;case 4:v=gj;break;case 16:v=op;break;case 536870912:v=vj;break;default:v=op}v=RN(v,PN.bind(null,u))}u.callbackPriority=p,u.callbackNode=v}}function PN(u,p){if(tm=-1,nm=0,(lt&6)!==0)throw Error(n(327));var v=u.callbackNode;if(Wl()&&u.callbackNode!==v)return null;var S=dp(u,u===Mn?Gn:0);if(S===0)return null;if((S&30)!==0||(S&u.expiredLanes)!==0||p)p=rm(u,S);else{p=S;var j=lt;lt|=2;var N=jN();(Mn!==u||Gn!==p)&&($s=null,Vl=rn()+500,Eo(u,p));do try{OG();break}catch(q){TN(u,q)}while(!0);zb(),Xp.current=N,lt=j,dn!==null?p=0:(Mn=null,Gn=0,p=An)}if(p!==0){if(p===2&&(j=ib(u),j!==0&&(S=j,p=Cx(u,j))),p===1)throw v=vd,Eo(u,0),Ma(u,S),kr(u,rn()),v;if(p===6)Ma(u,S);else{if(j=u.current.alternate,(S&30)===0&&!kG(j)&&(p=rm(u,S),p===2&&(N=ib(u),N!==0&&(S=N,p=Cx(u,N))),p===1))throw v=vd,Eo(u,0),Ma(u,S),kr(u,rn()),v;switch(u.finishedWork=j,u.finishedLanes=S,p){case 0:case 1:throw Error(n(345));case 2:To(u,jr,$s);break;case 3:if(Ma(u,S),(S&130023424)===S&&(p=Sx+500-rn(),10<p)){if(dp(u,0)!==0)break;if(j=u.suspendedLanes,(j&S)!==S){pr(),u.pingedLanes|=u.suspendedLanes&j;break}u.timeoutHandle=Nb(To.bind(null,u,jr,$s),p);break}To(u,jr,$s);break;case 4:if(Ma(u,S),(S&4194240)===S)break;for(p=u.eventTimes,j=-1;0<S;){var I=31-Di(S);N=1<<I,I=p[I],I>j&&(j=I),S&=~N}if(S=j,S=rn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*jG(S/1960))-S,10<S){u.timeoutHandle=Nb(To.bind(null,u,jr,$s),S);break}To(u,jr,$s);break;case 5:To(u,jr,$s);break;default:throw Error(n(329))}}}return kr(u,rn()),u.callbackNode===v?PN.bind(null,u):null}function Cx(u,p){var v=yd;return u.current.memoizedState.isDehydrated&&(Eo(u,p).flags|=256),u=rm(u,p),u!==2&&(p=jr,jr=v,p!==null&&Px(p)),u}function Px(u){jr===null?jr=u:jr.push.apply(jr,u)}function kG(u){for(var p=u;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var S=0;S<v.length;S++){var j=v[S],N=j.getSnapshot;j=j.value;try{if(!Ri(N(),j))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===u)break;for(;p.sibling===null;){if(p.return===null||p.return===u)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Ma(u,p){for(p&=~wx,p&=~Qp,u.suspendedLanes|=p,u.pingedLanes&=~p,u=u.expirationTimes;0<p;){var v=31-Di(p),S=1<<v;u[v]=-1,p&=~S}}function EN(u){if((lt&6)!==0)throw Error(n(327));Wl();var p=dp(u,0);if((p&1)===0)return kr(u,rn()),null;var v=rm(u,p);if(u.tag!==0&&v===2){var S=ib(u);S!==0&&(p=S,v=Cx(u,S))}if(v===1)throw v=vd,Eo(u,0),Ma(u,p),kr(u,rn()),v;if(v===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=p,To(u,jr,$s),kr(u,rn()),null}function Ex(u,p){var v=lt;lt|=1;try{return u(p)}finally{lt=v,lt===0&&(Vl=rn()+500,kp&&Pa())}}function Po(u){Na!==null&&Na.tag===0&&(lt&6)===0&&Wl();var p=lt;lt|=1;var v=hi.transition,S=xt;try{if(hi.transition=null,xt=1,u)return u()}finally{xt=S,hi.transition=v,lt=p,(lt&6)===0&&Pa()}}function Tx(){Hr=zl.current,Lt(zl)}function Eo(u,p){u.finishedWork=null,u.finishedLanes=0;var v=u.timeoutHandle;if(v!==-1&&(u.timeoutHandle=-1,aG(v)),dn!==null)for(v=dn.return;v!==null;){var S=v;switch(Lb(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Tp();break;case 3:$l(),Lt(Pr),Lt(sr),Xb();break;case 5:Kb(S);break;case 4:$l();break;case 13:Lt(Vt);break;case 19:Lt(Vt);break;case 10:Vb(S.type._context);break;case 22:case 23:Tx()}v=v.return}if(Mn=u,dn=u=Da(u.current,null),Gn=Hr=p,An=0,vd=null,wx=Qp=Co=0,jr=yd=null,So!==null){for(p=0;p<So.length;p++)if(v=So[p],S=v.interleaved,S!==null){v.interleaved=null;var j=S.next,N=v.pending;if(N!==null){var I=N.next;N.next=j,S.next=I}v.pending=S}So=null}return u}function TN(u,p){do{var v=dn;try{if(zb(),Bp.current=Wp,Up){for(var S=Wt.memoizedState;S!==null;){var j=S.queue;j!==null&&(j.pending=null),S=S.next}Up=!1}if(Ao=0,On=_n=Wt=null,dd=!1,hd=0,xx.current=null,v===null||v.return===null){An=1,vd=p,dn=null;break}e:{var N=u,I=v.return,q=v,Y=p;if(p=Gn,q.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var se=Y,de=q,fe=de.tag;if((de.mode&1)===0&&(fe===0||fe===11||fe===15)){var ue=de.alternate;ue?(de.updateQueue=ue.updateQueue,de.memoizedState=ue.memoizedState,de.lanes=ue.lanes):(de.updateQueue=null,de.memoizedState=null)}var be=Jk(I);if(be!==null){be.flags&=-257,eN(be,I,q,N,p),be.mode&1&&Zk(N,se,p),p=be,Y=se;var Ce=p.updateQueue;if(Ce===null){var je=new Set;je.add(Y),p.updateQueue=je}else Ce.add(Y);break e}else{if((p&1)===0){Zk(N,se,p),jx();break e}Y=Error(n(426))}}else if(Bt&&q.mode&1){var sn=Jk(I);if(sn!==null){(sn.flags&65536)===0&&(sn.flags|=256),eN(sn,I,q,N,p),Bb(Bl(Y,q));break e}}N=Y=Bl(Y,q),An!==4&&(An=2),yd===null?yd=[N]:yd.push(N),N=I;do{switch(N.tag){case 3:N.flags|=65536,p&=-p,N.lanes|=p;var J=Xk(N,Y,p);_k(N,J);break e;case 1:q=Y;var X=N.type,re=N.stateNode;if((N.flags&128)===0&&(typeof X.getDerivedStateFromError=="function"||re!==null&&typeof re.componentDidCatch=="function"&&(ka===null||!ka.has(re)))){N.flags|=65536,p&=-p,N.lanes|=p;var me=Qk(N,q,p);_k(N,me);break e}}N=N.return}while(N!==null)}NN(v)}catch(ke){p=ke,dn===v&&v!==null&&(dn=v=v.return);continue}break}while(!0)}function jN(){var u=Xp.current;return Xp.current=Wp,u===null?Wp:u}function jx(){(An===0||An===3||An===2)&&(An=4),Mn===null||(Co&268435455)===0&&(Qp&268435455)===0||Ma(Mn,Gn)}function rm(u,p){var v=lt;lt|=2;var S=jN();(Mn!==u||Gn!==p)&&($s=null,Eo(u,p));do try{NG();break}catch(j){TN(u,j)}while(!0);if(zb(),lt=v,Xp.current=S,dn!==null)throw Error(n(261));return Mn=null,Gn=0,An}function NG(){for(;dn!==null;)kN(dn)}function OG(){for(;dn!==null&&!rq();)kN(dn)}function kN(u){var p=DN(u.alternate,u,Hr);u.memoizedProps=u.pendingProps,p===null?NN(u):dn=p,xx.current=null}function NN(u){var p=u;do{var v=p.alternate;if(u=p.return,(p.flags&32768)===0){if(v=AG(v,p,Hr),v!==null){dn=v;return}}else{if(v=CG(v,p),v!==null){v.flags&=32767,dn=v;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{An=6,dn=null;return}}if(p=p.sibling,p!==null){dn=p;return}dn=p=u}while(p!==null);An===0&&(An=5)}function To(u,p,v){var S=xt,j=hi.transition;try{hi.transition=null,xt=1,MG(u,p,v,S)}finally{hi.transition=j,xt=S}return null}function MG(u,p,v,S){do Wl();while(Na!==null);if((lt&6)!==0)throw Error(n(327));v=u.finishedWork;var j=u.finishedLanes;if(v===null)return null;if(u.finishedWork=null,u.finishedLanes=0,v===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var N=v.lanes|v.childLanes;if(fq(u,N),u===Mn&&(dn=Mn=null,Gn=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Jp||(Jp=!0,RN(op,function(){return Wl(),null})),N=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||N){N=hi.transition,hi.transition=null;var I=xt;xt=1;var q=lt;lt|=4,xx.current=null,EG(u,v),wN(v,u),Jq(jb),pp=!!Tb,jb=Tb=null,u.current=v,TG(v),iq(),lt=q,xt=I,hi.transition=N}else u.current=v;if(Jp&&(Jp=!1,Na=u,em=j),N=u.pendingLanes,N===0&&(ka=null),oq(v.stateNode),kr(u,rn()),p!==null)for(S=u.onRecoverableError,v=0;v<p.length;v++)j=p[v],S(j.value,{componentStack:j.stack,digest:j.digest});if(Zp)throw Zp=!1,u=_x,_x=null,u;return(em&1)!==0&&u.tag!==0&&Wl(),N=u.pendingLanes,(N&1)!==0?u===Ax?bd++:(bd=0,Ax=u):bd=0,Pa(),null}function Wl(){if(Na!==null){var u=bj(em),p=hi.transition,v=xt;try{if(hi.transition=null,xt=16>u?16:u,Na===null)var S=!1;else{if(u=Na,Na=null,em=0,(lt&6)!==0)throw Error(n(331));var j=lt;for(lt|=4,we=u.current;we!==null;){var N=we,I=N.child;if((we.flags&16)!==0){var q=N.deletions;if(q!==null){for(var Y=0;Y<q.length;Y++){var se=q[Y];for(we=se;we!==null;){var de=we;switch(de.tag){case 0:case 11:case 15:gd(8,de,N)}var fe=de.child;if(fe!==null)fe.return=de,we=fe;else for(;we!==null;){de=we;var ue=de.sibling,be=de.return;if(gN(de),de===se){we=null;break}if(ue!==null){ue.return=be,we=ue;break}we=be}}}var Ce=N.alternate;if(Ce!==null){var je=Ce.child;if(je!==null){Ce.child=null;do{var sn=je.sibling;je.sibling=null,je=sn}while(je!==null)}}we=N}}if((N.subtreeFlags&2064)!==0&&I!==null)I.return=N,we=I;else e:for(;we!==null;){if(N=we,(N.flags&2048)!==0)switch(N.tag){case 0:case 11:case 15:gd(9,N,N.return)}var J=N.sibling;if(J!==null){J.return=N.return,we=J;break e}we=N.return}}var X=u.current;for(we=X;we!==null;){I=we;var re=I.child;if((I.subtreeFlags&2064)!==0&&re!==null)re.return=I,we=re;else e:for(I=X;we!==null;){if(q=we,(q.flags&2048)!==0)try{switch(q.tag){case 0:case 11:case 15:Yp(9,q)}}catch(ke){Xt(q,q.return,ke)}if(q===I){we=null;break e}var me=q.sibling;if(me!==null){me.return=q.return,we=me;break e}we=q.return}}if(lt=j,Pa(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(lp,u)}catch{}S=!0}return S}finally{xt=v,hi.transition=p}}return!1}function ON(u,p,v){p=Bl(v,p),p=Xk(u,p,1),u=Ta(u,p,1),p=pr(),u!==null&&(Vu(u,1,p),kr(u,p))}function Xt(u,p,v){if(u.tag===3)ON(u,u,v);else for(;p!==null;){if(p.tag===3){ON(p,u,v);break}else if(p.tag===1){var S=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(ka===null||!ka.has(S))){u=Bl(v,u),u=Qk(p,u,1),p=Ta(p,u,1),u=pr(),p!==null&&(Vu(p,1,u),kr(p,u));break}}p=p.return}}function DG(u,p,v){var S=u.pingCache;S!==null&&S.delete(p),p=pr(),u.pingedLanes|=u.suspendedLanes&v,Mn===u&&(Gn&v)===v&&(An===4||An===3&&(Gn&130023424)===Gn&&500>rn()-Sx?Eo(u,0):wx|=v),kr(u,p)}function MN(u,p){p===0&&((u.mode&1)===0?p=1:(p=up,up<<=1,(up&130023424)===0&&(up=4194304)));var v=pr();u=Is(u,p),u!==null&&(Vu(u,p,v),kr(u,v))}function RG(u){var p=u.memoizedState,v=0;p!==null&&(v=p.retryLane),MN(u,v)}function IG(u,p){var v=0;switch(u.tag){case 13:var S=u.stateNode,j=u.memoizedState;j!==null&&(v=j.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(p),MN(u,v)}var DN;DN=function(u,p,v){if(u!==null)if(u.memoizedProps!==p.pendingProps||Pr.current)Tr=!0;else{if((u.lanes&v)===0&&(p.flags&128)===0)return Tr=!1,_G(u,p,v);Tr=(u.flags&131072)!==0}else Tr=!1,Bt&&(p.flags&1048576)!==0&&fk(p,Op,p.index);switch(p.lanes=0,p.tag){case 2:var S=p.type;Gp(u,p),u=p.pendingProps;var j=Ol(p,sr.current);Fl(p,v),j=Jb(null,p,S,u,j,v);var N=ex();return p.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Er(S)?(N=!0,jp(p)):N=!1,p.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,qb(p),j.updater=Hp,p.stateNode=j,j._reactInternals=p,ax(p,S,u,v),p=ux(null,p,S,!0,N,v)):(p.tag=0,Bt&&N&&Ib(p),fr(null,p,j,v),p=p.child),p;case 16:S=p.elementType;e:{switch(Gp(u,p),u=p.pendingProps,j=S._init,S=j(S._payload),p.type=S,j=p.tag=FG(S),u=Li(S,u),j){case 0:p=cx(null,p,S,u,v);break e;case 1:p=aN(null,p,S,u,v);break e;case 11:p=tN(null,p,S,u,v);break e;case 14:p=nN(null,p,S,Li(S.type,u),v);break e}throw Error(n(306,S,""))}return p;case 0:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Li(S,j),cx(u,p,S,j,v);case 1:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Li(S,j),aN(u,p,S,j,v);case 3:e:{if(oN(p),u===null)throw Error(n(387));S=p.pendingProps,N=p.memoizedState,j=N.element,Sk(u,p),Fp(p,S,null,v);var I=p.memoizedState;if(S=I.element,N.isDehydrated)if(N={element:S,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},p.updateQueue.baseState=N,p.memoizedState=N,p.flags&256){j=Bl(Error(n(423)),p),p=lN(u,p,S,v,j);break e}else if(S!==j){j=Bl(Error(n(424)),p),p=lN(u,p,S,v,j);break e}else for(Wr=_a(p.stateNode.containerInfo.firstChild),Vr=p,Bt=!0,Ii=null,v=xk(p,null,S,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(Rl(),S===j){p=Fs(u,p,v);break e}fr(u,p,S,v)}p=p.child}return p;case 5:return Ck(p),u===null&&$b(p),S=p.type,j=p.pendingProps,N=u!==null?u.memoizedProps:null,I=j.children,kb(S,j)?I=null:N!==null&&kb(S,N)&&(p.flags|=32),sN(u,p),fr(u,p,I,v),p.child;case 6:return u===null&&$b(p),null;case 13:return cN(u,p,v);case 4:return Gb(p,p.stateNode.containerInfo),S=p.pendingProps,u===null?p.child=Il(p,null,S,v):fr(u,p,S,v),p.child;case 11:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Li(S,j),tN(u,p,S,j,v);case 7:return fr(u,p,p.pendingProps,v),p.child;case 8:return fr(u,p,p.pendingProps.children,v),p.child;case 12:return fr(u,p,p.pendingProps.children,v),p.child;case 10:e:{if(S=p.type._context,j=p.pendingProps,N=p.memoizedProps,I=j.value,kt(Rp,S._currentValue),S._currentValue=I,N!==null)if(Ri(N.value,I)){if(N.children===j.children&&!Pr.current){p=Fs(u,p,v);break e}}else for(N=p.child,N!==null&&(N.return=p);N!==null;){var q=N.dependencies;if(q!==null){I=N.child;for(var Y=q.firstContext;Y!==null;){if(Y.context===S){if(N.tag===1){Y=Ls(-1,v&-v),Y.tag=2;var se=N.updateQueue;if(se!==null){se=se.shared;var de=se.pending;de===null?Y.next=Y:(Y.next=de.next,de.next=Y),se.pending=Y}}N.lanes|=v,Y=N.alternate,Y!==null&&(Y.lanes|=v),Wb(N.return,v,p),q.lanes|=v;break}Y=Y.next}}else if(N.tag===10)I=N.type===p.type?null:N.child;else if(N.tag===18){if(I=N.return,I===null)throw Error(n(341));I.lanes|=v,q=I.alternate,q!==null&&(q.lanes|=v),Wb(I,v,p),I=N.sibling}else I=N.child;if(I!==null)I.return=N;else for(I=N;I!==null;){if(I===p){I=null;break}if(N=I.sibling,N!==null){N.return=I.return,I=N;break}I=I.return}N=I}fr(u,p,j.children,v),p=p.child}return p;case 9:return j=p.type,S=p.pendingProps.children,Fl(p,v),j=ui(j),S=S(j),p.flags|=1,fr(u,p,S,v),p.child;case 14:return S=p.type,j=Li(S,p.pendingProps),j=Li(S.type,j),nN(u,p,S,j,v);case 15:return rN(u,p,p.type,p.pendingProps,v);case 17:return S=p.type,j=p.pendingProps,j=p.elementType===S?j:Li(S,j),Gp(u,p),p.tag=1,Er(S)?(u=!0,jp(p)):u=!1,Fl(p,v),Kk(p,S,j),ax(p,S,j,v),ux(null,p,S,!0,u,v);case 19:return dN(u,p,v);case 22:return iN(u,p,v)}throw Error(n(156,p.tag))};function RN(u,p){return pj(u,p)}function LG(u,p,v,S){this.tag=u,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fi(u,p,v,S){return new LG(u,p,v,S)}function kx(u){return u=u.prototype,!(!u||!u.isReactComponent)}function FG(u){if(typeof u=="function")return kx(u)?1:0;if(u!=null){if(u=u.$$typeof,u===D)return 11;if(u===H)return 14}return 2}function Da(u,p){var v=u.alternate;return v===null?(v=fi(u.tag,p,u.key,u.mode),v.elementType=u.elementType,v.type=u.type,v.stateNode=u.stateNode,v.alternate=u,u.alternate=v):(v.pendingProps=p,v.type=u.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=u.flags&14680064,v.childLanes=u.childLanes,v.lanes=u.lanes,v.child=u.child,v.memoizedProps=u.memoizedProps,v.memoizedState=u.memoizedState,v.updateQueue=u.updateQueue,p=u.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=u.sibling,v.index=u.index,v.ref=u.ref,v}function im(u,p,v,S,j,N){var I=2;if(S=u,typeof u=="function")kx(u)&&(I=1);else if(typeof u=="string")I=5;else e:switch(u){case k:return jo(v.children,j,N,p);case O:I=8,j|=8;break;case R:return u=fi(12,v,p,j|2),u.elementType=R,u.lanes=N,u;case $:return u=fi(13,v,p,j),u.elementType=$,u.lanes=N,u;case W:return u=fi(19,v,p,j),u.elementType=W,u.lanes=N,u;case U:return sm(v,j,N,p);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case F:I=10;break e;case M:I=9;break e;case D:I=11;break e;case H:I=14;break e;case V:I=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return p=fi(I,v,p,j),p.elementType=u,p.type=S,p.lanes=N,p}function jo(u,p,v,S){return u=fi(7,u,S,p),u.lanes=v,u}function sm(u,p,v,S){return u=fi(22,u,S,p),u.elementType=U,u.lanes=v,u.stateNode={isHidden:!1},u}function Nx(u,p,v){return u=fi(6,u,null,p),u.lanes=v,u}function Ox(u,p,v){return p=fi(4,u.children!==null?u.children:[],u.key,p),p.lanes=v,p.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},p}function $G(u,p,v,S,j){this.tag=p,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sb(0),this.expirationTimes=sb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sb(0),this.identifierPrefix=S,this.onRecoverableError=j,this.mutableSourceEagerHydrationData=null}function Mx(u,p,v,S,j,N,I,q,Y){return u=new $G(u,p,v,q,Y),p===1?(p=1,N===!0&&(p|=8)):p=0,N=fi(3,null,null,p),u.current=N,N.stateNode=u,N.memoizedState={element:S,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},qb(N),u}function BG(u,p,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:S==null?null:""+S,children:u,containerInfo:p,implementation:v}}function IN(u){if(!u)return Ca;u=u._reactInternals;e:{if(vo(u)!==u||u.tag!==1)throw Error(n(170));var p=u;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Er(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(u.tag===1){var v=u.type;if(Er(v))return uk(u,v,p)}return p}function LN(u,p,v,S,j,N,I,q,Y){return u=Mx(v,S,!0,u,j,N,I,q,Y),u.context=IN(null),v=u.current,S=pr(),j=Oa(v),N=Ls(S,j),N.callback=p??null,Ta(v,N,j),u.current.lanes=j,Vu(u,j,S),kr(u,S),u}function am(u,p,v,S){var j=p.current,N=pr(),I=Oa(j);return v=IN(v),p.context===null?p.context=v:p.pendingContext=v,p=Ls(N,I),p.payload={element:u},S=S===void 0?null:S,S!==null&&(p.callback=S),u=Ta(j,p,I),u!==null&&(Bi(u,j,I,N),Lp(u,j,I)),I}function om(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function FN(u,p){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var v=u.retryLane;u.retryLane=v!==0&&v<p?v:p}}function Dx(u,p){FN(u,p),(u=u.alternate)&&FN(u,p)}function UG(){return null}var $N=typeof reportError=="function"?reportError:function(u){console.error(u)};function Rx(u){this._internalRoot=u}lm.prototype.render=Rx.prototype.render=function(u){var p=this._internalRoot;if(p===null)throw Error(n(409));am(u,p,null,null)},lm.prototype.unmount=Rx.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var p=u.containerInfo;Po(function(){am(null,u,null,null)}),p[Os]=null}};function lm(u){this._internalRoot=u}lm.prototype.unstable_scheduleHydration=function(u){if(u){var p=Sj();u={blockedOn:null,target:u,priority:p};for(var v=0;v<xa.length&&p!==0&&p<xa[v].priority;v++);xa.splice(v,0,u),v===0&&Cj(u)}};function Ix(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function cm(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function BN(){}function zG(u,p,v,S,j){if(j){if(typeof S=="function"){var N=S;S=function(){var se=om(I);N.call(se)}}var I=LN(p,S,u,0,null,!1,!1,"",BN);return u._reactRootContainer=I,u[Os]=I.current,rd(u.nodeType===8?u.parentNode:u),Po(),I}for(;j=u.lastChild;)u.removeChild(j);if(typeof S=="function"){var q=S;S=function(){var se=om(Y);q.call(se)}}var Y=Mx(u,0,!1,null,null,!1,!1,"",BN);return u._reactRootContainer=Y,u[Os]=Y.current,rd(u.nodeType===8?u.parentNode:u),Po(function(){am(p,Y,v,S)}),Y}function um(u,p,v,S,j){var N=v._reactRootContainer;if(N){var I=N;if(typeof j=="function"){var q=j;j=function(){var Y=om(I);q.call(Y)}}am(p,I,u,j)}else I=zG(v,p,u,j,S);return om(I)}xj=function(u){switch(u.tag){case 3:var p=u.stateNode;if(p.current.memoizedState.isDehydrated){var v=zu(p.pendingLanes);v!==0&&(ab(p,v|1),kr(p,rn()),(lt&6)===0&&(Vl=rn()+500,Pa()))}break;case 13:Po(function(){var S=Is(u,1);if(S!==null){var j=pr();Bi(S,u,1,j)}}),Dx(u,1)}},ob=function(u){if(u.tag===13){var p=Is(u,134217728);if(p!==null){var v=pr();Bi(p,u,134217728,v)}Dx(u,134217728)}},wj=function(u){if(u.tag===13){var p=Oa(u),v=Is(u,p);if(v!==null){var S=pr();Bi(v,u,p,S)}Dx(u,p)}},Sj=function(){return xt},_j=function(u,p){var v=xt;try{return xt=u,p()}finally{xt=v}},$u=function(u,p,v){switch(p){case"input":if(bt(u,v),p=v.name,v.type==="radio"&&p!=null){for(v=u;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var S=v[p];if(S!==u&&S.form===u.form){var j=Ep(S);if(!j)throw Error(n(90));ne(S),bt(S,j)}}}break;case"textarea":ho(u,v);break;case"select":p=v.value,p!=null&&rr(u,!!v.multiple,p,!1)}},Sn=Ex,ir=Po;var VG={usingClientEntryPoint:!1,Events:[ad,kl,Ep,Ge,nn,Ex]},xd={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},WG={bundleType:xd.bundleType,version:xd.version,rendererPackageName:xd.rendererPackageName,rendererConfig:xd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:E.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=hj(u),u===null?null:u.stateNode},findFiberByHostInstance:xd.findFiberByHostInstance||UG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dm.isDisabled&&dm.supportsFiber)try{lp=dm.inject(WG),ts=dm}catch{}}return Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VG,Nr.createPortal=function(u,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ix(p))throw Error(n(200));return BG(u,p,null,v)},Nr.createRoot=function(u,p){if(!Ix(u))throw Error(n(299));var v=!1,S="",j=$N;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onRecoverableError!==void 0&&(j=p.onRecoverableError)),p=Mx(u,1,!1,null,null,v,!1,S,j),u[Os]=p.current,rd(u.nodeType===8?u.parentNode:u),new Rx(p)},Nr.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var p=u._reactInternals;if(p===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=hj(p),u=u===null?null:u.stateNode,u},Nr.flushSync=function(u){return Po(u)},Nr.hydrate=function(u,p,v){if(!cm(p))throw Error(n(200));return um(null,u,p,!0,v)},Nr.hydrateRoot=function(u,p,v){if(!Ix(u))throw Error(n(405));var S=v!=null&&v.hydratedSources||null,j=!1,N="",I=$N;if(v!=null&&(v.unstable_strictMode===!0&&(j=!0),v.identifierPrefix!==void 0&&(N=v.identifierPrefix),v.onRecoverableError!==void 0&&(I=v.onRecoverableError)),p=LN(p,null,u,1,v??null,j,!1,N,I),u[Os]=p.current,rd(u),S)for(u=0;u<S.length;u++)v=S[u],j=v._getVersion,j=j(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,j]:p.mutableSourceEagerHydrationData.push(v,j);return new lm(p)},Nr.render=function(u,p,v){if(!cm(p))throw Error(n(200));return um(null,u,p,!1,v)},Nr.unmountComponentAtNode=function(u){if(!cm(u))throw Error(n(40));return u._reactRootContainer?(Po(function(){um(null,null,u,!1,function(){u._reactRootContainer=null,u[Os]=null})}),!0):!1},Nr.unstable_batchedUpdates=Ex,Nr.unstable_renderSubtreeIntoContainer=function(u,p,v,S){if(!cm(v))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return um(u,p,v,!1,S)},Nr.version="18.3.1-next-f1338f8080-20240426",Nr}var KN;function GB(){if(KN)return $x.exports;KN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),$x.exports=ZG(),$x.exports}var YN;function JG(){if(YN)return fm;YN=1;var t=GB();return fm.createRoot=t.createRoot,fm.hydrateRoot=t.hydrateRoot,fm}var e9=JG(),C=Dv();const z=vt(C),pP=qG({__proto__:null,default:z},[C]),t9="KharchaPalDB",XN=5;let n9=class{db=null;async init(){return new Promise((e,n)=>{const r=indexedDB.open(t9,XN);r.onerror=()=>n(r.error),r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=i=>{const s=i.target.result,a=i.oldVersion;if(console.log(`Upgrading database from version ${a} to ${XN}`),s.objectStoreNames.contains("users")||s.createObjectStore("users",{keyPath:"id"}),s.objectStoreNames.contains("families")||s.createObjectStore("families",{keyPath:"id"}),!s.objectStoreNames.contains("expenses")){const o=s.createObjectStore("expenses",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("income")){const o=s.createObjectStore("income",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("created_by","created_by",{unique:!1})}if(!s.objectStoreNames.contains("debts")){const o=s.createObjectStore("debts",{keyPath:"id"});o.createIndex("family_id","family_id",{unique:!1}),o.createIndex("status","status",{unique:!1})}s.objectStoreNames.contains("budgets")||s.createObjectStore("budgets",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("accounts")||s.createObjectStore("accounts",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goals")||s.createObjectStore("goals",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("goal_transfers")||s.createObjectStore("goal_transfers",{keyPath:"id"}).createIndex("goal_id","goal_id",{unique:!1}),s.objectStoreNames.contains("syncQueue")||s.createObjectStore("syncQueue",{keyPath:"id"}).createIndex("status","status",{unique:!1}),s.objectStoreNames.contains("custom_categories")||s.createObjectStore("custom_categories",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1}),s.objectStoreNames.contains("recurring_transactions")||s.createObjectStore("recurring_transactions",{keyPath:"id"}).createIndex("family_id","family_id",{unique:!1})}})}getStore(e,n="readonly"){if(!this.db)throw new Error("Database not initialized");return this.db.transaction(e,n).objectStore(e)}async add(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.add(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async put(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.put(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async get(e,n){const r=this.getStore(e);return new Promise((i,s)=>{const a=r.get(n);a.onsuccess=()=>i(a.result),a.onerror=()=>s(a.error)})}async getAll(e){const n=this.getStore(e);return new Promise((r,i)=>{const s=n.getAll();s.onsuccess=()=>r(s.result),s.onerror=()=>i(s.error)})}async getAllByIndex(e,n,r){const s=this.getStore(e).index(n);return new Promise((a,o)=>{const l=s.getAll(r);l.onsuccess=()=>a(l.result),l.onerror=()=>o(l.error)})}async delete(e,n){const r=this.getStore(e,"readwrite");return new Promise((i,s)=>{const a=r.delete(n);a.onsuccess=()=>i(),a.onerror=()=>s(a.error)})}async clear(e){const n=this.getStore(e,"readwrite");return new Promise((r,i)=>{const s=n.clear();s.onsuccess=()=>r(),s.onerror=()=>i(s.error)})}async addUser(e){return this.add("users",e)}async getUser(e){return this.get("users",e)}async getAllUsers(){return this.getAll("users")}async updateUser(e){return this.put("users",e)}async addFamily(e){return this.add("families",e)}async getFamily(e){return this.get("families",e)}async addExpense(e){return this.add("expenses",e)}async updateExpense(e){return this.put("expenses",e)}async getExpensesByFamily(e){return this.getAllByIndex("expenses","family_id",e)}async addIncome(e){return this.add("income",e)}async updateIncome(e){return this.put("income",e)}async getIncomeByFamily(e){return this.getAllByIndex("income","family_id",e)}async addDebt(e){return this.add("debts",e)}async updateDebt(e){return this.put("debts",e)}async getDebtsByFamily(e){return this.getAllByIndex("debts","family_id",e)}async addBudget(e){return this.add("budgets",e)}async updateBudget(e){return this.put("budgets",e)}async getBudgetsByFamily(e){return this.getAllByIndex("budgets","family_id",e)}async addAccount(e){return this.add("accounts",e)}async updateAccount(e){return this.put("accounts",e)}async getAccountsByFamily(e){return this.getAllByIndex("accounts","family_id",e)}async addGoal(e){return this.add("goals",e)}async updateGoal(e){return this.put("goals",e)}async getGoalsByFamily(e){return this.getAllByIndex("goals","family_id",e)}async addGoalTransfer(e){return this.add("goal_transfers",e)}async getGoalTransfersByFamily(e){const n=await this.getAll("goal_transfers"),r=await this.getGoalsByFamily(e),i=new Set(r.map(s=>s.id));return n.filter(s=>i.has(s.goal_id))}async addSyncItem(e){return this.add("syncQueue",e)}async getPendingSyncItems(){return this.getAllByIndex("syncQueue","status","pending")}async addCustomCategory(e){return this.add("custom_categories",e)}async getCustomCategoriesByFamily(e){return this.getAllByIndex("custom_categories","family_id",e)}async deleteCustomCategory(e){return this.delete("custom_categories",e)}async addRecurringTransaction(e){return this.add("recurring_transactions",e)}async updateRecurringTransaction(e){return this.put("recurring_transactions",e)}async getRecurringTransactionsByFamily(e){return this.getAllByIndex("recurring_transactions","family_id",e)}async deleteRecurringTransaction(e){return this.delete("recurring_transactions",e)}};const rt=new n9,KB=C.createContext(void 0);function r9({children:t}){const[e,n]=C.useState({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!0});C.useEffect(()=>{(async()=>{try{console.log("Initializing KharchaPal..."),await rt.init(),console.log("Database initialized successfully");const D=localStorage.getItem("currentUserId"),$=localStorage.getItem("currentFamilyId");if(D&&$){console.log("Attempting to restore session...");const W=await rt.getUser(D),H=await rt.getFamily($);W&&H?(console.log("Session restored successfully"),n(V=>({...V,currentUser:W,currentFamily:H})),await r($)):(console.log("Session data not found, clearing localStorage"),localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"))}else console.log("No saved session found")}catch(D){if(console.error("Failed to initialize app:",D),D instanceof Error&&D.name==="InvalidStateError"){console.log("Attempting to recover from database error...");try{indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),console.log("Database reset. Please refresh the page.")}catch($){console.error("Failed to reset database:",$)}}}finally{n(D=>({...D,isLoading:!1}))}})()},[]);const r=async M=>{try{const[D,$,W,H,V,U,L,G,Q,B]=await Promise.all([rt.getAllUsers(),rt.getExpensesByFamily(M),rt.getIncomeByFamily(M),rt.getDebtsByFamily(M),rt.getBudgetsByFamily(M),rt.getAccountsByFamily(M),rt.getGoalsByFamily?.(M)??Promise.resolve([]),rt.getGoalTransfersByFamily?.(M)??Promise.resolve([]),rt.getCustomCategoriesByFamily(M),rt.getRecurringTransactionsByFamily(M)]);n(K=>({...K,users:D.filter(Z=>Z.family_id===M),expenses:$.sort((Z,ae)=>new Date(ae.date).getTime()-new Date(Z.date).getTime()),income:W.sort((Z,ae)=>new Date(ae.date).getTime()-new Date(Z.date).getTime()),debts:H,budgets:V,accounts:U,goals:L.sort((Z,ae)=>new Date(ae.created_at).getTime()-new Date(Z.created_at).getTime()),goalTransfers:G,customCategories:Q,recurringTransactions:B}))}catch(D){console.error("Failed to load family data:",D)}},i=M=>{n(D=>({...D,currentUser:M})),M?localStorage.setItem("currentUserId",M.id):localStorage.removeItem("currentUserId")},s=M=>{n(D=>({...D,currentFamily:M})),M?localStorage.setItem("currentFamilyId",M.id):localStorage.removeItem("currentFamilyId")},a=async()=>{e.currentFamily&&await r(e.currentFamily.id)},o=async M=>{await rt.addExpense(M);const D=[...e.accounts];for(const $ of M.payment_lines)if($.account_id){const W=e.accounts.findIndex(H=>H.id===$.account_id);if(W!==-1){const H=e.accounts[W];D[W]={...H,current_balance:H.current_balance-$.amount,updated_at:new Date().toISOString()},await rt.updateAccount(D[W])}}n($=>({...$,expenses:[M,...$.expenses],accounts:D}))},l=async M=>{await rt.updateExpense(M),n(D=>({...D,expenses:D.expenses.map($=>$.id===M.id?M:$)}))},c=async M=>{await rt.addIncome(M),n(D=>({...D,income:[M,...D.income]}))},d=async M=>{await rt.updateIncome(M),n(D=>({...D,income:D.income.map($=>$.id===M.id?M:$)}))},h=async M=>{await rt.addDebt(M),n(D=>({...D,debts:[...D.debts,M]}))},m=async M=>{await rt.updateDebt(M),n(D=>({...D,debts:D.debts.map($=>$.id===M.id?M:$)}))},g=async M=>{await rt.addBudget(M),n(D=>({...D,budgets:[...D.budgets,M]}))},x=async M=>{await rt.updateBudget(M),n(D=>({...D,budgets:D.budgets.map($=>$.id===M.id?M:$)}))},y=async M=>{await rt.addUser(M),n(D=>({...D,users:[...D.users,M]}))},b=async M=>{await rt.addAccount(M),n(D=>({...D,accounts:[...D.accounts,M]}))},w=async M=>{await rt.updateAccount(M),n(D=>({...D,accounts:D.accounts.map($=>$.id===M.id?M:$)}))},A=async M=>{await rt.addGoal?.(M),n(D=>({...D,goals:[...D.goals,M]}))},_=async M=>{await rt.updateGoal?.(M),n(D=>({...D,goals:D.goals.map($=>$.id===M.id?M:$)}))},E=async M=>{if(await rt.addGoalTransfer?.(M),M.contributed_by&&e.currentFamily&&e.currentUser){const D={id:`goal-${M.id}`,family_id:e.currentFamily.id,created_by:M.contributed_by,total_amount:M.amount,currency:"INR",category:"goal",date:M.transfer_date,notes:`Goal contribution: ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`,payment_lines:[{id:`payment-${M.id}`,method:M.transfer_method,amount:M.amount,payer_user_id:M.contributed_by,account_id:M.from_account_id,meta:{note:`Goal transfer to ${e.goals.find($=>$.id===M.goal_id)?.goal_name||"Unknown goal"}`}}],attachments:[],is_shared:!0,sync_status:"synced",created_at:M.created_at,updated_at:M.created_at};await rt.addExpense(D),n($=>({...$,expenses:[D,...$.expenses],goalTransfers:[...$.goalTransfers,M]}))}else n(D=>({...D,goalTransfers:[...D.goalTransfers,M]}))},P=async M=>{await rt.addCustomCategory(M),n(D=>({...D,customCategories:[...D.customCategories,M]}))},T=async M=>{await rt.deleteCustomCategory(M),n(D=>({...D,customCategories:D.customCategories.filter($=>$.id!==M)}))},k=async M=>{await rt.addRecurringTransaction(M),n(D=>({...D,recurringTransactions:[...D.recurringTransactions,M]}))},O=async M=>{await rt.updateRecurringTransaction(M),n(D=>({...D,recurringTransactions:D.recurringTransactions.map($=>$.id===M.id?M:$)}))},R=async M=>{await rt.deleteRecurringTransaction(M),n(D=>({...D,recurringTransactions:D.recurringTransactions.filter($=>$.id!==M)}))},F=()=>{localStorage.removeItem("currentUserId"),localStorage.removeItem("currentFamilyId"),n({currentUser:null,currentFamily:null,users:[],expenses:[],income:[],debts:[],budgets:[],accounts:[],goals:[],goalTransfers:[],customCategories:[],recurringTransactions:[],isLoading:!1})};return f.jsx(KB.Provider,{value:{...e,setCurrentUser:i,setCurrentFamily:s,loadFamilyData:a,addExpense:o,updateExpense:l,addIncome:c,updateIncome:d,addDebt:h,updateDebt:m,addBudget:g,updateBudget:x,addAccount:b,updateAccount:w,addGoal:A,updateGoal:_,addGoalTransfer:E,addUser:y,addCustomCategory:P,deleteCustomCategory:T,addRecurringTransaction:k,updateRecurringTransaction:O,deleteRecurringTransaction:R,logout:F},children:t})}function it(){const t=C.useContext(KB);if(t===void 0)throw new Error("useApp must be used within an AppProvider");return t}function QN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cs(...t){return e=>{let n=!1;const r=t.map(i=>{const s=QN(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():QN(t[i],null)}}}}function Ze(...t){return C.useCallback(Cs(...t),t)}var i9=Symbol.for("react.lazy"),ag=pP[" use ".trim().toString()];function s9(t){return typeof t=="object"&&t!==null&&"then"in t}function YB(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===i9&&"_payload"in t&&s9(t._payload)}function vf(t){const e=a9(t),n=C.forwardRef((r,i)=>{let{children:s,...a}=r;YB(s)&&typeof ag=="function"&&(s=ag(s._payload));const o=C.Children.toArray(s),l=o.find(l9);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var XB=vf("Slot");function a9(t){const e=C.forwardRef((n,r)=>{let{children:i,...s}=n;if(YB(i)&&typeof ag=="function"&&(i=ag(i._payload)),C.isValidElement(i)){const a=u9(i),o=c9(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var o9=Symbol("radix.slottable");function l9(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===o9}function c9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function u9(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function QB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=QB(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=QB(t))&&(r&&(r+=" "),r+=e);return r}const ZN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,JN=Ye,mP=(t,e)=>n=>{var r;if(e?.variants==null)return JN(t,n?.class,n?.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const d=n?.[c],h=s?.[c];if(d===null)return null;const m=ZN(d)||ZN(h);return i[c][m]}),o=n&&Object.entries(n).reduce((c,d)=>{let[h,m]=d;return m===void 0||(c[h]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:m,...g}=d;return Object.entries(g).every(x=>{let[y,b]=x;return Array.isArray(b)?b.includes({...s,...o}[y]):{...s,...o}[y]===b})?[...c,h,m]:c},[]);return JN(t,a,l,n?.class,n?.className)},d9=(t,e)=>{const n=new Array(t.length+e.length);for(let r=0;r<t.length;r++)n[r]=t[r];for(let r=0;r<e.length;r++)n[t.length+r]=e[r];return n},h9=(t,e)=>({classGroupId:t,validator:e}),ZB=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),og="-",eO=[],f9="arbitrary..",p9=t=>{const e=g9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{if(a.startsWith("[")&&a.endsWith("]"))return m9(a);const o=a.split(og),l=o[0]===""&&o.length>1?1:0;return JB(o,l,e)},getConflictingClassGroupIds:(a,o)=>{if(o){const l=r[a],c=n[a];return l?c?d9(c,l):l:c||eO}return n[a]||eO}}},JB=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const i=t[e],s=n.nextPart.get(i);if(s){const c=JB(t,e+1,s);if(c)return c}const a=n.validators;if(a===null)return;const o=e===0?t.join(og):t.slice(e).join(og),l=a.length;for(let c=0;c<l;c++){const d=a[c];if(d.validator(o))return d.classGroupId}},m9=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),r=e.slice(0,n);return r?f9+r:void 0})(),g9=t=>{const{theme:e,classGroups:n}=t;return v9(n,e)},v9=(t,e)=>{const n=ZB();for(const r in t){const i=t[r];gP(i,n,r,e)}return n},gP=(t,e,n,r)=>{const i=t.length;for(let s=0;s<i;s++){const a=t[s];y9(a,e,n,r)}},y9=(t,e,n,r)=>{if(typeof t=="string"){b9(t,e,n);return}if(typeof t=="function"){x9(t,e,n,r);return}w9(t,e,n,r)},b9=(t,e,n)=>{const r=t===""?e:e3(e,t);r.classGroupId=n},x9=(t,e,n,r)=>{if(S9(t)){gP(t(r),e,n,r);return}e.validators===null&&(e.validators=[]),e.validators.push(h9(n,t))},w9=(t,e,n,r)=>{const i=Object.entries(t),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];gP(l,e3(e,o),n,r)}},e3=(t,e)=>{let n=t;const r=e.split(og),i=r.length;for(let s=0;s<i;s++){const a=r[s];let o=n.nextPart.get(a);o||(o=ZB(),n.nextPart.set(a,o)),n=o}return n},S9=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,_9=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),r=Object.create(null);const i=(s,a)=>{n[s]=a,e++,e>t&&(e=0,r=n,n=Object.create(null))};return{get(s){let a=n[s];if(a!==void 0)return a;if((a=r[s])!==void 0)return i(s,a),a},set(s,a){s in n?n[s]=a:i(s,a)}}},V_="!",tO=":",A9=[],nO=(t,e,n,r,i)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:r,isExternal:i}),C9=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const s=[];let a=0,o=0,l=0,c;const d=i.length;for(let y=0;y<d;y++){const b=i[y];if(a===0&&o===0){if(b===tO){s.push(i.slice(l,y)),l=y+1;continue}if(b==="/"){c=y;continue}}b==="["?a++:b==="]"?a--:b==="("?o++:b===")"&&o--}const h=s.length===0?i:i.slice(l);let m=h,g=!1;h.endsWith(V_)?(m=h.slice(0,-1),g=!0):h.startsWith(V_)&&(m=h.slice(1),g=!0);const x=c&&c>l?c-l:void 0;return nO(s,g,m,x)};if(e){const i=e+tO,s=r;r=a=>a.startsWith(i)?s(a.slice(i.length)):nO(A9,!1,a,void 0,!0)}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},P9=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,r)=>{e.set(n,1e6+r)}),n=>{const r=[];let i=[];for(let s=0;s<n.length;s++){const a=n[s],o=a[0]==="[",l=e.has(a);o||l?(i.length>0&&(i.sort(),r.push(...i),i=[]),r.push(a)):i.push(a)}return i.length>0&&(i.sort(),r.push(...i)),r}},E9=t=>({cache:_9(t.cacheSize),parseClassName:C9(t),sortModifiers:P9(t),...p9(t)}),T9=/\s+/,j9=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=e,a=[],o=t.trim().split(T9);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{isExternal:h,modifiers:m,hasImportantModifier:g,baseClassName:x,maybePostfixModifierPosition:y}=n(d);if(h){l=d+(l.length>0?" "+l:l);continue}let b=!!y,w=r(b?x.substring(0,y):x);if(!w){if(!b){l=d+(l.length>0?" "+l:l);continue}if(w=r(x),!w){l=d+(l.length>0?" "+l:l);continue}b=!1}const A=m.length===0?"":m.length===1?m[0]:s(m).join(":"),_=g?A+V_:A,E=_+w;if(a.indexOf(E)>-1)continue;a.push(E);const P=i(w,b);for(let T=0;T<P.length;++T){const k=P[T];a.push(_+k)}l=d+(l.length>0?" "+l:l)}return l},k9=(...t)=>{let e=0,n,r,i="";for(;e<t.length;)(n=t[e++])&&(r=t3(n))&&(i&&(i+=" "),i+=r);return i},t3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=t3(t[r]))&&(n&&(n+=" "),n+=e);return n},N9=(t,...e)=>{let n,r,i,s;const a=l=>{const c=e.reduce((d,h)=>h(d),t());return n=E9(c),r=n.cache.get,i=n.cache.set,s=o,o(l)},o=l=>{const c=r(l);if(c)return c;const d=j9(l,n);return i(l,d),d};return s=a,(...l)=>s(k9(...l))},O9=[],Cn=t=>{const e=n=>n[t]||O9;return e.isThemeGetter=!0,e},n3=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,r3=/^\((?:(\w[\w-]*):)?(.+)\)$/i,M9=/^\d+\/\d+$/,D9=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,R9=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,I9=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,L9=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,F9=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hl=t=>M9.test(t),et=t=>!!t&&!Number.isNaN(Number(t)),Ia=t=>!!t&&Number.isInteger(Number(t)),zx=t=>t.endsWith("%")&&et(t.slice(0,-1)),Bs=t=>D9.test(t),$9=()=>!0,B9=t=>R9.test(t)&&!I9.test(t),i3=()=>!1,U9=t=>L9.test(t),z9=t=>F9.test(t),V9=t=>!Pe(t)&&!Ee(t),W9=t=>gu(t,o3,i3),Pe=t=>n3.test(t),ko=t=>gu(t,l3,B9),Vx=t=>gu(t,Y9,et),rO=t=>gu(t,s3,i3),H9=t=>gu(t,a3,z9),pm=t=>gu(t,c3,U9),Ee=t=>r3.test(t),Sd=t=>vu(t,l3),q9=t=>vu(t,X9),iO=t=>vu(t,s3),G9=t=>vu(t,o3),K9=t=>vu(t,a3),mm=t=>vu(t,c3,!0),gu=(t,e,n)=>{const r=n3.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},vu=(t,e,n=!1)=>{const r=r3.exec(t);return r?r[1]?e(r[1]):n:!1},s3=t=>t==="position"||t==="percentage",a3=t=>t==="image"||t==="url",o3=t=>t==="length"||t==="size"||t==="bg-size",l3=t=>t==="length",Y9=t=>t==="number",X9=t=>t==="family-name",c3=t=>t==="shadow",Q9=()=>{const t=Cn("color"),e=Cn("font"),n=Cn("text"),r=Cn("font-weight"),i=Cn("tracking"),s=Cn("leading"),a=Cn("breakpoint"),o=Cn("container"),l=Cn("spacing"),c=Cn("radius"),d=Cn("shadow"),h=Cn("inset-shadow"),m=Cn("text-shadow"),g=Cn("drop-shadow"),x=Cn("blur"),y=Cn("perspective"),b=Cn("aspect"),w=Cn("ease"),A=Cn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],P=()=>[...E(),Ee,Pe],T=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],O=()=>[Ee,Pe,l],R=()=>[Hl,"full","auto",...O()],F=()=>[Ia,"none","subgrid",Ee,Pe],M=()=>["auto",{span:["full",Ia,Ee,Pe]},Ia,Ee,Pe],D=()=>[Ia,"auto",Ee,Pe],$=()=>["auto","min","max","fr",Ee,Pe],W=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],H=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...O()],U=()=>[Hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...O()],L=()=>[t,Ee,Pe],G=()=>[...E(),iO,rO,{position:[Ee,Pe]}],Q=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",G9,W9,{size:[Ee,Pe]}],K=()=>[zx,Sd,ko],Z=()=>["","none","full",c,Ee,Pe],ae=()=>["",et,Sd,ko],ce=()=>["solid","dashed","dotted","double"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ie=()=>[et,zx,iO,rO],ee=()=>["","none",x,Ee,Pe],te=()=>["none",et,Ee,Pe],le=()=>["none",et,Ee,Pe],he=()=>[et,Ee,Pe],ne=()=>[Hl,"full",...O()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Bs],breakpoint:[Bs],color:[$9],container:[Bs],"drop-shadow":[Bs],ease:["in","out","in-out"],font:[V9],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Bs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Bs],shadow:[Bs],spacing:["px",et],text:[Bs],"text-shadow":[Bs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hl,Pe,Ee,b]}],container:["container"],columns:[{columns:[et,Pe,Ee,o]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:P()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[Ia,"auto",Ee,Pe]}],basis:[{basis:[Hl,"full","auto",o,...O()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,Hl,"auto","initial","none",Pe]}],grow:[{grow:["",et,Ee,Pe]}],shrink:[{shrink:["",et,Ee,Pe]}],order:[{order:[Ia,"first","last","none",Ee,Pe]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:M()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:M()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:O()}],"gap-x":[{"gap-x":O()}],"gap-y":[{"gap-y":O()}],"justify-content":[{justify:[...W(),"normal"]}],"justify-items":[{"justify-items":[...H(),"normal"]}],"justify-self":[{"justify-self":["auto",...H()]}],"align-content":[{content:["normal",...W()]}],"align-items":[{items:[...H(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...H(),{baseline:["","last"]}]}],"place-content":[{"place-content":W()}],"place-items":[{"place-items":[...H(),"baseline"]}],"place-self":[{"place-self":["auto",...H()]}],p:[{p:O()}],px:[{px:O()}],py:[{py:O()}],ps:[{ps:O()}],pe:[{pe:O()}],pt:[{pt:O()}],pr:[{pr:O()}],pb:[{pb:O()}],pl:[{pl:O()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":O()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":O()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[o,"screen",...U()]}],"min-w":[{"min-w":[o,"screen","none",...U()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",n,Sd,ko]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ee,Vx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zx,Pe]}],"font-family":[{font:[q9,Pe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ee,Pe]}],"line-clamp":[{"line-clamp":[et,"none",Ee,Vx]}],leading:[{leading:[s,...O()]}],"list-image":[{"list-image":["none",Ee,Pe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ee,Pe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Ee,ko]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[et,"auto",Ee,Pe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ee,Pe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ee,Pe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:Q()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ia,Ee,Pe],radial:["",Ee,Pe],conic:[Ia,Ee,Pe]},K9,H9]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:Z()}],"rounded-s":[{"rounded-s":Z()}],"rounded-e":[{"rounded-e":Z()}],"rounded-t":[{"rounded-t":Z()}],"rounded-r":[{"rounded-r":Z()}],"rounded-b":[{"rounded-b":Z()}],"rounded-l":[{"rounded-l":Z()}],"rounded-ss":[{"rounded-ss":Z()}],"rounded-se":[{"rounded-se":Z()}],"rounded-ee":[{"rounded-ee":Z()}],"rounded-es":[{"rounded-es":Z()}],"rounded-tl":[{"rounded-tl":Z()}],"rounded-tr":[{"rounded-tr":Z()}],"rounded-br":[{"rounded-br":Z()}],"rounded-bl":[{"rounded-bl":Z()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Ee,Pe]}],"outline-w":[{outline:["",et,Sd,ko]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",d,mm,pm]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",h,mm,pm]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[et,ko]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",m,mm,pm]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[et,Ee,Pe]}],"mix-blend":[{"mix-blend":[...pe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":pe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":ie()}],"mask-image-linear-to-pos":[{"mask-linear-to":ie()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":ie()}],"mask-image-t-to-pos":[{"mask-t-to":ie()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":ie()}],"mask-image-r-to-pos":[{"mask-r-to":ie()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":ie()}],"mask-image-b-to-pos":[{"mask-b-to":ie()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":ie()}],"mask-image-l-to-pos":[{"mask-l-to":ie()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":ie()}],"mask-image-x-to-pos":[{"mask-x-to":ie()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":ie()}],"mask-image-y-to-pos":[{"mask-y-to":ie()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[Ee,Pe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ie()}],"mask-image-radial-to-pos":[{"mask-radial-to":ie()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":ie()}],"mask-image-conic-to-pos":[{"mask-conic-to":ie()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:Q()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ee,Pe]}],filter:[{filter:["","none",Ee,Pe]}],blur:[{blur:ee()}],brightness:[{brightness:[et,Ee,Pe]}],contrast:[{contrast:[et,Ee,Pe]}],"drop-shadow":[{"drop-shadow":["","none",g,mm,pm]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",et,Ee,Pe]}],"hue-rotate":[{"hue-rotate":[et,Ee,Pe]}],invert:[{invert:["",et,Ee,Pe]}],saturate:[{saturate:[et,Ee,Pe]}],sepia:[{sepia:["",et,Ee,Pe]}],"backdrop-filter":[{"backdrop-filter":["","none",Ee,Pe]}],"backdrop-blur":[{"backdrop-blur":ee()}],"backdrop-brightness":[{"backdrop-brightness":[et,Ee,Pe]}],"backdrop-contrast":[{"backdrop-contrast":[et,Ee,Pe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Ee,Pe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Ee,Pe]}],"backdrop-invert":[{"backdrop-invert":["",et,Ee,Pe]}],"backdrop-opacity":[{"backdrop-opacity":[et,Ee,Pe]}],"backdrop-saturate":[{"backdrop-saturate":[et,Ee,Pe]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Ee,Pe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":O()}],"border-spacing-x":[{"border-spacing-x":O()}],"border-spacing-y":[{"border-spacing-y":O()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ee,Pe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Ee,Pe]}],ease:[{ease:["linear","initial",w,Ee,Pe]}],delay:[{delay:[et,Ee,Pe]}],animate:[{animate:["none",A,Ee,Pe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Ee,Pe]}],"perspective-origin":[{"perspective-origin":P()}],rotate:[{rotate:te()}],"rotate-x":[{"rotate-x":te()}],"rotate-y":[{"rotate-y":te()}],"rotate-z":[{"rotate-z":te()}],scale:[{scale:le()}],"scale-x":[{"scale-x":le()}],"scale-y":[{"scale-y":le()}],"scale-z":[{"scale-z":le()}],"scale-3d":["scale-3d"],skew:[{skew:he()}],"skew-x":[{"skew-x":he()}],"skew-y":[{"skew-y":he()}],transform:[{transform:[Ee,Pe,"","none","gpu","cpu"]}],"transform-origin":[{origin:P()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ee,Pe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ee,Pe]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[et,Sd,ko,Vx]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},u3=N9(Q9);function Fe(...t){return u3(Ye(t))}const W_=mP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-xl text-sm font-medium transition-all duration-200 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive active:scale-95",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 elevation-1 hover:elevation-2",destructive:"bg-destructive text-white hover:bg-destructive/90 elevation-1 hover:elevation-2 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-2 border-outline bg-background text-foreground hover:bg-surface-variant/50 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary-container text-on-secondary-container hover:bg-secondary-container/80 elevation-1",ghost:"hover:bg-surface-variant/50 hover:text-on-surface dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-5 py-2 has-[>svg]:px-4",sm:"h-9 rounded-lg gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-12 rounded-xl px-6 has-[>svg]:px-5",icon:"size-10 rounded-xl"}},defaultVariants:{variant:"default",size:"default"}}),ge=C.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?XB:"button";return f.jsx(a,{"data-slot":"button",className:Fe(W_({variant:e,size:n,className:t})),ref:s,...i})});ge.displayName="Button";function tt({className:t,...e}){return f.jsx("div",{"data-slot":"card",className:Fe("bg-card text-card-foreground flex flex-col gap-6 rounded-2xl border border-outline-variant/30 transition-all duration-200",t),...e})}function At({className:t,...e}){return f.jsx("div",{"data-slot":"card-header",className:Fe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...e})}function Ct({className:t,...e}){return f.jsx("h4",{"data-slot":"card-title",className:Fe("leading-none",t),...e})}function vn({className:t,...e}){return f.jsx("p",{"data-slot":"card-description",className:Fe("text-muted-foreground",t),...e})}function $t({className:t,...e}){return f.jsx("div",{"data-slot":"card-content",className:Fe("px-6 [&:last-child]:pb-6",t),...e})}const d3=C.createContext({});function Z9(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const vP=typeof window<"u",J9=vP?C.useLayoutEffect:C.useEffect,yP=C.createContext(null);function bP(t,e){t.indexOf(e)===-1&&t.push(e)}function xP(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Js=(t,e,n)=>n>e?e:n<t?t:n;let wP=()=>{};const ea={},h3=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function f3(t){return typeof t=="object"&&t!==null}const p3=t=>/^0[^.\s]+$/u.test(t);function SP(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ci=t=>t,e7=(t,e)=>n=>e(t(n)),yf=(...t)=>t.reduce(e7),dh=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class _P{constructor(){this.subscriptions=[]}add(e){return bP(this.subscriptions,e),()=>xP(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=t=>t*1e3,_i=t=>t/1e3;function m3(t,e){return e?t*(1e3/e):0}const g3=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,t7=1e-7,n7=12;function r7(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=g3(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>t7&&++o<n7);return a}function bf(t,e,n,r){if(t===e&&n===r)return Ci;const i=s=>r7(s,0,1,t,n);return s=>s===0||s===1?s:g3(i(s),e,r)}const v3=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,y3=t=>e=>1-t(1-e),b3=bf(.33,1.53,.69,.99),AP=y3(b3),x3=v3(AP),w3=t=>(t*=2)<1?.5*AP(t):.5*(2-Math.pow(2,-10*(t-1))),CP=t=>1-Math.sin(Math.acos(t)),S3=y3(CP),_3=v3(CP),i7=bf(.42,0,1,1),s7=bf(0,0,.58,1),A3=bf(.42,0,.58,1),a7=t=>Array.isArray(t)&&typeof t[0]!="number",C3=t=>Array.isArray(t)&&typeof t[0]=="number",o7={linear:Ci,easeIn:i7,easeInOut:A3,easeOut:s7,circIn:CP,circInOut:_3,circOut:S3,backIn:AP,backInOut:x3,backOut:b3,anticipate:w3},l7=t=>typeof t=="string",sO=t=>{if(C3(t)){wP(t.length===4);const[e,n,r,i]=t;return bf(e,n,r,i)}else if(l7(t))return o7[t];return t},gm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function c7(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(c.schedule(d),t()),d(o)}const c={schedule:(d,h=!1,m=!1)=>{const x=m&&i?n:r;return h&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(l),n.clear(),i=!1,s&&(s=!1,c.process(d))}};return c}const u7=40;function P3(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=gm.reduce((_,E)=>(_[E]=c7(s),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:d,update:h,preRender:m,render:g,postRender:x}=a,y=()=>{const _=ea.useManualTiming?i.timestamp:performance.now();n=!1,ea.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,u7),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),d.process(i),h.process(i),m.process(i),g.process(i),x.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(y))},b=()=>{n=!0,r=!0,i.isProcessing||t(y)};return{schedule:gm.reduce((_,E)=>{const P=a[E];return _[E]=(T,k=!1,O=!1)=>(n||b(),P.schedule(T,k,O)),_},{}),cancel:_=>{for(let E=0;E<gm.length;E++)a[gm[E]].cancel(_)},state:i,steps:a}}const{schedule:Ut,cancel:Ka,state:Jn,steps:Wx}=P3(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ci,!0);let Xm;function d7(){Xm=void 0}const Rr={now:()=>(Xm===void 0&&Rr.set(Jn.isProcessing||ea.useManualTiming?Jn.timestamp:performance.now()),Xm),set:t=>{Xm=t,queueMicrotask(d7)}},E3=t=>e=>typeof e=="string"&&e.startsWith(t),PP=E3("--"),h7=E3("var(--"),EP=t=>h7(t)?f7.test(t.split("/*")[0].trim()):!1,f7=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hh={...yu,transform:t=>Js(0,1,t)},vm={...yu,default:1},Xd=t=>Math.round(t*1e5)/1e5,TP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function p7(t){return t==null}const m7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jP=(t,e)=>n=>!!(typeof n=="string"&&m7.test(n)&&n.startsWith(t)||e&&!p7(n)&&Object.prototype.hasOwnProperty.call(n,e)),T3=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(TP);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},g7=t=>Js(0,255,t),Hx={...yu,transform:t=>Math.round(g7(t))},Bo={test:jP("rgb","red"),parse:T3("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Hx.transform(t)+", "+Hx.transform(e)+", "+Hx.transform(n)+", "+Xd(hh.transform(r))+")"};function v7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const H_={test:jP("#"),parse:v7,transform:Bo.transform},xf=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Fa=xf("deg"),gs=xf("%"),ze=xf("px"),y7=xf("vh"),b7=xf("vw"),aO={...gs,parse:t=>gs.parse(t)/100,transform:t=>gs.transform(t*100)},ic={test:jP("hsl","hue"),parse:T3("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+gs.transform(Xd(e))+", "+gs.transform(Xd(n))+", "+Xd(hh.transform(r))+")"},mn={test:t=>Bo.test(t)||H_.test(t)||ic.test(t),parse:t=>Bo.test(t)?Bo.parse(t):ic.test(t)?ic.parse(t):H_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Bo.transform(t):ic.transform(t),getAnimatableNone:t=>{const e=mn.parse(t);return e.alpha=0,mn.transform(e)}},x7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function w7(t){return isNaN(t)&&typeof t=="string"&&(t.match(TP)?.length||0)+(t.match(x7)?.length||0)>0}const j3="number",k3="color",S7="var",_7="var(",oO="${}",A7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(A7,l=>(mn.test(l)?(r.color.push(s),i.push(k3),n.push(mn.parse(l))):l.startsWith(_7)?(r.var.push(s),i.push(S7),n.push(l)):(r.number.push(s),i.push(j3),n.push(parseFloat(l))),++s,oO)).split(oO);return{values:n,split:o,indexes:r,types:i}}function N3(t){return fh(t).values}function O3(t){const{split:e,types:n}=fh(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===j3?s+=Xd(i[a]):o===k3?s+=mn.transform(i[a]):s+=i[a]}return s}}const C7=t=>typeof t=="number"?0:mn.test(t)?mn.getAnimatableNone(t):t;function P7(t){const e=N3(t);return O3(t)(e.map(C7))}const Ya={test:w7,parse:N3,createTransformer:O3,getAnimatableNone:P7};function qx(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function E7({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=qx(l,o,t+1/3),s=qx(l,o,t),a=qx(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function lg(t,e){return n=>n>0?e:t}const Kt=(t,e,n)=>t+(e-t)*n,Gx=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},T7=[H_,Bo,ic],j7=t=>T7.find(e=>e.test(t));function lO(t){const e=j7(t);if(!e)return!1;let n=e.parse(t);return e===ic&&(n=E7(n)),n}const cO=(t,e)=>{const n=lO(t),r=lO(e);if(!n||!r)return lg(t,e);const i={...n};return s=>(i.red=Gx(n.red,r.red,s),i.green=Gx(n.green,r.green,s),i.blue=Gx(n.blue,r.blue,s),i.alpha=Kt(n.alpha,r.alpha,s),Bo.transform(i))},q_=new Set(["none","hidden"]);function k7(t,e){return q_.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function N7(t,e){return n=>Kt(t,e,n)}function kP(t){return typeof t=="number"?N7:typeof t=="string"?EP(t)?lg:mn.test(t)?cO:D7:Array.isArray(t)?M3:typeof t=="object"?mn.test(t)?cO:O7:lg}function M3(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>kP(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function O7(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=kP(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function M7(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const D7=(t,e)=>{const n=Ya.createTransformer(e),r=fh(t),i=fh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?q_.has(t)&&!i.values.length||q_.has(e)&&!r.values.length?k7(t,e):yf(M3(M7(r,i),i.values),n):lg(t,e)};function D3(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Kt(t,e,n):kP(t)(t,e)}const R7=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Ut.update(e,n),stop:()=>Ka(e),now:()=>Jn.isProcessing?Jn.timestamp:Rr.now()}},R3=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},cg=2e4;function NP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<cg;)e+=n,r=t.next(e);return e>=cg?1/0:e}function I7(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(NP(r),cg);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:_i(i)}}const L7=5;function I3(t,e,n){const r=Math.max(e-L7,0);return m3(n-t(r),e-r)}const Qt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kx=.001;function F7({duration:t=Qt.duration,bounce:e=Qt.bounce,velocity:n=Qt.velocity,mass:r=Qt.mass}){let i,s,a=1-e;a=Js(Qt.minDamping,Qt.maxDamping,a),t=Js(Qt.minDuration,Qt.maxDuration,_i(t)),a<1?(i=c=>{const d=c*a,h=d*t,m=d-n,g=G_(c,a),x=Math.exp(-h);return Kx-m/g*x},s=c=>{const h=c*a*t,m=h*n+n,g=Math.pow(a,2)*Math.pow(c,2)*t,x=Math.exp(-h),y=G_(Math.pow(c,2),a);return(-i(c)+Kx>0?-1:1)*((m-g)*x)/y}):(i=c=>{const d=Math.exp(-c*t),h=(c-n)*t+1;return-Kx+d*h},s=c=>{const d=Math.exp(-c*t),h=(n-c)*(t*t);return d*h});const o=5/t,l=B7(i,s,o);if(t=ms(t),isNaN(l))return{stiffness:Qt.stiffness,damping:Qt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const $7=12;function B7(t,e,n){let r=n;for(let i=1;i<$7;i++)r=r-t(r)/e(r);return r}function G_(t,e){return t*Math.sqrt(1-e*e)}const U7=["duration","bounce"],z7=["stiffness","damping","mass"];function uO(t,e){return e.some(n=>t[n]!==void 0)}function V7(t){let e={velocity:Qt.velocity,stiffness:Qt.stiffness,damping:Qt.damping,mass:Qt.mass,isResolvedFromDuration:!1,...t};if(!uO(t,z7)&&uO(t,U7))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Js(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Qt.mass,stiffness:i,damping:s}}else{const n=F7(t);e={...e,...n,mass:Qt.mass},e.isResolvedFromDuration=!0}return e}function ug(t=Qt.visualDuration,e=Qt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:d,duration:h,velocity:m,isResolvedFromDuration:g}=V7({...n,velocity:-_i(n.velocity||0)}),x=m||0,y=c/(2*Math.sqrt(l*d)),b=a-s,w=_i(Math.sqrt(l/d)),A=Math.abs(b)<5;r||(r=A?Qt.restSpeed.granular:Qt.restSpeed.default),i||(i=A?Qt.restDelta.granular:Qt.restDelta.default);let _;if(y<1){const P=G_(w,y);_=T=>{const k=Math.exp(-y*w*T);return a-k*((x+y*w*b)/P*Math.sin(P*T)+b*Math.cos(P*T))}}else if(y===1)_=P=>a-Math.exp(-w*P)*(b+(x+w*b)*P);else{const P=w*Math.sqrt(y*y-1);_=T=>{const k=Math.exp(-y*w*T),O=Math.min(P*T,300);return a-k*((x+y*w*b)*Math.sinh(O)+P*b*Math.cosh(O))/P}}const E={calculatedDuration:g&&h||null,next:P=>{const T=_(P);if(g)o.done=P>=h;else{let k=P===0?x:0;y<1&&(k=P===0?ms(x):I3(_,P,T));const O=Math.abs(k)<=r,R=Math.abs(a-T)<=i;o.done=O&&R}return o.value=o.done?a:T,o},toString:()=>{const P=Math.min(NP(E),cg),T=R3(k=>E.next(P*k).value,P,30);return P+"ms "+T},toTransition:()=>{}};return E}ug.applyToOptions=t=>{const e=I7(t,100,ug);return t.ease=e.ease,t.duration=ms(e.duration),t.type="keyframes",t};function K_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:d}){const h=t[0],m={done:!1,value:h},g=O=>o!==void 0&&O<o||l!==void 0&&O>l,x=O=>o===void 0?l:l===void 0||Math.abs(o-O)<Math.abs(l-O)?o:l;let y=n*e;const b=h+y,w=a===void 0?b:a(b);w!==b&&(y=w-h);const A=O=>-y*Math.exp(-O/r),_=O=>w+A(O),E=O=>{const R=A(O),F=_(O);m.done=Math.abs(R)<=c,m.value=m.done?w:F};let P,T;const k=O=>{g(m.value)&&(P=O,T=ug({keyframes:[m.value,x(m.value)],velocity:I3(_,O,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:O=>{let R=!1;return!T&&P===void 0&&(R=!0,E(O),k(O)),P!==void 0&&O>=P?T.next(O-P):(!R&&E(O),m)}}}function W7(t,e,n){const r=[],i=n||ea.mix||D3,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Ci:e;o=yf(l,o)}r.push(o)}return r}function H7(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(wP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=W7(e,r,i),l=o.length,c=d=>{if(a&&d<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const m=dh(t[h],t[h+1],d);return o[h](m)};return n?d=>c(Js(t[0],t[s-1],d)):c}function q7(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=dh(0,e,r);t.push(Kt(n,1,i))}}function G7(t){const e=[0];return q7(e,t.length-1),e}function K7(t,e){return t.map(n=>n*e)}function Y7(t,e){return t.map(()=>e||A3).splice(0,t.length-1)}function Qd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=a7(r)?r.map(sO):sO(r),s={done:!1,value:e[0]},a=K7(n&&n.length===e.length?n:G7(e),t),o=H7(a,e,{ease:Array.isArray(i)?i:Y7(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const X7=t=>t!==null;function OP(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(X7),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const Q7={decay:K_,inertia:K_,tween:Qd,keyframes:Qd,spring:ug};function L3(t){typeof t.type=="string"&&(t.type=Q7[t.type])}class MP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const Z7=t=>t/100;class DP extends MP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==Rr.now()&&this.tick(Rr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;L3(e);const{type:n=Qd,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||Qd;l!==Qd&&typeof o[0]!="number"&&(this.mixKeyframes=yf(Z7,D3(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=NP(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:h,repeatType:m,repeatDelay:g,type:x,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const w=this.currentTime-c*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?w<0:w>i;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,E=r;if(h){const O=Math.min(this.currentTime,i)/o;let R=Math.floor(O),F=O%1;!F&&O>=1&&(F=1),F===1&&R--,R=Math.min(R,h+1),!!(R%2)&&(m==="reverse"?(F=1-F,g&&(F-=g/o)):m==="mirror"&&(E=a)),_=Js(0,1,F)*o}const P=A?{done:!1,value:d[0]}:E.next(_);s&&(P.value=s(P.value));let{done:T}=P;!A&&l!==null&&(T=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return k&&x!==K_&&(P.value=OP(d,this.options,b,this.speed)),y&&y(P.value),k&&this.finish(),P}then(e,n){return this.finished.then(e,n)}get duration(){return _i(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(this.currentTime)}set time(e){e=ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=_i(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=R7,startTime:n}=this.options;this.driver||(this.driver=e(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function J7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Uo=t=>t*180/Math.PI,Y_=t=>{const e=Uo(Math.atan2(t[1],t[0]));return X_(e)},eK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Y_,rotateZ:Y_,skewX:t=>Uo(Math.atan(t[1])),skewY:t=>Uo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},X_=t=>(t=t%360,t<0&&(t+=360),t),dO=Y_,hO=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fO=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),tK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hO,scaleY:fO,scale:t=>(hO(t)+fO(t))/2,rotateX:t=>X_(Uo(Math.atan2(t[6],t[5]))),rotateY:t=>X_(Uo(Math.atan2(-t[2],t[0]))),rotateZ:dO,rotate:dO,skewX:t=>Uo(Math.atan(t[4])),skewY:t=>Uo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Q_(t){return t.includes("scale")?1:0}function Z_(t,e){if(!t||t==="none")return Q_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=tK,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=eK,i=o}if(!i)return Q_(e);const s=r[e],a=i[1].split(",").map(rK);return typeof s=="function"?s(a):a[s]}const nK=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Z_(n,e)};function rK(t){return parseFloat(t.trim())}const bu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],xu=new Set(bu),pO=t=>t===yu||t===ze,iK=new Set(["x","y","z"]),sK=bu.filter(t=>!iK.has(t));function aK(t){const e=[];return sK.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Go={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Z_(e,"x"),y:(t,{transform:e})=>Z_(e,"y")};Go.translateX=Go.x;Go.translateY=Go.y;const Ko=new Set;let J_=!1,eA=!1,tA=!1;function F3(){if(eA){const t=Array.from(Ko).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=aK(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{r.getValue(s)?.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}eA=!1,J_=!1,Ko.forEach(t=>t.complete(tA)),Ko.clear()}function $3(){Ko.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(eA=!0)})}function oK(){tA=!0,$3(),F3(),tA=!1}class RP{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),J_||(J_=!0,Ut.read($3),Ut.resolveKeyframes(F3))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i?.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}J7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const lK=t=>t.startsWith("--");function cK(t,e,n){lK(e)?t.style.setProperty(e,n):t.style[e]=n}const uK=SP(()=>window.ScrollTimeline!==void 0),dK={};function hK(t,e){const n=SP(t);return()=>dK[e]??n()}const B3=hK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zd=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,mO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zd([0,.65,.55,1]),circOut:zd([.55,0,1,.45]),backIn:zd([.31,.01,.66,-.59]),backOut:zd([.33,1.53,.69,.99])};function U3(t,e){if(t)return typeof t=="function"?B3()?R3(t,e):"ease-out":C3(t)?zd(t):Array.isArray(t)?t.map(n=>U3(n,e)||mO.easeOut):mO[t]}function fK(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const d={[e]:n};l&&(d.offset=l);const h=U3(o,i);Array.isArray(h)&&(d.easing=h);const m={delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(m.pseudoElement=c),t.animate(d,m)}function z3(t){return typeof t=="function"&&"applyToOptions"in t}function pK({type:t,...e}){return z3(t)&&B3()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class mK extends MP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,wP(typeof e.type!="string");const c=pK(e);this.animation=fK(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=OP(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):cK(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return _i(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_i(e)}get time(){return _i(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&uK()?(this.animation.timeline=e,Ci):n(this)}}const V3={anticipate:w3,backInOut:x3,circInOut:_3};function gK(t){return t in V3}function vK(t){typeof t.ease=="string"&&gK(t.ease)&&(t.ease=V3[t.ease])}const gO=10;class yK extends mK{constructor(e){vK(e),L3(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new DP({...a,autoplay:!1}),l=ms(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-gO).value,o.sample(l).value,gO),o.stop()}}const vO=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ya.test(t)||t==="0")&&!t.startsWith("url("));function bK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function xK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=vO(i,e),o=vO(s,e);return!a||!o?!1:bK(t)||(n==="spring"||z3(n))&&r}function nA(t){t.duration=0,t.type="keyframes"}const wK=new Set(["opacity","clipPath","filter","transform"]),SK=SP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _K(t){const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return SK()&&n&&wK.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const AK=40;class CK extends MP{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:d,...h}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Rr.now();const m={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:d,...h},g=d?.KeyframeResolver||RP;this.keyframeResolver=new g(o,(x,y,b)=>this.onKeyframesResolved(x,y,m,!b),l,c,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Rr.now(),xK(e,s,a,o)||((ea.instantAnimations||!l)&&d?.(OP(e,r,n)),e[0]=e[e.length-1],nA(r),r.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>AK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},g=!c&&_K(m)?new yK({...m,element:m.motionValue.owner.current}):new DP(m);g.finished.then(()=>this.notifyFinished()).catch(Ci),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),oK()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const PK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EK(t){const e=PK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function W3(t,e,n=1){const[r,i]=EK(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return h3(a)?parseFloat(a):a}return EP(i)?W3(i,e,n+1):i}function IP(t,e){return t?.[e]??t?.default??t}const H3=new Set(["width","height","top","left","right","bottom",...bu]),TK={test:t=>t==="auto",parse:t=>t},q3=t=>e=>e.test(t),G3=[yu,ze,gs,Fa,b7,y7,TK],yO=t=>G3.find(q3(t));function jK(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||p3(t):!0}const kK=new Set(["brightness","contrast","saturate","opacity"]);function NK(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(TP)||[];if(!r)return t;const i=n.replace(r,"");let s=kK.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const OK=/\b([a-z-]*)\(.*?\)/gu,rA={...Ya,getAnimatableNone:t=>{const e=t.match(OK);return e?e.map(NK).join(" "):t}},bO={...yu,transform:Math.round},MK={rotate:Fa,rotateX:Fa,rotateY:Fa,rotateZ:Fa,scale:vm,scaleX:vm,scaleY:vm,scaleZ:vm,skew:Fa,skewX:Fa,skewY:Fa,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:hh,originX:aO,originY:aO,originZ:ze},LP={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze,...MK,zIndex:bO,fillOpacity:hh,strokeOpacity:hh,numOctaves:bO},DK={...LP,color:mn,backgroundColor:mn,outlineColor:mn,fill:mn,stroke:mn,borderColor:mn,borderTopColor:mn,borderRightColor:mn,borderBottomColor:mn,borderLeftColor:mn,filter:rA,WebkitFilter:rA},K3=t=>DK[t];function Y3(t,e){let n=K3(t);return n!==rA&&(n=Ya),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const RK=new Set(["auto","none","0"]);function IK(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!RK.has(s)&&fh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Y3(n,i)}class LK extends RP{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),EP(c))){const d=W3(c,n.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!H3.has(r)||e.length!==2)return;const[i,s]=e,a=yO(i),o=yO(s);if(a!==o)if(pO(a)&&pO(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Go[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||jK(e[i]))&&r.push(i);r.length&&IK(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Go[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Go[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),this.removedTransforms?.length&&this.removedTransforms.forEach(([o,l])=>{e.getValue(o).set(l)}),this.resolveNoneKeyframes()}}function FK(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const i=n?.[t]??r.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const X3=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $K(t){return f3(t)&&"offsetHeight"in t}const xO=30,BK=t=>!isNaN(parseFloat(t));class UK{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=Rr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=BK(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new _P);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ut.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xO);return m3(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jc(t,e){return new UK(t,e)}const{schedule:FP}=P3(queueMicrotask,!1),zi={x:!1,y:!1};function Q3(){return zi.x||zi.y}function zK(t){return t==="x"||t==="y"?zi[t]?null:(zi[t]=!0,()=>{zi[t]=!1}):zi.x||zi.y?null:(zi.x=zi.y=!0,()=>{zi.x=zi.y=!1})}function Z3(t,e){const n=FK(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function wO(t){return!(t.pointerType==="touch"||Q3())}function VK(t,e,n={}){const[r,i,s]=Z3(t,n),a=o=>{if(!wO(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const d=h=>{wO(h)&&(c(h),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const J3=(t,e)=>e?t===e?!0:J3(t,e.parentElement):!1,$P=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,WK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function HK(t){return WK.has(t.tagName)||t.tabIndex!==-1}const Qm=new WeakSet;function SO(t){return e=>{e.key==="Enter"&&t(e)}}function Yx(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const qK=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=SO(()=>{if(Qm.has(n))return;Yx(n,"down");const i=SO(()=>{Yx(n,"up")}),s=()=>Yx(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function _O(t){return $P(t)&&!Q3()}function GK(t,e,n={}){const[r,i,s]=Z3(t,n),a=o=>{const l=o.currentTarget;if(!_O(o))return;Qm.add(l);const c=e(l,o),d=(g,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Qm.has(l)&&Qm.delete(l),_O(g)&&typeof c=="function"&&c(g,{success:x})},h=g=>{d(g,l===window||l===document||n.useGlobalTarget||J3(l,g.target))},m=g=>{d(g,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),$K(o)&&(o.addEventListener("focus",c=>qK(c,i)),!HK(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function e4(t){return f3(t)&&"ownerSVGElement"in t}function KK(t){return e4(t)&&t.tagName==="svg"}const dr=t=>!!(t&&t.getVelocity),YK=[...G3,mn,Ya],XK=t=>YK.find(q3(t)),t4=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function QK(t=!0){const e=C.useContext(yP);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const n4=C.createContext({strict:!1}),AO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in AO)kc[t]={isEnabled:e=>AO[t].some(n=>!!e[n])};function ZK(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const JK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||JK.has(t)}let r4=t=>!dg(t);function eY(t){typeof t=="function"&&(r4=e=>e.startsWith("on")?!dg(e):t(e))}try{eY(require("@emotion/is-prop-valid").default)}catch{}function tY(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(r4(i)||n===!0&&dg(i)||!e&&!dg(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const Rv=C.createContext({});function Iv(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ph(t){return typeof t=="string"||Array.isArray(t)}const BP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],UP=["initial",...BP];function Lv(t){return Iv(t.animate)||UP.some(e=>ph(t[e]))}function i4(t){return!!(Lv(t)||t.variants)}function nY(t,e){if(Lv(t)){const{initial:n,animate:r}=t;return{initial:n===!1||ph(n)?n:void 0,animate:ph(r)?r:void 0}}return t.inherit!==!1?e:{}}function rY(t){const{initial:e,animate:n}=nY(t,C.useContext(Rv));return C.useMemo(()=>({initial:e,animate:n}),[CO(e),CO(n)])}function CO(t){return Array.isArray(t)?t.join(" "):t}const mh={};function iY(t){for(const e in t)mh[e]=t[e],PP(e)&&(mh[e].isCSSVariable=!0)}function s4(t,{layout:e,layoutId:n}){return xu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!mh[t]||t==="opacity")}const sY={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aY=bu.length;function oY(t,e,n){let r="",i=!0;for(let s=0;s<aY;s++){const a=bu[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=X3(o,LP[a]);if(!l){i=!1;const d=sY[a]||a;r+=`${d}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function zP(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(xu.has(l)){a=!0;continue}else if(PP(l)){i[l]=c;continue}else{const d=X3(c,LP[l]);l.startsWith("origin")?(o=!0,s[l]=d):r[l]=d}}if(e.transform||(a||n?r.transform=oY(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:d=0}=s;r.transformOrigin=`${l} ${c} ${d}`}}const VP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a4(t,e,n){for(const r in e)!dr(e[r])&&!s4(r,n)&&(t[r]=e[r])}function lY({transformTemplate:t},e){return C.useMemo(()=>{const n=VP();return zP(n,e,t),Object.assign({},n.vars,n.style)},[e])}function cY(t,e){const n=t.style||{},r={};return a4(r,n,t),Object.assign(r,lY(t,e)),r}function uY(t,e){const n={},r=cY(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const dY={offset:"stroke-dashoffset",array:"stroke-dasharray"},hY={offset:"strokeDashoffset",array:"strokeDasharray"};function fY(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?dY:hY;t[s.offset]=ze.transform(-r);const a=ze.transform(e),o=ze.transform(n);t[s.array]=`${a} ${o}`}function o4(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,d){if(zP(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:m}=t;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=d?.transformBox??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),i!==void 0&&fY(h,i,s,a,!1)}const l4=()=>({...VP(),attrs:{}}),c4=t=>typeof t=="string"&&t.toLowerCase()==="svg";function pY(t,e,n,r){const i=C.useMemo(()=>{const s=l4();return o4(s,e,c4(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};a4(s,t.style,t),i.style={...s,...i.style}}return i}const mY=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function WP(t){return typeof t!="string"||t.includes("-")?!1:!!(mY.indexOf(t)>-1||/[A-Z]/u.test(t))}function gY(t,e,n,{latestValues:r},i,s=!1){const o=(WP(t)?pY:uY)(e,r,i,t),l=tY(e,typeof t=="string",s),c=t!==C.Fragment?{...l,...o,ref:n}:{},{children:d}=e,h=C.useMemo(()=>dr(d)?d.get():d,[d]);return C.createElement(t,{...c,children:h})}function PO(t){const e=[{},{}];return t?.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function HP(t,e,n,r){if(typeof e=="function"){const[i,s]=PO(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=PO(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function Zm(t){return dr(t)?t.get():t}function vY({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:yY(n,r,i,t),renderState:e()}}function yY(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Zm(s[m]);let{initial:a,animate:o}=t;const l=Lv(t),c=i4(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=n?n.initial===!1:!1;d=d||a===!1;const h=d?o:a;if(h&&typeof h!="boolean"&&!Iv(h)){const m=Array.isArray(h)?h:[h];for(let g=0;g<m.length;g++){const x=HP(t,m[g]);if(x){const{transitionEnd:y,transition:b,...w}=x;for(const A in w){let _=w[A];if(Array.isArray(_)){const E=d?_.length-1:0;_=_[E]}_!==null&&(i[A]=_)}for(const A in y)i[A]=y[A]}}}return i}const u4=t=>(e,n)=>{const r=C.useContext(Rv),i=C.useContext(yP),s=()=>vY(t,e,r,i);return n?s():Z9(s)};function qP(t,e,n){const{style:r}=t,i={};for(const s in r)(dr(r[s])||e.style&&dr(e.style[s])||s4(s,t)||n?.getValue(s)?.liveStyle!==void 0)&&(i[s]=r[s]);return i}const bY=u4({scrapeMotionValuesFromProps:qP,createRenderState:VP});function d4(t,e,n){const r=qP(t,e,n);for(const i in t)if(dr(t[i])||dr(e[i])){const s=bu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const xY=u4({scrapeMotionValuesFromProps:d4,createRenderState:l4}),wY=Symbol.for("motionComponentSymbol");function sc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function SY(t,e,n){return C.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):sc(n)&&(n.current=r))},[e])}const GP=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),_Y="framerAppearId",h4="data-"+GP(_Y),f4=C.createContext({});function AY(t,e,n,r,i){const{visualElement:s}=C.useContext(Rv),a=C.useContext(n4),o=C.useContext(yP),l=C.useContext(t4).reducedMotion,c=C.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=c.current,h=C.useContext(f4);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&CY(c.current,n,i,h);const m=C.useRef(!1);C.useInsertionEffect(()=>{d&&m.current&&d.update(n,o)});const g=n[h4],x=C.useRef(!!g&&!window.MotionHandoffIsComplete?.(g)&&window.MotionHasOptimisedAnimation?.(g));return J9(()=>{d&&(m.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),C.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(g)}),x.current=!1),d.enteringChildren=void 0)}),d}function CY(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:p4(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&sc(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:c})}function p4(t){if(t)return t.options.allowProjection!==!1?t.projection:p4(t.parent)}function Xx(t,{forwardMotionProps:e=!1}={},n,r){n&&ZK(n);const i=WP(t)?xY:bY;function s(o,l){let c;const d={...C.useContext(t4),...o,layoutId:PY(o)},{isStatic:h}=d,m=rY(o),g=i(o,h);if(!h&&vP){EY();const x=TY(d);c=x.MeasureLayout,m.visualElement=AY(t,g,d,r,x.ProjectionNode)}return f.jsxs(Rv.Provider,{value:m,children:[c&&m.visualElement?f.jsx(c,{visualElement:m.visualElement,...d}):null,gY(t,o,SY(g,m.visualElement,l),g,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(s);return a[wY]=t,a}function PY({layoutId:t}){const e=C.useContext(d3).id;return e&&t!==void 0?e+"-"+t:t}function EY(t,e){C.useContext(n4).strict}function TY(t){const{drag:e,layout:n}=kc;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e?.isEnabled(t)||n?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function jY(t,e){if(typeof Proxy>"u")return Xx;const n=new Map,r=(s,a)=>Xx(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,Xx(a,void 0,t,e)),n.get(a))})}function m4({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function kY({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function NY(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Qx(t){return t===void 0||t===1}function iA({scale:t,scaleX:e,scaleY:n}){return!Qx(t)||!Qx(e)||!Qx(n)}function Ro(t){return iA(t)||g4(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function g4(t){return EO(t.x)||EO(t.y)}function EO(t){return t&&t!=="0%"}function hg(t,e,n){const r=t-n,i=e*r;return n+i}function TO(t,e,n,r,i){return i!==void 0&&(t=hg(t,i,r)),hg(t,n,r)+e}function sA(t,e=0,n=1,r,i){t.min=TO(t.min,e,n,r,i),t.max=TO(t.max,e,n,r,i)}function v4(t,{x:e,y:n}){sA(t.x,e.translate,e.scale,e.originPoint),sA(t.y,n.translate,n.scale,n.originPoint)}const jO=.999999999999,kO=1.0000000000001;function OY(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&oc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,v4(t,a)),r&&Ro(s.latestValues)&&oc(t,s.latestValues))}e.x<kO&&e.x>jO&&(e.x=1),e.y<kO&&e.y>jO&&(e.y=1)}function ac(t,e){t.min=t.min+e,t.max=t.max+e}function NO(t,e,n,r,i=.5){const s=Kt(t.min,t.max,i);sA(t,e,n,s,r)}function oc(t,e){NO(t.x,e.x,e.scaleX,e.scale,e.originX),NO(t.y,e.y,e.scaleY,e.scale,e.originY)}function y4(t,e){return m4(NY(t.getBoundingClientRect(),e))}function MY(t,e,n){const r=y4(t,n),{scroll:i}=e;return i&&(ac(r.x,i.offset.x),ac(r.y,i.offset.y)),r}const OO=()=>({translate:0,scale:1,origin:0,originPoint:0}),lc=()=>({x:OO(),y:OO()}),MO=()=>({min:0,max:0}),on=()=>({x:MO(),y:MO()}),aA={current:null},b4={current:!1};function DY(){if(b4.current=!0,!!vP)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>aA.current=t.matches;t.addEventListener("change",e),e()}else aA.current=!1}const RY=new WeakMap;function IY(t,e,n){for(const r in e){const i=e[r],s=n[r];if(dr(i))t.addValue(r,i);else if(dr(s))t.addValue(r,jc(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,jc(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class LY{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=RP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Rr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Ut.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Lv(n),this.isVariantNode=i4(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const g=h[m];l[m]!==void 0&&dr(g)&&g.set(l[m])}}mount(e){this.current=e,RY.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),b4.current||DY(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:aA.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ka(this.notifyUpdate),Ka(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=xu.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Ut.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in kc){const n=kc[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):on()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DO.length;r++){const i=DO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=IY(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=jc(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(h3(r)||p3(r))?r=parseFloat(r):!XK(r)&&Ya.test(n)&&(r=Y3(e,n)),this.setBaseTarget(e,dr(r)?r.get():r)),dr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const s=HP(this.props,n,this.presenceContext?.custom);s&&(r=s[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!dr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new _P),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){FP.render(this.render)}}class x4 extends LY{constructor(){super(...arguments),this.KeyframeResolver=LK}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function w4(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i?.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function FY(t){return window.getComputedStyle(t)}class $Y extends x4{constructor(){super(...arguments),this.type="html",this.renderInstance=w4}readValueFromInstance(e,n){if(xu.has(n))return this.projection?.isProjecting?Q_(n):nK(e,n);{const r=FY(e),i=(PP(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return y4(e,n)}build(e,n,r){zP(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return qP(e,n,r)}}const S4=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BY(t,e,n,r){w4(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(S4.has(i)?i:GP(i),e.attrs[i])}class UY extends x4{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=on}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(xu.has(n)){const r=K3(n);return r&&r.default||0}return n=S4.has(n)?n:GP(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return d4(e,n,r)}build(e,n,r){o4(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){BY(e,n,r,i)}mount(e){this.isSVGTag=c4(e.tagName),super.mount(e)}}const zY=(t,e)=>WP(t)?new UY(e):new $Y(e,{allowProjection:t!==C.Fragment});function vc(t,e,n){const r=t.getProps();return HP(r,e,n!==void 0?n:r.custom,t)}const oA=t=>Array.isArray(t);function VY(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,jc(n))}function WY(t){return oA(t)?t[t.length-1]||0:t}function HY(t,e){const n=vc(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=WY(s[a]);VY(t,a,o)}}function qY(t){return!!(dr(t)&&t.add)}function lA(t,e){const n=t.getValue("willChange");if(qY(n))return n.add(e);if(!n&&ea.WillChange){const r=new ea.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function _4(t){return t.props[h4]}const GY=t=>t!==null;function KY(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(GY),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return i[s]}const YY={type:"spring",stiffness:500,damping:25,restSpeed:10},XY=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),QY={type:"keyframes",duration:.8},ZY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JY=(t,{keyframes:e})=>e.length>2?QY:xu.has(t)?t.startsWith("scale")?XY(e[1]):YY:ZY;function eX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...d}){return!!Object.keys(d).length}const KP=(t,e,n,r={},i,s)=>a=>{const o=IP(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ms(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};eX(o)||Object.assign(d,JY(t,d)),d.duration&&(d.duration=ms(d.duration)),d.repeatDelay&&(d.repeatDelay=ms(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(nA(d),d.delay===0&&(h=!0)),(ea.instantAnimations||ea.skipAnimations)&&(h=!0,nA(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const m=KY(d.keyframes,o);if(m!==void 0){Ut.update(()=>{d.onUpdate(m),d.onComplete()});return}}return o.isSync?new DP(d):new CK(d)};function tX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function A4(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const h=t.getValue(d,t.latestValues[d]??null),m=o[d];if(m===void 0||c&&tX(c,d))continue;const g={delay:n,...IP(s||{},d)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===x&&!g.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const w=_4(t);if(w){const A=window.MotionHandoffAnimation(w,d,Ut);A!==null&&(g.startTime=A,y=!0)}}lA(t,d),h.start(KP(d,h,m,t.shouldReduceMotion&&H3.has(d)?{type:!1}:g,t,y));const b=h.animation;b&&l.push(b)}return a&&Promise.all(l).then(()=>{Ut.update(()=>{a&&HY(t,a)})}),l}function C4(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,d)=>c.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function cA(t,e,n={}){const r=vc(t,e,n.type==="exit"?t.presenceContext?.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(A4(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:h}=i;return nX(t,e,l,c,d,h,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function nX(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(cA(l,e,{...a,delay:n+(typeof r=="function"?0:r)+C4(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function rX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>cA(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=cA(t,e,n);else{const i=typeof e=="function"?vc(t,e,n.custom):e;r=Promise.all(A4(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function P4(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const iX=UP.length;function E4(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?E4(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<iX;n++){const r=UP[n],i=t.props[r];(ph(i)||i===!1)&&(e[r]=i)}return e}const sX=[...BP].reverse(),aX=BP.length;function oX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>rX(t,n,r)))}function lX(t){let e=oX(t),n=RO(),r=!0;const i=l=>(c,d)=>{const h=vc(t,d,l==="exit"?t.presenceContext?.custom:void 0);if(h){const{transition:m,transitionEnd:g,...x}=h;c={...c,...x,...g}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,d=E4(t.parent)||{},h=[],m=new Set;let g={},x=1/0;for(let b=0;b<aX;b++){const w=sX[b],A=n[w],_=c[w]!==void 0?c[w]:d[w],E=ph(_),P=w===l?A.isActive:null;P===!1&&(x=b);let T=_===d[w]&&_!==c[w]&&E;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),A.protectedKeys={...g},!A.isActive&&P===null||!_&&!A.prevProp||Iv(_)||typeof _=="boolean")continue;const k=cX(A.prevProp,_);let O=k||w===l&&A.isActive&&!T&&E||b>x&&E,R=!1;const F=Array.isArray(_)?_:[_];let M=F.reduce(i(w),{});P===!1&&(M={});const{prevResolvedValues:D={}}=A,$={...D,...M},W=U=>{O=!0,m.has(U)&&(R=!0,m.delete(U)),A.needsAnimating[U]=!0;const L=t.getValue(U);L&&(L.liveStyle=!1)};for(const U in $){const L=M[U],G=D[U];if(g.hasOwnProperty(U))continue;let Q=!1;oA(L)&&oA(G)?Q=!P4(L,G):Q=L!==G,Q?L!=null?W(U):m.add(U):L!==void 0&&m.has(U)?W(U):A.protectedKeys[U]=!0}A.prevProp=_,A.prevResolvedValues=M,A.isActive&&(g={...g,...M}),r&&t.blockInitialAnimation&&(O=!1);const H=T&&k;O&&(!H||R)&&h.push(...F.map(U=>{const L={type:w};if(typeof U=="string"&&r&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:G}=t,Q=vc(G,U);if(G.enteringChildren&&Q){const{delayChildren:B}=Q.transition||{};L.delay=C4(G.enteringChildren,t,B)}}return{animation:U,options:L}}))}if(m.size){const b={};if(typeof c.initial!="boolean"){const w=vc(t,Array.isArray(c.initial)?c.initial[0]:c.initial);w&&w.transition&&(b.transition=w.transition)}m.forEach(w=>{const A=t.getBaseTarget(w),_=t.getValue(w);_&&(_.liveStyle=!0),b[w]=A??null}),h.push({animation:b})}let y=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(y=!1),r=!1,y?e(h):Promise.resolve()}function o(l,c){if(n[l].isActive===c)return Promise.resolve();t.variantChildren?.forEach(h=>h.animationState?.setActive(l,c)),n[l].isActive=c;const d=a(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=RO()}}}function cX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!P4(e,t):!1}function No(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function RO(){return{animate:No(!0),whileInView:No(),whileHover:No(),whileTap:No(),whileDrag:No(),whileFocus:No(),exit:No()}}class ro{constructor(e){this.isMounted=!1,this.node=e}update(){}}class uX extends ro{constructor(e){super(e),e.animationState||(e.animationState=lX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Iv(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let dX=0;class hX extends ro{constructor(){super(...arguments),this.id=dX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fX={animation:{Feature:uX},exit:{Feature:hX}};function gh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function wf(t){return{point:{x:t.pageX,y:t.pageY}}}const pX=t=>e=>$P(e)&&t(e,wf(e));function Zd(t,e,n,r){return gh(t,e,pX(n),r)}const T4=1e-4,mX=1-T4,gX=1+T4,j4=.01,vX=0-j4,yX=0+j4;function br(t){return t.max-t.min}function bX(t,e,n){return Math.abs(t-e)<=n}function IO(t,e,n,r=.5){t.origin=r,t.originPoint=Kt(e.min,e.max,t.origin),t.scale=br(n)/br(e),t.translate=Kt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=mX&&t.scale<=gX||isNaN(t.scale))&&(t.scale=1),(t.translate>=vX&&t.translate<=yX||isNaN(t.translate))&&(t.translate=0)}function Jd(t,e,n,r){IO(t.x,e.x,n.x,r?r.originX:void 0),IO(t.y,e.y,n.y,r?r.originY:void 0)}function LO(t,e,n){t.min=n.min+e.min,t.max=t.min+br(e)}function xX(t,e,n){LO(t.x,e.x,n.x),LO(t.y,e.y,n.y)}function FO(t,e,n){t.min=e.min-n.min,t.max=t.min+br(e)}function eh(t,e,n){FO(t.x,e.x,n.x),FO(t.y,e.y,n.y)}function xi(t){return[t("x"),t("y")]}const k4=({current:t})=>t?t.ownerDocument.defaultView:null,$O=(t,e)=>Math.abs(t-e);function wX(t,e){const n=$O(t.x,e.x),r=$O(t.y,e.y);return Math.sqrt(n**2+r**2)}class N4{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Jx(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,x=wX(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!x)return;const{point:y}=m,{timestamp:b}=Jn;this.history.push({...y,timestamp:b});const{onStart:w,onMove:A}=this.handlers;g||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,m)},this.handlePointerMove=(m,g)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Zx(g,this.transformPagePoint),Ut.update(this.updatePoint,!0)},this.handlePointerUp=(m,g)=>{this.end();const{onEnd:x,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Jx(m.type==="pointercancel"?this.lastMoveEventInfo:Zx(g,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),y&&y(m,w)},!$P(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=wf(e),l=Zx(o,this.transformPagePoint),{point:c}=l,{timestamp:d}=Jn;this.history=[{...c,timestamp:d}];const{onSessionStart:h}=n;h&&h(e,Jx(l,this.history)),this.removeListeners=yf(Zd(this.contextWindow,"pointermove",this.handlePointerMove),Zd(this.contextWindow,"pointerup",this.handlePointerUp),Zd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ka(this.updatePoint)}}function Zx(t,e){return e?{point:e(t.point)}:t}function BO(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Jx({point:t},e){return{point:t,delta:BO(t,O4(e)),offset:BO(t,SX(e)),velocity:_X(e,.1)}}function SX(t){return t[0]}function O4(t){return t[t.length-1]}function _X(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=O4(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ms(e)));)n--;if(!r)return{x:0,y:0};const s=_i(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function AX(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Kt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Kt(n,t,r.max):Math.min(t,n)),t}function UO(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CX(t,{top:e,left:n,bottom:r,right:i}){return{x:UO(t.x,n,i),y:UO(t.y,e,r)}}function zO(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function PX(t,e){return{x:zO(t.x,e.x),y:zO(t.y,e.y)}}function EX(t,e){let n=.5;const r=br(t),i=br(e);return i>r?n=dh(e.min,e.max-r,t.min):r>i&&(n=dh(t.min,t.max-i,e.min)),Js(0,1,n)}function TX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const uA=.35;function jX(t=uA){return t===!1?t=0:t===!0&&(t=uA),{x:VO(t,"left","right"),y:VO(t,"top","bottom")}}function VO(t,e,n){return{min:WO(t,e),max:WO(t,n)}}function WO(t,e){return typeof t=="number"?t:t[e]||0}const kX=new WeakMap;class NX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=on(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(wf(h).point)},a=(h,m)=>{const{drag:g,dragPropagation:x,onDragStart:y}=this.getProps();if(g&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zK(g),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(w=>{let A=this.getAxisMotionValue(w).get()||0;if(gs.test(A)){const{projection:_}=this.visualElement;if(_&&_.layout){const E=_.layout.layoutBox[w];E&&(A=br(E)*(parseFloat(A)/100))}}this.originPoint[w]=A}),y&&Ut.postRender(()=>y(h,m)),lA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:g,dragDirectionLock:x,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:w}=m;if(x&&this.currentDirection===null){this.currentDirection=OX(w),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",m.point,w),this.updateAxis("y",m.point,w),this.visualElement.render(),b&&b(h,m)},l=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>xi(h=>this.getAnimationState(h)==="paused"&&this.getAxisMotionValue(h).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new N4(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:k4(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Ut.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ym(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=AX(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;e&&sc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=CX(r.layoutBox,e):this.constraints=!1,this.elastic=jX(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&xi(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=TX(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!sc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=MY(r,i.root,this.visualElement.getTransformPagePoint());let a=PX(i.layout.layoutBox,s);if(n){const o=n(kY(a));this.hasMutatedConstraints=!!o,o&&(a=m4(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=xi(d=>{if(!ym(d,n,this.currentDirection))return;let h=l&&l[d]||{};a&&(h={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,x={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return lA(this.visualElement,e),r.start(KP(e,r,0,n,this.visualElement,!1))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xi(n=>{const{drag:r}=this.getProps();if(!ym(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Kt(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!sc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xi(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=EX({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(a=>{if(!ym(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Kt(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;kX.set(this.visualElement,this);const e=this.visualElement.current,n=Zd(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();sc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ut.read(r);const a=gh(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xi(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=l[d].translate,h.set(h.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=uA,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function ym(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function OX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class MX extends ro{constructor(e){super(e),this.removeGroupControls=Ci,this.removeListeners=Ci,this.controls=new NX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ci}unmount(){this.removeGroupControls(),this.removeListeners()}}const HO=t=>(e,n)=>{t&&Ut.postRender(()=>t(e,n))};class DX extends ro{constructor(){super(...arguments),this.removePointerDownListener=Ci}onPointerDown(e){this.session=new N4(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:k4(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:HO(e),onStart:HO(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Ut.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Zd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jm={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function qO(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _d={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ze.test(t))t=parseFloat(t);else return t;const n=qO(t,e.target.x),r=qO(t,e.target.y);return`${n}% ${r}%`}},RX={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Ya.parse(t);if(i.length>5)return r;const s=Ya.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Kt(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let e0=!1;class IX extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;iY(LX),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),e0&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Jm.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,e0=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Ut.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),FP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;e0=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function M4(t){const[e,n]=QK(),r=C.useContext(d3);return f.jsx(IX,{...t,layoutGroup:r,switchLayoutGroup:C.useContext(f4),isPresent:e,safeToRemove:n})}const LX={borderRadius:{..._d,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_d,borderTopRightRadius:_d,borderBottomLeftRadius:_d,borderBottomRightRadius:_d,boxShadow:RX};function FX(t,e,n){const r=dr(t)?t:jc(t);return r.start(KP("",r,e,n)),r.animation}const $X=(t,e)=>t.depth-e.depth;class BX{constructor(){this.children=[],this.isDirty=!1}add(e){bP(this.children,e),this.isDirty=!0}remove(e){xP(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($X),this.isDirty=!1,this.children.forEach(e)}}function UX(t,e){const n=Rr.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ka(r),t(s-e))};return Ut.setup(r,!0),()=>Ka(r)}const D4=["TopLeft","TopRight","BottomLeft","BottomRight"],zX=D4.length,GO=t=>typeof t=="string"?parseFloat(t):t,KO=t=>typeof t=="number"||ze.test(t);function VX(t,e,n,r,i,s){i?(t.opacity=Kt(0,n.opacity??1,WX(r)),t.opacityExit=Kt(e.opacity??1,0,HX(r))):s&&(t.opacity=Kt(e.opacity??1,n.opacity??1,r));for(let a=0;a<zX;a++){const o=`border${D4[a]}Radius`;let l=YO(e,o),c=YO(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||KO(l)===KO(c)?(t[o]=Math.max(Kt(GO(l),GO(c),r),0),(gs.test(c)||gs.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Kt(e.rotate||0,n.rotate||0,r))}function YO(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WX=R4(0,.5,S3),HX=R4(.5,.95,Ci);function R4(t,e,n){return r=>r<t?0:r>e?1:n(dh(t,e,r))}function XO(t,e){t.min=e.min,t.max=e.max}function pi(t,e){XO(t.x,e.x),XO(t.y,e.y)}function QO(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function ZO(t,e,n,r,i){return t-=e,t=hg(t,1/n,r),i!==void 0&&(t=hg(t,1/i,r)),t}function qX(t,e=0,n=1,r=.5,i,s=t,a=t){if(gs.test(e)&&(e=parseFloat(e),e=Kt(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Kt(s.min,s.max,r);t===s&&(o-=e),t.min=ZO(t.min,e,n,o,i),t.max=ZO(t.max,e,n,o,i)}function JO(t,e,[n,r,i],s,a){qX(t,e[n],e[r],e[i],e.scale,s,a)}const GX=["x","scaleX","originX"],KX=["y","scaleY","originY"];function eM(t,e,n,r){JO(t.x,e,GX,n?n.x:void 0,r?r.x:void 0),JO(t.y,e,KX,n?n.y:void 0,r?r.y:void 0)}function tM(t){return t.translate===0&&t.scale===1}function I4(t){return tM(t.x)&&tM(t.y)}function nM(t,e){return t.min===e.min&&t.max===e.max}function YX(t,e){return nM(t.x,e.x)&&nM(t.y,e.y)}function rM(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function L4(t,e){return rM(t.x,e.x)&&rM(t.y,e.y)}function iM(t){return br(t.x)/br(t.y)}function sM(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class XX{constructor(){this.members=[]}add(e){bP(this.members,e),e.scheduleRender()}remove(e){if(xP(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function QX(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=n?.z||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:h,rotateY:m,skewX:g,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),g&&(r+=`skewX(${g}deg) `),x&&(r+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const t0=["","X","Y","Z"],ZX=1e3;let JX=0;function n0(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function F4(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=_4(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ut,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&F4(r)}function $4({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e?.()){this.id=JX++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(nQ),this.nodes.forEach(aQ),this.nodes.forEach(oQ),this.nodes.forEach(rQ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new BX)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new _P),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=e4(a)&&!KK(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,h=0;const m=()=>this.root.updateBlockedByResize=!1;Ut.read(()=>{h=window.innerWidth}),t(a,()=>{const g=window.innerWidth;g!==h&&(h=g,this.root.updateBlockedByResize=!0,d&&d(),d=UX(m,250),Jm.hasAnimatedSinceResize&&(Jm.hasAnimatedSinceResize=!1,this.nodes.forEach(lM)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||hQ,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=c.getProps(),w=!this.targetLayout||!L4(this.targetLayout,g),A=!h&&m;if(this.options.layoutRoot||this.resumeFrom||A||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...IP(x,"layout"),onPlay:y,onComplete:b};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(d,A)}else h||lM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ka(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&F4(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(oM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sQ),this.nodes.forEach(eQ),this.nodes.forEach(tQ)):this.nodes.forEach(oM),this.clearAllSnapshots();const o=Rr.now();Jn.delta=Js(0,1e3/60,o-Jn.timestamp),Jn.timestamp=o,Jn.isProcessing=!0,Wx.update.process(Jn),Wx.preRender.process(Jn),Wx.render.process(Jn),Jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,FP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iQ),this.sharedNodes.forEach(cQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ut.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ut.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!br(this.snapshot.measuredBox.x)&&!br(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=on(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!I4(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Ro(this.latestValues)||d)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),fQ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return on();const o=a.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(pQ))){const{scroll:c}=this.root;c&&(ac(o.x,c.offset.x),ac(o.y,c.offset.y))}return o}removeElementScroll(a){const o=on();if(pi(o,a),this.scroll?.wasRoot)return o;for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:h}=c;c!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&pi(o,a),ac(o.x,d.offset.x),ac(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=on();pi(l,a);for(let c=0;c<this.path.length;c++){const d=this.path[c];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&oc(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Ro(d.latestValues)&&oc(l,d.latestValues)}return Ro(this.latestValues)&&oc(l,this.latestValues),l}removeTransform(a){const o=on();pi(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Ro(c.latestValues))continue;iA(c.latestValues)&&c.updateSnapshot();const d=on(),h=c.measurePageBox();pi(d,h),eM(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return Ro(this.latestValues)&&eM(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Jn.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),eh(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=on(),this.targetWithTransforms=on()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):pi(this.target,this.layout.layoutBox),v4(this.target,this.targetDelta)):pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=on(),this.relativeTargetOrigin=on(),eh(this.relativeTargetOrigin,this.target,m.target),pi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||iA(this.parent.latestValues)||g4(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Jn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;pi(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;OY(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=on());const{target:g}=a;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QO(this.prevProjectionDelta.x,this.projectionDelta.x),QO(this.prevProjectionDelta.y,this.projectionDelta.y)),Jd(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!sM(this.projectionDelta.x,this.prevProjectionDelta.x)||!sM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.visualElement?.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=lc(),this.projectionDelta=lc(),this.projectionDeltaWithTransform=lc()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},h=lc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=on(),g=l?l.source:void 0,x=this.layout?this.layout.source:void 0,y=g!==x,b=this.getStack(),w=!b||b.members.length<=1,A=!!(y&&!w&&this.options.crossfade===!0&&!this.path.some(dQ));this.animationProgress=0;let _;this.mixTargetDelta=E=>{const P=E/1e3;cM(h.x,a.x,P),cM(h.y,a.y,P),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eh(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uQ(this.relativeTarget,this.relativeTargetOrigin,m,P),_&&YX(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=on()),pi(_,this.relativeTarget)),y&&(this.animationValues=d,VX(d,c,this.latestValues,P,A,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Ka(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ut.update(()=>{Jm.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=jc(0)),this.currentAnimation=FX(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZX),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:d}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&B4(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||on();const h=br(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const m=br(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}pi(o,l),oc(o,d),Jd(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new XX),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){const{layoutId:a}=this.options;return a?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:a}=this.options;return a?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&n0("z",a,c,this.animationValues);for(let d=0;d<t0.length;d++)n0(`rotate${t0[d]}`,a,c,this.animationValues),n0(`skew${t0[d]}`,a,c,this.animationValues);a.render();for(const d in c)a.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Zm(o?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Zm(o?.pointerEvents)||""),this.hasProjected&&!Ro(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=c.animationValues||c.latestValues;this.applyTransformsToTarget();let h=QX(this.projectionDeltaWithTransform,this.treeScale,d);l&&(h=l(d,h)),a.transform=h;const{x:m,y:g}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in mh){if(d[x]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:w}=mh[x],A=h==="none"?d[x]:y(d[x],c);if(b){const _=b.length;for(let E=0;E<_;E++)a[b[E]]=A}else w?this.options.visualElement.renderState.vars[x]=A:a[x]=A}this.options.layoutId&&(a.pointerEvents=c===this?Zm(o?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>a.currentAnimation?.stop()),this.root.nodes.forEach(aM),this.root.sharedNodes.clear()}}}function eQ(t){t.updateLayout()}function tQ(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=t.layout,{animationType:i}=t.options,s=e.source!==t.layout.source;i==="size"?xi(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],m=br(h);h.min=n[d].min,h.max=h.min+m}):B4(i,e.layoutBox,n)&&xi(d=>{const h=s?e.measuredBox[d]:e.layoutBox[d],m=br(n[d]);h.max=h.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+m)});const a=lc();Jd(a,n,e.layoutBox);const o=lc();s?Jd(o,t.applyTransform(r,!0),e.measuredBox):Jd(o,n,e.layoutBox);const l=!I4(a);let c=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:m}=d;if(h&&m){const g=on();eh(g,e.layoutBox,h.layoutBox);const x=on();eh(x,n,m.layoutBox),L4(g,x)||(c=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=g,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function nQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iQ(t){t.clearSnapshot()}function aM(t){t.clearMeasurements()}function oM(t){t.isLayoutDirty=!1}function sQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function lM(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aQ(t){t.resolveTargetDelta()}function oQ(t){t.calcProjection()}function lQ(t){t.resetSkewAndRotation()}function cQ(t){t.removeLeadSnapshot()}function cM(t,e,n){t.translate=Kt(e.translate,0,n),t.scale=Kt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function uM(t,e,n,r){t.min=Kt(e.min,n.min,r),t.max=Kt(e.max,n.max,r)}function uQ(t,e,n,r){uM(t.x,e.x,n.x,r),uM(t.y,e.y,n.y,r)}function dQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const hQ={duration:.45,ease:[.4,0,.1,1]},dM=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hM=dM("applewebkit/")&&!dM("chrome/")?Math.round:Ci;function fM(t){t.min=hM(t.min),t.max=hM(t.max)}function fQ(t){fM(t.x),fM(t.y)}function B4(t,e,n){return t==="position"||t==="preserve-aspect"&&!bX(iM(e),iM(n),.2)}function pQ(t){return t!==t.root&&t.scroll?.wasRoot}const mQ=$4({attachResizeListener:(t,e)=>gh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),r0={current:void 0},U4=$4({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!r0.current){const t=new mQ({});t.mount(window),t.setOptions({layoutScroll:!0}),r0.current=t}return r0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gQ={pan:{Feature:DX},drag:{Feature:MX,ProjectionNode:U4,MeasureLayout:M4}};function pM(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Ut.postRender(()=>s(e,wf(e)))}class vQ extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=VK(e,(n,r)=>(pM(this.node,r,"Start"),i=>pM(this.node,i,"End"))))}unmount(){}}class yQ extends ro{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=yf(gh(this.node.current,"focus",()=>this.onFocus()),gh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function mM(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Ut.postRender(()=>s(e,wf(e)))}class bQ extends ro{mount(){const{current:e}=this.node;e&&(this.unmount=GK(e,(n,r)=>(mM(this.node,r,"Start"),(i,{success:s})=>mM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const dA=new WeakMap,i0=new WeakMap,xQ=t=>{const e=dA.get(t.target);e&&e(t)},wQ=t=>{t.forEach(xQ)};function SQ({root:t,...e}){const n=t||document;i0.has(n)||i0.set(n,{});const r=i0.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(wQ,{root:t,...e})),r[i]}function _Q(t,e,n){const r=SQ(e);return dA.set(t,n),r.observe(t),()=>{dA.delete(t),r.unobserve(t)}}const AQ={some:0,all:1};class CQ extends ro{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:AQ[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),m=c?d:h;m&&m(l)};return _Q(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PQ(e,n))&&this.startObserver()}unmount(){}}function PQ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const EQ={inView:{Feature:CQ},tap:{Feature:bQ},focus:{Feature:yQ},hover:{Feature:vQ}},TQ={layout:{ProjectionNode:U4,MeasureLayout:M4}},jQ={...fX,...EQ,...gQ,...TQ},Ad=jY(jQ,zY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NQ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),gM=t=>{const e=NQ(t);return e.charAt(0).toUpperCase()+e.slice(1)},z4=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...OQ,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:z4("lucide",i),...o},[...a.map(([c,d])=>C.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(t,e)=>{const n=C.forwardRef(({className:r,...i},s)=>C.createElement(MQ,{ref:s,iconNode:e,className:z4(`lucide-${kQ(gM(t))}`,`lucide-${t}`,r),...i}));return n.displayName=gM(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],RQ=xe("arrow-down-left",DQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Sf=xe("arrow-left",IQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],FQ=xe("arrow-right",LQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Q=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],BQ=xe("arrow-up-right",$Q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],YP=xe("banknote",UQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],VQ=xe("book-open",zQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],XP=xe("building-2",WQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ys=xe("calendar",HQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qQ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],GQ=xe("camera",qQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],YQ=xe("car",KQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],QQ=xe("chart-column",XQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],vM=xe("chart-pie",ZQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fv=xe("check",JQ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],V4=xe("chevron-down",eZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nZ=xe("chevron-left",tZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],W4=xe("chevron-right",rZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sZ=xe("chevron-up",iZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Nc=xe("circle-alert",aZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],H4=xe("circle-arrow-up",oZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],yM=xe("circle-check",lZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],uZ=xe("circle-dollar-sign",cZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],hZ=xe("copy",dZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],QP=xe("credit-card",fZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],mZ=xe("crown",pZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vZ=xe("database",gZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],bZ=xe("download",yZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],wZ=xe("ellipsis-vertical",xZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],q4=xe("ellipsis",SZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],AZ=xe("eye",_Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],G4=xe("file-text",CZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],EZ=xe("file",PZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],jZ=xe("film",TZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],NZ=xe("funnel",kZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],MZ=xe("graduation-cap",OZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]],Oc=xe("hand-coins",DZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],IZ=xe("heart",RZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],FZ=xe("house",LZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],BZ=xe("info",$Z);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],zZ=xe("languages",UZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],bM=xe("lightbulb",VZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],K4=xe("lock",WZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],qZ=xe("log-out",HZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],KZ=xe("menu",GZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Y4=xe("pen",YZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],QZ=xe("pencil",XZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ei=xe("plus",ZZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],vh=xe("receipt",JZ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eJ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yh=xe("refresh-cw",eJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tJ=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],nJ=xe("search",tJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rJ=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],iJ=xe("settings",rJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sJ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],X4=xe("shield",sJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aJ=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],oJ=xe("shopping-bag",aJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJ=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],cJ=xe("shopping-cart",lJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],dJ=xe("smartphone",uJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hJ=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],fJ=xe("sparkles",hJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pJ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Q4=xe("tag",pJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],th=xe("target",mJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJ=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],_f=xe("trash-2",gJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJ=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Xa=xe("trending-down",vJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJ=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Fr=xe("trending-up",yJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJ=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Z4=xe("upload",bJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ZP=xe("user",xJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yc=xe("users",wJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SJ=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],_J=xe("utensils",SJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wu=xe("wallet",AJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Su=xe("x",CJ);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],JP=xe("zap",PJ);function EJ({onCreateFamily:t,onJoinFamily:e}){return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-primary/5 via-background to-tertiary/5",children:f.jsxs(Ad.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[f.jsxs(tt,{className:"elevation-4 overflow-hidden border-2 border-outline-variant/50",children:[f.jsxs(At,{className:"text-center pb-6 pt-8 bg-gradient-to-b from-primary-container/20 to-transparent",children:[f.jsx(Ad.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-7xl mb-4",children:""}),f.jsx(Ct,{className:"text-3xl",children:"KharchaPal"}),f.jsx(vn,{className:"mt-3 text-base",children:"Your simple household expense tracker for the whole family"})]}),f.jsxs($t,{className:"space-y-4 pt-2 pb-8",children:[f.jsx(Ad.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:f.jsxs(ge,{onClick:t,className:"w-full h-14 bg-primary hover:bg-primary/90 elevation-2 hover:elevation-3 transition-all duration-200 rounded-xl",children:[f.jsx(fJ,{className:"h-5 w-5 mr-2"}),"I'm Family Head - Create Family"]})}),f.jsx(Ad.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:f.jsxs(ge,{variant:"outline",className:"w-full h-14 border-2 border-outline/50 bg-surface-variant/20 transition-all duration-200 rounded-xl cursor-not-allowed opacity-60",children:[f.jsx(yc,{className:"h-5 w-5 mr-2"}),"Join Family - Coming Soon"]})}),f.jsx(Ad.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},className:"pt-8 space-y-4",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-primary-container/20 border border-primary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-primary/10 shrink-0",children:f.jsx(wu,{className:"h-4 w-4 text-primary"})}),f.jsx("p",{className:"text-sm text-on-surface",children:"Track expenses & income together with your family"})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-tertiary-container/20 border border-tertiary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-tertiary/10 shrink-0 text-sm",children:""}),f.jsx("p",{className:"text-sm text-on-surface",children:"Split payments across UPI, Cash & Card"})]}),f.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-secondary-container/20 border border-secondary/10",children:[f.jsx("span",{className:"inline-flex p-2 rounded-full bg-secondary/10 shrink-0 text-sm",children:""}),f.jsx("p",{className:"text-sm text-on-surface",children:"Manage IOUs and set budgets"})]})]})})]})]}),f.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"Offline-first  Privacy-focused  Made for Indian families"})]})})}function Tt({className:t,type:e,...n}){return f.jsx("input",{type:e,"data-slot":"input",className:Fe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-outline-variant flex h-11 w-full min-w-0 rounded-xl border-2 px-4 py-2 text-base bg-surface-variant/30 transition-all duration-200 outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-primary focus-visible:bg-surface-variant/50 focus-visible:ring-primary/20 focus-visible:ring-[3px]","hover:border-outline hover:bg-surface-variant/40","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var Af=GB();const J4=vt(Af);var TJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],jJ=TJ.reduce((t,e)=>{const n=vf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),kJ="Label",e5=C.forwardRef((t,e)=>f.jsx(jJ.label,{...t,ref:e,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(t.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));e5.displayName=kJ;var NJ=e5;function Ne({className:t,...e}){return f.jsx(NJ,{"data-slot":"label",className:Fe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const Kn=[];for(let t=0;t<256;++t)Kn.push((t+256).toString(16).slice(1));function OJ(t,e=0){return(Kn[t[e+0]]+Kn[t[e+1]]+Kn[t[e+2]]+Kn[t[e+3]]+"-"+Kn[t[e+4]]+Kn[t[e+5]]+"-"+Kn[t[e+6]]+Kn[t[e+7]]+"-"+Kn[t[e+8]]+Kn[t[e+9]]+"-"+Kn[t[e+10]]+Kn[t[e+11]]+Kn[t[e+12]]+Kn[t[e+13]]+Kn[t[e+14]]+Kn[t[e+15]]).toLowerCase()}let s0;const MJ=new Uint8Array(16);function DJ(){if(!s0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");s0=crypto.getRandomValues.bind(crypto)}return s0(MJ)}const RJ=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),xM={randomUUID:RJ};function IJ(t,e,n){t=t||{};const r=t.random??t.rng?.()??DJ();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,OJ(r)}function Mc(t,e,n){return xM.randomUUID&&!t?xM.randomUUID():IJ(t)}function LJ(...t){return u3(Ye(t))}function cn(){return Mc()}function FJ(){return Math.random().toString(36).substring(2,8).toUpperCase()}function Oe(t,e="INR"){return e==="INR"?`${t.toFixed(2)}`:`${e} ${t.toFixed(2)}`}function xs(t){const e=typeof t=="string"?new Date(t):t,n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),e.toDateString()===n.toDateString()?"Today":e.toDateString()===r.toDateString()?"Yesterday":e.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:e.getFullYear()!==n.getFullYear()?"numeric":void 0})}function t5(t){return(typeof t=="string"?new Date(t):t).toLocaleString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}function n5(t){switch(t){case"cash":return"";case"upi":return"";case"card":return"";case"borrowed":return"";default:return""}}function $J(t){switch(t){case"cash":return"Cash";case"upi":return"UPI";case"card":return"Card";case"borrowed":return"Borrowed";default:return t}}function fg(t){return{Groceries:"",Utilities:"",Rent:"",Transportation:"",Healthcare:"",Education:"",Entertainment:"","Food & Dining":"",Shopping:"","Household Items":"","Personal Care":"",Gifts:"",Other:""}[t]||""}function BJ(t,e){if(e.length===0)return{valid:!1,error:"At least one payment method is required"};const n=e.reduce((i,s)=>i+s.amount,0);if(Math.abs(n-t)>.01)return{valid:!1,error:`Split amounts (${n.toFixed(2)}) must equal total (${t.toFixed(2)})`};for(const i of e)if(i.amount<=0)return{valid:!1,error:"Payment amounts must be greater than 0"};return{valid:!0}}function Qo(t){return t.split(" ").map(e=>e[0]).join("").toUpperCase().substring(0,2)}function UJ({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=it(),[i,s]=C.useState(1),[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState(""),[m,g]=C.useState(!1),x=async()=>{if(!(!a.trim()||!l.trim())){g(!0);try{const y=cn(),b=cn(),w=FJ(),A={id:y,name:a.trim(),created_at:new Date().toISOString(),invite_code:w,currency:"INR"},_={id:b,family_id:y,name:l.trim(),phone:d.trim()||void 0,role:"admin",created_at:new Date().toISOString()};await rt.addFamily(A),await rt.addUser(_),r(A),n(_),t()}catch(y){console.error("Failed to create family:",y),alert("Failed to create family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(tt,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Create Your Family"}),f.jsx(vn,{children:i===1?"Let's start by setting up your family account":"Almost done! Tell us about yourself"})]}),f.jsx($t,{className:"space-y-4",children:i===1?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"familyName",children:"Family Name"}),f.jsx(Tt,{id:"familyName",placeholder:"e.g., Sharma Family",value:a,onChange:y=>o(y.target.value),onKeyDown:y=>y.key==="Enter"&&a.trim()&&s(2)})]}),f.jsxs("div",{className:"flex gap-2",children:[e&&f.jsx(ge,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ge,{onClick:()=>s(2),disabled:!a.trim(),className:e?"flex-1":"w-full",children:"Continue"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"adminName",children:"Your Name"}),f.jsx(Tt,{id:"adminName",placeholder:"e.g., Priya Sharma",value:l,onChange:y=>c(y.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"adminPhone",children:"Phone Number (optional)"}),f.jsx(Tt,{id:"adminPhone",type:"tel",placeholder:"+91 9876543210",value:d,onChange:y=>h(y.target.value)})]}),f.jsx("div",{className:"bg-primary-container/30 p-4 rounded-lg border border-primary/20",children:f.jsxs("p",{className:"text-sm text-on-primary-container",children:[f.jsx("strong",{children:"You'll be the Admin"}),"  You can view all family expenses and manage members."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:()=>s(1),className:"flex-1",children:"Back"}),f.jsx(ge,{onClick:x,disabled:!l.trim()||m,className:"flex-1",children:m?"Creating...":"Create Family"})]})]})})]})})}function zJ({onComplete:t,onBack:e}){const{setCurrentUser:n,setCurrentFamily:r}=it(),[i,s]=C.useState(""),[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState(null),[m,g]=C.useState(!1),[x,y]=C.useState(""),b=async()=>{if(i.trim()){g(!0),y("");try{const _=(await rt.getAll("families")).find(E=>E.invite_code.toLowerCase()===i.trim().toLowerCase());_?h(_):y("Invalid invite code. Please check and try again.")}catch(A){console.error("Failed to search family:",A),y("Something went wrong. Please try again.")}finally{g(!1)}}},w=async()=>{if(!(!d||!a.trim())){g(!0);try{const _={id:cn(),family_id:d.id,name:a.trim(),phone:l.trim()||void 0,role:"member",created_at:new Date().toISOString()};await rt.addUser(_),r(d),n(_),t()}catch(A){console.error("Failed to join family:",A),alert("Failed to join family. Please try again.")}finally{g(!1)}}};return f.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-background",children:f.jsxs(tt,{className:"w-full max-w-md shadow-xl",children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Join a Family"}),f.jsx(vn,{children:d?`Join ${d.name}`:"Enter the invite code shared by your family admin"})]}),f.jsx($t,{className:"space-y-4",children:d?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"bg-tertiary-container/30 p-4 rounded-lg border border-tertiary/20",children:f.jsxs("p",{className:"text-sm text-on-tertiary-container",children:[" Family found: ",f.jsx("strong",{children:d.name})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"memberName",children:"Your Name"}),f.jsx(Tt,{id:"memberName",placeholder:"e.g., Rohit Sharma",value:a,onChange:A=>o(A.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"memberPhone",children:"Phone Number (optional)"}),f.jsx(Tt,{id:"memberPhone",type:"tel",placeholder:"+91 9876543210",value:l,onChange:A=>c(A.target.value)})]}),f.jsx("div",{className:"bg-secondary-container/30 p-4 rounded-lg border border-secondary/20",children:f.jsxs("p",{className:"text-sm text-on-secondary-container",children:[f.jsx("strong",{children:"You'll be a Member"}),"  You can track your own expenses and view shared family data."]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:()=>{h(null),s("")},className:"flex-1",children:"Back"}),f.jsx(ge,{onClick:w,disabled:!a.trim()||m,className:"flex-1",children:m?"Joining...":"Join Family"})]})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"inviteCode",children:"Invite Code"}),f.jsx(Tt,{id:"inviteCode",placeholder:"e.g., ABC123",value:i,onChange:A=>{s(A.target.value.toUpperCase()),y("")},onKeyDown:A=>A.key==="Enter"&&i.trim()&&b(),maxLength:6}),x&&f.jsx("p",{className:"text-sm text-red-500",children:x})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:e,className:"flex-1",children:"Back"}),f.jsx(ge,{onClick:b,disabled:!i.trim()||m,className:"flex-1",children:m?"Searching...":"Continue"})]})]})})]})})}function VJ(){const{currentUser:t,currentFamily:e,expenses:n,income:r,debts:i,users:s}=it(),a=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),o.getDate()),c=new Date(o.getFullYear(),o.getMonth(),1),d=t?.role==="admin"?n:n.filter(T=>T.is_shared||T.created_by===t?.id),h=t?.role==="admin"?r:r.filter(T=>T.is_shared||T.created_by===t?.id),m=d.filter(T=>new Date(T.date)>=l),g=d.filter(T=>new Date(T.date)>=c),x=h.filter(T=>new Date(T.date)>=c),y=m.reduce((T,k)=>T+k.total_amount,0),b=g.reduce((T,k)=>T+k.total_amount,0),w=x.reduce((T,k)=>T+k.amount,0),A=i.filter(T=>T.status==="open"&&T.borrower_user_id===t?.id),_=i.filter(T=>T.status==="open"&&T.lender_user_id===t?.id),E=A.reduce((T,k)=>T+k.amount,0),P=_.reduce((T,k)=>T+k.amount,0);return{todayTotal:y,monthTotal:b,monthIncomeTotal:w,todayCount:m.length,monthCount:g.length,totalOwed:E,totalOwedToMe:P,activeMembers:s.length,netBalance:w-b}},[n,r,i,t,s]);return f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs(tt,{className:"bg-error-container/30 border-destructive/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1.5 text-on-error-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-destructive/10",children:f.jsx(Xa,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Expenses (Month)"})]}),f.jsx(Ct,{className:"text-destructive text-2xl",children:Oe(a.monthTotal,e?.currency)})]}),f.jsx($t,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.monthCount," ",a.monthCount===1?"expense":"expenses"]})})]}),f.jsxs(tt,{className:"bg-success-container/20 border-success/20 elevation-1 hover:elevation-3 transition-all duration-300 overflow-hidden",children:[f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1.5 text-on-success-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-success/10",children:f.jsx(Fr,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Income (Month)"})]}),f.jsx(Ct,{className:"text-success text-2xl",children:Oe(a.monthIncomeTotal,e?.currency)})]}),f.jsx($t,{children:f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Net: ",f.jsx("span",{className:a.netBalance>=0?"text-success":"text-destructive",children:Oe(a.netBalance,e?.currency)})]})})]}),a.totalOwed>0&&f.jsx(tt,{className:"border-destructive/30 bg-error-container/20 elevation-1 hover:elevation-3 transition-all duration-300",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1.5 text-on-error-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-destructive/10",children:f.jsx(Xa,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"You Owe"})]}),f.jsx(Ct,{className:"text-xl text-destructive",children:Oe(a.totalOwed,e?.currency)})]})}),a.totalOwedToMe>0&&f.jsx(tt,{className:"border-success/30 bg-success-container/20 elevation-1 hover:elevation-3 transition-all duration-300",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1.5 text-on-success-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-success/10",children:f.jsx(Fr,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Owed to You"})]}),f.jsx(Ct,{className:"text-xl text-success",children:Oe(a.totalOwedToMe,e?.currency)})]})}),t?.role==="admin"&&f.jsx(tt,{className:"bg-primary-container/30 border-primary/20 elevation-1 hover:elevation-3 transition-all duration-300",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1.5 text-on-primary-container",children:[f.jsx("span",{className:"inline-flex p-1.5 rounded-full bg-primary/10",children:f.jsx(yc,{className:"h-3.5 w-3.5"})}),f.jsx("span",{children:"Family Members"})]}),f.jsx(Ct,{className:"text-xl text-primary",children:a.activeMembers})]})})]})}const WJ={groceries:cJ,food:_J,transport:YQ,shopping:oJ,utilities:JP,entertainment:jZ,health:IZ,education:MZ,other:q4},wM={groceries:"bg-green-100 dark:bg-green-950/30 text-green-600 dark:text-green-400",food:"bg-orange-100 dark:bg-orange-950/30 text-orange-600 dark:text-orange-400",transport:"bg-blue-100 dark:bg-blue-950/30 text-blue-600 dark:text-blue-400",shopping:"bg-pink-100 dark:bg-pink-950/30 text-pink-600 dark:text-pink-400",utilities:"bg-purple-100 dark:bg-purple-950/30 text-purple-600 dark:text-purple-400",entertainment:"bg-red-100 dark:bg-red-950/30 text-red-600 dark:text-red-400",health:"bg-teal-100 dark:bg-teal-950/30 text-teal-600 dark:text-teal-400",education:"bg-indigo-100 dark:bg-indigo-950/30 text-indigo-600 dark:text-indigo-400",other:"bg-gray-100 dark:bg-gray-950/30 text-gray-600 dark:text-gray-400"};function HJ(){const{expenses:t,currentUser:e,currentFamily:n}=it(),r=C.useMemo(()=>{const i=new Date,s=new Date(i.getFullYear(),i.getMonth(),1),o=(e?.role==="admin"?t:t.filter(h=>h.is_shared||h.created_by===e?.id)).filter(h=>new Date(h.date)>=s),l={};o.forEach(h=>{l[h.category]||(l[h.category]=0),l[h.category]+=h.total_amount});const c=Object.values(l).reduce((h,m)=>h+m,0);return Object.entries(l).map(([h,m])=>({category:h,amount:m,percentage:c>0?Math.round(m/c*100):0})).sort((h,m)=>m.amount-h.amount).slice(0,5)},[t,e]);return r.length===0?null:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Fr,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{children:"Top Spending"})]}),f.jsx("div",{className:"space-y-2",children:r.map(({category:i,amount:s,percentage:a})=>{const o=WJ[i]||q4,l=wM[i]||wM.other;return f.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-card border border-border hover:shadow-md transition-all duration-200",children:[f.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center shrink-0 ${l}`,children:f.jsx(o,{className:"h-6 w-6"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium capitalize",children:i}),f.jsx("p",{className:"text-sm text-muted-foreground",children:Oe(s,n?.currency)})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsxs("p",{className:"font-semibold text-lg",children:[a,"%"]})})]},i)})})]})}function qJ(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=h=>{const{scope:m,children:g,...x}=h,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(h,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,GJ(i,...e)]}function GJ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var KJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],r5=KJ.reduce((t,e)=>{const n=vf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),eE="Progress",tE=100,[YJ]=qJ(eE),[XJ,QJ]=YJ(eE),i5=C.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=ZJ,...a}=t;(i||i===0)&&!SM(i)&&console.error(JJ(`${i}`,"Progress"));const o=SM(i)?i:tE;r!==null&&!_M(r,o)&&console.error(eee(`${r}`,"Progress"));const l=_M(r,o)?r:null,c=pg(l)?s(l,o):void 0;return f.jsx(XJ,{scope:n,value:l,max:o,children:f.jsx(r5.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":pg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":o5(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});i5.displayName=eE;var s5="ProgressIndicator",a5=C.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=QJ(s5,n);return f.jsx(r5.div,{"data-state":o5(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});a5.displayName=s5;function ZJ(t,e){return`${Math.round(t/e*100)}%`}function o5(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function pg(t){return typeof t=="number"}function SM(t){return pg(t)&&!isNaN(t)&&t>0}function _M(t,e){return pg(t)&&!isNaN(t)&&t<=e&&t>=0}function JJ(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tE}\`.`}function eee(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tee=i5,nee=a5;function $v({className:t,value:e,...n}){return f.jsx(tee,{"data-slot":"progress",className:Fe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:f.jsx(nee,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})})}const AM={en:{"app.name":"KharchaPal",welcome:"Namaste",quick_add:"Quick Add",quick_add_desc:"Type: 200 Uber",import_upi:"Import UPI",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"Recent Transactions",expenses:"Expenses",income:"Income",savings_goals:"Savings Goals",more_options:"More Options",reports:"Reports & Charts",about:"About App",budgets:"Monthly Budgets",accounts:"Bank Accounts",debts:"Debts & Loans",family:"Family Members",guide:"Quick Guide",settings:"Settings",language:"Language",select_language:"Select Language",add_expense:"Add Expense",save:"Save",cancel:"Cancel",amount:"Amount",category:"Category",date:"Date",notes:"Notes",borrowed:"Borrowed",borrowed_from:"Borrowed from",paid_by:"Paid by",split_payment:"Split Payment",shared_expense:"Shared Expense",goal_transfer:"Transfer to Goal",total_balance:"Total Balance",monthly_spending:"Monthly Spending",view_all:"View All",home:"Home",transactions:"Transactions",goals:"Goals",more:"More"},hi:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:"  ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:"   ",budgets:" ",accounts:" ",debts:"  ",family:"  ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:"  ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},mr:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:" : 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:" ",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},ta:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:" & ",about:" ",budgets:"  ",accounts:" ",debts:"",family:" ",guide:" ",settings:"",language:"",select_language:" ",add_expense:" ",save:"",cancel:"",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:" ",paid_by:"",split_payment:" ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""},gu:{"app.name":"",welcome:"",quick_add:" ",quick_add_desc:": 200 ",import_upi:"UPI ",import_upi_desc:"JSON/CSV/PDF",recent_transactions:" ",expenses:"",income:"",savings_goals:" ",more_options:" ",reports:"  ",about:" ",budgets:" ",accounts:" ",debts:"  ",family:" ",guide:" ",settings:"",language:"",select_language:"  ",add_expense:" ",save:"",cancel:" ",amount:"",category:"",date:"",notes:"",borrowed:" ",borrowed_from:"  ",paid_by:" ",split_payment:"  ",shared_expense:" ",goal_transfer:" ",total_balance:" ",monthly_spending:" ",view_all:" ",home:"",transactions:"",goals:"",more:""}},l5=C.createContext(void 0);function ree({children:t}){const[e,n]=C.useState(()=>localStorage.getItem("kharchapal_language")||"en");C.useEffect(()=>{localStorage.setItem("kharchapal_language",e)},[e]);const r=i=>AM[e][i]||AM.en[i]||i;return f.jsx(l5.Provider,{value:{language:e,setLanguage:n,t:r},children:t})}function dl(){const t=C.useContext(l5);if(t===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return t}function iee(){const{budgets:t,expenses:e}=it(),{t:n}=dl(),r=C.useMemo(()=>{const i=new Date,s=i.getMonth(),a=i.getFullYear(),o=t.filter(x=>x.period==="monthly");if(o.length===0)return null;const l=o.reduce((x,y)=>x+y.limit_amount,0),c=new Set(o.map(x=>x.category)),h=e.filter(x=>{const y=new Date(x.date);return y.getMonth()===s&&y.getFullYear()===a&&c.has(x.category)}).reduce((x,y)=>x+y.total_amount,0),m=Math.min(Math.round(h/l*100),100);let g="bg-primary";return m>=90?g="bg-destructive":m>=75&&(g="bg-orange-500"),{totalBudgetLimit:l,totalSpent:h,percentage:m,statusColor:g,count:o.length}},[t,e]);return r?f.jsxs(tt,{className:"bg-gradient-to-br from-surface-variant/30 to-surface-variant/10 border-surface-variant/50 overflow-hidden",children:[f.jsx(At,{className:"pb-2",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ct,{className:"text-base font-medium flex items-center gap-2",children:[f.jsx(Fr,{className:"h-4 w-4 text-primary"}),n("monthly_budget")]}),f.jsxs("span",{className:"text-xs font-medium px-2 py-1 rounded-full bg-surface-variant text-on-surface-variant",children:[r.count," ",n("categories")]})]})}),f.jsx($t,{children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsxs("div",{children:[f.jsxs("span",{className:"text-2xl font-bold",children:["",r.totalSpent.toLocaleString("en-IN")]}),f.jsxs("span",{className:"text-sm text-muted-foreground ml-1",children:["/ ",r.totalBudgetLimit.toLocaleString("en-IN")]})]}),f.jsxs("span",{className:`font-bold ${r.percentage>=90?"text-destructive":r.percentage>=75?"text-orange-600":"text-primary"}`,children:[r.percentage,"%"]})]}),f.jsx($v,{value:r.percentage,className:"h-2",indicatorClassName:r.statusColor}),r.percentage>=90&&f.jsxs("div",{className:"flex items-center gap-2 text-xs text-destructive mt-2 bg-destructive/10 p-2 rounded-lg",children:[f.jsx(Nc,{className:"h-3 w-3"}),f.jsx("span",{children:"You've almost reached your budget limit!"})]})]})})]}):null}function see({onClick:t}){const{debts:e,currentUser:n}=it(),{t:r}=dl(),i=C.useMemo(()=>{if(!n)return null;const s=e.filter(l=>l.status==="open");if(s.length===0)return null;const a=s.filter(l=>l.borrower_user_id===n.id).reduce((l,c)=>l+c.amount,0),o=s.filter(l=>l.lender_user_id===n.id).reduce((l,c)=>l+c.amount,0);return a===0&&o===0?null:{youOwe:a,owedToYou:o}},[e,n]);return i?f.jsxs("div",{className:"grid grid-cols-2 gap-3 cursor-pointer transition-opacity hover:opacity-90",onClick:t,children:[i.youOwe>0&&f.jsx(tt,{className:"bg-orange-50 dark:bg-orange-950/20 border-orange-200 dark:border-orange-800",children:f.jsxs($t,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-orange-100 dark:bg-orange-900/40 rounded-full",children:f.jsx(BQ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:r("you_owe")})]}),f.jsxs("span",{className:"text-xl font-bold text-orange-900 dark:text-orange-100",children:["",i.youOwe.toLocaleString("en-IN")]})]})}),i.owedToYou>0&&f.jsx(tt,{className:"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-800",children:f.jsxs($t,{className:"p-4 flex flex-col gap-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-green-700 dark:text-green-300 mb-1",children:[f.jsx("div",{className:"p-1.5 bg-green-100 dark:bg-green-900/40 rounded-full",children:f.jsx(RQ,{className:"h-3.5 w-3.5"})}),f.jsx("span",{className:"text-xs font-medium uppercase tracking-wide",children:r("owed_to_you")})]}),f.jsxs("span",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:["",i.owedToYou.toLocaleString("en-IN")]})]})})]}):null}function ye(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function aee(t,e){const n=C.createContext(e),r=s=>{const{children:a,...o}=s,l=C.useMemo(()=>o,Object.values(o));return f.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=C.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ni(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a),l=n.length;n=[...n,a];const c=h=>{const{scope:m,children:g,...x}=h,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(h,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,oee(i,...e)]}function oee(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var bn=globalThis?.document?C.useLayoutEffect:()=>{},lee=pP[" useId ".trim().toString()]||(()=>{}),cee=0;function Gi(t){const[e,n]=C.useState(lee());return bn(()=>{n(r=>r??String(cee++))},[t]),t||(e?`radix-${e}`:"")}var uee=pP[" useInsertionEffect ".trim().toString()]||bn;function ta({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=dee({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const d=C.useRef(t!==void 0);C.useEffect(()=>{const h=d.current;h!==o&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,r])}const c=C.useCallback(d=>{if(o){const h=hee(d)?d(t):d;h!==t&&a.current?.(h)}else s(d)},[o,t,s,a]);return[l,c]}function dee({defaultProp:t,onChange:e}){const[n,r]=C.useState(t),i=C.useRef(n),s=C.useRef(e);return uee(()=>{s.current=e},[e]),C.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function hee(t){return typeof t=="function"}function fee(t){const e=pee(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(gee);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function pee(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=yee(i),o=vee(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mee=Symbol("radix.slottable");function gee(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mee}function vee(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function yee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var bee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Be=bee.reduce((t,e)=>{const n=fee(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function c5(t,e){t&&Af.flushSync(()=>t.dispatchEvent(e))}function $n(t){const e=C.useRef(t);return C.useEffect(()=>{e.current=t}),C.useMemo(()=>(...n)=>e.current?.(...n),[])}function xee(t,e=globalThis?.document){const n=$n(t);C.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var wee="DismissableLayer",hA="dismissableLayer.update",See="dismissableLayer.pointerDownOutside",_ee="dismissableLayer.focusOutside",CM,u5=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Cf=C.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=C.useContext(u5),[d,h]=C.useState(null),m=d?.ownerDocument??globalThis?.document,[,g]=C.useState({}),x=Ze(e,k=>h(k)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=y.indexOf(b),A=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,E=A>=w,P=Pee(k=>{const O=k.target,R=[...c.branches].some(F=>F.contains(O));!E||R||(i?.(k),a?.(k),k.defaultPrevented||o?.())},m),T=Eee(k=>{const O=k.target;[...c.branches].some(F=>F.contains(O))||(s?.(k),a?.(k),k.defaultPrevented||o?.())},m);return xee(k=>{A===c.layers.size-1&&(r?.(k),!k.defaultPrevented&&o&&(k.preventDefault(),o()))},m),C.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(CM=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),PM(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=CM)}},[d,m,n,c]),C.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),PM())},[d,c]),C.useEffect(()=>{const k=()=>g({});return document.addEventListener(hA,k),()=>document.removeEventListener(hA,k)},[]),f.jsx(Be.div,{...l,ref:x,style:{pointerEvents:_?E?"auto":"none":void 0,...t.style},onFocusCapture:ye(t.onFocusCapture,T.onFocusCapture),onBlurCapture:ye(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ye(t.onPointerDownCapture,P.onPointerDownCapture)})});Cf.displayName=wee;var Aee="DismissableLayerBranch",Cee=C.forwardRef((t,e)=>{const n=C.useContext(u5),r=C.useRef(null),i=Ze(e,r);return C.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),f.jsx(Be.div,{...t,ref:i})});Cee.displayName=Aee;function Pee(t,e=globalThis?.document){const n=$n(t),r=C.useRef(!1),i=C.useRef(()=>{});return C.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){d5(See,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Eee(t,e=globalThis?.document){const n=$n(t),r=C.useRef(!1);return C.useEffect(()=>{const i=s=>{s.target&&!r.current&&d5(_ee,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function PM(){const t=new CustomEvent(hA);document.dispatchEvent(t)}function d5(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?c5(i,s):i.dispatchEvent(s)}var a0="focusScope.autoFocusOnMount",o0="focusScope.autoFocusOnUnmount",EM={bubbles:!1,cancelable:!0},Tee="FocusScope",Pf=C.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=C.useState(null),c=$n(i),d=$n(s),h=C.useRef(null),m=Ze(e,y=>l(y)),g=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(r){let y=function(_){if(g.paused||!o)return;const E=_.target;o.contains(E)?h.current=E:$a(h.current,{select:!0})},b=function(_){if(g.paused||!o)return;const E=_.relatedTarget;E!==null&&(o.contains(E)||$a(h.current,{select:!0}))},w=function(_){if(document.activeElement===document.body)for(const P of _)P.removedNodes.length>0&&$a(o)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const A=new MutationObserver(w);return o&&A.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),A.disconnect()}}},[r,o,g.paused]),C.useEffect(()=>{if(o){jM.add(g);const y=document.activeElement;if(!o.contains(y)){const w=new CustomEvent(a0,EM);o.addEventListener(a0,c),o.dispatchEvent(w),w.defaultPrevented||(jee(Dee(h5(o)),{select:!0}),document.activeElement===y&&$a(o))}return()=>{o.removeEventListener(a0,c),setTimeout(()=>{const w=new CustomEvent(o0,EM);o.addEventListener(o0,d),o.dispatchEvent(w),w.defaultPrevented||$a(y??document.body,{select:!0}),o.removeEventListener(o0,d),jM.remove(g)},0)}}},[o,c,d,g]);const x=C.useCallback(y=>{if(!n&&!r||g.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,w=document.activeElement;if(b&&w){const A=y.currentTarget,[_,E]=kee(A);_&&E?!y.shiftKey&&w===E?(y.preventDefault(),n&&$a(_,{select:!0})):y.shiftKey&&w===_&&(y.preventDefault(),n&&$a(E,{select:!0})):w===A&&y.preventDefault()}},[n,r,g.paused]);return f.jsx(Be.div,{tabIndex:-1,...a,ref:m,onKeyDown:x})});Pf.displayName=Tee;function jee(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($a(r,{select:e}),document.activeElement!==n)return}function kee(t){const e=h5(t),n=TM(e,t),r=TM(e.reverse(),t);return[n,r]}function h5(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function TM(t,e){for(const n of t)if(!Nee(n,{upTo:e}))return n}function Nee(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Oee(t){return t instanceof HTMLInputElement&&"select"in t}function $a(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Oee(t)&&e&&t.select()}}var jM=Mee();function Mee(){let t=[];return{add(e){const n=t[0];e!==n&&n?.pause(),t=kM(t,e),t.unshift(e)},remove(e){t=kM(t,e),t[0]?.resume()}}}function kM(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Dee(t){return t.filter(e=>e.tagName!=="A")}var Ree="Portal",Ef=C.forwardRef((t,e)=>{const{container:n,...r}=t,[i,s]=C.useState(!1);bn(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?J4.createPortal(f.jsx(Be.div,{...r,ref:e}),a):null});Ef.displayName=Ree;function Iee(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var _r=t=>{const{present:e,children:n}=t,r=Lee(e),i=typeof n=="function"?n({present:r.isPresent}):C.Children.only(n),s=Ze(r.ref,Fee(i));return typeof n=="function"||r.isPresent?C.cloneElement(i,{ref:s}):null};_r.displayName="Presence";function Lee(t){const[e,n]=C.useState(),r=C.useRef(null),i=C.useRef(t),s=C.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Iee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const c=bm(r.current);s.current=o==="mounted"?c:"none"},[o]),bn(()=>{const c=r.current,d=i.current;if(d!==t){const m=s.current,g=bm(c);t?l("MOUNT"):g==="none"||c?.display==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),bn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,h=g=>{const y=bm(r.current).includes(CSS.escape(g.animationName));if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(s.current=bm(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:C.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function bm(t){return t?.animationName||"none"}function Fee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var l0=0;function Bv(){C.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??NM()),document.body.insertAdjacentElement("beforeend",t[1]??NM()),l0++,()=>{l0===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),l0--}},[])}function NM(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ds=function(){return ds=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ds.apply(this,arguments)};function f5(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $ee(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var eg="right-scroll-bar-position",tg="width-before-scroll-bar",Bee="with-scroll-bars-hidden",Uee="--removed-body-scroll-bar-size";function c0(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function zee(t,e){var n=C.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Vee=typeof window<"u"?C.useLayoutEffect:C.useEffect,OM=new WeakMap;function Wee(t,e){var n=zee(null,function(r){return t.forEach(function(i){return c0(i,r)})});return Vee(function(){var r=OM.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||c0(o,null)}),s.forEach(function(o){i.has(o)||c0(o,a)})}OM.set(n,t)},[t]),n}function Hee(t){return t}function qee(t,e){e===void 0&&(e=Hee);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var d=a;a=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),n}}}};return i}function Gee(t){t===void 0&&(t={});var e=qee(null);return e.options=ds({async:!0,ssr:!1},t),e}var p5=function(t){var e=t.sideCar,n=f5(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return C.createElement(r,ds({},n))};p5.isSideCarExport=!0;function Kee(t,e){return t.useMedium(e),p5}var m5=Gee(),u0=function(){},Uv=C.forwardRef(function(t,e){var n=C.useRef(null),r=C.useState({onScrollCapture:u0,onWheelCapture:u0,onTouchMoveCapture:u0}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,h=t.shards,m=t.sideCar,g=t.noRelative,x=t.noIsolation,y=t.inert,b=t.allowPinchZoom,w=t.as,A=w===void 0?"div":w,_=t.gapMode,E=f5(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=m,T=Wee([n,e]),k=ds(ds({},E),i);return C.createElement(C.Fragment,null,d&&C.createElement(P,{sideCar:m5,removeScrollBar:c,shards:h,noRelative:g,noIsolation:x,inert:y,setCallbacks:s,allowPinchZoom:!!b,lockRef:n,gapMode:_}),a?C.cloneElement(C.Children.only(o),ds(ds({},k),{ref:T})):C.createElement(A,ds({},k,{className:l,ref:T}),o))});Uv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Uv.classNames={fullWidth:tg,zeroRight:eg};var Yee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Xee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Yee();return e&&t.setAttribute("nonce",e),t}function Qee(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Zee(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Jee=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Xee())&&(Qee(e,n),Zee(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ete=function(){var t=Jee();return function(e,n){C.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},g5=function(){var t=ete(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},tte={left:0,top:0,right:0,gap:0},d0=function(t){return parseInt(t||"",10)||0},nte=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[d0(n),d0(r),d0(i)]},rte=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return tte;var e=nte(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},ite=g5(),bc="data-scroll-locked",ste=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Bee,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(bc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(eg,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(tg,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(eg," .").concat(eg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(bc,`] {
    `).concat(Uee,": ").concat(o,`px;
  }
`)},MM=function(){var t=parseInt(document.body.getAttribute(bc)||"0",10);return isFinite(t)?t:0},ate=function(){C.useEffect(function(){return document.body.setAttribute(bc,(MM()+1).toString()),function(){var t=MM()-1;t<=0?document.body.removeAttribute(bc):document.body.setAttribute(bc,t.toString())}},[])},ote=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;ate();var s=C.useMemo(function(){return rte(i)},[i]);return C.createElement(ite,{styles:ste(s,!e,i,n?"":"!important")})},fA=!1;if(typeof window<"u")try{var xm=Object.defineProperty({},"passive",{get:function(){return fA=!0,!0}});window.addEventListener("test",xm,xm),window.removeEventListener("test",xm,xm)}catch{fA=!1}var ql=fA?{passive:!1}:!1,lte=function(t){return t.tagName==="TEXTAREA"},v5=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!lte(t)&&n[e]==="visible")},cte=function(t){return v5(t,"overflowY")},ute=function(t){return v5(t,"overflowX")},DM=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=y5(t,r);if(i){var s=b5(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},dte=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},hte=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},y5=function(t,e){return t==="v"?cte(e):ute(e)},b5=function(t,e){return t==="v"?dte(e):hte(e)},fte=function(t,e){return t==="h"&&e==="rtl"?-1:1},pte=function(t,e,n,r,i){var s=fte(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,d=a>0,h=0,m=0;do{if(!o)break;var g=b5(t,o),x=g[0],y=g[1],b=g[2],w=y-b-s*x;(x||w)&&y5(t,o)&&(h+=w,m+=x);var A=o.parentNode;o=A&&A.nodeType===Node.DOCUMENT_FRAGMENT_NODE?A.host:A}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(c=!0),c},wm=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},RM=function(t){return[t.deltaX,t.deltaY]},IM=function(t){return t&&"current"in t?t.current:t},mte=function(t,e){return t[0]===e[0]&&t[1]===e[1]},gte=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},vte=0,Gl=[];function yte(t){var e=C.useRef([]),n=C.useRef([0,0]),r=C.useRef(),i=C.useState(vte++)[0],s=C.useState(g5)[0],a=C.useRef(t);C.useEffect(function(){a.current=t},[t]),C.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=$ee([t.lockRef.current],(t.shards||[]).map(IM),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=C.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!a.current.allowPinchZoom;var w=wm(y),A=n.current,_="deltaX"in y?y.deltaX:A[0]-w[0],E="deltaY"in y?y.deltaY:A[1]-w[1],P,T=y.target,k=Math.abs(_)>Math.abs(E)?"h":"v";if("touches"in y&&k==="h"&&T.type==="range")return!1;var O=DM(k,T);if(!O)return!0;if(O?P=k:(P=k==="v"?"h":"v",O=DM(k,T)),!O)return!1;if(!r.current&&"changedTouches"in y&&(_||E)&&(r.current=P),!P)return!0;var R=r.current||P;return pte(R,b,y,R==="h"?_:E)},[]),l=C.useCallback(function(y){var b=y;if(!(!Gl.length||Gl[Gl.length-1]!==s)){var w="deltaY"in b?RM(b):wm(b),A=e.current.filter(function(P){return P.name===b.type&&(P.target===b.target||b.target===P.shadowParent)&&mte(P.delta,w)})[0];if(A&&A.should){b.cancelable&&b.preventDefault();return}if(!A){var _=(a.current.shards||[]).map(IM).filter(Boolean).filter(function(P){return P.contains(b.target)}),E=_.length>0?o(b,_[0]):!a.current.noIsolation;E&&b.cancelable&&b.preventDefault()}}},[]),c=C.useCallback(function(y,b,w,A){var _={name:y,delta:b,target:w,should:A,shadowParent:bte(w)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(E){return E!==_})},1)},[]),d=C.useCallback(function(y){n.current=wm(y),r.current=void 0},[]),h=C.useCallback(function(y){c(y.type,RM(y),y.target,o(y,t.lockRef.current))},[]),m=C.useCallback(function(y){c(y.type,wm(y),y.target,o(y,t.lockRef.current))},[]);C.useEffect(function(){return Gl.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,ql),document.addEventListener("touchmove",l,ql),document.addEventListener("touchstart",d,ql),function(){Gl=Gl.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,ql),document.removeEventListener("touchmove",l,ql),document.removeEventListener("touchstart",d,ql)}},[]);var g=t.removeScrollBar,x=t.inert;return C.createElement(C.Fragment,null,x?C.createElement(s,{styles:gte(i)}):null,g?C.createElement(ote,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function bte(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const xte=Kee(m5,yte);var Tf=C.forwardRef(function(t,e){return C.createElement(Uv,ds({},t,{ref:e,sideCar:xte}))});Tf.classNames=Uv.classNames;var wte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Kl=new WeakMap,Sm=new WeakMap,_m={},h0=0,x5=function(t){return t&&(t.host||x5(t.parentNode))},Ste=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=x5(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_te=function(t,e,n,r){var i=Ste(e,Array.isArray(t)?t:[t]);_m[n]||(_m[n]=new WeakMap);var s=_m[n],a=[],o=new Set,l=new Set(i),c=function(h){!h||o.has(h)||(o.add(h),c(h.parentNode))};i.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(o.has(m))d(m);else try{var g=m.getAttribute(r),x=g!==null&&g!=="false",y=(Kl.get(m)||0)+1,b=(s.get(m)||0)+1;Kl.set(m,y),s.set(m,b),a.push(m),y===1&&x&&Sm.set(m,!0),b===1&&m.setAttribute(n,"true"),x||m.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",m,w)}})};return d(e),o.clear(),h0++,function(){a.forEach(function(h){var m=Kl.get(h)-1,g=s.get(h)-1;Kl.set(h,m),s.set(h,g),m||(Sm.has(h)||h.removeAttribute(r),Sm.delete(h)),g||h.removeAttribute(n)}),h0--,h0||(Kl=new WeakMap,Kl=new WeakMap,Sm=new WeakMap,_m={})}},zv=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=wte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),_te(r,i,n,"aria-hidden")):function(){return null}};function Ate(t){const e=Cte(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(Ete);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Cte(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=jte(i),o=Tte(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Pte=Symbol("radix.slottable");function Ete(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Pte}function Tte(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function jte(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Vv="Dialog",[w5]=Ni(Vv),[kte,Ji]=w5(Vv),S5=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=C.useRef(null),l=C.useRef(null),[c,d]=ta({prop:r,defaultProp:i??!1,onChange:s,caller:Vv});return f.jsx(kte,{scope:e,triggerRef:o,contentRef:l,contentId:Gi(),titleId:Gi(),descriptionId:Gi(),open:c,onOpenChange:d,onOpenToggle:C.useCallback(()=>d(h=>!h),[d]),modal:a,children:n})};S5.displayName=Vv;var _5="DialogTrigger",A5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ji(_5,n),s=Ze(e,i.triggerRef);return f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":iE(i.open),...r,ref:s,onClick:ye(t.onClick,i.onOpenToggle)})});A5.displayName=_5;var nE="DialogPortal",[Nte,C5]=w5(nE,{forceMount:void 0}),P5=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ji(nE,e);return f.jsx(Nte,{scope:e,forceMount:n,children:C.Children.map(r,a=>f.jsx(_r,{present:n||s.open,children:f.jsx(Ef,{asChild:!0,container:i,children:a})}))})};P5.displayName=nE;var mg="DialogOverlay",E5=C.forwardRef((t,e)=>{const n=C5(mg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ji(mg,t.__scopeDialog);return s.modal?f.jsx(_r,{present:r||s.open,children:f.jsx(Mte,{...i,ref:e})}):null});E5.displayName=mg;var Ote=Ate("DialogOverlay.RemoveScroll"),Mte=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ji(mg,n);return f.jsx(Tf,{as:Ote,allowPinchZoom:!0,shards:[i.contentRef],children:f.jsx(Be.div,{"data-state":iE(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Zo="DialogContent",T5=C.forwardRef((t,e)=>{const n=C5(Zo,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ji(Zo,t.__scopeDialog);return f.jsx(_r,{present:r||s.open,children:s.modal?f.jsx(Dte,{...i,ref:e}):f.jsx(Rte,{...i,ref:e})})});T5.displayName=Zo;var Dte=C.forwardRef((t,e)=>{const n=Ji(Zo,t.__scopeDialog),r=C.useRef(null),i=Ze(e,n.contentRef,r);return C.useEffect(()=>{const s=r.current;if(s)return zv(s)},[]),f.jsx(j5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault())})}),Rte=C.forwardRef((t,e)=>{const n=Ji(Zo,t.__scopeDialog),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(j5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),j5=C.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=Ji(Zo,n),l=C.useRef(null),c=Ze(e,l);return Bv(),f.jsxs(f.Fragment,{children:[f.jsx(Pf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Cf,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":iE(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),f.jsxs(f.Fragment,{children:[f.jsx(Ite,{titleId:o.titleId}),f.jsx(Fte,{contentRef:l,descriptionId:o.descriptionId})]})]})}),rE="DialogTitle",k5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ji(rE,n);return f.jsx(Be.h2,{id:i.titleId,...r,ref:e})});k5.displayName=rE;var N5="DialogDescription",O5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ji(N5,n);return f.jsx(Be.p,{id:i.descriptionId,...r,ref:e})});O5.displayName=N5;var M5="DialogClose",D5=C.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ji(M5,n);return f.jsx(Be.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});D5.displayName=M5;function iE(t){return t?"open":"closed"}var R5="DialogTitleWarning",[Vje,I5]=aee(R5,{contentName:Zo,titleName:rE,docsSlug:"dialog"}),Ite=({titleId:t})=>{const e=I5(R5),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return C.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Lte="DialogDescriptionWarning",Fte=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${I5(Lte).contentName}}.`;return C.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},L5=S5,$te=A5,F5=P5,Wv=E5,$5=T5,B5=k5,U5=O5,z5=D5;function jf({...t}){return f.jsx(L5,{"data-slot":"sheet",...t})}function Bte({...t}){return f.jsx(F5,{"data-slot":"sheet-portal",...t})}const V5=C.forwardRef(({className:t,...e},n)=>f.jsx(Wv,{ref:n,"data-slot":"sheet-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));V5.displayName=Wv.displayName;function kf({className:t,children:e,side:n="right",...r}){return f.jsxs(Bte,{children:[f.jsx(V5,{}),f.jsxs($5,{"data-slot":"sheet-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...r,children:[e,f.jsxs(z5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[f.jsx(Su,{className:"size-4"}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function W5({className:t,...e}){return f.jsx("div",{"data-slot":"sheet-header",className:Fe("flex flex-col gap-1.5 p-4",t),...e})}function Hv({className:t,...e}){return f.jsx(B5,{"data-slot":"sheet-title",className:Fe("text-foreground font-semibold",t),...e})}function qv({className:t,...e}){return f.jsx(U5,{"data-slot":"sheet-description",className:Fe("text-muted-foreground text-sm",t),...e})}const Ute=mP("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function xn({className:t,variant:e,asChild:n=!1,...r}){const i=n?XB:"span";return f.jsx(i,{"data-slot":"badge",className:Fe(Ute({variant:e}),t),...r})}function zte(t,e=[]){let n=[];function r(s,a){const o=C.createContext(a);o.displayName=s+"Context";const l=n.length;n=[...n,a];const c=h=>{const{scope:m,children:g,...x}=h,y=m?.[t]?.[l]||o,b=C.useMemo(()=>x,Object.values(x));return f.jsx(y.Provider,{value:b,children:g})};c.displayName=s+"Provider";function d(h,m){const g=m?.[t]?.[l]||o,x=C.useContext(g);if(x)return x;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(a=>C.createContext(a));return function(o){const l=o?.[t]||s;return C.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Vte(i,...e)]}function Vte(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const h=l(s)[`__scope${c}`];return{...o,...h}},{});return C.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var Wte=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sE=Wte.reduce((t,e)=>{const n=vf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),f0={exports:{}},p0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LM;function Hte(){if(LM)return p0;LM=1;var t=Dv();function e(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(h,m){var g=m(),x=r({inst:{value:g,getSnapshot:m}}),y=x[0].inst,b=x[1];return s(function(){y.value=g,y.getSnapshot=m,l(y)&&b({inst:y})},[h,g,m]),i(function(){return l(y)&&b({inst:y}),h(function(){l(y)&&b({inst:y})})},[h]),a(g),g}function l(h){var m=h.getSnapshot;h=h.value;try{var g=m();return!n(h,g)}catch{return!0}}function c(h,m){return m()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:o;return p0.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,p0}var FM;function qte(){return FM||(FM=1,f0.exports=Hte()),f0.exports}var Gte=qte();function Kte(){return Gte.useSyncExternalStore(Yte,()=>!0,()=>!1)}function Yte(){return()=>{}}var aE="Avatar",[Xte]=zte(aE),[Qte,H5]=Xte(aE),q5=C.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=C.useState("idle");return f.jsx(Qte,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:f.jsx(sE.span,{...r,ref:e})})});q5.displayName=aE;var G5="AvatarImage",Zte=C.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=H5(G5,n),o=Jte(r,s),l=$n(c=>{i(c),a.onImageLoadingStatusChange(c)});return bn(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?f.jsx(sE.img,{...s,ref:e,src:r}):null});Zte.displayName=G5;var K5="AvatarFallback",Y5=C.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=H5(K5,n),[a,o]=C.useState(r===void 0);return C.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?f.jsx(sE.span,{...i,ref:e}):null});Y5.displayName=K5;function $M(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Jte(t,{referrerPolicy:e,crossOrigin:n}){const r=Kte(),i=C.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=C.useState(()=>$M(s,t));return bn(()=>{o($M(s,t))},[s,t]),bn(()=>{const l=h=>()=>{o(h)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),a}var ene=q5,tne=Y5;function Dc({className:t,...e}){return f.jsx(ene,{"data-slot":"avatar",className:Fe("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...e})}function Rc({className:t,...e}){return f.jsx(tne,{"data-slot":"avatar-fallback",className:Fe("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}function bh(t,[e,n]){return Math.min(n,Math.max(e,t))}function BM(t){const e=nne(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(ine);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function nne(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=ane(i),o=sne(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rne=Symbol("radix.slottable");function ine(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rne}function sne(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ane(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Gv(t){const e=t+"CollectionProvider",[n,r]=Ni(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=y=>{const{scope:b,children:w}=y,A=z.useRef(null),_=z.useRef(new Map).current;return f.jsx(i,{scope:b,itemMap:_,collectionRef:A,children:w})};a.displayName=e;const o=t+"CollectionSlot",l=BM(o),c=z.forwardRef((y,b)=>{const{scope:w,children:A}=y,_=s(o,w),E=Ze(b,_.collectionRef);return f.jsx(l,{ref:E,children:A})});c.displayName=o;const d=t+"CollectionItemSlot",h="data-radix-collection-item",m=BM(d),g=z.forwardRef((y,b)=>{const{scope:w,children:A,..._}=y,E=z.useRef(null),P=Ze(b,E),T=s(d,w);return z.useEffect(()=>(T.itemMap.set(E,{ref:E,..._}),()=>void T.itemMap.delete(E))),f.jsx(m,{[h]:"",ref:P,children:A})});g.displayName=d;function x(y){const b=s(t+"CollectionConsumer",y);return z.useCallback(()=>{const A=b.collectionRef.current;if(!A)return[];const _=Array.from(A.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((T,k)=>_.indexOf(T.ref.current)-_.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},x,r]}var one=C.createContext(void 0);function _u(t){const e=C.useContext(one);return t||e||"ltr"}const lne=["top","right","bottom","left"],Qa=Math.min,Qr=Math.max,gg=Math.round,Am=Math.floor,vs=t=>({x:t,y:t}),cne={left:"right",right:"left",bottom:"top",top:"bottom"},une={start:"end",end:"start"};function pA(t,e,n){return Qr(t,Qa(e,n))}function na(t,e){return typeof t=="function"?t(e):t}function ra(t){return t.split("-")[0]}function Au(t){return t.split("-")[1]}function oE(t){return t==="x"?"y":"x"}function lE(t){return t==="y"?"height":"width"}const dne=new Set(["top","bottom"]);function hs(t){return dne.has(ra(t))?"y":"x"}function cE(t){return oE(hs(t))}function hne(t,e,n){n===void 0&&(n=!1);const r=Au(t),i=cE(t),s=lE(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=vg(a)),[a,vg(a)]}function fne(t){const e=vg(t);return[mA(t),e,mA(e)]}function mA(t){return t.replace(/start|end/g,e=>une[e])}const UM=["left","right"],zM=["right","left"],pne=["top","bottom"],mne=["bottom","top"];function gne(t,e,n){switch(t){case"top":case"bottom":return n?e?zM:UM:e?UM:zM;case"left":case"right":return e?pne:mne;default:return[]}}function vne(t,e,n,r){const i=Au(t);let s=gne(ra(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(mA)))),s}function vg(t){return t.replace(/left|right|bottom|top/g,e=>cne[e])}function yne(t){return{top:0,right:0,bottom:0,left:0,...t}}function X5(t){return typeof t!="number"?yne(t):{top:t,right:t,bottom:t,left:t}}function yg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function VM(t,e,n){let{reference:r,floating:i}=t;const s=hs(e),a=cE(e),o=lE(a),l=ra(e),c=s==="y",d=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,m=r[o]/2-i[o]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:h};break;case"left":g={x:r.x-i.width,y:h};break;default:g={x:r.x,y:r.y}}switch(Au(e)){case"start":g[a]-=m*(n&&c?-1:1);break;case"end":g[a]+=m*(n&&c?-1:1);break}return g}const bne=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=VM(c,r,l),m=r,g={},x=0;for(let y=0;y<o.length;y++){const{name:b,fn:w}=o[y],{x:A,y:_,data:E,reset:P}=await w({x:d,y:h,initialPlacement:r,placement:m,strategy:i,middlewareData:g,rects:c,platform:a,elements:{reference:t,floating:e}});d=A??d,h=_??h,g={...g,[b]:{...g[b],...E}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(m=P.placement),P.rects&&(c=P.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):P.rects),{x:d,y:h}=VM(c,m,l)),y=-1)}return{x:d,y:h,placement:m,strategy:i,middlewareData:g}};async function xh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=na(e,t),x=X5(g),b=o[m?h==="floating"?"reference":"floating":h],w=yg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:d,strategy:l})),A=h==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},P=yg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:A,offsetParent:_,strategy:l}):A);return{top:(w.top-P.top+x.top)/E.y,bottom:(P.bottom-w.bottom+x.bottom)/E.y,left:(w.left-P.left+x.left)/E.x,right:(P.right-w.right+x.right)/E.x}}const xne=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:d=0}=na(t,e)||{};if(c==null)return{};const h=X5(d),m={x:n,y:r},g=cE(i),x=lE(g),y=await a.getDimensions(c),b=g==="y",w=b?"top":"left",A=b?"bottom":"right",_=b?"clientHeight":"clientWidth",E=s.reference[x]+s.reference[g]-m[g]-s.floating[x],P=m[g]-s.reference[g],T=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let k=T?T[_]:0;(!k||!await(a.isElement==null?void 0:a.isElement(T)))&&(k=o.floating[_]||s.floating[x]);const O=E/2-P/2,R=k/2-y[x]/2-1,F=Qa(h[w],R),M=Qa(h[A],R),D=F,$=k-y[x]-M,W=k/2-y[x]/2+O,H=pA(D,W,$),V=!l.arrow&&Au(i)!=null&&W!==H&&s.reference[x]/2-(W<D?F:M)-y[x]/2<0,U=V?W<D?W-D:W-$:0;return{[g]:m[g]+U,data:{[g]:H,centerOffset:W-H-U,...V&&{alignmentOffset:U}},reset:V}}}),wne=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:y=!0,...b}=na(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const w=ra(i),A=hs(o),_=ra(o)===o,E=await(l.isRTL==null?void 0:l.isRTL(c.floating)),P=m||(_||!y?[vg(o)]:fne(o)),T=x!=="none";!m&&T&&P.push(...vne(o,y,x,E));const k=[o,...P],O=await xh(e,b),R=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(O[w]),h){const W=hne(i,a,E);R.push(O[W[0]],O[W[1]])}if(F=[...F,{placement:i,overflows:R}],!R.every(W=>W<=0)){var M,D;const W=(((M=s.flip)==null?void 0:M.index)||0)+1,H=k[W];if(H&&(!(h==="alignment"?A!==hs(H):!1)||F.every(L=>hs(L.placement)===A?L.overflows[0]>0:!0)))return{data:{index:W,overflows:F},reset:{placement:H}};let V=(D=F.filter(U=>U.overflows[0]<=0).sort((U,L)=>U.overflows[1]-L.overflows[1])[0])==null?void 0:D.placement;if(!V)switch(g){case"bestFit":{var $;const U=($=F.filter(L=>{if(T){const G=hs(L.placement);return G===A||G==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(G=>G>0).reduce((G,Q)=>G+Q,0)]).sort((L,G)=>L[1]-G[1])[0])==null?void 0:$[0];U&&(V=U);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function WM(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HM(t){return lne.some(e=>t[e]>=0)}const Sne=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=na(t,e);switch(r){case"referenceHidden":{const s=await xh(e,{...i,elementContext:"reference"}),a=WM(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:HM(a)}}}case"escaped":{const s=await xh(e,{...i,altBoundary:!0}),a=WM(s,n.floating);return{data:{escapedOffsets:a,escaped:HM(a)}}}default:return{}}}}},Q5=new Set(["left","top"]);async function _ne(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=ra(n),o=Au(n),l=hs(n)==="y",c=Q5.has(a)?-1:1,d=s&&l?-1:1,h=na(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:x}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return o&&typeof x=="number"&&(g=o==="end"?x*-1:x),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const Ane=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await _ne(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Cne=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:w,y:A}=b;return{x:w,y:A}}},...l}=na(t,e),c={x:n,y:r},d=await xh(e,l),h=hs(ra(i)),m=oE(h);let g=c[m],x=c[h];if(s){const b=m==="y"?"top":"left",w=m==="y"?"bottom":"right",A=g+d[b],_=g-d[w];g=pA(A,g,_)}if(a){const b=h==="y"?"top":"left",w=h==="y"?"bottom":"right",A=x+d[b],_=x-d[w];x=pA(A,x,_)}const y=o.fn({...e,[m]:g,[h]:x});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:s,[h]:a}}}}}},Pne=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=na(t,e),d={x:n,y:r},h=hs(i),m=oE(h);let g=d[m],x=d[h];const y=na(o,e),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=m==="y"?"height":"width",E=s.reference[m]-s.floating[_]+b.mainAxis,P=s.reference[m]+s.reference[_]-b.mainAxis;g<E?g=E:g>P&&(g=P)}if(c){var w,A;const _=m==="y"?"width":"height",E=Q5.has(ra(i)),P=s.reference[h]-s.floating[_]+(E&&((w=a.offset)==null?void 0:w[h])||0)+(E?0:b.crossAxis),T=s.reference[h]+s.reference[_]+(E?0:((A=a.offset)==null?void 0:A[h])||0)-(E?b.crossAxis:0);x<P?x=P:x>T&&(x=T)}return{[m]:g,[h]:x}}}},Ene=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=na(t,e),d=await xh(e,c),h=ra(i),m=Au(i),g=hs(i)==="y",{width:x,height:y}=s.floating;let b,w;h==="top"||h==="bottom"?(b=h,w=m===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(w=h,b=m==="end"?"top":"bottom");const A=y-d.top-d.bottom,_=x-d.left-d.right,E=Qa(y-d[b],A),P=Qa(x-d[w],_),T=!e.middlewareData.shift;let k=E,O=P;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=A),T&&!m){const F=Qr(d.left,0),M=Qr(d.right,0),D=Qr(d.top,0),$=Qr(d.bottom,0);g?O=x-2*(F!==0||M!==0?F+M:Qr(d.left,d.right)):k=y-2*(D!==0||$!==0?D+$:Qr(d.top,d.bottom))}await l({...e,availableWidth:O,availableHeight:k});const R=await a.getDimensions(o.floating);return x!==R.width||y!==R.height?{reset:{rects:!0}}:{}}}};function Kv(){return typeof window<"u"}function Cu(t){return Z5(t)?(t.nodeName||"").toLowerCase():"#document"}function ti(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ps(t){var e;return(e=(Z5(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Z5(t){return Kv()?t instanceof Node||t instanceof ti(t).Node:!1}function Xi(t){return Kv()?t instanceof Element||t instanceof ti(t).Element:!1}function ws(t){return Kv()?t instanceof HTMLElement||t instanceof ti(t).HTMLElement:!1}function qM(t){return!Kv()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ti(t).ShadowRoot}const Tne=new Set(["inline","contents"]);function Nf(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Qi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!Tne.has(i)}const jne=new Set(["table","td","th"]);function kne(t){return jne.has(Cu(t))}const Nne=[":popover-open",":modal"];function Yv(t){return Nne.some(e=>{try{return t.matches(e)}catch{return!1}})}const One=["transform","translate","scale","rotate","perspective"],Mne=["transform","translate","scale","rotate","perspective","filter"],Dne=["paint","layout","strict","content"];function uE(t){const e=dE(),n=Xi(t)?Qi(t):t;return One.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Mne.some(r=>(n.willChange||"").includes(r))||Dne.some(r=>(n.contain||"").includes(r))}function Rne(t){let e=Za(t);for(;ws(e)&&!Ic(e);){if(uE(e))return e;if(Yv(e))return null;e=Za(e)}return null}function dE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ine=new Set(["html","body","#document"]);function Ic(t){return Ine.has(Cu(t))}function Qi(t){return ti(t).getComputedStyle(t)}function Xv(t){return Xi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Za(t){if(Cu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qM(t)&&t.host||Ps(t);return qM(e)?e.host:e}function J5(t){const e=Za(t);return Ic(e)?t.ownerDocument?t.ownerDocument.body:t.body:ws(e)&&Nf(e)?e:J5(e)}function wh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=J5(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=ti(i);if(s){const o=gA(a);return e.concat(a,a.visualViewport||[],Nf(i)?i:[],o&&n?wh(o):[])}return e.concat(i,wh(i,[],n))}function gA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eU(t){const e=Qi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ws(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=gg(n)!==s||gg(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function hE(t){return Xi(t)?t:t.contextElement}function xc(t){const e=hE(t);if(!ws(e))return vs(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=eU(e);let a=(s?gg(n.width):n.width)/r,o=(s?gg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Lne=vs(0);function tU(t){const e=ti(t);return!dE()||!e.visualViewport?Lne:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Fne(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ti(t)?!1:e}function Jo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=hE(t);let a=vs(1);e&&(r?Xi(r)&&(a=xc(r)):a=xc(t));const o=Fne(s,n,r)?tU(s):vs(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,d=i.width/a.x,h=i.height/a.y;if(s){const m=ti(s),g=r&&Xi(r)?ti(r):r;let x=m,y=gA(x);for(;y&&r&&g!==x;){const b=xc(y),w=y.getBoundingClientRect(),A=Qi(y),_=w.left+(y.clientLeft+parseFloat(A.paddingLeft))*b.x,E=w.top+(y.clientTop+parseFloat(A.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=_,c+=E,x=ti(y),y=gA(x)}}return yg({width:d,height:h,x:l,y:c})}function Qv(t,e){const n=Xv(t).scrollLeft;return e?e.left+n:Jo(Ps(t)).left+n}function nU(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Qv(t,n),i=n.top+e.scrollTop;return{x:r,y:i}}function $ne(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Ps(r),o=e?Yv(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=vs(1);const d=vs(0),h=ws(r);if((h||!h&&!s)&&((Cu(r)!=="body"||Nf(a))&&(l=Xv(r)),ws(r))){const g=Jo(r);c=xc(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=a&&!h&&!s?nU(a,l):vs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function Bne(t){return Array.from(t.getClientRects())}function Une(t){const e=Ps(t),n=Xv(t),r=t.ownerDocument.body,i=Qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Qv(t);const o=-n.scrollTop;return Qi(r).direction==="rtl"&&(a+=Qr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}const GM=25;function zne(t,e){const n=ti(t),r=Ps(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const d=dE();(!d||d&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const c=Qv(r);if(c<=0){const d=r.ownerDocument,h=d.body,m=getComputedStyle(h),g=d.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,x=Math.abs(r.clientWidth-h.clientWidth-g);x<=GM&&(s-=x)}else c<=GM&&(s+=c);return{width:s,height:a,x:o,y:l}}const Vne=new Set(["absolute","fixed"]);function Wne(t,e){const n=Jo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ws(t)?xc(t):vs(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function KM(t,e,n){let r;if(e==="viewport")r=zne(t,n);else if(e==="document")r=Une(Ps(t));else if(Xi(e))r=Wne(e,n);else{const i=tU(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return yg(r)}function rU(t,e){const n=Za(t);return n===e||!Xi(n)||Ic(n)?!1:Qi(n).position==="fixed"||rU(n,e)}function Hne(t,e){const n=e.get(t);if(n)return n;let r=wh(t,[],!1).filter(o=>Xi(o)&&Cu(o)!=="body"),i=null;const s=Qi(t).position==="fixed";let a=s?Za(t):t;for(;Xi(a)&&!Ic(a);){const o=Qi(a),l=uE(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Vne.has(i.position)||Nf(a)&&!l&&rU(t,a))?r=r.filter(d=>d!==a):i=o,a=Za(a)}return e.set(t,r),r}function qne(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?Yv(e)?[]:Hne(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,d)=>{const h=KM(e,d,i);return c.top=Qr(h.top,c.top),c.right=Qa(h.right,c.right),c.bottom=Qa(h.bottom,c.bottom),c.left=Qr(h.left,c.left),c},KM(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Gne(t){const{width:e,height:n}=eU(t);return{width:e,height:n}}function Kne(t,e,n){const r=ws(e),i=Ps(e),s=n==="fixed",a=Jo(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=vs(0);function c(){l.x=Qv(i)}if(r||!r&&!s)if((Cu(e)!=="body"||Nf(i))&&(o=Xv(e)),r){const g=Jo(e,!0,s,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&c();s&&!r&&i&&c();const d=i&&!r&&!s?nU(i,o):vs(0),h=a.left+o.scrollLeft-l.x-d.x,m=a.top+o.scrollTop-l.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function m0(t){return Qi(t).position==="static"}function YM(t,e){if(!ws(t)||Qi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ps(t)===n&&(n=n.ownerDocument.body),n}function iU(t,e){const n=ti(t);if(Yv(t))return n;if(!ws(t)){let i=Za(t);for(;i&&!Ic(i);){if(Xi(i)&&!m0(i))return i;i=Za(i)}return n}let r=YM(t,e);for(;r&&kne(r)&&m0(r);)r=YM(r,e);return r&&Ic(r)&&m0(r)&&!uE(r)?n:r||Rne(t)||n}const Yne=async function(t){const e=this.getOffsetParent||iU,n=this.getDimensions,r=await n(t.floating);return{reference:Kne(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Xne(t){return Qi(t).direction==="rtl"}const Qne={convertOffsetParentRelativeRectToViewportRelativeRect:$ne,getDocumentElement:Ps,getClippingRect:qne,getOffsetParent:iU,getElementRects:Yne,getClientRects:Bne,getDimensions:Gne,getScale:xc,isElement:Xi,isRTL:Xne};function sU(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Zne(t,e){let n=null,r;const i=Ps(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=c;if(o||e(),!m||!g)return;const x=Am(h),y=Am(i.clientWidth-(d+m)),b=Am(i.clientHeight-(h+g)),w=Am(d),_={rootMargin:-x+"px "+-y+"px "+-b+"px "+-w+"px",threshold:Qr(0,Qa(1,l))||1};let E=!0;function P(T){const k=T[0].intersectionRatio;if(k!==l){if(!E)return a();k?a(!1,k):r=setTimeout(()=>{a(!1,1e-7)},1e3)}k===1&&!sU(c,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(P,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(P,_)}n.observe(t)}return a(!0),s}function Jne(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=hE(t),d=i||s?[...c?wh(c):[],...wh(e)]:[];d.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),s&&w.addEventListener("resize",n)});const h=c&&o?Zne(c,n):null;let m=-1,g=null;a&&(g=new ResizeObserver(w=>{let[A]=w;A&&A.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let x,y=l?Jo(t):null;l&&b();function b(){const w=Jo(t);y&&!sU(y,w)&&n(),y=w,x=requestAnimationFrame(b)}return n(),()=>{var w;d.forEach(A=>{i&&A.removeEventListener("scroll",n),s&&A.removeEventListener("resize",n)}),h?.(),(w=g)==null||w.disconnect(),g=null,l&&cancelAnimationFrame(x)}}const ere=Ane,tre=Cne,nre=wne,rre=Ene,ire=Sne,XM=xne,sre=Pne,are=(t,e,n)=>{const r=new Map,i={platform:Qne,...n},s={...i.platform,_c:r};return bne(t,e,{...i,platform:s})};var ore=typeof document<"u",lre=function(){},ng=ore?C.useLayoutEffect:lre;function bg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!bg(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function aU(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function QM(t,e){const n=aU(t);return Math.round(e*n)/n}function g0(t){const e=C.useRef(t);return ng(()=>{e.current=t}),e}function cre(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[d,h]=C.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=C.useState(r);bg(m,r)||g(r);const[x,y]=C.useState(null),[b,w]=C.useState(null),A=C.useCallback(L=>{L!==T.current&&(T.current=L,y(L))},[]),_=C.useCallback(L=>{L!==k.current&&(k.current=L,w(L))},[]),E=s||x,P=a||b,T=C.useRef(null),k=C.useRef(null),O=C.useRef(d),R=l!=null,F=g0(l),M=g0(i),D=g0(c),$=C.useCallback(()=>{if(!T.current||!k.current)return;const L={placement:e,strategy:n,middleware:m};M.current&&(L.platform=M.current),are(T.current,k.current,L).then(G=>{const Q={...G,isPositioned:D.current!==!1};W.current&&!bg(O.current,Q)&&(O.current=Q,Af.flushSync(()=>{h(Q)}))})},[m,e,n,M,D]);ng(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,h(L=>({...L,isPositioned:!1})))},[c]);const W=C.useRef(!1);ng(()=>(W.current=!0,()=>{W.current=!1}),[]),ng(()=>{if(E&&(T.current=E),P&&(k.current=P),E&&P){if(F.current)return F.current(E,P,$);$()}},[E,P,$,F,R]);const H=C.useMemo(()=>({reference:T,floating:k,setReference:A,setFloating:_}),[A,_]),V=C.useMemo(()=>({reference:E,floating:P}),[E,P]),U=C.useMemo(()=>{const L={position:n,left:0,top:0};if(!V.floating)return L;const G=QM(V.floating,d.x),Q=QM(V.floating,d.y);return o?{...L,transform:"translate("+G+"px, "+Q+"px)",...aU(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:Q}},[n,o,V.floating,d.x,d.y]);return C.useMemo(()=>({...d,update:$,refs:H,elements:V,floatingStyles:U}),[d,$,H,V,U])}const ure=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?XM({element:r.current,padding:i}).fn(n):{}:r?XM({element:r,padding:i}).fn(n):{}}}},dre=(t,e)=>({...ere(t),options:[t,e]}),hre=(t,e)=>({...tre(t),options:[t,e]}),fre=(t,e)=>({...sre(t),options:[t,e]}),pre=(t,e)=>({...nre(t),options:[t,e]}),mre=(t,e)=>({...rre(t),options:[t,e]}),gre=(t,e)=>({...ire(t),options:[t,e]}),vre=(t,e)=>({...ure(t),options:[t,e]});var yre="Arrow",oU=C.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return f.jsx(Be.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:f.jsx("polygon",{points:"0,0 30,0 15,10"})})});oU.displayName=yre;var bre=oU;function fE(t){const[e,n]=C.useState(void 0);return bn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var pE="Popper",[lU,Pu]=Ni(pE),[xre,cU]=lU(pE),uU=t=>{const{__scopePopper:e,children:n}=t,[r,i]=C.useState(null);return f.jsx(xre,{scope:e,anchor:r,onAnchorChange:i,children:n})};uU.displayName=pE;var dU="PopperAnchor",hU=C.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=cU(dU,n),a=C.useRef(null),o=Ze(e,a),l=C.useRef(null);return C.useEffect(()=>{const c=l.current;l.current=r?.current||a.current,c!==l.current&&s.onAnchorChange(l.current)}),r?null:f.jsx(Be.div,{...i,ref:o})});hU.displayName=dU;var mE="PopperContent",[wre,Sre]=lU(mE),fU=C.forwardRef((t,e)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:x,...y}=t,b=cU(mE,n),[w,A]=C.useState(null),_=Ze(e,ie=>A(ie)),[E,P]=C.useState(null),T=fE(E),k=T?.width??0,O=T?.height??0,R=r+(s!=="center"?"-"+s:""),F=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},M=Array.isArray(c)?c:[c],D=M.length>0,$={padding:F,boundary:M.filter(Are),altBoundary:D},{refs:W,floatingStyles:H,placement:V,isPositioned:U,middlewareData:L}=cre({strategy:"fixed",placement:R,whileElementsMounted:(...ie)=>Jne(...ie,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[dre({mainAxis:i+O,alignmentAxis:a}),l&&hre({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?fre():void 0,...$}),l&&pre({...$}),mre({...$,apply:({elements:ie,rects:ee,availableWidth:te,availableHeight:le})=>{const{width:he,height:ne}=ee.reference,Me=ie.floating.style;Me.setProperty("--radix-popper-available-width",`${te}px`),Me.setProperty("--radix-popper-available-height",`${le}px`),Me.setProperty("--radix-popper-anchor-width",`${he}px`),Me.setProperty("--radix-popper-anchor-height",`${ne}px`)}}),E&&vre({element:E,padding:o}),Cre({arrowWidth:k,arrowHeight:O}),m&&gre({strategy:"referenceHidden",...$})]}),[G,Q]=gU(V),B=$n(x);bn(()=>{U&&B?.()},[U,B]);const K=L.arrow?.x,Z=L.arrow?.y,ae=L.arrow?.centerOffset!==0,[ce,pe]=C.useState();return bn(()=>{w&&pe(window.getComputedStyle(w).zIndex)},[w]),f.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:U?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[L.transformOrigin?.x,L.transformOrigin?.y].join(" "),...L.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:f.jsx(wre,{scope:n,placedSide:G,onArrowChange:P,arrowX:K,arrowY:Z,shouldHideArrow:ae,children:f.jsx(Be.div,{"data-side":G,"data-align":Q,...y,ref:_,style:{...y.style,animation:U?void 0:"none"}})})})});fU.displayName=mE;var pU="PopperArrow",_re={top:"bottom",right:"left",bottom:"top",left:"right"},mU=C.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=Sre(pU,r),a=_re[s.placedSide];return f.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:f.jsx(bre,{...i,ref:n,style:{...i.style,display:"block"}})})});mU.displayName=pU;function Are(t){return t!==null}var Cre=t=>({name:"transformOrigin",options:t,fn(e){const{placement:n,rects:r,middlewareData:i}=e,a=i.arrow?.centerOffset!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,d]=gU(n),h={start:"0%",center:"50%",end:"100%"}[d],m=(i.arrow?.x??0)+o/2,g=(i.arrow?.y??0)+l/2;let x="",y="";return c==="bottom"?(x=a?h:`${m}px`,y=`${-l}px`):c==="top"?(x=a?h:`${m}px`,y=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,y=a?h:`${g}px`):c==="left"&&(x=`${r.floating.width+l}px`,y=a?h:`${g}px`),{data:{x,y}}}});function gU(t){const[e,n="center"]=t.split("-");return[e,n]}var gE=uU,Zv=hU,vE=fU,yE=mU;function Pre(t){const e=Ere(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(jre);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function Ere(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=Nre(i),o=kre(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tre=Symbol("radix.slottable");function jre(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tre}function kre(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function Nre(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function bE(t){const e=C.useRef({value:t,previous:t});return C.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var vU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ore="VisuallyHidden",Mre=C.forwardRef((t,e)=>f.jsx(Be.span,{...t,ref:e,style:{...vU,...t.style}}));Mre.displayName=Ore;var Dre=[" ","Enter","ArrowUp","ArrowDown"],Rre=[" ","Enter"],el="Select",[Jv,ey,Ire]=Gv(el),[Eu]=Ni(el,[Ire,Pu]),ty=Pu(),[Lre,io]=Eu(el),[Fre,$re]=Eu(el),yU=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:m,required:g,form:x}=t,y=ty(e),[b,w]=C.useState(null),[A,_]=C.useState(null),[E,P]=C.useState(!1),T=_u(c),[k,O]=ta({prop:r,defaultProp:i??!1,onChange:s,caller:el}),[R,F]=ta({prop:a,defaultProp:o,onChange:l,caller:el}),M=C.useRef(null),D=b?x||!!b.closest("form"):!0,[$,W]=C.useState(new Set),H=Array.from($).map(V=>V.props.value).join(";");return f.jsx(gE,{...y,children:f.jsxs(Lre,{required:g,scope:e,trigger:b,onTriggerChange:w,valueNode:A,onValueNodeChange:_,valueNodeHasChildren:E,onValueNodeHasChildrenChange:P,contentId:Gi(),value:R,onValueChange:F,open:k,onOpenChange:O,dir:T,triggerPointerDownPosRef:M,disabled:m,children:[f.jsx(Jv.Provider,{scope:e,children:f.jsx(Fre,{scope:t.__scopeSelect,onNativeOptionAdd:C.useCallback(V=>{W(U=>new Set(U).add(V))},[]),onNativeOptionRemove:C.useCallback(V=>{W(U=>{const L=new Set(U);return L.delete(V),L})},[]),children:n})}),D?f.jsxs(BU,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:h,value:R,onChange:V=>F(V.target.value),disabled:m,form:x,children:[R===void 0?f.jsx("option",{value:""}):null,Array.from($)]},H):null]})})};yU.displayName=el;var bU="SelectTrigger",xU=C.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=ty(n),a=io(bU,n),o=a.disabled||r,l=Ze(e,a.onTriggerChange),c=ey(n),d=C.useRef("touch"),[h,m,g]=zU(y=>{const b=c().filter(_=>!_.disabled),w=b.find(_=>_.value===a.value),A=VU(b,y,w);A!==void 0&&a.onValueChange(A.value)}),x=y=>{o||(a.onOpenChange(!0),g()),y&&(a.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return f.jsx(Zv,{asChild:!0,...s,children:f.jsx(Be.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":UU(a.value)?"":void 0,...i,ref:l,onClick:ye(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&x(y)}),onPointerDown:ye(i.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(x(y),y.preventDefault())}),onKeyDown:ye(i.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(b&&y.key===" ")&&Dre.includes(y.key)&&(x(),y.preventDefault())})})})});xU.displayName=bU;var wU="SelectValue",SU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=io(wU,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,h=Ze(e,l.onValueNodeChange);return bn(()=>{c(d)},[c,d]),f.jsx(Be.span,{...o,ref:h,style:{pointerEvents:"none"},children:UU(l.value)?f.jsx(f.Fragment,{children:a}):s})});SU.displayName=wU;var Bre="SelectIcon",_U=C.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return f.jsx(Be.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});_U.displayName=Bre;var Ure="SelectPortal",AU=t=>f.jsx(Ef,{asChild:!0,...t});AU.displayName=Ure;var tl="SelectContent",CU=C.forwardRef((t,e)=>{const n=io(tl,t.__scopeSelect),[r,i]=C.useState();if(bn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Af.createPortal(f.jsx(PU,{scope:t.__scopeSelect,children:f.jsx(Jv.Slot,{scope:t.__scopeSelect,children:f.jsx("div",{children:t.children})})}),s):null}return f.jsx(EU,{...t,ref:e})});CU.displayName=tl;var Vi=10,[PU,so]=Eu(tl),zre="SelectContentImpl",Vre=Pre("SelectContent.RemoveScroll"),EU=C.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b,...w}=t,A=io(tl,n),[_,E]=C.useState(null),[P,T]=C.useState(null),k=Ze(e,ie=>E(ie)),[O,R]=C.useState(null),[F,M]=C.useState(null),D=ey(n),[$,W]=C.useState(!1),H=C.useRef(!1);C.useEffect(()=>{if(_)return zv(_)},[_]),Bv();const V=C.useCallback(ie=>{const[ee,...te]=D().map(ne=>ne.ref.current),[le]=te.slice(-1),he=document.activeElement;for(const ne of ie)if(ne===he||(ne?.scrollIntoView({block:"nearest"}),ne===ee&&P&&(P.scrollTop=0),ne===le&&P&&(P.scrollTop=P.scrollHeight),ne?.focus(),document.activeElement!==he))return},[D,P]),U=C.useCallback(()=>V([O,_]),[V,O,_]);C.useEffect(()=>{$&&U()},[$,U]);const{onOpenChange:L,triggerPointerDownPosRef:G}=A;C.useEffect(()=>{if(_){let ie={x:0,y:0};const ee=le=>{ie={x:Math.abs(Math.round(le.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(le.pageY)-(G.current?.y??0))}},te=le=>{ie.x<=10&&ie.y<=10?le.preventDefault():_.contains(le.target)||L(!1),document.removeEventListener("pointermove",ee),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ee),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ee),document.removeEventListener("pointerup",te,{capture:!0})}}},[_,L,G]),C.useEffect(()=>{const ie=()=>L(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[L]);const[Q,B]=zU(ie=>{const ee=D().filter(he=>!he.disabled),te=ee.find(he=>he.ref.current===document.activeElement),le=VU(ee,ie,te);le&&setTimeout(()=>le.ref.current.focus())}),K=C.useCallback((ie,ee,te)=>{const le=!H.current&&!te;(A.value!==void 0&&A.value===ee||le)&&(R(ie),le&&(H.current=!0))},[A.value]),Z=C.useCallback(()=>_?.focus(),[_]),ae=C.useCallback((ie,ee,te)=>{const le=!H.current&&!te;(A.value!==void 0&&A.value===ee||le)&&M(ie)},[A.value]),ce=r==="popper"?vA:TU,pe=ce===vA?{side:o,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:m,collisionPadding:g,sticky:x,hideWhenDetached:y,avoidCollisions:b}:{};return f.jsx(PU,{scope:n,content:_,viewport:P,onViewportChange:T,itemRefCallback:K,selectedItem:O,onItemLeave:Z,itemTextRefCallback:ae,focusSelectedItem:U,selectedItemText:F,position:r,isPositioned:$,searchRef:Q,children:f.jsx(Tf,{as:Vre,allowPinchZoom:!0,children:f.jsx(Pf,{asChild:!0,trapped:A.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:ye(i,ie=>{A.trigger?.focus({preventScroll:!0}),ie.preventDefault()}),children:f.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>A.onOpenChange(!1),children:f.jsx(ce,{role:"listbox",id:A.contentId,"data-state":A.open?"open":"closed",dir:A.dir,onContextMenu:ie=>ie.preventDefault(),...w,...pe,onPlaced:()=>W(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:ye(w.onKeyDown,ie=>{const ee=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!ee&&ie.key.length===1&&B(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let le=D().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const he=ie.target,ne=le.indexOf(he);le=le.slice(ne+1)}setTimeout(()=>V(le)),ie.preventDefault()}})})})})})})});EU.displayName=zre;var Wre="SelectItemAlignedPosition",TU=C.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=io(tl,n),a=so(tl,n),[o,l]=C.useState(null),[c,d]=C.useState(null),h=Ze(e,k=>d(k)),m=ey(n),g=C.useRef(!1),x=C.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:w,focusSelectedItem:A}=a,_=C.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&y&&b&&w){const k=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),R=s.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(s.dir!=="rtl"){const he=F.left-O.left,ne=R.left-he,Me=k.left-ne,Re=k.width+Me,yt=Math.max(Re,O.width),pt=window.innerWidth-Vi,bt=bh(ne,[Vi,Math.max(Vi,pt-yt)]);o.style.minWidth=Re+"px",o.style.left=bt+"px"}else{const he=O.right-F.right,ne=window.innerWidth-R.right-he,Me=window.innerWidth-k.right-ne,Re=k.width+Me,yt=Math.max(Re,O.width),pt=window.innerWidth-Vi,bt=bh(ne,[Vi,Math.max(Vi,pt-yt)]);o.style.minWidth=Re+"px",o.style.right=bt+"px"}const M=m(),D=window.innerHeight-Vi*2,$=y.scrollHeight,W=window.getComputedStyle(c),H=parseInt(W.borderTopWidth,10),V=parseInt(W.paddingTop,10),U=parseInt(W.borderBottomWidth,10),L=parseInt(W.paddingBottom,10),G=H+V+$+L+U,Q=Math.min(b.offsetHeight*5,G),B=window.getComputedStyle(y),K=parseInt(B.paddingTop,10),Z=parseInt(B.paddingBottom,10),ae=k.top+k.height/2-Vi,ce=D-ae,pe=b.offsetHeight/2,ie=b.offsetTop+pe,ee=H+V+ie,te=G-ee;if(ee<=ae){const he=M.length>0&&b===M[M.length-1].ref.current;o.style.bottom="0px";const ne=c.clientHeight-y.offsetTop-y.offsetHeight,Me=Math.max(ce,pe+(he?Z:0)+ne+U),Re=ee+Me;o.style.height=Re+"px"}else{const he=M.length>0&&b===M[0].ref.current;o.style.top="0px";const Me=Math.max(ae,H+y.offsetTop+(he?K:0)+pe)+te;o.style.height=Me+"px",y.scrollTop=ee-ae+y.offsetTop}o.style.margin=`${Vi}px 0`,o.style.minHeight=Q+"px",o.style.maxHeight=D+"px",r?.(),requestAnimationFrame(()=>g.current=!0)}},[m,s.trigger,s.valueNode,o,c,y,b,w,s.dir,r]);bn(()=>_(),[_]);const[E,P]=C.useState();bn(()=>{c&&P(window.getComputedStyle(c).zIndex)},[c]);const T=C.useCallback(k=>{k&&x.current===!0&&(_(),A?.(),x.current=!1)},[_,A]);return f.jsx(qre,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:g,onScrollButtonChange:T,children:f.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:f.jsx(Be.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});TU.displayName=Wre;var Hre="SelectPopperPosition",vA=C.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Vi,...s}=t,a=ty(n);return f.jsx(vE,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vA.displayName=Hre;var[qre,xE]=Eu(tl,{}),yA="SelectViewport",jU=C.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=so(yA,n),a=xE(yA,n),o=Ze(e,s.onViewportChange),l=C.useRef(0);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),f.jsx(Jv.Slot,{scope:n,children:f.jsx(Be.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ye(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:m}=a;if(m?.current&&h){const g=Math.abs(l.current-d.scrollTop);if(g>0){const x=window.innerHeight-Vi*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),w=Math.max(y,b);if(w<x){const A=w+g,_=Math.min(x,A),E=A-_;h.style.height=_+"px",h.style.bottom==="0px"&&(d.scrollTop=E>0?E:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});jU.displayName=yA;var kU="SelectGroup",[Gre,Kre]=Eu(kU),Yre=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Gi();return f.jsx(Gre,{scope:n,id:i,children:f.jsx(Be.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Yre.displayName=kU;var NU="SelectLabel",Xre=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Kre(NU,n);return f.jsx(Be.div,{id:i.id,...r,ref:e})});Xre.displayName=NU;var xg="SelectItem",[Qre,OU]=Eu(xg),MU=C.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=io(xg,n),l=so(xg,n),c=o.value===r,[d,h]=C.useState(s??""),[m,g]=C.useState(!1),x=Ze(e,A=>l.itemRefCallback?.(A,r,i)),y=Gi(),b=C.useRef("touch"),w=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return f.jsx(Qre,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:C.useCallback(A=>{h(_=>_||(A?.textContent??"").trim())},[]),children:f.jsx(Jv.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:f.jsx(Be.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:x,onFocus:ye(a.onFocus,()=>g(!0)),onBlur:ye(a.onBlur,()=>g(!1)),onClick:ye(a.onClick,()=>{b.current!=="mouse"&&w()}),onPointerUp:ye(a.onPointerUp,()=>{b.current==="mouse"&&w()}),onPointerDown:ye(a.onPointerDown,A=>{b.current=A.pointerType}),onPointerMove:ye(a.onPointerMove,A=>{b.current=A.pointerType,i?l.onItemLeave?.():b.current==="mouse"&&A.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ye(a.onPointerLeave,A=>{A.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:ye(a.onKeyDown,A=>{l.searchRef?.current!==""&&A.key===" "||(Rre.includes(A.key)&&w(),A.key===" "&&A.preventDefault())})})})})});MU.displayName=xg;var Vd="SelectItemText",DU=C.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=io(Vd,n),o=so(Vd,n),l=OU(Vd,n),c=$re(Vd,n),[d,h]=C.useState(null),m=Ze(e,w=>h(w),l.onItemTextChange,w=>o.itemTextRefCallback?.(w,l.value,l.disabled)),g=d?.textContent,x=C.useMemo(()=>f.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return bn(()=>(y(x),()=>b(x)),[y,b,x]),f.jsxs(f.Fragment,{children:[f.jsx(Be.span,{id:l.textId,...s,ref:m}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Af.createPortal(s.children,a.valueNode):null]})});DU.displayName=Vd;var RU="SelectItemIndicator",IU=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return OU(RU,n).isSelected?f.jsx(Be.span,{"aria-hidden":!0,...r,ref:e}):null});IU.displayName=RU;var bA="SelectScrollUpButton",LU=C.forwardRef((t,e)=>{const n=so(bA,t.__scopeSelect),r=xE(bA,t.__scopeSelect),[i,s]=C.useState(!1),a=Ze(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx($U,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});LU.displayName=bA;var xA="SelectScrollDownButton",FU=C.forwardRef((t,e)=>{const n=so(xA,t.__scopeSelect),r=xE(xA,t.__scopeSelect),[i,s]=C.useState(!1),a=Ze(e,r.onScrollButtonChange);return bn(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?f.jsx($U,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});FU.displayName=xA;var $U=C.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=so("SelectScrollButton",n),a=C.useRef(null),o=ey(n),l=C.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return C.useEffect(()=>()=>l(),[l]),bn(()=>{o().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),f.jsx(Be.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ye(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:ye(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:ye(i.onPointerLeave,()=>{l()})})}),Zre="SelectSeparator",Jre=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return f.jsx(Be.div,{"aria-hidden":!0,...r,ref:e})});Jre.displayName=Zre;var wA="SelectArrow",eie=C.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ty(n),s=io(wA,n),a=so(wA,n);return s.open&&a.position==="popper"?f.jsx(yE,{...i,...r,ref:e}):null});eie.displayName=wA;var tie="SelectBubbleInput",BU=C.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=C.useRef(null),s=Ze(r,i),a=bE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const h=new Event("change",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),f.jsx(Be.select,{...n,style:{...vU,...n.style},ref:s,defaultValue:e})});BU.displayName=tie;function UU(t){return t===""||t===void 0}function zU(t){const e=$n(t),n=C.useRef(""),r=C.useRef(0),i=C.useCallback(a=>{const o=n.current+a;e(o),(function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))})(o)},[e]),s=C.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function VU(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=nie(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function nie(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rie=yU,iie=xU,sie=SU,aie=_U,oie=AU,lie=CU,cie=jU,uie=MU,die=DU,hie=IU,fie=LU,pie=FU;function Bn({...t}){return f.jsx(rie,{"data-slot":"select",...t})}function Un({...t}){return f.jsx(sie,{"data-slot":"select-value",...t})}function zn({className:t,size:e="default",children:n,...r}){return f.jsxs(iie,{"data-slot":"select-trigger","data-size":e,className:Fe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,f.jsx(aie,{asChild:!0,children:f.jsx(V4,{className:"size-4 opacity-50"})})]})}function Vn({className:t,children:e,position:n="popper",...r}){return f.jsx(oie,{children:f.jsxs(lie,{"data-slot":"select-content",className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[f.jsx(mie,{}),f.jsx(cie,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:e}),f.jsx(gie,{})]})})}function He({className:t,children:e,...n}){return f.jsxs(uie,{"data-slot":"select-item",className:Fe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[f.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:f.jsx(hie,{children:f.jsx(Fv,{className:"size-4"})})}),f.jsx(die,{children:e})]})}function mie({className:t,...e}){return f.jsx(fie,{"data-slot":"select-scroll-up-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(sZ,{className:"size-4"})})}function gie({className:t,...e}){return f.jsx(pie,{"data-slot":"select-scroll-down-button",className:Fe("flex cursor-default items-center justify-center py-1",t),...e,children:f.jsx(V4,{className:"size-4"})})}function vie(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const yie=t=>{switch(t){case"success":return wie;case"info":return _ie;case"warning":return Sie;case"error":return Aie;default:return null}},bie=Array(12).fill(0),xie=({visible:t,className:e})=>z.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},z.createElement("div",{className:"sonner-spinner"},bie.map((n,r)=>z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),wie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Sie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),_ie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Aie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Cie=z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Pie=()=>{const[t,e]=z.useState(document.hidden);return z.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let SA=1;class Eie{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,s=typeof e?.id=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:SA++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=r!==void 0,a;const o=i.then(async c=>{if(a=["resolve",c],z.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(jie(c)&&!c.ok){s=!1;const h=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,m=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description,x=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...x})}else if(c instanceof Error){s=!1;const h=typeof n.error=="function"?await n.error(c):n.error,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:r,type:"error",description:m,...x})}else if(n.success!==void 0){s=!1;const h=typeof n.success=="function"?await n.success(c):n.success,m=typeof n.description=="function"?await n.description(c):n.description,x=typeof h=="object"&&!z.isValidElement(h)?h:{message:h};this.create({id:r,type:"success",description:m,...x})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;const d=typeof n.error=="function"?await n.error(c):n.error,h=typeof n.description=="function"?await n.description(c):n.description,g=typeof d=="object"&&!z.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:h,...g})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),l=()=>new Promise((c,d)=>o.then(()=>a[0]==="reject"?d(a[1]):c(a[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{const r=n?.id||SA++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Mr=new Eie,Tie=(t,e)=>{const n=e?.id||SA++;return Mr.addToast({title:t,...e,id:n}),n},jie=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",kie=Tie,Nie=()=>Mr.toasts,Oie=()=>Mr.getActiveToasts(),Te=Object.assign(kie,{success:Mr.success,info:Mr.info,warning:Mr.warning,error:Mr.error,custom:Mr.custom,message:Mr.message,promise:Mr.promise,dismiss:Mr.dismiss,loading:Mr.loading},{getHistory:Nie,getToasts:Oie});vie("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Cm(t){return t.label!==void 0}const Mie=3,Die="24px",Rie="16px",ZM=4e3,Iie=356,Lie=14,Fie=45,$ie=200;function as(...t){return t.filter(Boolean).join(" ")}function Bie(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const Uie=t=>{var e,n,r,i,s,a,o,l,c;const{invert:d,toast:h,unstyled:m,interacting:g,setHeights:x,visibleToasts:y,heights:b,index:w,toasts:A,expanded:_,removeToast:E,defaultRichColors:P,closeButton:T,style:k,cancelButtonStyle:O,actionButtonStyle:R,className:F="",descriptionClassName:M="",duration:D,position:$,gap:W,expandByDefault:H,classNames:V,icons:U,closeButtonAriaLabel:L="Close toast"}=t,[G,Q]=z.useState(null),[B,K]=z.useState(null),[Z,ae]=z.useState(!1),[ce,pe]=z.useState(!1),[ie,ee]=z.useState(!1),[te,le]=z.useState(!1),[he,ne]=z.useState(!1),[Me,Re]=z.useState(0),[yt,pt]=z.useState(0),bt=z.useRef(h.duration||D||ZM),wn=z.useRef(null),jt=z.useRef(null),Cr=w===0,rr=w+1<=y,Rt=h.type,Br=h.dismissible!==!1,ho=h.className||"",fo=h.descriptionClassName||"",po=z.useMemo(()=>b.findIndex(Ge=>Ge.toastId===h.id)||0,[b,h.id]),Lu=z.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:T},[h.closeButton,T]),mo=z.useMemo(()=>h.duration||D||ZM,[h.duration,D]),wl=z.useRef(0),si=z.useRef(0),da=z.useRef(0),ha=z.useRef(null),[ip,sp]=$.split("-"),ap=z.useMemo(()=>b.reduce((Ge,nn,Sn)=>Sn>=po?Ge:Ge+nn.height,0),[b,po]),Sl=Pie(),Fu=h.invert||d,go=Rt==="loading";si.current=z.useMemo(()=>po*W+ap,[po,ap]),z.useEffect(()=>{bt.current=mo},[mo]),z.useEffect(()=>{ae(!0)},[]),z.useEffect(()=>{const Ge=jt.current;if(Ge){const nn=Ge.getBoundingClientRect().height;return pt(nn),x(Sn=>[{toastId:h.id,height:nn,position:h.position},...Sn]),()=>x(Sn=>Sn.filter(ir=>ir.toastId!==h.id))}},[x,h.id]),z.useLayoutEffect(()=>{if(!Z)return;const Ge=jt.current,nn=Ge.style.height;Ge.style.height="auto";const Sn=Ge.getBoundingClientRect().height;Ge.style.height=nn,pt(Sn),x(ir=>ir.find(un=>un.toastId===h.id)?ir.map(un=>un.toastId===h.id?{...un,height:Sn}:un):[{toastId:h.id,height:Sn,position:h.position},...ir])},[Z,h.title,h.description,x,h.id,h.jsx,h.action,h.cancel]);const ai=z.useCallback(()=>{pe(!0),Re(si.current),x(Ge=>Ge.filter(nn=>nn.toastId!==h.id)),setTimeout(()=>{E(h)},$ie)},[h,E,x,si]);z.useEffect(()=>{if(h.promise&&Rt==="loading"||h.duration===1/0||h.type==="loading")return;let Ge;return _||g||Sl?(()=>{if(da.current<wl.current){const ir=new Date().getTime()-wl.current;bt.current=bt.current-ir}da.current=new Date().getTime()})():(()=>{bt.current!==1/0&&(wl.current=new Date().getTime(),Ge=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ai()},bt.current))})(),()=>clearTimeout(Ge)},[_,g,h,Rt,Sl,ai]),z.useEffect(()=>{h.delete&&(ai(),h.onDismiss==null||h.onDismiss.call(h,h))},[ai,h.delete]);function $u(){var Ge;if(U?.loading){var nn;return z.createElement("div",{className:as(V?.loader,h==null||(nn=h.classNames)==null?void 0:nn.loader,"sonner-loader"),"data-visible":Rt==="loading"},U.loading)}return z.createElement(xie,{className:as(V?.loader,h==null||(Ge=h.classNames)==null?void 0:Ge.loader),visible:Rt==="loading"})}const fa=h.icon||U?.[Rt]||yie(Rt);var Ns,Bu;return z.createElement("li",{tabIndex:0,ref:jt,className:as(F,ho,V?.toast,h==null||(e=h.classNames)==null?void 0:e.toast,V?.default,V?.[Rt],h==null||(n=h.classNames)==null?void 0:n[Rt]),"data-sonner-toast":"","data-rich-colors":(Ns=h.richColors)!=null?Ns:P,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":Z,"data-promise":!!h.promise,"data-swiped":he,"data-removed":ce,"data-visible":rr,"data-y-position":ip,"data-x-position":sp,"data-index":w,"data-front":Cr,"data-swiping":ie,"data-dismissible":Br,"data-type":Rt,"data-invert":Fu,"data-swipe-out":te,"data-swipe-direction":B,"data-expanded":!!(_||H&&Z),"data-testid":h.testId,style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${ce?Me:si.current}px`,"--initial-height":H?"auto":`${yt}px`,...k,...h.style},onDragEnd:()=>{ee(!1),Q(null),ha.current=null},onPointerDown:Ge=>{Ge.button!==2&&(go||!Br||(wn.current=new Date,Re(si.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(ee(!0),ha.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,nn,Sn;if(te||!Br)return;ha.current=null;const ir=Number(((Ge=jt.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),pa=Number(((nn=jt.current)==null?void 0:nn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),un=new Date().getTime()-((Sn=wn.current)==null?void 0:Sn.getTime()),Nn=G==="x"?ir:pa,ma=Math.abs(Nn)/un;if(Math.abs(Nn)>=Fie||ma>.11){Re(si.current),h.onDismiss==null||h.onDismiss.call(h,h),K(G==="x"?ir>0?"right":"left":pa>0?"down":"up"),ai(),le(!0);return}else{var Hn,Ur;(Hn=jt.current)==null||Hn.style.setProperty("--swipe-amount-x","0px"),(Ur=jt.current)==null||Ur.style.setProperty("--swipe-amount-y","0px")}ne(!1),ee(!1),Q(null)},onPointerMove:Ge=>{var nn,Sn,ir;if(!ha.current||!Br||((nn=window.getSelection())==null?void 0:nn.toString().length)>0)return;const un=Ge.clientY-ha.current.y,Nn=Ge.clientX-ha.current.x;var ma;const Hn=(ma=t.swipeDirections)!=null?ma:Bie($);!G&&(Math.abs(Nn)>1||Math.abs(un)>1)&&Q(Math.abs(Nn)>Math.abs(un)?"x":"y");let Ur={x:0,y:0};const ga=oi=>1/(1.5+Math.abs(oi)/20);if(G==="y"){if(Hn.includes("top")||Hn.includes("bottom"))if(Hn.includes("top")&&un<0||Hn.includes("bottom")&&un>0)Ur.y=un;else{const oi=un*ga(un);Ur.y=Math.abs(oi)<Math.abs(un)?oi:un}}else if(G==="x"&&(Hn.includes("left")||Hn.includes("right")))if(Hn.includes("left")&&Nn<0||Hn.includes("right")&&Nn>0)Ur.x=Nn;else{const oi=Nn*ga(Nn);Ur.x=Math.abs(oi)<Math.abs(Nn)?oi:Nn}(Math.abs(Ur.x)>0||Math.abs(Ur.y)>0)&&ne(!0),(Sn=jt.current)==null||Sn.style.setProperty("--swipe-amount-x",`${Ur.x}px`),(ir=jt.current)==null||ir.style.setProperty("--swipe-amount-y",`${Ur.y}px`)}},Lu&&!h.jsx&&Rt!=="loading"?z.createElement("button",{"aria-label":L,"data-disabled":go,"data-close-button":!0,onClick:go||!Br?()=>{}:()=>{ai(),h.onDismiss==null||h.onDismiss.call(h,h)},className:as(V?.closeButton,h==null||(r=h.classNames)==null?void 0:r.closeButton)},(Bu=U?.close)!=null?Bu:Cie):null,(Rt||h.icon||h.promise)&&h.icon!==null&&(U?.[Rt]!==null||h.icon)?z.createElement("div",{"data-icon":"",className:as(V?.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||$u():null,h.type!=="loading"?fa:null):null,z.createElement("div",{"data-content":"",className:as(V?.content,h==null||(s=h.classNames)==null?void 0:s.content)},z.createElement("div",{"data-title":"",className:as(V?.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?z.createElement("div",{"data-description":"",className:as(M,fo,V?.description,h==null||(o=h.classNames)==null?void 0:o.description)},typeof h.description=="function"?h.description():h.description):null),z.isValidElement(h.cancel)?h.cancel:h.cancel&&Cm(h.cancel)?z.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:Ge=>{Cm(h.cancel)&&Br&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ge),ai())},className:as(V?.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,z.isValidElement(h.action)?h.action:h.action&&Cm(h.action)?z.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||R,onClick:Ge=>{Cm(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ge),!Ge.defaultPrevented&&ai())},className:as(V?.actionButton,h==null||(c=h.classNames)==null?void 0:c.actionButton)},h.action.label):null)};function JM(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function zie(t,e){const n={};return[t,e].forEach((r,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Rie:Die;function l(c){["top","right","bottom","left"].forEach(d=>{n[`${a}-${d}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}const Vie=z.forwardRef(function(e,n){const{id:r,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:h,theme:m="light",richColors:g,duration:x,style:y,visibleToasts:b=Mie,toastOptions:w,dir:A=JM(),gap:_=Lie,icons:E,containerAriaLabel:P="Notifications"}=e,[T,k]=z.useState([]),O=z.useMemo(()=>r?T.filter(Z=>Z.toasterId===r):T.filter(Z=>!Z.toasterId),[T,r]),R=z.useMemo(()=>Array.from(new Set([s].concat(O.filter(Z=>Z.position).map(Z=>Z.position)))),[O,s]),[F,M]=z.useState([]),[D,$]=z.useState(!1),[W,H]=z.useState(!1),[V,U]=z.useState(m!=="system"?m:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=z.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=z.useRef(null),B=z.useRef(!1),K=z.useCallback(Z=>{k(ae=>{var ce;return(ce=ae.find(pe=>pe.id===Z.id))!=null&&ce.delete||Mr.dismiss(Z.id),ae.filter(({id:pe})=>pe!==Z.id)})},[]);return z.useEffect(()=>Mr.subscribe(Z=>{if(Z.dismiss){requestAnimationFrame(()=>{k(ae=>ae.map(ce=>ce.id===Z.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{J4.flushSync(()=>{k(ae=>{const ce=ae.findIndex(pe=>pe.id===Z.id);return ce!==-1?[...ae.slice(0,ce),{...ae[ce],...Z},...ae.slice(ce+1)]:[Z,...ae]})})})}),[T]),z.useEffect(()=>{if(m!=="system"){U(m);return}if(m==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ae})=>{U(ae?"dark":"light")})}catch{Z.addListener(({matches:ce})=>{try{U(ce?"dark":"light")}catch(pe){console.error(pe)}})}},[m]),z.useEffect(()=>{T.length<=1&&$(!1)},[T]),z.useEffect(()=>{const Z=ae=>{var ce;if(a.every(ee=>ae[ee]||ae.code===ee)){var ie;$(!0),(ie=L.current)==null||ie.focus()}ae.code==="Escape"&&(document.activeElement===L.current||(ce=L.current)!=null&&ce.contains(document.activeElement))&&$(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[a]),z.useEffect(()=>{if(L.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,B.current=!1)}},[L.current]),z.createElement("section",{ref:n,"aria-label":`${P} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((Z,ae)=>{var ce;const[pe,ie]=Z.split("-");return O.length?z.createElement("ol",{key:Z,dir:A==="auto"?JM():A,tabIndex:-1,ref:L,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":pe,"data-x-position":ie,style:{"--front-toast-height":`${((ce=F[0])==null?void 0:ce.height)||0}px`,"--width":`${Iie}px`,"--gap":`${_}px`,...y,...zie(d,h)},onBlur:ee=>{B.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(B.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||B.current||(B.current=!0,Q.current=ee.relatedTarget)},onMouseEnter:()=>$(!0),onMouseMove:()=>$(!0),onMouseLeave:()=>{W||$(!1)},onDragEnd:()=>$(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},O.filter(ee=>!ee.position&&ae===0||ee.position===Z).map((ee,te)=>{var le,he;return z.createElement(Uie,{key:ee.id,icons:E,index:te,toast:ee,defaultRichColors:g,duration:(le=w?.duration)!=null?le:x,className:w?.className,descriptionClassName:w?.descriptionClassName,invert:i,visibleToasts:b,closeButton:(he=w?.closeButton)!=null?he:l,interacting:W,position:Z,style:w?.style,unstyled:w?.unstyled,classNames:w?.classNames,cancelButtonStyle:w?.cancelButtonStyle,actionButtonStyle:w?.actionButtonStyle,closeButtonAriaLabel:w?.closeButtonAriaLabel,removeToast:K,toasts:O.filter(ne=>ne.position==ee.position),heights:F.filter(ne=>ne.position==ee.position),setHeights:M,expandByDefault:o,gap:_,expanded:D,swipeDirections:e.swipeDirections})})):null}))});function Wie({expense:t,open:e,onClose:n}){const{users:r,debts:i,currentUser:s,updateExpense:a,categories:o}=it(),[l,c]=C.useState(!1),[d,h]=C.useState(t.total_amount.toString()),[m,g]=C.useState(t.category),x=r.find(E=>E.id===t.created_by),y=s?.id===t.created_by||s?.role==="admin",b=i.filter(E=>E.linked_expense_id===t.id),w=E=>r.find(T=>T.id===E)?.name||"Unknown",A=async()=>{const E=parseFloat(d);if(isNaN(E)||E<=0){Te.error("Please enter a valid amount");return}try{await a(t.id,{total_amount:E,category:m}),Te.success("Expense updated successfully "),c(!1)}catch(P){console.error("Failed to update expense:",P),Te.error("Failed to update expense")}},_=()=>{h(t.total_amount.toString()),g(t.category),c(!1)};return f.jsx(jf,{open:e,onOpenChange:E=>!E&&(l?_():n()),children:f.jsxs(kf,{side:"right",className:"ml-auto w-full max-w-lg overflow-y-auto bg-background border-l",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[f.jsx(ge,{variant:"ghost",size:"icon",onClick:l?_:n,className:"shrink-0",children:f.jsx(Sf,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-center",children:[f.jsxs(Hv,{className:"flex items-center justify-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:fg(t.category)}),t.category]}),f.jsxs(qv,{className:"flex items-center justify-center gap-1 mt-1",children:[f.jsx(Ys,{className:"h-3 w-3"}),t5(t.date)]})]}),y&&!l&&f.jsx(ge,{variant:"outline",size:"icon",onClick:()=>c(!0),className:"shrink-0",children:f.jsx(Y4,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-secondary/10 p-6 rounded-2xl border",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Amount"}),l&&f.jsxs(ge,{onClick:A,size:"sm",className:"gap-1",children:[f.jsx(yh,{className:"h-3 w-3"}),"Save"]})]}),l?f.jsx("div",{className:"space-y-2",children:f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{type:"number",value:d,onChange:E=>h(E.target.value),className:"pl-8 h-12 text-2xl font-bold bg-background border-primary/30",step:"0.01"})]})}):f.jsx("div",{className:"text-3xl font-bold text-primary",children:Oe(t.total_amount,t.currency)})]}),f.jsxs("div",{className:"bg-surface-variant/50 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Q4,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Category"})]}),l?f.jsxs(Bn,{value:m,onValueChange:g,children:[f.jsx(zn,{className:"bg-background",children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"Food & Dining",children:" Food & Dining"}),f.jsx(He,{value:"Transportation",children:" Transportation"}),f.jsx(He,{value:"Shopping",children:" Shopping"}),f.jsx(He,{value:"Bills & Utilities",children:" Bills & Utilities"}),f.jsx(He,{value:"Entertainment",children:" Entertainment"}),f.jsx(He,{value:"Healthcare",children:" Healthcare"}),f.jsx(He,{value:"Education",children:" Education"}),f.jsx(He,{value:"Personal Care",children:" Personal Care"}),f.jsx(He,{value:"Home & Garden",children:" Home & Garden"}),f.jsx(He,{value:"Gifts & Donations",children:" Gifts & Donations"}),f.jsx(He,{value:"Travel",children:" Travel"}),f.jsx(He,{value:"Other",children:" Other"})]})]}):f.jsxs(xn,{variant:"outline",className:"text-sm px-3 py-1",children:[fg(t.category)," ",t.category]})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx(vh,{className:"h-4 w-4 text-muted-foreground"}),f.jsx("h3",{className:"font-semibold",children:"Payment Details"})]}),f.jsx("div",{className:"space-y-3",children:t.payment_lines.map(E=>{const P=r.find(R=>R.id===E.payer_user_id),T=!!E.meta?.borrowed_from,k=T?E.meta.borrowed_from==="custom"?null:r.find(R=>R.id===E.meta?.borrowed_from):null,O=T?E.meta.borrowed_from==="custom"?E.meta.borrowed_from_name||"someone":k?.name||"someone":null;return f.jsxs(tt,{className:`p-4 ${T?"border-orange-200 dark:border-orange-800 bg-orange-50/30 dark:bg-orange-950/10":""}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:n5(E.method)}),f.jsx("span",{className:"font-medium",children:$J(E.method)})]}),f.jsx("div",{className:"text-lg font-bold",children:Oe(E.amount,t.currency)})]}),P&&f.jsxs("div",{className:"text-sm text-muted-foreground mb-2 flex items-center gap-2",children:[f.jsx(Dc,{className:"h-5 w-5",children:f.jsx(Rc,{className:"text-xs",children:Qo(P.name)})}),f.jsxs("span",{children:["Paid by ",f.jsx("span",{className:"font-medium text-foreground",children:P.name})]})]}),T&&O&&f.jsxs("div",{className:"mt-3 p-3 bg-orange-50/50 dark:bg-orange-950/20 rounded-lg border border-orange-200/50 dark:border-orange-800/50",children:[f.jsxs("div",{className:"flex items-center gap-2 text-orange-700 dark:text-orange-400 font-medium text-sm mb-1",children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx("span",{children:"Borrowed Money"})]}),f.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[f.jsx("span",{className:"font-medium",children:P?.name}),f.jsx(FQ,{className:"h-3 w-3 text-muted-foreground"}),f.jsx("span",{className:"text-muted-foreground",children:"borrowed from"}),f.jsx("span",{className:"font-medium",children:O})]})]})]},E.id)})})]}),t.notes&&f.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[f.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:" Notes"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})]}),f.jsxs("div",{className:"bg-surface-variant/30 p-4 rounded-xl space-y-3",children:[f.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Details"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Created by"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(Dc,{className:"h-5 w-5",children:f.jsx(Rc,{className:"text-xs",children:x?Qo(x.name):"?"})}),f.jsx("span",{className:"font-medium",children:x?.name||"Unknown"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Visibility"}),f.jsx(xn,{variant:t.is_shared?"default":"secondary",className:"text-xs",children:t.is_shared?"Shared":"Private"})]}),b.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-muted-foreground text-sm mb-2",children:"Related IOUs"}),f.jsx("div",{className:"space-y-2",children:b.map(E=>f.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-background rounded border",children:[f.jsxs("span",{children:[w(E.borrower_user_id)," owes"," ",w(E.lender_user_id)]}),f.jsx("span",{className:"font-semibold",children:Oe(E.amount,E.currency)})]},E.id))})]})]})]}),t.attachments&&t.attachments.length>0&&f.jsxs("div",{className:"p-4 border-b",children:[f.jsxs("h3",{className:"text-sm font-medium mb-3 flex items-center gap-2 text-muted-foreground",children:[f.jsx(vh,{className:"h-4 w-4"}),"Receipts & Attachments"]}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.attachments.map((E,P)=>f.jsx("div",{className:"relative group rounded-lg overflow-hidden border bg-muted/50 aspect-square",children:f.jsx("img",{src:E,alt:`Receipt ${P+1}`,className:"w-full h-full object-cover transition-transform hover:scale-105 cursor-pointer",onClick:()=>{window.open()?.document.write(`<img src="${E}" style="max-width:100%; height:auto;">`)}})},P))})]}),f.jsx("div",{className:"p-4 pb-8",children:y&&f.jsxs(ge,{variant:"destructive",className:"w-full gap-2",onClick:()=>{confirm("Are you sure you want to delete this expense?")&&Te.error("Delete functionality not implemented in this view yet")},children:[f.jsx(_f,{className:"h-4 w-4"}),"Delete Expense"]})})]})})}function e2({filters:t}){const{currentUser:e,expenses:n,users:r}=it(),[i,s]=C.useState(null);let a=e?.role==="admin"?n:n.filter(c=>c.is_shared||c.created_by===e?.id);t&&(a=a.filter(c=>{if(t.searchQuery){const d=t.searchQuery.toLowerCase();if(!(c.category.toLowerCase().includes(d)||c.notes&&c.notes.toLowerCase().includes(d)))return!1}if(t.category!=="All Categories"&&c.category!==t.category||t.mode!=="All Modes"&&!c.payment_lines.some(h=>h.method===t.mode))return!1;if(t.timeRange!=="all"){const d=new Date,h=new Date(c.date);switch(t.timeRange){case"today":if(h.toDateString()!==d.toDateString())return!1;break;case"week":const m=new Date(d);if(m.setDate(m.getDate()-7),h<m)return!1;break;case"month":const g=new Date(d);if(g.setMonth(g.getMonth()-1),h<g)return!1;break}}return!0}));const o=a.reduce((c,d)=>{const h=xs(d.date);return c[h]||(c[h]=[]),c[h].push(d),c},{});if(a.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx("div",{className:"text-5xl",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"":""})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"No expenses match your filters":"No expenses yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t?.searchQuery||Object.keys(t||{}).some(c=>t[c]&&t[c]!=="all"&&t[c]!=="All Categories"&&t[c]!=="All Modes")?"Try adjusting your filters":"Tap the + button to add your first expense"})]});const l=c=>r.find(h=>h.id===c)?.name||"Unknown";return f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"space-y-6",children:Object.entries(o).map(([c,d])=>f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3 px-1 uppercase tracking-wide",children:c}),f.jsx("div",{className:"space-y-3",children:d.map(h=>{const m=r.find(g=>g.id===h.created_by);return f.jsx(tt,{className:"p-4 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20 overflow-hidden",onClick:()=>s(h),children:f.jsxs("div",{className:"flex items-start justify-between gap-4",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:fg(h.category)}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[f.jsx(Dc,{className:"h-6 w-6 border border-outline-variant",children:f.jsx(Rc,{className:"text-xs bg-primary-container text-on-primary-container",children:m?Qo(m.name):"?"})}),f.jsx("span",{className:"text-xs text-muted-foreground",children:l(h.created_by)})]}),f.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:h.payment_lines.map(g=>{const x=r.find(b=>b.id===g.payer_user_id),y=g.meta?.borrowed_from==="custom"?g.meta?.borrowed_from_name:null;return f.jsxs("span",{className:"inline-flex items-center gap-1 text-xs px-2 py-1 rounded-md bg-surface-variant/50 text-on-surface-variant",children:[n5(g.method)," ",y?f.jsx("span",{className:"font-medium mr-1",children:y}):x&&f.jsx("span",{className:"font-medium mr-1",children:x.name.split(" ")[0]}),Oe(g.amount,h.currency)]},g.id)})})]})]}),f.jsx("div",{className:"text-right shrink-0",children:f.jsx("div",{className:"text-xl font-medium text-destructive",children:Oe(h.total_amount,h.currency)})})]})},h.id)})})]},c))}),i&&f.jsx(Wie,{expense:i,open:!!i,onClose:()=>s(null)})]})}function Hie({income:t,open:e,onClose:n}){const{users:r,currentUser:i,updateIncome:s}=it(),[a,o]=C.useState(!1),[l,c]=C.useState(t.amount.toString()),[d,h]=C.useState(t.source),m=r.find(b=>b.id===t.created_by),g=i?.id===t.created_by||i?.role==="admin",x=async()=>{const b=parseFloat(l);if(isNaN(b)||b<=0){Te.error("Please enter a valid amount");return}try{await s({...t,amount:b,source:d,updated_at:new Date().toISOString()}),Te.success("Income updated successfully "),o(!1)}catch(w){console.error("Failed to update income:",w),Te.error("Failed to update income")}},y=()=>{c(t.amount.toString()),h(t.source),o(!1)};return f.jsx(jf,{open:e,onOpenChange:b=>!b&&(a?y():n()),children:f.jsxs(kf,{side:"right",className:"ml-auto w-full max-w-lg overflow-y-auto bg-background border-l",children:[f.jsxs("div",{className:"flex items-center justify-between p-4 pb-3 border-b sticky top-0 bg-background z-10",children:[f.jsx(ge,{variant:"ghost",size:"icon",onClick:a?y:n,className:"shrink-0",children:f.jsx(Sf,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-center",children:[f.jsxs(Hv,{className:"flex items-center justify-center gap-2 text-green-600",children:[f.jsx(Fr,{className:"h-5 w-5"}),"Income Details"]}),f.jsxs(qv,{className:"flex items-center justify-center gap-1 mt-1",children:[f.jsx(Ys,{className:"h-3 w-3"}),t5(t.date)]})]}),g&&!a&&f.jsx(ge,{variant:"outline",size:"icon",onClick:()=>o(!0),className:"shrink-0",children:f.jsx(Y4,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"px-6 py-4 space-y-6",children:[f.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20 p-6 rounded-2xl border border-green-100 dark:border-green-900",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("span",{className:"text-sm font-medium text-green-700 dark:text-green-300",children:"Amount"}),a&&f.jsxs(ge,{onClick:x,size:"sm",className:"gap-1 bg-green-600 hover:bg-green-700 text-white",children:[f.jsx(yh,{className:"h-3 w-3"}),"Save"]})]}),a?f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{type:"number",value:l,onChange:b=>c(b.target.value),className:"pl-8 h-12 text-2xl font-bold bg-background border-green-200 dark:border-green-800",step:"0.01"})]}):f.jsx("div",{className:"text-3xl font-bold text-green-700 dark:text-green-400",children:Oe(t.amount,t.currency)})]}),f.jsxs("div",{className:"bg-surface-variant/50 p-4 rounded-xl border",children:[f.jsx("div",{className:"flex items-center gap-2 mb-3",children:f.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Source"})}),a?f.jsxs(Bn,{value:d,onValueChange:h,children:[f.jsx(zn,{className:"bg-background",children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"Salary",children:" Salary"}),f.jsx(He,{value:"Freelance",children:" Freelance"}),f.jsx(He,{value:"Business",children:" Business"}),f.jsx(He,{value:"Investment",children:" Investment"}),f.jsx(He,{value:"Gift",children:" Gift"}),f.jsx(He,{value:"Other",children:" Other"})]})]}):f.jsx("div",{className:"text-lg font-medium",children:t.source})]}),t.notes&&f.jsxs("div",{className:"bg-muted/30 p-4 rounded-xl",children:[f.jsx("h3",{className:"font-semibold mb-2 flex items-center gap-2",children:" Notes"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:t.notes})]}),f.jsxs("div",{className:"bg-surface-variant/30 p-4 rounded-xl space-y-3",children:[f.jsx("h3",{className:"font-semibold text-sm mb-3",children:"Details"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Created by"}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary",children:m?Qo(m.name):"?"}),f.jsx("span",{className:"font-medium",children:m?.name||"Unknown"})]})]}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Visibility"}),f.jsx(xn,{variant:t.is_shared?"default":"secondary",className:"text-xs",children:t.is_shared?"Shared":"Private"})]})]})]})]})})}function t2({filters:t}){const{income:e,users:n,currentUser:r}=it(),[i,s]=C.useState(null);let a=e;return t&&(a=e.filter(o=>{if(t.searchQuery){const l=t.searchQuery.toLowerCase();if(!(o.source.toLowerCase().includes(l)||o.notes&&o.notes.toLowerCase().includes(l)))return!1}if(t.timeRange!=="all"){const l=new Date,c=new Date(o.date);switch(t.timeRange){case"today":if(c.toDateString()!==l.toDateString())return!1;break;case"week":const d=new Date(l);if(d.setDate(d.getDate()-7),c<d)return!1;break;case"month":const h=new Date(l);if(h.setMonth(h.getMonth()-1),c<h)return!1;break}}return!0})),a.length===0?f.jsx(tt,{children:f.jsxs($t,{className:"py-12 text-center",children:[f.jsx(Fr,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),f.jsx("p",{className:"text-muted-foreground",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"No income matches your filters":"No income recorded yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:t?.searchQuery||t?.timeRange&&t.timeRange!=="all"?"Try adjusting your filters":"Add your first income to start tracking"})]})}):f.jsxs("div",{className:"space-y-3",children:[a.map(o=>{const l=n.find(d=>d.id===o.created_by),c=o.created_by===r?.id;return f.jsxs(tt,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>s(o),children:[f.jsx(At,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Ct,{className:"flex items-center gap-2",children:f.jsxs("span",{className:"text-green-600",children:["+ ",Oe(o.amount)]})}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.source})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm",children:xs(new Date(o.date))}),l&&f.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[f.jsx(ZP,{className:"h-3 w-3"}),f.jsx("span",{children:c?"You":l.name})]})]})]})}),o.notes&&f.jsx($t,{className:"pt-0",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:o.notes})})]},o.id)}),i&&f.jsx(Hie,{income:i,open:!!i,onClose:()=>s(null)})]})}var qie=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gie=qie.reduce((t,e)=>{const n=vf(`Primitive.${e}`),r=C.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),f.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{}),Kie="Separator",n2="horizontal",Yie=["horizontal","vertical"],WU=C.forwardRef((t,e)=>{const{decorative:n,orientation:r=n2,...i}=t,s=Xie(r)?r:n2,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return f.jsx(Gie.div,{"data-orientation":s,...o,...i,ref:e})});WU.displayName=Kie;function Xie(t){return Yie.includes(t)}var Qie=WU;function v0({className:t,orientation:e="horizontal",decorative:n=!0,...r}){return f.jsx(Qie,{"data-slot":"separator-root",decorative:n,orientation:e,className:Fe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...r})}function qt({...t}){return f.jsx(L5,{"data-slot":"dialog",...t})}function Zie({...t}){return f.jsx($te,{"data-slot":"dialog-trigger",...t})}function Jie({...t}){return f.jsx(F5,{"data-slot":"dialog-portal",...t})}const HU=C.forwardRef(({className:t,...e},n)=>f.jsx(Wv,{ref:n,"data-slot":"dialog-overlay",className:Fe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e}));HU.displayName=Wv.displayName;function Gt({className:t,children:e,...n}){return f.jsxs(Jie,{"data-slot":"dialog-portal",children:[f.jsx(HU,{}),f.jsxs($5,{"data-slot":"dialog-content",className:Fe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[e,f.jsxs(z5,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[f.jsx(Su,{}),f.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Zt({className:t,...e}){return f.jsx("div",{"data-slot":"dialog-header",className:Fe("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Jt({className:t,...e}){return f.jsx(B5,{"data-slot":"dialog-title",className:Fe("text-lg leading-none font-semibold",t),...e})}function ln({className:t,...e}){return f.jsx(U5,{"data-slot":"dialog-description",className:Fe("text-muted-foreground text-sm",t),...e})}function Ha({className:t,...e}){return f.jsx("textarea",{"data-slot":"textarea",className:Fe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function ese({goal:t,open:e,onClose:n}){const{currentUser:r,currentFamily:i,accounts:s,addGoalTransfer:a,updateGoal:o,addExpense:l}=it(),[c,d]=C.useState(""),[h,m]=C.useState(""),[g,x]=C.useState("cash"),[y,b]=C.useState(""),[w,A]=C.useState(!1),_=()=>{d(""),m(""),x("cash"),b(""),n()},E=async()=>{if(!r||!i)return;const k=parseFloat(c);if(isNaN(k)||k<=0){Te.error("Please enter a valid amount");return}const O=t.target_amount-t.current_amount;if(k>O){Te.error(`Amount exceeds remaining target (${O.toFixed(2)})`);return}if(g!=="cash"&&!h){Te.error("Please select a source account");return}A(!0);try{const R={id:cn(),goal_id:t.id,from_account_id:g==="cash"?void 0:h,amount:k,transfer_type:"manual",transfer_method:g,contributed_by:r.id,notes:y.trim()||void 0,transfer_date:new Date().toISOString(),created_at:new Date().toISOString(),sync_status:"pending"};await a(R);const F={id:cn(),method:g,amount:k,payer_user_id:r.id,account_id:g==="cash"?void 0:h},M={id:cn(),family_id:r.family_id,created_by:r.id,total_amount:k,currency:"INR",category:"savings",date:xs(new Date),notes:`Contribution to goal: ${t.goal_name}`,payment_lines:[F],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await l(M);const D={...t,current_amount:t.current_amount+k,updated_at:new Date().toISOString()};D.current_amount>=D.target_amount&&(D.is_active=!1,D.completed_at=new Date().toISOString(),Te.success("Goal reached! ")),await o(D),Te.success(`Added ${k} to "${t.goal_name}"!`),_()}catch(R){console.error("Failed to add transfer:",R),Te.error("Failed to add money to goal")}finally{A(!1)}},P=t.target_amount-t.current_amount,T={cash:{icon:"",label:"Cash",description:"Save cash physically or deposit later",color:"from-green-50 to-emerald-50 dark:from-green-950/20 dark:to-emerald-950/20",borderColor:"border-green-200 dark:border-green-800"},upi:{icon:"",label:"UPI",description:"Quick digital transfer via UPI apps",color:"from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20",borderColor:"border-blue-200 dark:border-blue-800"},card:{icon:"",label:"Debit/Credit Card",description:"Using your card payments or rewards",color:"from-purple-50 to-pink-50 dark:from-purple-950/20 dark:to-pink-950/20",borderColor:"border-purple-200 dark:border-purple-800"},bank:{icon:"",label:"Bank Transfer",description:"Direct bank account transfer",color:"from-orange-50 to-red-50 dark:from-orange-950/20 dark:to-red-950/20",borderColor:"border-orange-200 dark:border-orange-800"},wallet:{icon:"",label:"Wallet",description:"Digital wallet or e-payment",color:"from-amber-50 to-yellow-50 dark:from-amber-950/20 dark:to-yellow-950/20",borderColor:"border-amber-200 dark:border-amber-800"},borrowed:{icon:"",label:"Borrowed",description:"Borrowed from someone",color:"from-indigo-50 to-blue-50 dark:from-indigo-950/20 dark:to-blue-950/20",borderColor:"border-indigo-200 dark:border-indigo-800"}};return f.jsx(qt,{open:e,onOpenChange:k=>!k&&_(),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(Zt,{children:[f.jsxs(Jt,{className:"flex items-center gap-2 text-2xl",children:[f.jsx(H4,{className:"h-6 w-6 text-primary"}),"Add Money to Goal"]}),f.jsx(ln,{className:"text-base mt-2",children:f.jsxs("div",{className:"space-y-1",children:[f.jsx("p",{className:"font-medium",children:t.goal_name}),f.jsxs("p",{className:"text-muted-foreground",children:["Remaining: ",Oe(P)]})]})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsx(tt,{className:"p-4 bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(BZ,{className:"h-4 w-4 text-primary"}),f.jsx("p",{className:"font-medium",children:"How Much Can You Save?"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Remaining to reach goal:"}),f.jsx("span",{className:"text-2xl font-bold text-primary",children:Oe(P)})]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["If you save ",Oe(Math.round(P/12))," per month, you can reach your goal in ~1 year"]})]})}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ne,{htmlFor:"amount",className:"text-base font-semibold",children:"How Much Do You Want to Save? *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-2xl text-muted-foreground",children:""}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0",value:c,onChange:k=>d(k.target.value),step:"100",className:"pl-10 h-14 text-2xl font-semibold"})]}),c&&parseFloat(c)>0&&f.jsxs("div",{className:"p-3 rounded-lg bg-success/10 border border-success/30",children:[f.jsxs("p",{className:"text-sm",children:["After this: ",f.jsx("span",{className:"font-semibold",children:Oe(t.current_amount+parseFloat(c))})," / ",Oe(t.target_amount)]}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Progress: ",f.jsxs("span",{className:"font-semibold",children:[((t.current_amount+parseFloat(c))/t.target_amount*100).toFixed(1),"%"]})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ne,{className:"text-base font-semibold",children:"How Do You Want to Save? *"}),f.jsx("div",{className:"grid grid-cols-2 gap-3 md:grid-cols-5",children:Object.entries(T).map(([k,O])=>f.jsxs("button",{onClick:()=>x(k),className:`p-3 rounded-xl border-2 transition-all ${g===k?`bg-gradient-to-br ${O.color} border-primary shadow-md scale-105`:"bg-white dark:bg-slate-950 border-border hover:border-primary/50"}`,children:[f.jsx("div",{className:"text-3xl mb-2",children:O.icon}),f.jsx("div",{className:"text-xs font-medium text-center leading-tight",children:O.label})]},k))}),T[g]&&f.jsx("div",{className:"p-3 rounded-lg bg-muted/50 border border-muted",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:T[g].description})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"fromAccount",children:"Source"}),g==="cash"?f.jsxs("div",{className:"p-3 bg-muted/50 rounded-lg border border-muted flex items-center gap-2",children:[f.jsx("span",{className:"text-xl",children:""}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:"Cash Payment"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Amount will be added to goal directly"})]})]}):f.jsxs(Bn,{value:h,onValueChange:m,children:[f.jsx(zn,{id:"fromAccount",className:"h-11",children:f.jsx(Un,{placeholder:"Select Bank Account..."})}),f.jsxs(Vn,{children:[s.map(k=>f.jsxs(He,{value:k.id,children:[k.name," - ",Oe(k.current_balance)]},k.id)),s.length===0&&f.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No bank accounts found. Please add one in Settings."})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"notes",children:"Add Notes (optional)"}),f.jsx(Ha,{id:"notes",placeholder:"e.g., Monthly contribution, Birthday savings, etc.",value:y,onChange:k=>b(k.target.value),rows:2,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[f.jsx(ge,{variant:"outline",onClick:_,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ge,{onClick:E,disabled:w||!c||parseFloat(c)<=0,className:"flex-1 h-12",children:w?"Saving...":`Save ${c?Oe(parseFloat(c)):"Money"}`})]})]})]})})}function tse({goal:t,open:e,onClose:n}){const{users:r,goalTransfers:i,currentUser:s}=it(),[a,o]=C.useState(!1);if(!t)return null;const l=r.find(b=>b.id===t.created_by),c=i.filter(b=>b.goal_id===t.id),d=Math.min(t.current_amount/t.target_amount*100,100),h=d>=100,g=(()=>{if(!t.target_date)return null;const b=new Date,w=new Date(t.target_date);return Math.ceil((w.getTime()-b.getTime())/(1e3*60*60*24))})(),x=b=>{switch(b){case"high":return"text-red-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},y=()=>[{percentage:25,label:"25%",achieved:d>=25},{percentage:50,label:"50%",achieved:d>=50},{percentage:75,label:"75%",achieved:d>=75},{percentage:100,label:"100%",achieved:d>=100}];return f.jsxs(f.Fragment,{children:[f.jsx(jf,{open:e,onOpenChange:n,children:f.jsxs(kf,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[f.jsx(W5,{className:"mb-6",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsx("div",{className:"flex-1",children:f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx("span",{className:"text-4xl",children:t.goal_icon||""}),f.jsxs("div",{children:[f.jsx(Hv,{className:"text-2xl",children:t.goal_name}),f.jsxs(qv,{className:"text-base mt-1",children:["Target: ",Oe(t.target_amount)]})]})]})}),f.jsxs(xn,{variant:"outline",className:`${x(t.priority)} border-current`,children:[t.priority," priority"]})]})}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{className:"flex items-center gap-2",children:[f.jsx(Fr,{className:"h-4 w-4"}),"Progress"]}),f.jsxs("span",{className:"text-2xl font-semibold",children:[d.toFixed(1),"%"]})]}),f.jsx($v,{value:d,className:"h-3"}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("div",{className:"p-3 bg-success/10 rounded-lg border border-success/20",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Saved"}),f.jsx("p",{className:"font-semibold text-success",children:Oe(t.current_amount)})]}),f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg",children:[f.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Remaining"}),f.jsx("p",{className:"font-semibold",children:Oe(t.target_amount-t.current_amount)})]})]}),h&&f.jsx("div",{className:"p-4 bg-success/10 border-2 border-success/30 rounded-lg",children:f.jsxs("div",{className:"flex items-center gap-2 text-success",children:[f.jsx(yM,{className:"h-5 w-5"}),f.jsx("span",{className:"font-medium",children:"Goal Completed! "})]})})]}),f.jsx(v0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Milestones"}),f.jsx("div",{className:"grid grid-cols-4 gap-2",children:y().map(b=>f.jsxs("div",{className:`p-3 rounded-lg text-center transition-all ${b.achieved?"bg-success/20 border-2 border-success/50":"bg-muted/30 border border-muted"}`,children:[b.achieved&&f.jsx(yM,{className:"h-4 w-4 mx-auto mb-1 text-success"}),f.jsx("p",{className:"text-sm font-medium",children:b.label})]},b.percentage))})]}),f.jsx(v0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsx("h3",{children:"Details"}),t.target_date&&f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("span",{className:"text-sm",children:["Target Date: ",xs(new Date(t.target_date))]}),g!==null&&f.jsx("p",{className:"text-xs text-muted-foreground",children:g>0?`${g} days remaining`:g===0?"Due today!":`${Math.abs(g)} days overdue`})]})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ZP,{className:"h-4 w-4 text-muted-foreground"}),f.jsxs("span",{className:"text-sm",children:["Created by ",l?.name||"Unknown"]})]}),t.description&&f.jsx("div",{className:"p-3 bg-muted/30 rounded-lg",children:f.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})})]}),f.jsx(v0,{}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("h3",{children:["Contributions (",c.length,")"]}),!h&&f.jsxs(ge,{size:"sm",onClick:()=>o(!0),className:"gap-2",children:[f.jsx(ei,{className:"h-4 w-4"}),"Add Money"]})]}),c.length===0?f.jsxs("div",{className:"text-center py-8",children:[f.jsx(H4,{className:"h-12 w-12 mx-auto mb-2 text-muted-foreground"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"No contributions yet"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Start saving towards this goal"})]}):f.jsx("div",{className:"space-y-2",children:c.sort((b,w)=>new Date(w.transfer_date).getTime()-new Date(b.transfer_date).getTime()).map(b=>{const w=r.find(A=>A.id===b.contributed_by);return f.jsxs("div",{className:"p-3 bg-muted/30 rounded-lg flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-sm font-medium",children:w?.name||"Unknown"}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[xs(new Date(b.transfer_date)),b.notes&&`  ${b.notes}`]})]}),f.jsxs("p",{className:"font-semibold text-success",children:["+",Oe(b.amount)]})]},b.id)})})]})]}),f.jsx("div",{className:"mt-6 pt-4 border-t",children:f.jsx(ge,{variant:"outline",onClick:n,className:"w-full",children:"Close"})})]})}),a&&f.jsx(ese,{goal:t,open:a,onClose:()=>o(!1)})]})}function nse(){const{currentUser:t,goals:e}=it(),[n,r]=C.useState(null),i=t?.role==="admin"?e:e.filter(h=>h.is_shared||h.created_by===t?.id),s=i.filter(h=>h.is_active),a=i.filter(h=>!h.is_active&&h.completed_at),o=h=>Math.min(h.current_amount/h.target_amount*100,100),l=h=>{if(!h.target_date)return null;const m=new Date,g=new Date(h.target_date);return Math.ceil((g.getTime()-m.getTime())/(1e3*60*60*24))},c=h=>{switch(h){case"high":return"bg-red-100 text-red-800 dark:bg-red-950 dark:text-red-300";case"medium":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-950 dark:text-yellow-300";case"low":return"bg-green-100 text-green-800 dark:bg-green-950 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-950 dark:text-gray-300"}};if(i.length===0)return f.jsxs("div",{className:"text-center py-16",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-4",children:f.jsx(th,{className:"h-12 w-12 text-primary"})}),f.jsx("p",{className:"text-muted-foreground text-lg mb-2",children:"No goals yet"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first savings goal to get started"})]});const d=h=>{const m=o(h),g=l(h),x=m>=100;return f.jsx(tt,{className:"p-4 elevation-1 hover:elevation-3 cursor-pointer transition-all duration-200 bg-card hover:bg-surface-variant/30 border-outline-variant/20",onClick:()=>r(h),children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-start justify-between gap-3",children:[f.jsxs("div",{className:"flex items-start gap-3 flex-1 min-w-0",children:[f.jsx("div",{className:"text-3xl p-2 rounded-xl bg-primary-container/30 shrink-0",children:h.goal_icon||""}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"truncate font-medium",children:h.goal_name}),f.jsxs("div",{className:"flex items-center gap-2 mt-1 flex-wrap",children:[f.jsx(xn,{variant:"outline",className:c(h.priority),children:h.priority}),x&&f.jsx(xn,{className:"bg-success text-white",children:" Completed"})]})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Target"}),f.jsx("p",{className:"font-semibold",children:Oe(h.target_amount)})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Progress"}),f.jsxs("span",{className:"font-medium",children:[m.toFixed(1),"%"]})]}),f.jsx($v,{value:m,className:"h-2"}),f.jsxs("div",{className:"flex items-center justify-between text-sm",children:[f.jsxs("span",{className:"text-muted-foreground",children:["Saved: ",Oe(h.current_amount)]}),f.jsxs("span",{className:"text-muted-foreground",children:["Remaining: ",Oe(h.target_amount-h.current_amount)]})]})]}),g!==null&&f.jsx("div",{className:"text-sm text-muted-foreground",children:g>0?f.jsxs("span",{children:[" ",g," days remaining"]}):g===0?f.jsx("span",{className:"text-orange-600",children:" Due today!"}):f.jsxs("span",{className:"text-red-600",children:[" ",Math.abs(g)," days overdue"]})})]})},h.id)};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Active Goals (",s.length,")"]}),s.map(d)]}),a.length>0&&f.jsxs("div",{className:"space-y-3",children:[f.jsxs("h3",{className:"text-sm text-muted-foreground uppercase tracking-wide px-1",children:["Completed Goals (",a.length,")"]}),a.map(d)]})]}),n&&f.jsx(tse,{goal:n,open:!!n,onClose:()=>r(null)})]})}function st(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ii(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function gn(t,e){const n=st(t);return isNaN(e)?ii(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Ei(t,e){const n=st(t);if(isNaN(e))return ii(t,NaN);if(!e)return n;const r=n.getDate(),i=ii(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const wE=6048e5,rse=864e5,qU=6e4,GU=36e5;let ise={};function Of(){return ise}function Ti(t,e){const n=Of(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function nl(t){return Ti(t,{weekStartsOn:1})}function KU(t){const e=st(t),n=e.getFullYear(),r=ii(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=nl(r),s=ii(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=nl(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function Lc(t){const e=st(t);return e.setHours(0,0,0,0),e}function wg(t){const e=st(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function fs(t,e){const n=Lc(t),r=Lc(e),i=+n-wg(n),s=+r-wg(r);return Math.round((i-s)/rse)}function sse(t){const e=KU(t),n=ii(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),nl(n)}function Sg(t,e){const n=e*7;return gn(t,n)}function ase(t,e){return Ei(t,e*12)}function ose(t){let e;return t.forEach(function(n){const r=st(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function lse(t){let e;return t.forEach(n=>{const r=st(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function tr(t,e){const n=Lc(t),r=Lc(e);return+n==+r}function SE(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cse(t){if(!SE(t)&&typeof t!="number")return!1;const e=st(t);return!isNaN(Number(e))}function Sh(t,e){const n=st(t),r=st(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function use(t,e,n){const r=Ti(t,n),i=Ti(e,n),s=+r-wg(r),a=+i-wg(i);return Math.round((s-a)/wE)}function _h(t){const e=st(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function hr(t){const e=st(t);return e.setDate(1),e.setHours(0,0,0,0),e}function YU(t){const e=st(t),n=ii(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ah(t,e){const n=Of(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=st(t),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function XU(t){return Ah(t,{weekStartsOn:1})}const dse={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hse=(t,e,n)=>{let r;const i=dse[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function y0(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const fse={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pse={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mse={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gse={date:y0({formats:fse,defaultWidth:"full"}),time:y0({formats:pse,defaultWidth:"full"}),dateTime:y0({formats:mse,defaultWidth:"full"})},vse={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yse=(t,e,n,r)=>vse[t];function Cd(t){return(e,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n?.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n?.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const bse={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xse={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wse={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Sse={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ase={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cse=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pse={ordinalNumber:Cse,era:Cd({values:bse,defaultWidth:"wide"}),quarter:Cd({values:xse,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cd({values:wse,defaultWidth:"wide"}),day:Cd({values:Sse,defaultWidth:"wide"}),dayPeriod:Cd({values:_se,defaultWidth:"wide",formattingValues:Ase,defaultFormattingWidth:"wide"})};function Pd(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Tse(o,h=>h.test(a)):Ese(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Ese(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function Tse(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function jse(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const kse=/^(\d+)(th|st|nd|rd)?/i,Nse=/\d+/i,Ose={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mse={any:[/^b/i,/^(a|c)/i]},Dse={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rse={any:[/1/i,/2/i,/3/i,/4/i]},Ise={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lse={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fse={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$se={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bse={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Use={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zse={ordinalNumber:jse({matchPattern:kse,parsePattern:Nse,valueCallback:t=>parseInt(t,10)}),era:Pd({matchPatterns:Ose,defaultMatchWidth:"wide",parsePatterns:Mse,defaultParseWidth:"any"}),quarter:Pd({matchPatterns:Dse,defaultMatchWidth:"wide",parsePatterns:Rse,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pd({matchPatterns:Ise,defaultMatchWidth:"wide",parsePatterns:Lse,defaultParseWidth:"any"}),day:Pd({matchPatterns:Fse,defaultMatchWidth:"wide",parsePatterns:$se,defaultParseWidth:"any"}),dayPeriod:Pd({matchPatterns:Bse,defaultMatchWidth:"any",parsePatterns:Use,defaultParseWidth:"any"})},QU={code:"en-US",formatDistance:hse,formatLong:gse,formatRelative:yse,localize:Pse,match:zse,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vse(t){const e=st(t);return fs(e,YU(e))+1}function ZU(t){const e=st(t),n=+nl(e)-+sse(e);return Math.round(n/wE)+1}function JU(t,e){const n=st(t),r=n.getFullYear(),i=Of(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=ii(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Ti(a,e),l=ii(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ti(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Wse(t,e){const n=Of(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=JU(t,e),s=ii(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ti(s,e)}function ez(t,e){const n=st(t),r=+Ti(n,e)-+Wse(n,e);return Math.round(r/wE)+1}function wt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const La={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return wt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):wt(n+1,2)},d(t,e){return wt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return wt(t.getHours()%12||12,e.length)},H(t,e){return wt(t.getHours(),e.length)},m(t,e){return wt(t.getMinutes(),e.length)},s(t,e){return wt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return wt(i,e.length)}},Yl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r2={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return La.y(t,e)},Y:function(t,e,n,r){const i=JU(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return wt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):wt(s,e.length)},R:function(t,e){const n=KU(t);return wt(n,e.length)},u:function(t,e){const n=t.getFullYear();return wt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return wt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return wt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return La.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return wt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ez(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):wt(i,e.length)},I:function(t,e,n){const r=ZU(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):wt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):La.d(t,e)},D:function(t,e,n){const r=Vse(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):wt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return wt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return wt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return wt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Yl.noon:r===0?i=Yl.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Yl.evening:r>=12?i=Yl.afternoon:r>=4?i=Yl.morning:i=Yl.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return La.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):La.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):wt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):La.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):La.s(t,e)},S:function(t,e){return La.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return s2(r);case"XXXX":case"XX":return Io(r);case"XXXXX":case"XXX":default:return Io(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return s2(r);case"xxxx":case"xx":return Io(r);case"xxxxx":case"xxx":default:return Io(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+i2(r,":");case"OOOO":default:return"GMT"+Io(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+i2(r,":");case"zzzz":default:return"GMT"+Io(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return wt(r,e.length)},T:function(t,e,n){const r=t.getTime();return wt(r,e.length)}};function i2(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+wt(s,2)}function s2(t,e){return t%60===0?(t>0?"-":"+")+wt(Math.abs(t)/60,2):Io(t,e)}function Io(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=wt(Math.trunc(r/60),2),s=wt(r%60,2);return n+i+e+s}const a2=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},tz=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Hse=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return a2(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",a2(r,e)).replace("{{time}}",tz(i,e))},qse={p:tz,P:Hse},Gse=/^D+$/,Kse=/^Y+$/,Yse=["D","DD","YY","YYYY"];function Xse(t){return Gse.test(t)}function Qse(t){return Kse.test(t)}function Zse(t,e,n){const r=Jse(t,e,n);if(console.warn(r),Yse.includes(t))throw new RangeError(r)}function Jse(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const eae=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tae=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nae=/^'([^]*?)'?$/,rae=/''/g,iae=/[a-zA-Z]/;function Ki(t,e,n){const r=Of(),i=n?.locale??r.locale??QU,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=st(t);if(!cse(o))throw new RangeError("Invalid time value");let l=e.match(tae).map(d=>{const h=d[0];if(h==="p"||h==="P"){const m=qse[h];return m(d,i.formatLong)}return d}).join("").match(eae).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:sae(d)};if(r2[h])return{isToken:!0,value:d};if(h.match(iae))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(d=>{if(!d.isToken)return d.value;const h=d.value;(!n?.useAdditionalWeekYearTokens&&Qse(h)||!n?.useAdditionalDayOfYearTokens&&Xse(h))&&Zse(h,e,String(t));const m=r2[h[0]];return m(o,h,i.localize,c)}).join("")}function sae(t){const e=t.match(nae);return e?e[1].replace(rae,"'"):t}function aae(t){const e=st(t),n=e.getFullYear(),r=e.getMonth(),i=ii(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function oae(t){return Math.trunc(+st(t)/1e3)}function lae(t){const e=st(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function cae(t,e){return use(lae(t),hr(t),e)+1}function _g(t,e){const n=st(t),r=st(e);return n.getTime()>r.getTime()}function nz(t,e){const n=st(t),r=st(e);return+n<+r}function _E(t,e){const n=st(t),r=st(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function uae(t,e){const n=st(t),r=st(e);return n.getFullYear()===r.getFullYear()}function b0(t,e){const n=+st(t),[r,i]=[+st(e.start),+st(e.end)].sort((s,a)=>s-a);return n>=r&&n<=i}function x0(t,e){return gn(t,-e)}function dae(t,e){const r=mae(t);let i;if(r.date){const l=gae(r.date,2);i=vae(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(r.time&&(a=yae(r.time),isNaN(a)))return new Date(NaN);if(r.timezone){if(o=bae(r.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const Pm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hae=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fae=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pae=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mae(t){const e={},n=t.split(Pm.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],Pm.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Pm.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const i=Pm.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function gae(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((r[1]||r[2]).length)}}function vae(t,e){if(e===null)return new Date(NaN);const n=t.match(hae);if(!n)return new Date(NaN);const r=!!n[4],i=Ed(n[1]),s=Ed(n[2])-1,a=Ed(n[3]),o=Ed(n[4]),l=Ed(n[5])-1;if(r)return Aae(e,o,l)?xae(e,o,l):new Date(NaN);{const c=new Date(0);return!Sae(e,s,a)||!_ae(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Ed(t){return t?parseInt(t):1}function yae(t){const e=t.match(fae);if(!e)return NaN;const n=w0(e[1]),r=w0(e[2]),i=w0(e[3]);return Cae(n,r,i)?n*GU+r*qU+i*1e3:NaN}function w0(t){return t&&parseFloat(t.replace(",","."))||0}function bae(t){if(t==="Z")return 0;const e=t.match(pae);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Pae(r,i)?n*(r*GU+i*qU):NaN}function xae(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const wae=[31,null,31,30,31,30,31,31,30,31,30,31];function rz(t){return t%400===0||t%4===0&&t%100!==0}function Sae(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(wae[e]||(rz(t)?29:28))}function _ae(t,e){return e>=1&&e<=(rz(t)?366:365)}function Aae(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Cae(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function Pae(t,e){return e>=0&&e<=59}function S0(t,e){const n=st(t),r=n.getFullYear(),i=n.getDate(),s=ii(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const a=aae(s);return n.setMonth(e,Math.min(i,a)),n}function o2(t,e){const n=st(t);return isNaN(+n)?ii(t,NaN):(n.setFullYear(e),n)}function l2(t,e){return Ei(t,-1)}function c2(t,e){return Sg(t,-1)}var Ve=function(){return Ve=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ve.apply(this,arguments)};function Eae(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iz(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Mf(t){return t.mode==="multiple"}function Df(t){return t.mode==="range"}function ny(t){return t.mode==="single"}var Tae={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jae(t,e){return Ki(t,"LLLL y",e)}function kae(t,e){return Ki(t,"d",e)}function Nae(t,e){return Ki(t,"LLLL",e)}function Oae(t){return"".concat(t)}function Mae(t,e){return Ki(t,"cccccc",e)}function Dae(t,e){return Ki(t,"yyyy",e)}var Rae=Object.freeze({__proto__:null,formatCaption:jae,formatDay:kae,formatMonthCaption:Nae,formatWeekNumber:Oae,formatWeekdayName:Mae,formatYearCaption:Dae}),Iae=function(t,e,n){return Ki(t,"do MMMM (EEEE)",n)},Lae=function(){return"Month: "},Fae=function(){return"Go to next month"},$ae=function(){return"Go to previous month"},Bae=function(t,e){return Ki(t,"cccc",e)},Uae=function(t){return"Week n. ".concat(t)},zae=function(){return"Year: "},Vae=Object.freeze({__proto__:null,labelDay:Iae,labelMonthDropdown:Lae,labelNext:Fae,labelPrevious:$ae,labelWeekNumber:Uae,labelWeekday:Bae,labelYearDropdown:zae});function Wae(){var t="buttons",e=Tae,n=QU,r={},i={},s=1,a={},o=new Date;return{captionLayout:t,classNames:e,formatters:Rae,labels:Vae,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function Hae(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,a=t.toDate;return r?s=hr(r):e&&(s=new Date(e,0,1)),i?a=_h(i):n&&(a=new Date(n,11,31)),{fromDate:s?Lc(s):void 0,toDate:a?Lc(a):void 0}}var sz=C.createContext(void 0);function qae(t){var e,n=t.initialProps,r=Wae(),i=Hae(n),s=i.fromDate,a=i.toDate,o=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(ny(n)||Mf(n)||Df(n))&&(l=n.onSelect);var c=Ve(Ve(Ve({},r),n),{captionLayout:o,classNames:Ve(Ve({},r.classNames),n.classNames),components:Ve({},n.components),formatters:Ve(Ve({},r.formatters),n.formatters),fromDate:s,labels:Ve(Ve({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Ve(Ve({},r.modifiers),n.modifiers),modifiersClassNames:Ve(Ve({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Ve(Ve({},r.styles),n.styles),toDate:a});return f.jsx(sz.Provider,{value:c,children:t.children})}function Dt(){var t=C.useContext(sz);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function az(t){var e=Dt(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return f.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function Gae(t){return f.jsx("svg",Ve({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:f.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function oz(t){var e,n,r=t.onChange,i=t.value,s=t.children,a=t.caption,o=t.className,l=t.style,c=Dt(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:Gae;return f.jsxs("div",{className:o,style:l,children:[f.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),f.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),f.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,f.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function Kae(t){var e,n=Dt(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return f.jsx(f.Fragment,{});if(!i)return f.jsx(f.Fragment,{});var h=[];if(uae(r,i))for(var m=hr(r),g=r.getMonth();g<=i.getMonth();g++)h.push(S0(m,g));else for(var m=hr(new Date),g=0;g<=11;g++)h.push(S0(m,g));var x=function(b){var w=Number(b.target.value),A=S0(hr(t.displayMonth),w);t.onChange(A)},y=(e=c?.Dropdown)!==null&&e!==void 0?e:oz;return f.jsx(y,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:x,value:t.displayMonth.getMonth(),caption:o(t.displayMonth,{locale:a}),children:h.map(function(b){return f.jsx("option",{value:b.getMonth(),children:o(b,{locale:a})},b.getMonth())})})}function Yae(t){var e,n=t.displayMonth,r=Dt(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!i)return f.jsx(f.Fragment,{});if(!s)return f.jsx(f.Fragment,{});for(var g=i.getFullYear(),x=s.getFullYear(),y=g;y<=x;y++)m.push(o2(YU(new Date),y));var b=function(A){var _=o2(hr(n),Number(A.target.value));t.onChange(_)},w=(e=c?.Dropdown)!==null&&e!==void 0?e:oz;return f.jsx(w,{name:"years","aria-label":h(),className:l.dropdown_year,style:o.dropdown_year,onChange:b,value:n.getFullYear(),caption:d(n,{locale:a}),children:m.map(function(A){return f.jsx("option",{value:A.getFullYear(),children:d(A,{locale:a})},A.getFullYear())})})}function Xae(t,e){var n=C.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function Qae(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,a=t.fromDate,o=t.numberOfMonths,l=o===void 0?1:o;if(s&&Sh(s,i)<0){var c=-1*(l-1);i=Ei(s,c)}return a&&Sh(i,a)<0&&(i=a),hr(i)}function Zae(){var t=Dt(),e=Qae(t),n=Xae(e,t.month),r=n[0],i=n[1],s=function(a){var o;if(!t.disableNavigation){var l=hr(a);i(l),(o=t.onMonthChange)===null||o===void 0||o.call(t,l)}};return[r,s]}function Jae(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=hr(t),s=hr(Ei(i,r)),a=Sh(s,i),o=[],l=0;l<a;l++){var c=Ei(i,l);o.push(c)}return n&&(o=o.reverse()),o}function eoe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=hr(t);if(!n)return Ei(o,a);var l=Sh(n,t);if(!(l<s))return Ei(o,a)}}function toe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=hr(t);if(!n)return Ei(o,-a);var l=Sh(o,n);if(!(l<=0))return Ei(o,-a)}}var lz=C.createContext(void 0);function noe(t){var e=Dt(),n=Zae(),r=n[0],i=n[1],s=Jae(r,e),a=eoe(r,e),o=toe(r,e),l=function(h){return s.some(function(m){return _E(h,m)})},c=function(h,m){l(h)||(m&&nz(h,m)?i(Ei(h,1+e.numberOfMonths*-1)):i(h))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:l};return f.jsx(lz.Provider,{value:d,children:t.children})}function Rf(){var t=C.useContext(lz);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function u2(t){var e,n=Dt(),r=n.classNames,i=n.styles,s=n.components,a=Rf().goToMonth,o=function(d){a(Ei(d,t.displayIndex?-t.displayIndex:0))},l=(e=s?.CaptionLabel)!==null&&e!==void 0?e:az,c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth});return f.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[f.jsx("div",{className:r.vhidden,children:c}),f.jsx(Kae,{onChange:o,displayMonth:t.displayMonth}),f.jsx(Yae,{onChange:o,displayMonth:t.displayMonth})]})}function roe(t){return f.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ioe(t){return f.jsx("svg",Ve({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:f.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ag=C.forwardRef(function(t,e){var n=Dt(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var a=s.join(" "),o=Ve(Ve({},i.button_reset),i.button);return t.style&&Object.assign(o,t.style),f.jsx("button",Ve({},t,{ref:e,type:"button",className:a,style:o}))});function soe(t){var e,n,r=Dt(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return f.jsx(f.Fragment,{});var m=c(t.previousMonth,{locale:s}),g=[a.nav_button,a.nav_button_previous].join(" "),x=d(t.nextMonth,{locale:s}),y=[a.nav_button,a.nav_button_next].join(" "),b=(e=h?.IconRight)!==null&&e!==void 0?e:ioe,w=(n=h?.IconLeft)!==null&&n!==void 0?n:roe;return f.jsxs("div",{className:a.nav,style:o.nav,children:[!t.hidePrevious&&f.jsx(Ag,{name:"previous-month","aria-label":m,className:g,style:o.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?f.jsx(b,{className:a.nav_icon,style:o.nav_icon}):f.jsx(w,{className:a.nav_icon,style:o.nav_icon})}),!t.hideNext&&f.jsx(Ag,{name:"next-month","aria-label":x,className:y,style:o.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?f.jsx(w,{className:a.nav_icon,style:o.nav_icon}):f.jsx(b,{className:a.nav_icon,style:o.nav_icon})})]})}function d2(t){var e=Dt().numberOfMonths,n=Rf(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(x){return _E(t.displayMonth,x)}),l=o===0,c=o===a.length-1,d=e>1&&(l||!c),h=e>1&&(c||!l),m=function(){r&&s(r)},g=function(){i&&s(i)};return f.jsx(soe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:h,nextMonth:i,previousMonth:r,onPreviousClick:m,onNextClick:g})}function aoe(t){var e,n=Dt(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,l=(e=o?.CaptionLabel)!==null&&e!==void 0?e:az,c;return i?c=f.jsx(l,{id:t.id,displayMonth:t.displayMonth}):a==="dropdown"?c=f.jsx(u2,{displayMonth:t.displayMonth,id:t.id}):a==="dropdown-buttons"?c=f.jsxs(f.Fragment,{children:[f.jsx(u2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),f.jsx(d2,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=f.jsxs(f.Fragment,{children:[f.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(d2,{displayMonth:t.displayMonth,id:t.id})]}),f.jsx("div",{className:r.caption,style:s.caption,children:c})}function ooe(t){var e=Dt(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?f.jsx("tfoot",{className:i,style:r.tfoot,children:f.jsx("tr",{children:f.jsx("td",{colSpan:8,children:n})})}):f.jsx(f.Fragment,{})}function loe(t,e,n){for(var r=n?nl(new Date):Ti(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var a=gn(r,s);i.push(a)}return i}function coe(){var t=Dt(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,a=t.ISOWeek,o=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=loe(i,s,a);return f.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&f.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,h){return f.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:o(d,{locale:i})},h)})]})}function uoe(){var t,e=Dt(),n=e.classNames,r=e.styles,i=e.components,s=(t=i?.HeadRow)!==null&&t!==void 0?t:coe;return f.jsx("thead",{style:r.head,className:n.head,children:f.jsx(s,{})})}function doe(t){var e=Dt(),n=e.locale,r=e.formatters.formatDay;return f.jsx(f.Fragment,{children:r(t.date,{locale:n})})}var AE=C.createContext(void 0);function hoe(t){if(!Mf(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return f.jsx(AE.Provider,{value:e,children:t.children})}return f.jsx(foe,{initialProps:t.initialProps,children:t.children})}function foe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,a=function(c,d,h){var m,g;(m=e.onDayClick)===null||m===void 0||m.call(e,c,d,h);var x=!!(d.selected&&i&&r?.length===i);if(!x){var y=!!(!d.selected&&s&&r?.length===s);if(!y){var b=r?iz([],r):[];if(d.selected){var w=b.findIndex(function(A){return tr(c,A)});b.splice(w,1)}else b.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,b,c,d,h)}}},o={disabled:[]};r&&o.disabled.push(function(c){var d=s&&r.length>s-1,h=r.some(function(m){return tr(m,c)});return!!(d&&!h)});var l={selected:r,onDayClick:a,modifiers:o};return f.jsx(AE.Provider,{value:l,children:n})}function CE(){var t=C.useContext(AE);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function poe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?tr(i,t)&&tr(r,t)?void 0:tr(i,t)?{from:i,to:void 0}:tr(r,t)?void 0:_g(r,t)?{from:t,to:i}:{from:r,to:t}:i?_g(t,i)?{from:i,to:t}:{from:t,to:i}:r?nz(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var PE=C.createContext(void 0);function moe(t){if(!Df(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return f.jsx(PE.Provider,{value:e,children:t.children})}return f.jsx(goe,{initialProps:t.initialProps,children:t.children})}function goe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,a=i.to,o=e.min,l=e.max,c=function(g,x,y){var b,w;(b=e.onDayClick)===null||b===void 0||b.call(e,g,x,y);var A=poe(g,r);(w=e.onSelect)===null||w===void 0||w.call(e,A,g,x,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],a?(d.range_end=[a],tr(s,a)||(d.range_middle=[{after:s,before:a}])):d.range_end=[s]):a&&(d.range_start=[a],d.range_end=[a]),o&&(s&&!a&&d.disabled.push({after:x0(s,o-1),before:gn(s,o-1)}),s&&a&&d.disabled.push({after:s,before:gn(s,o-1)}),!s&&a&&d.disabled.push({after:x0(a,o-1),before:gn(a,o-1)})),l){if(s&&!a&&(d.disabled.push({before:gn(s,-l+1)}),d.disabled.push({after:gn(s,l-1)})),s&&a){var h=fs(a,s)+1,m=l-h;d.disabled.push({before:x0(s,m)}),d.disabled.push({after:gn(a,m)})}!s&&a&&(d.disabled.push({before:gn(a,-l+1)}),d.disabled.push({after:gn(a,l-1)}))}return f.jsx(PE.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function EE(){var t=C.useContext(PE);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function rg(t){return Array.isArray(t)?iz([],t):t!==void 0?[t]:[]}function voe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=rg(i)}),e}var Zi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Zi||(Zi={}));var yoe=Zi.Selected,Us=Zi.Disabled,boe=Zi.Hidden,xoe=Zi.Today,_0=Zi.RangeEnd,A0=Zi.RangeMiddle,C0=Zi.RangeStart,woe=Zi.Outside;function Soe(t,e,n){var r,i=(r={},r[yoe]=rg(t.selected),r[Us]=rg(t.disabled),r[boe]=rg(t.hidden),r[xoe]=[t.today],r[_0]=[],r[A0]=[],r[C0]=[],r[woe]=[],r);return t.fromDate&&i[Us].push({before:t.fromDate}),t.toDate&&i[Us].push({after:t.toDate}),Mf(t)?i[Us]=i[Us].concat(e.modifiers[Us]):Df(t)&&(i[Us]=i[Us].concat(n.modifiers[Us]),i[C0]=n.modifiers[C0],i[A0]=n.modifiers[A0],i[_0]=n.modifiers[_0]),i}var cz=C.createContext(void 0);function _oe(t){var e=Dt(),n=CE(),r=EE(),i=Soe(e,n,r),s=voe(e.modifiers),a=Ve(Ve({},i),s);return f.jsx(cz.Provider,{value:a,children:t.children})}function uz(){var t=C.useContext(cz);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Aoe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Coe(t){return!!(t&&typeof t=="object"&&"from"in t)}function Poe(t){return!!(t&&typeof t=="object"&&"after"in t)}function Eoe(t){return!!(t&&typeof t=="object"&&"before"in t)}function Toe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function joe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=fs(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=fs(t,r)>=0&&fs(i,t)>=0;return a}return i?tr(i,t):r?tr(r,t):!1}function koe(t){return SE(t)}function Noe(t){return Array.isArray(t)&&t.every(SE)}function Ooe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(koe(n))return tr(t,n);if(Noe(n))return n.includes(t);if(Coe(n))return joe(t,n);if(Toe(n))return n.dayOfWeek.includes(t.getDay());if(Aoe(n)){var r=fs(n.before,t),i=fs(n.after,t),s=r>0,a=i<0,o=_g(n.before,n.after);return o?a&&s:s||a}return Poe(n)?fs(t,n.after)>0:Eoe(n)?fs(n.before,t)>0:typeof n=="function"?n(t):!1})}function TE(t,e,n){var r=Object.keys(e).reduce(function(s,a){var o=e[a];return Ooe(t,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!_E(t,n)&&(i.outside=!0),i}function Moe(t,e){for(var n=hr(t[0]),r=_h(t[t.length-1]),i,s,a=n;a<=r;){var o=TE(a,e),l=!o.disabled&&!o.hidden;if(!l){a=gn(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=gn(a,1)}return s||i}var Doe=365;function dz(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,a=e.retry,o=a===void 0?{count:0,lastFocused:t}:a,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,h=i.locale,m={day:gn,week:Sg,month:Ei,year:ase,startOfWeek:function(b){return i.ISOWeek?nl(b):Ti(b,{locale:h,weekStartsOn:l})},endOfWeek:function(b){return i.ISOWeek?XU(b):Ah(b,{locale:h,weekStartsOn:l})}},g=m[n](t,r==="after"?1:-1);r==="before"&&c?g=ose([c,g]):r==="after"&&d&&(g=lse([d,g]));var x=!0;if(s){var y=TE(g,s);x=!y.disabled&&!y.hidden}return x?g:o.count>Doe?o.lastFocused:dz(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Ve(Ve({},o),{count:o.count+1})})}var hz=C.createContext(void 0);function Roe(t){var e=Rf(),n=uz(),r=C.useState(),i=r[0],s=r[1],a=C.useState(),o=a[0],l=a[1],c=Moe(e.displayMonths,n),d=i??(o&&e.isDateDisplayed(o))?o:c,h=function(){l(i),s(void 0)},m=function(b){s(b)},g=Dt(),x=function(b,w){if(i){var A=dz(i,{moveBy:b,direction:w,context:g,modifiers:n});tr(i,A)||(e.goToDate(A,i),m(A))}},y={focusedDay:i,focusTarget:d,blur:h,focus:m,focusDayAfter:function(){return x("day","after")},focusDayBefore:function(){return x("day","before")},focusWeekAfter:function(){return x("week","after")},focusWeekBefore:function(){return x("week","before")},focusMonthBefore:function(){return x("month","before")},focusMonthAfter:function(){return x("month","after")},focusYearBefore:function(){return x("year","before")},focusYearAfter:function(){return x("year","after")},focusStartOfWeek:function(){return x("startOfWeek","before")},focusEndOfWeek:function(){return x("endOfWeek","after")}};return f.jsx(hz.Provider,{value:y,children:t.children})}function jE(){var t=C.useContext(hz);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Ioe(t,e){var n=uz(),r=TE(t,n,e);return r}var kE=C.createContext(void 0);function Loe(t){if(!ny(t.initialProps)){var e={selected:void 0};return f.jsx(kE.Provider,{value:e,children:t.children})}return f.jsx(Foe,{initialProps:t.initialProps,children:t.children})}function Foe(t){var e=t.initialProps,n=t.children,r=function(s,a,o){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,a,o),a.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,a,o);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,a,o)},i={selected:e.selected,onDayClick:r};return f.jsx(kE.Provider,{value:i,children:n})}function fz(){var t=C.useContext(kE);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function $oe(t,e){var n=Dt(),r=fz(),i=CE(),s=EE(),a=jE(),o=a.focusDayAfter,l=a.focusDayBefore,c=a.focusWeekAfter,d=a.focusWeekBefore,h=a.blur,m=a.focus,g=a.focusMonthBefore,x=a.focusMonthAfter,y=a.focusYearBefore,b=a.focusYearAfter,w=a.focusStartOfWeek,A=a.focusEndOfWeek,_=function(U){var L,G,Q,B;ny(n)?(L=r.onDayClick)===null||L===void 0||L.call(r,t,e,U):Mf(n)?(G=i.onDayClick)===null||G===void 0||G.call(i,t,e,U):Df(n)?(Q=s.onDayClick)===null||Q===void 0||Q.call(s,t,e,U):(B=n.onDayClick)===null||B===void 0||B.call(n,t,e,U)},E=function(U){var L;m(t),(L=n.onDayFocus)===null||L===void 0||L.call(n,t,e,U)},P=function(U){var L;h(),(L=n.onDayBlur)===null||L===void 0||L.call(n,t,e,U)},T=function(U){var L;(L=n.onDayMouseEnter)===null||L===void 0||L.call(n,t,e,U)},k=function(U){var L;(L=n.onDayMouseLeave)===null||L===void 0||L.call(n,t,e,U)},O=function(U){var L;(L=n.onDayPointerEnter)===null||L===void 0||L.call(n,t,e,U)},R=function(U){var L;(L=n.onDayPointerLeave)===null||L===void 0||L.call(n,t,e,U)},F=function(U){var L;(L=n.onDayTouchCancel)===null||L===void 0||L.call(n,t,e,U)},M=function(U){var L;(L=n.onDayTouchEnd)===null||L===void 0||L.call(n,t,e,U)},D=function(U){var L;(L=n.onDayTouchMove)===null||L===void 0||L.call(n,t,e,U)},$=function(U){var L;(L=n.onDayTouchStart)===null||L===void 0||L.call(n,t,e,U)},W=function(U){var L;(L=n.onDayKeyUp)===null||L===void 0||L.call(n,t,e,U)},H=function(U){var L;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),c();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),d();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?y():g();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?b():x();break;case"Home":U.preventDefault(),U.stopPropagation(),w();break;case"End":U.preventDefault(),U.stopPropagation(),A();break}(L=n.onDayKeyDown)===null||L===void 0||L.call(n,t,e,U)},V={onClick:_,onFocus:E,onBlur:P,onKeyDown:H,onKeyUp:W,onMouseEnter:T,onMouseLeave:k,onPointerEnter:O,onPointerLeave:R,onTouchCancel:F,onTouchEnd:M,onTouchMove:D,onTouchStart:$};return V}function Boe(){var t=Dt(),e=fz(),n=CE(),r=EE(),i=ny(t)?e.selected:Mf(t)?n.selected:Df(t)?r.selected:void 0;return i}function Uoe(t){return Object.values(Zi).includes(t)}function zoe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(Uoe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function Voe(t,e){var n=Ve({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Ve(Ve({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function Woe(t,e,n){var r,i,s,a=Dt(),o=jE(),l=Ioe(t,e),c=$oe(t,l),d=Boe(),h=!!(a.onDayClick||a.mode!=="default");C.useEffect(function(){var T;l.outside||o.focusedDay&&h&&tr(o.focusedDay,t)&&((T=n.current)===null||T===void 0||T.focus())},[o.focusedDay,t,n,h,l.outside]);var m=zoe(a,l).join(" "),g=Voe(a,l),x=!!(l.outside&&!a.showOutsideDays||l.hidden),y=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:doe,b=f.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),w={style:g,className:m,children:b,role:"gridcell"},A=o.focusTarget&&tr(o.focusTarget,t)&&!l.outside,_=o.focusedDay&&tr(o.focusedDay,t),E=Ve(Ve(Ve({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||A?0:-1,r)),c),P={isButton:h,isHidden:x,activeModifiers:l,selectedDays:d,buttonProps:E,divProps:w};return P}function Hoe(t){var e=C.useRef(null),n=Woe(t.date,t.displayMonth,e);return n.isHidden?f.jsx("div",{role:"gridcell"}):n.isButton?f.jsx(Ag,Ve({name:"day",ref:e},n.buttonProps)):f.jsx("div",Ve({},n.divProps))}function qoe(t){var e=t.number,n=t.dates,r=Dt(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:o});if(!i)return f.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:d});var h=l(Number(e),{locale:o}),m=function(g){i(e,n,g)};return f.jsx(Ag,{name:"week-number","aria-label":h,className:a.weeknumber,style:s.weeknumber,onClick:m,children:d})}function Goe(t){var e,n,r=Dt(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,l=(e=o?.Day)!==null&&e!==void 0?e:Hoe,c=(n=o?.WeekNumber)!==null&&n!==void 0?n:qoe,d;return a&&(d=f.jsx("td",{className:s.cell,style:i.cell,children:f.jsx(c,{number:t.weekNumber,dates:t.dates})})),f.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(h){return f.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:f.jsx(l,{displayMonth:t.displayMonth,date:h})},oae(h))})]})}function h2(t,e,n){for(var r=n?.ISOWeek?XU(e):Ah(e,n),i=n?.ISOWeek?nl(t):Ti(t,n),s=fs(r,i),a=[],o=0;o<=s;o++)a.push(gn(i,o));var l=a.reduce(function(c,d){var h=n?.ISOWeek?ZU(d):ez(d,n),m=c.find(function(g){return g.weekNumber===h});return m?(m.dates.push(d),c):(c.push({weekNumber:h,dates:[d]}),c)},[]);return l}function Koe(t,e){var n=h2(hr(t),_h(t),e);if(e?.useFixedWeeks){var r=cae(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=Sg(s,6-r),o=h2(Sg(s,1),a,e);n.push.apply(n,o)}}return n}function Yoe(t){var e,n,r,i=Dt(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,h=i.weekStartsOn,m=i.firstWeekContainsDate,g=i.ISOWeek,x=Koe(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:h,firstWeekContainsDate:m}),y=(e=d?.Head)!==null&&e!==void 0?e:uoe,b=(n=d?.Row)!==null&&n!==void 0?n:Goe,w=(r=d?.Footer)!==null&&r!==void 0?r:ooe;return f.jsxs("table",{id:t.id,className:a.table,style:o.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&f.jsx(y,{}),f.jsx("tbody",{className:a.tbody,style:o.tbody,children:x.map(function(A){return f.jsx(b,{displayMonth:t.displayMonth,dates:A.dates,weekNumber:A.weekNumber},A.weekNumber)})}),f.jsx(w,{displayMonth:t.displayMonth})]})}function Xoe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Qoe=Xoe()?C.useLayoutEffect:C.useEffect,P0=!1,Zoe=0;function f2(){return"react-day-picker-".concat(++Zoe)}function Joe(t){var e,n=t??(P0?f2():null),r=C.useState(n),i=r[0],s=r[1];return Qoe(function(){i===null&&s(f2())},[]),C.useEffect(function(){P0===!1&&(P0=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function ele(t){var e,n,r=Dt(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,l=Rf().displayMonths,c=Joe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[s.month],m=a.month,g=t.displayIndex===0,x=t.displayIndex===l.length-1,y=!g&&!x;i==="rtl"&&(e=[g,x],x=e[0],g=e[1]),g&&(h.push(s.caption_start),m=Ve(Ve({},m),a.caption_start)),x&&(h.push(s.caption_end),m=Ve(Ve({},m),a.caption_end)),y&&(h.push(s.caption_between),m=Ve(Ve({},m),a.caption_between));var b=(n=o?.Caption)!==null&&n!==void 0?n:aoe;return f.jsxs("div",{className:h.join(" "),style:m,children:[f.jsx(b,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),f.jsx(Yoe,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function tle(t){var e=Dt(),n=e.classNames,r=e.styles;return f.jsx("div",{className:n.months,style:r.months,children:t.children})}function nle(t){var e,n,r=t.initialProps,i=Dt(),s=jE(),a=Rf(),o=C.useState(!1),l=o[0],c=o[1];C.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var h=Ve(Ve({},i.styles.root),i.style),m=Object.keys(r).filter(function(x){return x.startsWith("data-")}).reduce(function(x,y){var b;return Ve(Ve({},x),(b={},b[y]=r[y],b))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:tle;return f.jsx("div",Ve({className:d.join(" "),style:h,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:f.jsx(g,{children:a.displayMonths.map(function(x,y){return f.jsx(ele,{displayIndex:y,displayMonth:x},y)})})}))}function rle(t){var e=t.children,n=Eae(t,["children"]);return f.jsx(qae,{initialProps:n,children:f.jsx(noe,{children:f.jsx(Loe,{initialProps:n,children:f.jsx(hoe,{initialProps:n,children:f.jsx(moe,{initialProps:n,children:f.jsx(_oe,{children:f.jsx(Roe,{children:e})})})})})})})}function ile(t){return f.jsx(rle,Ve({},t,{children:f.jsx(nle,{initialProps:t})}))}function Cg({className:t,classNames:e,showOutsideDays:n=!0,...r}){return f.jsx(ile,{showOutsideDays:n,className:Fe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:Fe(W_({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:Fe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",r.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:Fe(W_({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>f.jsx(nZ,{className:Fe("size-4",i),...s}),IconRight:({className:i,...s})=>f.jsx(W4,{className:Fe("size-4",i),...s})},...r})}function sle(t){const e=ale(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(lle);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function ale(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=ule(i),o=cle(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var ole=Symbol("radix.slottable");function lle(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ole}function cle(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function ule(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var ry="Popover",[pz]=Ni(ry,[Pu]),If=Pu(),[dle,ao]=pz(ry),mz=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=t,o=If(e),l=C.useRef(null),[c,d]=C.useState(!1),[h,m]=ta({prop:r,defaultProp:i??!1,onChange:s,caller:ry});return f.jsx(gE,{...o,children:f.jsx(dle,{scope:e,contentId:Gi(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:C.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:C.useCallback(()=>d(!0),[]),onCustomAnchorRemove:C.useCallback(()=>d(!1),[]),modal:a,children:n})})};mz.displayName=ry;var gz="PopoverAnchor",hle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(gz,n),s=If(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return C.useEffect(()=>(a(),()=>o()),[a,o]),f.jsx(Zv,{...s,...r,ref:e})});hle.displayName=gz;var vz="PopoverTrigger",yz=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(vz,n),s=If(n),a=Ze(e,i.triggerRef),o=f.jsx(Be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":_z(i.open),...r,ref:a,onClick:ye(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:f.jsx(Zv,{asChild:!0,...s,children:o})});yz.displayName=vz;var NE="PopoverPortal",[fle,ple]=pz(NE,{forceMount:void 0}),bz=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=ao(NE,e);return f.jsx(fle,{scope:e,forceMount:n,children:f.jsx(_r,{present:n||s.open,children:f.jsx(Ef,{asChild:!0,container:i,children:r})})})};bz.displayName=NE;var Fc="PopoverContent",xz=C.forwardRef((t,e)=>{const n=ple(Fc,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=ao(Fc,t.__scopePopover);return f.jsx(_r,{present:r||s.open,children:s.modal?f.jsx(gle,{...i,ref:e}):f.jsx(vle,{...i,ref:e})})});xz.displayName=Fc;var mle=sle("PopoverContent.RemoveScroll"),gle=C.forwardRef((t,e)=>{const n=ao(Fc,t.__scopePopover),r=C.useRef(null),i=Ze(e,r),s=C.useRef(!1);return C.useEffect(()=>{const a=r.current;if(a)return zv(a)},[]),f.jsx(Tf,{as:mle,allowPinchZoom:!0,children:f.jsx(wz,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ye(t.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:ye(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ye(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),vle=C.forwardRef((t,e)=>{const n=ao(Fc,t.__scopePopover),r=C.useRef(!1),i=C.useRef(!1);return f.jsx(wz,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wz=C.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=t,m=ao(Fc,n),g=If(n);return Bv(),f.jsx(Pf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:f.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:f.jsx(vE,{"data-state":_z(m.open),role:"dialog",id:m.contentId,...g,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Sz="PopoverClose",yle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=ao(Sz,n);return f.jsx(Be.button,{type:"button",...r,ref:e,onClick:ye(t.onClick,()=>i.onOpenChange(!1))})});yle.displayName=Sz;var ble="PopoverArrow",xle=C.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=If(n);return f.jsx(yE,{...i,...r,ref:e})});xle.displayName=ble;function _z(t){return t?"open":"closed"}var wle=mz,Sle=yz,_le=bz,Ale=xz;function Ch({...t}){return f.jsx(wle,{"data-slot":"popover",...t})}function Ph({...t}){return f.jsx(Sle,{"data-slot":"popover-trigger",...t})}function Eh({className:t,align:e="center",sideOffset:n=4,...r}){return f.jsx(_le,{children:f.jsx(Ale,{"data-slot":"popover-content",align:e,sideOffset:n,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...r})})}var Az=["PageUp","PageDown"],Cz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Pz={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Tu="Slider",[_A,Cle,Ple]=Gv(Tu),[Ez]=Ni(Tu,[Ple]),[Ele,iy]=Ez(Tu),Tz=C.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:x,...y}=t,b=C.useRef(new Set),w=C.useRef(0),_=a==="horizontal"?Tle:jle,[E=[],P]=ta({prop:d,defaultProp:c,onChange:M=>{[...b.current][w.current]?.focus(),h(M)}}),T=C.useRef(E);function k(M){const D=Dle(E,M);F(M,D)}function O(M){F(M,w.current)}function R(){const M=T.current[w.current];E[w.current]!==M&&m(E)}function F(M,D,{commit:$}={commit:!1}){const W=Fle(s),H=$le(Math.round((M-r)/s)*s+r,W),V=bh(H,[r,i]);P((U=[])=>{const L=Ole(U,V,D);if(Lle(L,l*s)){w.current=L.indexOf(V);const G=String(L)!==String(U);return G&&$&&m(L),G?L:U}else return U})}return f.jsx(Ele,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:w,thumbs:b.current,values:E,orientation:a,form:x,children:f.jsx(_A.Provider,{scope:t.__scopeSlider,children:f.jsx(_A.Slot,{scope:t.__scopeSlider,children:f.jsx(_,{"aria-disabled":o,"data-disabled":o?"":void 0,...y,ref:e,onPointerDown:ye(y.onPointerDown,()=>{o||(T.current=E)}),min:r,max:i,inverted:g,onSlideStart:o?void 0:k,onSlideMove:o?void 0:O,onSlideEnd:o?void 0:R,onHomeKeyDown:()=>!o&&F(r,0,{commit:!0}),onEndKeyDown:()=>!o&&F(i,E.length-1,{commit:!0}),onStepKeyDown:({event:M,direction:D})=>{if(!o){const H=Az.includes(M.key)||M.shiftKey&&Cz.includes(M.key)?10:1,V=w.current,U=E[V],L=s*H*D;F(U+L,V,{commit:!0})}}})})})})});Tz.displayName=Tu;var[jz,kz]=Ez(Tu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Tle=C.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...d}=t,[h,m]=C.useState(null),g=Ze(e,_=>m(_)),x=C.useRef(void 0),y=_u(i),b=y==="ltr",w=b&&!s||!b&&s;function A(_){const E=x.current||h.getBoundingClientRect(),P=[0,E.width],k=OE(P,w?[n,r]:[r,n]);return x.current=E,k(_-E.left)}return f.jsx(jz,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width",children:f.jsx(Nz,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const E=A(_.clientX);a?.(E)},onSlideMove:_=>{const E=A(_.clientX);o?.(E)},onSlideEnd:()=>{x.current=void 0,l?.()},onStepKeyDown:_=>{const P=Pz[w?"from-left":"from-right"].includes(_.key);c?.({event:_,direction:P?-1:1})}})})}),jle=C.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,d=C.useRef(null),h=Ze(e,d),m=C.useRef(void 0),g=!i;function x(y){const b=m.current||d.current.getBoundingClientRect(),w=[0,b.height],_=OE(w,g?[r,n]:[n,r]);return m.current=b,_(y-b.top)}return f.jsx(jz,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:f.jsx(Nz,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const b=x(y.clientY);s?.(b)},onSlideMove:y=>{const b=x(y.clientY);a?.(b)},onSlideEnd:()=>{m.current=void 0,o?.()},onStepKeyDown:y=>{const w=Pz[g?"from-bottom":"from-top"].includes(y.key);l?.({event:y,direction:w?-1:1})}})})}),Nz=C.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,d=iy(Tu,n);return f.jsx(Be.span,{...c,ref:e,onKeyDown:ye(t.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(o(h),h.preventDefault()):Az.concat(Cz).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:ye(t.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():r(h)}),onPointerMove:ye(t.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&i(h)}),onPointerUp:ye(t.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),s(h))})})}),Oz="SliderTrack",Mz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=iy(Oz,n);return f.jsx(Be.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Mz.displayName=Oz;var AA="SliderRange",Dz=C.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=iy(AA,n),s=kz(AA,n),a=C.useRef(null),o=Ze(e,a),l=i.values.length,c=i.values.map(m=>Lz(m,i.min,i.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return f.jsx(Be.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:h+"%"}})});Dz.displayName=AA;var CA="SliderThumb",Rz=C.forwardRef((t,e)=>{const n=Cle(t.__scopeSlider),[r,i]=C.useState(null),s=Ze(e,o=>i(o)),a=C.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return f.jsx(kle,{...t,ref:s,index:a})}),kle=C.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=iy(CA,n),o=kz(CA,n),[l,c]=C.useState(null),d=Ze(e,A=>c(A)),h=l?a.form||!!l.closest("form"):!0,m=fE(l),g=a.values[r],x=g===void 0?0:Lz(g,a.min,a.max),y=Mle(r,a.values.length),b=m?.[o.size],w=b?Rle(b,x,o.direction):0;return C.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),f.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${x}% + ${w}px)`},children:[f.jsx(_A.ItemSlot,{scope:t.__scopeSlider,children:f.jsx(Be.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:ye(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),h&&f.jsx(Iz,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},r)]})});Rz.displayName=CA;var Nle="RadioBubbleInput",Iz=C.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=C.useRef(null),s=Ze(i,r),a=bE(e);return C.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&d){const h=new Event("input",{bubbles:!0});d.call(o,e),o.dispatchEvent(h)}},[a,e]),f.jsx(Be.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});Iz.displayName=Nle;function Ole(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Lz(t,e,n){const s=100/(n-e)*(t-e);return bh(s,[0,100])}function Mle(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Dle(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Rle(t,e,n){const r=t/2,s=OE([0,50],[0,r]);return(r-s(e)*n)*n}function Ile(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Lle(t,e){if(e>0){const n=Ile(t);return Math.min(...n)>=e}return!0}function OE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Fle(t){return(String(t).split(".")[1]||"").length}function $le(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Ble=Tz,Ule=Mz,zle=Dz,Vle=Rz;function PA({className:t,defaultValue:e,value:n,min:r=0,max:i=100,...s}){const a=C.useMemo(()=>Array.isArray(n)?n:Array.isArray(e)?e:[r,i],[n,e,r,i]);return f.jsxs(Ble,{"data-slot":"slider",defaultValue:e,value:n,min:r,max:i,className:Fe("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...s,children:[f.jsx(Ule,{"data-slot":"slider-track",className:Fe("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:f.jsx(zle,{"data-slot":"slider-range",className:Fe("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(o,l)=>f.jsx(Vle,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}var sy="Switch",[Wle]=Ni(sy),[Hle,qle]=Wle(sy),Fz=C.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:d,...h}=t,[m,g]=C.useState(null),x=Ze(e,_=>g(_)),y=C.useRef(!1),b=m?d||!!m.closest("form"):!0,[w,A]=ta({prop:i,defaultProp:s??!1,onChange:c,caller:sy});return f.jsxs(Hle,{scope:n,checked:w,disabled:o,children:[f.jsx(Be.button,{type:"button",role:"switch","aria-checked":w,"aria-required":a,"data-state":zz(w),"data-disabled":o?"":void 0,disabled:o,value:l,...h,ref:x,onClick:ye(t.onClick,_=>{A(E=>!E),b&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),b&&f.jsx(Uz,{control:m,bubbles:!y.current,name:r,value:l,checked:w,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});Fz.displayName=sy;var $z="SwitchThumb",Bz=C.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=qle($z,n);return f.jsx(Be.span,{"data-state":zz(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Bz.displayName=$z;var Gle="SwitchBubbleInput",Uz=C.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=C.useRef(null),o=Ze(a,s),l=bE(n),c=fE(e);return C.useEffect(()=>{const d=a.current;if(!d)return;const h=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&g){const x=new Event("click",{bubbles:r});g.call(d,n),d.dispatchEvent(x)}},[l,n,r]),f.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Uz.displayName=Gle;function zz(t){return t?"checked":"unchecked"}var Kle=Fz,Yle=Bz;function nh({className:t,...e}){return f.jsx(Kle,{"data-slot":"switch",className:Fe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:f.jsx(Yle,{"data-slot":"switch-thumb",className:Fe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}const Xle=[{type:"vehicle_purchase",label:"Two Wheeler",icon:"",suggestedAmount:8e4},{type:"vehicle_purchase",label:"Car Purchase",icon:"",suggestedAmount:6e5},{type:"housing",label:"Home Down Payment",icon:"",suggestedAmount:5e5},{type:"travel",label:"Dream Vacation",icon:"",suggestedAmount:1e5},{type:"wedding",label:"Wedding Fund",icon:"",suggestedAmount:5e5},{type:"emergency_fund",label:"Emergency Fund",icon:"",suggestedAmount:1e5},{type:"education",label:"Higher Education",icon:"",suggestedAmount:3e5},{type:"electronics",label:"New Phone/Laptop",icon:"",suggestedAmount:5e4},{type:"festival",label:"Festival Shopping",icon:"",suggestedAmount:25e3},{type:"business",label:"Start Business",icon:"",suggestedAmount:2e5}],Qle=[{value:"high",label:"High Priority",color:"text-red-600"},{value:"medium",label:"Medium Priority",color:"text-yellow-600"},{value:"low",label:"Low Priority",color:"text-green-600"}];function Vz({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addGoal:i,accounts:s}=it(),[a,o]=C.useState("select"),[l,c]=C.useState(null),[d,h]=C.useState(""),[m,g]=C.useState("other"),[x,y]=C.useState(""),[b,w]=C.useState(5e4),[A,_]=C.useState(5e3),[E,P]=C.useState(void 0),[T,k]=C.useState(""),[O,R]=C.useState("medium"),[F,M]=C.useState(!0),[D,$]=C.useState(""),[W,H]=C.useState(!1),V=A>0?Math.ceil(b/A):0,U=B=>{c(B),h(B.label),g(B.type),y(B.icon),w(B.suggestedAmount),_(Math.round(B.suggestedAmount/10)),o("custom")},L=()=>{c(null),h(""),g("other"),y(""),w(5e4),_(5e3),o("custom")},G=async()=>{if(!(!n||!r)){if(!d.trim()){Te.error("Please enter a goal name");return}if(b<=0){Te.error("Please enter a valid target amount");return}H(!0);try{const B={id:cn(),family_id:r.id,created_by:n.id,goal_name:d.trim(),goal_type:m,target_amount:b,current_amount:0,target_date:E?.toISOString(),description:T.trim()||void 0,goal_icon:x,priority:O,is_shared:F,is_active:!0,created_at:new Date().toISOString(),sync_status:"pending",monthly_contribution:A,linked_account_id:D||void 0};await i(B),Te.success(`Goal "${d}" created successfully!`),Q()}catch(B){console.error("Failed to add goal:",B),Te.error("Failed to create goal")}finally{H(!1)}}},Q=()=>{o("select"),c(null),h(""),g("other"),y(""),w(5e4),_(5e3),P(void 0),k(""),R("medium"),M(!0),$(""),e()};return f.jsx(qt,{open:t,onOpenChange:Q,children:f.jsx(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:a==="select"?f.jsxs(f.Fragment,{children:[f.jsxs(Zt,{children:[f.jsxs(Jt,{className:"flex items-center gap-2",children:[f.jsx(th,{className:"h-5 w-5 text-primary"}),"Choose Your Goal"]}),f.jsx(ln,{children:"Select a common goal or create your own custom goal"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium mb-3",children:"Common Goals"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:Xle.map((B,K)=>f.jsxs("button",{onClick:()=>U(B),className:"flex flex-col items-start gap-2 p-4 rounded-xl border-2 border-border hover:border-primary hover:bg-primary-container/20 transition-all text-left group",children:[f.jsx("div",{className:"text-3xl",children:B.icon}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-medium group-hover:text-primary transition-colors",children:B.label}),f.jsxs("div",{className:"text-sm text-muted-foreground",children:["",Oe(B.suggestedAmount)]})]})]},K))})]}),f.jsx(ge,{onClick:L,variant:"outline",className:"w-full h-auto py-4 border-2 border-dashed hover:border-primary hover:bg-primary-container/20",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"text-2xl",children:""}),f.jsxs("div",{className:"text-left",children:[f.jsx("div",{className:"font-medium",children:"Custom Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Create your own savings goal"})]})]})})]})]}):f.jsxs(f.Fragment,{children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(ge,{variant:"ghost",size:"sm",onClick:()=>o("select"),className:"mr-2",children:" Back"}),f.jsxs("div",{className:"flex-1",children:[f.jsx(Jt,{children:l?`Setup ${l.label}`:"Create Custom Goal"}),f.jsx(ln,{children:"Configure your savings goal details"})]})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"goalName",children:"Goal Name *"}),f.jsx(Tt,{id:"goalName",placeholder:"e.g., Dream Vacation to Goa",value:d,onChange:B=>h(B.target.value),className:"h-11"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Ne,{children:"Target Amount *"}),f.jsxs("span",{className:"text-xl font-semibold text-primary",children:["",Oe(b)]})]}),f.jsx(PA,{value:[b],onValueChange:([B])=>{w(B),_(Math.round(B/10))},min:1e3,max:5e6,step:1e3,className:"w-full"}),f.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[f.jsx("span",{children:"1k"}),f.jsx("span",{children:"50L"})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Ne,{children:"Monthly Contribution"}),f.jsxs("span",{className:"text-lg font-semibold text-green-600",children:["",Oe(A),"/mo"]})]}),f.jsx(PA,{value:[A],onValueChange:([B])=>_(B),min:500,max:Math.min(b,1e5),step:500,className:"w-full"}),V>0&&f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground bg-blue-50 dark:bg-blue-950/20 p-3 rounded-lg",children:[f.jsx(Ys,{className:"h-4 w-4"}),f.jsxs("span",{children:[V," months to reach goal"]})]})]}),s.length>0&&f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"account",children:"Savings Account (Optional)"}),f.jsxs(Bn,{value:D,onValueChange:$,children:[f.jsx(zn,{id:"account",className:"h-11",children:f.jsx(Un,{placeholder:"Select account for this goal"})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"",children:"No specific account"}),s.map(B=>f.jsxs(He,{value:B.id,children:[B.account_name," - ",B.account_type]},B.id))]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Target Date (Optional)"}),f.jsxs(Ch,{children:[f.jsx(Ph,{asChild:!0,children:f.jsxs(ge,{variant:"outline",className:"w-full h-11 justify-start text-left font-normal",children:[f.jsx(Ys,{className:"mr-2 h-4 w-4"}),E?xs(E):"Pick a target date"]})}),f.jsx(Eh,{className:"w-auto p-0",align:"start",children:f.jsx(Cg,{mode:"single",selected:E,onSelect:P,disabled:B=>B<new Date,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Priority"}),f.jsx("div",{className:"grid grid-cols-3 gap-2",children:Qle.map(B=>f.jsx(ge,{type:"button",variant:O===B.value?"default":"outline",onClick:()=>R(B.value),className:"h-11",children:B.label.split(" ")[0]},B.value))})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"description",children:"Description (Optional)"}),f.jsx(Ha,{id:"description",placeholder:"Add notes about this goal...",value:T,onChange:B=>k(B.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between p-4 rounded-xl bg-purple-50 dark:bg-purple-950/20 border border-purple-200 dark:border-purple-800",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(yc,{className:"h-5 w-5 text-purple-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"font-medium",children:"Shared Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:"Family members can contribute together"})]})]}),f.jsx(nh,{checked:F,onCheckedChange:M})]}),f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 p-4 rounded-xl border",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"text-3xl",children:x}),f.jsxs("div",{className:"flex-1",children:[f.jsx("div",{className:"font-semibold",children:d||"Your Goal"}),f.jsx("div",{className:"text-sm text-muted-foreground",children:F?"Shared with family":"Personal goal"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Target"}),f.jsxs("div",{className:"font-semibold",children:["",Oe(b)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Monthly"}),f.jsxs("div",{className:"font-semibold",children:["",Oe(A)]})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-muted-foreground",children:"Timeline"}),f.jsxs("div",{className:"font-semibold",children:[V," months"]})]})]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ge,{variant:"outline",onClick:Q,disabled:W,className:"flex-1",children:"Cancel"}),f.jsx(ge,{onClick:G,disabled:W||!d.trim(),className:"flex-1 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700",children:W?f.jsxs(f.Fragment,{children:[f.jsx(th,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating..."]}):f.jsxs(f.Fragment,{children:[f.jsx(th,{className:"mr-2 h-4 w-4"}),"Create Goal"]})})]})]})})})}var E0="rovingFocusGroup.onEntryFocus",Zle={bubbles:!1,cancelable:!0},Lf="RovingFocusGroup",[EA,Wz,Jle]=Gv(Lf),[ece,ay]=Ni(Lf,[Jle]),[tce,nce]=ece(Lf),Hz=C.forwardRef((t,e)=>f.jsx(EA.Provider,{scope:t.__scopeRovingFocusGroup,children:f.jsx(EA.Slot,{scope:t.__scopeRovingFocusGroup,children:f.jsx(rce,{...t,ref:e})})}));Hz.displayName=Lf;var rce=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=t,m=C.useRef(null),g=Ze(e,m),x=_u(s),[y,b]=ta({prop:a,defaultProp:o??null,onChange:l,caller:Lf}),[w,A]=C.useState(!1),_=$n(c),E=Wz(n),P=C.useRef(!1),[T,k]=C.useState(0);return C.useEffect(()=>{const O=m.current;if(O)return O.addEventListener(E0,_),()=>O.removeEventListener(E0,_)},[_]),f.jsx(tce,{scope:n,orientation:r,dir:x,loop:i,currentTabStopId:y,onItemFocus:C.useCallback(O=>b(O),[b]),onItemShiftTab:C.useCallback(()=>A(!0),[]),onFocusableItemAdd:C.useCallback(()=>k(O=>O+1),[]),onFocusableItemRemove:C.useCallback(()=>k(O=>O-1),[]),children:f.jsx(Be.div,{tabIndex:w||T===0?-1:0,"data-orientation":r,...h,ref:g,style:{outline:"none",...t.style},onMouseDown:ye(t.onMouseDown,()=>{P.current=!0}),onFocus:ye(t.onFocus,O=>{const R=!P.current;if(O.target===O.currentTarget&&R&&!w){const F=new CustomEvent(E0,Zle);if(O.currentTarget.dispatchEvent(F),!F.defaultPrevented){const M=E().filter(V=>V.focusable),D=M.find(V=>V.active),$=M.find(V=>V.id===y),H=[D,$,...M].filter(Boolean).map(V=>V.ref.current);Kz(H,d)}}P.current=!1}),onBlur:ye(t.onBlur,()=>A(!1))})})}),qz="RovingFocusGroupItem",Gz=C.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Gi(),c=s||l,d=nce(qz,n),h=d.currentTabStopId===c,m=Wz(n),{onFocusableItemAdd:g,onFocusableItemRemove:x,currentTabStopId:y}=d;return C.useEffect(()=>{if(r)return g(),()=>x()},[r,g,x]),f.jsx(EA.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:f.jsx(Be.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...o,ref:e,onMouseDown:ye(t.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:ye(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:ye(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const w=ace(b,d.orientation,d.dir);if(w!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let _=m().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const E=_.indexOf(b.currentTarget);_=d.loop?oce(_,E+1):_.slice(E+1)}setTimeout(()=>Kz(_))}}),children:typeof a=="function"?a({isCurrentTabStop:h,hasTabStop:y!=null}):a})})});Gz.displayName=qz;var ice={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function sce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ace(t,e,n){const r=sce(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ice[r]}function Kz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function oce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Yz=Hz,Xz=Gz,oy="Tabs",[lce]=Ni(oy,[ay]),Qz=ay(),[cce,ME]=lce(oy),Zz=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,d=_u(o),[h,m]=ta({prop:r,onChange:i,defaultProp:s??"",caller:oy});return f.jsx(cce,{scope:n,baseId:Gi(),value:h,onValueChange:m,orientation:a,dir:d,activationMode:l,children:f.jsx(Be.div,{dir:d,"data-orientation":a,...c,ref:e})})});Zz.displayName=oy;var Jz="TabsList",eV=C.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=ME(Jz,n),a=Qz(n);return f.jsx(Yz,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:f.jsx(Be.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});eV.displayName=Jz;var tV="TabsTrigger",nV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=ME(tV,n),o=Qz(n),l=sV(a.baseId,r),c=aV(a.baseId,r),d=r===a.value;return f.jsx(Xz,{asChild:!0,...o,focusable:!i,active:d,children:f.jsx(Be.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:ye(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?a.onValueChange(r):h.preventDefault()}),onKeyDown:ye(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&a.onValueChange(r)}),onFocus:ye(t.onFocus,()=>{const h=a.activationMode!=="manual";!d&&!i&&h&&a.onValueChange(r)})})})});nV.displayName=tV;var rV="TabsContent",iV=C.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=ME(rV,n),l=sV(o.baseId,r),c=aV(o.baseId,r),d=r===o.value,h=C.useRef(d);return C.useEffect(()=>{const m=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(m)},[]),f.jsx(_r,{present:i||d,children:({present:m})=>f.jsx(Be.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:m&&s})})});iV.displayName=rV;function sV(t,e){return`${t}-trigger-${e}`}function aV(t,e){return`${t}-content-${e}`}var uce=Zz,dce=eV,hce=nV,fce=iV;function $c({className:t,...e}){return f.jsx(uce,{"data-slot":"tabs",className:Fe("flex flex-col gap-2",t),...e})}function Bc({className:t,...e}){return f.jsx(dce,{"data-slot":"tabs-list",className:Fe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...e})}function Ir({className:t,...e}){return f.jsx(hce,{"data-slot":"tabs-trigger",className:Fe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...e})}function Va({className:t,...e}){return f.jsx(fce,{"data-slot":"tabs-content",className:Fe("flex-1 outline-none",t),...e})}const T0=[{value:"cash",label:"Cash",icon:YP},{value:"upi",label:"UPI",icon:dJ},{value:"card",label:"Card",icon:QP},{value:"bank",label:"Bank Transfer",icon:XP},{value:"wallet",label:"Wallet",icon:wu}];function pce({line:t,index:e,users:n,currentUser:r,canRemove:i,onUpdate:s,onRemove:a,onBorrowedToggle:o}){const{accounts:l}=it(),c=T0.find(m=>m.value===t.method)||T0[0],d=c.icon,h=l.filter(m=>{switch(t.method){case"cash":return m.type==="cash";case"bank":return m.type==="bank";case"card":return m.type==="card";case"upi":return m.type==="wallet";case"wallet":return m.type==="wallet";default:return!0}});return f.jsxs("div",{className:"border-2 border-border rounded-xl p-4 space-y-3 bg-card",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Bn,{value:t.method,onValueChange:m=>{s("method",m),s("account_id",void 0)},children:[f.jsx(zn,{className:"flex-1",children:f.jsx(Un,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(d,{className:"h-4 w-4"}),f.jsx("span",{children:c.label})]})})}),f.jsx(Vn,{children:T0.map(m=>{const g=m.icon;return f.jsx(He,{value:m.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(g,{className:"h-4 w-4"}),f.jsx("span",{children:m.label})]})},m.value)})})]}),f.jsxs("div",{className:"relative flex-1",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground text-sm",children:""}),f.jsx(Tt,{type:"number",placeholder:"Amount",value:t.amount||"",onChange:m=>s("amount",parseFloat(m.target.value)||0),className:"pl-7",step:"0.01"})]}),i&&f.jsx(ge,{variant:"ghost",size:"icon",onClick:a,className:"shrink-0",children:f.jsx(_f,{className:"h-4 w-4 text-destructive"})})]}),h.length>0&&f.jsxs("div",{className:"pt-2",children:[f.jsx(Ne,{htmlFor:`account-${t.id}`,className:"text-sm font-medium",children:"Choose Account"}),f.jsxs(Bn,{value:t.account_id||"",onValueChange:m=>s("account_id",m),children:[f.jsx(zn,{id:`account-${t.id}`,className:"mt-1",children:f.jsx(Un,{placeholder:`Select ${c.label.toLowerCase()} account`})}),f.jsx(Vn,{children:h.map(m=>f.jsx(He,{value:m.id,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium",children:m.name}),f.jsxs("span",{className:"text-sm text-muted-foreground",children:["",m.current_balance.toFixed(2)]})]})},m.id))})]}),t.account_id&&t.amount&&h.find(m=>m.id===t.account_id)&&f.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance after: ",(h.find(m=>m.id===t.account_id).current_balance-(t.amount||0)).toFixed(2)]})]}),f.jsxs("div",{className:"pt-3 border-t space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ne,{htmlFor:`borrowed-${t.id}`,className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(Oc,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(nh,{id:`borrowed-${t.id}`,checked:!!t.meta?.borrowed_from,onCheckedChange:m=>o(m?n.find(g=>g.id!==r?.id)?.id:void 0)})]}),t.meta?.borrowed_from&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(Oc,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs(Bn,{value:t.meta.borrowed_from,onValueChange:m=>o(m),children:[f.jsx(zn,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Un,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:t.meta.borrowed_from==="custom"?t.meta.borrowed_from_name||"someone else":n.find(m=>m.id===t.meta?.borrowed_from)?.name||"someone"})]})})}),f.jsxs(Vn,{children:[n.filter(m=>m.id!==r?.id).map(m=>f.jsx(He,{value:m.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:m.name})]})},m.id)),f.jsx(He,{value:"custom",children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:"Someone else (custom name)"})]})})]})]}),t.meta.borrowed_from==="custom"&&f.jsxs("div",{className:"space-y-1",children:[f.jsx(Ne,{htmlFor:`custom-name-${t.id}`,className:"text-xs text-orange-700 dark:text-orange-400",children:"Enter person's name"}),f.jsx(Tt,{id:`custom-name-${t.id}`,type:"text",placeholder:"e.g., John Doe",value:t.meta.borrowed_from_name||"",onChange:m=>s("meta",{...t.meta,borrowed_from_name:m.target.value}),className:"bg-background border-orange-300 dark:border-orange-800"})]}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",t.amount?.toFixed(2)||"0.00"," when you save this transaction"]})]})]})]})}const mce=[{value:"Groceries",label:"Groceries",icon:""},{value:"Utilities",label:"Utilities",icon:""},{value:"Transportation",label:"Transport",icon:""},{value:"Healthcare",label:"Healthcare",icon:""},{value:"Education",label:"Education",icon:""},{value:"Entertainment",label:"Entertainment",icon:""},{value:"Shopping",label:"Shopping",icon:""},{value:"Rent",label:"Rent",icon:""},{value:"Food & Dining",label:"Food & Dining",icon:""},{value:"Bills",label:"Bills",icon:""},{value:"Fuel",label:"Fuel",icon:""},{value:"Household Items",label:"Maid Salary",icon:""}],gce=[{value:"Salary",label:"Salary",icon:""},{value:"Business",label:"Business",icon:""},{value:"Freelance",label:"Freelance",icon:""},{value:"Investment",label:"Investment",icon:""},{value:"Gift",label:"Gift",icon:""},{value:"Rental",label:"Rental",icon:""},{value:"Side Income",label:"Side Income",icon:""},{value:"Other",label:"Other",icon:""}];function vce({type:t,value:e,onChange:n}){const{currentFamily:r,currentUser:i,customCategories:s,addCustomCategory:a}=it(),[o,l]=C.useState(!1),[c,d]=C.useState(""),h=t==="expense",m=h?mce:gce,g=s.filter(b=>b.type===t).map(b=>({value:b.name,label:b.name,icon:b.icon||""})),x=[...m,...g],y=async()=>{const b=c.trim();if(!b){Te.error("Please enter a category name");return}if(x.some(A=>A.value===b)){Te.error("This category already exists");return}if(!r||!i)return;const w={id:Mc(),family_id:r.id,name:b,type:t,icon:"",created_by:i.id,created_at:new Date().toISOString()};try{await a(w),n(b),d(""),l(!1),Te.success(`Custom ${h?"category":"source"} added`)}catch(A){console.error("Failed to add custom category:",A),Te.error("Failed to add custom category")}};return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Category *"}),f.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[x.map(b=>f.jsxs("button",{type:"button",onClick:()=>n(b.value),className:`p-3 rounded-lg border-2 flex flex-col items-center gap-1 transition-all ${e===b.value?"border-primary bg-primary/10":"border-border bg-background hover:bg-accent"}`,children:[f.jsx("span",{className:"text-2xl",children:b.icon}),f.jsx("span",{className:"text-xs text-center leading-tight line-clamp-2",children:b.label})]},b.value)),f.jsxs("button",{type:"button",onClick:()=>l(!0),className:"p-3 rounded-lg border-2 border-dashed border-border hover:border-primary hover:bg-primary/5 flex flex-col items-center gap-1 transition-all",children:[f.jsx(ei,{className:"h-6 w-6 text-muted-foreground"}),f.jsx("span",{className:"text-xs text-center text-muted-foreground",children:"Custom"})]})]})]}),f.jsx(qt,{open:o,onOpenChange:l,children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsxs(Jt,{children:["Add Custom ",h?"Category":"Source"]}),f.jsxs(ln,{children:["Create a new ",h?"expense category":"income source"," for your family"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Ne,{htmlFor:"custom-category",children:[h?"Category":"Source"," Name"]}),f.jsx(Tt,{id:"custom-category",placeholder:`e.g., ${h?"Pet Supplies":"Side Hustle"}`,value:c,onChange:b=>d(b.target.value),onKeyDown:b=>{b.key==="Enter"&&y()},autoFocus:!0})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:()=>l(!1),className:"flex-1",children:"Cancel"}),f.jsxs(ge,{onClick:y,className:"flex-1",children:["Add ",h?"Category":"Source"]})]})]})]})})]})}function yce({open:t,onClose:e,defaultType:n="expense"}){const{currentUser:r,currentFamily:i,users:s,addExpense:a,addIncome:o,addDebt:l,budgets:c,expenses:d}=it(),[h,m]=C.useState(n),[g,x]=C.useState(""),[y,b]=C.useState(""),[w,A]=C.useState(new Date),[_,E]=C.useState(""),[P,T]=C.useState(!0),[k,O]=C.useState(!1),[R,F]=C.useState(r?.id||""),[M,D]=C.useState("cash"),[$,W]=C.useState(""),[H,V]=C.useState([{id:cn(),method:"cash",amount:0,payer_user_id:r?.id}]),[U,L]=C.useState([]),[G,Q]=C.useState(!1),B=h==="expense";C.useEffect(()=>{r?.id&&!R&&F(r.id)},[r,R]);const K=()=>{V([...H,{id:cn(),method:"cash",amount:0,payer_user_id:r?.id}])},Z=ee=>{H.length>1&&V(H.filter((te,le)=>le!==ee))},ae=(ee,te,le)=>{const he=[...H];he[ee]={...he[ee],[te]:le},V(he)},ce=(ee,te)=>{const le=[...H];if(te)le[ee].meta={...le[ee].meta,borrowed_from:te};else{const{borrowed_from:he,...ne}=le[ee].meta||{};le[ee].meta=Object.keys(ne).length>0?ne:void 0}V(le)},pe=async()=>{if(!r||!i)return;const ee=parseFloat(g);if(isNaN(ee)||ee<=0){Te.error("Please enter a valid amount");return}if(!y){Te.error(`Please select a ${B?"category":"source"}`);return}Q(!0);try{if(B){const te=k?H:[{id:cn(),method:M,amount:ee,payer_user_id:R,meta:$?{borrowed_from:$}:void 0}],le=BJ(ee,te);if(!le.valid){Te.error(le.error);return}if(B&&y){const ne=c.find(Me=>Me.category===y&&Me.period==="monthly");if(ne){const Me=new Date().getMonth(),Re=new Date().getFullYear(),wn=(d.filter(jt=>jt.category===y&&new Date(jt.date).getMonth()===Me&&new Date(jt.date).getFullYear()===Re).reduce((jt,Cr)=>jt+Cr.total_amount,0)+ee)/ne.amount*100;wn>100?Te.error(`Budget Exceeded! You've spent ${wn.toFixed(0)}% of your ${y} budget.`):wn>=80&&Te.warning(`Warning: You've used ${wn.toFixed(0)}% of your ${y} budget.`)}}const he={id:cn(),family_id:i.id,created_by:r.id,total_amount:ee,currency:i.currency,category:y,date:w.toISOString(),notes:_.trim()||void 0,payment_lines:te,attachments:U,receipt_urls:U,is_shared:P,sync_status:"pending",created_at:new Date().toISOString()};await a(he);for(const ne of te)if(ne.meta?.borrowed_from){const Me={id:cn(),family_id:i.id,lender_user_id:ne.meta.borrowed_from,borrower_user_id:ne.payer_user_id,amount:ne.amount,currency:i.currency,status:"open",created_at:new Date().toISOString(),linked_expense_id:he.id,reminder_shown:!1};await l(Me)}Te.success(`Expense of ${Oe(ee)} added `)}else{const te={id:cn(),family_id:i.id,created_by:r.id,amount:ee,currency:i.currency,source:y,date:w.toISOString(),notes:_.trim()||void 0,is_shared:P,sync_status:"pending",created_at:new Date().toISOString()};await o(te),Te.success(`Income of ${Oe(ee)} added `)}ie()}catch(te){console.error("Failed to add transaction:",te),Te.error(`Failed to add ${B?"expense":"income"}`)}finally{Q(!1)}},ie=()=>{x(""),b(""),A(new Date),E(""),T(!0),O(!1),F(r?.id||""),D("cash"),W(""),V([{id:cn(),method:"cash",amount:0,payer_user_id:r?.id}]),L([]),e()};return f.jsx(jf,{open:t,onOpenChange:ee=>!ee&&ie(),children:f.jsxs(kf,{side:"right",className:"w-full sm:max-w-lg p-0 overflow-y-auto",children:[f.jsx("div",{className:`sticky top-0 z-10 border-b px-4 py-3 transition-colors ${B?"bg-red-50 dark:bg-red-950/20 border-red-200 dark:border-red-900":"bg-green-50 dark:bg-green-950/20 border-green-200 dark:border-green-900"}`,children:f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ge,{variant:"ghost",size:"icon",onClick:ie,className:"h-10 w-10 rounded-full shrink-0",children:f.jsx(Sf,{className:"h-5 w-5"})}),f.jsx("h2",{className:"font-semibold flex items-center gap-2 flex-1",children:B?f.jsxs(f.Fragment,{children:[f.jsx(Xa,{className:"h-5 w-5 text-red-600"}),f.jsx("span",{children:"Add Expense"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Fr,{className:"h-5 w-5 text-green-600"}),f.jsx("span",{children:"Add Income"})]})})]}),f.jsx($c,{value:h,onValueChange:ee=>m(ee),className:"w-full",children:f.jsxs(Bc,{className:"grid w-full grid-cols-2 h-10 p-1",children:[f.jsxs(Ir,{value:"expense",className:"text-xs data-[state=active]:bg-red-500 data-[state=active]:text-white",children:[f.jsx(Xa,{className:"h-3 w-3 mr-1"}),"Expense"]}),f.jsxs(Ir,{value:"income",className:"text-xs data-[state=active]:bg-green-500 data-[state=active]:text-white",children:[f.jsx(Fr,{className:"h-3 w-3 mr-1"}),"Income"]})]})})]})}),f.jsxs("div",{className:"p-4 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"amount",className:"text-base",children:"Amount *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0",value:g,onChange:ee=>x(ee.target.value),step:"0.01",className:"pl-8 h-14 text-2xl"})]})]}),f.jsx(vce,{type:h,value:y,onChange:b}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Date *"}),f.jsxs(Ch,{children:[f.jsx(Ph,{asChild:!0,children:f.jsxs(ge,{variant:"outline",className:"w-full justify-start",children:[f.jsx(Ys,{className:"mr-2 h-4 w-4"}),xs(w)]})}),f.jsx(Eh,{className:"w-auto p-0",align:"start",children:f.jsx(Cg,{mode:"single",selected:w,onSelect:ee=>ee&&A(ee),initialFocus:!0})})]})]}),B&&!k&&f.jsxs("div",{className:"space-y-4 p-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"paidBy",children:"Paid By *"}),f.jsxs(Bn,{value:R,onValueChange:F,children:[f.jsx(zn,{id:"paidBy",children:f.jsx(Un,{placeholder:"Who paid?"})}),f.jsx(Vn,{children:s.map(ee=>f.jsxs(He,{value:ee.id,children:[ee.name," ",ee.id===r?.id&&"(You)"]},ee.id))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"paymentMethod",children:"Payment Method *"}),f.jsxs(Bn,{value:M,onValueChange:D,children:[f.jsx(zn,{id:"paymentMethod",children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"cash",children:" Cash"}),f.jsx(He,{value:"upi",children:" UPI"}),f.jsx(He,{value:"card",children:" Card"}),f.jsx(He,{value:"bank",children:" Bank Transfer"}),f.jsx(He,{value:"wallet",children:" Wallet"})]})]})]}),f.jsxs("div",{className:"space-y-3 pt-3 border-t",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ne,{htmlFor:"borrowedToggle",className:"flex items-center gap-2 cursor-pointer",children:[f.jsx(Oc,{className:"h-4 w-4 text-orange-600"}),f.jsx("span",{className:"text-sm",children:"Borrowed from someone?"})]}),f.jsx(nh,{id:"borrowedToggle",checked:!!$,onCheckedChange:ee=>{if(ee){const te=s.find(le=>le.id!==r?.id);W(te?.id||"")}else W("")}})]}),$&&f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border-2 border-orange-200 dark:border-orange-900/50 rounded-lg p-3 space-y-2",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-800 dark:text-orange-300",children:[f.jsx(Oc,{className:"h-4 w-4"}),f.jsx("span",{className:"font-medium",children:"This money was borrowed"})]}),f.jsxs(Bn,{value:$,onValueChange:W,children:[f.jsx(zn,{className:"bg-background border-orange-300 dark:border-orange-800",children:f.jsx(Un,{children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium text-orange-600 dark:text-orange-400",children:s.find(ee=>ee.id===$)?.name||"someone"})]})})}),f.jsx(Vn,{children:s.filter(ee=>ee.id!==r?.id).map(ee=>f.jsx(He,{value:ee.id,children:f.jsxs("span",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-muted-foreground",children:"from"}),f.jsx("span",{className:"font-medium",children:ee.name})]})},ee.id))})]}),f.jsxs("p",{className:"text-xs text-orange-700 dark:text-orange-400",children:["An IOU will be created for ",g||"0.00"," when you save this transaction"]})]})]})]}),B&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx(Ne,{htmlFor:"splitPayment",className:"cursor-pointer",children:"Split Payment"}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Multiple payment methods (UPI + Cash, etc.)"})]}),f.jsx(nh,{id:"splitPayment",checked:k,onCheckedChange:O})]}),k&&f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ne,{children:"Payment Methods"}),H.map((ee,te)=>f.jsx(pce,{line:ee,index:te,users:s,currentUser:r,canRemove:H.length>1,onUpdate:(le,he)=>ae(te,le,he),onRemove:()=>Z(te),onBorrowedToggle:le=>ce(te,le)},ee.id)),f.jsxs(ge,{type:"button",variant:"outline",onClick:K,className:"w-full",children:[f.jsx(ei,{className:"h-4 w-4 mr-2"}),"Add Payment Method"]}),g&&f.jsxs("div",{className:"text-sm bg-muted/30 p-3 rounded-lg",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-muted-foreground",children:"Total:"}),f.jsx("span",{className:"font-medium",children:Oe(parseFloat(g)||0)})]}),f.jsxs("div",{className:"flex justify-between mt-1",children:[f.jsx("span",{className:"text-muted-foreground",children:"Allocated:"}),f.jsx("span",{className:LJ("font-medium",Math.abs(parseFloat(g)-H.reduce((ee,te)=>ee+(te.amount||0),0))<.01?"text-green-600":"text-destructive"),children:Oe(H.reduce((ee,te)=>ee+(te.amount||0),0))})]})]})]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsx(Ne,{children:"Receipts"}),f.jsxs("div",{className:"flex flex-wrap gap-3",children:[U.map((ee,te)=>f.jsxs("div",{className:"relative h-20 w-20 rounded-lg overflow-hidden border border-outline",children:[f.jsx("img",{src:ee,alt:"Receipt",className:"h-full w-full object-cover"}),f.jsx("button",{type:"button",onClick:()=>L(U.filter((le,he)=>he!==te)),className:"absolute top-1 right-1 bg-black/50 text-white rounded-full p-0.5 hover:bg-black/70",children:f.jsx(Su,{className:"h-3 w-3"})})]},te)),f.jsxs(ge,{type:"button",variant:"outline",className:"h-20 w-20 border-dashed border-2 flex flex-col gap-1 items-center justify-center text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:()=>document.getElementById("receipt-upload")?.click(),children:[f.jsx(GQ,{className:"h-6 w-6"}),f.jsx("span",{className:"text-xs",children:"Add"})]}),f.jsx("input",{id:"receipt-upload",type:"file",accept:"image/*",className:"hidden",onChange:ee=>{const te=ee.target.files?.[0];if(te){const le=new FileReader;le.onloadend=()=>{L([...U,le.result])},le.readAsDataURL(te)}}})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"notes",children:"Notes (optional)"}),f.jsx(Ha,{id:"notes",placeholder:"Add any additional details...",value:_,onChange:ee=>E(ee.target.value),rows:2})]}),f.jsxs("div",{className:"flex items-center justify-between py-3 px-4 bg-muted/30 rounded-lg",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs(Ne,{htmlFor:"isShared",className:"cursor-pointer",children:["Shared ",B?"Expense":"Income"]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Visible to all family members"})]}),f.jsx(nh,{id:"isShared",checked:P,onCheckedChange:T})]}),f.jsx("div",{className:"sticky bottom-0 bg-background border-t p-4 -mx-4 -mb-4",children:f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:ie,className:"flex-1",size:"lg",children:"Cancel"}),f.jsx(ge,{onClick:pe,disabled:G,className:`flex-1 ${B?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700"} text-white`,size:"lg",children:G?"Saving...":`Save ${B?"Expense":"Income"}`})]})})]})]})})}const bce={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function xce(t){t.toLowerCase();const e=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const n of e){const r=t.match(n);if(r){const i=n.source.startsWith("^?"),s=parseFloat(i?r[1]:r[2]),a=(i?r[2]:r[1]).trim();let o="cash",l="",c=a;const d=[/\b(by|via|using|paid by)\s+(upi|card|cash|net banking)\b/i,/\b(upi|card|cash|net banking)\b/i,/\b(by|via|using|paid by)\s+(.+?)(?:\s+|$)/i];let h=!1;for(const x of d){const y=t.match(x);if(y){const b=y[1]||y[0];if(/\bupi\b/.test(b.toLowerCase())){o="upi";const w=b.match(/\bupi\s+(\w+)/i);w&&(l=w[1])}else if(/\bcard\b/.test(b.toLowerCase())){o="card";const w=b.match(/\bcard\s+(\w+)/i);w&&(l=w[1])}else/\bcash\b/.test(b.toLowerCase())&&(o="cash");c=a.replace(y[0],"").trim(),h=!0;break}}if(!h){const x=t.match(/\b(by)\s+(.+)$/i);if(x&&x[2]){const y=x[2];if(/\b(upi|card|cash|net banking)\b/.test(y.toLowerCase())){const b=y.match(/(upi|card|cash|net banking)/i);b&&(o=b[1].toLowerCase(),l=y.replace(b[0],"").trim())}else l=y,o="upi";c=a.replace(x[0],"").trim()}}let m="other";const g=c.toLowerCase();for(const[x,{category:y,keywords:b}]of Object.entries(bce))if(b.some(w=>g.includes(w))){m=y;break}return{amount:s,merchant:c,category:m,paymentMethod:o,bank:l}}}return null}function wce({open:t,onClose:e}){const{currentUser:n,users:r,addExpense:i}=it(),[s,a]=C.useState(""),[o,l]=C.useState(null),[c,d]=C.useState(!1);C.useEffect(()=>{if(s.trim()){const g=xce(s);l(g)}else l(null)},[s]);const h=async()=>{if(!(!n||!o)){d(!0);try{const g=o.paymentMethod==="cash"?"cash":o.paymentMethod==="upi"?"upi":o.paymentMethod==="card"?"card":"cash",x={id:cn(),method:o.paymentMethod,amount:o.amount,payer_user_id:n.id,account_id:g},y=o.bank?`${o.merchant} (via ${o.bank})`:o.merchant,b={id:cn(),family_id:n.family_id,created_by:n.id,total_amount:o.amount,currency:"INR",category:o.category,date:new Date().toISOString(),notes:y,payment_lines:[x],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await i(b),Te.success(`Added ${o.amount} expense for ${o.merchant}`),a(""),l(null),e()}catch(g){console.error("Error adding quick expense:",g),Te.error("Failed to add expense")}finally{d(!1)}}},m=()=>{a(""),l(null),e()};return f.jsx(qt,{open:t,onOpenChange:m,children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsxs(Jt,{className:"flex items-center gap-2",children:[f.jsx(JP,{className:"h-5 w-5 text-yellow-500"}),"Quick Add Expense"]}),f.jsx(ln,{children:'Type naturally like "200 Uber" or "500 Zomato" or "500 travel by upi kotak"'})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"quickInput",children:"Quick Entry"}),f.jsx(Tt,{id:"quickInput",placeholder:"e.g., 200 Uber by upi, 500 Zomato, 500 travel by kotak",value:s,onChange:g=>a(g.target.value),className:"text-lg",autoFocus:!0})]}),o&&f.jsxs("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4 space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[f.jsx(Fv,{className:"h-4 w-4 text-success"}),"Auto-detected:"]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),f.jsxs("span",{className:"text-xl font-semibold text-destructive",children:["",o.amount]})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),f.jsx("span",{className:"font-medium",children:o.merchant})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Category:"}),f.jsx(xn,{variant:"secondary",className:"capitalize",children:o.category})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Payment:"}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx("span",{className:"text-sm capitalize",children:o.paymentMethod}),o.bank&&f.jsx(xn,{variant:"outline",className:"text-xs",children:o.bank})]})]})]})]}),f.jsxs("div",{className:"bg-muted/50 rounded-lg p-3 space-y-2",children:[f.jsx("p",{className:"text-sm font-medium",children:"Examples:"}),f.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"200 Uber"}),f.jsx("span",{children:" 200 Transport"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"500 travel by upi kotak"}),f.jsx("span",{children:" 500 Travel (UPI Kotak)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"600 BigBasket"}),f.jsx("span",{children:" 600 Groceries (Cash)"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("span",{className:"font-mono bg-background px-2 py-1 rounded",children:"300 movie by card"}),f.jsx("span",{children:" 300 Entertainment (Card)"})]})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx(ge,{variant:"outline",onClick:m,className:"flex-1",children:"Cancel"}),f.jsxs(ge,{onClick:h,disabled:!o||c,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:[f.jsx(Xa,{className:"h-4 w-4"}),"Add Expense"]})]})]})]})})}const Sce=mP("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Pg({className:t,variant:e,...n}){return f.jsx("div",{"data-slot":"alert",role:"alert",className:Fe(Sce({variant:e}),t),...n})}function Eg({className:t,...e}){return f.jsx("div",{"data-slot":"alert-description",className:Fe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...e})}function _ce(t,e){return C.useReducer((n,r)=>e[n][r]??n,t)}var DE="ScrollArea",[oV]=Ni(DE),[Ace,Oi]=oV(DE),lV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=C.useState(null),[c,d]=C.useState(null),[h,m]=C.useState(null),[g,x]=C.useState(null),[y,b]=C.useState(null),[w,A]=C.useState(0),[_,E]=C.useState(0),[P,T]=C.useState(!1),[k,O]=C.useState(!1),R=Ze(e,M=>l(M)),F=_u(i);return f.jsx(Ace,{scope:n,type:r,dir:F,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:d,content:h,onContentChange:m,scrollbarX:g,onScrollbarXChange:x,scrollbarXEnabled:P,onScrollbarXEnabledChange:T,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:O,onCornerWidthChange:A,onCornerHeightChange:E,children:f.jsx(Be.div,{dir:F,...a,ref:R,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});lV.displayName=DE;var cV="ScrollAreaViewport",uV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=Oi(cV,n),o=C.useRef(null),l=Ze(e,o,a.onViewportChange);return f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),f.jsx(Be.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:f.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});uV.displayName=cV;var Es="ScrollAreaScrollbar",dV=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Oi(Es,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return C.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?f.jsx(Cce,{...r,ref:e,forceMount:n}):i.type==="scroll"?f.jsx(Pce,{...r,ref:e,forceMount:n}):i.type==="auto"?f.jsx(hV,{...r,ref:e,forceMount:n}):i.type==="always"?f.jsx(RE,{...r,ref:e}):null});dV.displayName=Es;var Cce=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Oi(Es,t.__scopeScrollArea),[s,a]=C.useState(!1);return C.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},d=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),f.jsx(_r,{present:n||s,children:f.jsx(hV,{"data-state":s?"visible":"hidden",...r,ref:e})})}),Pce=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Oi(Es,t.__scopeScrollArea),s=t.orientation==="horizontal",a=cy(()=>l("SCROLL_END"),100),[o,l]=_ce("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),C.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let h=c[d];const m=()=>{const g=c[d];h!==g&&(l("SCROLL"),a()),h=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[i.viewport,s,l,a]),f.jsx(_r,{present:n||o!=="hidden",children:f.jsx(RE,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ye(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ye(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),hV=C.forwardRef((t,e)=>{const n=Oi(Es,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=C.useState(!1),o=t.orientation==="horizontal",l=cy(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:d)}},10);return Uc(n.viewport,l),Uc(n.content,l),f.jsx(_r,{present:r||s,children:f.jsx(RE,{"data-state":s?"visible":"hidden",...i,ref:e})})}),RE=C.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Oi(Es,t.__scopeScrollArea),s=C.useRef(null),a=C.useRef(0),[o,l]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=vV(o.viewport,o.content),d={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>s.current=m,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:m=>a.current=m};function h(m,g){return Oce(m,a.current,o,g)}return n==="horizontal"?f.jsx(Ece,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollLeft,g=p2(m,o,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=h(m,i.dir))}}):n==="vertical"?f.jsx(Tce,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const m=i.viewport.scrollTop,g=p2(m,o);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=h(m))}}):null}),Ece=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Oi(Es,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=Ze(e,l,s.onScrollbarXChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(pV,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ly(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),bV(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:jg(a.paddingLeft),paddingEnd:jg(a.paddingRight)}})}})}),Tce=C.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Oi(Es,t.__scopeScrollArea),[a,o]=C.useState(),l=C.useRef(null),c=Ze(e,l,s.onScrollbarYChange);return C.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),f.jsx(pV,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ly(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(s.viewport){const m=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),bV(m,h)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:jg(a.paddingTop),paddingEnd:jg(a.paddingBottom)}})}})}),[jce,fV]=oV(Es),pV=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...m}=t,g=Oi(Es,n),[x,y]=C.useState(null),b=Ze(e,R=>y(R)),w=C.useRef(null),A=C.useRef(""),_=g.viewport,E=r.content-r.viewport,P=$n(d),T=$n(l),k=cy(h,10);function O(R){if(w.current){const F=R.clientX-w.current.left,M=R.clientY-w.current.top;c({x:F,y:M})}}return C.useEffect(()=>{const R=F=>{const M=F.target;x?.contains(M)&&P(F,E)};return document.addEventListener("wheel",R,{passive:!1}),()=>document.removeEventListener("wheel",R,{passive:!1})},[_,x,E,P]),C.useEffect(T,[r,T]),Uc(x,k),Uc(g.content,k),f.jsx(jce,{scope:n,scrollbar:x,hasThumb:i,onThumbChange:$n(s),onThumbPointerUp:$n(a),onThumbPositionChange:T,onThumbPointerDown:$n(o),children:f.jsx(Be.div,{...m,ref:b,style:{position:"absolute",...m.style},onPointerDown:ye(t.onPointerDown,R=>{R.button===0&&(R.target.setPointerCapture(R.pointerId),w.current=x.getBoundingClientRect(),A.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),O(R))}),onPointerMove:ye(t.onPointerMove,O),onPointerUp:ye(t.onPointerUp,R=>{const F=R.target;F.hasPointerCapture(R.pointerId)&&F.releasePointerCapture(R.pointerId),document.body.style.webkitUserSelect=A.current,g.viewport&&(g.viewport.style.scrollBehavior=""),w.current=null})})})}),Tg="ScrollAreaThumb",mV=C.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=fV(Tg,t.__scopeScrollArea);return f.jsx(_r,{present:n||i.hasThumb,children:f.jsx(kce,{ref:e,...r})})}),kce=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Oi(Tg,n),a=fV(Tg,n),{onThumbPositionChange:o}=a,l=Ze(e,h=>a.onThumbChange(h)),c=C.useRef(void 0),d=cy(()=>{c.current&&(c.current(),c.current=void 0)},100);return C.useEffect(()=>{const h=s.viewport;if(h){const m=()=>{if(d(),!c.current){const g=Mce(h,o);c.current=g,o()}};return o(),h.addEventListener("scroll",m),()=>h.removeEventListener("scroll",m)}},[s.viewport,d,o]),f.jsx(Be.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ye(t.onPointerDownCapture,h=>{const g=h.target.getBoundingClientRect(),x=h.clientX-g.left,y=h.clientY-g.top;a.onThumbPointerDown({x,y})}),onPointerUp:ye(t.onPointerUp,a.onThumbPointerUp)})});mV.displayName=Tg;var IE="ScrollAreaCorner",gV=C.forwardRef((t,e)=>{const n=Oi(IE,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?f.jsx(Nce,{...t,ref:e}):null});gV.displayName=IE;var Nce=C.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Oi(IE,n),[s,a]=C.useState(0),[o,l]=C.useState(0),c=!!(s&&o);return Uc(i.scrollbarX,()=>{const d=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(d),l(d)}),Uc(i.scrollbarY,()=>{const d=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(d),a(d)}),c?f.jsx(Be.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function jg(t){return t?parseInt(t,10):0}function vV(t,e){const n=t/e;return isNaN(n)?0:n}function ly(t){const e=vV(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Oce(t,e,n,r="ltr"){const i=ly(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return yV([l,c],h)(t)}function p2(t,e,n="ltr"){const r=ly(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=bh(t,l);return yV([0,a],[0,o])(c)}function yV(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function bV(t,e){return t>0&&t<e}var Mce=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return(function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)})(),()=>window.cancelAnimationFrame(r)};function cy(t,e){const n=$n(t),r=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(r.current),[]),C.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Uc(t,e){const n=$n(e);bn(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Dce=lV,Rce=uV,Ice=gV;function xV({className:t,children:e,...n}){return f.jsxs(Dce,{"data-slot":"scroll-area",className:Fe("relative",t),...n,children:[f.jsx(Rce,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:e}),f.jsx(Lce,{}),f.jsx(Ice,{})]})}function Lce({className:t,orientation:e="vertical",...n}){return f.jsx(dV,{"data-slot":"scroll-area-scrollbar",orientation:e,className:Fe("flex touch-none p-px transition-colors select-none",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent",t),...n,children:f.jsx(mV,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}const gr=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),TA=[.001,0,0,.001,0,0],j0=1.35,Kr={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ua={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Th="pdfjs_internal_editor_",Qe={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},at={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Fce={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},jA={TRIANGLES:1,LATTICE:2},Yn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ig={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},fn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},tc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},uy={ERRORS:0,WARNINGS:1,INFOS:5},jh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},Td={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},$ce={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let dy=uy.WARNINGS;function Bce(t){Number.isInteger(t)&&(dy=t)}function Uce(){return dy}function hy(t){dy>=uy.INFOS&&console.info(`Info: ${t}`)}function Ke(t){dy>=uy.WARNINGS&&console.warn(`Warning: ${t}`)}function Pt(t){throw new Error(t)}function ot(t,e){t||Pt(e)}function zce(t){switch(t?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function wV(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"&&(n.addDefaultProtocol&&t.startsWith("www.")&&t.match(/\./g)?.length>=2&&(t=`http://${t}`),n.tryConvertEncoding))try{t=Gce(t)}catch{}const r=e?URL.parse(t,e):URL.parse(t);return zce(r)?r:null}function SV(t,e,n=!1){const r=URL.parse(t);return r?(r.hash=e,r.href):n&&wV(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Je(t,e,n,r=!1){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const hl=(function(){function e(n,r){this.message=n,this.name=r}return e.prototype=new Error,e.constructor=e,e})();class m2 extends hl{constructor(e,n){super(e,"PasswordException"),this.code=n}}class k0 extends hl{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class kA extends hl{constructor(e){super(e,"InvalidPDFException")}}class kg extends hl{constructor(e,n,r){super(e,"ResponseException"),this.status=n,this.missing=r}}class Vce extends hl{constructor(e){super(e,"FormatError")}}class Ja extends hl{constructor(e){super(e,"AbortException")}}function _V(t){(typeof t!="object"||t?.length===void 0)&&Pt("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const r=[];for(let i=0;i<e;i+=n){const s=Math.min(i+n,e),a=t.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function Ff(t){typeof t!="string"&&Pt("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let r=0;r<e;++r)n[r]=t.charCodeAt(r)&255;return n}function Wce(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function Hce(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function qce(){try{return new Function(""),!0}catch{return!1}}class nr{static get isLittleEndian(){return Je(this,"isLittleEndian",Hce())}static get isEvalSupported(){return Je(this,"isEvalSupported",qce())}static get isOffscreenCanvasSupported(){return Je(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Je(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Je(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Je(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Je(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){return Je(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const N0=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));class Ae{static makeHexColor(e,n,r){return`#${N0[e]}${N0[n]}${N0[r]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let r;e[0]?(e[0]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[3],n[3]*=e[3]):(r=n[0],n[0]=n[1],n[1]=r,r=n[2],n[2]=n[3],n[3]=r,e[1]<0&&(r=n[1],n[1]=n[3],n[3]=r),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(r=n[0],n[0]=n[2],n[2]=r),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,r=0){const i=e[r],s=e[r+1];e[r]=i*n[0]+s*n[2]+n[4],e[r+1]=i*n[1]+s*n[3]+n[5]}static applyTransformToBezier(e,n,r=0){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5];for(let d=0;d<6;d+=2){const h=e[r+d],m=e[r+d+1];e[r+d]=h*i+m*a+l,e[r+d+1]=h*s+m*o+c}}static applyInverseTransform(e,n){const r=e[0],i=e[1],s=n[0]*n[3]-n[1]*n[2];e[0]=(r*n[3]-i*n[2]+n[2]*n[5]-n[4]*n[3])/s,e[1]=(-r*n[1]+i*n[0]+n[4]*n[1]-n[5]*n[0])/s}static axialAlignedBoundingBox(e,n,r){const i=n[0],s=n[1],a=n[2],o=n[3],l=n[4],c=n[5],d=e[0],h=e[1],m=e[2],g=e[3];let x=i*d+l,y=x,b=i*m+l,w=b,A=o*h+c,_=A,E=o*g+c,P=E;if(s!==0||a!==0){const T=s*d,k=s*m,O=a*h,R=a*g;x+=O,w+=O,b+=R,y+=R,A+=T,P+=T,E+=k,_+=k}r[0]=Math.min(r[0],x,b,y,w),r[1]=Math.min(r[1],A,E,_,P),r[2]=Math.max(r[2],x,b,y,w),r[3]=Math.max(r[3],A,E,_,P)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const r=e[0],i=e[1],s=e[2],a=e[3],o=r**2+i**2,l=r*s+i*a,c=s**2+a**2,d=(o+c)/2,h=Math.sqrt(d**2-(o*c-l**2));n[0]=Math.sqrt(d+h||1),n[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const r=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(r>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return s>a?null:[r,s,i,a]}static pointBoundingBox(e,n,r){r[0]=Math.min(r[0],e),r[1]=Math.min(r[1],n),r[2]=Math.max(r[2],e),r[3]=Math.max(r[3],n)}static rectBoundingBox(e,n,r,i,s){s[0]=Math.min(s[0],e,r),s[1]=Math.min(s[1],n,i),s[2]=Math.max(s[2],e,r),s[3]=Math.max(s[3],n,i)}static#e(e,n,r,i,s,a,o,l,c,d){if(c<=0||c>=1)return;const h=1-c,m=c*c,g=m*c,x=h*(h*(h*e+3*c*n)+3*m*r)+g*i,y=h*(h*(h*s+3*c*a)+3*m*o)+g*l;d[0]=Math.min(d[0],x),d[1]=Math.min(d[1],y),d[2]=Math.max(d[2],x),d[3]=Math.max(d[3],y)}static#t(e,n,r,i,s,a,o,l,c,d,h,m){if(Math.abs(c)<1e-12){Math.abs(d)>=1e-12&&this.#e(e,n,r,i,s,a,o,l,-h/d,m);return}const g=d**2-4*h*c;if(g<0)return;const x=Math.sqrt(g),y=2*c;this.#e(e,n,r,i,s,a,o,l,(-d+x)/y,m),this.#e(e,n,r,i,s,a,o,l,(-d-x)/y,m)}static bezierBoundingBox(e,n,r,i,s,a,o,l,c){c[0]=Math.min(c[0],e,o),c[1]=Math.min(c[1],n,l),c[2]=Math.max(c[2],e,o),c[3]=Math.max(c[3],n,l),this.#t(e,r,s,o,n,i,a,l,3*(-e+3*(r-s)+o),6*(e-2*r+s),3*(r-e),c),this.#t(e,r,s,o,n,i,a,l,3*(-n+3*(i-a)+l),6*(n-2*i+a),3*(i-n),c)}}function Gce(t){return decodeURIComponent(escape(t))}let O0=null,g2=null;function Kce(t){return O0||(O0=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,g2=new Map([["","t"]])),t.replaceAll(O0,(e,n,r)=>n?n.normalize("NFKC"):g2.get(r))}function AV(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),_V(t)}const cc="pdfjs_internal_id_";function Yce(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[r,i,...s]=n;if(!t(r)&&!Number.isInteger(r)||!e(i))return!1;const a=s.length;let o=!0;switch(i.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const l of s)if(!(typeof l=="number"||o&&l===null))return!1;return!0}function vr(t,e,n){return Math.min(Math.max(t,e),n)}function CV(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(_V(t))}function Xce(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):Ff(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class kh{static textContent(e){const n=[],r={items:n,styles:Object.create(null)};function i(s){if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(kh.shouldBuildText(o))s?.attributes?.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&n.push({str:a}),!!s.children)for(const l of s.children)i(l)}return i(e),r}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class PV{static setupStorage(e,n,r,i,s){const a=i.getValue(n,{value:null});switch(r.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(a.value===r.attributes.xfaOn?e.setAttribute("checked",!0):a.value===r.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(n,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of r.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,c=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(n,{value:c})});break}}static setAttributes({html:e,element:n,storage:r=null,intent:i,linkService:s}){const{attributes:a}=n,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,c]of Object.entries(a))if(c!=null)switch(l){case"class":c.length&&e.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,c)}o&&s.addLinkAttributes(e,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(e,a.dataId,n,r)}static render(e){const n=e.annotationStorage,r=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:r});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const h=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=h}o&&l.setAttribute("class","xfaLayer xfaFont");const c=[];if(i.children.length===0){if(i.value){const h=document.createTextNode(i.value);a.append(h),o&&kh.shouldBuildText(i.name)&&c.push(h)}return{textDivs:c}}const d=[[i,-1,a]];for(;d.length>0;){const[h,m,g]=d.at(-1);if(m+1===h.children.length){d.pop();continue}const x=h.children[++d.at(-1)[1]];if(x===null)continue;const{name:y}=x;if(y==="#text"){const w=document.createTextNode(x.value);c.push(w),g.append(w);continue}const b=x?.attributes?.xmlns?document.createElementNS(x.attributes.xmlns,y):document.createElement(y);if(g.append(b),x.attributes&&this.setAttributes({html:b,element:x,storage:n,intent:s,linkService:r}),x.children?.length>0)d.push([x,-1,b]);else if(x.value){const w=document.createTextNode(x.value);o&&kh.shouldBuildText(y)&&c.push(w),b.append(w)}}for(const h of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Vs="http://www.w3.org/2000/svg";class zc{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function $f(t,e="text"){if(Wd(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,r)=>{const i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(i.response);return}n(i.responseText);return}r(new Error(i.statusText))}},i.send(null)})}class Bf{constructor({viewBox:e,userUnit:n,scale:r,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=r,this.rotation=i,this.offsetX=s,this.offsetY=a,r*=n;const l=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let d,h,m,g;switch(i%=360,i<0&&(i+=360),i){case 180:d=-1,h=0,m=0,g=1;break;case 90:d=0,h=1,m=1,g=0;break;case 270:d=0,h=-1,m=-1,g=0;break;case 0:d=1,h=0,m=0,g=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(m=-m,g=-g);let x,y,b,w;d===0?(x=Math.abs(c-e[1])*r+s,y=Math.abs(l-e[0])*r+a,b=(e[3]-e[1])*r,w=(e[2]-e[0])*r):(x=Math.abs(l-e[0])*r+s,y=Math.abs(c-e[1])*r+a,b=(e[2]-e[0])*r,w=(e[3]-e[1])*r),this.transform=[d*r,h*r,m*r,g*r,x-d*r*l-m*r*c,y-h*r*l-g*r*c],this.width=b,this.height=w}get rawDims(){const e=this.viewBox;return Je(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:r=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new Bf({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}convertToViewportPoint(e,n){const r=[e,n];return Ae.applyTransform(r,this.transform),r}convertToViewportRectangle(e){const n=[e[0],e[1]];Ae.applyTransform(n,this.transform);const r=[e[2],e[3]];return Ae.applyTransform(r,this.transform),[n[0],n[1],r[0],r[1]]}convertToPdfPoint(e,n){const r=[e,n];return Ae.applyInverseTransform(r,this.transform),r}}class LE extends hl{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function fy(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function FE(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function Qce(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function Zce(t,e="document.pdf"){if(typeof t!="string")return e;if(fy(t))return Ke('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const r=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!r)return e;const i=o=>{try{let l=decodeURIComponent(o);return l.includes("/")?(l=l.split("/").at(-1),l.test(/^\.pdf$/i)?l:o):l}catch{return o}},s=/\.pdf$/i,a=r.pathname.split("/").at(-1);if(s.test(a))return i(a);if(r.searchParams.size>0){const o=Array.from(r.searchParams.values()).reverse();for(const c of o)if(s.test(c))return i(c);const l=Array.from(r.searchParams.keys()).reverse();for(const c of l)if(s.test(c))return i(c)}if(r.hash){const l=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(r.hash);if(l)return i(l[0])}return e}class v2{started=Object.create(null);times=[];time(e){e in this.started&&Ke(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ke(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:r}of this.times)n=Math.max(r.length,n);for(const{name:r,start:i,end:s}of this.times)e.push(`${r.padEnd(n)} ${s-i}ms
`);return e.join("")}}function Wd(t,e){const n=e?URL.parse(t,e):URL.parse(t);return n?.protocol==="http:"||n?.protocol==="https:"}function ji(t){t.preventDefault()}function en(t){t.preventDefault(),t.stopPropagation()}function Jce(t){console.log("Deprecated API usage: "+t)}class NA{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const n=this.#e.exec(e);if(!n)return null;const r=parseInt(n[1],10);let i=parseInt(n[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(n[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(n[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(n[6],10);l=l>=0&&l<=59?l:0;const c=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,c==="-"?(a+=d,o+=h):c==="+"&&(a-=d,o-=h),new Date(Date.UTC(r,i,s,a,o,l))}}function eue(t,{scale:e=1,rotation:n=0}){const{width:r,height:i}=t.attributes.style,s=[0,0,parseInt(r),parseInt(i)];return new Bf({viewBox:s,userUnit:1,scale:e,rotation:n})}function Uf(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ke(`Not a valid color format: "${t}"`),[0,0,0])}function tue(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const r=window.getComputedStyle(e).color;t.set(n,Uf(r))}e.remove()}function Ht(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform();return[e,n,r,i,s,a]}function os(t){const{a:e,b:n,c:r,d:i,e:s,f:a}=t.getTransform().invertSelf();return[e,n,r,i,s,a]}function rl(t,e,n=!1,r=!0){if(e instanceof Bf){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=t,o=nr.isCSSRoundSupported,l=`var(--total-scale-factor) * ${i}px`,c=`var(--total-scale-factor) * ${s}px`,d=o?`round(down, ${l}, var(--scale-round-x))`:`calc(${l})`,h=o?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!n||e.rotation%180===0?(a.width=d,a.height=h):(a.width=h,a.height=d)}r&&t.setAttribute("data-main-rotation",e.rotation)}class Ss{constructor(){const{pixelRatio:e}=Ss;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,r,i,s=-1){let a=1/0,o=1/0,l=1/0;r=Ss.capPixels(r,s),r>0&&(a=Math.sqrt(r/(e*n))),i!==-1&&(o=i/e,l=i/n);const c=Math.min(a,o,l);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const r=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,r):r}return e}}const OA=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class nue{static get isDarkMode(){return Je(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class rue{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:r}=window.getComputedStyle(e);return e.remove(),Je(this,"commentForegroundColor",Uf(r))}}function iue(t,e,n,r){r=Math.min(Math.max(r??1,0),1);const i=255*(1-r);return t=Math.round(t*r+i),e=Math.round(e*r+i),n=Math.round(n*r+i),[t,e,n]}function y2(t,e){const n=t[0]/255,r=t[1]/255,i=t[2]/255,s=Math.max(n,r,i),a=Math.min(n,r,i),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const l=s-a;switch(e[1]=o<.5?l/(s+a):l/(2-s-a),s){case n:e[0]=((r-i)/l+(r<i?6:0))*60;break;case r:e[0]=((i-n)/l+2)*60;break;case i:e[0]=((n-r)/l+4)*60;break}}e[2]=o}function MA(t,e){const n=t[0],r=t[1],i=t[2],s=(1-Math.abs(2*i-1))*r,a=s*(1-Math.abs(n/60%2-1)),o=i-s/2;switch(Math.floor(n/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function b2(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function x2(t,e,n){MA(t,n),n.map(b2);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];MA(e,n),n.map(b2);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];return r>i?(r+.05)/(i+.05):(i+.05)/(r+.05)}const w2=new Map;function sue(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let r=w2.get(n);if(r)return r;const i=new Float32Array(9),s=i.subarray(0,3),a=i.subarray(3,6);y2(t,a);const o=i.subarray(6,9);y2(e,o);const l=o[2]<.5,c=l?12:4.5;if(a[2]=l?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),x2(a,o,s)<c){let d,h;l?(d=a[2],h=1):(d=0,h=a[2]);const m=.005;for(;h-d>m;){const g=a[2]=(d+h)/2;l===x2(a,o,s)<c?d=g:h=g}a[2]=l?h:d}return MA(a,s),r=Ae.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),w2.set(n,r),r}function EV({html:t,dir:e,className:n},r){const i=document.createDocumentFragment();if(typeof t=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=t.split(/(?:\r\n?|\n)/);for(let o=0,l=a.length;o<l;++o){const c=a[o];s.append(document.createTextNode(c)),o<l-1&&s.append(document.createElement("br"))}i.append(s)}else PV.render({xfaHtml:t,div:i,intent:"richText"});i.firstChild.classList.add("richText",n),r.append(i)}function TV(t){const e=new Path2D;if(!t)return e;for(let n=0,r=t.length;n<r;)switch(t[n++]){case Td.moveTo:e.moveTo(t[n++],t[n++]);break;case Td.lineTo:e.lineTo(t[n++],t[n++]);break;case Td.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case Td.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case Td.closePath:e.closePath();break;default:Ke(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}class rh{#e=null;#t=null;#r;#n=null;#a=null;#s=null;#i=null;#o=null;static#c=null;constructor(e){this.#r=e,rh.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=this.#r._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",ji,{signal:n}),e.addEventListener("pointerdown",rh.#l,{signal:n}));const r=this.#n=document.createElement("div");r.className="buttons",e.append(r);const i=this.#r.toolbarPosition;if(i){const{style:s}=e,a=this.#r._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#r._focusEventsAllowed=!1,en(e)}#d(e){this.#r._focusEventsAllowed=!0,en(e)}#f(e){const n=this.#r._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",ji,{signal:n}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown(),this.#s?.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=this.#r,r=document.createElement("button");r.classList.add("basic","deleteButton"),r.tabIndex=0,r.setAttribute("data-l10n-id",rh.#c[e]),this.#f(r)&&r.addEventListener("click",i=>{n.delete()},{signal:n._signal}),this.#n.append(r)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const n=await e.render();this.#f(n),this.#n.append(n,this.#g),this.#a=e}addComment(e,n=null){if(this.#s)return;const r=e.renderForToolbar();if(!r)return;this.#f(r);const i=this.#i=this.#g;n?(this.#n.insertBefore(r,n),this.#n.insertBefore(i,n)):this.#n.append(r,i),this.#s=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const n=e.renderButton();this.#f(n),this.#n.append(n,this.#g)}async addEditSignatureButton(e){const n=this.#o=await e.renderEditButton(this.#r);this.#f(n),this.#n.append(n,this.#g)}removeButton(e){switch(e){case"comment":this.#s?.removeToolbarCommentButton(),this.#s=null,this.#i?.remove(),this.#i=null;break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,r){if(!n&&e==="comment")return;const i=this.#n.querySelector(r);i&&e==="comment"&&this.addComment(n,i)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class aue{#e=null;#t=null;#r;constructor(e){this.#r=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const n=this.#r._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",ji,{signal:n});const r=this.#e=document.createElement("div");return r.className="buttons",e.append(r),this.#r.hasCommentManager()&&this.#s("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#r.commentSelection("floating_button")}),this.#s("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#r.highlightSelection("floating_button")}),e}#a(e,n){let r=0,i=0;for(const s of e){const a=s.y+s.height;if(a<r)continue;const o=s.x+(n?s.width:0);if(a>r){i=o,r=a;continue}n?o>i&&(i=o):o<i&&(i=o)}return[n?1-i:i,r]}show(e,n,r){const[i,s]=this.#a(n,r),{style:a}=this.#t||=this.#n();e.append(this.#t),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#s(e,n,r,i){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",n);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",r);const o=this.#r._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",ji,{signal:o}),s.addEventListener("click",i,{signal:o})),this.#e.append(s)}}function jV(t,e,n){for(const r of n)e.addEventListener(r,t[r].bind(t))}class ft{static#e=NaN;static#t=null;static#r=NaN;static#n=null;static initializeAndAddPointerId(e){(ft.#t||=new Set).add(e)}static setPointer(e,n){ft.#e||=n,ft.#n??=e}static setTimeStamp(e){ft.#r=e}static isSamePointerId(e){return ft.#e===e}static isSamePointerIdOrRemove(e){return ft.#e===e?!0:(ft.#t?.delete(e),!1)}static isSamePointerType(e){return ft.#n===e}static isInitializedAndDifferentPointerType(e){return ft.#n!==null&&!ft.isSamePointerType(e)}static isSameTimeStamp(e){return ft.#r===e}static isUsingMultiplePointers(){return ft.#t?.size>=1}static clearPointerType(){ft.#n=null}static clearPointerIds(){ft.#e=NaN,ft.#t=null}static clearTimeStamp(){ft.#r=NaN}}class oue{#e=0;get id(){return`${Th}${this.#e++}`}}class $E{#e=AV();#t=0;#r=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',r=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(r.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(r.getImageData(0,0,1,1).data.buffer)[0]===0));return Je(this,"_isSVGFittingCanvas",s)}async#n(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r===null)return null;if(r?.bitmap)return r.refCounter+=1,r;try{r||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let i;if(typeof n=="string"?(r.url=n,i=await $f(n,"blob")):n instanceof File?i=r.file=n:n instanceof Blob&&(i=n),i.type==="image/svg+xml"){const s=$E._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((c,d)=>{o.onload=()=>{r.bitmap=o,r.isSvg=!0,c()},a.onload=async()=>{const h=r.svgUrl=a.result;o.src=await s?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=a.onerror=d});a.readAsDataURL(i),await l}else r.bitmap=await createImageBitmap(i);r.refCounter=1}catch(i){Ke(i),r=null}return this.#r.set(e,r),r&&this.#r.set(r.id,r),r}async getFromFile(e){const{lastModified:n,name:r,size:i,type:s}=e;return this.#n(`${n}_${r}_${i}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,n){const r=await n;return this.#n(e,r)}async getFromId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:r}=n;return delete n.blobPromise,this.getFromBlob(n.id,r)}return this.getFromUrl(n.url)}getFromCanvas(e,n){this.#r||=new Map;let r=this.#r.get(e);if(r?.bitmap)return r.refCounter+=1,r;const i=new OffscreenCanvas(n.width,n.height);return i.getContext("2d").drawImage(n,0,0),r={bitmap:i.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#r.set(e,r),this.#r.set(r.id,r),r}getSvgUrl(e){const n=this.#r.get(e);return n?.isSvg?n.svgUrl:null}deleteId(e){this.#r||=new Map;const n=this.#r.get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:r}=n;if(!n.url&&!n.file){const i=new OffscreenCanvas(r.width,r.height);i.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=i.convertToBlob()}r.close?.(),n.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class lue{#e=[];#t=!1;#r;#n=-1;constructor(e=128){this.#r=e}add({cmd:e,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),this.#t)return;const l={cmd:e,undo:n,post:r,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(l);return}if(a&&this.#e[this.#n].type===s){o&&(l.undo=this.#e[this.#n].undo),this.#e[this.#n]=l;return}const c=this.#n+1;c===this.#r?this.#e.splice(0,1):(this.#n=c,c<this.#e.length&&this.#e.splice(c)),this.#e.push(l)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:n}=this.#e[this.#n];e(),n?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let n=this.#n;n>=0;n--)if(this.#e[n].type!==e){this.#e.splice(n+1,this.#n-n),this.#n=n;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class zf{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=nr.platform;for(const[r,i,s={}]of e)for(const a of r){const o=a.startsWith("mac+");n&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!n&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n}exec(e,n){if(!this.allKeys.has(n.key))return;const r=this.callbacks.get(this.#e(n));if(!r)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=r;o&&!o(e,n)||(i.bind(e,...a,n)(),s||en(n))}}class BE{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return tue(e),Je(this,"_colors",e)}convert(e){const n=Uf(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[r,i]of this._colors)if(i.every((s,a)=>s===n[a]))return BE._colorsMapping.get(r);return n}getHexCode(e){const n=this._colors.get(e);return n?Ae.makeHexColor(...n):e}}class eo{#e=new AbortController;#t=null;#r=null;#n=new Map;#a=new Map;#s=null;#i=null;#o=null;#c=new lue;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#C=null;#_=null;#w=null;#E=null;#x=!1;#A=null;#k=new oue;#T=!1;#j=!1;#L=!1;#O=null;#D=null;#F=null;#R=null;#W=null;#P=Qe.NONE;#S=new Set;#M=null;#$=null;#U=null;#G=null;#q=null;#K={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#z=[0,0];#I=null;#H=null;#Z=null;#J=null;#B=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=eo.prototype,n=a=>a.#H.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),r=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Je(this,"_keyboardManager",new zf([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:r}],[["ctrl+z","mac+meta+z"],e.undo,{checker:r}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:r}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:r}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&a.#H.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:n}]]))}constructor(e,n,r,i,s,a,o,l,c,d,h,m,g,x,y,b){const w=this._signal=this.#e.signal;this.#H=e,this.#Z=n,this.#J=r,this.#s=i,this.#l=s,this.#$=a,this.#q=l,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:w}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:w}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:w}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:w}),o._on("setpreference",this.onSetPreference.bind(this),{signal:w}),o._on("switchannotationeditorparams",A=>this.updateParams(A.type,A.value),{signal:w}),window.addEventListener("pointerdown",()=>{this.#j=!0},{capture:!0,signal:w}),window.addEventListener("pointerup",()=>{this.#j=!1},{capture:!0,signal:w}),this.#ae(),this.#he(),this.#te(),this.#i=l.annotationStorage,this.#C=l.filterFactory,this.#U=c,this.#E=d||null,this.#v=h,this.#b=m,this.#y=g,this.#W=x||null,this.viewParameters={realScale:zc.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=b!==!1,s?.setSidebarUiManager(this)}destroy(){this.#B?.resolve(),this.#B=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#a.values())e.destroy();this.#a.clear(),this.#n.clear(),this.#p.clear(),this.#R?.clear(),this.#t=null,this.#S.clear(),this.#c.destroy(),this.#s?.destroy(),this.#l?.destroy(),this.#$?.destroy(),this.#A?.hide(),this.#A=null,this.#F?.destroy(),this.#F=null,this.#r=null,this.#_&&(clearTimeout(this.#_),this.#_=null),this.#I&&(clearTimeout(this.#I),this.#I=null),this._editorUndoBar?.destroy(),this.#q=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#W}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Je(this,"hcmFilter",this.#U?this.#C.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Je(this,"direction",getComputedStyle(this.#H).direction)}get _highlightColors(){return Je(this,"_highlightColors",this.#E?new Map(this.#E.split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Je(this,"highlightColors",null);const n=new Map,r=!!this.#U;for(const[i,s]of e){const a=i.endsWith("_HCM");if(r&&a){n.set(i.replace("_HCM",""),s);continue}!r&&!a&&n.set(i,s)}return Je(this,"highlightColors",n)}get highlightColorNames(){return Je(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#F=e}editAltText(e,n=!1){this.#s?.editAltText(this,e,n)}hasCommentManager(){return!!this.#l}editComment(e,n,r,i){this.#l?.showDialog(this,e,n,r,i)}selectComment(e,n){this.#a.get(e)?.getEditorByUID(n)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,n,r=void 0){this.#l?.toggleCommentPopup(e,n,r)}makeCommentColor(e,n){return e&&this.#l?.makeCommentColor(e,n)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#a.has(e-1))return;const{resolve:n,promise:r}=Promise.withResolvers(),i=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",i),n())};this._eventBus.on("editorsrendered",i),await r}getSignature(e){this.#$?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#$}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=n;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#H.focus()}findParent(e,n){for(const r of this.#a.values()){const{x:i,y:s,width:a,height:o}=r.div.getBoundingClientRect();if(e>=i&&e<=i+a&&n>=s&&n<=s+o)return r}return null}disableUserSelect(e=!1){this.#Z.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*zc.PDF_TO_CSS_UNITS;for(const n of this.#p)n.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Q({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const r of this.#a.values())if(r.hasTextLayer(e))return r;return null}highlightSelection(e="",n=!1){const r=document.getSelection();if(!r||r.isCollapsed)return;const{anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o}=r,l=r.toString(),d=this.#Q(r).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;r.empty();const m=this.#ee(d),g=this.#P===Qe.NONE,x=()=>{const y=m?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:i,anchorOffset:s,focusNode:a,focusOffset:o,text:l});g&&this.showAllEditors("highlight",!0,!0),n&&y?.editComment()};if(g){this.switchToMode(Qe.HIGHLIGHT,x);return}x()}commentSelection(e=""){this.highlightSelection(e,!0)}#ie(){const e=document.getSelection();if(!e||e.isCollapsed)return;const r=this.#Q(e).closest(".textLayer"),i=this.getSelectionBoxes(r);i&&(this.#A||=new aue(this),this.#A.show(r,i,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#i)return null;const n=`${Th}${e}`,r=this.#i.getRawValue(n);return r&&this.#i.remove(n),r}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,n=null){const r=this.#J;r&&(r.setAttribute("data-l10n-id",e),n?r.setAttribute("data-l10n-args",JSON.stringify(n)):r.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===this.#M)return;const i=this.#Q(e).closest(".textLayer");if(!i){this.#M&&(this.#A?.hide(),this.#M=null,this.#N({hasSelectedText:!1}));return}if(this.#A?.hide(),this.#M=n,this.#N({hasSelectedText:!0}),!(this.#P!==Qe.HIGHLIGHT&&this.#P!==Qe.NONE)&&(this.#P===Qe.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#P===Qe.HIGHLIGHT?this.#ee(i):null;if(s?.toggleDrawing(),this.#j){const a=new AbortController,o=this.combinedSignal(a),l=c=>{c.type==="pointerup"&&c.button!==0||(a.abort(),s?.toggleDrawing(!0),c.type==="pointerup"&&this.#Y("main_toolbar"))};window.addEventListener("pointerup",l,{signal:o}),window.addEventListener("blur",l,{signal:o})}else s?.toggleDrawing(!0),this.#Y("main_toolbar")}}#Y(e=""){this.#P===Qe.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#ie()}#ae(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of this.#S)if(n.div.contains(e)){this.#D=[n,e],n._focusEventsAllowed=!1;break}}focus(){if(!this.#D)return;const[e,n]=this.#D;this.#D=null,n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}#te(){if(this.#O)return;this.#O=new AbortController;const e=this.combinedSignal(this.#O);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#O?.abort(),this.#O=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const r of this.#u)if(r.isHandlingMimeForPasting(n.type)){r.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of this.#S){const i=r.serialize(!0);i&&n.push(i)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const s of n.items)for(const a of this.#u)if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let r=n.getData("application/pdfjs");if(!r)return;try{r=JSON.parse(r)}catch(s){Ke(`paste: "${s.message}".`);return}if(!Array.isArray(r))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of r){const c=await i.deserialize(l);if(!c)return;s.push(c)}const a=()=>{for(const l of s)this.#ne(l);this.#re(s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Ke(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#P!==Qe.NONE&&!this.isEditorHandlingKeyboard&&eo._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#Y("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#N(e){Object.entries(e).some(([r,i])=>this.#K[r]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#K,e)}),this.#P===Qe.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#V([[at.HIGHLIGHT_FREE,!0]]))}#V(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#N({isEditing:this.#P!==Qe.NONE,isEmpty:this.#X(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#N({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const n of this.#u)this.#V(n.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#a.get(this.#f)}getLayer(e){return this.#a.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#a.set(e.pageIndex,e),this.#T?e.enable():e.disable()}removeLayer(e){this.#a.delete(e.pageIndex)}async updateMode(e,n=null,r=!1,i=!1,s=!1){if(this.#P!==e&&!(this.#B&&(await this.#B.promise,!this.#B))){if(this.#B=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#P===Qe.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#P=e,e===Qe.NONE){this.setEditingState(!1),this.#pe();for(const a of this.#n.values())a.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#B.resolve();return}for(const a of this.#n.values())a.addStandaloneCommentButton();e===Qe.SIGNATURE&&await this.#$?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const a of this.#a.values())a.updateMode(e);if(e===Qe.POPUP){this.#r||=await this.#q.getAnnotationsByType(new Set(this.#u.map(l=>l._editorType)));const a=new Set,o=[];for(const l of this.#n.values()){const{annotationElementId:c,hasComment:d,deleted:h}=l;c&&a.add(c),d&&!h&&o.push(l.getData())}for(const l of this.#r){const{id:c,popupRef:d,contentsObj:h}=l;d&&h?.str&&!a.has(c)&&!this.#g.has(c)&&o.push(l)}this.#l?.showSidebar(o)}if(!n){r&&this.addNewEditorFromKeyboard(),this.#B.resolve();return}for(const a of this.#n.values())a.uid===n?(this.setSelected(a),s?a.editComment():i?a.enterInEditMode():a.focus()):a.unselect();this.#B.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#P&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(this.#u){switch(e){case at.CREATE:this.currentLayer.addNewEditor(n);return;case at.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#G||=new Map).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const r of this.#S)r.updateParams(e,n);else for(const r of this.#u)r.updateDefaultParams(e,n)}}showAllEditors(e,n,r=!1){for(const s of this.#n.values())s.editorType===e&&s.show(n);(this.#G?.get(at.HIGHLIGHT_SHOW_ALL)??!0)!==n&&this.#V([[at.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(this.#L!==e){this.#L=e;for(const n of this.#a.values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#T){this.#T=!0;const e=[];for(const n of this.#a.values())e.push(n.enable());await Promise.all(e);for(const n of this.#n.values())n.enable()}}#pe(){if(this.unselectAll(),this.#T){this.#T=!1;for(const e of this.#a.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const n of this.#n.values())n.pageIndex===e&&(yield n)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#_&&clearTimeout(this.#_),this.#_=setTimeout(()=>{this.focusMainContainer(),this.#_=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#R?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const n=this.#a.get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#V(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#S);return e}updateUI(e){this.#me===e&&this.#V(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#V(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#S.has(e)){this.#S.delete(e),e.unselect(),this.#N({hasSelectedEditor:this.hasSelection});return}this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const n of this.#S)n!==e&&n.unselect();this.#S.clear(),this.#S.add(e),e.select(),this.#V(e.propertiesToUpdate),this.#N({hasSelectedEditor:!0})}isSelected(e){return this.#S.has(e)}get firstSelectedEditor(){return this.#S.values().next().value}unselect(e){e.unselect(),this.#S.delete(e),this.#N({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#S.size!==0}get isEnterHandled(){return this.#S.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#N({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#X()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#X()})}addCommands(e){this.#c.add(e),this.#N({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#X()})}cleanUndoStack(e){this.#c.cleanType(e)}#X(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...this.#S],r=()=>{this._editorUndoBar?.show(i,n.length===1?n[0].editorType:n.length);for(const s of n)s.remove()},i=()=>{for(const s of n)this.#ne(s)};this.addCommands({cmd:r,undo:i,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#re(e){for(const n of this.#S)n.unselect();this.#S.clear();for(const n of e)n.isEmpty()||(this.#S.add(n),n.select());this.#N({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#S)e.commit();this.#re(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#P!==Qe.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#S)e.unselect();this.#S.clear(),this.#N({hasSelectedEditor:!1})}}translateSelectedEditors(e,n,r=!1){if(r||this.commitOrRemove(),!this.hasSelection)return;this.#z[0]+=e,this.#z[1]+=n;const[i,s]=this.#z,a=[...this.#S],o=1e3;this.#I&&clearTimeout(this.#I),this.#I=setTimeout(()=>{this.#I=null,this.#z[0]=this.#z[1]=0,this.addCommands({cmd:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(i,s),l.translationDone())},undo:()=>{for(const l of a)this.#n.has(l.id)&&(l.translateInPage(-i,-s),l.translationDone())},mustExec:!1})},o);for(const l of a)l.translateInPage(e,n),l.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#S)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let n=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,n||=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex;if(!n)return!1;const r=(i,s,a,o)=>{if(this.#n.has(i.id)){const l=this.#a.get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)r(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)r(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(this.#m)for(const r of this.#m.keys())r.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#S.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#P}isEditingMode(){return this.#P!==Qe.NONE}get imageManager(){return Je(this,"imageManager",new $E)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let c=0,d=n.rangeCount;c<d;c++)if(!e.contains(n.getRangeAt(c).commonAncestorContainer))return null;const{x:r,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(c,d,h,m)=>({x:(d-i)/a,y:1-(c+h-r)/s,width:m/a,height:h/s});break;case"180":o=(c,d,h,m)=>({x:1-(c+h-r)/s,y:1-(d+m-i)/a,width:h/s,height:m/a});break;case"270":o=(c,d,h,m)=>({x:1-(d+m-i)/a,y:(c-r)/s,width:m/a,height:h/s});break;default:o=(c,d,h,m)=>({x:(c-r)/s,y:(d-i)/a,width:h/s,height:m/a});break}const l=[];for(let c=0,d=n.rangeCount;c<d;c++){const h=n.getRangeAt(c);if(!h.collapsed)for(const{x:m,y:g,width:x,height:y}of h.getClientRects())x===0||y===0||l.push(o(m,g,x,y))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:n}){(this.#o||=new Map).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const n=this.#o?.get(e.data.id);if(!n)return;const r=this.#i.getRawValue(n);r&&(this.#P===Qe.NONE&&!r.hasBeenModified||r.renderAnnotationElement(e))}setMissingCanvas(e,n,r){const i=this.#R?.get(e);i&&(i.setCanvas(n,r),this.#R.delete(e))}addMissingCanvas(e,n){(this.#R||=new Map).set(e,n)}}class us{#e=null;#t=!1;#r=null;#n=null;#a=null;#s=null;#i=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,us.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){us._l10n??=e}async render(){const e=this.#r=document.createElement("button");e.className="altText",e.tabIndex="0";const n=this.#n=document.createElement("span");e.append(n),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",us.#f.missing),n.setAttribute("data-l10n-id",us.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const r=this.#c._uiManager._signal;e.addEventListener("contextmenu",ji,{signal:r}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,i(s))},{signal:r}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#r&&(this.#r.focus({focusVisible:this.#i}),this.#i=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await us._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const n=this.#o=document.createElement("div");n.className="noAltTextBadge",this.#c.div.append(n)}this.#o.classList.toggle("hidden",!e)}serialize(e){let n=this.#e;return!e&&this.#l===n&&(n=this.#h),{altText:n,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}){r&&(this.#l=r,this.#h=i),!(this.#e===e&&this.#t===n)&&(s||(this.#e=e,this.#t=n),this.#m())}toggle(e=!1){this.#r&&(!e&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#r.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#r?.remove(),this.#r=null,this.#n=null,this.#a=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#r;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",us.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",us.#f[`${this.#g}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=this.#a;if(!n){this.#a=n=document.createElement("span"),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${this.#c.id}`;const i=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#a.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},i)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#a?.classList.remove("show")},{signal:s})}this.#t?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=this.#e),n.parentNode||e.append(n),this.#c.getElementForAltText()?.setAttribute("aria-describedby",n.id)}}class Em{#e=null;#t=null;#r=!1;#n=null;#a=null;#s=null;#i=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const n=this.#n.commentButtonPosition;if(n){const{style:r}=e;r.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,r.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const i=this.#n.commentButtonColor;i&&(r.backgroundColor=i)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:n,height:r}=this.#e.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#n.parent.boundingClientRect;return[(e-i)/a,(n+r-s)/o]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:n}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=n)}#h(e,n){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const r=this.#n._uiManager._signal;if(!(r instanceof AbortSignal)||r.aborted)return e;e.addEventListener("contextmenu",ji,{signal:r}),n&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,en(s)},{capture:!0,signal:r}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,en(s)},{capture:!0,signal:r})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:r});const i=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",i,{capture:!0,signal:r}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,i(s))},{signal:r}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:r}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:r}),e}edit(e){const n=this.commentPopupPositionInLayer;let r,i;if(n)[r,i]=n;else{[r,i]=this.#n.commentButtonPosition;const{width:d,height:h,x:m,y:g}=this.#n;r=m+r*d,i=g+i*h}const s=this.#n.parent.boundingClientRect,{x:a,y:o,width:l,height:c}=s;this.#n._uiManager.editComment(this.#n,a+r*l,o+i*c,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#r}),this.#r=!1)}isDeleted(){return this.#c||this.#i===""}isEmpty(){return this.#i===null}hasBeenEdited(){return this.isDeleted()||this.#i!==this.#a}serialize(){return this.data}get data(){return{text:this.#i,richText:this.#s,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#i&&(this.#s=null),e===null){this.#i="",this.#c=!0;return}this.#i=e,this.#o=new Date,this.#c=!1}setInitialText(e,n=null){this.#a=e,this.data=e,this.#o=null,this.#s=n}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#i="",this.#s=null,this.#o=null,this.#n=null,this.#r=!1,this.#c=!1}}class py{#e;#t=!1;#r=null;#n;#a;#s;#i;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:r=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){this.#e=e,this.#r=r,this.#n=n,this.#a=i,this.#s=s,this.#i=a,this.#h=new AbortController,this.#c=AbortSignal.any([o,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Ss.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const i=this.#o=new AbortController,s=AbortSignal.any([this.#c,i.signal]),a=this.#e,o={capture:!0,signal:s,passive:!1},l=c=>{c.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};a.addEventListener("pointerdown",c=>{c.pointerType==="touch"&&(en(c),l(c))},o),a.addEventListener("pointerup",l,o),a.addEventListener("pointercancel",l,o);return}if(!this.#d){this.#d=new AbortController;const i=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,a={signal:i,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),a);const o=this.#m.bind(this);s.addEventListener("touchend",o,a),s.addEventListener("touchcancel",o,a),a.capture=!0,s.addEventListener("pointerdown",en,a),s.addEventListener("pointermove",en,a),s.addEventListener("pointercancel",en,a),s.addEventListener("pointerup",en,a),this.#a?.()}if(en(e),e.touches.length!==2||this.#r?.()){this.#l=null;return}let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]),this.#l={touch0X:n.screenX,touch0Y:n.screenY,touch1X:r.screenX,touch1Y:r.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;en(e);let[n,r]=e.touches;n.identifier>r.identifier&&([n,r]=[r,n]);const{screenX:i,screenY:s}=n,{screenX:a,screenY:o}=r,l=this.#l,{touch0X:c,touch0Y:d,touch1X:h,touch1Y:m}=l,g=h-c,x=m-d,y=a-i,b=o-s,w=Math.hypot(y,b)||1,A=Math.hypot(g,x)||1;if(!this.#t&&Math.abs(A-w)<=py.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,!this.#t){this.#t=!0;return}const _=[(i+a)/2,(s+o)/2];this.#s?.(_,A,w)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#i?.()),this.#l&&(en(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class De{#e=null;#t=null;#r=null;#n=null;#a=null;#s=!1;#i=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#C=0;#_=0;#w=null;#E=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#A=De._zIndex++;static _borderLineWidth=-1;static _colorManager=new BE;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=De.prototype._resizeWithKeyboard,n=eo.TRANSLATE_SMALL,r=eo.TRANSLATE_BIG;return Je(this,"_resizerKeyboardManager",new zf([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-r,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[r,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-r]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,r]}],[["Escape","mac+Escape"],De.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[r,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Je(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new cue({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(De._l10n??=e,De._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),De._borderLineWidth!==-1)return;const r=getComputedStyle(document.documentElement);De._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){Pt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#A}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#I(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,r,i){const[s,a]=this.parentDimensions;[r,i]=this.screenToPageTranslation(r,i),this.x=(e+r)/s,this.y=(n+i)/a,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[r,i]=this.parentDimensions;this.setAt(e*r,n*i,this.width*r,this.height*i),this._onTranslated()}#k([e,n],r,i){[r,i]=this.screenToPageTranslation(r,i),this.x+=r/e,this.y+=i/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,n){this.#k(this.parentDimensions,e,n)}translateInPage(e,n){this.#u||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){this.#u||=[this.x,this.y,this.width,this.height];const{div:r,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=n/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,c]=this.getBaseTranslation();a+=l,o+=c;const{style:d}=r;d.left=`${(100*a).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),r.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:r}=De,i=r/e,s=r/n;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[r,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=r,l*=i,s*=r,a*=i,this._mustFixPosition)switch(e){case 0:s=vr(s,0,r-o),a=vr(a,0,i-l);break;case 90:s=vr(s,0,r-l),a=vr(a,o,i);break;case 180:s=vr(s,o,r),a=vr(a,l,i);break;case 270:s=vr(s,l,r),a=vr(a,0,i-o);break}this.x=s/=r,this.y=a/=i;const[c,d]=this.getBaseTranslation();s+=c,a+=d,n.left=`${(100*s).toFixed(2)}%`,n.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}static#T(e,n,r){switch(r){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}}screenToPageTranslation(e,n){return De.#T(e,n,this.parentRotation)}pageTranslationToScreen(e,n){return De.#T(e,n,360-this.parentRotation)}#j(e){switch(e){case 90:{const[n,r]=this.pageDimensions;return[0,-n/r,r/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,r]=this.pageDimensions;return[0,n/r,-r/n,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,r]}=this;return[n*e,r*e]}setDims(){const{div:{style:e},width:n,height:r}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*r).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#L(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const r of e){const i=document.createElement("div");this.#c.append(i),i.classList.add("resizer",r),i.setAttribute("data-resizer-name",r),i.addEventListener("pointerdown",this.#O.bind(this,r),{signal:n}),i.addEventListener("contextmenu",ji,{signal:n}),i.tabIndex=-1}this.div.prepend(this.#c)}#O(e,n){n.preventDefault();const{isMac:r}=nr.platform;if(n.button!==0||n.ctrlKey&&r)return;this.#r?.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,this.#l=[n.screenX,n.screenY];const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#R.bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",en,{passive:!1,signal:a}),window.addEventListener("contextmenu",ji,{signal:a}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const c=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#r?.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,this.#F()};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})}#D(e,n,r,i){this.width=r,this.height=i,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#F(){if(!this.#h)return;const{savedX:e,savedY:n,savedWidth:r,savedHeight:i}=this.#h;this.#h=null;const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===n&&o===r&&l===i||this.addCommands({cmd:this.#D.bind(this,s,a,o,l),undo:this.#D.bind(this,e,n,r,i),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#R(e,n){const[r,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,c=De.MIN_SIZE/r,d=De.MIN_SIZE/i,h=this.#j(this.rotation),m=(V,U)=>[h[0]*V+h[2]*U,h[1]*V+h[3]*U],g=this.#j(360-this.rotation),x=(V,U)=>[g[0]*V+g[2]*U,g[1]*V+g[3]*U];let y,b,w=!1,A=!1;switch(e){case"topLeft":w=!0,y=(V,U)=>[0,0],b=(V,U)=>[V,U];break;case"topMiddle":y=(V,U)=>[V/2,0],b=(V,U)=>[V/2,U];break;case"topRight":w=!0,y=(V,U)=>[V,0],b=(V,U)=>[0,U];break;case"middleRight":A=!0,y=(V,U)=>[V,U/2],b=(V,U)=>[0,U/2];break;case"bottomRight":w=!0,y=(V,U)=>[V,U],b=(V,U)=>[0,0];break;case"bottomMiddle":y=(V,U)=>[V/2,U],b=(V,U)=>[V/2,0];break;case"bottomLeft":w=!0,y=(V,U)=>[0,U],b=(V,U)=>[V,0];break;case"middleLeft":A=!0,y=(V,U)=>[0,U/2],b=(V,U)=>[V,U/2];break}const _=y(o,l),E=b(o,l);let P=m(...E);const T=De._round(s+P[0]),k=De._round(a+P[1]);let O=1,R=1,F,M;if(n.fromKeyboard)({deltaX:F,deltaY:M}=n);else{const{screenX:V,screenY:U}=n,[L,G]=this.#l;[F,M]=this.screenToPageTranslation(V-L,U-G),this.#l[0]=V,this.#l[1]=U}if([F,M]=x(F/r,M/i),w){const V=Math.hypot(o,l);O=R=Math.max(Math.min(Math.hypot(E[0]-_[0]-F,E[1]-_[1]-M)/V,1/o,1/l),c/o,d/l)}else A?O=vr(Math.abs(E[0]-_[0]-F),c,1)/o:R=vr(Math.abs(E[1]-_[1]-M),d,1)/l;const D=De._round(o*O),$=De._round(l*R);P=m(...b(D,$));const W=T-P[0],H=k-P[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=D,this.height=$,this.x=W,this.y=H,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#r?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new rh(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,r]of e)await this._editToolbar.addButton(n,r);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#r?.destroy()}addContainer(e){const n=this._editToolbar?.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#r||(us.initialize(De._l10n),this.#r=new us(this),this.#e&&(this.#r.data=this.#e,this.#e=null)),this.#r}get altTextData(){return this.#r?.data}set altTextData(e){this.#r&&(this.#r.data=e)}get guessedAltText(){return this.#r?.guessedText}async setGuessedAltText(e){await this.#r?.setGuessedText(e)}serializeAltText(e){return this.#r?.serialize(e)}hasAltText(){return!!this.#r&&!this.#r.isEmpty()}hasAltTextData(){return this.#r?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Em(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#a){this._uiManager.isEditingMode()&&this.#a.classList.remove("hidden");return}this.hasComment&&(this.#a=this.#n.renderForStandalone(),this.div.append(this.#a))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#a=null}hideStandaloneCommentButton(){this.#a?.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:r,deleted:i}}=this.#n;return{text:n,richText:e,date:r,deleted:i,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Em(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:r}){if(!n||(this.#n||=new Em(this),this.#n.setInitialText(e,r),!this.annotationElementId))return;const i=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);i&&this.updateFromAnnotationLayer(i)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Em(this),this.#n.edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,i]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,l=i-100,c=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,l,c,i]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){this.#n.data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[n,r]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*r/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/r).toFixed(2)}%`);const[i,s]=this.getInitialTranslation();return this.translate(i,s),jV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#E||=new py({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#W.bind(this),onPinching:this.#P.bind(this),onPinchEnd:this.#S.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#W(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#r?.toggle(!1),this.parent.togglePointerEvents(!1)}#P(e,n,r){let s=.7*(r/n)+1-.7;if(s===1)return;const a=this.#j(this.rotation),o=(T,k)=>[a[0]*T+a[2]*k,a[1]*T+a[3]*k],[l,c]=this.parentDimensions,d=this.x,h=this.y,m=this.width,g=this.height,x=De.MIN_SIZE/l,y=De.MIN_SIZE/c;s=Math.max(Math.min(s,1/m,1/g),x/m,y/g);const b=De._round(m*s),w=De._round(g*s);if(b===m&&w===g)return;this.#u||=[d,h,m,g];const A=o(m/2,g/2),_=De._round(d+A[0]),E=De._round(h+A[1]),P=o(b/2,w/2);this.x=_-P[0],this.y=E-P[1],this.width=b,this.height=w,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#S(){this.#r?.toggle(!0),this.parent.togglePointerEvents(!0),this.#F()}pointerdown(e){const{isMac:n}=nr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#$(e);return}this.#M(e)}#M(e){const{isMac:n}=nr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)}#$(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let r=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=c=>{i.abort(),this.#i=null,this.#m=!1,this._uiManager.endDragSession()||this.#M(c),r&&this._onStopDragging()};n&&(this.#C=e.clientX,this.#_=e.clientY,this.#i=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",c=>{r||(r=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:m}=c;if(m!==this.#i){en(c);return}const[g,x]=this.screenToPageTranslation(d-this.#C,h-this.#_);this.#C=d,this.#_=h,this._uiManager.dragSelectedEditors(g,x)},a),window.addEventListener("touchmove",en,a),window.addEventListener("pointerdown",c=>{c.pointerType===this.#o&&(this.#E||c.isPrimary)&&o(c),en(c)},a));const l=c=>{if(!this.#i||this.#i===c.pointerId){o(c);return}en(c)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,n,r){e.changeParent(this),this.x=n,this.y=r,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,r=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,c=e/i,d=n/i,h=this.x*s,m=this.y*a,g=this.width*s,x=this.height*a;switch(r){case 0:return[h+c+o,a-m-d-x+l,h+c+g+o,a-m-d+l];case 90:return[h+d+o,a-m+c+l,h+d+x+o,a-m+c+g+l];case 180:return[h-c-g+o,a-m+d+l,h-c+o,a-m+d+x+l];case 270:return[h-d-x+o,a-m-c-g+l,h-d+o,a-m-c+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[r,i,s,a]=e,o=s-r,l=a-i;switch(this.rotation){case 0:return[r,n-a,o,l];case 90:return[r,n-i,l,o];case 180:return[s,n-i,o,l];case 270:return[s,n-a,l,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&De._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:r,opacity:i,deleted:s,richText:a},uid:o,pageIndex:l,creationDate:c,modificationDate:d}=this;return{id:o,pageIndex:l,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:c,modificationDate:r||d,popupRef:!s,color:n,opacity:i}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:r,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return n<a&&i>0&&e<s&&r>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,n=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,n,r){const i=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:r,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});i.rotation=e.rotation,i.#e=e.accessibilityData,i._isCopy=e.isCopy||!1;const[s,a]=i.pageDimensions,[o,l,c,d]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=c/s,i.height=d/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#I(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#E?.destroy(),this.#E=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#L(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[r,i,s,a]=this.getPDFRect();return[De._round(r+(s-r)*e),De._round(i+(a-i)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const n=this.#c.children;if(!this.#t){this.#t=Array.from(n);const a=this.#G.bind(this),o=this.#q.bind(this),l=this._uiManager._signal;for(const c of this.#t){const d=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",a,{signal:l}),c.addEventListener("blur",o,{signal:l}),c.addEventListener("focus",this.#K.bind(this,d),{signal:l}),c.setAttribute("data-l10n-id",De._l10nResizer[d])}}const r=this.#t[0];let i=0;for(const a of n){if(a===r)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)this.#c.append(this.#c.firstChild);else if(s>i)for(let o=0;o<s-i;o++)this.#c.firstChild.before(this.#c.lastChild);let a=0;for(const o of n){const c=this.#t[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",De._l10nResizer[c])}}this.#z(0),this.#b=!0,this.#c.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#G(e){De._resizerKeyboardManager.exec(this,e)}#q(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#I()}#K(e){this.#g=this.#b?e:""}#z(e){if(this.#t)for(const n of this.#t)n.tabIndex=e}_resizeWithKeyboard(e,n){this.#b&&this.#R(this.#g,{deltaX:e,deltaY:n,fromKeyboard:!0})}#I(){this.#b=!1,this.#z(-1),this.#F()}_stopResizingWithKeyboard(){this.#I(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#r?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#r?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){this.#w||=new Map;const{action:r}=e;let i=this.#w.get(r);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(r),this.#w.size===0&&(this.#w=null)},De._telemetryTimeout),this.#w.set(r,i);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const r=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),r.before(n)}return n}resetAnnotationElement(e){const{firstChild:n}=e.container;n?.nodeName==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}}class cue extends De{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const S2=3285377520,mi=4294901760,ls=65535;class kV{constructor(e){this.h1=e?e&4294967295:S2,this.h2=e?e&4294967295:S2}update(e){let n,r;if(typeof e=="string"){n=new Uint8Array(e.length*2),r=0;for(let y=0,b=e.length;y<b;y++){const w=e.charCodeAt(y);w<=255?n[r++]=w:(n[r++]=w>>>8,n[r++]=w&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),r=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=r>>2,s=r-i*4,a=new Uint32Array(n.buffer,0,i);let o=0,l=0,c=this.h1,d=this.h2;const h=3432918353,m=461845907,g=h&ls,x=m&ls;for(let y=0;y<i;y++)y&1?(o=a[y],o=o*h&mi|o*g&ls,o=o<<15|o>>>17,o=o*m&mi|o*x&ls,c^=o,c=c<<13|c>>>19,c=c*5+3864292196):(l=a[y],l=l*h&mi|l*g&ls,l=l<<15|l>>>17,l=l*m&mi|l*x&ls,d^=l,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,s){case 3:o^=n[i*4+2]<<16;case 2:o^=n[i*4+1]<<8;case 1:o^=n[i*4],o=o*h&mi|o*g&ls,o=o<<15|o>>>17,o=o*m&mi|o*x&ls,i&1?c^=o:d^=o}this.h1=c,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&mi|e*36045&ls,n=n*4283543511&mi|((n<<16|e>>>16)*2950163797&mi)>>>16,e^=n>>>1,e=e*444984403&mi|e*60499&ls,n=n*3301882366&mi|((n<<16|e>>>16)*3120437893&mi)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const DA=Object.freeze({map:null,hash:"",transfer:void 0});class UE{#e=!1;#t=null;#r=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const r=this.#n.get(e);return r===void 0?n:Object.assign(n,r)}getRawValue(e){return this.#n.get(e)}remove(e){const n=this.#n.get(e);if(n!==void 0&&(n instanceof De&&this.#r.delete(n.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const r of this.#n.values())if(r instanceof De)return;this.onAnnotationEditor(null)}}setValue(e,n){const r=this.#n.get(e);let i=!1;if(r!==void 0)for(const[s,a]of Object.entries(n))r[s]!==a&&(i=!0,r[s]=a);else i=!0,this.#n.set(e,n);i&&this.#a(),n instanceof De&&((this.#r||=new Map).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#a(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new NV(this)}get serializable(){if(this.#n.size===0)return DA;const e=new Map,n=new kV,r=[],i=Object.create(null);let s=!1;for(const[a,o]of this.#n){const l=o instanceof De?o.serialize(!1,i):o;l&&(e.set(a,l),n.update(`${a}:${JSON.stringify(l)}`),s||=!!l.bitmap)}if(s)for(const a of e.values())a.bitmap&&r.push(a.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:r}:DA}get editorStats(){let e=null;const n=new Map;let r=0,i=0;for(const s of this.#n.values()){if(!(s instanceof De)){s.popup&&(s.popup.deleted?i+=1:r+=1);continue}s.isCommentDeleted?i+=1:s.hasEditedComment&&(r+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;n.has(o)||n.set(o,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const l=e[o]||=new Map;for(const[c,d]of Object.entries(a)){if(c==="type")continue;let h=l.get(c);h||(h=new Map,l.set(c,h));const m=h.get(d)??0;h.set(d,m+1)}}if((i>0||r>0)&&(e||=Object.create(null),e.comments={deleted:i,edited:r}),!e)return null;for(const[s,a]of n)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,n){const r=this.#r?.get(e);return r?(r.updateFromAnnotationLayer(n),!0):!1}getEditor(e){return this.#r?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#r)for(const n of this.#r.values())n.serialize()&&e.push(n.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class NV extends UE{#e;constructor(e){super();const{map:n,hash:r,transfer:i}=e.serializable,s=structuredClone(n,i?{transfer:i}:null);this.#e={map:s,hash:r,transfer:i}}get print(){Pt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Je(this,"modifiedIds",{ids:new Set,hash:""})}}class uue{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:r}){if(!(!e||this.#e.has(e.loadedName))){if(ot(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:i,src:s,style:a}=e,o=new FontFace(i,s,a);this.addNativeFontFace(o);try{await o.load(),this.#e.add(i),r?.(e)}catch{Ke(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Pt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const r=e.createNativeFontFace();if(r){this.addNativeFontFace(r);try{await r.loaded}catch(i){throw Ke(`Failed to load font '${r.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(r=>{const i=this._queueLoadingCallback(r);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Je(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Je(this,"isSyncFontLoadingSupported",gr||nr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(ot(!i.done,"completeRequest() cannot be called twice."),i.done=!0;r.length>0&&r[0].done;){const s=r.shift();setTimeout(s.callback,0)}}const{loadingRequests:r}=this,i={done:!1,complete:n,callback:e};return r.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Je(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function r(E,P){return E.charCodeAt(P)<<24|E.charCodeAt(P+1)<<16|E.charCodeAt(P+2)<<8|E.charCodeAt(P+3)&255}function i(E,P,T,k){const O=E.substring(0,P),R=E.substring(P+T);return O+k+R}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let c=0;function d(E,P){if(++c>30){Ke("Load test font never loaded."),P();return}if(l.font="30px "+E,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){P();return}setTimeout(d.bind(null,E,P))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let m=this._loadTestFont;m=i(m,976,h.length,h);const x=16,y=1482184792;let b=r(m,x);for(s=0,a=h.length-3;s<a;s+=4)b=b-y+r(h,s)|0;s<h.length&&(b=b-y+r(h+"XXX",s)|0),m=i(m,x,4,Wce(b));const w=`url(data:font/opentype;base64,${btoa(m)});`,A=`@font-face {font-family:"${h}";src:${w}}`;this.insertRule(A);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const E of[e.loadedName,h]){const P=this._document.createElement("span");P.textContent="Hi",P.style.fontFamily=E,_.append(P)}this._document.body.append(_),d(h,()=>{_.remove(),n.complete()})}}class due{#e;constructor(e,n=null,r,i){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=n,r&&Object.assign(this,r),i&&(this.charProcOperatorList=i)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${CV(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return this._inspectFont?.(this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const r=this.loadedName+"_path_"+n;let i;try{i=e.get(r)}catch(a){Ke(`getPathGenerator - ignoring character: "${a}".`)}const s=TV(i);return this.fontExtraProperties||e.delete(r),this.compiledGlyphs[n]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class wc{#e;#t;#r;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const n=new TextEncoder,r={};let i=0;for(const c of wc.strings){const d=n.encode(e[c]);r[c]=d,i+=4+d.length}const s=new ArrayBuffer(i),a=new Uint8Array(s),o=new DataView(s);let l=0;for(const c of wc.strings){const d=r[c],h=d.length;o.setUint32(l,h),a.set(d,l+4),l+=4+h}return ot(l===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}#n(e){ot(e<wc.strings.length,"Invalid string index");let n=0;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Sc{#e;#t;#r;static strings=["css","loadedName","baseFontName","src"];static write(e){const n=new TextEncoder,r={};let i=0;for(const m of Sc.strings){const g=n.encode(e[m]);r[m]=g,i+=4+g.length}i+=4;let s,a,o=1+i;e.style&&(s=n.encode(e.style.style),a=n.encode(e.style.weight),o+=4+s.length+4+a.length);const l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,i=0;for(const m of Sc.strings){const g=r[m],x=g.length;i+=4+x,d.setUint32(h,x),c.set(g,h+4),h+=4+x}return d.setUint32(h-i-4,i),e.style&&(d.setUint32(h,s.length),c.set(s,h+4),h+=4+s.length,d.setUint32(h,a.length),c.set(a,h+4),h+=4+a.length),ot(h<=l.byteLength,"SubstitionInfo.write: Buffer overflow"),l.transferToFixedLength(h)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#r=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){ot(e<Sc.strings.length,"Invalid string index");let n=5;for(let i=0;i<e;i++)n+=this.#t.getUint32(n)+4;const r=this.#t.getUint32(n);return this.#r.decode(new Uint8Array(this.#e,n+4,r))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const n=this.#t.getUint32(e),r=this.#r.decode(new Uint8Array(this.#e,e+4,n));e+=4+n;const i=this.#t.getUint32(e),s=this.#r.decode(new Uint8Array(this.#e,e+4,i));return{style:r,weight:s}}}class St{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#r=this.#t+1+8;static#n=this.#r+1+48;static#a=this.#n+1+6;#s;#i;#o;constructor({data:e,extra:n}){this.#s=e,this.#i=new TextDecoder,this.#o=new DataView(this.#s),n&&Object.assign(this,n)}#c(e){ot(e<St.bools.length,"Invalid boolean index");const n=Math.floor(e/4),r=e*2%8,i=this.#o.getUint8(n)>>r&3;return i===0?void 0:i===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return ot(e<St.numbers.length,"Invalid number index"),this.#o.getFloat64(St.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=St.#t;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<4;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}get fontMatrix(){let e=St.#r;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<6;i++)r.push(this.#o.getFloat64(e,!0)),e+=8;return r}get defaultVMetrics(){let e=St.#n;if(this.#o.getUint8(e)===0)return;e+=1;const r=[];for(let i=0;i<3;i++)r.push(this.#o.getInt16(e,!0)),e+=2;return r}#h(e){ot(e<St.strings.length,"Invalid string index");let n=St.#a+4;for(let s=0;s<e;s++)n+=this.#o.getUint32(n)+4;const r=this.#o.getUint32(n),i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,n+4,r)),this.#i.decode(i)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=St.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#s,e+4,s)}clearData(){let e=St.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);e+=4+i;const s=this.#o.getUint32(e);new Uint8Array(this.#s,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=St.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);e+=4+r;const i=this.#o.getUint32(e);if(i===0)return null;const s=new Uint8Array(i);return s.set(new Uint8Array(this.#s,e+4,i)),new wc(s.buffer)}get systemFontInfo(){let e=St.#a;const n=this.#o.getUint32(e);e+=4+n;const r=this.#o.getUint32(e);if(r===0)return null;const i=new Uint8Array(r);return i.set(new Uint8Array(this.#s,e+4,r)),new Sc(i.buffer)}static write(e){const n=e.systemFontInfo?Sc.write(e.systemFontInfo):null,r=e.cssFontInfo?wc.write(e.cssFontInfo):null,i=new TextEncoder,s={};let a=0;for(const y of St.strings)s[y]=i.encode(e[y]),a+=4+s[y].length;const o=St.#a+4+a+4+(n?n.byteLength:0)+4+(r?r.byteLength:0)+4+(e.data?e.data.length:0),l=new ArrayBuffer(o),c=new Uint8Array(l),d=new DataView(l);let h=0;const m=St.bools.length;let g=0,x=0;for(let y=0;y<m;y++){const b=e[St.bools[y]];g|=(b===void 0?0:b?2:1)<<x,x+=2,(x===8||y===m-1)&&(d.setUint8(h++,g),g=0,x=0)}ot(h===St.#e,"FontInfo.write: Boolean properties offset mismatch");for(const y of St.numbers)d.setFloat64(h,e[y]),h+=8;if(ot(h===St.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const y of e.bbox)d.setInt16(h,y,!0),h+=2}else d.setUint8(h++,0),h+=8;if(ot(h===St.#r,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const y of e.fontMatrix)d.setFloat64(h,y,!0),h+=8}else d.setUint8(h++,0),h+=48;if(ot(h===St.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const y of e.defaultVMetrics)d.setInt16(h,y,!0),h+=2}else d.setUint8(h++,0),h+=6;ot(h===St.#a,"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(St.#a,0),h+=4;for(const y of St.strings){const b=s[y],w=b.length;d.setUint32(h,w),c.set(b,h+4),h+=4+w}if(d.setUint32(St.#a,h-St.#a-4),!n)d.setUint32(h,0),h+=4;else{const y=n.byteLength;d.setUint32(h,y),ot(h+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(n),h+4),h+=4+y}if(!r)d.setUint32(h,0),h+=4;else{const y=r.byteLength;d.setUint32(h,y),ot(h+4+y<=l.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(r),h+4),h+=4+y}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),c.set(e.data,h+4),h+=4+e.data.length),ot(h<=l.byteLength,"FontInfo.write: Buffer overflow"),l.transferToFixedLength(h)}}class Rn{static#e=0;static#t=1;static#r=2;static#n=3;static#a=4;static#s=8;static#i=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,r=null,i=[],s=[],a=[],o=[],l=null,c=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,r=e[2],a=e[3],n===1?i.push(...e[4],...e[5]):i.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,l=e[1],i=e[2],s=e[3],o=e[4]||[],r=e[6],c=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(i.length/2),h=Math.floor(s.length/3),m=a.length,g=o.length;let x=0;for(const P of o)x+=1,x=Math.ceil(x/4)*4,x+=4+P.coords.length*4,x+=4+P.colors.length*4,P.verticesPerRow!==void 0&&(x+=4);const y=20+d*8+h*3+m*8+(r?16:0)+(c?3:0)+x,b=new ArrayBuffer(y),w=new DataView(b),A=new Uint8Array(b);w.setUint8(Rn.#e,n),w.setUint8(Rn.#t,r?1:0),w.setUint8(Rn.#r,c?1:0),w.setUint8(Rn.#n,l),w.setUint32(Rn.#a,d,!0),w.setUint32(Rn.#s,h,!0),w.setUint32(Rn.#i,m,!0),w.setUint32(Rn.#o,g,!0);let _=20;new Float32Array(b,_,d*2).set(i),_+=d*8,A.set(s,_),_+=h*3;for(const[P,T]of a)w.setFloat32(_,P,!0),_+=4,w.setUint32(_,parseInt(T.slice(1),16),!0),_+=4;if(r)for(const P of r)w.setFloat32(_,P,!0),_+=4;c&&(A.set(c,_),_+=3);for(let P=0;P<o.length;P++){const T=o[P];w.setUint8(_,T.type),_+=1,_=Math.ceil(_/4)*4,w.setUint32(_,T.coords.length,!0),_+=4,new Int32Array(b,_,T.coords.length).set(T.coords),_+=T.coords.length*4,w.setUint32(_,T.colors.length,!0),_+=4,new Int32Array(b,_,T.colors.length).set(T.colors),_+=T.colors.length*4,T.verticesPerRow!==void 0&&(w.setUint32(_,T.verticesPerRow,!0),_+=4)}return b}getIR(){const e=this.view,n=this.data[Rn.#e],r=!!this.data[Rn.#t],i=!!this.data[Rn.#r],s=e.getUint32(Rn.#a,!0),a=e.getUint32(Rn.#s,!0),o=e.getUint32(Rn.#i,!0),l=e.getUint32(Rn.#o,!0);let c=20;const d=new Float32Array(this.buffer,c,s*2);c+=s*8;const h=new Uint8Array(this.buffer,c,a*3);c+=a*3;const m=[];for(let b=0;b<o;++b){const w=e.getFloat32(c,!0);c+=4;const A=e.getUint32(c,!0);c+=4,m.push([w,`#${A.toString(16).padStart(6,"0")}`])}let g=null;if(r){g=[];for(let b=0;b<4;++b)g.push(e.getFloat32(c,!0)),c+=4}let x=null;i&&(x=new Uint8Array(this.buffer,c,3),c+=3);const y=[];for(let b=0;b<l;++b){const w=e.getUint8(c);c+=1,c=Math.ceil(c/4)*4;const A=e.getUint32(c,!0);c+=4;const _=new Int32Array(this.buffer,c,A);c+=A*4;const E=e.getUint32(c,!0);c+=4;const P=new Int32Array(this.buffer,c,E);c+=E*4;const T={type:w,coords:_,colors:P};w===jA.LATTICE&&(T.verticesPerRow=e.getUint32(c,!0),c+=4),y.push(T)}if(n===1)return["RadialAxial","axial",g,m,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",g,m,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(n===3){const b=this.data[Rn.#n];let w=null;if(d.length>0){let A=d[0],_=d[0],E=d[1],P=d[1];for(let T=0;T<d.length;T+=2){const k=d[T],O=d[T+1];A=A>k?k:A,E=E>O?O:E,_=_<k?k:_,P=P<O?O:P}w=[A,E,_,P]}return["Mesh",b,d,h,y,w,g,x]}throw new Error(`Unsupported pattern kind: ${n}`)}}function hue(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(gr)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function fue(t){if(gr&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return Ff(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t?.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Tm(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const RA=t=>typeof t=="object"&&Number.isInteger(t?.num)&&t.num>=0&&Number.isInteger(t?.gen)&&t.gen>=0,pue=t=>typeof t=="object"&&typeof t?.name=="string",mue=Yce.bind(null,RA,pue);class gue{#e=new Map;#t=Promise.resolve();postMessage(e,n){const r={data:structuredClone(e,n?{transfer:n}:null)};this.#t.then(()=>{for(const[i]of this.#e)i.call(this,r)})}addEventListener(e,n,r=null){let i=null;if(r?.signal instanceof AbortSignal){const{signal:s}=r;if(s.aborted){Ke("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,n);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}this.#e.set(n,i)}removeEventListener(e,n){this.#e.get(n)?.(),this.#e.delete(n)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const jm={DATA:1,ERROR:2},hn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function _2(){}function Or(t){if(t instanceof Ja||t instanceof kA||t instanceof m2||t instanceof kg||t instanceof k0)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||Pt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Ja(t.message);case"InvalidPDFException":return new kA(t.message);case"PasswordException":return new m2(t.message,t.code);case"ResponseException":return new kg(t.message,t.status,t.missing);case"UnknownErrorException":return new k0(t.message,t.details)}return new k0(t.message,t.toString())}class Hd{#e=new AbortController;constructor(e,n,r){this.sourceName=e,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),r.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const r=e.callbackId,i=this.callbackCapabilities[r];if(!i)throw new Error(`Cannot resolve callback ${r}`);if(delete this.callbackCapabilities[r],e.callback===jm.DATA)i.resolve(e.data);else if(e.callback===jm.ERROR)i.reject(Or(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const r=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(n,e.data).then(function(a){s.postMessage({sourceName:r,targetName:i,callback:jm.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:r,targetName:i,callback:jm.ERROR,callbackId:e.callbackId,reason:Or(a)})});return}if(e.streamId){this.#r(e);return}n(e.data)}on(e,n){const r=this.actionHandler;if(r[e])throw new Error(`There is already an actionName called "${e}"`);r[e]=n}send(e,n,r){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},r)}sendWithPromise(e,n,r){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:n},r)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,n,r,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:c=>{const d=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:n,desiredSize:c.desiredSize},i),d.promise},pull:c=>{const d=Promise.withResolvers();return this.streamControllers[s].pullCall=d,l.postMessage({sourceName:a,targetName:o,stream:hn.PULL,streamId:s,desiredSize:c.desiredSize}),d.promise},cancel:c=>{ot(c instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[s].cancelCall=d,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:hn.CANCEL,streamId:s,reason:Or(c)}),d.promise}},r)}#r(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(c,d=1,h){if(this.isCancelled)return;const m=this.desiredSize;this.desiredSize-=d,m>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:r,targetName:i,stream:hn.ENQUEUE,streamId:n,chunk:c},h)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.CLOSE,streamId:n}),delete a.streamSinks[n])},error(c){ot(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:r,targetName:i,stream:hn.ERROR,streamId:n,reason:Or(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[n]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.START_COMPLETE,streamId:n,reason:Or(c)})})}#n(e){const n=e.streamId,r=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case hn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(Or(e.reason));break;case hn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(Or(e.reason));break;case hn.PULL:if(!o){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||_2).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.PULL_COMPLETE,streamId:n,reason:Or(c)})});break;case hn.ENQUEUE:if(ot(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case hn.CLOSE:if(ot(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),this.#a(a,n);break;case hn.ERROR:ot(a,"error should have stream controller"),a.controller.error(Or(e.reason)),this.#a(a,n);break;case hn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(Or(e.reason)),this.#a(a,n);break;case hn.CANCEL:if(!o)break;const l=Or(e.reason);Promise.try(o.onCancel||_2,l).then(function(){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,success:!0})},function(c){s.postMessage({sourceName:r,targetName:i,stream:hn.CANCEL_COMPLETE,streamId:n,reason:Or(c)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}}async#a(e,n){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[n]}destroy(){this.#e?.abort(),this.#e=null}}class OV{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const r=this._createCanvas(e,n);return{canvas:r,context:r.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,n,r){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||r<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=r}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){Pt("Abstract method `_createCanvas` called.")}}class vue extends OV{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const r=this._document.createElement("canvas");return r.width=e,r.height=n,r}}class MV{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(r=>({cMapData:r,isCompressed:this.isCompressed})).catch(r=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){Pt("Abstract method `_fetch` called.")}}class A2 extends MV{async _fetch(e){const n=await $f(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):Ff(n)}}class DV{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,r,i,s){return"none"}destroy(e=!1){}}class yue extends DV{#e;#t;#r;#n;#a;#s;#i=0;constructor({docId:e,ownerDocument:n=globalThis.document}){super(),this.#n=e,this.#a=n}get#o(){return this.#t||=new Map}get#c(){return this.#s||=new Map}get#l(){if(!this.#r){const e=this.#a.createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=this.#a.createElementNS(Vs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),this.#r=this.#a.createElementNS(Vs,"defs"),e.append(r),r.append(this.#r),this.#a.body.append(e)}return this.#r}#h(e){if(e.length===1){const l=e[0],c=new Array(256);for(let h=0;h<256;h++)c[h]=l[h]/255;const d=c.join(",");return[d,d,d]}const[n,r,i]=e,s=new Array(256),a=new Array(256),o=new Array(256);for(let l=0;l<256;l++)s[l]=n[l]/255,a[l]=r[l]/255,o[l]=i[l]/255;return[s.join(","),a.join(","),o.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const n=this.#a.URL;n!==this.#a.baseURI&&(fy(n)?Ke('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=SV(n,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let n=this.#o.get(e);if(n)return n;const[r,i,s]=this.#h(e),a=e.length===1?r:`${r}${i}${s}`;if(n=this.#o.get(a),n)return this.#o.set(e,n),n;const o=`g_${this.#n}_transfer_map_${this.#i++}`,l=this.#d(o);this.#o.set(e,l),this.#o.set(a,l);const c=this.#m(o);return this.#p(r,i,s,c),l}addHCMFilter(e,n){const r=`${e}-${n}`,i="base";let s=this.#c.get(i);if(s?.key===r||(s?(s.filter?.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},this.#c.set(i,s)),!e||!n))return s.url;const a=this.#b(e);e=Ae.makeHexColor(...a);const o=this.#b(n);if(n=Ae.makeHexColor(...o),this.#l.style.color="",e==="#000000"&&n==="#ffffff"||e===n)return s.url;const l=new Array(256);for(let g=0;g<=255;g++){const x=g/255;l[g]=x<=.03928?x/12.92:((x+.055)/1.055)**2.4}const c=l.join(","),d=`g_${this.#n}_hcm_filter`,h=s.filter=this.#m(d);this.#p(c,c,c,h),this.#g(h);const m=(g,x)=>{const y=a[g]/255,b=o[g]/255,w=new Array(x+1);for(let A=0;A<=x;A++)w[A]=y+A/x*(b-y);return w.join(",")};return this.#p(m(0,5),m(1,5),m(2,5),h),s.url=this.#d(d),s.url}addAlphaFilter(e){let n=this.#o.get(e);if(n)return n;const[r]=this.#h([e]),i=`alpha_${r}`;if(n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_alpha_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#v(r,o),a}addLuminosityFilter(e){let n=this.#o.get(e||"luminosity");if(n)return n;let r,i;if(e?([r]=this.#h([e]),i=`luminosity_${r}`):i="luminosity",n=this.#o.get(i),n)return this.#o.set(e,n),n;const s=`g_${this.#n}_luminosity_map_${this.#i++}`,a=this.#d(s);this.#o.set(e,a),this.#o.set(i,a);const o=this.#m(s);return this.#f(o),e&&this.#v(r,o),a}addHighlightHCMFilter(e,n,r,i,s){const a=`${n}-${r}-${i}-${s}`;let o=this.#c.get(e);if(o?.key===a||(o?(o.filter?.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},this.#c.set(e,o)),!n||!r))return o.url;const[l,c]=[n,r].map(this.#b.bind(this));let d=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),[m,g]=[i,s].map(this.#b.bind(this));h<d&&([d,h,m,g]=[h,d,g,m]),this.#l.style.color="";const x=(w,A,_)=>{const E=new Array(256),P=(h-d)/_,T=w/255,k=(A-w)/(255*_);let O=0;for(let R=0;R<=_;R++){const F=Math.round(d+R*P),M=T+R*k;for(let D=O;D<=F;D++)E[D]=M;O=F+1}for(let R=O;R<256;R++)E[R]=E[O-1];return E.join(",")},y=`g_${this.#n}_hcm_${e}_filter`,b=o.filter=this.#m(y);return this.#g(b),this.#p(x(m[0],g[0],5),x(m[1],g[1],5),x(m[2],g[2],5),b),o.url=this.#d(y),o.url}destroy(e=!1){e&&this.#s?.size||(this.#r?.parentNode.parentNode.remove(),this.#r=null,this.#t?.clear(),this.#t=null,this.#s?.clear(),this.#s=null,this.#i=0)}#f(e){const n=this.#a.createElementNS(Vs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)}#g(e){const n=this.#a.createElementNS(Vs,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)}#m(e){const n=this.#a.createElementNS(Vs,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),this.#l.append(n),n}#u(e,n,r){const i=this.#a.createElementNS(Vs,n);i.setAttribute("type","discrete"),i.setAttribute("tableValues",r),e.append(i)}#p(e,n,r,i){const s=this.#a.createElementNS(Vs,"feComponentTransfer");i.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",n),this.#u(s,"feFuncB",r)}#v(e,n){const r=this.#a.createElementNS(Vs,"feComponentTransfer");n.append(r),this.#u(r,"feFuncA",e)}#b(e){return this.#l.style.color=e,Uf(getComputedStyle(this.#l).getPropertyValue("color"))}}class RV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){Pt("Abstract method `_fetch` called.")}}class C2 extends RV{async _fetch(e){const n=await $f(e,"arraybuffer");return new Uint8Array(n)}}class IV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(r=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){Pt("Abstract method `_fetch` called.")}}class P2 extends IV{async _fetch(e){const n=await $f(e,"arraybuffer");return new Uint8Array(n)}}gr&&Ke("Please use the `legacy` build in Node.js environments.");async function zE(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class bue extends DV{}class xue extends OV{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class wue extends MV{async _fetch(e){return zE(e)}}class Sue extends RV{async _fetch(e){return zE(e)}}class _ue extends IV{async _fetch(e){return zE(e)}}const Xl="__forcedDependency",{floor:E2,ceil:T2}=Math;function km(t,e,n,r,i,s){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],r),t[e*4+2]=Math.max(t[e*4+2],i),t[e*4+3]=Math.max(t[e*4+3],s)}const IA=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class Aue{#e;#t;constructor(e,n){this.#e=e,this.#t=n}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===IA}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const Nm=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};class Cue{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[Xl]:[]};#r=new Map;#n=[];#a=[];#s=[[1,0,0,1,0,0]];#i=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(e,n,r=!1){this.#f=e.width,this.#g=e.height,this.#v(n),r&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,n){const r=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(r),this.#u=new Uint32Array(r),n&&n.length>0?(this.#u.set(n),this.#u.fill(IA,n.length)):this.#u.fill(IA)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[Xl]:{__proto__:this.#t[Xl]}},this.#i={__proto__:this.#i},this.#n.push(e),this}restore(e){const n=Object.getPrototypeOf(this.#e);if(n===null)return this;this.#e=n,this.#t=Object.getPrototypeOf(this.#t),this.#i=Object.getPrototypeOf(this.#i);const r=this.#n.pop();return r!==void 0&&(Nm(this.#p,e)?.dependencies.add(r),this.#u[e]=this.#u[r]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const n=this.#n.pop();return n!==void 0&&(Nm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}beginMarkedContent(e){return this.#a.push(e),this}endMarkedContent(e){const n=this.#a.pop();return n!==void 0&&(Nm(this.#p,e)?.dependencies.add(n),this.#u[e]=this.#u[n]),this}pushBaseTransform(e){return this.#s.push(Ae.multiplyByDOMMatrix(this.#s.at(-1),e.getTransform())),this}popBaseTransform(){return this.#s.length>1&&this.#s.pop(),this}recordSimpleData(e,n){return this.#e[e]=n,this}recordIncrementalData(e,n){return this.#t[e].push(n),this}resetIncrementalData(e,n){return this.#t[e].length=0,this}recordNamedData(e,n){return this.#r.set(e,n),this}recordSimpleDataFromNamed(e,n,r){this.#e[e]=this.#r.get(n)??r}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Xl,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in this.#e&&this.recordFutureForcedDependency(n,this.#e[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(Xl,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,n,r,i,s,a){const o=Ae.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform()),l=[1/0,1/0,-1/0,-1/0];Ae.axialAlignedBoundingBox([r,s,i,a],o,l);const c=Ae.intersect(this.#i,l);return c?(this.#i[0]=c[0],this.#i[1]=c[1],this.#i[2]=c[2],this.#i[3]=c[3]):(this.#i[0]=this.#i[1]=1/0,this.#i[2]=this.#i[3]=-1/0),this}recordBBox(e,n,r,i,s,a){const o=this.#i;if(o[0]===1/0)return this;const l=Ae.multiplyByDOMMatrix(this.#s.at(-1),n.getTransform());if(o[0]===-1/0)return Ae.axialAlignedBoundingBox([r,s,i,a],l,this.#o),this;const c=[1/0,1/0,-1/0,-1/0];return Ae.axialAlignedBoundingBox([r,s,i,a],l,c),this.#o[0]=Math.min(this.#o[0],Math.max(c[0],o[0])),this.#o[1]=Math.min(this.#o[1],Math.max(c[1],o[1])),this.#o[2]=Math.max(this.#o[2],Math.min(c[2],o[2])),this.#o[3]=Math.max(this.#o[3],Math.min(c[3],o[3])),this}recordCharacterBBox(e,n,r,i=1,s=0,a=0,o){const l=r.bbox;let c,d;if(l&&(c=l[2]!==l[0]&&l[3]!==l[1]&&this.#d.get(r),c!==!1&&(d=[0,0,0,0],Ae.axialAlignedBoundingBox(l,r.fontMatrix,d),(i!==1||s!==0||a!==0)&&Ae.scaleMinMax([i,0,0,-i,s,a],d),c)))return this.recordBBox(e,n,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return l&&d&&c===void 0&&(c=d[0]<=s-h.actualBoundingBoxLeft&&d[2]>=s+h.actualBoundingBoxRight&&d[1]<=a-h.actualBoundingBoxAscent&&d[3]>=a+h.actualBoundingBoxDescent,this.#d.set(r,c),c)?this.recordBBox(e,n,d[0],d[2],d[1],d[3]):this.recordBBox(e,n,s-h.actualBoundingBoxLeft,s+h.actualBoundingBoxRight,a-h.actualBoundingBoxAscent,a+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#i[0]),this.#o[1]=Math.max(0,this.#i[1]),this.#o[2]=Math.min(this.#f,this.#i[2]),this.#o[3]=Math.min(this.#g,this.#i[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,n){const r=this.#l,i=this.#e,s=this.#t;for(const a of n)a in this.#e?r.add(i[a]):a in s&&s[a].forEach(r.add,r);return this}recordNamedDependency(e,n){return this.#r.has(n)&&this.#l.add(this.#r.get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Xl]),this.#p){const r=Nm(this.#p,e),{dependencies:i}=r;this.#l.forEach(i.add,i),this.#n.forEach(i.add,i),this.#a.forEach(i.add,i),i.delete(e),r.isRenderingOperation=!0}if(this.#c===e){const r=E2(this.#o[0]*256/this.#f),i=E2(this.#o[1]*256/this.#g),s=T2(this.#o[2]*256/this.#f),a=T2(this.#o[3]*256/this.#g);km(this.#m,e,r,i,s,a);for(const o of this.#l)o!==e&&km(this.#m,o,r,i,s,a);for(const o of this.#n)o!==e&&km(this.#m,o,r,i,s,a);for(const o of this.#a)o!==e&&km(this.#m,o,r,i,s,a);n||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,n=!1){const r=Array.from(this.#l);this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const i of r)this.recordIncrementalData("sameLineText",i);return this}bboxToClipBoxDropOperation(e,n=!1){return this.#c===e&&(this.#c=-1,this.#i[0]=Math.max(this.#i[0],this.#o[0]),this.#i[1]=Math.max(this.#i[1],this.#o[1]),this.#i[2]=Math.min(this.#i[2],this.#o[2]),this.#i[3]=Math.min(this.#i[3],this.#o[3]),n||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const n=this.#h.get(e);return this.#h.delete(e),n}_pushPendingDependencies(e){for(const n of e)this.#l.add(n)}take(){return this.#d.clear(),new Aue(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Ng{#e;#t;#r;#n=0;#a=0;constructor(e,n,r){if(e instanceof Ng&&e.#r===!!r)return e;this.#e=e,this.#t=n,this.#r=!!r}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#a++,this.#e.save(this.#t),this}restore(e){return this.#a>0&&(this.#e.restore(this.#t),this.#a--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,n){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,n){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,n){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,r){return this.#e.recordSimpleDataFromNamed(e,n,this.#t),this}recordFutureForcedDependency(e,n){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#r||this.#e.resetBBox(this.#t),this}recordClipBox(e,n,r,i,s,a){return this.#r||this.#e.recordClipBox(this.#t,n,r,i,s,a),this}recordBBox(e,n,r,i,s,a){return this.#r||this.#e.recordBBox(this.#t,n,r,i,s,a),this}recordCharacterBBox(e,n,r,i,s,a,o){return this.#r||this.#e.recordCharacterBBox(this.#t,n,r,i,s,a,o),this}recordFullPageBBox(e){return this.#r||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,n){return this.#e.recordDependencies(this.#t,n),this}recordNamedDependency(e,n){return this.#e.recordNamedDependency(this.#t,n),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#r||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const gi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},er={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function LA(t,e){if(!e)return;const n=e[2]-e[0],r=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],n,r),t.clip(i)}class VE{isModifyingCurrentTransform(){return!1}getPattern(){Pt("Abstract method `getPattern` called.")}}class Pue extends VE{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let n;this._type==="axial"?n=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(n=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const r of this._colorStops)n.addColorStop(r[0],r[1]);return n}getPattern(e,n,r,i){let s;if(i===er.STROKE||i===er.FILL){const a=n.current.getClippedPathBoundingBox(i,Ht(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,c=n.cachedCanvases.getCanvas("pattern",o,l),d=c.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-a[0],-a[1]),r=Ae.transform(r,[1,0,0,1,a[0],a[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),LA(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),s=e.createPattern(c.canvas,"no-repeat");const h=new DOMMatrix(r);s.setTransform(h)}else LA(e,this._bbox),s=this._createGradient(e);return s}}function M0(t,e,n,r,i,s,a,o){const l=e.coords,c=e.colors,d=t.data,h=t.width*4;let m;l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m),l[r+1]>l[i+1]&&(m=r,r=i,i=m,m=a,a=o,o=m),l[n+1]>l[r+1]&&(m=n,n=r,r=m,m=s,s=a,a=m);const g=(l[n]+e.offsetX)*e.scaleX,x=(l[n+1]+e.offsetY)*e.scaleY,y=(l[r]+e.offsetX)*e.scaleX,b=(l[r+1]+e.offsetY)*e.scaleY,w=(l[i]+e.offsetX)*e.scaleX,A=(l[i+1]+e.offsetY)*e.scaleY;if(x>=A)return;const _=c[s],E=c[s+1],P=c[s+2],T=c[a],k=c[a+1],O=c[a+2],R=c[o],F=c[o+1],M=c[o+2],D=Math.round(x),$=Math.round(A);let W,H,V,U,L,G,Q,B;for(let K=D;K<=$;K++){if(K<b){const ie=K<x?0:(x-K)/(x-b);W=g-(g-y)*ie,H=_-(_-T)*ie,V=E-(E-k)*ie,U=P-(P-O)*ie}else{let ie;K>A?ie=1:b===A?ie=0:ie=(b-K)/(b-A),W=y-(y-w)*ie,H=T-(T-R)*ie,V=k-(k-F)*ie,U=O-(O-M)*ie}let Z;K<x?Z=0:K>A?Z=1:Z=(x-K)/(x-A),L=g-(g-w)*Z,G=_-(_-R)*Z,Q=E-(E-F)*Z,B=P-(P-M)*Z;const ae=Math.round(Math.min(W,L)),ce=Math.round(Math.max(W,L));let pe=h*K+ae*4;for(let ie=ae;ie<=ce;ie++)Z=(W-ie)/(W-L),Z<0?Z=0:Z>1&&(Z=1),d[pe++]=H-(H-G)*Z|0,d[pe++]=V-(V-Q)*Z|0,d[pe++]=U-(U-B)*Z|0,d[pe++]=255}}function Eue(t,e,n){const r=e.coords,i=e.colors;let s,a;switch(e.type){case jA.LATTICE:const o=e.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let d=s*o;for(let h=0;h<c;h++,d++)M0(t,n,r[d],r[d+1],r[d+o],i[d],i[d+1],i[d+o]),M0(t,n,r[d+o+1],r[d+1],r[d+o],i[d+o+1],i[d+1],i[d+o])}break;case jA.TRIANGLES:for(s=0,a=r.length;s<a;s+=3)M0(t,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class Tue extends VE{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,r){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-l,h=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),m=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),g=c/h,x=d/m,y={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/g,scaleY:1/x},b=h+4,w=m+4,A=r.getCanvas("mesh",b,w),_=A.context,E=_.createImageData(h,m);if(n){const T=E.data;for(let k=0,O=T.length;k<O;k+=4)T[k]=n[0],T[k+1]=n[1],T[k+2]=n[2],T[k+3]=255}for(const T of this._figures)Eue(E,T,y);return _.putImageData(E,2,2),{canvas:A.canvas,offsetX:o-2*g,offsetY:l-2*x,scaleX:g,scaleY:x}}isModifyingCurrentTransform(){return!0}getPattern(e,n,r,i){LA(e,this._bbox);const s=new Float32Array(2);if(i===er.SHADING)Ae.singularValueDecompose2dScale(Ht(e),s);else if(this.matrix){Ae.singularValueDecompose2dScale(this.matrix,s);const[o,l]=s;Ae.singularValueDecompose2dScale(n.baseTransform,s),s[0]*=o,s[1]*=l}else Ae.singularValueDecompose2dScale(n.baseTransform,s);const a=this._createMeshCanvas(s,i===er.SHADING?null:this._background,n.cachedCanvases);return i!==er.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class jue extends VE{getPattern(){return"hotpink"}}function kue(t){switch(t[0]){case"RadialAxial":return new Pue(t);case"Mesh":return new Tue(t);case"Dummy":return new jue}throw new Error(`Unknown IR type: ${t[0]}`)}const j2={COLORED:1,UNCOLORED:2};class WE{static MAX_PATTERN_SIZE=3e3;constructor(e,n,r,i){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e,n){const{bbox:r,operatorList:i,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:l}=this;let{xstep:c,ystep:d}=this;c=Math.abs(c),d=Math.abs(d),hy("TilingType: "+a);const h=r[0],m=r[1],g=r[2],x=r[3],y=g-h,b=x-m,w=new Float32Array(2);Ae.singularValueDecompose2dScale(this.matrix,w);const[A,_]=w;Ae.singularValueDecompose2dScale(this.baseTransform,w);const E=A*w[0],P=_*w[1];let T=y,k=b,O=!1,R=!1;const F=Math.ceil(c*E),M=Math.ceil(d*P),D=Math.ceil(y*E),$=Math.ceil(b*P);F>=D?T=c:O=!0,M>=$?k=d:R=!0;const W=this.getSizeAndScale(T,this.ctx.canvas.width,E),H=this.getSizeAndScale(k,this.ctx.canvas.height,P),V=e.cachedCanvases.getCanvas("pattern",W.size,H.size),U=V.context,L=l.createCanvasGraphics(U,n);if(L.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(L,s,o),U.translate(-W.scale*h,-H.scale*m),L.transform(0,W.scale,0,0,H.scale,0,0),U.save(),L.dependencyTracker?.save(),this.clipBbox(L,h,m,g,x),L.baseTransform=Ht(L.ctx),L.executeOperatorList(i),L.endDrawing(),L.dependencyTracker?.restore(),U.restore(),O||R){const G=V.canvas;O&&(T=c),R&&(k=d);const Q=this.getSizeAndScale(T,this.ctx.canvas.width,E),B=this.getSizeAndScale(k,this.ctx.canvas.height,P),K=Q.size,Z=B.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",K,Z),ce=ae.context,pe=O?Math.floor(y/c):0,ie=R?Math.floor(b/d):0;for(let ee=0;ee<=pe;ee++)for(let te=0;te<=ie;te++)ce.drawImage(G,K*ee,Z*te,K,Z,0,0,K,Z);return{canvas:ae.canvas,scaleX:Q.scale,scaleY:B.scale,offsetX:h,offsetY:m}}return{canvas:V.canvas,scaleX:W.scale,scaleY:H.scale,offsetX:h,offsetY:m}}getSizeAndScale(e,n,r){const i=Math.max(WE.MAX_PATTERN_SIZE,n);let s=Math.ceil(e*r);return s>=i?s=i:r=s/e,{scale:r,size:s}}clipBbox(e,n,r,i,s){const a=i-n,o=s-r;e.ctx.rect(n,r,a,o),Ae.axialAlignedBoundingBox([n,r,i,s],Ht(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,r){const i=e.ctx,s=e.current;switch(n){case j2.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;i.fillStyle=s.fillColor=a,i.strokeStyle=s.strokeColor=o;break;case j2.UNCOLORED:i.fillStyle=i.strokeStyle=r,s.fillColor=s.strokeColor=r;break;default:throw new Vce(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,r,i,s){let a=r;i!==er.SHADING&&(a=Ae.transform(a,n.baseTransform),this.matrix&&(a=Ae.transform(a,this.matrix)));const o=this.createPatternCanvas(n,s);let l=new DOMMatrix(a);l=l.translate(o.offsetX,o.offsetY),l=l.scale(1/o.scaleX,1/o.scaleY);const c=e.createPattern(o.canvas,"repeat");return c.setTransform(l),c}}function Nue({src:t,srcPos:e=0,dest:n,width:r,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=nr.isLittleEndian?4278190080:255,[l,c]=a?[s,o]:[o,s],d=r>>3,h=r&7,m=t.length;n=new Uint32Array(n.buffer);let g=0;for(let x=0;x<i;x++){for(const b=e+d;e<b;e++){const w=e<m?t[e]:255;n[g++]=w&128?c:l,n[g++]=w&64?c:l,n[g++]=w&32?c:l,n[g++]=w&16?c:l,n[g++]=w&8?c:l,n[g++]=w&4?c:l,n[g++]=w&2?c:l,n[g++]=w&1?c:l}if(h===0)continue;const y=e<m?t[e++]:255;for(let b=0;b<h;b++)n[g++]=y&1<<7-b?c:l}return{srcPos:e,destPos:g}}const k2=16,N2=100,Oue=15,O2=10,Dr=16,D0=new DOMMatrix,Xr=new Float32Array(2),uc=new Float32Array([1/0,1/0,-1/0,-1/0]);function Mue(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,r){e.translate(n,r),this.__originalTranslate(n,r)},t.scale=function(n,r){e.scale(n,r),this.__originalScale(n,r)},t.transform=function(n,r,i,s,a,o){e.transform(n,r,i,s,a,o),this.__originalTransform(n,r,i,s,a,o)},t.setTransform=function(n,r,i,s,a,o){e.setTransform(n,r,i,s,a,o),this.__originalSetTransform(n,r,i,s,a,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,r){e.moveTo(n,r),this.__originalMoveTo(n,r)},t.lineTo=function(n,r){e.lineTo(n,r),this.__originalLineTo(n,r)},t.bezierCurveTo=function(n,r,i,s,a,o){e.bezierCurveTo(n,r,i,s,a,o),this.__originalBezierCurveTo(n,r,i,s,a,o)},t.rect=function(n,r,i,s){e.rect(n,r,i,s),this.__originalRect(n,r,i,s)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Due{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,r){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,n,r)):(i=this.canvasFactory.create(n,r),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function Om(t,e,n,r,i,s,a,o,l,c){const[d,h,m,g,x,y]=Ht(t);if(h===0&&m===0){const A=a*d+x,_=Math.round(A),E=o*g+y,P=Math.round(E),T=(a+l)*d+x,k=Math.abs(Math.round(T)-_)||1,O=(o+c)*g+y,R=Math.abs(Math.round(O)-P)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(g),_,P),t.drawImage(e,n,r,i,s,0,0,k,R),t.setTransform(d,h,m,g,x,y),[k,R]}if(d===0&&g===0){const A=o*m+x,_=Math.round(A),E=a*h+y,P=Math.round(E),T=(o+c)*m+x,k=Math.abs(Math.round(T)-_)||1,O=(a+l)*h+y,R=Math.abs(Math.round(O)-P)||1;return t.setTransform(0,Math.sign(h),Math.sign(m),0,_,P),t.drawImage(e,n,r,i,s,0,0,R,k),t.setTransform(d,h,m,g,x,y),[R,k]}t.drawImage(e,n,r,i,s,a,o,l,c);const b=Math.hypot(d,h),w=Math.hypot(m,g);return[b*l,w*c]}class M2{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=TA;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Yn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,n,r){r?.(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=uc.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=er.FILL,n=null){const r=this.minMax.slice();if(e===er.STROKE){n||Pt("Stroke bounding box must include transform."),Ae.singularValueDecompose2dScale(n,Xr);const i=Xr[0]*this.lineWidth/2,s=Xr[1]*this.lineWidth/2;r[0]-=i,r[1]-=s,r[2]+=i,r[3]+=s}return r}updateClipFromPath(){const e=Ae.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(uc,0)}getClippedPathBoundingBox(e=er.FILL,n=null){return Ae.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function D2(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,r=e.width,i=n%Dr,s=(n-i)/Dr,a=i===0?s:s+1,o=t.createImageData(r,Dr);let l=0,c;const d=e.data,h=o.data;let m,g,x,y;if(e.kind===ig.GRAYSCALE_1BPP){const b=d.byteLength,w=new Uint32Array(h.buffer,0,h.byteLength>>2),A=w.length,_=r+7>>3,E=4294967295,P=nr.isLittleEndian?4278190080:255;for(m=0;m<a;m++){for(x=m<s?Dr:i,c=0,g=0;g<x;g++){const T=b-l;let k=0;const O=T>_?r:T*8-7,R=O&-8;let F=0,M=0;for(;k<R;k+=8)M=d[l++],w[c++]=M&128?E:P,w[c++]=M&64?E:P,w[c++]=M&32?E:P,w[c++]=M&16?E:P,w[c++]=M&8?E:P,w[c++]=M&4?E:P,w[c++]=M&2?E:P,w[c++]=M&1?E:P;for(;k<O;k++)F===0&&(M=d[l++],F=128),w[c++]=M&F?E:P,F>>=1}for(;c<A;)w[c++]=0;t.putImageData(o,0,m*Dr)}}else if(e.kind===ig.RGBA_32BPP){for(g=0,y=r*Dr*4,m=0;m<s;m++)h.set(d.subarray(l,l+y)),l+=y,t.putImageData(o,0,g),g+=Dr;m<a&&(y=r*i*4,h.set(d.subarray(l,l+y)),t.putImageData(o,0,g))}else if(e.kind===ig.RGB_24BPP)for(x=Dr,y=r*x,m=0;m<a;m++){for(m>=s&&(x=i,y=r*x),c=0,g=y;g--;)h[c++]=d[l++],h[c++]=d[l++],h[c++]=d[l++],h[c++]=255;t.putImageData(o,0,m*Dr)}else throw new Error(`bad image kind: ${e.kind}`)}function R2(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,r=e.width,i=n%Dr,s=(n-i)/Dr,a=i===0?s:s+1,o=t.createImageData(r,Dr);let l=0;const c=e.data,d=o.data;for(let h=0;h<a;h++){const m=h<s?Dr:i;({srcPos:l}=Nue({src:c,srcPos:l,dest:d,width:r,height:m,nonBlackColor:0})),t.putImageData(o,0,h*Dr)}}function jd(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)t[r]!==void 0&&(e[r]=t[r]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function Mm(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function I2(t,e){if(e)return!0;Ae.singularValueDecompose2dScale(t,Xr);const n=Math.fround(Ss.pixelRatio*zc.PDF_TO_CSS_UNITS);return Xr[0]<=n&&Xr[1]<=n}const Rue=["butt","round","square"],Iue=["miter","round","bevel"],Lue={},L2={};class _c{constructor(e,n,r,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,c,d){this.ctx=e,this.current=new M2(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=r,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new Due(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,n,r=null){return typeof n=="string"?(this.dependencyTracker?.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):r}beginDrawing({transform:e,viewport:n,transparency:r=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Ht(this.compositeCtx))}this.ctx.save(),Mm(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Ht(this.ctx)}executeOperatorList(e,n,r,i,s){const a=e.argsArray,o=e.fnArray;let l=n||0;const c=a.length;if(c===l)return l;const d=c-l>O2&&typeof r=="function",h=d?Date.now()+Oue:0;let m=0;const g=this.commonObjs,x=this.objs;let y,b;for(;;){if(i!==void 0&&l===i.nextBreakPoint)return i.breakIt(l,r),l;if(!s||s(l))if(y=o[l],b=a[l]??null,y!==jh.dependency)b===null?this[y](l):this[y](l,...b);else for(const w of b){this.dependencyTracker?.recordNamedData(w,l);const A=w.startsWith("g_")?g:x;if(!A.has(w))return A.get(w,r),l}if(l++,l===c)return l;if(d&&++m>O2){if(Date.now()>h)return r(),l;m=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}}_scaleImage(e,n){const r=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(n[0],n[1]),1),a=Math.max(Math.hypot(n[2],n[3]),1),o=r,l=i,c="prescale1",d,h;for(;s>2&&o>1||a>2&&l>1;){let m=o,g=l;s>2&&o>1&&(m=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/m),a>2&&l>1&&(g=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/g),d=this.cachedCanvases.getCanvas(c,m,g),h=d.context,h.clearRect(0,0,m,g),h.drawImage(e,0,0,o,l,0,0,m,g),e=d.canvas,o=m,l=g,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e,n){const r=this.ctx,{width:i,height:s}=n,a=this.current.fillColor,o=this.current.patternFill,l=Ht(r);let c,d,h,m;if((n.bitmap||n.data)&&n.count>1){const F=n.bitmap||n.data.buffer;d=JSON.stringify(o?l:[l.slice(0,4),a]),c=this._cachedBitmapsMap.get(F),c||(c=new Map,this._cachedBitmapsMap.set(F,c));const M=c.get(d);if(M&&!o){const D=Math.round(Math.min(l[0],l[2])+l[4]),$=Math.round(Math.min(l[1],l[3])+l[5]);return this.dependencyTracker?.recordDependencies(e,gi.transformAndFill),{canvas:M,offsetX:D,offsetY:$}}h=M}h||(m=this.cachedCanvases.getCanvas("maskCanvas",i,s),R2(m.context,n));let g=Ae.transform(l,[1/i,0,0,-1/s,0,0]);g=Ae.transform(g,[1,0,0,1,0,-s]);const x=uc.slice();Ae.axialAlignedBoundingBox([0,0,i,s],g,x);const[y,b,w,A]=x,_=Math.round(w-y)||1,E=Math.round(A-b)||1,P=this.cachedCanvases.getCanvas("fillCanvas",_,E),T=P.context,k=y,O=b;T.translate(-k,-O),T.transform(...g),h||(h=this._scaleImage(m.canvas,os(T)),h=h.img,c&&o&&c.set(d,h)),T.imageSmoothingEnabled=I2(Ht(T),n.interpolate),Om(T,h,0,0,h.width,h.height,0,0,i,s),T.globalCompositeOperation="source-in";const R=Ae.transform(os(T),[1,0,0,1,-k,-O]);return T.fillStyle=o?a.getPattern(r,this,R,er.FILL,e):a,T.fillRect(0,0,i,s),c&&!o&&(this.cachedCanvases.delete("fillCanvas"),c.set(d,P.canvas)),this.dependencyTracker?.recordDependencies(e,gi.transformAndFill),{canvas:P.canvas,offsetX:Math.round(k),offsetY:Math.round(O)}}setLineWidth(e,n){this.dependencyTracker?.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=Rue[n]}setLineJoin(e,n){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Iue[n]}setMiterLimit(e,n){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,r){this.dependencyTracker?.recordSimpleData("dash",e);const i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(n),i.lineDashOffset=r)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){for(const[r,i]of n)switch(r){case"LW":this.setLineWidth(e,i);break;case"LC":this.setLineCap(e,i);break;case"LJ":this.setLineJoin(e,i);break;case"ML":this.setMiterLimit(e,i);break;case"D":this.setDash(e,i[0],i[1]);break;case"RI":this.setRenderingIntent(e,i);break;case"FL":this.setFlatness(e,i);break;case"Font":this.setFont(e,i[0],i[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=i;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=i;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=i;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,r=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,n,r);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),jd(this.suspendedCtx,a),Mue(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),jd(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,r=this.suspendedCtx;this.composeSMask(r,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,r,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(n.context,r,o,l,n.subtype,n.backdrop,n.transferMap,s,a,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(r.canvas,0,0),e.restore())}genericComposeSMask(e,n,r,i,s,a,o,l,c,d,h){let m=e.canvas,g=l-d,x=c-h;if(a)if(g<0||x<0||g+r>m.width||x+i>m.height){const b=this.cachedCanvases.getCanvas("maskExtension",r,i),w=b.context;w.drawImage(m,-g,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=a,w.fillRect(0,0,r,i),w.globalCompositeOperation="source-over",m=b.canvas,g=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(g,x,r,i),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(g,x,r,i),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const y=new Path2D;y.rect(l,c,r,i),n.clip(y),n.globalCompositeOperation="destination-in",n.drawImage(m,g,x,r,i,l,c,r,i),n.restore()}save(e){this.inSMaskMode&&jd(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&jd(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,r,i,s,a,o){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(n,r,i,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,r,i){let[s]=r;if(!i){s||=r[0]=new Path2D,this[n](e,s);return}if(this.dependencyTracker!==null){const a=n===jh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,i[0]-a,i[2]+a,i[1]-a,i[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=r[0]=TV(s)),Ae.axialAlignedBoundingBox(i,Ht(this.ctx),this.current.minMax),this[n](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,r=!0){const i=this.ctx,s=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const a=s.isModifyingCurrentTransform()?i.getTransform():null;if(i.save(),i.strokeStyle=s.getPattern(i,this,os(i),er.STROKE,e),a){const o=new Path2D;o.addPath(n,i.getTransform().invertSelf().multiplySelf(a)),n=o}this.rescaleAndStroke(n,!1),i.restore()}else this.rescaleAndStroke(n,!0);this.dependencyTracker?.recordDependencies(e,gi.stroke),r&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(er.STROKE,Ht(this.ctx))),i.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,r=!0){const i=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const c=s.isModifyingCurrentTransform()?i.getTransform():null;if(this.dependencyTracker?.save(e),i.save(),i.fillStyle=s.getPattern(i,this,os(i),er.FILL,e),c){const d=new Path2D;d.addPath(n,i.getTransform().invertSelf().multiplySelf(c)),n=d}o=!0}const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(i.fill(n,"evenodd"),this.pendingEOFill=!1):i.fill(n)),this.dependencyTracker?.recordDependencies(e,gi.fill),o&&(i.restore(),this.dependencyTracker?.restore(e)),r&&this.consumePath(e,n,l)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){this.ctx.fill(n),this.dependencyTracker?.recordDependencies(e,gi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Lue}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=L2}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,r=this.ctx;if(this.dependencyTracker){const{dependencyTracker:i}=this;n!==void 0&&i.recordFutureForcedDependency("textClip",i.getOpenMarker()).recordFutureForcedDependency("textClip",e),i.recordCloseMarker(e)}if(n!==void 0){const i=new Path2D,s=r.getTransform().invertSelf();for(const{transform:a,x:o,y:l,fontSize:c,path:d}of n)d&&i.addPath(d,new DOMMatrix(a).preMultiplySelf(s).translate(o,l).scale(c,-c));r.clip(i)}delete this.pendingTextPaths}setCharSpacing(e,n){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,r){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const i=this.commonObjs.get(n),s=this.current;if(!i)throw new Error(`Can't find font for ${n}`);if(s.fontMatrix=i.fontMatrix||TA,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&Ke("Invalid font matrix for font "+n),r<0?(r=-r,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=r,i.isType3Font)return;const a=i.loadedName||"sans-serif",o=i.systemFontInfo?.css||`"${a}", ${i.fallbackName}`;let l="normal";i.black?l="900":i.bold&&(l="bold");const c=i.italic?"italic":"normal";let d=r;r<k2?d=k2:r>N2&&(d=N2),this.current.fontSizeScale=r/d,this.ctx.font=`${c} ${l} ${d}px ${o}`}setTextRenderingMode(e,n){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,r){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=r}setLeadingMoveText(e,n,r){this.setLeading(e,-r),this.moveText(e,n,r)}setTextMatrix(e,n){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:r}=this;r.textMatrix=n,r.textMatrixScale=Math.hypot(n[0],n[1]),r.x=r.lineX=0,r.y=r.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#r(e,n,r){const i=new Path2D;return i.addPath(e,new DOMMatrix(r).invertSelf().multiplySelf(n)),i}paintChar(e,n,r,i,s,a){const o=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,h=l.fontSize/l.fontSizeScale,m=d&Yn.FILL_STROKE_MASK,g=!!(d&Yn.ADD_TO_PATH_FLAG),x=l.patternFill&&!c.missingFile,y=l.patternStroke&&!c.missingFile;let b;if((c.disableFontFace||g||x||y)&&!c.missingFile&&(b=c.getPathGenerator(this.commonObjs,n)),b&&(c.disableFontFace||x||y)){o.save(),o.translate(r,i),o.scale(h,-h),this.dependencyTracker?.recordCharacterBBox(e,o,c);let w;if(m===Yn.FILL||m===Yn.FILL_STROKE)if(s){w=o.getTransform(),o.setTransform(...s);const A=this.#r(b,w,s);o.fill(A)}else o.fill(b);if(m===Yn.STROKE||m===Yn.FILL_STROKE)if(a){w||=o.getTransform(),o.setTransform(...a);const{a:A,b:_,c:E,d:P}=w,T=Ae.inverseTransform(a),k=Ae.transform([A,_,E,P,0,0],T);Ae.singularValueDecompose2dScale(k,Xr),o.lineWidth*=Math.max(Xr[0],Xr[1])/h,o.stroke(this.#r(b,w,a))}else o.lineWidth/=h,o.stroke(b);o.restore()}else(m===Yn.FILL||m===Yn.FILL_STROKE)&&(o.fillText(n,r,i),this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n))),(m===Yn.STROKE||m===Yn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i,()=>o.measureText(n)).recordDependencies(e,gi.stroke),o.strokeText(n,r,i));g&&((this.pendingTextPaths||=[]).push({transform:Ht(o),x:r,y:i,fontSize:h,path:b}),this.dependencyTracker?.recordCharacterBBox(e,o,c,h,r,i))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let r=!1;for(let i=3;i<n.length;i+=4)if(n[i]>0&&n[i]<255){r=!0;break}return Je(this,"isFontSubpixelAAEnabled",r)}showText(e,n){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,gi.showText).resetBBox(e),this.current.textRenderingMode&Yn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const r=this.current,i=r.font;if(i.isType3Font){this.showType3Text(e,n),this.dependencyTracker?.recordShowTextOperation(e);return}const s=r.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const a=this.ctx,o=r.fontSizeScale,l=r.charSpacing,c=r.wordSpacing,d=r.fontDirection,h=r.textHScale*d,m=n.length,g=i.vertical,x=g?1:-1,y=i.defaultVMetrics,b=s*r.fontMatrix[0],w=r.textRenderingMode===Yn.FILL&&!i.disableFontFace&&!r.patternFill;a.save(),r.textMatrix&&a.transform(...r.textMatrix),a.translate(r.x,r.y+r.textRise),d>0?a.scale(h,-1):a.scale(h,1);let A,_;if(r.patternFill){a.save();const O=r.fillColor.getPattern(a,this,os(a),er.FILL,e);A=Ht(a),a.restore(),a.fillStyle=O}if(r.patternStroke){a.save();const O=r.strokeColor.getPattern(a,this,os(a),er.STROKE,e);_=Ht(a),a.restore(),a.strokeStyle=O}let E=r.lineWidth;const P=r.textMatrixScale;if(P===0||E===0){const O=r.textRenderingMode&Yn.FILL_STROKE_MASK;(O===Yn.STROKE||O===Yn.FILL_STROKE)&&(E=this.getSinglePixelWidth())}else E/=P;if(o!==1&&(a.scale(o,o),E/=o),a.lineWidth=E,i.isInvalidPDFjsFont){const O=[];let R=0;for(const M of n)O.push(M.unicode),R+=M.width;const F=O.join("");if(a.fillText(F,0,0),this.dependencyTracker!==null){const M=a.measureText(F);this.dependencyTracker.recordBBox(e,this.ctx,-M.actualBoundingBoxLeft,M.actualBoundingBoxRight,-M.actualBoundingBoxAscent,M.actualBoundingBoxDescent).recordShowTextOperation(e)}r.x+=R*b*h,a.restore(),this.compose();return}let T=0,k;for(k=0;k<m;++k){const O=n[k];if(typeof O=="number"){T+=x*O*s/1e3;continue}let R=!1;const F=(O.isSpace?c:0)+l,M=O.fontChar,D=O.accent;let $,W,H=O.width;if(g){const L=O.vmetric||y,G=-(O.vmetric?L[1]:H*.5)*b,Q=L[2]*b;H=L?-L[0]:H,$=G/o,W=(T+Q)/o}else $=T/o,W=0;let V;if(i.remeasure&&H>0){V=a.measureText(M);const L=V.width*1e3/s*o;if(H<L&&this.isFontSubpixelAAEnabled){const G=H/L;R=!0,a.save(),a.scale(G,1),$/=G}else H!==L&&($+=(H-L)/2e3*s/o)}if(this.contentVisible&&(O.isInFont||i.missingFile)){if(w&&!D)a.fillText(M,$,W),this.dependencyTracker?.recordCharacterBBox(e,a,V?{bbox:null}:i,s/o,$,W,()=>V??a.measureText(M));else if(this.paintChar(e,M,$,W,A,_),D){const L=$+s*D.offset.x/o,G=W-s*D.offset.y/o;this.paintChar(e,D.fontChar,L,G,A,_)}}const U=g?H*b-F*d:H*b+F*d;T+=U,R&&a.restore()}g?r.y-=T:r.x+=T*h,a.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,n){const r=this.ctx,i=this.current,s=i.font,a=i.fontSize,o=i.fontDirection,l=s.vertical?1:-1,c=i.charSpacing,d=i.wordSpacing,h=i.textHScale*o,m=i.fontMatrix||TA,g=n.length,x=i.textRenderingMode===Yn.INVISIBLE;let y,b,w,A;if(x||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,r.save(),i.textMatrix&&r.transform(...i.textMatrix),r.translate(i.x,i.y+i.textRise),r.scale(h,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Ng(_,e):null,y=0;y<g;++y){if(b=n[y],typeof b=="number"){A=l*b*a/1e3,this.ctx.translate(A,0),i.x+=A*h;continue}const E=(b.isSpace?d:0)+c,P=s.charProcOperatorList[b.operatorListId];P?this.contentVisible&&(this.save(),r.scale(a,a),r.transform(...m),this.executeOperatorList(P),this.restore()):Ke(`Type3 character "${b.operatorListId}" is not available.`);const T=[b.width,0];Ae.applyTransform(T,m),w=T[0]*a+E,r.translate(w,0),i.x+=w*h}r.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,n,r){}setCharWidthAndBounds(e,n,r,i,s,a,o){const l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordBBox(e,this.ctx,i,a,s,o).recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}getColorN_Pattern(e,n){let r;if(n[0]==="TilingPattern"){const i=this.baseTransform||Ht(this.ctx),s={createCanvasGraphics:(a,o)=>new _c(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Ng(this.dependencyTracker,o,!0):null)};r=new WE(n,this.ctx,s,i)}else r=this._getPattern(e,n[1],n[2]);return r}setStrokeColorN(e,...n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,r=null){let i;return this.cachedPatterns.has(n)?i=this.cachedPatterns.get(n):(i=kue(this.getObject(e,n)),this.cachedPatterns.set(n,i)),r&&(i.matrix=r),i}shadingFill(e,n){if(!this.contentVisible)return;const r=this.ctx;this.save(e);const i=this._getPattern(e,n);r.fillStyle=i.getPattern(r,this,os(r),er.SHADING,e);const s=os(r);if(s){const{width:a,height:o}=r.canvas,l=uc.slice();Ae.axialAlignedBoundingBox([0,0,a,o],s,l);const[c,d,h,m]=l;this.ctx.fillRect(c,d,h-c,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,gi.transform).recordDependencies(e,gi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Pt("Should not call beginInlineImage")}beginImageData(){Pt("Should not call beginImageData")}paintFormXObjectBegin(e,n,r){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=Ht(this.ctx),r)){Ae.axialAlignedBoundingBox(r,this.baseTransform,this.current.minMax);const[i,s,a,o]=r,l=new Path2D;l.rect(i,s,a-i,o-s),this.ctx.clip(l),this.dependencyTracker?.recordClipBox(e,this.ctx,i,a,s,o),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const r=this.ctx;n.isolated||hy("TODO: Support non-isolated groups."),n.knockout&&Ke("Knockout groups not supported.");const i=Ht(r);if(n.matrix&&r.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let s=uc.slice();Ae.axialAlignedBoundingBox(n.bbox,Ht(r),s);const a=[0,0,r.canvas.width,r.canvas.height];s=Ae.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),l=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-o,1),d=Math.max(Math.ceil(s[3])-l,1);this.current.startNewPathAndClipBox([0,0,c,d]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const m=this.cachedCanvases.getCanvas(h,c,d),g=m.context;g.translate(-o,-l),g.transform(...i);let x=new Path2D;const[y,b,w,A]=n.bbox;if(x.rect(y,b,w-y,A-b),n.matrix){const _=new Path2D;_.addPath(x,new DOMMatrix(n.matrix)),x=_}g.clip(x),n.smask&&this.smaskStack.push({canvas:m.canvas,context:g,offsetX:o,offsetY:l,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(r.setTransform(1,0,0,1,0,0),r.translate(o,l),r.save()),jd(r,g),this.ctx=g,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(r),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(r),this.groupLevel++}endGroup(e,n){if(!this.contentVisible)return;this.groupLevel--;const r=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=Ht(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const a=uc.slice();Ae.axialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],s,a),this.ctx.drawImage(r.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,n,r,i,s,a){if(this.#e(),Mm(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),r){const o=r[2]-r[0],l=r[3]-r[1];if(a&&this.annotationCanvasMap){i=i.slice(),i[4]-=r[0],i[5]-=r[1],r=r.slice(),r[0]=r[1]=0,r[2]=o,r[3]=l,Ae.singularValueDecompose2dScale(Ht(this.ctx),Xr);const{viewportScale:c}=this,d=Math.ceil(o*this.outputScaleX*c),h=Math.ceil(l*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:m,context:g}=this.annotationCanvas;this.annotationCanvasMap.set(n,m),this.annotationCanvas.savedCtx=this.ctx,this.ctx=g,this.ctx.save(),this.ctx.setTransform(Xr[0],0,0,-Xr[1],0,l*Xr[1]),Mm(this.ctx)}else{Mm(this.ctx),this.endPath(e);const c=new Path2D;c.rect(r[0],r[1],o,l),this.ctx.clip(c)}}this.current=new M2(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...i),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){if(!this.contentVisible)return;const r=n.count;n=this.getObject(e,n.data,n),n.count=r;const i=this.ctx,s=this._createMaskCanvas(e,n),a=s.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(a,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,r,i=0,s=0,a,o){if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const l=this.ctx;l.save();const c=Ht(l);l.transform(r,i,s,a,0,0);const d=this._createMaskCanvas(e,n);l.setTransform(1,0,0,1,d.offsetX-c[4],d.offsetY-c[5]),this.dependencyTracker?.resetBBox(e);for(let h=0,m=o.length;h<m;h+=2){const g=Ae.transform(c,[r,i,s,a,o[h],o[h+1]]);l.drawImage(d.canvas,g[4],g[5]),this.dependencyTracker?.recordBBox(e,this.ctx,g[4],g[4]+d.canvas.width,g[5],g[5]+d.canvas.height)}l.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,n){if(!this.contentVisible)return;const r=this.ctx,i=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,gi.transformAndFill);for(const a of n){const{data:o,width:l,height:c,transform:d}=a,h=this.cachedCanvases.getCanvas("maskCanvas",l,c),m=h.context;m.save();const g=this.getObject(e,o,a);R2(m,g),m.globalCompositeOperation="source-in",m.fillStyle=s?i.getPattern(m,this,os(r),er.FILL,e):i,m.fillRect(0,0,l,c),m.restore(),r.save(),r.transform(...d),r.scale(1,-1),Om(r,h.canvas,0,0,l,c,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,l,0,c),r.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const r=this.getObject(e,n);if(!r){Ke("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,r)}paintImageXObjectRepeat(e,n,r,i,s){if(!this.contentVisible)return;const a=this.getObject(e,n);if(!a){Ke("Dependent image isn't ready yet");return}const o=a.width,l=a.height,c=[];for(let d=0,h=s.length;d<h;d+=2)c.push({transform:[r,0,0,i,s[d],s[d+1]],x:0,y:0,w:o,h:l});this.paintInlineImageXObjectGroup(e,a,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:r,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",r,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(n,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,n){if(!this.contentVisible)return;const r=n.width,i=n.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/r,-1/i);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const d=this.cachedCanvases.getCanvas("inlineImage",r,i).context;D2(d,n),o=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(o,os(s));s.imageSmoothingEnabled=I2(Ht(s),n.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,r,-i,0).recordDependencies(e,gi.imageXObject).recordOperation(e),Om(s,l.img,0,0,l.paintWidth,l.paintHeight,0,-i,r,i),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,r){if(!this.contentVisible)return;const i=this.ctx;let s;if(n.bitmap)s=n.bitmap;else{const a=n.width,o=n.height,c=this.cachedCanvases.getCanvas("inlineImage",a,o).context;D2(c,n),s=this.applyTransferMapsToCanvas(c)}this.dependencyTracker?.resetBBox(e);for(const a of r)i.save(),i.transform(...a.transform),i.scale(1,-1),Om(i,s,a.x,a.y,a.w,a.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,1,-1,0),i.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,gi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,r){}beginMarkedContent(e,n){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,r){this.dependencyTracker?.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,r){const i=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(r);const s=this.ctx;this.pendingClip?(i||(this.pendingClip===L2?s.clip(n,"evenodd"):s.clip(n)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Ht(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),r=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(r,i)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:r,c:i,d:s}=this.ctx.getTransform();let a,o;if(r===0&&i===0){const l=Math.abs(n),c=Math.abs(s);if(l===c)if(e===0)a=o=1/l;else{const d=l*e;a=o=d<1?1/d:1}else if(e===0)a=1/l,o=1/c;else{const d=l*e,h=c*e;a=d<1?1/d:1,o=h<1?1/h:1}}else{const l=Math.abs(n*s-r*i),c=Math.hypot(n,r),d=Math.hypot(i,s);if(e===0)a=d/l,o=c/l;else{const h=e*l;a=d>h?d/h:1,o=c>h?c/h:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:r,current:{lineWidth:i}}=this,[s,a]=this.getScaleForStroking();if(s===a){r.lineWidth=(i||1)*s,r.stroke(e);return}const o=r.getLineDash();n&&r.save(),r.scale(s,a),D0.a=1/s,D0.d=1/a;const l=new Path2D;if(l.addPath(e,D0),o.length>0){const c=Math.max(s,a);r.setLineDash(o.map(d=>d/c)),r.lineDashOffset/=c}r.lineWidth=i||1,r.stroke(l),n&&r.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const t in jh)_c.prototype[t]!==void 0&&(_c.prototype[jh[t]]=_c.prototype[t]);class Ac{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class Fue{#e;#t;constructor({parsedData:e,rawData:n}){this.#e=e,this.#t=n}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const nc=Symbol("INTERNAL");class $ue{#e=!1;#t=!1;#r=!1;#n=!0;constructor(e,{name:n,intent:r,usage:i,rbGroups:s}){this.#e=!!(e&Kr.DISPLAY),this.#t=!!(e&Kr.PRINT),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(this.#r)return this.#n;if(!this.#n)return!1;const{print:e,view:n}=this.usage;return this.#e?n?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,n,r=!1){e!==nc&&Pt("Internal method `_setVisible` called."),this.#r=r,this.#n=n}}class Bue{#e=null;#t=new Map;#r=null;#n=null;constructor(e,n=Kr.DISPLAY){if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const r of e.groups)this.#t.set(r.id,new $ue(n,r));if(e.baseState==="OFF")for(const r of this.#t.values())r._setVisible(nc,!1);for(const r of e.on)this.#t.get(r)._setVisible(nc,!0);for(const r of e.off)this.#t.get(r)._setVisible(nc,!1);this.#r=this.getHash()}}#a(e){const n=e.length;if(n<2)return!0;const r=e[0];for(let i=1;i<n;i++){const s=e[i];let a;if(Array.isArray(s))a=this.#a(s);else if(this.#t.has(s))a=this.#t.get(s).visible;else return Ke(`Optional content group not found: ${s}`),!0;switch(r){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return r==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return hy("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ke(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(!this.#t.get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!this.#t.has(n))return Ke(`Optional content group not found: ${n}`),!0;if(this.#t.get(n).visible)return!1}return!0}return Ke(`Unknown optional content policy ${e.policy}.`),!0}return Ke(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,r=!0){const i=this.#t.get(e);if(!i){Ke(`Optional content group not found: ${e}`);return}if(r&&n&&i.rbGroups.length)for(const s of i.rbGroups)for(const a of s)a!==e&&this.#t.get(a)?._setVisible(nc,!1,!0);i._setVisible(nc,!!n,!0),this.#e=null}setOCGState({state:e,preserveRB:n}){let r;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":r=i;continue}const s=this.#t.get(i);if(s)switch(r){case"ON":this.setVisibility(i,!0,n);break;case"OFF":this.setVisibility(i,!1,n);break;case"Toggle":this.setVisibility(i,!s.visible,n);break}}this.#e=null}get hasInitialVisibility(){return this.#r===null||this.getHash()===this.#r}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new kV;for(const[n,r]of this.#t)e.update(`${n}:${r.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Uue{constructor(e,{disableRange:n=!1,disableStream:r=!1}){ot(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,s?.length>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,c)=>{this._onReceiveData({begin:l,chunk:c})}),e.addProgressListener((l,c)=>{this._onProgress({loaded:l,total:c})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(r),!0)});ot(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){ot(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new zue(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Vue(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class zue{constructor(e,n,r=!1,i=null){this._stream=e,this._done=r||!1,this._filename=FE(i)?i:null,this._queuedChunks=n||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Vue{constructor(e,n,r){this._stream=e,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Wue(t){let e=!0,n=r("filename\\*","i").exec(t);if(n){n=n[1];let d=o(n);return d=unescape(d),d=l(d),d=c(d),s(d)}if(n=a(t),n){const d=c(n);return s(d)}if(n=r("filename","i").exec(t),n){n=n[1];let d=o(n);return d=c(d),s(d)}function r(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function i(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const m=new TextDecoder(d,{fatal:!0}),g=Ff(h);h=m.decode(g),e=!1}catch{}}return h}function s(d){return e&&/[\x80-\xff]/.test(d)&&(d=i("utf-8",d),e&&(d=i("iso-8859-1",d))),d}function a(d){const h=[];let m;const g=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(m=g.exec(d))!==null;){let[,y,b,w]=m;if(y=parseInt(y,10),y in h){if(y===0)break;continue}h[y]=[b,w]}const x=[];for(let y=0;y<h.length&&y in h;++y){let[b,w]=h[y];w=o(w),b&&(w=unescape(w),y===0&&(w=l(w))),x.push(w)}return x.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let m=0;m<h.length;++m){const g=h[m].indexOf('"');g!==-1&&(h[m]=h[m].slice(0,g),h.length=m+1),h[m]=h[m].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function l(d){const h=d.indexOf("'");if(h===-1)return d;const m=d.slice(0,h),x=d.slice(h+1).replace(/^[^']*'/,"");return i(m,x)}function c(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,m,g,x){if(g==="q"||g==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,b){return String.fromCharCode(parseInt(b,16))}),i(m,x);try{x=atob(x)}catch{}return i(m,x)})}return""}function LV(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const r in e){const i=e[r];i!==void 0&&n.append(r,i)}return n}function my(t){return URL.parse(t)?.origin??null}function FV({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:r}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*n)||r||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function $V(t){const e=t.get("Content-Disposition");if(e){let n=Wue(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(FE(n))return n}return null}function Vf(t,e){return new kg(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function BV(t){return t===200||t===206}function UV(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function zV(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Ke(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class Hue{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=LV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ot(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new que(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new Gue(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class que{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const r=new Headers(e.headers),i=n.url;fetch(i,UV(r,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=my(s.url),!BV(s.status))throw Vf(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=FV({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=$V(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ja("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:zV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class Gue{constructor(e,n,r){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${n}-${r-1}`);const a=i.url;fetch(a,UV(s,this._withCredentials,this._abortController)).then(o=>{const l=my(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!BV(o.status))throw Vf(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:zV(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const R0=200,I0=206;function Kue(t){const e=t.response;return typeof e!="string"?e:Ff(e).buffer}class Yue{_responseOrigin=null;constructor({url:e,httpHeaders:n,withCredentials:r}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=LV(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,r=this.currXhrId++,i=this.pendingRequests[r]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[s,a]of this.headers)n.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=I0):i.expectedStatus=R0,n.responseType="arraybuffer",ot(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,r),n.onprogress=this.onProgress.bind(this,r),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,n.send(null),r}onProgress(e,n){const r=this.pendingRequests[e];r&&r.onProgress?.(n)}onStateChange(e,n){const r=this.pendingRequests[e];if(!r)return;const i=r.xhr;if(i.readyState>=2&&r.onHeadersReceived&&(r.onHeadersReceived(),delete r.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){r.onError(i.status);return}const s=i.status||R0;if(!(s===R0&&r.expectedStatus===I0)&&s!==r.expectedStatus){r.onError(i.status);return}const o=Kue(i);if(s===I0){const l=i.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);c?r.onDone({begin:parseInt(c[1],10),chunk:o}):(Ke('Missing or invalid "Content-Range" header.'),r.onError(0))}else o?r.onDone({begin:0,chunk:o}):r.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class Xue{constructor(e){this._source=e,this._manager=new Yue(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return ot(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Que(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const r=new Zue(this._manager,e,n);return r.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class Que{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=my(n.responseURL);const r=n.getAllResponseHeaders(),i=new Headers(r?r.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...c]=o.split(": ");return[l,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=FV({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=$V(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Vf(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Zue{constructor(e,n,r){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:r,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=my(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const r of this._requests)r.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Vf(e,this._url);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Jue=/^[a-z][a-z0-9\-+.]+:/i;function ede(t){if(Jue.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class tde{constructor(e){this.source=e,this.url=ede(e.url),ot(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return ot(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new nde(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const r=new rde(this,e,n);return this._rangeRequestReaders.push(r),r}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class nde{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const r=process.getBuiltinModule("fs");r.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(r.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=Vf(0,this._url.href)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ja("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class rde{constructor(e,n,r){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:n,end:r-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const kd=Symbol("INITIAL_DATA");class VV{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:kd}}get(e,n=null){if(n){const i=this.#t(e);return i.promise.then(()=>n(i.data)),null}const r=this.#e[e];if(!r||r.data===kd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){const n=this.#e[e];return!!n&&n.data!==kd}delete(e){const n=this.#e[e];return!n||n.data===kd?!1:(delete this.#e[e],!0)}resolve(e,n=null){const r=this.#t(e);r.data=n,r.resolve()}clear(){for(const e in this.#e){const{data:n}=this.#e[e];n?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:n}=this.#e[e];n!==kd&&(yield[e,n])}}}const ide=1e5,F2=30;class mr{#e=Promise.withResolvers();#t=null;#r=!1;#n=!!globalThis.FontInspector?.enabled;#a=null;#s=null;#i=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#C=new WeakMap;static#_=null;static#w=new Set;constructor({textContentSource:e,container:n,viewport:r}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(l){l.enqueue(e),l.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=n,this.#d=r.scale*Ss.pixelRatio,this.#h=r.rotation,this.#s={div:null,properties:null,ctx:null};const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=r.rawDims;this.#v=[1,0,0,-1,-a,o+s],this.#o=i,this.#i=s,mr.#j(),rl(n,r),this.#e.promise.finally(()=>{mr.#w.delete(this),this.#s=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=nr.platform;return Je(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:n,done:r})=>{if(r){this.#e.resolve();return}this.#a??=n.lang,Object.assign(this.#f,n.styles),this.#E(n.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),mr.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:n=null}){const r=e.scale*Ss.pixelRatio,i=e.rotation;if(i!==this.#h&&(n?.(),this.#h=i,rl(this.#l,{rotation:i})),r!==this.#d){n?.(),this.#d=r;const s={div:null,properties:null,ctx:mr.#k(this.#a)};for(const a of this.#u)s.properties=this.#p.get(a),s.div=a,this.#A(s)}}cancel(){const e=new Ja("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#E(e){if(this.#r)return;this.#s.ctx??=mr.#k(this.#a);const n=this.#u,r=this.#g;for(const i of e){if(n.length>ide){Ke("Ignoring additional textDivs for performance reasons."),this.#r=!0;return}if(i.str===void 0){if(i.type==="beginMarkedContentProps"||i.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),i.id&&this.#t.setAttribute("id",`${i.id}`),s.append(this.#t)}else i.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}r.push(i.str),this.#x(i)}}#x(e){const n=document.createElement("span"),r={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(n);const i=Ae.transform(this.#v,e.transform);let s=Math.atan2(i[1],i[0]);const a=this.#f[e.fontName];a.vertical&&(s+=Math.PI/2);let o=this.#n&&a.fontSubstitution||a.fontFamily;o=mr.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),c=l*mr.#L(o,a,this.#a);let d,h;s===0?(d=i[4],h=i[5]-c):(d=i[4]+c*Math.sin(s),h=i[5]-c*Math.cos(s));const m="calc(var(--total-scale-factor) *",g=n.style;this.#t===this.#l?(g.left=`${(100*d/this.#o).toFixed(2)}%`,g.top=`${(100*h/this.#i).toFixed(2)}%`):(g.left=`${m}${d.toFixed(2)}px)`,g.top=`${m}${h.toFixed(2)}px)`),g.fontSize=`${m}${(mr.#_*l).toFixed(2)}px)`,g.fontFamily=o,r.fontSize=l,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,this.#n&&(n.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(r.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const y=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);y!==b&&Math.max(y,b)/Math.min(y,b)>1.5&&(x=!0)}if(x&&(r.canvasWidth=a.vertical?e.height:e.width),this.#p.set(n,r),this.#s.div=n,this.#s.properties=r,this.#A(this.#s),r.hasText&&this.#t.append(n),r.hasEOL){const y=document.createElement("br");y.setAttribute("role","presentation"),this.#t.append(y)}}#A(e){const{div:n,properties:r,ctx:i}=e,{style:s}=n;let a="";if(mr.#_>1&&(a=`scale(${1/mr.#_})`),r.canvasWidth!==0&&r.hasText){const{fontFamily:o}=s,{canvasWidth:l,fontSize:c}=r;mr.#T(i,c*this.#d,o);const{width:d}=i.measureText(n.textContent);d>0&&(a=`scaleX(${l*this.#d/d}) ${a}`)}r.angle!==0&&(a=`rotate(${r.angle}deg) ${a}`),a.length>0&&(s.transform=a)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#k(e=null){let n=this.#y.get(e||="");if(!n){const r=document.createElement("canvas");r.className="hiddenCanvasElement",r.lang=e,document.body.append(r),n=r.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,n),this.#C.set(n,{size:0,family:""})}return n}static#T(e,n,r){const i=this.#C.get(e);n===i.size&&r===i.family||(e.font=`${n}px ${r}`,i.size=n,i.family=r)}static#j(){if(this.#_!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#_=e.getBoundingClientRect().height,e.remove()}static#L(e,n,r){const i=this.#b.get(e);if(i)return i;const s=this.#k(r);s.canvas.width=s.canvas.height=F2,this.#T(s,F2,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,l=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return o?c=o/(o+l):(nr.platform.isFirefox&&Ke("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?c=n.ascent:n.descent&&(c=1+n.descent)),this.#b.set(e,c),c}}const sde=100;function WV(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new HE,{docId:n}=e,r=t.url?hue(t.url):null,i=t.data?fue(t.data):null,s=t.httpHeaders||null,a=t.withCredentials===!0,o=t.password??null,l=t.range instanceof HV?t.range:null,c=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let d=t.worker instanceof Qn?t.worker:null;const h=t.verbosity,m=typeof t.docBaseUrl=="string"&&!fy(t.docBaseUrl)?t.docBaseUrl:null,g=Tm(t.cMapUrl),x=t.cMapPacked!==!1,y=t.CMapReaderFactory||(gr?wue:A2),b=Tm(t.iccUrl),w=Tm(t.standardFontDataUrl),A=t.StandardFontDataFactory||(gr?Sue:C2),_=Tm(t.wasmUrl),E=t.WasmFactory||(gr?_ue:P2),P=t.stopAtErrors!==!0,T=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,k=t.isEvalSupported!==!1,O=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!gr,R=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!gr&&(nr.platform.isFirefox||!globalThis.chrome),F=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,M=typeof t.disableFontFace=="boolean"?t.disableFontFace:gr,D=t.fontExtraProperties===!0,$=t.enableXfa===!0,W=t.ownerDocument||globalThis.document,H=t.disableRange===!0,V=t.disableStream===!0,U=t.disableAutoFetch===!0,L=t.pdfBug===!0,G=t.CanvasFactory||(gr?xue:vue),Q=t.FilterFactory||(gr?bue:yue),B=t.enableHWA===!0,K=t.useWasm!==!1,Z=l?l.length:t.length??NaN,ae=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!gr&&!M,ce=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(y===A2&&A===C2&&E===P2&&g&&w&&_&&Wd(g,document.baseURI)&&Wd(w,document.baseURI)&&Wd(_,document.baseURI)),pe=null;Bce(h);const ie={canvasFactory:new G({ownerDocument:W,enableHWA:B}),filterFactory:new Q({docId:n,ownerDocument:W}),cMapReaderFactory:ce?null:new y({baseUrl:g,isCompressed:x}),standardFontDataFactory:ce?null:new A({baseUrl:w}),wasmFactory:ce?null:new E({baseUrl:_})};d||(d=Qn.create({verbosity:h,port:Ac.workerPort}),e._worker=d);const ee={docId:n,apiVersion:"5.4.394",data:i,password:o,disableAutoFetch:U,rangeChunkSize:c,length:Z,docBaseUrl:m,enableXfa:$,evaluatorOptions:{maxImageSize:T,disableFontFace:M,ignoreErrors:P,isEvalSupported:k,isOffscreenCanvasSupported:O,isImageDecoderSupported:R,canvasMaxAreaInBytes:F,fontExtraProperties:D,useSystemFonts:ae,useWasm:K,useWorkerFetch:ce,cMapUrl:g,iccUrl:b,standardFontDataUrl:w,wasmUrl:_}},te={ownerDocument:W,pdfBug:L,styleElement:pe,loadingParams:{disableAutoFetch:U,enableXfa:$}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const le=d.messageHandler.sendWithPromise("GetDocRequest",ee,i?[i.buffer]:null);let he;if(l)he=new Uue(l,{disableRange:H,disableStream:V});else if(!i){if(!r)throw new Error("getDocument - no `url` parameter provided.");const ne=Wd(r)?Hue:gr?tde:Xue;he=new ne({url:r,length:Z,httpHeaders:s,withCredentials:a,rangeChunkSize:c,disableRange:H,disableStream:V})}return le.then(ne=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const Me=new Hd(n,ne,d.port),Re=new lde(Me,e,he,te,ie,B);e._transport=Re,Me.send("Ready",null)})}).catch(e._capability.reject),e}class HE{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${HE.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class HV{#e=Promise.withResolvers();#t=[];#r=[];#n=[];#a=[];constructor(e,n,r=!1,i=null){this.length=e,this.initialData=n,this.progressiveDone=r,this.contentDispositionFilename=i}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#r.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,n){for(const r of this.#a)r(e,n)}onDataProgress(e,n){this.#e.promise.then(()=>{for(const r of this.#n)r(e,n)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const n of this.#r)n(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,n){Pt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class ade{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class ode{#e=!1;constructor(e,n,r,i=!1){this._pageIndex=e,this._pageInfo=n,this._transport=r,this._stats=i?new v2:null,this._pdfBug=i,this.commonObjs=r.commonObjs,this.objs=new VV,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new Bf({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Je(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:n=e.canvas,viewport:r,intent:i="display",annotationMode:s=Ua.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:l=null,annotationCanvasMap:c=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:m=!1,recordOperations:g=!1,operationsFilter:x=null}){this._stats?.time("Overall");const y=this._transport.getRenderingIntent(i,s,h,m),{renderingIntent:b,cacheKey:w}=y;this.#e=!1,l||=this._transport.getOptionalContentConfig(b);let A=this._intentStates.get(w);A||(A=Object.create(null),this._intentStates.set(w,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const _=!!(b&Kr.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(y));const E=!!(this._pdfBug&&globalThis.StepperManager?.enabled),P=!this.recordedBBoxes&&(g||E),T=R=>{if(A.renderTasks.delete(k),P){const F=k.gfx?.dependencyTracker.take();F&&(k.stepper&&k.stepper.setOperatorBBoxes(F,k.gfx.dependencyTracker.takeDebugMetadata()),g&&(this.recordedBBoxes=F))}_&&(this.#e=!0),this.#t(),R?(k.capability.reject(R),this._abortOperatorList({intentState:A,reason:R instanceof Error?R:new Error(R)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new dc({callback:T,params:{canvas:n,canvasContext:e,dependencyTracker:P?new Cue(n,A.operatorList.length,E):null,viewport:r,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:x});(A.renderTasks||=new Set).add(k);const O=k.task;return Promise.all([A.displayReadyCapability.promise,l]).then(([R,F])=>{if(this.destroyed){T();return}if(this._stats?.time("Rendering"),!(F.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:R,optionalContentConfig:F}),k.operatorListChanged()}).catch(T),O}getOperatorList({intent:e="display",annotationMode:n=Ua.ENABLE,printAnnotationStorage:r=null,isEditing:i=!1}={}){function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,n,r,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||=new Set).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>kh.textContent(r));const n=this.streamTextContent(e);return new Promise(function(r,i){function s(){a.read().then(function({value:l,done:c}){if(c){r(o);return}o.lang??=l.lang,Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=n.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const r of n.renderTasks)e.push(r.completed),r.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const n=this.#t();return e&&n&&(this._stats&&=new v2),n}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,n){const r=this._intentStates.get(n);r&&(this._stats?.timeEnd("Page Request"),r.displayReadyCapability?.resolve(e))}_renderPageChunk(e,n){for(let r=0,i=e.length;r<i;r++)n.operatorList.fnArray.push(e.fnArray[r]),n.operatorList.argsArray.push(e.argsArray[r]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const r of n.renderTasks)r.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}){const{map:s,transfer:a}=r,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),c=this._intentStates.get(n);c.streamReader=l;const d=()=>{l.read().then(({value:h,done:m})=>{if(m){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,c),d())},h=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const m of c.renderTasks)m.operatorListChanged();this.#t()}if(c.displayReadyCapability)c.displayReadyCapability.reject(h);else if(c.opListReadCapability)c.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:r=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!r){if(e.renderTasks.size>0)return;if(n instanceof LE){let i=sde;n.extraDelay>0&&n.extraDelay<1e3&&(i+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},i);return}}if(e.streamReader.cancel(new Ja(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}class Qn{#e=Promise.withResolvers();#t=null;#r=null;#n=null;static#a=0;static#s=!1;static#i=new WeakMap;static{gr&&(this.#s=!0,Ac.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,n)=>{const r=URL.parse(e);if(!r?.origin||r.origin==="null")return!1;const i=new URL(n,r);return r.origin===i.origin},this._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},this.fromPort=e=>{if(Jce("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.create(e)}}constructor({name:e=null,port:n=null,verbosity:r=Uce()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=r,n){if(Qn.#i.has(n))throw new Error("Cannot use more than one PDFWorker per port.");Qn.#i.set(n,this),this.#c(n)}else this.#l()}get promise(){return this.#e.promise}#o(){this.#e.resolve(),this.#t.send("configure",{verbosity:this.verbosity})}get port(){return this.#r}get messageHandler(){return this.#t}#c(e){this.#r=e,this.#t=new Hd("main","worker",e),this.#t.on("ready",()=>{}),this.#o()}#l(){if(Qn.#s||Qn.#d){this.#h();return}let{workerSrc:e}=Qn;try{Qn._isSameOrigin(window.location,e)||(e=Qn._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),r=new Hd("main","worker",n),i=()=>{s.abort(),r.destroy(),n.terminate(),this.destroyed?this.#e.reject(new Error("Worker was destroyed")):this.#h()},s=new AbortController;n.addEventListener("error",()=>{this.#n||i()},{signal:s.signal}),r.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this.#t=r,this.#r=n,this.#n=n,this.#o()}),r.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this.#h()}});const a=()=>{const o=new Uint8Array;r.send("test",o,[o.buffer])};a();return}catch{hy("The worker has been disabled.")}this.#h()}#h(){Qn.#s||(Ke("Setting up fake worker."),Qn.#s=!0),Qn._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this.#e.reject(new Error("Worker was destroyed"));return}const n=new gue;this.#r=n;const r=`fake${Qn.#a++}`,i=new Hd(r+"_worker",r,n);e.setup(i,n),this.#t=new Hd(r,r+"_worker",n),this.#o()}).catch(e=>{this.#e.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this.#n?.terminate(),this.#n=null,Qn.#i.delete(this.#r),this.#r=null,this.#t?.destroy(),this.#t=null}static create(e){const n=this.#i.get(e?.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Qn(e)}static get workerSrc(){if(Ac.workerSrc)return Ac.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#d(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return Je(this,"_setupFakeWorkerGlobal",(async()=>this.#d?this.#d:(await import(this.workerSrc)).WorkerMessageHandler)())}}class lde{#e=new Map;#t=new Map;#r=new Map;#n=new Map;#a=null;constructor(e,n,r,i,s,a){this.messageHandler=e,this.loadingTask=n,this.commonObjs=new VV,this.fontLoader=new uue({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}#s(e,n=null){const r=this.#e.get(e);if(r)return r;const i=this.messageHandler.sendWithPromise(e,n);return this.#e.set(e,i),i}get annotationStorage(){return Je(this,"annotationStorage",new UE)}getRenderingIntent(e,n=Ua.ENABLE,r=null,i=!1,s=!1){let a=Kr.DISPLAY,o=DA;switch(e){case"any":a=Kr.ANY;break;case"display":break;case"print":a=Kr.PRINT;break;default:Ke(`getRenderingIntent - invalid intent: ${e}`)}const l=a&Kr.PRINT&&r instanceof NV?r:this.annotationStorage;switch(n){case Ua.DISABLE:a+=Kr.ANNOTATIONS_DISABLE;break;case Ua.ENABLE:break;case Ua.ENABLE_FORMS:a+=Kr.ANNOTATIONS_FORMS;break;case Ua.ENABLE_STORAGE:a+=Kr.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Ke(`getRenderingIntent - invalid annotationMode: ${n}`)}i&&(a+=Kr.IS_EDITING),s&&(a+=Kr.OPLIST);const{ids:c,hash:d}=l.modifiedIds,h=[a,o.hash,d];return{renderingIntent:a,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:c}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),mr.cleanup(),this._networkStream?.cancelAllRequests(new Ja("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(r,i)=>{ot(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}ot(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async r=>{await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&n.onProgress?.(this._lastProgress),this._fullReader.onProgress=o=>{n.onProgress?.({loaded:o.loaded,total:o.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(r,i)=>{ot(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}ot(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,n._capability.resolve(new ade(r,this))}),e.on("DocException",r=>{n._capability.reject(Or(r))}),e.on("PasswordRequest",r=>{this.#a=Promise.withResolvers();try{if(!n.onPassword)throw Or(r);const i=s=>{s instanceof Error?this.#a.reject(s):this.#a.resolve({password:s})};n.onPassword(i,r.code)}catch(i){this.#a.reject(i)}return this.#a.promise}),e.on("DataLoaded",r=>{n.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(this.destroyed||this.commonObjs.has(r))return null;switch(i){case"Font":if("error"in s){const h=s.error;Ke(`Error during font loading: ${h}`),this.commonObjs.resolve(r,h);break}const a=new St(s),o=this._params.pdfBug&&globalThis.FontInspector?.enabled?(h,m)=>globalThis.FontInspector.fontAdded(h,m):null,l=new due(a,o,s.extra,s.charProcOperatorList);this.fontLoader.bind(l).catch(()=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&l.data&&l.clearData(),this.commonObjs.resolve(r,l)});break;case"CopyLocalImage":const{imageRef:c}=s;ot(c,"The imageRef must be defined.");for(const h of this.#t.values())for(const[,m]of h.objs)if(m?.ref===c)return m.dataLen?(this.commonObjs.resolve(r,structuredClone(m)),m.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;case"Pattern":const d=new Rn(s);this.commonObjs.resolve(r,d.getIR());break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([r,i,s,a])=>{if(this.destroyed)return;const o=this.#t.get(i);if(!o.objs.has(r)){if(o._intentStates.size===0){a?.bitmap?.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(r,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",r=>{this.destroyed||n.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("FetchBinaryData",async r=>{if(this.destroyed)throw new Error("Worker was destroyed.");const i=this[r.type];if(!i)throw new Error(`${r.type} not initialized, see the \`useWorkerFetch\` parameter.`);return i.fetch(r)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ke("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},n).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,r=this.#r.get(n);if(r)return r;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const a=new ode(n,s,this,this._params.pdfBug);return this.#t.set(n,a),a});return this.#r.set(n,i),i}getPageIndex(e){return RA(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return this.#s("GetFieldObjects")}hasJSActions(){return this.#s("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return this.#s("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#s("GetOptionalContentConfig").then(n=>new Bue(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=this.#e.get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,null).then(i=>({info:i[0],metadata:i[1]?new Fue(i[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,r),r}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of this.#t.values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),mr.cleanup()}}cachedPageNumber(e){if(!RA(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(n)??null}}class cde{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:n}=this.#e;return e.form||e.canvas&&n?.size>0}}class dc{#e=null;static#t=new WeakSet;constructor({callback:e,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:m=null,enableHWA:g=!1,operationsFilter:x=null}){this.callback=e,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=m,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new cde(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=g,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=x}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){if(this.cancelled)return;if(this._canvas){if(dc.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");dc.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:r,transform:i,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new _c(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:i,viewport:r,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,n=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),dc.#t.delete(this._canvas),e||=new LE(`Rendering cancelled, page ${this._pageIndex+1}`,n),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),dc.#t.delete(this._canvas),this.callback())))}}const ude="5.4.394",dde="2cc809ade";class wi{#e=null;#t=null;#r;#n=null;#a=!1;#s=!1;#i=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Je(this,"_keyboardManager",new zf([[["Escape","mac+Escape"],wi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wi.prototype._moveToPrevious],[["Home","mac+Home"],wi.prototype._moveToBeginning],[["End","mac+End"],wi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:n=null}){e?(this.#s=!1,this.#i=e):this.#s=!0,this.#l=e?._uiManager||n,this.#o=this.#l._eventBus,this.#r=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",wi.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#i&&(e.ariaControls=`${this.#i.id}_colorpicker_dropdown`);const n=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:n}),e.addEventListener("keydown",this.#g.bind(this),{signal:n});const r=this.#t=document.createElement("span");return r.className="swatch",r.ariaHidden="true",r.style.backgroundColor=this.#r,e.append(r),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),n=this.#l._signal;e.addEventListener("contextmenu",ji,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#i&&(e.id=`${this.#i.id}_colorpicker_dropdown`);for(const[r,i]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=r,s.setAttribute("data-l10n-id",wi.#h[r]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.ariaSelected=i===this.#r,s.addEventListener("click",this.#f.bind(this,i),{signal:n}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:n}),e}#f(e,n){n.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:at.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const n=e.target.getAttribute("data-color");n&&this.#f(n,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastChild?.focus()}#g(e){wi._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#a=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const n=this.#n=this.#d();this.#e.append(n)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#s){if(!this.#p){this.#i?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const n=this.#l.highlightColors.values();for(const r of this.#n.children)r.ariaSelected=n.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Nh{#e=null;#t=null;#r=null;static#n=null;constructor(e){this.#t=e,this.#r=e._uiManager,Nh.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:n,color:r}=this.#t,i=this.#e=document.createElement("input");return i.type="color",i.value=r||"#000000",i.className="basicColorPicker",i.tabIndex=0,i.setAttribute("data-l10n-id",Nh.#n[e]),i.addEventListener("input",()=>{this.#r.updateParams(n,i.value)},{signal:this.#r._signal}),i}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function $2(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Nd(t){return Math.max(0,Math.min(255,255*t))}class B2{static CMYK_G([e,n,r,i]){return["G",1-Math.min(1,.3*e+.59*r+.11*n+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nd(e),[e,e,e]}static G_HTML([e]){const n=$2(e);return`#${n}${n}${n}`}static RGB_G([e,n,r]){return["G",.3*e+.59*n+.11*r]}static RGB_rgb(e){return e.map(Nd)}static RGB_HTML(e){return`#${e.map($2).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,r,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb([e,n,r,i]){return[Nd(1-Math.min(1,e+i)),Nd(1-Math.min(1,r+i)),Nd(1-Math.min(1,n+i))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,r]){const i=1-e,s=1-n,a=1-r,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class hde{create(e,n,r=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),r||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${n}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Pt("Abstract method `_createSVG` called.")}}class Og extends hde{_createSVG(e){return document.createElementNS(Vs,e)}}const fde=9,il=new WeakSet,pde=new Date().getTimezoneOffset()*60*1e3;class L0{static create(e){switch(e.data.annotationType){case fn.LINK:return new qE(e);case fn.TEXT:return new gde(e);case fn.WIDGET:switch(e.data.fieldType){case"Tx":return new vde(e);case"Btn":return e.data.radioButton?new qV(e):e.data.checkBox?new bde(e):new xde(e);case"Ch":return new wde(e);case"Sig":return new yde(e)}return new fl(e);case fn.POPUP:return new FA(e);case fn.FREETEXT:return new GV(e);case fn.LINE:return new _de(e);case fn.SQUARE:return new Ade(e);case fn.CIRCLE:return new Cde(e);case fn.POLYLINE:return new KV(e);case fn.CARET:return new Ede(e);case fn.INK:return new GE(e);case fn.POLYGON:return new Pde(e);case fn.HIGHLIGHT:return new YV(e);case fn.UNDERLINE:return new Tde(e);case fn.SQUIGGLY:return new jde(e);case fn.STRIKEOUT:return new kde(e);case fn.STAMP:return new XV(e);case fn.FILEATTACHMENT:return new Nde(e);default:return new Yt(e)}}}class Yt{#e=null;#t=!1;#r=null;constructor(e,{isRenderable:n=!1,ignoreBorder:r=!1,createQuadrilaterals:i=!1}={}){this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(r)),i&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e?.str||n?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return Yt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,n=this.annotationStorage?.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:r,rect:i}=this.data;let s=-1/0,a=-1/0;if(n?.length>=8){for(let o=0;o<n.length;o+=8)n[o+1]>a?(a=n[o+1],s=n[o+2]):n[o+1]===a&&(s=Math.max(s,n[o+2]));return[s,a]}if(r?.length>=1){for(const o of r)for(let l=0,c=o.length;l<c;l+=2)o[l+1]>a?(a=o[l+1],s=o[l]):o[l+1]===a&&(s=Math.max(s,o[l]));if(s!==1/0)return[s,a]}return i?[i[2],i[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:r,pageHeight:i,pageX:s,pageY:a}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-s)/r,e[1]=100*(e[1]-a)/i,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${Th}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:n}=this,r={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:r})||this.annotationStorage.setValue(`${Th}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:r,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#r?.popup||this.popup)?.remove(),this.#r=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:n,popup:r}=e;n&&this.#n(n);let i=this.#r?.popup||this.popup;!i&&r?.text&&(this._createPopup(r),i=this.#r.popup),i&&(i.updateEdited(e),r?.deleted&&(i.remove(),this.#r=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#r?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:n},data:{rect:r,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;r?.splice(0,4,...e),n.left=`${100*(e[0]-o)/s}%`,n.top=`${100*(a-e[3]+l)/a}%`,i===0?(n.width=`${100*(e[2]-e[0])/s}%`,n.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(i)}_createContainer(e){const{data:n,parent:{page:r,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",n.id),!(this instanceof fl)&&!(this instanceof qE)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(s.title=n.alternativeText),n.noRotate&&s.classList.add("norotate"),!n.rect||this instanceof FA){const{rotation:y}=n;return!n.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:o,height:l}=this;if(!e&&n.borderStyle.width>0){a.borderWidth=`${n.borderStyle.width}px`;const y=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(y>0||b>0){const A=`calc(${y}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=A}else if(this instanceof qV){const A=`calc(${o}px * var(--total-scale-factor)) / calc(${l}px * var(--total-scale-factor))`;a.borderRadius=A}switch(n.borderStyle.style){case tc.SOLID:a.borderStyle="solid";break;case tc.DASHED:a.borderStyle="dashed";break;case tc.BEVELED:Ke("Unimplemented border style: beveled");break;case tc.INSET:Ke("Unimplemented border style: inset");break;case tc.UNDERLINE:a.borderBottomStyle="solid";break}const w=n.borderColor||null;w?(this.#t=!0,a.borderColor=Ae.makeHexColor(w[0]|0,w[1]|0,w[2]|0)):a.borderWidth=0}const c=Ae.normalizeRect([n.rect[0],r.view[3]-n.rect[1]+r.view[1],n.rect[2],r.view[3]-n.rect[3]+r.view[1]]),{pageWidth:d,pageHeight:h,pageX:m,pageY:g}=i.rawDims;a.left=`${100*(c[0]-m)/d}%`,a.top=`${100*(c[1]-g)/h}%`;const{rotation:x}=n;return n.hasOwnCanvas||x===0?(a.width=`${100*o/d}%`,a.height=`${100*l/h}%`):this.setRotation(x,s),s}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:r,pageHeight:i}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),n.style.width=`${100*s/r}%`,n.style.height=`${100*a/i}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,r,i)=>{const s=i.detail[n],a=s[0],o=s.slice(1);i.target.style[r]=B2[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[r]:B2[`${a}_rgb`](o)})};return Je(this,"_commonActions",{display:n=>{const{display:r}=n.detail,i=r%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:r===1||r===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:r}=n.detail;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:r,noView:r})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const r=n.detail.rotation;this.setRotation(r),this.annotationStorage.setValue(this.data.id,{rotation:r})}})}_dispatchEventFromSandbox(e,n){const r=this._commonActions;for(const i of Object.keys(n.detail))(e[i]||r[i])?.(n)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const r=this._commonActions;for(const[i,s]of Object.entries(n)){const a=r[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete n[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,r,i,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,b,w,A]=e.subarray(2,6);if(i===y&&s===b&&n===w&&r===A)return}const{style:a}=this.container;let o;if(this.#t){const{borderColor:y,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-n,c=s-r,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const m=d.createElement("defs");h.append(m);const g=d.createElement("clipPath"),x=`clippath_${this.data.id}`;g.setAttribute("id",x),g.setAttribute("clipPathUnits","objectBoundingBox"),m.append(g);for(let y=2,b=e.length;y<b;y+=8){const w=e[y],A=e[y+1],_=e[y+2],E=e[y+3],P=d.createElement("rect"),T=(_-n)/l,k=(s-A)/c,O=(w-_)/l,R=(A-E)/c;P.setAttribute("x",T),P.setAttribute("y",k),P.setAttribute("width",O),P.setAttribute("height",R),g.append(P),o?.push(`<rect vector-effect="non-scaling-stroke" x="${T}" y="${k}" width="${O}" height="${R}"/>`)}this.#t&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${x})`}_createPopup(e=null){const{data:n}=this;let r,i;e?(r={str:e.text},i=e.date):(r=n.contentsObj,i=n.modificationDate),this.#r=new FA({data:{color:n.color,titleObj:n.titleObj,modificationDate:i,contentsObj:r,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#r||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#r}render(){Pt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const r=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===n)continue;const l=typeof o=="string"?o:null,c=document.querySelector(`[data-element-id="${a}"]`);if(c&&!il.has(c)){Ke(`_getElementsByName - element not allowed: ${a}`);continue}r.push({id:a,exportValue:l,domElement:c})}return r}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==n&&il.has(i)&&r.push({id:a,exportValue:s,domElement:i})}return r}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class mde extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class qE extends Yt{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!n?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,r=document.createElement("a");r.setAttribute("data-element-id",e.id);let i=!1;return e.url?(n.addLinkAttributes(r,e.url,e.newWindow),i=!0):e.action?(this._bindNamedAction(r,e.action,e.overlaidText),i=!0):e.attachment?(this.#t(r,e.attachment,e.overlaidText,e.attachmentDest),i=!0):e.setOCGState?(this.#r(r,e.setOCGState,e.overlaidText),i=!0):e.dest?(this._bindLink(r,e.dest,e.overlaidText),i=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,e),i=!0),e.resetForm?(this._bindResetFormAction(r,e.resetForm),i=!0):this.isTooltipOnly&&!i&&(this._bindLink(r,""),i=!0)),this.container.classList.add("linkAnnotation"),i&&(this.contentElement=r,this.container.append(r)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,n,r=""){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&this.#e(),r&&(e.title=r)}_bindNamedAction(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),r&&(e.title=r),this.#e()}#t(e,n,r="",i=null){e.href=this.linkService.getAnchorUrl(""),n.description?e.title=n.description:r&&(e.title=r),e.onclick=()=>(this.downloadManager?.openOrDownloadData(n.content,n.filename,i),!1),this.#e()}#r(e,n,r=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),r&&(e.title=r),this.#e()}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const i of Object.keys(n.actions)){const s=r.get(i);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:i}}),!1))}n.overlaidText&&(e.title=n.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,n){const r=e.onclick;if(r||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ke('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(e.onclick=()=>!1);return}e.onclick=()=>{r?.();const{fields:i,refs:s,include:a}=n,o=[];if(i.length!==0||s.length!==0){const d=new Set(s);for(const h of i){const m=this._fieldObjects[h]||[];for(const{id:g}of m)d.add(g)}for(const h of Object.values(this._fieldObjects))for(const m of h)d.has(m.id)===a&&o.push(m)}else for(const d of Object.values(this._fieldObjects))o.push(...d);const l=this.annotationStorage,c=[];for(const d of o){const{id:h}=d;switch(c.push(h),d.type){case"text":{const g=d.defaultValue||"";l.setValue(h,{value:g});break}case"checkbox":case"radiobutton":{const g=d.defaultValue===d.exportValues;l.setValue(h,{value:g});break}case"combobox":case"listbox":{const g=d.defaultValue||"";l.setValue(h,{value:g});break}default:continue}const m=document.querySelector(`[data-element-id="${h}"]`);if(m){if(!il.has(m)){Ke(`_bindResetFormAction - element not allowed: ${h}`);continue}}else continue;m.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:c,name:"ResetForm"}}),!1}}}class gde extends Yt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class fl extends Yt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return nr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,r,i,s){r.includes("mouse")?e.addEventListener(r,a=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(r,a=>{if(r==="blur"){if(!n.focused||!a.relatedTarget)return;n.focused=!1}else if(r==="focus"){if(n.focused)return;n.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}})})}_setEventListeners(e,n,r,i){for(const[s,a]of r)(a==="Action"||this.data.actions?.[a])&&((a==="Focus"||a==="Blur")&&(n||={focused:!1}),this._setEventListener(e,n,s,a,i),a==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,n,"blur","Blur",null):a==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":Ae.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:r}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||fde,s=e.style;let a;const o=2,l=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(c/(j0*i))||1,h=c/d;a=Math.min(i,l(h/j0))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(c/j0))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=Ae.makeHexColor(r[0],r[1],r[2]),this.data.textAlignment!==null&&(s.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class vde extends fl{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,r,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[n]=r),s.setValue(a.id,{[i]:r})}render(){const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let r=null;if(this.renderForms){const i=e.getValue(n,{value:this.data.fieldValue});let s=i.value||"";const a=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;a&&s.length>a&&(s=s.slice(0,a));let o=i.formattedValue||this.data.textContent?.join(`
`)||null;o&&this.data.comb&&(o=o.replaceAll(/\s+/g,""));const l={userValue:s,formattedValue:o,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(r=document.createElement("textarea"),r.textContent=o??s,this.data.doNotScroll&&(r.style.overflowY="hidden")):(r=document.createElement("input"),r.type=this.data.password?"password":"text",r.setAttribute("value",o??s),this.data.doNotScroll&&(r.style.overflowX="hidden")),this.data.hasOwnCanvas&&(r.hidden=!0),il.add(r),this.contentElement=r,r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,r.name=this.data.fieldName,r.tabIndex=0;const{datetimeFormat:c,datetimeType:d,timeStep:h}=this.data,m=!!d&&this.enableScripting;c&&(r.title=c),this._setRequired(r,this.data.required),a&&(r.maxLength=a),r.addEventListener("input",x=>{e.setValue(n,{value:x.target.value}),this.setPropertyOnSiblings(r,"value",x.target.value,"value"),l.formattedValue=null}),r.addEventListener("resetform",x=>{const y=this.data.defaultFieldValue??"";r.value=l.userValue=y,l.formattedValue=null});let g=x=>{const{formattedValue:y}=l;y!=null&&(x.target.value=y),x.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){r.addEventListener("focus",y=>{if(l.focused)return;const{target:b}=y;if(m&&(b.type=d,h&&(b.step=h)),l.userValue){const w=l.userValue;if(m)if(d==="time"){const A=new Date(w),_=[A.getHours(),A.getMinutes(),A.getSeconds()];b.value=_.map(E=>E.toString().padStart(2,"0")).join(":")}else b.value=new Date(w-pde).toISOString().split(d==="date"?"T":".",1)[0];else b.value=w}l.lastCommittedValue=b.value,l.commitKey=1,this.data.actions?.Focus||(l.focused=!0)}),r.addEventListener("updatefromsandbox",y=>{this.showElementAndHideCanvas(y.target);const b={value(w){l.userValue=w.detail.value??"",m||e.setValue(n,{value:l.userValue.toString()}),w.target.value=l.userValue},formattedValue(w){const{formattedValue:A}=w.detail;l.formattedValue=A,A!=null&&w.target!==document.activeElement&&(w.target.value=A);const _={formattedValue:A};m&&(_.value=A),e.setValue(n,_)},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:A}=w.detail,{target:_}=w;if(A===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",A);let E=l.userValue;!E||E.length<=A||(E=E.slice(0,A),_.value=l.userValue=E,e.setValue(n,{value:E}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:E,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,y)}),r.addEventListener("keydown",y=>{l.commitKey=1;let b=-1;if(y.key==="Escape"?b=0:y.key==="Enter"&&!this.data.multiLine?b=2:y.key==="Tab"&&(l.commitKey=3),b===-1)return;const{value:w}=y.target;l.lastCommittedValue!==w&&(l.lastCommittedValue=w,l.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:b,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}))});const x=g;g=null,r.addEventListener("blur",y=>{if(!l.focused||!y.relatedTarget)return;this.data.actions?.Blur||(l.focused=!1);const{target:b}=y;let{value:w}=b;if(m){if(w&&d==="time"){const A=w.split(":").map(_=>parseInt(_,10));w=new Date(2e3,0,1,A[0],A[1],A[2]||0).valueOf(),b.step=""}else w.includes("T")||(w=`${w}T00:00`),w=new Date(w).valueOf();b.type="text"}l.userValue=w,l.lastCommittedValue!==w&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:w,willCommit:!0,commitKey:l.commitKey,selStart:y.target.selectionStart,selEnd:y.target.selectionEnd}}),x(y)}),this.data.actions?.Keystroke&&r.addEventListener("beforeinput",y=>{l.lastCommittedValue=null;const{data:b,target:w}=y,{value:A,selectionStart:_,selectionEnd:E}=w;let P=_,T=E;switch(y.inputType){case"deleteWordBackward":{const k=A.substring(0,_).match(/\w*[^\w]*$/);k&&(P-=k[0].length);break}case"deleteWordForward":{const k=A.substring(_).match(/^[^\w]*\w*/);k&&(T+=k[0].length);break}case"deleteContentBackward":_===E&&(P-=1);break;case"deleteContentForward":_===E&&(T+=1);break}y.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:A,change:b||"",willCommit:!1,selStart:P,selEnd:T}})}),this._setEventListeners(r,l,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],y=>y.target.value)}if(g&&r.addEventListener("blur",g),this.data.comb){const y=(this.data.rect[2]-this.data.rect[0])/a;r.classList.add("comb"),r.style.letterSpacing=`calc(${y}px * var(--total-scale-factor) - 1ch)`}}else r=document.createElement("div"),r.textContent=this.data.fieldValue,r.style.verticalAlign="middle",r.style.display="table-cell",this.data.hasOwnCanvas&&(r.hidden=!0);return this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class yde extends fl{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class bde extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.exportValue===n.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(r,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return il.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",n.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r)){const d=l&&c.exportValue===n.exportValue;c.domElement&&(c.domElement.checked=d),e.setValue(c.id,{value:d})}e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue||"Off";a.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(r,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class qV extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,r=n.id;let i=e.getValue(r,{value:n.fieldValue===n.buttonValue}).value;if(typeof i=="string"&&(i=i!==n.buttonValue,e.setValue(r,{value:i})),i)for(const a of this._getElementsByName(n.fieldName,r))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(il.add(s),s.setAttribute("data-element-id",r),s.disabled=n.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=n.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const c of this._getElementsByName(o,r))e.setValue(c.id,{value:!1});e.setValue(r,{value:l})}),s.addEventListener("resetform",a=>{const o=n.defaultFieldValue;a.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const a=n.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:c=>{const d=a===c.detail.value;for(const h of this._getElementsByName(c.target.name)){const m=d&&h.id===r;h.domElement&&(h.domElement.checked=m),e.setValue(h.id,{value:m})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class xde extends qE{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",r=>{this._dispatchEventFromSandbox({},r)})),e}}class wde extends fl{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,r=e.getValue(n,{value:this.data.fieldValue}),i=document.createElement("select");il.add(i),i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const m of i.options)m.selected=m.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,r.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),s=!1),i.append(h)}let a=null;if(s){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),i.prepend(d),a=()=>{d.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=d=>{const h=d?"value":"textContent",{options:m,multiple:g}=i;return g?Array.prototype.filter.call(m,x=>x.selected).map(x=>x[h]):m.selectedIndex===-1?null:m[m.selectedIndex][h]};let l=o(!1);const c=d=>{const h=d.target.options;return Array.prototype.map.call(h,m=>({displayValue:m.textContent,exportValue:m.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",d=>{const h={value(m){a?.();const g=m.detail.value,x=new Set(Array.isArray(g)?g:[g]);for(const y of i.options)y.selected=x.has(y.value);e.setValue(n,{value:o(!0)}),l=o(!1)},multipleSelection(m){i.multiple=!0},remove(m){const g=i.options,x=m.detail.remove;g[x].selected=!1,i.remove(x),g.length>0&&Array.prototype.findIndex.call(g,b=>b.selected)===-1&&(g[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},clear(m){for(;i.length!==0;)i.remove(0);e.setValue(n,{value:null,items:[]}),l=o(!1)},insert(m){const{index:g,displayValue:x,exportValue:y}=m.detail.insert,b=i.children[g],w=document.createElement("option");w.textContent=x,w.value=y,b?b.before(w):i.append(w),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},items(m){const{items:g}=m.detail;for(;i.length!==0;)i.remove(0);for(const x of g){const{displayValue:y,exportValue:b}=x,w=document.createElement("option");w.textContent=y,w.value=b,i.append(w)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(n,{value:o(!0),items:c(m)}),l=o(!1)},indices(m){const g=new Set(m.detail.indices);for(const x of m.target.options)x.selected=g.has(x.index);e.setValue(n,{value:o(!0)}),l=o(!1)},editable(m){m.target.disabled=!m.detail.editable}};this._dispatchEventFromSandbox(h,d)}),i.addEventListener("input",d=>{const h=o(!0),m=o(!1);e.setValue(n,{value:h}),d.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:l,change:m,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):i.addEventListener("input",function(d){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class FA extends Yt{constructor(e){const{data:n,elements:r,parent:i}=e,s=!!i._commentManager;if(super(e,{isRenderable:!s&&Yt._hasPopupData(n)}),this.elements=r,s&&Yt._hasPopupData(n)){const a=this.popup=this.#e();for(const o of r)o.popup=a}else this.popup=null}#e(){return new Sde({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const n=this.popup=this.#e(),r=[];for(const i of this.elements)i.popup=n,i.container.ariaHasPopup="dialog",r.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(i=>`${cc}${i}`).join(",")),this.container}}class Sde{#e=null;#t=this.#W.bind(this);#r=this.#$.bind(this);#n=this.#M.bind(this);#a=this.#S.bind(this);#s=null;#i=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#C=null;#_=null;#w=null;#E=!1;#x=null;#A=null;constructor({container:e,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:d,open:h,commentManager:m=null}){this.#i=e,this.#_=i,this.#o=a,this.#C=o,this.#h=l,this.#s=n,this.#y=c,this.#d=d,this.#l=r,this.#e=m,this.#x=r[0],this.#c=NA.toDateObject(s),this.trigger=r.flatMap(g=>g.getElementsToTriggerPopup()),m||(this.#k(),this.#i.hidden=!0,h&&this.#S())}#k(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const n of this.trigger)n.addEventListener("click",this.#a,{signal:e}),n.addEventListener("pointerenter",this.#n,{signal:e}),n.addEventListener("pointerleave",this.#r,{signal:e}),n.classList.add("popupTriggerArea");for(const n of this.#l)n.container?.addEventListener("keydown",this.#t,{signal:e})}#T(){const e=this.#l.find(n=>n.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#T(),!this.#v)return;const{signal:e}=this.#m=new AbortController,n=this.#x.hasOwnCommentButton,r=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!n)},i=()=>{this.#e.toggleCommentPopup(this,!1,!0,!n)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(n){this.#p=this.#x.container;for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=this.#p=document.createElement("button");a.className="annotationCommentButton";const o=this.#x.container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#L(),this.#j(),a.addEventListener("keydown",this.#t,{signal:e}),a.addEventListener("click",r,{signal:e}),a.addEventListener("pointerenter",i,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}#j(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,n]=this.#v,{style:r}=this.#p;r.left=`calc(${e}%)`,r.top=`calc(${n}% - var(--comment-button-dim))`}#L(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:n}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:r,creationDate:i,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#A||=this.#x.commentText,this.#A}set comment(e){e!==this.comment&&(this.#x.commentText=this.#A=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=n)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:n,height:r}=this.#p.getBoundingClientRect(),{x:i,y:s,width:a,height:o}=this.#x.layer.getBoundingClientRect();return[(e-i)/a,(n+r-s)/o]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,r]=this.#b||this.commentButtonPosition.map(c=>c/100),i=this.parentBoundingClientRect,{x:s,y:a,width:o,height:l}=i;this.#e.showDialog(null,this,s+n*o,a+r*l,{...e,parentDimensions:i})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#s){const r=e.style.outlineColor=Ae.makeHexColor(...this.#s);e.style.backgroundColor=`color-mix(in srgb, ${r} 30%, white)`}const n=document.createElement("span");if(n.className="header",this.#_?.str){const r=document.createElement("span");r.className="title",n.append(r),{dir:r.dir,str:r.textContent}=this.#_}if(e.append(n),this.#c){const r=document.createElement("time");r.className="popupDate",r.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),r.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),r.dateTime=this.#c.toISOString(),n.append(r)}EV({html:this.#O||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#i.append(e)}get#O(){const e=this.#C,n=this.#o;return e?.str&&(!n?.str||n.str===e.str)&&this.#C.html||null}get#D(){return this.#O?.attributes?.style?.fontSize||0}get#F(){return this.#O?.attributes?.style?.color||null}#R(e){const n=[],r={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},i={style:{color:this.#F,fontSize:this.#D?`calc(${this.#D}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))n.push({name:"span",value:s,attributes:i});return r}#W(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#S()}updateEdited({rect:e,popup:n,deleted:r}){if(this.#e){r?(this.remove(),this.#A=null):n&&(n.deleted?this.remove():(this.#L(),this.#A=n.text)),e&&(this.#v=null,this.#T(),this.#j());return}if(r||n?.deleted){this.remove();return}this.#k(),this.#w||={contentsObj:this.#o,richText:this.#C},e&&(this.#u=null),n&&n.text&&(this.#C=this.#R(n.text),this.#c=NA.toDateObject(n.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#C}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#E=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#P(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}}=this.#h;let a=!!this.#d,o=a?this.#d:this.#y;for(const x of this.#l)if(!o||Ae.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=Ae.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=a?o[2]-o[0]+5:0,h=l[0]+d,m=l[1];this.#u=[100*(h-i)/n,100*(m-s)/r];const{style:g}=this.#i;g.left=`${this.#u[0]}%`,g.top=`${this.#u[1]}%`}#S(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#M(),this.#i.addEventListener("click",this.#a),this.#i.addEventListener("keydown",this.#t)):(this.#$(),this.#i.removeEventListener("click",this.#a),this.#i.removeEventListener("keydown",this.#t))}#M(){this.#g||this.render(),this.isVisible?this.#f&&this.#i.classList.add("focused"):(this.#P(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#$(){this.#i.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#E=this.isVisible,this.#E&&(this.#i.hidden=!0)}maybeShow(){this.#e||(this.#k(),this.#E&&(this.#g||this.#M(),this.#E=!1,this.#i.hidden=!1))}get isVisible(){return this.#e?!1:this.#i.hidden===!1}}class GV extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Qe.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const r=document.createElement("span");r.textContent=n,e.append(r)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class _de extends Yt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),i.append(s),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Ade extends Yt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:rect");return a.setAttribute("x",s/2),a.setAttribute("y",s/2),a.setAttribute("width",n-s),a.setAttribute("height",r-s),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Cde extends Yt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:n,height:r}=this,i=this.svgFactory.create(n,r,!0),s=e.borderStyle.width,a=this.#e=this.svgFactory.createElement("svg:ellipse");return a.setAttribute("cx",n/2),a.setAttribute("cy",r/2),a.setAttribute("rx",n/2-s/2),a.setAttribute("ry",r/2-s/2),a.setAttribute("stroke-width",s||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),i.append(a),this.container.append(i),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class KV extends Yt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:r,popupRef:i},width:s,height:a}=this;if(!n)return this.container;const o=this.svgFactory.create(s,a,!0);let l=[];for(let d=0,h=n.length;d<h;d+=2){const m=n[d]-e[0],g=e[3]-n[d+1];l.push(`${m},${g}`)}l=l.join(" ");const c=this.#e=this.svgFactory.createElement(this.svgElementName);return c.setAttribute("points",l),c.setAttribute("stroke-width",r.width||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),o.append(c),this.container.append(o),!i&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Pde extends KV{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Ede extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class GE extends Yt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Qe.HIGHLIGHT:Qe.INK}#r(e,n){switch(e){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:n,inkLists:r,borderStyle:i,popupRef:s}}=this,{transform:a,width:o,height:l}=this.#r(n,e),c=this.svgFactory.create(o,l,!0),d=this.#e=this.svgFactory.createElement("svg:g");c.append(d),d.setAttribute("stroke-width",i.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let h=0,m=r.length;h<m;h++){const g=this.svgFactory.createElement(this.svgElementName);this.#t.push(g),g.setAttribute("points",r[h].join(",")),d.append(g)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(c),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:n,points:r,rect:i}=e,s=this.#e;if(n>=0&&s.setAttribute("stroke-width",n||1),r)for(let a=0,o=this.#t.length;a<o;a++)this.#t[a].setAttribute("points",r[a].join(","));if(i){const{transform:a,width:o,height:l}=this.#r(this.data.rotation,i);s.parentElement.setAttribute("viewBox",`0 0 ${o} ${l}`),s.setAttribute("transform",a)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class YV extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Qe.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const r=document.createElement("mark");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class Tde extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class jde extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const r=document.createElement("u");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class kde extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const r=document.createElement("s");r.classList.add("overlaidText"),r.textContent=e,this.container.append(r)}return this.container}}class XV extends Yt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Qe.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class Nde extends Yt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:n}=this.data;this.filename=n.filename,this.content=n.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let r;n.hasAppearance||n.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),r.addEventListener("dblclick",this.#t.bind(this)),this.#e=r;const{isMac:i}=nr.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(i?s.metaKey:s.ctrlKey)&&this.#t()}),!n.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),e.append(r),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class KE{#e=null;#t=null;#r=null;#n=new Map;#a=null;#s=null;#i=[];#o=!1;constructor({div:e,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o,commentManager:l,linkService:c,annotationStorage:d}){this.div=e,this.#e=n,this.#t=r,this.#a=o||null,this.#s=c||null,this.#r=d||new UE,this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i,this._commentManager=l||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:n}=e,r=this.div;rl(r,this.viewport);const i=new Map,s=[],a={data:null,layer:r,linkService:this.#s,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Og,annotationStorage:this.#r,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of n){if(o.noHTML)continue;const l=o.annotationType===fn.POPUP;if(l){const h=i.get(o.id);if(!h)continue;if(!this._commentManager){s.push(o);continue}a.elements=h}else if(o.rect[2]===o.rect[0]||o.rect[3]===o.rect[1])continue;a.data=o;const c=L0.create(a);if(!c.isRenderable)continue;if(!l&&(this.#i.push(c),o.popupRef)){const h=i.get(o.popupRef);h?h.push(c):i.set(o.popupRef,[c])}const d=c.render();o.hidden&&(d.style.visibility="hidden"),c._isEditable&&(this.#n.set(c.data.id,c),this._annotationEditorUIManager?.renderAnnotationElement(c))}await this.#c();for(const o of s){const l=a.elements=i.get(o.id);a.data=o;const c=L0.create(a);if(!c.isRenderable)continue;const d=c.render();c.contentElement.id=`${cc}${o.id}`,o.hidden&&(d.style.visibility="hidden"),l.at(-1).container.after(d)}this.#l()}async#c(){if(this.#i.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:r,data:{id:i}}of this.#i){const s=r.id=`${cc}${i}`;e.push(this.#a?.getAriaAttributes(s).then(a=>{if(a)for(const[o,l]of a)r.setAttribute(o,l)}))}}this.#i.sort(({data:{rect:[r,i,s,a]}},{data:{rect:[o,l,c,d]}})=>{if(r===s&&i===a)return 1;if(o===c&&l===d)return-1;const h=a,m=i,g=(i+a)/2,x=d,y=l,b=(l+d)/2;if(g>=x&&b<=m)return-1;if(b>=h&&g<=y)return 1;const w=(r+s)/2,A=(o+c)/2;return w-A});const n=document.createDocumentFragment();for(const r of this.#i)n.append(r.container),this._commentManager?(r.extraPopupElement?.popup||r.popup)?.renderCommentButton():r.extraPopupElement&&n.append(r.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),this.#e)for(const r of this.#i)this.#e.addPointerInTextLayer(r.contentElement,!1)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:this.#s,svgFactory:new Og,parent:this};for(const r of e){r.borderStyle||=KE._defaultBorderStyle,n.data=r;const i=L0.create(n);i.isRenderable&&(i.render(),i.contentElement.id=`${cc}${r.id}`,this.#i.push(i))}await this.#c()}update({viewport:e}){const n=this.div;this.viewport=e,rl(n,{rotation:e.rotation}),this.#l(),n.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[n,r]of this.#t){const i=e.querySelector(`[data-annotation-id="${n}"]`);if(!i)continue;r.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):i.append(r);const a=this.#n.get(n);a&&(a._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(n,i.id,r),a._hasNoCanvas=!1):a.canvas=r)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:n}=this,{id:r,rotation:i}=e,s=new mde({data:{id:r,rect:e.getPDFRect(),rotation:i},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:this.#s,annotationStorage:this.#r});return s.render(),s.contentElement.id=`${cc}${r}`,s.createOrUpdatePopup(),this.#i.push(s),s}removeAnnotation(e){const n=this.#i.findIndex(i=>i.data.id===e);if(n<0)return;const[r]=this.#i.splice(n,1);this.#e?.removePointerInTextLayer(r.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Je(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:tc.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Dm=/\r\n?|\n/g;class In extends De{#e="";#t=`${this.id}-editor`;#r=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=In.prototype,n=s=>s.isEmpty(),r=eo.TRANSLATE_SMALL,i=eo.TRANSLATE_BIG;return Je(this,"_keyboardManager",new zf([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[i,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,i],checker:n}]]))}static _type="freetext";static _editorType=Qe.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||In._defaultColor||De._defaultLineColor,this.#n=e.fontSize||In._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,n){De.initialize(e,n);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case at.FREETEXT_SIZE:In._defaultFontSize=n;break;case at.FREETEXT_COLOR:In._defaultColor=n;break}}updateParams(e,n){switch(e){case at.FREETEXT_SIZE:this.#a(n);break;case at.FREETEXT_COLOR:this.#s(n);break}}static get defaultPropertiesToUpdate(){return[[at.FREETEXT_SIZE,In._defaultFontSize],[at.FREETEXT_COLOR,In._defaultColor||De._defaultLineColor]]}get propertiesToUpdate(){return[[at.FREETEXT_SIZE,this.#n],[at.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Nh(this),[["colorPicker",this._colorPicker]]}get colorType(){return at.FREETEXT_COLOR}#a(e){const n=i=>{this.editorDiv.style.fontSize=`calc(${i}px * var(--total-scale-factor))`,this.translate(0,-(i-this.#n)*this.parentScale),this.#n=i,this.#o()},r=this.#n;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#s(e){const n=i=>{this.color=i,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-In._internalPadding*e,-(In._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#r=new AbortController;const e=this._uiManager.combinedSignal(this.#r);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#r?.abort(),this.#r=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#i(){const e=[];this.editorDiv.normalize();let n=null;for(const r of this.editorDiv.childNodes)n?.nodeType===Node.TEXT_NODE&&r.nodeName==="BR"||(e.push(In.#c(r)),n=r);return e.join(`
`)}#o(){const[e,n]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:i,div:s}=this,a=s.style.display,o=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",i.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=a,s.classList.toggle("hidden",o)}this.rotation%180===this.parentRotation%180?(this.width=r.width/e,this.height=r.height/n):(this.width=r.height/e,this.height=r.width/n),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,n=this.#e=this.#i().trimEnd();if(e===n)return;const r=i=>{if(this.#e=i,!i){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{r(n)},undo:()=>{r(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){In._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,n;(this._isCopy||this.annotationElementId)&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[i,s]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[o,l]=this.getInitialTranslation();[o,l]=this.pageTranslationToScreen(o,l);const[c,d]=this.pageDimensions,[h,m]=this.pageTranslation;let g,x;switch(this.rotation){case 0:g=e+(a[0]-h)/c,x=n+this.height-(a[1]-m)/d;break;case 90:g=e+(a[0]-h)/c,x=n-(a[1]-m)/d,[o,l]=[l,-o];break;case 180:g=e-this.width+(a[0]-h)/c,x=n-(a[1]-m)/d,[o,l]=[-o,-l];break;case 270:g=e+(a[0]-h-this.height*d)/c,x=n+(a[1]-m-this.width*c)/d,[o,l]=[-l,o];break}this.setAt(g*i,x*s,o,l)}else this._moveAfterPaste(e,n);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Dm,"")}editorDivPaste(e){const n=e.clipboardData||window.clipboardData,{types:r}=n;if(r.length===1&&r[0]==="text/plain")return;e.preventDefault();const i=In.#d(n.getData("text")||"").replaceAll(Dm,`
`);if(!i)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const a=s.getRangeAt(0);if(!i.includes(`
`)){a.insertNode(document.createTextNode(i)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:o,startOffset:l}=a,c=[],d=[];if(o.nodeType===Node.TEXT_NODE){const g=o.parentElement;if(d.push(o.nodeValue.slice(l).replaceAll(Dm,"")),g!==this.editorDiv){let x=c;for(const y of this.editorDiv.childNodes){if(y===g){x=d;continue}x.push(In.#c(y))}}c.push(o.nodeValue.slice(0,l).replaceAll(Dm,""))}else if(o===this.editorDiv){let g=c,x=0;for(const y of this.editorDiv.childNodes)x++===l&&(g=d),g.push(In.#c(y))}this.#e=`${c.join(`
`)}${i}${d.join(`
`)}`,this.#l();const h=new Range;let m=Math.sumPrecise(c.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const x=g.nodeValue.length;if(m<=x){h.setStart(g,m),h.setEnd(g,m);break}m-=x}s.removeAllRanges(),s.addRange(h)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=In._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,n,r){let i=null;if(e instanceof GV){const{data:{defaultAppearanceData:{fontSize:a,fontColor:o},rect:l,rotation:c,id:d,popupRef:h,richText:m,contentsObj:g,creationDate:x,modificationDate:y},textContent:b,textPosition:w,parent:{page:{pageNumber:A}}}=e;if(!b||b.length===0)return null;i=e={annotationType:Qe.FREETEXT,color:Array.from(o),fontSize:a,value:b.join(`
`),position:w,pageIndex:A-1,rect:l.slice(0),rotation:c,annotationElementId:d,id:d,deleted:!1,popupRef:h,comment:g?.str||null,richText:m,creationDate:x,modificationDate:y}}const s=await super.deserialize(e,n,r);return s.#n=e.fontSize,s.color=Ae.makeHexColor(...e.color),s.#e=In.#d(e.value),s._initialData=i,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=De._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(e),{color:n,fontSize:this.#n,value:this.#h()});return this.addComment(r),e?(r.isCopy=!0,r):this.annotationElementId&&!this.#f(r)?null:(r.id=this.annotationElementId,r)}#f(e){const{value:n,fontSize:r,color:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==n||e.fontSize!==r||e.color.some((a,o)=>a!==i[o])||e.pageIndex!==s}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(!n)return null;const{style:r}=n;r.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,r.color=this.color,n.replaceChildren();for(const i of this.#e.split(`
`)){const s=document.createElement("div");s.append(i?document.createTextNode(i):document.createElement("br")),n.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class Se{static PRECISION=1e-4;toSVGPath(){Pt("Abstract method `toSVGPath` must be implemented.")}get box(){Pt("Abstract getter `box` must be implemented.")}serialize(e,n){Pt("Abstract method `serialize` must be implemented.")}static _rescale(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o]*i,a[o+1]=r+e[o+1]*s;return a}static _rescaleAndSwap(e,n,r,i,s,a){a||=new Float32Array(e.length);for(let o=0,l=e.length;o<l;o+=2)a[o]=n+e[o+1]*i,a[o+1]=r+e[o]*s;return a}static _translate(e,n,r,i){i||=new Float32Array(e.length);for(let s=0,a=e.length;s<a;s+=2)i[s]=n+e[s],i[s+1]=r+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,r,i,s){switch(s){case 90:return[1-n/r,e/i];case 180:return[1-e/r,1-n/i];case 270:return[n/r,1-e/i];default:return[e/r,n/i]}}static _normalizePagePoint(e,n,r){switch(r){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,r,i,s,a){return[(e+5*r)/6,(n+5*i)/6,(5*r+s)/6,(5*i+a)/6,(r+s)/2,(i+a)/2]}}class zo{#e;#t=[];#r;#n;#a=[];#s=new Float32Array(18);#i;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=zo.#g+zo.#m;constructor({x:e,y:n},r,i,s,a,o=0){this.#e=r,this.#d=s*i,this.#n=a,this.#s.set([NaN,NaN,NaN,NaN,e,n],6),this.#r=o,this.#l=zo.#g*i,this.#c=zo.#u*i,this.#h=i,this.#f.push(e,n)}isEmpty(){return isNaN(this.#s[8])}#p(){const e=this.#s.subarray(4,6),n=this.#s.subarray(16,18),[r,i,s,a]=this.#e;return[(this.#i+(e[0]-n[0])/2-r)/s,(this.#o+(e[1]-n[1])/2-i)/a,(this.#i+(n[0]-e[0])/2-r)/s,(this.#o+(n[1]-e[1])/2-i)/a]}add({x:e,y:n}){this.#i=e,this.#o=n;const[r,i,s,a]=this.#e;let[o,l,c,d]=this.#s.subarray(8,12);const h=e-c,m=n-d,g=Math.hypot(h,m);if(g<this.#c)return!1;const x=g-this.#l,y=x/g,b=y*h,w=y*m;let A=o,_=l;o=c,l=d,c+=b,d+=w,this.#f?.push(e,n);const E=-w/x,P=b/x,T=E*this.#d,k=P*this.#d;return this.#s.set(this.#s.subarray(2,8),0),this.#s.set([c+T,d+k],4),this.#s.set(this.#s.subarray(14,18),12),this.#s.set([c-T,d-k],16),isNaN(this.#s[6])?(this.#a.length===0&&(this.#s.set([o+T,l+k],2),this.#a.push(NaN,NaN,NaN,NaN,(o+T-r)/s,(l+k-i)/a),this.#s.set([o-T,l-k],14),this.#t.push(NaN,NaN,NaN,NaN,(o-T-r)/s,(l-k-i)/a)),this.#s.set([A,_,o,l,c,d],6),!this.isEmpty()):(this.#s.set([A,_,o,l,c,d],6),Math.abs(Math.atan2(_-l,A-o)-Math.atan2(w,b))<Math.PI/2?([o,l,c,d]=this.#s.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((o+c)/2-r)/s,((l+d)/2-i)/a),[o,l,A,_]=this.#s.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((A+o)/2-r)/s,((_+l)/2-i)/a),!0):([A,_,o,l,c,d]=this.#s.subarray(0,6),this.#a.push(((A+5*o)/6-r)/s,((_+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),[c,d,o,l,A,_]=this.#s.subarray(12,18),this.#t.push(((A+5*o)/6-r)/s,((_+5*l)/6-i)/a,((5*o+c)/6-r)/s,((5*l+d)/6-i)/a,((o+c)/2-r)/s,((l+d)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,n=this.#t;if(isNaN(this.#s[6])&&!this.isEmpty())return this.#v();const r=[];r.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?r.push(`L${e[i+4]} ${e[i+5]}`):r.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);this.#y(r);for(let i=n.length-6;i>=6;i-=6)isNaN(n[i])?r.push(`L${n[i+4]} ${n[i+5]}`):r.push(`C${n[i]} ${n[i+1]} ${n[i+2]} ${n[i+3]} ${n[i+4]} ${n[i+5]}`);return this.#b(r),r.join(" ")}#v(){const[e,n,r,i]=this.#e,[s,a,o,l]=this.#p();return`M${(this.#s[2]-e)/r} ${(this.#s[3]-n)/i} L${(this.#s[4]-e)/r} ${(this.#s[5]-n)/i} L${s} ${a} L${o} ${l} L${(this.#s[16]-e)/r} ${(this.#s[17]-n)/i} L${(this.#s[14]-e)/r} ${(this.#s[15]-n)/i} Z`}#b(e){const n=this.#t;e.push(`L${n[4]} ${n[5]} Z`)}#y(e){const[n,r,i,s]=this.#e,a=this.#s.subarray(4,6),o=this.#s.subarray(16,18),[l,c,d,h]=this.#p();e.push(`L${(a[0]-n)/i} ${(a[1]-r)/s} L${l} ${c} L${d} ${h} L${(o[0]-n)/i} ${(o[1]-r)/s}`)}newFreeDrawOutline(e,n,r,i,s,a){return new QV(e,n,r,i,s,a)}getOutlines(){const e=this.#a,n=this.#t,r=this.#s,[i,s,a,o]=this.#e,l=new Float32Array((this.#f?.length??0)+2);for(let h=0,m=l.length-2;h<m;h+=2)l[h]=(this.#f[h]-i)/a,l[h+1]=(this.#f[h+1]-s)/o;if(l[l.length-2]=(this.#i-i)/a,l[l.length-1]=(this.#o-s)/o,isNaN(r[6])&&!this.isEmpty())return this.#C(l);const c=new Float32Array(this.#a.length+24+this.#t.length);let d=e.length;for(let h=0;h<d;h+=2){if(isNaN(e[h])){c[h]=c[h+1]=NaN;continue}c[h]=e[h],c[h+1]=e[h+1]}d=this.#w(c,d);for(let h=n.length-6;h>=6;h-=6)for(let m=0;m<6;m+=2){if(isNaN(n[h+m])){c[d]=c[d+1]=NaN,d+=2;continue}c[d]=n[h+m],c[d+1]=n[h+m+1],d+=2}return this.#_(c,d),this.newFreeDrawOutline(c,l,this.#e,this.#h,this.#r,this.#n)}#C(e){const n=this.#s,[r,i,s,a]=this.#e,[o,l,c,d]=this.#p(),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-r)/s,(n[3]-i)/a,NaN,NaN,NaN,NaN,(n[4]-r)/s,(n[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,(n[16]-r)/s,(n[17]-i)/a,NaN,NaN,NaN,NaN,(n[14]-r)/s,(n[15]-i)/a],0),this.newFreeDrawOutline(h,e,this.#e,this.#h,this.#r,this.#n)}#_(e,n){const r=this.#t;return e.set([NaN,NaN,NaN,NaN,r[4],r[5]],n),n+=6}#w(e,n){const r=this.#s.subarray(4,6),i=this.#s.subarray(16,18),[s,a,o,l]=this.#e,[c,d,h,m]=this.#p();return e.set([NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/l,NaN,NaN,NaN,NaN,c,d,NaN,NaN,NaN,NaN,h,m,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],n),n+=24}}class QV extends Se{#e;#t=new Float32Array(4);#r;#n;#a;#s;#i;constructor(e,n,r,i,s,a){super(),this.#i=e,this.#a=n,this.#e=r,this.#s=i,this.#r=s,this.#n=a,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(a);const[o,l,c,d]=this.#t;for(let h=0,m=e.length;h<m;h+=2)e[h]=(e[h]-o)/c,e[h+1]=(e[h+1]-l)/d;for(let h=0,m=n.length;h<m;h+=2)n[h]=(n[h]-o)/c,n[h+1]=(n[h+1]-l)/d}toSVGPath(){const e=[`M${this.#i[4]} ${this.#i[5]}`];for(let n=6,r=this.#i.length;n<r;n+=6){if(isNaN(this.#i[n])){e.push(`L${this.#i[n+4]} ${this.#i[n+5]}`);continue}e.push(`C${this.#i[n]} ${this.#i[n+1]} ${this.#i[n+2]} ${this.#i[n+3]} ${this.#i[n+4]} ${this.#i[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,r,i],s){const a=r-e,o=i-n;let l,c;switch(s){case 0:l=Se._rescale(this.#i,e,i,a,-o),c=Se._rescale(this.#a,e,i,a,-o);break;case 90:l=Se._rescaleAndSwap(this.#i,e,n,a,o),c=Se._rescaleAndSwap(this.#a,e,n,a,o);break;case 180:l=Se._rescale(this.#i,r,n,-a,o),c=Se._rescale(this.#a,r,n,-a,o);break;case 270:l=Se._rescaleAndSwap(this.#i,r,i,-a,-o),c=Se._rescaleAndSwap(this.#a,r,i,-a,-o);break}return{outline:Array.from(l),points:[Array.from(c)]}}#o(e){const n=this.#i;let r=n[4],i=n[5];const s=[r,i,r,i];let a=r,o=i,l=r,c=i;const d=e?Math.max:Math.min,h=new Float32Array(4);for(let g=6,x=n.length;g<x;g+=6){const y=n[g+4],b=n[g+5];isNaN(n[g])?(Ae.pointBoundingBox(y,b,s),o>b?(a=y,o=b):o===b&&(a=d(a,y)),c<b?(l=y,c=b):c===b&&(l=d(l,y))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,Ae.bezierBoundingBox(r,i,...n.slice(g,g+6),h),Ae.rectBoundingBox(h[0],h[1],h[2],h[3],s),o>h[1]?(a=h[0],o=h[1]):o===h[1]&&(a=d(a,h[0])),c<h[3]?(l=h[2],c=h[3]):c===h[3]&&(l=d(l,h[2]))),r=y,i=b}const m=this.#t;m[0]=s[0]-this.#r,m[1]=s[1]-this.#r,m[2]=s[2]-s[0]+2*this.#r,m[3]=s[3]-s[1]+2*this.#r,this.firstPoint=[a,o],this.lastPoint=[l,c]}get box(){return this.#t}newOutliner(e,n,r,i,s,a=0){return new zo(e,n,r,i,s,a)}getNewOutline(e,n){const[r,i,s,a]=this.#t,[o,l,c,d]=this.#e,h=s*c,m=a*d,g=r*c+o,x=i*d+l,y=this.newOutliner({x:this.#a[0]*h+g,y:this.#a[1]*m+x},this.#e,this.#s,e,this.#n,n??this.#r);for(let b=2;b<this.#a.length;b+=2)y.add({x:this.#a[b]*h+g,y:this.#a[b+1]*m+x});return y.getOutlines()}}class $A{#e;#t;#r;#n=[];#a=[];constructor(e,n=0,r=0,i=!0){const s=[1/0,1/0,-1/0,-1/0],a=10**-4;for(const{x:y,y:b,width:w,height:A}of e){const _=Math.floor((y-n)/a)*a,E=Math.ceil((y+w+n)/a)*a,P=Math.floor((b-n)/a)*a,T=Math.ceil((b+A+n)/a)*a,k=[_,P,T,!0],O=[E,P,T,!1];this.#n.push(k,O),Ae.rectBoundingBox(_,P,E,T,s)}const o=s[2]-s[0]+2*r,l=s[3]-s[1]+2*r,c=s[0]-r,d=s[1]-r;let h=i?-1/0:1/0,m=1/0;const g=this.#n.at(i?-1:-2),x=[g[0],g[2]];for(const y of this.#n){const[b,w,A,_]=y;!_&&i?w<m?(m=w,h=b):w===m&&(h=Math.max(h,b)):_&&!i&&(w<m?(m=w,h=b):w===m&&(h=Math.min(h,b))),y[0]=(b-c)/o,y[1]=(w-d)/l,y[2]=(A-d)/l}this.#e=new Float32Array([c,d,o,l]),this.#t=[h,m],this.#r=x}getOutlines(){this.#n.sort((n,r)=>n[0]-r[0]||n[1]-r[1]||n[2]-r[2]);const e=[];for(const n of this.#n)n[3]?(e.push(...this.#l(n)),this.#o(n)):(this.#c(n),e.push(...this.#l(n)));return this.#s(e)}#s(e){const n=[],r=new Set;for(const a of e){const[o,l,c]=a;n.push([o,l,a],[o,c,a])}n.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=n.length;a<o;a+=2){const l=n[a][2],c=n[a+1][2];l.push(c),c.push(l),r.add(l),r.add(c)}const i=[];let s;for(;r.size>0;){const a=r.values().next().value;let[o,l,c,d,h]=a;r.delete(a);let m=o,g=l;for(s=[o,c],i.push(s);;){let x;if(r.has(d))x=d;else if(r.has(h))x=h;else break;r.delete(x),[o,l,c,d,h]=x,m!==o&&(s.push(m,g,o,g===l?l:c),m=o),g=g===l?c:l}s.push(m,g)}return new Ode(i,this.#e,this.#t,this.#r)}#i(e){const n=this.#a;let r=0,i=n.length-1;for(;r<=i;){const s=r+i>>1,a=n[s][0];if(a===e)return s;a<e?r=s+1:i=s-1}return i+1}#o([,e,n]){const r=this.#i(e);this.#a.splice(r,0,[e,n])}#c([,e,n]){const r=this.#i(e);for(let i=r;i<this.#a.length;i++){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}for(let i=r-1;i>=0;i--){const[s,a]=this.#a[i];if(s!==e)break;if(s===e&&a===n){this.#a.splice(i,1);return}}}#l(e){const[n,r,i]=e,s=[[n,r,i]],a=this.#i(i);for(let o=0;o<a;o++){const[l,c]=this.#a[o];for(let d=0,h=s.length;d<h;d++){const[,m,g]=s[d];if(!(c<=m||g<=l)){if(m>=l){if(g>c)s[d][1]=c;else{if(h===1)return[];s.splice(d,1),d--,h--}continue}s[d][2]=l,g>c&&s.push([n,c,g])}}}return s}}class Ode extends Se{#e;#t;constructor(e,n,r,i){super(),this.#t=e,this.#e=n,this.firstPoint=r,this.lastPoint=i}toSVGPath(){const e=[];for(const n of this.#t){let[r,i]=n;e.push(`M${r} ${i}`);for(let s=2;s<n.length;s+=2){const a=n[s],o=n[s+1];a===r?(e.push(`V${o}`),i=o):o===i&&(e.push(`H${a}`),r=a)}e.push("Z")}return e.join(" ")}serialize([e,n,r,i],s){const a=[],o=r-e,l=i-n;for(const c of this.#t){const d=new Array(c.length);for(let h=0;h<c.length;h+=2)d[h]=e+c[h]*o,d[h+1]=i-c[h+1]*l;a.push(d)}return a}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class BA extends zo{newFreeDrawOutline(e,n,r,i,s,a){return new Mde(e,n,r,i,s,a)}}class Mde extends QV{newOutliner(e,n,r,i,s,a=0){return new BA(e,n,r,i,s,a)}}class an extends De{#e=null;#t=0;#r;#n=null;#a=null;#s=null;#i=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Qe.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=an.prototype;return Je(this,"_keyboardManager",new zf([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||an._defaultColor,this.#p=e.thickness||an._defaultThickness,this.opacity=e.opacity||an._defaultOpacity,this.#r=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#r&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#i=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new $A(this.#r,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const n=new $A(this.#r,.0025,.001,this._uiManager.direction==="ltr");this.#s=n.getOutlines();const{firstPoint:r}=this.#l;this.#f=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height];const{lastPoint:i}=this.#s;this.#g=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:n,clipPathId:r}){this.#l=e;const i=1.5;if(this.#s=e.getNewOutline(this.#p/2+i,.0025),n>=0)this.#h=n,this.#n=r,this.parent.drawLayer.finalizeDraw(n,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},!0);else if(this.parent){const h=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:an.#A(this.#l.box,(h-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:an.#A(this.#s.box,h),path:{d:this.#s.toSVGPath()}})}const[s,a,o,l]=e.box;switch(this.rotation){case 0:this.x=s,this.y=a,this.width=o,this.height=l;break;case 90:{const[h,m]=this.parentDimensions;this.x=a,this.y=1-s,this.width=o*m/h,this.height=l*h/m;break}case 180:this.x=1-s,this.y=1-a,this.width=o,this.height=l;break;case 270:{const[h,m]=this.parentDimensions;this.x=1-a,this.y=s,this.width=o*m/h,this.height=l*h/m;break}}const{firstPoint:c}=e;this.#f=[(c[0]-s)/o,(c[1]-a)/l];const{lastPoint:d}=this.#s;this.#g=[(d[0]-s)/o,(d[1]-a)/l]}static initialize(e,n){De.initialize(e,n),an._defaultColor||=n.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,n){switch(e){case at.HIGHLIGHT_COLOR:an._defaultColor=n;break;case at.HIGHLIGHT_THICKNESS:an._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,n){switch(e){case at.HIGHLIGHT_COLOR:this.#C(n);break;case at.HIGHLIGHT_THICKNESS:this.#_(n);break}}static get defaultPropertiesToUpdate(){return[[at.HIGHLIGHT_COLOR,an._defaultColor],[at.HIGHLIGHT_THICKNESS,an._defaultThickness]]}get propertiesToUpdate(){return[[at.HIGHLIGHT_COLOR,this.color||an._defaultColor],[at.HIGHLIGHT_THICKNESS,this.#p||an._defaultThickness],[at.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#a?.updateColor(this.color),super.onUpdatedColor()}#C(e){const n=(s,a)=>{this.color=s,this.opacity=a,this.onUpdatedColor()},r=this.color,i=this.opacity;this.addCommands({cmd:n.bind(this,e,an._defaultOpacity),undo:n.bind(this,r,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#_(e){const n=this.#p,r=i=>{this.#p=i,this.#w(i)};this.addCommands({cmd:r.bind(this,e),undo:r.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:at.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new wi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#j())}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,this.#j())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#E(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?this.#E():e&&(this.#x(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),n&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#E(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#s.box,path:{d:this.#s.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#A([e,n,r,i],s){switch(s){case 90:return[1-n-i,e,i,r];case 180:return[1-e-r,1-n-i,r,i];case 270:return[n,1-e-r,i,r]}return[e,n,r,i]}rotate(e){const{drawLayer:n}=this.parent;let r;this.#d?(e=(e-this.rotation+360)%360,r=an.#A(this.#l.box,e)):r=an.#A([this.x,this.y,this.width,this.height],e),n.updateProperties(this.#h,{bbox:r,root:{"data-main-rotation":e}}),n.updateProperties(this.#m,{bbox:an.#A(this.#s.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#k.bind(this),{signal:this._uiManager._signal});const n=this.#c=document.createElement("div");return e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=this.#n,this.setDims(),jV(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#k(e){an._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#T(!0);break;case 1:case 3:this.#T(!1);break}}#T(e){if(!this.#e)return;const n=window.getSelection();e?n.setPosition(this.#e,this.#t):n.setPosition(this.#i,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#T(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#j(){return this.#d?this.rotation:0}#L(){if(this.#d)return null;const[e,n]=this.pageDimensions,[r,i]=this.pageTranslation,s=this.#r,a=new Float32Array(s.length*8);let o=0;for(const{x:l,y:c,width:d,height:h}of s){const m=l*e+r,g=(1-c)*n+i;a[o]=a[o+4]=m,a[o+1]=a[o+3]=g,a[o+2]=a[o+6]=m+d*e,a[o+5]=a[o+7]=g-h*n,o+=8}return a}#O(e){return this.#l.serialize(e,this.#j())}static startHighlighting(e,n,{target:r,x:i,y:s}){const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),d=new AbortController,h=e.combinedSignal(d),m=g=>{d.abort(),this.#F(e,g)};window.addEventListener("blur",m,{signal:h}),window.addEventListener("pointerup",m,{signal:h}),window.addEventListener("pointerdown",en,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",ji,{signal:h}),r.addEventListener("pointermove",this.#D.bind(this,e),{signal:h}),this._freeHighlight=new BA({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#D(e,n){this._freeHighlight.add(n)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#F(e,n){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,n,r){let i=null;if(e instanceof YV){const{data:{quadPoints:x,rect:y,rotation:b,id:w,color:A,opacity:_,popupRef:E,richText:P,contentsObj:T,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:Qe.HIGHLIGHT,color:Array.from(A),opacity:_,quadPoints:x,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:E,richText:P,comment:T?.str||null,creationDate:k,modificationDate:O}}else if(e instanceof GE){const{data:{inkLists:x,rect:y,rotation:b,id:w,color:A,borderStyle:{rawWidth:_},popupRef:E,richText:P,contentsObj:T,creationDate:k,modificationDate:O},parent:{page:{pageNumber:R}}}=e;i=e={annotationType:Qe.HIGHLIGHT,color:Array.from(A),thickness:_,inkLists:x,boxes:null,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,popupRef:E,richText:P,comment:T?.str||null,creationDate:k,modificationDate:O}}const{color:s,quadPoints:a,inkLists:o,opacity:l}=e,c=await super.deserialize(e,n,r);c.color=Ae.makeHexColor(...s),c.opacity=l||1,o&&(c.#p=e.thickness),c._initialData=i,e.comment&&c.setCommentData(e);const[d,h]=c.pageDimensions,[m,g]=c.pageTranslation;if(a){const x=c.#r=[];for(let y=0;y<a.length;y+=8)x.push({x:(a[y]-m)/d,y:1-(a[y+1]-g)/h,width:(a[y+2]-a[y])/d,height:(a[y+1]-a[y+5])/h});c.#b(),c.#x(),c.rotate(c.rotation)}else if(o){c.#d=!0;const x=o[0],y={x:x[0]-m,y:h-(x[1]-g)},b=new BA(y,[0,0,d,h],1,c.#p/2,!0,.001);for(let _=0,E=x.length;_<E;_+=2)y.x=x[_]-m,y.y=h-(x[_+1]-g),b.add(y);const{id:w,clipPathId:A}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:c.color,"fill-opacity":c._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:b.toSVGPath()}},!0,!0);c.#y({highlightOutlines:b.getOutlines(),highlightId:w,clipPathId:A}),c.#x(),c.rotate(c.parentRotation)}return c}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const n=De._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(e);return Object.assign(r,{color:n,opacity:this.opacity,thickness:this.#p,quadPoints:this.#L(),outlines:this.#O(r.rect)}),this.addComment(r),this.annotationElementId&&!this.#R(r)?null:(r.id=this.annotationElementId,r)}#R(e){const{color:n}=this._initialData;return this.hasEditedComment||e.color.some((r,i)=>r!==n[i])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class ZV{#e=Object.create(null);updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,r]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,r)}updateSVGProperty(e,n){this.#e[e]=n}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Pt("Not implemented")}}class ht extends De{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#r=null;static#n=null;static#a=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#s(e),this.#c())}#s({drawOutlines:e,drawId:n,drawingOptions:r}){this.#e=e,this._drawingOptions||=r,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,e.defaultProperties)):this._drawId=this.#i(e,this.parent),this.#d(e.box)}#i(e,n){const{id:r}=n.drawLayer.draw(ht._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return r}static _mergeSVGProperties(e,n){const r=new Set(Object.keys(e));for(const[i,s]of Object.entries(n))r.has(i)?Object.assign(e[i],s):e[i]=s;return e}static getDefaultDrawingOptions(e){Pt("Not implemented")}static get typesMap(){Pt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,n){const r=this.typesMap.get(e);r&&this._defaultDrawingOptions.updateProperty(r,n),this._currentParent&&(ht.#r.updateProperty(r,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,n){const r=this.constructor.typesMap.get(e);r&&this._updateProperty(e,r,n)}static get defaultPropertiesToUpdate(){const e=[],n=this._defaultDrawingOptions;for(const[r,i]of this.typesMap)e.push([r,n[i]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:n}=this;for(const[r,i]of this.constructor.typesMap)e.push([r,n[i]]);return e}_updateProperty(e,n,r){const i=this._drawingOptions,s=i[n],a=o=>{i.updateProperty(n,o);const l=this.#e.updateProperty(n,o);l&&this.#d(l),this.parent?.drawLayer.updateProperties(this._drawId,i.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,n){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let n=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),n=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),n&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#i(this.#e,e)}}#l([e,n,r,i]){const{parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[n,1-e,r*(a/s),i*(s/a)];case 180:return[1-e,1-n,r,i];case 270:return[1-n,e,r*(a/s),i*(s/a)];default:return[e,n,r,i]}}#h(){const{x:e,y:n,width:r,height:i,parentDimensions:[s,a],rotation:o}=this;switch(o){case 90:return[1-n,e,r*(s/a),i*(a/s)];case 180:return[1-e,1-n,r,i];case 270:return[n,1-e,r*(s/a),i*(a/s)];default:return[e,n,r,i]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:n,width:r,height:i,rotation:s,parentRotation:a,parentDimensions:[o,l]}=this;switch((s*4+a)/90){case 1:return[1-n-i,e,i,r];case 2:return[1-e-r,1-n-i,r,i];case 3:return[n,1-e-r,i,r];case 4:return[e,n-r*(o/l),i*(l/o),r*(o/l)];case 5:return[1-n,e,r*(o/l),i*(l/o)];case 6:return[1-e-i*(l/o),1-n,i*(l/o),r*(o/l)];case 7:return[n-r*(o/l),1-e-i*(l/o),r*(o/l),i*(l/o)];case 8:return[e-r,n-i,r,i];case 9:return[1-n,e-r,i,r];case 10:return[1-e,1-n,r,i];case 11:return[n-i,1-e,i,r];case 12:return[e-i*(l/o),n,i*(l/o),r*(o/l)];case 13:return[1-n-r*(o/l),e-i*(l/o),r*(o/l),i*(l/o)];case 14:return[1-e,1-n-r*(o/l),i*(l/o),r*(o/l)];case 15:return[n,1-e,r*(o/l),i*(l/o)];default:return[e,n,r,i]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ht._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,n;this._isCopy&&(e=this.x,n=this.y);const r=super.render();r.classList.add("draw");const i=document.createElement("div");return r.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,n),r}static createDrawerInstance(e,n,r,i,s){Pt("Not implemented")}static startDrawing(e,n,r,i){const{target:s,offsetX:a,offsetY:o,pointerId:l,pointerType:c}=i;if(ft.isInitializedAndDifferentPointerType(c))return;const{viewport:{rotation:d}}=e,{width:h,height:m}=s.getBoundingClientRect(),g=ht.#n=new AbortController,x=e.combinedSignal(g);if(ft.setPointer(c,l),window.addEventListener("pointerup",y=>{ft.isSamePointerIdOrRemove(y.pointerId)&&this._endDraw(y)},{signal:x}),window.addEventListener("pointercancel",y=>{ft.isSamePointerIdOrRemove(y.pointerId)&&this._currentParent.endDrawingSession()},{signal:x}),window.addEventListener("pointerdown",y=>{ft.isSamePointerType(y.pointerType)&&(ft.initializeAndAddPointerId(y.pointerId),ht.#r.isCancellable()&&(ht.#r.removeLastElement(),ht.#r.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:x}),window.addEventListener("contextmenu",ji,{signal:x}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:x}),s.addEventListener("touchmove",y=>{ft.isSameTimeStamp(y.timeStamp)&&en(y)},{signal:x}),e.toggleDrawing(),n._editorUndoBar?.hide(),ht.#r){e.drawLayer.updateProperties(this._currentDrawId,ht.#r.startNew(a,o,h,m,d));return}n.updateUIForDefaultProperties(this),ht.#r=this.createDrawerInstance(a,o,h,m,d),ht.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(ht.#a.toSVGProperties(),ht.#r.defaultSVGProperties),!0,!1)}static _drawMove(e){if(ft.isSameTimeStamp(e.timeStamp),!ht.#r)return;const{offsetX:n,offsetY:r,pointerId:i}=e;if(ft.isSamePointerId(i)){if(ft.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,ht.#r.add(n,r)),ft.setTimeStamp(e.timeStamp),en(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,ht.#r=null,ht.#a=null,ft.clearPointerType(),ft.clearTimeStamp()),ht.#n&&(ht.#n.abort(),ht.#n=null,ft.clearPointerIds())}static _endDraw(e){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),e?.target===n.div&&n.drawLayer.updateProperties(this._currentDrawId,ht.#r.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const r=ht.#r,i=this._currentDrawId,s=r.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(i,r.setLastElement(s))},undo:()=>{n.drawLayer.updateProperties(i,r.removeLastElement())},mustExec:!1,type:at.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(at.DRAW_STEP),!ht.#r.isEmpty()){const{pageDimensions:[r,i],scale:s}=n,a=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:ht.#r.getOutlines(r*s,i*s,s,this._INNER_MARGIN),drawingOptions:ht.#a,mustBeCommitted:!e});return this._cleanup(!0),a}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,n,r,i,s,a){Pt("Not implemented")}static async deserialize(e,n,r){const{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}=n.viewport,l=this.deserializeDraw(a,o,i,s,this._INNER_MARGIN,e),c=await super.deserialize(e,n,r);return c.createDrawingOptions(e),c.#s({drawOutlines:l}),c.#c(),c.onScaleChanging(),c.rotate(),c}serializeDraw(e){const[n,r]=this.pageTranslation,[i,s]=this.pageDimensions;return this.#e.serialize([n,r,i,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class Dde{#e=new Float64Array(6);#t;#r;#n;#a;#s;#i="";#o=0;#c=new Wf;#l;#h;constructor(e,n,r,i,s,a){this.#l=r,this.#h=i,this.#n=s,this.#a=a,[e,n]=this.#d(e,n);const o=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n],this.#r=[{line:o,points:this.#s}],this.#e.set(o,0)}updateProperty(e,n){e==="stroke-width"&&(this.#a=n)}#d(e,n){return Se._normalizePoint(e,n,this.#l,this.#h,this.#n)}isEmpty(){return!this.#r||this.#r.length===0}isCancellable(){return this.#s.length<=10}add(e,n){[e,n]=this.#d(e,n);const[r,i,s,a]=this.#e.subarray(2,6),o=e-s,l=n-a;return Math.hypot(this.#l*o,this.#h*l)<=2?null:(this.#s.push(e,n),isNaN(r)?(this.#e.set([s,a,e,n],2),this.#t.push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([r,i,s,a,e,n],0),this.#t.push(...Se.createBezierPoints(r,i,s,a,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const r=this.add(e,n);return r||(this.#s.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,r,i,s){this.#l=r,this.#h=i,this.#n=s,[e,n]=this.#d(e,n);const a=this.#t=[NaN,NaN,NaN,NaN,e,n];this.#s=[e,n];const o=this.#r.at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),this.#r.push({line:a,points:this.#s}),this.#e.set(a,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#r.at(-1)}setLastElement(e){return this.#r?(this.#r.push(e),this.#t=e.line,this.#s=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#r)return this.#c.removeLastElement();this.#r.pop(),this.#i="";for(let e=0,n=this.#r.length;e<n;e++){const{line:r,points:i}=this.#r[e];this.#t=r,this.#s=i,this.#o=0,this.toSVGPath()}return{path:{d:this.#i}}}toSVGPath(){const e=Se.svgRound(this.#t[4]),n=Se.svgRound(this.#t[5]);if(this.#s.length===2)return this.#i=`${this.#i} M ${e} ${n} Z`,this.#i;if(this.#s.length<=6){const i=this.#i.lastIndexOf("M");this.#i=`${this.#i.slice(0,i)} M ${e} ${n}`,this.#o=6}if(this.#s.length===4){const i=Se.svgRound(this.#t[10]),s=Se.svgRound(this.#t[11]);return this.#i=`${this.#i} L ${i} ${s}`,this.#o=12,this.#i}const r=[];this.#o===0&&(r.push(`M ${e} ${n}`),this.#o=6);for(let i=this.#o,s=this.#t.length;i<s;i+=6){const[a,o,l,c,d,h]=this.#t.slice(i,i+6).map(Se.svgRound);r.push(`C${a} ${o} ${l} ${c} ${d} ${h}`)}return this.#i+=r.join(" "),this.#o=this.#t.length,this.#i}getOutlines(e,n,r,i){const s=this.#r.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#r,e,n,r,this.#n,this.#a,i),this.#e=null,this.#t=null,this.#r=null,this.#i=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Wf extends Se{#e;#t=0;#r;#n;#a;#s;#i;#o;#c;build(e,n,r,i,s,a,o){this.#a=n,this.#s=r,this.#i=i,this.#o=s,this.#c=a,this.#r=o??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:n}of this.#n){if(e.push(`M${Se.svgRound(n[4])} ${Se.svgRound(n[5])}`),n.length===6){e.push("Z");continue}if(n.length===12&&isNaN(n[6])){e.push(`L${Se.svgRound(n[10])} ${Se.svgRound(n[11])}`);continue}for(let r=6,i=n.length;r<i;r+=6){const[s,a,o,l,c,d]=n.subarray(r,r+6).map(Se.svgRound);e.push(`C${s} ${a} ${o} ${l} ${c} ${d}`)}}return e.join("")}serialize([e,n,r,i],s){const a=[],o=[],[l,c,d,h]=this.#h();let m,g,x,y,b,w,A,_,E;switch(this.#o){case 0:E=Se._rescale,m=e,g=n+i,x=r,y=-i,b=e+l*r,w=n+(1-c-h)*i,A=e+(l+d)*r,_=n+(1-c)*i;break;case 90:E=Se._rescaleAndSwap,m=e,g=n,x=r,y=i,b=e+c*r,w=n+l*i,A=e+(c+h)*r,_=n+(l+d)*i;break;case 180:E=Se._rescale,m=e+r,g=n,x=-r,y=i,b=e+(1-l-d)*r,w=n+c*i,A=e+(1-l)*r,_=n+(c+h)*i;break;case 270:E=Se._rescaleAndSwap,m=e+r,g=n+i,x=-r,y=-i,b=e+(1-c-h)*r,w=n+(1-l-d)*i,A=e+(1-c)*r,_=n+(1-l)*i;break}for(const{line:P,points:T}of this.#n)a.push(E(P,m,g,x,y,s?new Array(P.length):null)),o.push(E(T,m,g,x,y,s?new Array(T.length):null));return{lines:a,points:o,rect:[b,w,A,_]}}static deserialize(e,n,r,i,s,{paths:{lines:a,points:o},rotation:l,thickness:c}){const d=[];let h,m,g,x,y;switch(l){case 0:y=Se._rescale,h=-e/r,m=n/i+1,g=1/r,x=-1/i;break;case 90:y=Se._rescaleAndSwap,h=-n/i,m=-e/r,g=1/i,x=1/r;break;case 180:y=Se._rescale,h=e/r+1,m=-n/i,g=-1/r,x=1/i;break;case 270:y=Se._rescaleAndSwap,h=n/i+1,m=e/r+1,g=-1/i,x=-1/r;break}if(!a){a=[];for(const w of o){const A=w.length;if(A===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(A===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const _=new Float32Array(3*(A-2));a.push(_);let[E,P,T,k]=w.subarray(0,4);_.set([NaN,NaN,NaN,NaN,E,P],0);for(let O=4;O<A;O+=2){const R=w[O],F=w[O+1];_.set(Se.createBezierPoints(E,P,T,k,R,F),(O-2)*3),[E,P,T,k]=[T,k,R,F]}}}for(let w=0,A=a.length;w<A;w++)d.push({line:y(a[w].map(_=>_??NaN),h,m,g,x),points:y(o[w].map(_=>_??NaN),h,m,g,x)});const b=new this.prototype.constructor;return b.build(d,r,i,1,l,c,s),b}#l(e=this.#c){const n=this.#r+e/2*this.#i;return this.#o%180===0?[n/this.#a,n/this.#s]:[n/this.#s,n/this.#a]}#h(){const[e,n,r,i]=this.#e,[s,a]=this.#l(0);return[e+s,n+a,r-2*s,i-2*a]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:i}of this.#n){if(i.length<=12){for(let o=4,l=i.length;o<l;o+=6)Ae.pointBoundingBox(i[o],i[o+1],e);continue}let s=i[4],a=i[5];for(let o=6,l=i.length;o<l;o+=6){const[c,d,h,m,g,x]=i.subarray(o,o+6);Ae.bezierBoundingBox(s,a,c,d,h,m,g,x,e),s=g,a=x}}const[n,r]=this.#l();e[0]=vr(e[0]-n,0,1),e[1]=vr(e[1]-r,0,1),e[2]=vr(e[2]+n,0,1),e[3]=vr(e[3]+r,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,n){return e==="stroke-width"?this.#f(n):null}#f(e){const[n,r]=this.#l();this.#c=e;const[i,s]=this.#l(),[a,o]=[i-n,s-r],l=this.#e;return l[0]-=a,l[1]-=o,l[2]+=2*a,l[3]+=2*o,l}updateParentDimensions([e,n],r){const[i,s]=this.#l();this.#a=e,this.#s=n,this.#i=r;const[a,o]=this.#l(),l=a-i,c=o-s,d=this.#e;return d[0]-=l,d[1]-=c,d[2]+=2*l,d[3]+=2*c,d}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(Se.svgRound).join(" ")}get defaultProperties(){const[e,n]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`}}}get rotationTransform(){const[,,e,n]=this.#e;let r=0,i=0,s=0,a=0,o=0,l=0;switch(this.#t){case 90:i=n/e,s=-e/n,o=e;break;case 180:r=-1,a=-1,o=e,l=n;break;case 270:i=-n/e,s=e/n,l=n;break;default:return""}return`matrix(${r} ${i} ${s} ${a} ${Se.svgRound(o)} ${Se.svgRound(l)})`}getPathResizingSVGProperties([e,n,r,i]){const[s,a]=this.#l(),[o,l,c,d]=this.#e;if(Math.abs(c-s)<=Se.PRECISION||Math.abs(d-a)<=Se.PRECISION){const y=e+r/2-(o+c/2),b=n+i/2-(l+d/2);return{path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:`${this.rotationTransform} translate(${y} ${b})`}}}const h=(r-2*s)/(c-2*s),m=(i-2*a)/(d-2*a),g=c/r,x=d/i;return{path:{"transform-origin":`${Se.svgRound(o)} ${Se.svgRound(l)}`,transform:`${this.rotationTransform} scale(${g} ${x}) translate(${Se.svgRound(s)} ${Se.svgRound(a)}) scale(${h} ${m}) translate(${Se.svgRound(-s)} ${Se.svgRound(-a)})`}}}getPathResizedSVGProperties([e,n,r,i]){const[s,a]=this.#l(),o=this.#e,[l,c,d,h]=o;if(o[0]=e,o[1]=n,o[2]=r,o[3]=i,Math.abs(d-s)<=Se.PRECISION||Math.abs(h-a)<=Se.PRECISION){const b=e+r/2-(l+d/2),w=n+i/2-(c+h/2);for(const{line:A,points:_}of this.#n)Se._translate(A,b,w,A),Se._translate(_,b,w,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const m=(r-2*s)/(d-2*s),g=(i-2*a)/(h-2*a),x=-m*(l+s)+e+s,y=-g*(c+a)+n+a;if(m!==1||g!==1||x!==0||y!==0)for(const{line:b,points:w}of this.#n)Se._rescale(b,x,y,m,g,b),Se._rescale(w,x,y,m,g,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,n],r){const[i,s]=r,a=this.#e,o=e-a[0],l=n-a[1];if(this.#a===i&&this.#s===s)for(const{line:c,points:d}of this.#n)Se._translate(c,o,l,c),Se._translate(d,o,l,d);else{const c=this.#a/i,d=this.#s/s;this.#a=i,this.#s=s;for(const{line:h,points:m}of this.#n)Se._rescale(h,o,l,c,d,h),Se._rescale(m,o,l,c,d,m);a[2]*=c,a[3]*=d}return a[0]=e,a[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e)} ${Se.svgRound(n)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Se.svgRound(e[0])} ${Se.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class gy extends ZV{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:De._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??=this["stroke-width"],n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new gy(this._viewParameters);return e.updateAll(this),e}}class YE extends ht{static _type="ink";static _editorType=Qe.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new gy(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Je(this,"typesMap",new Map([[at.INK_THICKNESS,"stroke-width"],[at.INK_COLOR,"stroke"],[at.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,n,r,i,s){return new Dde(e,n,r,i,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,n,r,i,s,a){return Wf.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){let i=null;if(e instanceof GE){const{data:{inkLists:a,rect:o,rotation:l,id:c,color:d,opacity:h,borderStyle:{rawWidth:m},popupRef:g,richText:x,contentsObj:y,creationDate:b,modificationDate:w},parent:{page:{pageNumber:A}}}=e;i=e={annotationType:Qe.INK,color:Array.from(d),thickness:m,opacity:h,paths:{points:a},boxes:null,pageIndex:A-1,rect:o.slice(0),rotation:l,annotationElementId:c,id:c,deleted:!1,popupRef:g,richText:x,comment:y?.str||null,creationDate:b,modificationDate:w}}const s=await super.deserialize(e,n,r);return s._initialData=i,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Nh(this),[["colorPicker",this._colorPicker]]}get colorType(){return at.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:n,parent:r}=this;n.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(e,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:n,opacity:r}){this._drawingOptions=YE.getDefaultDrawingOptions({stroke:Ae.makeHexColor(...e),"stroke-width":n,"stroke-opacity":r})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{stroke:i,"stroke-opacity":s,"stroke-width":a}}=this,o=Object.assign(super.serialize(e),{color:De._colorManager.convert(i),opacity:s,thickness:a,paths:{lines:n,points:r}});return this.addComment(o),e?(o.isCopy=!0,o):this.annotationElementId&&!this.#e(o)?null:(o.id=this.annotationElementId,o)}#e(e){const{color:n,thickness:r,opacity:i,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((a,o)=>a!==n[o])||e.thickness!==r||e.opacity!==i||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:n,rect:r}=this.serializeDraw(!1);return e.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:n,popup:this.comment}),null}}class UA extends Wf{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Rm=8,Od=3;class rc{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,n,r,i){return r-=e,i-=n,r===0?i>0?0:4:r===1?i+6:2-i}static#r=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const d=(-c+l-o+16)%8,h=this.#r[2*d],m=this.#r[2*d+1];if(e[(r+h)*n+(i+m)]!==0)return d}return-1}static#a(e,n,r,i,s,a,o){const l=this.#t(r,i,s,a);for(let c=0;c<8;c++){const d=(c+l+o+16)%8,h=this.#r[2*d],m=this.#r[2*d+1];if(e[(r+h)*n+(i+m)]!==0)return d}return-1}static#s(e,n,r,i){const s=e.length,a=new Int32Array(s);for(let d=0;d<s;d++)a[d]=e[d]<=i?1:0;for(let d=1;d<r-1;d++)a[d*n]=a[d*n+n-1]=0;for(let d=0;d<n;d++)a[d]=a[n*r-1-d]=0;let o=1,l;const c=[];for(let d=1;d<r-1;d++){l=1;for(let h=1;h<n-1;h++){const m=d*n+h,g=a[m];if(g===0)continue;let x=d,y=h;if(g===1&&a[m-1]===0)o+=1,y-=1;else if(g>=1&&a[m+1]===0)o+=1,y+=1,g>1&&(l=g);else{g!==1&&(l=Math.abs(g));continue}const b=[h,d],w=y===h+1,A={isHole:w,points:b,id:o,parent:0};c.push(A);let _;for(const M of c)if(M.id===l){_=M;break}_?_.isHole?A.parent=w?_.parent:l:A.parent=w?l:_.parent:A.parent=w?l:0;const E=this.#n(a,n,d,h,x,y,0);if(E===-1){a[m]=-o,a[m]!==1&&(l=Math.abs(a[m]));continue}let P=this.#r[2*E],T=this.#r[2*E+1];const k=d+P,O=h+T;x=k,y=O;let R=d,F=h;for(;;){const M=this.#a(a,n,R,F,x,y,1);P=this.#r[2*M],T=this.#r[2*M+1];const D=R+P,$=F+T;b.push($,D);const W=R*n+F;if(a[W+1]===0?a[W]=-o:a[W]===1&&(a[W]=o),D===d&&$===h&&R===k&&F===O){a[m]!==1&&(l=Math.abs(a[m]));break}else x=R,y=F,R=D,F=$}}}return c}static#i(e,n,r,i){if(r-n<=4){for(let k=n;k<r-2;k+=2)i.push(e[k],e[k+1]);return}const s=e[n],a=e[n+1],o=e[r-4]-s,l=e[r-3]-a,c=Math.hypot(o,l),d=o/c,h=l/c,m=d*a-h*s,g=l/o,x=1/c,y=Math.atan(g),b=Math.cos(y),w=Math.sin(y),A=x*(Math.abs(b)+Math.abs(w)),_=x*(1-A+A**2),E=Math.max(Math.atan(Math.abs(w+b)*_),Math.atan(Math.abs(w-b)*_));let P=0,T=n;for(let k=n+2;k<r-2;k+=2){const O=Math.abs(m-d*e[k+1]+h*e[k]);O>P&&(T=k,P=O)}P>(c*E)**2?(this.#i(e,n,T+2,i),this.#i(e,T,r,i)):i.push(s,a)}static#o(e){const n=[],r=e.length;return this.#i(e,0,r,n),n.push(e[r-2],e[r-1]),n.length<=4?null:n}static#c(e,n,r,i,s,a){const o=new Float32Array(a**2),l=-2*i**2,c=a>>1;for(let y=0;y<a;y++){const b=(y-c)**2;for(let w=0;w<a;w++)o[y*a+w]=Math.exp((b+(w-c)**2)/l)}const d=new Float32Array(256),h=-2*s**2;for(let y=0;y<256;y++)d[y]=Math.exp(y**2/h);const m=e.length,g=new Uint8Array(m),x=new Uint32Array(256);for(let y=0;y<r;y++)for(let b=0;b<n;b++){const w=y*n+b,A=e[w];let _=0,E=0;for(let T=0;T<a;T++){const k=y+T-c;if(!(k<0||k>=r))for(let O=0;O<a;O++){const R=b+O-c;if(R<0||R>=n)continue;const F=e[k*n+R],M=o[T*a+O]*d[Math.abs(F-A)];_+=F*M,E+=M}}const P=g[w]=Math.round(_/E);x[P]++}return[g,x]}static#l(e){const n=new Uint32Array(256);for(const r of e)n[r]++;return n}static#h(e){const n=e.length,r=new Uint8ClampedArray(n>>2);let i=-1/0,s=1/0;for(let o=0,l=r.length;o<l;o++){const c=r[o]=e[o<<2];i=Math.max(i,c),s=Math.min(s,c)}const a=255/(i-s);for(let o=0,l=r.length;o<l;o++)r[o]=(r[o]-s)*a;return r}static#d(e){let n,r=-1/0,i=-1/0;const s=e.findIndex(l=>l!==0);let a=s,o=s;for(n=s;n<256;n++){const l=e[n];l>r&&(n-a>i&&(i=n-a,o=n-1),r=l,a=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n}static#f(e){const n=e,{width:r,height:i}=e,{maxDim:s}=this.#e;let a=r,o=i;if(r>s||i>s){let m=r,g=i,x=Math.log2(Math.max(r,i)/s);const y=Math.floor(x);x=x===y?y-1:y;for(let w=0;w<x;w++){a=Math.ceil(m/2),o=Math.ceil(g/2);const A=new OffscreenCanvas(a,o);A.getContext("2d").drawImage(e,0,0,m,g,0,0,a,o),m=a,g=o,e!==n&&e.close(),e=A.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const c=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,a,o),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,a,o);const d=c.getImageData(0,0,a,o).data;return[this.#h(d),a,o]}static extractContoursFromText(e,{fontFamily:n,fontStyle:r,fontWeight:i},s,a,o,l){let c=new OffscreenCanvas(1,1),d=c.getContext("2d",{alpha:!1});const h=200,m=d.font=`${r} ${i} ${h}px ${n}`,{actualBoundingBoxLeft:g,actualBoundingBoxRight:x,actualBoundingBoxAscent:y,actualBoundingBoxDescent:b,fontBoundingBoxAscent:w,fontBoundingBoxDescent:A,width:_}=d.measureText(e),E=1.5,P=Math.ceil(Math.max(Math.abs(g)+Math.abs(x)||0,_)*E),T=Math.ceil(Math.max(Math.abs(y)+Math.abs(b)||h,Math.abs(w)+Math.abs(A)||h)*E);c=new OffscreenCanvas(P,T),d=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=m,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,P,T),d.fillStyle="black",d.fillText(e,P*(E-1)/2,T*(3-E)/2);const k=this.#h(d.getImageData(0,0,P,T).data),O=this.#l(k),R=this.#d(O),F=this.#s(k,P,T,R);return this.processDrawnLines({lines:{curves:F,width:P,height:T},pageWidth:s,pageHeight:a,rotation:o,innerMargin:l,mustSmooth:!0,areContours:!0})}static process(e,n,r,i,s){const[a,o,l]=this.#f(e),[c,d]=this.#c(a,o,l,Math.hypot(o,l)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),h=this.#d(d),m=this.#s(c,o,l,h);return this.processDrawnLines({lines:{curves:m,width:o,height:l},pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:s,mustSmooth:a,areContours:o}){i%180!==0&&([n,r]=[r,n]);const{curves:l,width:c,height:d}=e,h=e.thickness??0,m=[],g=Math.min(n/c,r/d),x=g/n,y=g/r,b=[];for(const{points:A}of l){const _=a?this.#o(A):A;if(!_)continue;b.push(_);const E=_.length,P=new Float32Array(E),T=new Float32Array(3*(E===2?2:E-2));if(m.push({line:T,points:P}),E===2){P[0]=_[0]*x,P[1]=_[1]*y,T.set([NaN,NaN,NaN,NaN,P[0],P[1]],0);continue}let[k,O,R,F]=_;k*=x,O*=y,R*=x,F*=y,P.set([k,O,R,F],0),T.set([NaN,NaN,NaN,NaN,k,O],0);for(let M=4;M<E;M+=2){const D=P[M]=_[M]*x,$=P[M+1]=_[M+1]*y;T.set(Se.createBezierPoints(k,O,R,F,D,$),(M-2)*3),[k,O,R,F]=[R,F,D,$]}}if(m.length===0)return null;const w=o?new UA:new Wf;return w.build(m,n,r,1,i,o?0:h,s),{outline:w,newCurves:b,areContours:o,thickness:h,width:c,height:d}}static async compressSignature({outlines:e,areContours:n,thickness:r,width:i,height:s}){let a=1/0,o=-1/0,l=0;for(const _ of e){l+=_.length;for(let E=2,P=_.length;E<P;E++){const T=_[E]-_[E-2];a=Math.min(a,T),o=Math.max(o,T)}}let c;a>=-128&&o<=127?c=Int8Array:a>=-32768&&o<=32767?c=Int16Array:c=Int32Array;const d=e.length,h=Rm+Od*d,m=new Uint32Array(h);let g=0;m[g++]=h*Uint32Array.BYTES_PER_ELEMENT+(l-2*d)*c.BYTES_PER_ELEMENT,m[g++]=0,m[g++]=i,m[g++]=s,m[g++]=n?0:1,m[g++]=Math.max(0,Math.floor(r??0)),m[g++]=d,m[g++]=c.BYTES_PER_ELEMENT;for(const _ of e)m[g++]=_.length-2,m[g++]=_[0],m[g++]=_[1];const x=new CompressionStream("deflate-raw"),y=x.writable.getWriter();await y.ready,y.write(m);const b=c.prototype.constructor;for(const _ of e){const E=new b(_.length-2);for(let P=2,T=_.length;P<T;P++)E[P-2]=_[P]-_[P-2];y.write(E)}y.close();const w=await new Response(x.readable).arrayBuffer(),A=new Uint8Array(w);return CV(A)}static async decompressSignature(e){try{const n=Xce(e),{readable:r,writable:i}=new DecompressionStream("deflate-raw"),s=i.getWriter();await s.ready,s.write(n).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const _ of r)a||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),a.set(_,o),o+=_.length;const l=new Uint32Array(a.buffer,0,a.length>>2),c=l[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const d=l[2],h=l[3],m=l[4]===0,g=l[5],x=l[6],y=l[7],b=[],w=(Rm+Od*x)*Uint32Array.BYTES_PER_ELEMENT;let A;switch(y){case Int8Array.BYTES_PER_ELEMENT:A=new Int8Array(a.buffer,w);break;case Int16Array.BYTES_PER_ELEMENT:A=new Int16Array(a.buffer,w);break;case Int32Array.BYTES_PER_ELEMENT:A=new Int32Array(a.buffer,w);break}o=0;for(let _=0;_<x;_++){const E=l[Od*_+Rm],P=new Float32Array(E+2);b.push(P);for(let T=0;T<Od-1;T++)P[T]=l[Od*_+Rm+T+1];for(let T=0;T<E;T++)P[T+2]=P[T]+A[o++]}return{areContours:m,thickness:g,outlines:b,width:d,height:h}}catch(n){return Ke(`decompressSignature: ${n}`),null}}}class XE extends ZV{constructor(){super(),super.updateProperties({fill:De._defaultLineColor,"stroke-width":0})}clone(){const e=new XE;return e.updateAll(this),e}}class QE extends gy{constructor(e){super(e),super.updateProperties({stroke:De._defaultLineColor,"stroke-width":1})}clone(){const e=new QE(this._viewParameters);return e.updateAll(this),e}}class cs extends ht{#e=!1;#t=null;#r=null;#n=null;static _type="signature";static _editorType=Qe.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#r=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,n){De.initialize(e,n),this._defaultDrawingOptions=new XE,this._defaultDrawnSignatureOptions=new QE(n.viewParameters)}static getDefaultDrawingOptions(e){const n=this._defaultDrawingOptions.clone();return n.updateProperties(e),n}static get supportMultipleDrawings(){return!1}static get typesMap(){return Je(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const n=e.get("hasDescription");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,n;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,e=this.x,n=this.y),super.render(),this._drawId===null)if(this.#r){const{lines:i,mustSmooth:s,areContours:a,description:o,uuid:l,heightInPage:c}=this.#r,{rawDims:{pageWidth:d,pageHeight:h},rotation:m}=this.parent.viewport,g=rc.processDrawnLines({lines:i,pageWidth:d,pageHeight:h,rotation:m,innerMargin:cs._INNER_MARGIN,mustSmooth:s,areContours:a});this.addSignature(g,c,o,l)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(e,n)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(n=>{n?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:n,thickness:r,width:i,height:s}=this.#r,a=Math.max(i,s),o=rc.processDrawnLines({lines:{curves:e.map(l=>({points:l})),thickness:r,width:i,height:s},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:n});return{areContours:n,outline:o.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,n,r,i){const{x:s,y:a}=this,{outline:o}=this.#r=e;this.#e=o instanceof UA,this.description=r;let l;this.#e?l=cs.getDefaultDrawingOptions():(l=cs._defaultDrawnSignatureOptions.clone(),l.updateProperties({"stroke-width":o.thickness})),this._addOutlines({drawOutlines:o,drawingOptions:l});const[,c]=this.pageDimensions;let d=n/c;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=s,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(i),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!i,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return rc.process(e,n,r,i,cs._INNER_MARGIN)}getFromText(e,n){const{rawDims:{pageWidth:r,pageHeight:i},rotation:s}=this.parent.viewport;return rc.extractContoursFromText(e,n,r,i,s,cs._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:n,pageHeight:r},rotation:i}=this.parent.viewport;return rc.processDrawnLines({lines:e,pageWidth:n,pageHeight:r,rotation:i,innerMargin:cs._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:n}){e?this._drawingOptions=cs.getDefaultDrawingOptions():(this._drawingOptions=cs._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":n}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:n,points:r}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":i}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:i});return this.addComment(s),e?(s.paths={lines:n,points:r},s.uuid=this.#n,s.isCopy=!0):s.lines=n,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,n,r,i,s,a){return a.areContours?UA.deserialize(e,n,r,i,s,a):Wf.deserialize(e,n,r,i,s,a)}static async deserialize(e,n,r){const i=await super.deserialize(e,n,r);return i.#e=e.areContours,i.description=e.accessibilityData?.alt||"",i.#n=e.uuid,i}}class Rde extends De{#e=null;#t=null;#r=null;#n=null;#a=null;#s="";#i=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Qe.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,n){De.initialize(e,n)}static isHandlingMimeForPasting(e){return OA.includes(e)}static paste(e,n){n.pasteEditor({mode:Qe.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const n=e.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}#d(e,n=!1){if(!e){this.remove();return}this.#e=e.bitmap,n||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#s=e.file.name),this.#m()}#f(){if(this.#r=null,this._uiManager.enableWaiting(!1),!!this.#i){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:i,width:s,height:a}=e||this.copyCanvas(null,null,!0).imageData,o=await r.guess({name:"altText",request:{data:i,width:s,height:a,channels:i.length/(s*a)}});if(!o)throw new Error("No response from the AI service.");if(o.error)throw new Error("Error from the AI service.");if(o.cancel)return null;if(!o.output)throw new Error("No valid response from the AI service.");const l=o.output;return await this.setGuessedAltText(l),n&&!this.hasAltTextData()&&(this.altTextData={alt:l,decorative:!1}),l}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(r=>this.#d(r,!0)).finally(()=>this.#f());return}if(this.#n){const r=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromUrl(r).then(i=>this.#d(i)).finally(()=>this.#f());return}if(this.#a){const r=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#r=this._uiManager.imageManager.getFromFile(r).then(i=>this.#d(i)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=OA.join(",");const n=this._uiManager._signal;this.#r=new Promise(r=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const i=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(i)}r()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),r()},{signal:n})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#i?.remove(),this.#i=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#i===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#r||this.#e||this.#n||this.#a||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;return this._isCopy&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,n),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,n){const{id:r,bitmap:i}=this._uiManager.imageManager.getFromCanvas(e,n);n.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(this.#t=r,i&&(this.#e=i),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:n,height:r}=this.#e;const[i,s]=this.pageDimensions,a=.75;if(this.width)n=this.width*i,r=this.height*s;else if(n>a*i||r>a*s){const l=Math.min(a*i/n,a*s/r);n*=l,r*=l}this._uiManager.enableWaiting(!1);const o=this.#i=document.createElement("canvas");o.setAttribute("role","img"),this.addContainer(o),this.width=n/i,this.height=r/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#s&&this.div.setAttribute("aria-description",this.#s),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,n,r=!1){e||(e=224);const{width:i,height:s}=this.#e,a=new Ss;let o=this.#e,l=i,c=s,d=null;if(n){if(i>n||s>n){const T=Math.min(n/i,n/s);l=Math.floor(i*T),c=Math.floor(s*T)}d=document.createElement("canvas");const m=d.width=Math.ceil(l*a.sx),g=d.height=Math.ceil(c*a.sy);this.#l||(o=this.#u(m,g));const x=d.getContext("2d");x.filter=this._uiManager.hcmFilter;let y="white",b="#cfcfd8";this._uiManager.hcmFilter!=="none"?b="black":nue.isDarkMode&&(y="#8f8f9d",b="#42414d");const w=15,A=w*a.sx,_=w*a.sy,E=new OffscreenCanvas(A*2,_*2),P=E.getContext("2d");P.fillStyle=y,P.fillRect(0,0,A*2,_*2),P.fillStyle=b,P.fillRect(0,0,A,_),P.fillRect(A,_,A,_),x.fillStyle=x.createPattern(E,"repeat"),x.fillRect(0,0,m,g),x.drawImage(o,0,0,o.width,o.height,0,0,m,g)}let h=null;if(r){let m,g;if(a.symmetric&&o.width<e&&o.height<e)m=o.width,g=o.height;else if(o=this.#e,i>e||s>e){const b=Math.min(e/i,e/s);m=Math.floor(i*b),g=Math.floor(s*b),this.#l||(o=this.#u(m,g))}const y=new OffscreenCanvas(m,g).getContext("2d",{willReadFrequently:!0});y.drawImage(o,0,0,o.width,o.height,0,0,m,g),h={width:m,height:g,data:y.getImageData(0,0,m,g).data}}return{canvas:d,width:l,height:c,imageData:h}}#u(e,n){const{width:r,height:i}=this.#e;let s=r,a=i,o=this.#e;for(;s>2*e||a>2*n;){const l=s,c=a;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),a>2*n&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(s,a);d.getContext("2d").drawImage(o,0,0,l,c,0,0,s,a),o=d.transferToImageBitmap()}return o}#p(){const[e,n]=this.parentDimensions,{width:r,height:i}=this,s=new Ss,a=Math.ceil(r*e*s.sx),o=Math.ceil(i*n*s.sy),l=this.#i;if(!l||l.width===a&&l.height===o)return;l.width=a,l.height=o;const c=this.#l?this.#e:this.#u(a,o),d=l.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(c,0,0,c.width,c.height,0,0,a,o)}#v(e){if(e){if(this.#l){const i=this._uiManager.imageManager.getSvgUrl(this.#t);if(i)return i}const n=document.createElement("canvas");return{width:n.width,height:n.height}=this.#e,n.getContext("2d").drawImage(this.#e,0,0),n.toDataURL()}if(this.#l){const[n,r]=this.pageDimensions,i=Math.round(this.width*n*zc.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*zc.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(i,s);return a.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,i,s),a.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,n,r){let i=null,s=!1;if(e instanceof XV){const{data:{rect:y,rotation:b,id:w,structParent:A,popupRef:_,richText:E,contentsObj:P,creationDate:T,modificationDate:k},container:O,parent:{page:{pageNumber:R}},canvas:F}=e;let M,D;F?(delete e.canvas,{id:M,bitmap:D}=r.imageManager.getFromCanvas(O.id,F),F.remove()):(s=!0,e._hasNoCanvas=!0);const $=(await n._structTree.getAriaAttributes(`${cc}${w}`))?.get("aria-label")||"";i=e={annotationType:Qe.STAMP,bitmapId:M,bitmap:D,pageIndex:R-1,rect:y.slice(0),rotation:b,annotationElementId:w,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:$},isSvg:!1,structParent:A,popupRef:_,richText:E,comment:P?.str||null,creationDate:T,modificationDate:k}}const a=await super.deserialize(e,n,r),{rect:o,bitmap:l,bitmapUrl:c,bitmapId:d,isSvg:h,accessibilityData:m}=e;s?(r.addMissingCanvas(e.id,a),a.#o=!0):d&&r.imageManager.isValidId(d)?(a.#t=d,l&&(a.#e=l)):a.#n=c,a.#l=h;const[g,x]=a.pageDimensions;return a.width=(o[2]-o[0])/g,a.height=(o[3]-o[1])/x,m&&(a.altTextData=m),a._initialData=i,e.comment&&a.setCommentData(e),a.#h=!!i,a}serialize(e=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(r),e)return r.bitmapUrl=this.#v(!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:i,altText:s}=this.serializeAltText(!1);if(!i&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const o=this.#b(r);return o.isSame?null:(o.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(n===null)return r;n.stamps||=new Map;const a=this.#l?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!n.stamps.has(this.#t))n.stamps.set(this.#t,{area:a,serialized:r}),r.bitmap=this.#v(!1);else if(this.#l){const o=n.stamps.get(this.#t);a>o.area&&(o.area=a,o.serialized.bitmap.close(),o.serialized.bitmap=this.#v(!1))}return r}#b(e){const{pageIndex:n,accessibilityData:{altText:r}}=this._initialData,i=e.pageIndex===n,s=(e.accessibilityData?.alt||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&i&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Ws{#e;#t=!1;#r=null;#n=null;#a=null;#s=new Map;#i=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([In,YE,Rde,an,cs].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:d}){const h=[...Ws.#p.values()];if(!Ws._initialized){Ws._initialized=!0;for(const m of h)m.initialize(d,e)}e.registerEditorTypes(h),this.#u=e,this.pageIndex=n,this.div=r,this.#e=s,this.#r=a,this.viewport=c,this.#d=l,this.drawLayer=o,this._structTree=i,this.#u.addLayer(this)}get isEmpty(){return this.#s.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Qe.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Qe.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Qe.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Qe.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Qe.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const r of Ws.#p.values())n.toggle(`${r._type}Editing`,e===r._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#r?.togglePointerEvents(e)}get#v(){return this.#s.size!==0?this.#s.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const r of this.#v)r.enableEditing(),r.show(!0),r.annotationElementId&&(this.#u.removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=this.#r;if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),this.#u.isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const i=await this.deserialize(r);i&&(this.addOrRebuild(i),i.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const i=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:o,clientY:l,timeStamp:c}=s,d=this.#m;if(c-d>500){this.#m=c;return}this.#m=-1;const{classList:h}=this.div;h.toggle("getElements",!0);const m=document.elementsFromPoint(o,l);if(h.toggle("getElements",!1),!this.div.contains(m[0]))return;let g;const x=new RegExp(`^${Th}[0-9]+$`);for(const b of m)if(x.test(b.id)){g=b.id;break}if(!g)return;const y=this.#s.get(g);y?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick(s))},{signal:i,capture:!0})}const e=this.#r,n=[];if(e){const i=new Map,s=new Map;for(const o of this.#v){if(o.disableEditing(),!o.annotationElementId){n.push(o);continue}if(o.serialize()!==null){i.set(o.annotationElementId,o);continue}else s.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}const a=e.getEditableAnnotations();for(const o of a){const{id:l}=o.data;if(this.#u.isDeletedAnnotationElement(l)){o.updateEdited({deleted:!0});continue}let c=s.get(l);if(c){c.resetAnnotationElement(o),c.show(!1),o.show();continue}c=i.get(l),c&&(this.#u.addChangedExistingAnnotation(c),c.renderAnnotationElement(o)&&c.show(!1)),o.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Ws.#p.values())r.remove(`${i._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(n),this.#o=!1}getEditableAnnotation(e){return this.#r?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:n}=e;if(n===this.#d.div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&this.#d.div.contains(n)){const{isMac:r}=nr.platform;if(e.button!==0||e.ctrlKey&&r)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),an.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#s.set(e.id,e);const{annotationElementId:n}=e;n&&this.#u.isDeletedAnnotationElement(n)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#s.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e.annotationElementId),De.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),n.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),r=()=>{e.remove()};this.addCommands({cmd:n,undo:r,mustExec:!1})}getEditorByUID(e){for(const n of this.#s.values())if(n.uid===e)return n;return null}getNextId(){return this.#u.getId()}get#y(){return Ws.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#C(e){const n=this.#y;return n?new n.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:r,offsetY:i}=this.#_(),s=this.getNextId(),a=this.#C({parent:this,id:s,x:r,y:i,uiManager:this.#u,isCentered:!0,...n});a&&this.add(a)}async deserialize(e){return await Ws.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,n,r={}){const i=this.getNextId(),s=this.#C({parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:n,...r});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#_(){const{x:e,y:n,width:r,height:i}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,n),o=Math.min(window.innerWidth,e+r),l=Math.min(window.innerHeight,n+i),c=(s+o)/2-e,d=(a+l)/2-n,[h,m]=this.viewport.rotation%180===0?[c,d]:[d,c];return{offsetX:h,offsetY:m}}addNewEditor(e={}){this.createAndAddNewEditor(this.#_(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:n}=nr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!this.#i||(this.#i=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const r=this.#u.getMode();if(r===Qe.STAMP||r===Qe.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Qe.HIGHLIGHT&&this.enableTextSelection(),this.#i){this.#i=!1;return}const{isMac:n}=nr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(this.#i=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const r=this.#u.getActive();this.#t=!r||r.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const n=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:r})=>{r&&!this.div.contains(r)&&(this.#h=null,this.commitOrRemove())},{signal:n}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&(this.#h=n);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,n,r){const i=this.#u.findParent(n,r);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#s.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#s.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#s.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,rl(this.div,e);for(const n of this.#u.getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const n=this.viewport.rotation,r=e.rotation;if(this.viewport=e,rl(this.div,{rotation:r}),n!==r)for(const i of this.#s.values())i.rotate(r)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return this.#u.viewParameters.realScale}}class Xn{#e=null;#t=new Map;#r=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const n of this.#t.values())n.remove(),e.append(n);this.#e=e}}static get _svgFactory(){return Je(this,"_svgFactory",new Og)}static#a(e,[n,r,i,s]){const{style:a}=e;a.top=`${100*r}%`,a.left=`${100*n}%`,a.width=`${100*i}%`,a.height=`${100*s}%`}#s(){const e=Xn._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#i(e,n){const r=Xn._svgFactory.createElement("clipPath");e.append(r);const i=`clip_${n}`;r.setAttribute("id",i),r.setAttribute("clipPathUnits","objectBoundingBox");const s=Xn._svgFactory.createElement("use");return r.append(s),s.setAttribute("href",`#${n}`),s.classList.add("clip"),i}#o(e,n){for(const[r,i]of Object.entries(n))i===null?e.removeAttribute(r):e.setAttribute(r,i)}draw(e,n=!1,r=!1){const i=Xn.#n++,s=this.#s(),a=Xn._svgFactory.createElement("defs");s.append(a);const o=Xn._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),n&&this.#r.set(i,o);const c=r?this.#i(a,l):null,d=Xn._svgFactory.createElement("use");return s.append(d),d.setAttribute("href",`#${l}`),this.updateProperties(s,e),this.#t.set(i,s),{id:i,clipPathId:`url(#${c})`}}drawOutline(e,n){const r=Xn.#n++,i=this.#s(),s=Xn._svgFactory.createElement("defs");i.append(s);const a=Xn._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(n){const h=Xn._svgFactory.createElement("mask");s.append(h),l=`mask_p${this.pageIndex}_${r}`,h.setAttribute("id",l),h.setAttribute("maskUnits","objectBoundingBox");const m=Xn._svgFactory.createElement("rect");h.append(m),m.setAttribute("width","1"),m.setAttribute("height","1"),m.setAttribute("fill","white");const g=Xn._svgFactory.createElement("use");h.append(g),g.setAttribute("href",`#${o}`),g.setAttribute("stroke","none"),g.setAttribute("fill","black"),g.setAttribute("fill-rule","nonzero"),g.classList.add("mask")}const c=Xn._svgFactory.createElement("use");i.append(c),c.setAttribute("href",`#${o}`),l&&c.setAttribute("mask",`url(#${l})`);const d=c.cloneNode();return i.append(d),c.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(i,e),this.#t.set(r,i),r}finalizeDraw(e,n){this.#r.delete(e),this.updateProperties(e,n)}updateProperties(e,n){if(!n)return;const{root:r,bbox:i,rootClass:s,path:a}=n,o=typeof e=="number"?this.#t.get(e):e;if(o){if(r&&this.#o(o,r),i&&Xn.#a(o,i),s){const{classList:l}=o;for(const[c,d]of Object.entries(s))l.toggle(c,d)}if(a){const c=o.firstChild.firstChild;this.#o(c,a)}}}updateParent(e,n){if(n===this)return;const r=this.#t.get(e);r&&(n.#e.append(r),this.#t.delete(e),n.#t.set(e,r))}remove(e){this.#r.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#r.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:$A};globalThis.pdfjsLib={AbortException:Ja,AnnotationEditorLayer:Ws,AnnotationEditorParamsType:at,AnnotationEditorType:Qe,AnnotationEditorUIManager:eo,AnnotationLayer:KE,AnnotationMode:Ua,AnnotationType:fn,applyOpacity:iue,build:dde,ColorPicker:wi,createValidAbsoluteUrl:wV,CSSConstants:rue,DOMSVGFactory:Og,DrawLayer:Xn,FeatureTest:nr,fetchData:$f,findContrastColor:sue,getDocument:WV,getFilenameFromUrl:Qce,getPdfFilenameFromUrl:Zce,getRGB:Uf,getUuid:AV,getXfaPageViewport:eue,GlobalWorkerOptions:Ac,ImageKind:ig,InvalidPDFException:kA,isDataScheme:fy,isPdfFile:FE,isValidExplicitDest:mue,MathClamp:vr,noContextMenu:ji,normalizeUnicode:Kce,OPS:jh,OutputScale:Ss,PasswordResponses:$ce,PDFDataRangeTransport:HV,PDFDateString:NA,PDFWorker:Qn,PermissionFlag:Fce,PixelsPerInch:zc,RenderingCancelledException:LE,renderRichText:EV,ResponseException:kg,setLayerDimensions:rl,shadow:Je,SignatureExtractor:rc,stopEvent:en,SupportedImageMimeTypes:OA,TextLayer:mr,TouchManager:py,updateUrlHash:SV,Util:Ae,VerbosityLevel:uy,version:ude,XfaLayer:PV};Ac.workerSrc=new URL("/assets/pdf.worker.min-Cpi8b8z3.mjs",import.meta.url).toString();const Ide={groceries:{category:"groceries",keywords:["dmart","bigbasket","grofers","blinkit","zepto","instamart","reliance fresh","more","nilgiris","kirana","grocery","sabzi","vegetables"]},food:{category:"food",keywords:["swiggy","zomato","dominos","mcdonalds","kfc","pizza","burger","restaurant","cafe","food","biryani","tiffin"]},transport:{category:"transport",keywords:["uber","ola","rapido","petrol","diesel","fuel","metro","bus","auto","rickshaw","parking"]},shopping:{category:"shopping",keywords:["amazon","flipkart","myntra","ajio","meesho","shopping","clothes","fashion","shoes"]},utilities:{category:"utilities",keywords:["electricity","water","gas","broadband","wifi","internet","recharge","bill","paytm","phonepe"]},entertainment:{category:"entertainment",keywords:["netflix","prime","hotstar","spotify","movie","cinema","pvr","inox","book my show"]},health:{category:"health",keywords:["pharmacy","apollo","medplus","1mg","netmeds","hospital","doctor","clinic","medicine","medical"]},education:{category:"education",keywords:["school","college","tuition","course","book","study","exam","coaching"]}};function Mg(t){const e=t.toLowerCase();for(const[n,{category:r,keywords:i}]of Object.entries(Ide))if(i.some(s=>e.includes(s)))return r;return"other"}function U2(t){const e=t.split(`
`).filter(r=>r.trim()),n=[];for(const r of e){const i=[/^?\s*(\d+(?:\.\d{2})?)\s+(.+)$/i,/^(.+?)\s+?\s*(\d+(?:\.\d{2})?)$/i];for(const s of i){const a=r.match(s);if(a){const o=s.source.startsWith("^?"),l=parseFloat(o?a[1]:a[2]),c=(o?a[2]:a[1]).trim();n.push({amount:l,merchant:c,category:Mg(c)});break}}}return n}function Lde(t){try{const e=JSON.parse(t),n=[];if(Array.isArray(e))for(const r of e)r.amount&&r.merchant&&n.push({amount:parseFloat(r.amount),merchant:r.merchant,category:r.category||Mg(r.merchant),date:r.date});else e.amount&&e.merchant&&n.push({amount:parseFloat(e.amount),merchant:e.merchant,category:e.category||Mg(e.merchant),date:e.date});return n}catch{return[]}}function Fde(t){const e=t.split(`
`).filter(l=>l.trim());if(e.length<2)return[];const n=[],r=e[0].toLowerCase().split(",").map(l=>l.trim()),i=r.findIndex(l=>l.includes("amount")),s=r.findIndex(l=>l.includes("merchant")||l.includes("description")||l.includes("name")),a=r.findIndex(l=>l.includes("category")),o=r.findIndex(l=>l.includes("date"));if(i===-1||s===-1)return[];for(let l=1;l<e.length;l++){const c=e[l].split(",").map(d=>d.trim());if(c.length>Math.max(i,s)){const d=parseFloat(c[i].replace(/[,]/g,"")),h=c[s],m=a!==-1?c[a]:Mg(h),g=o!==-1?c[o]:void 0;!isNaN(d)&&h&&n.push({amount:d,merchant:h,category:m,date:g})}}return n}function $de({open:t,onClose:e}){const{currentUser:n,addExpense:r}=it(),[i,s]=C.useState("pdf"),[a,o]=C.useState(""),[l,c]=C.useState([]),[d,h]=C.useState(!1),[m,g]=C.useState(!1),[x,y]=C.useState(null),[b,w]=C.useState(""),[A,_]=C.useState(!1),[E,P]=C.useState(null),T=async D=>{const $=D.target.files?.[0];$&&(y($),P(null))},k=async()=>{if(x){_(!0),P(null);try{const D=await x.arrayBuffer(),W=await WV({data:D,password:b}).promise;let H="";for(let U=1;U<=W.numPages;U++){const Q=(await(await W.getPage(U)).getTextContent()).items.map(B=>B.str).join(" ");H+=Q+`
`}const V=U2(H);if(V.length===0){const U=[/(\d{2}\/\d{2}\/\d{4})\s+(.+?)\s+([0-9,]+\.\d{2})/g,/([0-9,]+\.\d{2})\s+(.+?)\s+(\d{2}\/\d{2}\/\d{4})/g]}V.length>0?(c(V),h(!0)):P("Could not extract valid transactions. Please check the file format.")}catch(D){console.error("PDF Error:",D),D.name==="PasswordException"?P("Password required"):P("Failed to read PDF. "+D.message)}finally{_(!1)}}},O=()=>{let D=[];switch(i){case"paste":D=U2(a);break;case"json":D=Lde(a);break;case"csv":D=Fde(a);break}if(D.length===0){Te.error("No valid transactions found. Please check the format.");return}c(D),h(!0)},R=async()=>{if(!(!n||l.length===0)){g(!0);try{for(const D of l){const $={id:cn(),method:"upi",amount:D.amount,payer_user_id:n.id,account_id:"upi"},W={id:cn(),family_id:n.family_id,created_by:n.id,total_amount:D.amount,currency:"INR",category:D.category,date:D.date||xs(new Date),notes:D.merchant,payment_lines:[$],attachments:[],is_shared:!0,sync_status:"synced",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};await r(W)}Te.success(`Successfully imported ${l.length} transactions`),F()}catch(D){console.error("Error importing transactions:",D),Te.error("Failed to import some transactions")}finally{g(!1)}}},F=()=>{o(""),c([]),h(!1),y(null),w(""),P(null),e()},M=()=>{h(!1)};return f.jsx(qt,{open:t,onOpenChange:F,children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[d&&f.jsx(ge,{variant:"ghost",size:"icon",onClick:M,className:"shrink-0",children:f.jsx(Sf,{className:"h-4 w-4"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs(Jt,{className:"flex items-center gap-2",children:[f.jsx(Z4,{className:"h-5 w-5 text-primary"}),d?"Preview Transactions":"Import UPI Transactions"]}),f.jsx(ln,{children:d?`Review ${l.length} transactions before importing`:"Upload a PDF statement, JSON/CSV file, or paste transaction data."})]})]})}),d?f.jsxs("div",{className:"space-y-4 flex-1 overflow-hidden flex flex-col",children:[f.jsx("div",{className:"bg-primary-container/20 border-2 border-primary-container rounded-xl p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),f.jsx("p",{className:"text-2xl font-semibold",children:l.length})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Amount"}),f.jsxs("p",{className:"text-2xl font-semibold text-destructive",children:["",l.reduce((D,$)=>D+$.amount,0).toFixed(2)]})]})]})}),f.jsx(xV,{className:"flex-1 -mx-6 px-6",children:f.jsx("div",{className:"space-y-2",children:l.map((D,$)=>f.jsxs("div",{className:"bg-card border border-border rounded-lg p-3 flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-lg bg-destructive/10 flex items-center justify-center shrink-0",children:f.jsx(G4,{className:"h-5 w-5 text-destructive"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("p",{className:"font-medium truncate",children:D.merchant}),f.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[f.jsx(xn,{variant:"secondary",className:"text-xs capitalize",children:D.category}),D.date&&f.jsx("span",{className:"text-xs text-muted-foreground",children:D.date})]})]}),f.jsxs("div",{className:"text-right shrink-0",children:[f.jsxs("p",{className:"font-semibold text-destructive",children:["",D.amount]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"UPI"})]})]},$))})}),f.jsxs("div",{className:"flex gap-2 pt-2 border-t",children:[f.jsx(ge,{variant:"outline",onClick:M,className:"flex-1",children:"Back"}),f.jsx(ge,{onClick:R,disabled:m,className:"flex-1 bg-success hover:bg-success/90 text-white gap-2",children:m?"Importing...":f.jsxs(f.Fragment,{children:[f.jsx(Fv,{className:"h-4 w-4"}),"Import ",l.length," Transactions"]})})]})]}):f.jsxs("div",{className:"space-y-4 flex-1 overflow-y-auto",children:[f.jsxs(Pg,{children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx(Eg,{children:"We'll automatically detect categories based on merchant names."})]}),f.jsxs($c,{value:i,onValueChange:s,children:[f.jsxs(Bc,{className:"grid w-full grid-cols-4",children:[f.jsx(Ir,{value:"pdf",children:"PDF"}),f.jsx(Ir,{value:"paste",children:"Paste"}),f.jsx(Ir,{value:"json",children:"JSON"}),f.jsx(Ir,{value:"csv",children:"CSV"})]}),f.jsxs(Va,{value:"pdf",className:"space-y-4",children:[f.jsxs("div",{className:"border-2 border-dashed border-muted-foreground/25 rounded-xl p-8 text-center space-y-4 hover:bg-muted/50 transition-colors",children:[f.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:f.jsx(EZ,{className:"h-6 w-6 text-primary"})}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium",children:x?x.name:"Upload Bank Statement PDF"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:x?`${(x.size/1024).toFixed(1)} KB`:"Click to browse or drag and drop"})]}),f.jsx(Tt,{type:"file",accept:".pdf",className:"hidden",id:"pdf-upload",onChange:T}),f.jsx(ge,{variant:"outline",onClick:()=>document.getElementById("pdf-upload")?.click(),children:"Select PDF"})]}),x&&f.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"pdf-password",children:"Password (if protected)"}),f.jsxs("div",{className:"relative",children:[f.jsx(K4,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),f.jsx(Tt,{id:"pdf-password",type:"password",placeholder:"Enter PDF password",value:b,onChange:D=>w(D.target.value),className:"pl-9"})]})]}),E&&f.jsxs(Pg,{variant:"destructive",children:[f.jsx(Nc,{className:"h-4 w-4"}),f.jsx(Eg,{children:E})]}),f.jsx(ge,{onClick:k,disabled:A,className:"w-full",children:A?"Reading PDF...":"Process PDF"})]})]}),f.jsxs(Va,{value:"paste",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Paste transaction data (one per line)"}),f.jsx(Ha,{placeholder:`250 Zomato
500 Uber
1200 BigBasket`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ge,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(Va,{value:"json",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Paste JSON data"}),f.jsx(Ha,{placeholder:`[
  {"amount": 250, "merchant": "Zomato"},
  {"amount": 500, "merchant": "Uber", "category": "transport"}
]`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ge,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]}),f.jsxs(Va,{value:"csv",className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Paste CSV data"}),f.jsx(Ha,{placeholder:`amount,merchant,category,date
250,Zomato,food,2025-11-04
500,Uber,transport,2025-11-04`,value:a,onChange:D=>o(D.target.value),rows:8,className:"font-mono text-sm"})]}),f.jsx(ge,{onClick:O,className:"w-full",disabled:!a.trim(),children:"Preview Transactions"})]})]})]})]})})}const Bde=[{value:"all",label:"All"},{value:"today",label:"Today"},{value:"week",label:"Week"},{value:"month",label:"Month"}],Ude=["All Categories","Food & Dining","Transportation","Shopping","Bills & Utilities","Entertainment","Healthcare","Education","Personal Care","Home & Garden","Gifts & Donations","Travel","Other"],zde=["All Modes","Cash","UPI","Card","Net Banking","Other"];function Vde({open:t,onClose:e,onApplyFilters:n}){const[r,i]=C.useState(""),[s,a]=C.useState("all"),[o,l]=C.useState("All Categories"),[c,d]=C.useState("All Modes"),h=()=>{n?.({searchQuery:r,timeRange:s,category:o,mode:c}),e()},m=()=>{i(""),a("all"),l("All Categories"),d("All Modes")};return f.jsx(qt,{open:t,onOpenChange:e,children:f.jsxs(Gt,{className:"max-w-md p-0 gap-0 bg-background",children:[f.jsx("div",{className:"p-4 pb-3 border-b",children:f.jsxs("div",{className:"relative",children:[f.jsx(nJ,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground z-10"}),f.jsx(Tt,{placeholder:"Search transactions...",value:r,onChange:g=>i(g.target.value),className:"pl-10 pr-12 h-11 bg-surface-variant/30 border-0"}),r&&f.jsx("button",{onClick:()=>i(""),className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-muted-foreground hover:text-foreground hover:bg-surface-variant/50 rounded-sm z-10",children:f.jsx(Su,{className:"h-4 w-4"})})]})}),f.jsx("div",{className:"px-4 py-4 border-b",children:f.jsx("div",{className:"flex gap-2",children:Bde.map(g=>f.jsx(ge,{variant:s===g.value?"default":"outline",size:"sm",onClick:()=>a(g.value),className:`flex-1 h-9 ${s===g.value?"bg-primary text-primary-foreground shadow-sm":"bg-surface-variant/30 hover:bg-surface-variant/50 border-0"}`,children:g.label},g.value))})}),f.jsxs("div",{className:"p-4 space-y-3",children:[f.jsxs(Bn,{value:o,onValueChange:l,children:[f.jsx(zn,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Un,{})}),f.jsx(Vn,{children:Ude.map(g=>f.jsx(He,{value:g,children:g},g))})]}),f.jsxs(Bn,{value:c,onValueChange:d,children:[f.jsx(zn,{className:"h-11 bg-surface-variant/30 border-0",children:f.jsx(Un,{})}),f.jsx(Vn,{children:zde.map(g=>f.jsx(He,{value:g,children:g},g))})]})]}),f.jsxs("div",{className:"p-4 pt-2 flex gap-3 border-t bg-surface-variant/10",children:[f.jsx(ge,{variant:"outline",onClick:m,className:"flex-1 h-11",children:"Reset"}),f.jsx(ge,{onClick:h,className:"flex-1 h-11 bg-primary hover:bg-primary/90",children:"Apply Filters"})]})]})})}function Wde(){const{expenses:t,income:e,currentFamily:n}=it(),{t:r}=dl();if(!n)return null;const i=n.currency,s=(F,M)=>t.filter(D=>b0(new Date(D.date),{start:F,end:M})).reduce((D,$)=>D+$.amount,0),a=(F,M)=>e.filter(D=>b0(new Date(D.date),{start:F,end:M})).reduce((D,$)=>D+$.amount,0),o=new Date,l=Ti(o,{weekStartsOn:1}),c=Ah(o,{weekStartsOn:1}),d=Ti(c2(o),{weekStartsOn:1}),h=Ah(c2(o),{weekStartsOn:1}),m=hr(o),g=_h(o),x=hr(l2(o)),y=_h(l2(o)),b=s(l,c),w=s(d,h),A=a(m,g),_=s(m,g),E=A-_,P=a(x,y),T=s(x,y),k=P-T,O=[];if(b>w&&w>0){const F=Math.round((b-w)/w*100);O.push({icon:f.jsx(Fr,{className:"h-5 w-5 text-destructive"}),title:"Spending Alert",message:`You spent ${F}% more this week compared to last week.`,color:"bg-destructive/10 text-destructive-foreground"})}else if(b<w&&b>0){const F=Math.round((w-b)/w*100);O.push({icon:f.jsx(Xa,{className:"h-5 w-5 text-green-600"}),title:"Good Job!",message:`You've spent ${F}% less this week than last week. Keep it up!`,color:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"})}if(E>k&&k>0){const F=E-k;O.push({icon:f.jsx(bM,{className:"h-5 w-5 text-yellow-600"}),title:"Savings Growth",message:`Great job! You saved ${i} ${F.toLocaleString()} more than usual this month.`,color:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300"})}if(_>0){const F={};t.filter(D=>b0(new Date(D.date),{start:m,end:g})).forEach(D=>{F[D.category]=(F[D.category]||0)+D.amount});const M=Object.entries(F).sort((D,$)=>$[1]-D[1])[0];M&&M[1]/_>.4&&O.push({icon:f.jsx(Nc,{className:"h-5 w-5 text-orange-600"}),title:"Spending Insight",message:`Heads up! ${M[0]} makes up ${Math.round(M[1]/_*100)}% of your spending this month.`,color:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300"})}if(O.length===0&&t.length>0&&O.push({icon:f.jsx(bM,{className:"h-5 w-5 text-primary"}),title:"Tip",message:"Track your daily expenses to get better insights!",color:"bg-primary/10 text-primary-foreground"}),O.length===0)return null;const R=O.slice(0,2);return f.jsx("div",{className:"space-y-3",children:R.map((F,M)=>f.jsxs("div",{className:`p-4 rounded-xl border flex items-start gap-3 ${F.color}`,children:[f.jsx("div",{className:"shrink-0 mt-0.5",children:F.icon}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-sm",children:F.title}),f.jsx("p",{className:"text-sm opacity-90",children:F.message})]})]},M))})}var F0,z2;function $r(){if(z2)return F0;z2=1;var t=Array.isArray;return F0=t,F0}var $0,V2;function JV(){if(V2)return $0;V2=1;var t=typeof hm=="object"&&hm&&hm.Object===Object&&hm;return $0=t,$0}var B0,W2;function Ts(){if(W2)return B0;W2=1;var t=JV(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return B0=n,B0}var U0,H2;function Hf(){if(H2)return U0;H2=1;var t=Ts(),e=t.Symbol;return U0=e,U0}var z0,q2;function Hde(){if(q2)return z0;q2=1;var t=Hf(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function s(a){var o=n.call(a,i),l=a[i];try{a[i]=void 0;var c=!0}catch{}var d=r.call(a);return c&&(o?a[i]=l:delete a[i]),d}return z0=s,z0}var V0,G2;function qde(){if(G2)return V0;G2=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return V0=n,V0}var W0,K2;function la(){if(K2)return W0;K2=1;var t=Hf(),e=Hde(),n=qde(),r="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?i:r:s&&s in Object(o)?e(o):n(o)}return W0=a,W0}var H0,Y2;function ca(){if(Y2)return H0;Y2=1;function t(e){return e!=null&&typeof e=="object"}return H0=t,H0}var q0,X2;function ju(){if(X2)return q0;X2=1;var t=la(),e=ca(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return q0=r,q0}var G0,Q2;function ZE(){if(Q2)return G0;Q2=1;var t=$r(),e=ju(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:r.test(s)||!n.test(s)||a!=null&&s in Object(a)}return G0=i,G0}var K0,Z2;function oo(){if(Z2)return K0;Z2=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return K0=t,K0}var Y0,J2;function JE(){if(J2)return Y0;J2=1;var t=la(),e=oo(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==r||l==i||l==n||l==s}return Y0=a,Y0}var X0,eD;function Gde(){if(eD)return X0;eD=1;var t=Ts(),e=t["__core-js_shared__"];return X0=e,X0}var Q0,tD;function Kde(){if(tD)return Q0;tD=1;var t=Gde(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Q0=n,Q0}var Z0,nD;function e6(){if(nD)return Z0;nD=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Z0=n,Z0}var J0,rD;function Yde(){if(rD)return J0;rD=1;var t=JE(),e=Kde(),n=oo(),r=e6(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,l=a.toString,c=o.hasOwnProperty,d=RegExp("^"+l.call(c).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(m){if(!n(m)||e(m))return!1;var g=t(m)?d:s;return g.test(r(m))}return J0=h,J0}var ew,iD;function Xde(){if(iD)return ew;iD=1;function t(e,n){return e?.[n]}return ew=t,ew}var tw,sD;function pl(){if(sD)return tw;sD=1;var t=Yde(),e=Xde();function n(r,i){var s=e(r,i);return t(s)?s:void 0}return tw=n,tw}var nw,aD;function vy(){if(aD)return nw;aD=1;var t=pl(),e=t(Object,"create");return nw=e,nw}var rw,oD;function Qde(){if(oD)return rw;oD=1;var t=vy();function e(){this.__data__=t?t(null):{},this.size=0}return rw=e,rw}var iw,lD;function Zde(){if(lD)return iw;lD=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return iw=t,iw}var sw,cD;function Jde(){if(cD)return sw;cD=1;var t=vy(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return r.call(a,s)?a[s]:void 0}return sw=i,sw}var aw,uD;function ehe(){if(uD)return aw;uD=1;var t=vy(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var s=this.__data__;return t?s[i]!==void 0:n.call(s,i)}return aw=r,aw}var ow,dD;function the(){if(dD)return ow;dD=1;var t=vy(),e="__lodash_hash_undefined__";function n(r,i){var s=this.__data__;return this.size+=this.has(r)?0:1,s[r]=t&&i===void 0?e:i,this}return ow=n,ow}var lw,hD;function nhe(){if(hD)return lw;hD=1;var t=Qde(),e=Zde(),n=Jde(),r=ehe(),i=the();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,lw=s,lw}var cw,fD;function rhe(){if(fD)return cw;fD=1;function t(){this.__data__=[],this.size=0}return cw=t,cw}var uw,pD;function eT(){if(pD)return uw;pD=1;function t(e,n){return e===n||e!==e&&n!==n}return uw=t,uw}var dw,mD;function yy(){if(mD)return dw;mD=1;var t=eT();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return dw=e,dw}var hw,gD;function ihe(){if(gD)return hw;gD=1;var t=yy(),e=Array.prototype,n=e.splice;function r(i){var s=this.__data__,a=t(s,i);if(a<0)return!1;var o=s.length-1;return a==o?s.pop():n.call(s,a,1),--this.size,!0}return hw=r,hw}var fw,vD;function she(){if(vD)return fw;vD=1;var t=yy();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return fw=e,fw}var pw,yD;function ahe(){if(yD)return pw;yD=1;var t=yy();function e(n){return t(this.__data__,n)>-1}return pw=e,pw}var mw,bD;function ohe(){if(bD)return mw;bD=1;var t=yy();function e(n,r){var i=this.__data__,s=t(i,n);return s<0?(++this.size,i.push([n,r])):i[s][1]=r,this}return mw=e,mw}var gw,xD;function by(){if(xD)return gw;xD=1;var t=rhe(),e=ihe(),n=she(),r=ahe(),i=ohe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,gw=s,gw}var vw,wD;function tT(){if(wD)return vw;wD=1;var t=pl(),e=Ts(),n=t(e,"Map");return vw=n,vw}var yw,SD;function lhe(){if(SD)return yw;SD=1;var t=nhe(),e=by(),n=tT();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return yw=r,yw}var bw,_D;function che(){if(_D)return bw;_D=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return bw=t,bw}var xw,AD;function xy(){if(AD)return xw;AD=1;var t=che();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return xw=e,xw}var ww,CD;function uhe(){if(CD)return ww;CD=1;var t=xy();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return ww=e,ww}var Sw,PD;function dhe(){if(PD)return Sw;PD=1;var t=xy();function e(n){return t(this,n).get(n)}return Sw=e,Sw}var _w,ED;function hhe(){if(ED)return _w;ED=1;var t=xy();function e(n){return t(this,n).has(n)}return _w=e,_w}var Aw,TD;function fhe(){if(TD)return Aw;TD=1;var t=xy();function e(n,r){var i=t(this,n),s=i.size;return i.set(n,r),this.size+=i.size==s?0:1,this}return Aw=e,Aw}var Cw,jD;function nT(){if(jD)return Cw;jD=1;var t=lhe(),e=uhe(),n=dhe(),r=hhe(),i=fhe();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=r,s.prototype.set=i,Cw=s,Cw}var Pw,kD;function t6(){if(kD)return Pw;kD=1;var t=nT(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var a=arguments,o=i?i.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=r.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,Pw=n,Pw}var Ew,ND;function phe(){if(ND)return Ew;ND=1;var t=t6(),e=500;function n(r){var i=t(r,function(a){return s.size===e&&s.clear(),a}),s=i.cache;return i}return Ew=n,Ew}var Tw,OD;function mhe(){if(OD)return Tw;OD=1;var t=phe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return Tw=r,Tw}var jw,MD;function rT(){if(MD)return jw;MD=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=Array(i);++r<i;)s[r]=n(e[r],r,e);return s}return jw=t,jw}var kw,DD;function ghe(){if(DD)return kw;DD=1;var t=Hf(),e=rT(),n=$r(),r=ju(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(r(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return kw=a,kw}var Nw,RD;function n6(){if(RD)return Nw;RD=1;var t=ghe();function e(n){return n==null?"":t(n)}return Nw=e,Nw}var Ow,ID;function r6(){if(ID)return Ow;ID=1;var t=$r(),e=ZE(),n=mhe(),r=n6();function i(s,a){return t(s)?s:e(s,a)?[s]:n(r(s))}return Ow=i,Ow}var Mw,LD;function wy(){if(LD)return Mw;LD=1;var t=ju();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Mw=e,Mw}var Dw,FD;function iT(){if(FD)return Dw;FD=1;var t=r6(),e=wy();function n(r,i){i=t(i,r);for(var s=0,a=i.length;r!=null&&s<a;)r=r[e(i[s++])];return s&&s==a?r:void 0}return Dw=n,Dw}var Rw,$D;function i6(){if($D)return Rw;$D=1;var t=iT();function e(n,r,i){var s=n==null?void 0:t(n,r);return s===void 0?i:s}return Rw=e,Rw}var vhe=i6();const ni=vt(vhe);var Iw,BD;function yhe(){if(BD)return Iw;BD=1;function t(e){return e==null}return Iw=t,Iw}var bhe=yhe();const Xe=vt(bhe);var Lw,UD;function xhe(){if(UD)return Lw;UD=1;var t=la(),e=$r(),n=ca(),r="[object String]";function i(s){return typeof s=="string"||!e(s)&&n(s)&&t(s)==r}return Lw=i,Lw}var whe=xhe();const sl=vt(whe);var She=JE();const qe=vt(She);var _he=oo();const ku=vt(_he);var Fw={exports:{}},mt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zD;function Ahe(){if(zD)return mt;zD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),o=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),x;x=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case n:case i:case r:case c:case d:return b;default:switch(b=b&&b.$$typeof,b){case o:case a:case l:case m:case h:case s:return b;default:return w}}case e:return w}}}return mt.ContextConsumer=a,mt.ContextProvider=s,mt.Element=t,mt.ForwardRef=l,mt.Fragment=n,mt.Lazy=m,mt.Memo=h,mt.Portal=e,mt.Profiler=i,mt.StrictMode=r,mt.Suspense=c,mt.SuspenseList=d,mt.isAsyncMode=function(){return!1},mt.isConcurrentMode=function(){return!1},mt.isContextConsumer=function(b){return y(b)===a},mt.isContextProvider=function(b){return y(b)===s},mt.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},mt.isForwardRef=function(b){return y(b)===l},mt.isFragment=function(b){return y(b)===n},mt.isLazy=function(b){return y(b)===m},mt.isMemo=function(b){return y(b)===h},mt.isPortal=function(b){return y(b)===e},mt.isProfiler=function(b){return y(b)===i},mt.isStrictMode=function(b){return y(b)===r},mt.isSuspense=function(b){return y(b)===c},mt.isSuspenseList=function(b){return y(b)===d},mt.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===i||b===r||b===c||b===d||b===g||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===h||b.$$typeof===s||b.$$typeof===a||b.$$typeof===l||b.$$typeof===x||b.getModuleId!==void 0)},mt.typeOf=y,mt}var VD;function Che(){return VD||(VD=1,Fw.exports=Ahe()),Fw.exports}var Phe=Che(),$w,WD;function s6(){if(WD)return $w;WD=1;var t=la(),e=ca(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return $w=r,$w}var Bw,HD;function Ehe(){if(HD)return Bw;HD=1;var t=s6();function e(n){return t(n)&&n!=+n}return Bw=e,Bw}var The=Ehe();const qf=vt(The);var jhe=s6();const khe=vt(jhe);var xr=function(e){return e===0?0:e>0?1:-1},Vo=function(e){return sl(e)&&e.indexOf("%")===e.length-1},ve=function(e){return khe(e)&&!qf(e)},Nhe=function(e){return Xe(e)},jn=function(e){return ve(e)||sl(e)},Ohe=0,Nu=function(e){var n=++Ohe;return"".concat(e||"").concat(n)},wr=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ve(e)&&!sl(e))return r;var s;if(Vo(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return qf(s)&&(s=r),i&&s>n&&(s=n),s},za=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Mhe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Zr=function(e,n){return ve(e)&&ve(n)?function(r){return e+r*(n-e)}:function(){return n}};function Dg(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ni(r,e))===n})}var Dhe=function(e,n){return ve(e)&&ve(n)?e-n:sl(e)&&sl(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Cc(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function zA(t){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(t)}var Rhe=["viewBox","children"],Ihe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qD=["points","pathLength"],Uw={svg:Rhe,polygon:qD,polyline:qD},sT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Rg=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(C.isValidElement(e)&&(r=e.props),!ku(r))return null;var i={};return Object.keys(r).forEach(function(s){sT.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Lhe=function(e,n,r){return function(i){return e(n,r,i),null}},al=function(e,n,r){if(!ku(e)||zA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];sT.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Lhe(a,n,r))}),i},Fhe=["children"],$he=["children"];function GD(t,e){if(t==null)return{};var n=Bhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function VA(t){"@babel/helpers - typeof";return VA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},VA(t)}var KD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Xs=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},YD=null,zw=null,aT=function t(e){if(e===YD&&Array.isArray(zw))return zw;var n=[];return C.Children.forEach(e,function(r){Xe(r)||(Phe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),zw=n,YD=e,n};function ri(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Xs(i)}):r=[Xs(e)],aT(t).forEach(function(i){var s=ni(i,"type.displayName")||ni(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Yr(t,e){var n=ri(t,e);return n&&n[0]}var XD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ve(r)||r<=0||!ve(i)||i<=0)},Uhe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],zhe=function(e){return e&&e.type&&sl(e.type)&&Uhe.indexOf(e.type)>=0},Vhe=function(e){return e&&VA(e)==="object"&&"clipDot"in e},Whe=function(e,n,r,i){var s,a=(s=Uw?.[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!qe(e)&&(i&&a.includes(n)||Ihe.includes(n))||r&&sT.includes(n)},$e=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(C.isValidElement(e)&&(i=e.props),!ku(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Whe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},WA=function t(e,n){if(e===n)return!0;var r=C.Children.count(e);if(r!==C.Children.count(n))return!1;if(r===0)return!0;if(r===1)return QD(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!QD(s,a))return!1}return!0},QD=function(e,n){if(Xe(e)&&Xe(n))return!0;if(!Xe(e)&&!Xe(n)){var r=e.props||{},i=r.children,s=GD(r,Fhe),a=n.props||{},o=a.children,l=GD(a,$he);return i&&o?Cc(s,l)&&WA(i,o):!i&&!o?Cc(s,l):!1}return!1},ZD=function(e,n){var r=[],i={};return aT(e).forEach(function(s,a){if(zhe(s))r.push(s);else if(s){var o=Xs(s.type),l=n[o]||{},c=l.handler,d=l.once;if(c&&(!d||!i[o])){var h=c(s,o,a);r.push(h),i[o]=!0}}}),r},Hhe=function(e){var n=e&&e.type;return n&&KD[n]?KD[n]:null},qhe=function(e,n){return aT(n).indexOf(e)},Ghe=["children","width","height","viewBox","className","style","title","desc"];function HA(){return HA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},HA.apply(this,arguments)}function Khe(t,e){if(t==null)return{};var n=Yhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Yhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=Khe(t,Ghe),d=i||{width:n,height:r,x:0,y:0},h=Ye("recharts-surface",s);return z.createElement("svg",HA({},$e(c,!0,"svg"),{className:h,width:n,height:r,style:a,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),z.createElement("title",null,o),z.createElement("desc",null,l),e)}var Xhe=["children","className"];function GA(){return GA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GA.apply(this,arguments)}function Qhe(t,e){if(t==null)return{};var n=Zhe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Zhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ut=z.forwardRef(function(t,e){var n=t.children,r=t.className,i=Qhe(t,Xhe),s=Ye("recharts-layer",r);return z.createElement("g",GA({className:s},$e(i,!0),{ref:e}),n)}),Yi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]},Vw,JD;function Jhe(){if(JD)return Vw;JD=1;function t(e,n,r){var i=-1,s=e.length;n<0&&(n=-n>s?0:s+n),r=r>s?s:r,r<0&&(r+=s),s=n>r?0:r-n>>>0,n>>>=0;for(var a=Array(s);++i<s;)a[i]=e[i+n];return a}return Vw=t,Vw}var Ww,eR;function efe(){if(eR)return Ww;eR=1;var t=Jhe();function e(n,r,i){var s=n.length;return i=i===void 0?s:i,!r&&i>=s?n:t(n,r,i)}return Ww=e,Ww}var Hw,tR;function a6(){if(tR)return Hw;tR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="\\u200d",o=RegExp("["+a+t+i+s+"]");function l(c){return o.test(c)}return Hw=l,Hw}var qw,nR;function tfe(){if(nR)return qw;nR=1;function t(e){return e.split("")}return qw=t,qw}var Gw,rR;function nfe(){if(rR)return Gw;rR=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,s="\\ufe0e\\ufe0f",a="["+t+"]",o="["+i+"]",l="\\ud83c[\\udffb-\\udfff]",c="(?:"+o+"|"+l+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",x=c+"?",y="["+s+"]?",b="(?:"+g+"(?:"+[d,h,m].join("|")+")"+y+x+")*",w=y+x+b,A="(?:"+[d+o+"?",o,h,m,a].join("|")+")",_=RegExp(l+"(?="+l+")|"+A+w,"g");function E(P){return P.match(_)||[]}return Gw=E,Gw}var Kw,iR;function rfe(){if(iR)return Kw;iR=1;var t=tfe(),e=a6(),n=nfe();function r(i){return e(i)?n(i):t(i)}return Kw=r,Kw}var Yw,sR;function ife(){if(sR)return Yw;sR=1;var t=efe(),e=a6(),n=rfe(),r=n6();function i(s){return function(a){a=r(a);var o=e(a)?n(a):void 0,l=o?o[0]:a.charAt(0),c=o?t(o,1).join(""):a.slice(1);return l[s]()+c}}return Yw=i,Yw}var Xw,aR;function sfe(){if(aR)return Xw;aR=1;var t=ife(),e=t("toUpperCase");return Xw=e,Xw}var afe=sfe();const Sy=vt(afe);function Ot(t){return function(){return t}}const o6=Math.cos,Ig=Math.sin,es=Math.sqrt,Lg=Math.PI,_y=2*Lg,KA=Math.PI,YA=2*KA,Lo=1e-6,ofe=YA-Lo;function l6(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function lfe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return l6;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class cfe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?l6:lfe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,d=a-e,h=o-n,m=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(m>Lo)if(!(Math.abs(h*l-c*d)>Lo)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,x=i-o,y=l*l+c*c,b=g*g+x*x,w=Math.sqrt(y),A=Math.sqrt(m),_=s*Math.tan((KA-Math.acos((y+m-b)/(2*w*A)))/2),E=_/A,P=_/w;Math.abs(E-1)>Lo&&this._append`L${e+E*d},${n+E*h}`,this._append`A${s},${s},0,0,${+(h*g>d*x)},${this._x1=e+P*l},${this._y1=n+P*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,d=n+l,h=1^a,m=a?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>Lo||Math.abs(this._y1-d)>Lo)&&this._append`L${c},${d}`,r&&(m<0&&(m=m%YA+YA),m>ofe?this._append`A${r},${r},0,1,${h},${e-o},${n-l}A${r},${r},0,1,${h},${this._x1=c},${this._y1=d}`:m>Lo&&this._append`A${r},${r},0,${+(m>=KA)},${h},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function oT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new cfe(e)}function lT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function c6(t){this._context=t}c6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ay(t){return new c6(t)}function u6(t){return t[0]}function d6(t){return t[1]}function h6(t,e){var n=Ot(!0),r=null,i=Ay,s=null,a=oT(o);t=typeof t=="function"?t:t===void 0?u6:Ot(t),e=typeof e=="function"?e:e===void 0?d6:Ot(e);function o(l){var c,d=(l=lT(l)).length,h,m=!1,g;for(r==null&&(s=i(g=a())),c=0;c<=d;++c)!(c<d&&n(h=l[c],c,l))===m&&((m=!m)?s.lineStart():s.lineEnd()),m&&s.point(+t(h,c,l),+e(h,c,l));if(g)return s=null,g+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ot(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ot(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ot(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function Im(t,e,n){var r=null,i=Ot(!0),s=null,a=Ay,o=null,l=oT(c);t=typeof t=="function"?t:t===void 0?u6:Ot(+t),e=typeof e=="function"?e:Ot(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?d6:Ot(+n);function c(h){var m,g,x,y=(h=lT(h)).length,b,w=!1,A,_=new Array(y),E=new Array(y);for(s==null&&(o=a(A=l())),m=0;m<=y;++m){if(!(m<y&&i(b=h[m],m,h))===w)if(w=!w)g=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=m-1;x>=g;--x)o.point(_[x],E[x]);o.lineEnd(),o.areaEnd()}w&&(_[m]=+t(b,m,h),E[m]=+e(b,m,h),o.point(r?+r(b,m,h):_[m],n?+n(b,m,h):E[m]))}if(A)return o=null,A+""||null}function d(){return h6().defined(i).curve(a).context(s)}return c.x=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),r=null,c):t},c.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Ot(+h),c):t},c.x1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Ot(+h),c):r},c.y=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),n=null,c):e},c.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Ot(+h),c):e},c.y1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Ot(+h),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Ot(!!h),c):i},c.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),c):a},c.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),c):s},c}class f6{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ufe(t){return new f6(t,!0)}function dfe(t){return new f6(t,!1)}const cT={draw(t,e){const n=es(e/Lg);t.moveTo(n,0),t.arc(0,0,n,0,_y)}},hfe={draw(t,e){const n=es(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},p6=es(1/3),ffe=p6*2,pfe={draw(t,e){const n=es(e/ffe),r=n*p6;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mfe={draw(t,e){const n=es(e),r=-n/2;t.rect(r,r,n,n)}},gfe=.8908130915292852,m6=Ig(Lg/10)/Ig(7*Lg/10),vfe=Ig(_y/10)*m6,yfe=-o6(_y/10)*m6,bfe={draw(t,e){const n=es(e*gfe),r=vfe*n,i=yfe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=_y*s/5,o=o6(a),l=Ig(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},Qw=es(3),xfe={draw(t,e){const n=-es(e/(Qw*3));t.moveTo(0,n*2),t.lineTo(-Qw*n,-n),t.lineTo(Qw*n,-n),t.closePath()}},vi=-.5,yi=es(3)/2,XA=1/es(12),wfe=(XA/2+1)*3,Sfe={draw(t,e){const n=es(e/wfe),r=n/2,i=n*XA,s=r,a=n*XA+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(vi*r-yi*i,yi*r+vi*i),t.lineTo(vi*s-yi*a,yi*s+vi*a),t.lineTo(vi*o-yi*l,yi*o+vi*l),t.lineTo(vi*r+yi*i,vi*i-yi*r),t.lineTo(vi*s+yi*a,vi*a-yi*s),t.lineTo(vi*o+yi*l,vi*l-yi*o),t.closePath()}};function _fe(t,e){let n=null,r=oT(i);t=typeof t=="function"?t:Ot(t||cT),e=typeof e=="function"?e:Ot(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ot(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Fg(){}function $g(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function g6(t){this._context=t}g6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$g(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Afe(t){return new g6(t)}function v6(t){this._context=t}v6.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Cfe(t){return new v6(t)}function y6(t){this._context=t}y6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:$g(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Pfe(t){return new y6(t)}function b6(t){this._context=t}b6.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Efe(t){return new b6(t)}function oR(t){return t<0?-1:1}function lR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(oR(s)+oR(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function cR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Zw(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function Bg(t){this._context=t}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zw(this,this._t0,cR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Zw(this,cR(this,n=lR(this,t,e)),n);break;default:Zw(this,this._t0,n=lR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function x6(t){this._context=new w6(t)}(x6.prototype=Object.create(Bg.prototype)).point=function(t,e){Bg.prototype.point.call(this,e,t)};function w6(t){this._context=t}w6.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Tfe(t){return new Bg(t)}function jfe(t){return new x6(t)}function S6(t){this._context=t}S6.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uR(t),i=uR(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uR(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function kfe(t){return new S6(t)}function Cy(t,e){this._context=t,this._t=e}Cy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Nfe(t){return new Cy(t,.5)}function Ofe(t){return new Cy(t,0)}function Mfe(t){return new Cy(t,1)}function Vc(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function QA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Dfe(t,e){return t[e]}function Rfe(t){const e=[];return e.key=t,e}function Ife(){var t=Ot([]),e=QA,n=Vc,r=Dfe;function i(s){var a=Array.from(t.apply(this,arguments),Rfe),o,l=a.length,c=-1,d;for(const h of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(h,a[o].key,c,s)]).data=h;for(o=0,d=lT(e(a));o<l;++o)a[d[o]].index=o;return n(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ot(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Ot(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?QA:typeof s=="function"?s:Ot(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Vc,i):n},i}function Lfe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Vc(t,e)}}function Ffe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Vc(t,e)}}function $fe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var d=t[e[o]],h=d[r][1]||0,m=d[r-1][1]||0,g=(h-m)/2,x=0;x<o;++x){var y=t[e[x]],b=y[r][1]||0,w=y[r-1][1]||0;g+=b-w}l+=h,c+=g*h}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Vc(t,e)}}function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}var Bfe=["type","size","sizeType"];function ZA(){return ZA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZA.apply(this,arguments)}function dR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dR(Object(n),!0).forEach(function(r){Ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ufe(t,e,n){return e=zfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zfe(t){var e=Vfe(t,"string");return Oh(e)=="symbol"?e:e+""}function Vfe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t,e){if(t==null)return{};var n=Hfe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _6={symbolCircle:cT,symbolCross:hfe,symbolDiamond:pfe,symbolSquare:mfe,symbolStar:bfe,symbolTriangle:xfe,symbolWye:Sfe},qfe=Math.PI/180,Gfe=function(e){var n="symbol".concat(Sy(e));return _6[n]||cT},Kfe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*qfe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Yfe=function(e,n){_6["symbol".concat(Sy(e))]=n},uT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=Wfe(e,Bfe),c=hR(hR({},l),{},{type:r,size:s,sizeType:o}),d=function(){var b=Gfe(r),w=_fe().type(b).size(Kfe(s,o,r));return w()},h=c.className,m=c.cx,g=c.cy,x=$e(c,!0);return m===+m&&g===+g&&s===+s?z.createElement("path",ZA({},x,{className:Ye("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};uT.registerSymbol=Yfe;function Wc(t){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wc(t)}function JA(){return JA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JA.apply(this,arguments)}function fR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xfe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fR(Object(n),!0).forEach(function(r){Mh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zfe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C6(r.key),r)}}function Jfe(t,e,n){return e&&Zfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function epe(t,e,n){return e=Ug(e),tpe(t,A6()?Reflect.construct(e,n||[],Ug(t).constructor):e.apply(t,n))}function tpe(t,e){if(e&&(Wc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return npe(t)}function npe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A6=function(){return!!t})()}function Ug(t){return Ug=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ug(t)}function rpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eC(t,e)}function Mh(t,e,n){return e=C6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C6(t){var e=ipe(t,"string");return Wc(e)=="symbol"?e:e+""}function ipe(t,e){if(Wc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=32,dT=(function(t){function e(){return Qfe(this,e),epe(this,e,arguments)}return rpe(e,t),Jfe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=bi/2,a=bi/6,o=bi/3,l=r.inactive?i:r.color;if(r.type==="plainline")return z.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:bi,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return z.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(bi,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return z.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(bi/8,"h").concat(bi,"v").concat(bi*3/4,"h").concat(-bi,"z"),className:"recharts-legend-icon"});if(z.isValidElement(r.legendIcon)){var c=Xfe({},r);return delete c.legendIcon,z.cloneElement(r.legendIcon,c)}return z.createElement(uT,{fill:l,cx:s,cy:s,size:bi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:bi,height:bi},h={display:o==="horizontal"?"inline-block":"block",marginRight:10},m={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,x){var y=g.formatter||l,b=Ye(Mh(Mh({"recharts-legend-item":!0},"legend-item-".concat(x),!0),"inactive",g.inactive));if(g.type==="none")return null;var w=qe(g.value)?null:g.value;Yi(!qe(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var A=g.inactive?c:g.color;return z.createElement("li",JA({className:b,style:h,key:"legend-item-".concat(x)},al(r.props,g,x)),z.createElement(qA,{width:a,height:a,viewBox:d,style:m},r.renderIcon(g)),z.createElement("span",{className:"recharts-legend-item-text",style:{color:A}},y?y(w,g,x):w))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return z.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])})(C.PureComponent);Mh(dT,"displayName","Legend");Mh(dT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Jw,pR;function spe(){if(pR)return Jw;pR=1;var t=by();function e(){this.__data__=new t,this.size=0}return Jw=e,Jw}var e1,mR;function ape(){if(mR)return e1;mR=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return e1=t,e1}var t1,gR;function ope(){if(gR)return t1;gR=1;function t(e){return this.__data__.get(e)}return t1=t,t1}var n1,vR;function lpe(){if(vR)return n1;vR=1;function t(e){return this.__data__.has(e)}return n1=t,n1}var r1,yR;function cpe(){if(yR)return r1;yR=1;var t=by(),e=tT(),n=nT(),r=200;function i(s,a){var o=this.__data__;if(o instanceof t){var l=o.__data__;if(!e||l.length<r-1)return l.push([s,a]),this.size=++o.size,this;o=this.__data__=new n(l)}return o.set(s,a),this.size=o.size,this}return r1=i,r1}var i1,bR;function P6(){if(bR)return i1;bR=1;var t=by(),e=spe(),n=ape(),r=ope(),i=lpe(),s=cpe();function a(o){var l=this.__data__=new t(o);this.size=l.size}return a.prototype.clear=e,a.prototype.delete=n,a.prototype.get=r,a.prototype.has=i,a.prototype.set=s,i1=a,i1}var s1,xR;function upe(){if(xR)return s1;xR=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return s1=e,s1}var a1,wR;function dpe(){if(wR)return a1;wR=1;function t(e){return this.__data__.has(e)}return a1=t,a1}var o1,SR;function E6(){if(SR)return o1;SR=1;var t=nT(),e=upe(),n=dpe();function r(i){var s=-1,a=i==null?0:i.length;for(this.__data__=new t;++s<a;)this.add(i[s])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,o1=r,o1}var l1,_R;function T6(){if(_R)return l1;_R=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return l1=t,l1}var c1,AR;function j6(){if(AR)return c1;AR=1;function t(e,n){return e.has(n)}return c1=t,c1}var u1,CR;function k6(){if(CR)return u1;CR=1;var t=E6(),e=T6(),n=j6(),r=1,i=2;function s(a,o,l,c,d,h){var m=l&r,g=a.length,x=o.length;if(g!=x&&!(m&&x>g))return!1;var y=h.get(a),b=h.get(o);if(y&&b)return y==o&&b==a;var w=-1,A=!0,_=l&i?new t:void 0;for(h.set(a,o),h.set(o,a);++w<g;){var E=a[w],P=o[w];if(c)var T=m?c(P,E,w,o,a,h):c(E,P,w,a,o,h);if(T!==void 0){if(T)continue;A=!1;break}if(_){if(!e(o,function(k,O){if(!n(_,O)&&(E===k||d(E,k,l,c,h)))return _.push(O)})){A=!1;break}}else if(!(E===P||d(E,P,l,c,h))){A=!1;break}}return h.delete(a),h.delete(o),A}return u1=s,u1}var d1,PR;function hpe(){if(PR)return d1;PR=1;var t=Ts(),e=t.Uint8Array;return d1=e,d1}var h1,ER;function fpe(){if(ER)return h1;ER=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,s){r[++n]=[s,i]}),r}return h1=t,h1}var f1,TR;function hT(){if(TR)return f1;TR=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return f1=t,f1}var p1,jR;function ppe(){if(jR)return p1;jR=1;var t=Hf(),e=hpe(),n=eT(),r=k6(),i=fpe(),s=hT(),a=1,o=2,l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",x="[object Set]",y="[object String]",b="[object Symbol]",w="[object ArrayBuffer]",A="[object DataView]",_=t?t.prototype:void 0,E=_?_.valueOf:void 0;function P(T,k,O,R,F,M,D){switch(O){case A:if(T.byteLength!=k.byteLength||T.byteOffset!=k.byteOffset)return!1;T=T.buffer,k=k.buffer;case w:return!(T.byteLength!=k.byteLength||!M(new e(T),new e(k)));case l:case c:case m:return n(+T,+k);case d:return T.name==k.name&&T.message==k.message;case g:case y:return T==k+"";case h:var $=i;case x:var W=R&a;if($||($=s),T.size!=k.size&&!W)return!1;var H=D.get(T);if(H)return H==k;R|=o,D.set(T,k);var V=r($(T),$(k),R,F,M,D);return D.delete(T),V;case b:if(E)return E.call(T)==E.call(k)}return!1}return p1=P,p1}var m1,kR;function N6(){if(kR)return m1;kR=1;function t(e,n){for(var r=-1,i=n.length,s=e.length;++r<i;)e[s+r]=n[r];return e}return m1=t,m1}var g1,NR;function mpe(){if(NR)return g1;NR=1;var t=N6(),e=$r();function n(r,i,s){var a=i(r);return e(r)?a:t(a,s(r))}return g1=n,g1}var v1,OR;function gpe(){if(OR)return v1;OR=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,s=0,a=[];++r<i;){var o=e[r];n(o,r,e)&&(a[s++]=o)}return a}return v1=t,v1}var y1,MR;function vpe(){if(MR)return y1;MR=1;function t(){return[]}return y1=t,y1}var b1,DR;function ype(){if(DR)return b1;DR=1;var t=gpe(),e=vpe(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(a){return a==null?[]:(a=Object(a),t(i(a),function(o){return r.call(a,o)}))}:e;return b1=s,b1}var x1,RR;function bpe(){if(RR)return x1;RR=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return x1=t,x1}var w1,IR;function xpe(){if(IR)return w1;IR=1;var t=la(),e=ca(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return w1=r,w1}var S1,LR;function fT(){if(LR)return S1;LR=1;var t=xpe(),e=ca(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(a){return e(a)&&r.call(a,"callee")&&!i.call(a,"callee")};return S1=s,S1}var qd={exports:{}},_1,FR;function wpe(){if(FR)return _1;FR=1;function t(){return!1}return _1=t,_1}qd.exports;var $R;function O6(){return $R||($R=1,(function(t,e){var n=Ts(),r=wpe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(qd,qd.exports)),qd.exports}var A1,BR;function pT(){if(BR)return A1;BR=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var s=typeof r;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return A1=n,A1}var C1,UR;function mT(){if(UR)return C1;UR=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return C1=e,C1}var P1,zR;function Spe(){if(zR)return P1;zR=1;var t=la(),e=mT(),n=ca(),r="[object Arguments]",i="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",d="[object Number]",h="[object Object]",m="[object RegExp]",g="[object Set]",x="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",A="[object Float32Array]",_="[object Float64Array]",E="[object Int8Array]",P="[object Int16Array]",T="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",M={};M[A]=M[_]=M[E]=M[P]=M[T]=M[k]=M[O]=M[R]=M[F]=!0,M[r]=M[i]=M[b]=M[s]=M[w]=M[a]=M[o]=M[l]=M[c]=M[d]=M[h]=M[m]=M[g]=M[x]=M[y]=!1;function D($){return n($)&&e($.length)&&!!M[t($)]}return P1=D,P1}var E1,VR;function M6(){if(VR)return E1;VR=1;function t(e){return function(n){return e(n)}}return E1=t,E1}var Gd={exports:{}};Gd.exports;var WR;function _pe(){return WR||(WR=1,(function(t,e){var n=JV(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=(function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}})();t.exports=o})(Gd,Gd.exports)),Gd.exports}var T1,HR;function D6(){if(HR)return T1;HR=1;var t=Spe(),e=M6(),n=_pe(),r=n&&n.isTypedArray,i=r?e(r):t;return T1=i,T1}var j1,qR;function Ape(){if(qR)return j1;qR=1;var t=bpe(),e=fT(),n=$r(),r=O6(),i=pT(),s=D6(),a=Object.prototype,o=a.hasOwnProperty;function l(c,d){var h=n(c),m=!h&&e(c),g=!h&&!m&&r(c),x=!h&&!m&&!g&&s(c),y=h||m||g||x,b=y?t(c.length,String):[],w=b.length;for(var A in c)(d||o.call(c,A))&&!(y&&(A=="length"||g&&(A=="offset"||A=="parent")||x&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||i(A,w)))&&b.push(A);return b}return j1=l,j1}var k1,GR;function Cpe(){if(GR)return k1;GR=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return k1=e,k1}var N1,KR;function R6(){if(KR)return N1;KR=1;function t(e,n){return function(r){return e(n(r))}}return N1=t,N1}var O1,YR;function Ppe(){if(YR)return O1;YR=1;var t=R6(),e=t(Object.keys,Object);return O1=e,O1}var M1,XR;function Epe(){if(XR)return M1;XR=1;var t=Cpe(),e=Ppe(),n=Object.prototype,r=n.hasOwnProperty;function i(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))r.call(s,o)&&o!="constructor"&&a.push(o);return a}return M1=i,M1}var D1,QR;function Gf(){if(QR)return D1;QR=1;var t=JE(),e=mT();function n(r){return r!=null&&e(r.length)&&!t(r)}return D1=n,D1}var R1,ZR;function Py(){if(ZR)return R1;ZR=1;var t=Ape(),e=Epe(),n=Gf();function r(i){return n(i)?t(i):e(i)}return R1=r,R1}var I1,JR;function Tpe(){if(JR)return I1;JR=1;var t=mpe(),e=ype(),n=Py();function r(i){return t(i,n,e)}return I1=r,I1}var L1,eI;function jpe(){if(eI)return L1;eI=1;var t=Tpe(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(s,a,o,l,c,d){var h=o&e,m=t(s),g=m.length,x=t(a),y=x.length;if(g!=y&&!h)return!1;for(var b=g;b--;){var w=m[b];if(!(h?w in a:r.call(a,w)))return!1}var A=d.get(s),_=d.get(a);if(A&&_)return A==a&&_==s;var E=!0;d.set(s,a),d.set(a,s);for(var P=h;++b<g;){w=m[b];var T=s[w],k=a[w];if(l)var O=h?l(k,T,w,a,s,d):l(T,k,w,s,a,d);if(!(O===void 0?T===k||c(T,k,o,l,d):O)){E=!1;break}P||(P=w=="constructor")}if(E&&!P){var R=s.constructor,F=a.constructor;R!=F&&"constructor"in s&&"constructor"in a&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(E=!1)}return d.delete(s),d.delete(a),E}return L1=i,L1}var F1,tI;function kpe(){if(tI)return F1;tI=1;var t=pl(),e=Ts(),n=t(e,"DataView");return F1=n,F1}var $1,nI;function Npe(){if(nI)return $1;nI=1;var t=pl(),e=Ts(),n=t(e,"Promise");return $1=n,$1}var B1,rI;function I6(){if(rI)return B1;rI=1;var t=pl(),e=Ts(),n=t(e,"Set");return B1=n,B1}var U1,iI;function Ope(){if(iI)return U1;iI=1;var t=pl(),e=Ts(),n=t(e,"WeakMap");return U1=n,U1}var z1,sI;function Mpe(){if(sI)return z1;sI=1;var t=kpe(),e=tT(),n=Npe(),r=I6(),i=Ope(),s=la(),a=e6(),o="[object Map]",l="[object Object]",c="[object Promise]",d="[object Set]",h="[object WeakMap]",m="[object DataView]",g=a(t),x=a(e),y=a(n),b=a(r),w=a(i),A=s;return(t&&A(new t(new ArrayBuffer(1)))!=m||e&&A(new e)!=o||n&&A(n.resolve())!=c||r&&A(new r)!=d||i&&A(new i)!=h)&&(A=function(_){var E=s(_),P=E==l?_.constructor:void 0,T=P?a(P):"";if(T)switch(T){case g:return m;case x:return o;case y:return c;case b:return d;case w:return h}return E}),z1=A,z1}var V1,aI;function Dpe(){if(aI)return V1;aI=1;var t=P6(),e=k6(),n=ppe(),r=jpe(),i=Mpe(),s=$r(),a=O6(),o=D6(),l=1,c="[object Arguments]",d="[object Array]",h="[object Object]",m=Object.prototype,g=m.hasOwnProperty;function x(y,b,w,A,_,E){var P=s(y),T=s(b),k=P?d:i(y),O=T?d:i(b);k=k==c?h:k,O=O==c?h:O;var R=k==h,F=O==h,M=k==O;if(M&&a(y)){if(!a(b))return!1;P=!0,R=!1}if(M&&!R)return E||(E=new t),P||o(y)?e(y,b,w,A,_,E):n(y,b,k,w,A,_,E);if(!(w&l)){var D=R&&g.call(y,"__wrapped__"),$=F&&g.call(b,"__wrapped__");if(D||$){var W=D?y.value():y,H=$?b.value():b;return E||(E=new t),_(W,H,w,A,E)}}return M?(E||(E=new t),r(y,b,w,A,_,E)):!1}return V1=x,V1}var W1,oI;function gT(){if(oI)return W1;oI=1;var t=Dpe(),e=ca();function n(r,i,s,a,o){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,s,a,n,o)}return W1=n,W1}var H1,lI;function Rpe(){if(lI)return H1;lI=1;var t=P6(),e=gT(),n=1,r=2;function i(s,a,o,l){var c=o.length,d=c,h=!l;if(s==null)return!d;for(s=Object(s);c--;){var m=o[c];if(h&&m[2]?m[1]!==s[m[0]]:!(m[0]in s))return!1}for(;++c<d;){m=o[c];var g=m[0],x=s[g],y=m[1];if(h&&m[2]){if(x===void 0&&!(g in s))return!1}else{var b=new t;if(l)var w=l(x,y,g,s,a,b);if(!(w===void 0?e(y,x,n|r,l,b):w))return!1}}return!0}return H1=i,H1}var q1,cI;function L6(){if(cI)return q1;cI=1;var t=oo();function e(n){return n===n&&!t(n)}return q1=e,q1}var G1,uI;function Ipe(){if(uI)return G1;uI=1;var t=L6(),e=Py();function n(r){for(var i=e(r),s=i.length;s--;){var a=i[s],o=r[a];i[s]=[a,o,t(o)]}return i}return G1=n,G1}var K1,dI;function F6(){if(dI)return K1;dI=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return K1=t,K1}var Y1,hI;function Lpe(){if(hI)return Y1;hI=1;var t=Rpe(),e=Ipe(),n=F6();function r(i){var s=e(i);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===i||t(a,i,s)}}return Y1=r,Y1}var X1,fI;function Fpe(){if(fI)return X1;fI=1;function t(e,n){return e!=null&&n in Object(e)}return X1=t,X1}var Q1,pI;function $pe(){if(pI)return Q1;pI=1;var t=r6(),e=fT(),n=$r(),r=pT(),i=mT(),s=wy();function a(o,l,c){l=t(l,o);for(var d=-1,h=l.length,m=!1;++d<h;){var g=s(l[d]);if(!(m=o!=null&&c(o,g)))break;o=o[g]}return m||++d!=h?m:(h=o==null?0:o.length,!!h&&i(h)&&r(g,h)&&(n(o)||e(o)))}return Q1=a,Q1}var Z1,mI;function Bpe(){if(mI)return Z1;mI=1;var t=Fpe(),e=$pe();function n(r,i){return r!=null&&e(r,i,t)}return Z1=n,Z1}var J1,gI;function Upe(){if(gI)return J1;gI=1;var t=gT(),e=i6(),n=Bpe(),r=ZE(),i=L6(),s=F6(),a=wy(),o=1,l=2;function c(d,h){return r(d)&&i(h)?s(a(d),h):function(m){var g=e(m,d);return g===void 0&&g===h?n(m,d):t(h,g,o|l)}}return J1=c,J1}var eS,vI;function Ou(){if(vI)return eS;vI=1;function t(e){return e}return eS=t,eS}var tS,yI;function zpe(){if(yI)return tS;yI=1;function t(e){return function(n){return n?.[e]}}return tS=t,tS}var nS,bI;function Vpe(){if(bI)return nS;bI=1;var t=iT();function e(n){return function(r){return t(r,n)}}return nS=e,nS}var rS,xI;function Wpe(){if(xI)return rS;xI=1;var t=zpe(),e=Vpe(),n=ZE(),r=wy();function i(s){return n(s)?t(r(s)):e(s)}return rS=i,rS}var iS,wI;function js(){if(wI)return iS;wI=1;var t=Lpe(),e=Upe(),n=Ou(),r=$r(),i=Wpe();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?e(a[0],a[1]):t(a):i(a)}return iS=s,iS}var sS,SI;function $6(){if(SI)return sS;SI=1;function t(e,n,r,i){for(var s=e.length,a=r+(i?1:-1);i?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return sS=t,sS}var aS,_I;function Hpe(){if(_I)return aS;_I=1;function t(e){return e!==e}return aS=t,aS}var oS,AI;function qpe(){if(AI)return oS;AI=1;function t(e,n,r){for(var i=r-1,s=e.length;++i<s;)if(e[i]===n)return i;return-1}return oS=t,oS}var lS,CI;function Gpe(){if(CI)return lS;CI=1;var t=$6(),e=Hpe(),n=qpe();function r(i,s,a){return s===s?n(i,s,a):t(i,e,a)}return lS=r,lS}var cS,PI;function Kpe(){if(PI)return cS;PI=1;var t=Gpe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return cS=e,cS}var uS,EI;function Ype(){if(EI)return uS;EI=1;function t(e,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;)if(r(n,e[i]))return!0;return!1}return uS=t,uS}var dS,TI;function Xpe(){if(TI)return dS;TI=1;function t(){}return dS=t,dS}var hS,jI;function Qpe(){if(jI)return hS;jI=1;var t=I6(),e=Xpe(),n=hT(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(s){return new t(s)}:e;return hS=i,hS}var fS,kI;function Zpe(){if(kI)return fS;kI=1;var t=E6(),e=Kpe(),n=Ype(),r=j6(),i=Qpe(),s=hT(),a=200;function o(l,c,d){var h=-1,m=e,g=l.length,x=!0,y=[],b=y;if(d)x=!1,m=n;else if(g>=a){var w=c?null:i(l);if(w)return s(w);x=!1,m=r,b=new t}else b=c?[]:y;e:for(;++h<g;){var A=l[h],_=c?c(A):A;if(A=d||A!==0?A:0,x&&_===_){for(var E=b.length;E--;)if(b[E]===_)continue e;c&&b.push(_),y.push(A)}else m(b,_,d)||(b!==y&&b.push(_),y.push(A))}return y}return fS=o,fS}var pS,NI;function Jpe(){if(NI)return pS;NI=1;var t=js(),e=Zpe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return pS=n,pS}var eme=Jpe();const OI=vt(eme);function B6(t,e,n){return e===!0?OI(t,n):qe(e)?OI(t,e):t}function Hc(t){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hc(t)}var tme=["ref"];function MI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MI(Object(n),!0).forEach(function(r){Ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,z6(r.key),r)}}function rme(t,e,n){return e&&DI(t.prototype,e),n&&DI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ime(t,e,n){return e=zg(e),sme(t,U6()?Reflect.construct(e,n||[],zg(t).constructor):e.apply(t,n))}function sme(t,e){if(e&&(Hc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ame(t)}function ame(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U6=function(){return!!t})()}function zg(t){return zg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zg(t)}function ome(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tC(t,e)}function tC(t,e){return tC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tC(t,e)}function Ey(t,e,n){return e=z6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z6(t){var e=lme(t,"string");return Hc(e)=="symbol"?e:e+""}function lme(t,e){if(Hc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function cme(t,e){if(t==null)return{};var n=ume(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ume(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dme(t){return t.value}function hme(t,e){if(z.isValidElement(t))return z.cloneElement(t,e);if(typeof t=="function")return z.createElement(t,e);e.ref;var n=cme(e,tme);return z.createElement(dT,n)}var RI=1,qa=(function(t){function e(){var n;nme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ime(this,e,[].concat(i)),Ey(n,"lastBoundingBox",{width:-1,height:-1}),n}return ome(e,t),rme(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>RI||Math.abs(i.height-this.lastBoundingBox.height)>RI)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?zs({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,h,m;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();h={left:((c||0)-g.width)/2}}else h=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var x=this.getBBoxSnapshot();m={top:((d||0)-x.height)/2}}else m=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return zs(zs({},h),m)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,h=zs(zs({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return z.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(g){r.wrapperNode=g}},hme(s,zs(zs({},this.props),{},{payload:B6(d,c,dme)})))}}],[{key:"getWithHeight",value:function(r,i){var s=zs(zs({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&ve(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])})(C.PureComponent);Ey(qa,"displayName","Legend");Ey(qa,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var mS,II;function fme(){if(II)return mS;II=1;var t=Hf(),e=fT(),n=$r(),r=t?t.isConcatSpreadable:void 0;function i(s){return n(s)||e(s)||!!(r&&s&&s[r])}return mS=i,mS}var gS,LI;function V6(){if(LI)return gS;LI=1;var t=N6(),e=fme();function n(r,i,s,a,o){var l=-1,c=r.length;for(s||(s=e),o||(o=[]);++l<c;){var d=r[l];i>0&&s(d)?i>1?n(d,i-1,s,a,o):t(o,d):a||(o[o.length]=d)}return o}return gS=n,gS}var vS,FI;function pme(){if(FI)return vS;FI=1;function t(e){return function(n,r,i){for(var s=-1,a=Object(n),o=i(n),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return n}}return vS=t,vS}var yS,$I;function mme(){if($I)return yS;$I=1;var t=pme(),e=t();return yS=e,yS}var bS,BI;function W6(){if(BI)return bS;BI=1;var t=mme(),e=Py();function n(r,i){return r&&t(r,i,e)}return bS=n,bS}var xS,UI;function gme(){if(UI)return xS;UI=1;var t=Gf();function e(n,r){return function(i,s){if(i==null)return i;if(!t(i))return n(i,s);for(var a=i.length,o=r?a:-1,l=Object(i);(r?o--:++o<a)&&s(l[o],o,l)!==!1;);return i}}return xS=e,xS}var wS,zI;function vT(){if(zI)return wS;zI=1;var t=W6(),e=gme(),n=e(t);return wS=n,wS}var SS,VI;function H6(){if(VI)return SS;VI=1;var t=vT(),e=Gf();function n(r,i){var s=-1,a=e(r)?Array(r.length):[];return t(r,function(o,l,c){a[++s]=i(o,l,c)}),a}return SS=n,SS}var _S,WI;function vme(){if(WI)return _S;WI=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return _S=t,_S}var AS,HI;function yme(){if(HI)return AS;HI=1;var t=ju();function e(n,r){if(n!==r){var i=n!==void 0,s=n===null,a=n===n,o=t(n),l=r!==void 0,c=r===null,d=r===r,h=t(r);if(!c&&!h&&!o&&n>r||o&&l&&d&&!c&&!h||s&&l&&d||!i&&d||!a)return 1;if(!s&&!o&&!h&&n<r||h&&i&&a&&!s&&!o||c&&i&&a||!l&&a||!d)return-1}return 0}return AS=e,AS}var CS,qI;function bme(){if(qI)return CS;qI=1;var t=yme();function e(n,r,i){for(var s=-1,a=n.criteria,o=r.criteria,l=a.length,c=i.length;++s<l;){var d=t(a[s],o[s]);if(d){if(s>=c)return d;var h=i[s];return d*(h=="desc"?-1:1)}}return n.index-r.index}return CS=e,CS}var PS,GI;function xme(){if(GI)return PS;GI=1;var t=rT(),e=iT(),n=js(),r=H6(),i=vme(),s=M6(),a=bme(),o=Ou(),l=$r();function c(d,h,m){h.length?h=t(h,function(y){return l(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):h=[o];var g=-1;h=t(h,s(n));var x=r(d,function(y,b,w){var A=t(h,function(_){return _(y)});return{criteria:A,index:++g,value:y}});return i(x,function(y,b){return a(y,b,m)})}return PS=c,PS}var ES,KI;function wme(){if(KI)return ES;KI=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return ES=t,ES}var TS,YI;function Sme(){if(YI)return TS;YI=1;var t=wme(),e=Math.max;function n(r,i,s){return i=e(i===void 0?r.length-1:i,0),function(){for(var a=arguments,o=-1,l=e(a.length-i,0),c=Array(l);++o<l;)c[o]=a[i+o];o=-1;for(var d=Array(i+1);++o<i;)d[o]=a[o];return d[i]=s(c),t(r,this,d)}}return TS=n,TS}var jS,XI;function _me(){if(XI)return jS;XI=1;function t(e){return function(){return e}}return jS=t,jS}var kS,QI;function q6(){if(QI)return kS;QI=1;var t=pl(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return kS=e,kS}var NS,ZI;function Ame(){if(ZI)return NS;ZI=1;var t=_me(),e=q6(),n=Ou(),r=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return NS=r,NS}var OS,JI;function Cme(){if(JI)return OS;JI=1;var t=800,e=16,n=Date.now;function r(i){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return OS=r,OS}var MS,eL;function Pme(){if(eL)return MS;eL=1;var t=Ame(),e=Cme(),n=e(t);return MS=n,MS}var DS,tL;function Eme(){if(tL)return DS;tL=1;var t=Ou(),e=Sme(),n=Pme();function r(i,s){return n(e(i,s,t),i+"")}return DS=r,DS}var RS,nL;function Ty(){if(nL)return RS;nL=1;var t=eT(),e=Gf(),n=pT(),r=oo();function i(s,a,o){if(!r(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return RS=i,RS}var IS,rL;function Tme(){if(rL)return IS;rL=1;var t=V6(),e=xme(),n=Eme(),r=Ty(),i=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&r(s,a[0],a[1])?a=[]:o>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return IS=i,IS}var jme=Tme();const yT=vt(jme);function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(this,arguments)}function kme(t,e){return Dme(t)||Mme(t,e)||Ome(t,e)||Nme()}function Nme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ome(t,e){if(t){if(typeof t=="string")return iL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(t,e)}}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Dme(t){if(Array.isArray(t))return t}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){Rme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rme(t,e,n){return e=Ime(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ime(t){var e=Lme(t,"string");return Dh(e)=="symbol"?e:e+""}function Lme(t,e){if(Dh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fme(t){return Array.isArray(t)&&jn(t[0])&&jn(t[1])?t.join(" ~ "):t}var $me=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,h=e.formatter,m=e.itemSorter,g=e.wrapperClassName,x=e.labelClassName,y=e.label,b=e.labelFormatter,w=e.accessibilityLayer,A=w===void 0?!1:w,_=function(){if(d&&d.length){var D={padding:0,margin:0},$=(m?yT(d,m):d).map(function(W,H){if(W.type==="none")return null;var V=LS({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},o),U=W.formatter||h||Fme,L=W.value,G=W.name,Q=L,B=G;if(U&&Q!=null&&B!=null){var K=U(L,G,W,H,d);if(Array.isArray(K)){var Z=kme(K,2);Q=Z[0],B=Z[1]}else Q=K}return z.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:V},jn(B)?z.createElement("span",{className:"recharts-tooltip-item-name"},B):null,jn(B)?z.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,z.createElement("span",{className:"recharts-tooltip-item-value"},Q),z.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return z.createElement("ul",{className:"recharts-tooltip-item-list",style:D},$)}return null},E=LS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),P=LS({margin:0},c),T=!Xe(y),k=T?y:"",O=Ye("recharts-default-tooltip",g),R=Ye("recharts-tooltip-label",x);T&&b&&d!==void 0&&d!==null&&(k=b(y,d));var F=A?{role:"status","aria-live":"assertive"}:{};return z.createElement("div",nC({className:O,style:E},F),z.createElement("p",{className:R,style:P},z.isValidElement(k)?k:"".concat(k)),_())};function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function Lm(t,e,n){return e=Bme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bme(t){var e=Ume(t,"string");return Rh(e)=="symbol"?e:e+""}function Ume(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Md="recharts-tooltip-wrapper",zme={visibility:"hidden"};function Vme(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Ye(Md,Lm(Lm(Lm(Lm({},"".concat(Md,"-right"),ve(n)&&e&&ve(e.x)&&n>=e.x),"".concat(Md,"-left"),ve(n)&&e&&ve(e.x)&&n<e.x),"".concat(Md,"-bottom"),ve(r)&&e&&ve(e.y)&&r>=e.y),"".concat(Md,"-top"),ve(r)&&e&&ve(e.y)&&r<e.y))}function aL(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&ve(s[r]))return s[r];var d=n[r]-o-i,h=n[r]+i;if(e[r])return a[r]?d:h;if(a[r]){var m=d,g=l[r];return m<g?Math.max(h,l[r]):Math.max(d,l[r])}var x=h+o,y=l[r]+c;return x>y?Math.max(d,l[r]):Math.max(h,l[r])}function Wme(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Hme(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,d,h;return a.height>0&&a.width>0&&n?(d=aL({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=aL({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Wme({translateX:d,translateY:h,useTranslate3d:o})):c=zme,{cssProperties:c,cssClasses:Vme({translateX:d,translateY:h,coordinate:n})}}function qc(t){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qc(t)}function oL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oL(Object(n),!0).forEach(function(r){iC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,K6(r.key),r)}}function Kme(t,e,n){return e&&Gme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yme(t,e,n){return e=Vg(e),Xme(t,G6()?Reflect.construct(e,n||[],Vg(t).constructor):e.apply(t,n))}function Xme(t,e){if(e&&(qc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qme(t)}function Qme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(G6=function(){return!!t})()}function Vg(t){return Vg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vg(t)}function Zme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rC(t,e)}function rC(t,e){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rC(t,e)}function iC(t,e,n){return e=K6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K6(t){var e=Jme(t,"string");return qc(e)=="symbol"?e:e+""}function Jme(t,e){if(qc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cL=1,ege=(function(t){function e(){var n;qme(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Yme(this,e,[].concat(i)),iC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iC(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return Zme(e,t),Kme(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>cL||Math.abs(r.height-this.state.lastBoundingBox.height)>cL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,h=i.hasPayload,m=i.isAnimationActive,g=i.offset,x=i.position,y=i.reverseDirection,b=i.useTranslate3d,w=i.viewBox,A=i.wrapperStyle,_=Hme({allowEscapeViewBox:a,coordinate:d,offsetTopLeft:g,position:x,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:w}),E=_.cssClasses,P=_.cssProperties,T=lL(lL({transition:m&&s?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},A);return z.createElement("div",{tabIndex:-1,className:E,style:T,ref:function(O){r.wrapperNode=O}},c)}}])})(C.PureComponent),tge=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ml={isSsr:tge()};function Gc(t){"@babel/helpers - typeof";return Gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gc(t)}function uL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uL(Object(n),!0).forEach(function(r){bT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,X6(r.key),r)}}function ige(t,e,n){return e&&rge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sge(t,e,n){return e=Wg(e),age(t,Y6()?Reflect.construct(e,n||[],Wg(t).constructor):e.apply(t,n))}function age(t,e){if(e&&(Gc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oge(t)}function oge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Y6=function(){return!!t})()}function Wg(t){return Wg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wg(t)}function lge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sC(t,e)}function sC(t,e){return sC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sC(t,e)}function bT(t,e,n){return e=X6(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function X6(t){var e=cge(t,"string");return Gc(e)=="symbol"?e:e+""}function cge(t,e){if(Gc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function uge(t){return t.dataKey}function dge(t,e){return z.isValidElement(t)?z.cloneElement(t,e):typeof t=="function"?z.createElement(t,e):z.createElement($me,e)}var yr=(function(t){function e(){return nge(this,e),sge(this,e,arguments)}return lge(e,t),ige(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,h=i.filterNull,m=i.isAnimationActive,g=i.offset,x=i.payload,y=i.payloadUniqBy,b=i.position,w=i.reverseDirection,A=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,P=x??[];h&&P.length&&(P=B6(x.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),y,uge));var T=P.length>0;return z.createElement(ege,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:m,active:s,coordinate:d,hasPayload:T,offset:g,position:b,reverseDirection:w,useTranslate3d:A,viewBox:_,wrapperStyle:E},dge(c,dL(dL({},this.props),{},{payload:P})))}}])})(C.PureComponent);bT(yr,"displayName","Tooltip");bT(yr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ml.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var FS,hL;function hge(){if(hL)return FS;hL=1;var t=Ts(),e=function(){return t.Date.now()};return FS=e,FS}var $S,fL;function fge(){if(fL)return $S;fL=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return $S=e,$S}var BS,pL;function pge(){if(pL)return BS;pL=1;var t=fge(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return BS=n,BS}var US,mL;function Q6(){if(mL)return US;mL=1;var t=pge(),e=oo(),n=ju(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var d=typeof c.valueOf=="function"?c.valueOf():c;c=e(d)?d+"":d}if(typeof c!="string")return c===0?c:+c;c=t(c);var h=s.test(c);return h||a.test(c)?o(c.slice(2),h?2:8):i.test(c)?r:+c}return US=l,US}var zS,gL;function mge(){if(gL)return zS;gL=1;var t=oo(),e=hge(),n=Q6(),r="Expected a function",i=Math.max,s=Math.min;function a(o,l,c){var d,h,m,g,x,y,b=0,w=!1,A=!1,_=!0;if(typeof o!="function")throw new TypeError(r);l=n(l)||0,t(c)&&(w=!!c.leading,A="maxWait"in c,m=A?i(n(c.maxWait)||0,l):m,_="trailing"in c?!!c.trailing:_);function E($){var W=d,H=h;return d=h=void 0,b=$,g=o.apply(H,W),g}function P($){return b=$,x=setTimeout(O,l),w?E($):g}function T($){var W=$-y,H=$-b,V=l-W;return A?s(V,m-H):V}function k($){var W=$-y,H=$-b;return y===void 0||W>=l||W<0||A&&H>=m}function O(){var $=e();if(k($))return R($);x=setTimeout(O,T($))}function R($){return x=void 0,_&&d?E($):(d=h=void 0,g)}function F(){x!==void 0&&clearTimeout(x),b=0,d=y=h=x=void 0}function M(){return x===void 0?g:R(e())}function D(){var $=e(),W=k($);if(d=arguments,h=this,y=$,W){if(x===void 0)return P(y);if(A)return clearTimeout(x),x=setTimeout(O,l),E(y)}return x===void 0&&(x=setTimeout(O,l)),g}return D.cancel=F,D.flush=M,D}return zS=a,zS}var VS,vL;function gge(){if(vL)return VS;vL=1;var t=mge(),e=oo(),n="Expected a function";function r(i,s,a){var o=!0,l=!0;if(typeof i!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(i,s,{leading:o,maxWait:s,trailing:l})}return VS=r,VS}var vge=gge();const Z6=vt(vge);function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function yL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yL(Object(n),!0).forEach(function(r){yge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yge(t,e,n){return e=bge(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bge(t){var e=xge(t,"string");return Ih(e)=="symbol"?e:e+""}function xge(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wge(t,e){return Cge(t)||Age(t,e)||_ge(t,e)||Sge()}function Sge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ge(t,e){if(t){if(typeof t=="string")return bL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bL(t,e)}}function bL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Age(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Cge(t){if(Array.isArray(t))return t}var Pc=C.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,d=c===void 0?0:c,h=t.minHeight,m=t.maxHeight,g=t.children,x=t.debounce,y=x===void 0?0:x,b=t.id,w=t.className,A=t.onResize,_=t.style,E=_===void 0?{}:_,P=C.useRef(null),T=C.useRef();T.current=A,C.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var k=C.useState({containerWidth:i.width,containerHeight:i.height}),O=wge(k,2),R=O[0],F=O[1],M=C.useCallback(function($,W){F(function(H){var V=Math.round($),U=Math.round(W);return H.containerWidth===V&&H.containerHeight===U?H:{containerWidth:V,containerHeight:U}})},[]);C.useEffect(function(){var $=function(G){var Q,B=G[0].contentRect,K=B.width,Z=B.height;M(K,Z),(Q=T.current)===null||Q===void 0||Q.call(T,K,Z)};y>0&&($=Z6($,y,{trailing:!0,leading:!1}));var W=new ResizeObserver($),H=P.current.getBoundingClientRect(),V=H.width,U=H.height;return M(V,U),W.observe(P.current),function(){W.disconnect()}},[M,y]);var D=C.useMemo(function(){var $=R.containerWidth,W=R.containerHeight;if($<0||W<0)return null;Yi(Vo(a)||Vo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Yi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Vo(a)?$:a,V=Vo(l)?W:l;n&&n>0&&(H?V=H/n:V&&(H=V*n),m&&V>m&&(V=m)),Yi(H>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,V,a,l,d,h,n);var U=!Array.isArray(g)&&Xs(g.type).endsWith("Chart");return z.Children.map(g,function(L){return z.isValidElement(L)?C.cloneElement(L,Fm({width:H,height:V},U?{style:Fm({height:"100%",width:"100%",maxHeight:V,maxWidth:H},L.props.style)}:{})):L})},[n,g,l,m,h,d,R,a]);return z.createElement("div",{id:b?"".concat(b):void 0,className:Ye("recharts-responsive-container",w),style:Fm(Fm({},E),{},{width:a,height:l,minWidth:d,minHeight:h,maxHeight:m}),ref:P},D)}),Kc=function(e){return null};Kc.displayName="Cell";function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function xL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xL(Object(n),!0).forEach(function(r){Pge(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pge(t,e,n){return e=Ege(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ege(t){var e=Tge(t,"string");return Lh(e)=="symbol"?e:e+""}function Tge(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ql={widthCache:{},cacheCount:0},jge=2e3,kge={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},wL="recharts_measurement_span";function Nge(t){var e=aC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ih=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ml.isSsr)return{width:0,height:0};var r=Nge(n),i=JSON.stringify({text:e,copyStyle:r});if(Ql.widthCache[i])return Ql.widthCache[i];try{var s=document.getElementById(wL);s||(s=document.createElement("span"),s.setAttribute("id",wL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=aC(aC({},kge),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Ql.widthCache[i]=l,++Ql.cacheCount>jge&&(Ql.cacheCount=0,Ql.widthCache={}),l}catch{return{width:0,height:0}}},Oge=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}function Hg(t,e){return Ige(t)||Rge(t,e)||Dge(t,e)||Mge()}function Mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dge(t,e){if(t){if(typeof t=="string")return SL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SL(t,e)}}function SL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ige(t){if(Array.isArray(t))return t}function Lge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$ge(r.key),r)}}function Fge(t,e,n){return e&&_L(t.prototype,e),n&&_L(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ge(t){var e=Bge(t,"string");return Fh(e)=="symbol"?e:e+""}function Bge(t,e){if(Fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var AL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uge=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,zge=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,J6={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Vge=Object.keys(J6),hc="NaN";function Wge(t,e){return t*J6[e]}var $m=(function(){function t(e,n){Lge(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Uge.test(n)&&(this.num=NaN,this.unit=""),Vge.includes(n)&&(this.num=Wge(e,n),this.unit="px")}return Fge(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=zge.exec(n))!==null&&r!==void 0?r:[],s=Hg(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])})();function eW(t){if(t.includes(hc))return hc;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=AL.exec(e))!==null&&n!==void 0?n:[],i=Hg(r,4),s=i[1],a=i[2],o=i[3],l=$m.parse(s??""),c=$m.parse(o??""),d=a==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return hc;e=e.replace(AL,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,m=(h=CL.exec(e))!==null&&h!==void 0?h:[],g=Hg(m,4),x=g[1],y=g[2],b=g[3],w=$m.parse(x??""),A=$m.parse(b??""),_=y==="+"?w.add(A):w.subtract(A);if(_.isNaN())return hc;e=e.replace(CL,_.toString())}return e}var PL=/\(([^()]*)\)/;function Hge(t){for(var e=t;e.includes("(");){var n=PL.exec(e),r=Hg(n,2),i=r[1];e=e.replace(PL,eW(i))}return e}function qge(t){var e=t.replace(/\s+/g,"");return e=Hge(e),e=eW(e),e}function Gge(t){try{return qge(t)}catch{return hc}}function WS(t){var e=Gge(t.slice(5,-1));return e===hc?"":e}var Kge=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Yge=["dx","dy","angle","className","breakAll"];function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}function EL(t,e){if(t==null)return{};var n=Xge(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TL(t,e){return eve(t)||Jge(t,e)||Zge(t,e)||Qge()}function Qge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zge(t,e){if(t){if(typeof t=="string")return jL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jge(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function eve(t){if(Array.isArray(t))return t}var tW=/[ \f\n\r\t\v\u2028\u2029]+/,nW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Xe(n)||(r?s=n.toString().split(""):s=n.toString().split(tW));var a=s.map(function(l){return{word:l,width:ih(l,i).width}}),o=r?0:ih("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},tve=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,d=ve(a),h=o,m=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(V,U){var L=U.word,G=U.width,Q=V[V.length-1];if(Q&&(i==null||s||Q.width+G+r<Number(i)))Q.words.push(L),Q.width+=G+r;else{var B={words:[L],width:G};V.push(B)}return V},[])},g=m(n),x=function(H){return H.reduce(function(V,U){return V.width>U.width?V:U})};if(!d)return g;for(var y="",b=function(H){var V=h.slice(0,H),U=nW({breakAll:c,style:l,children:V+y}).wordsWithComputedWidth,L=m(U),G=L.length>a||x(L).width>Number(i);return[G,L]},w=0,A=h.length-1,_=0,E;w<=A&&_<=h.length-1;){var P=Math.floor((w+A)/2),T=P-1,k=b(T),O=TL(k,2),R=O[0],F=O[1],M=b(P),D=TL(M,1),$=D[0];if(!R&&!$&&(w=P+1),R&&$&&(A=P-1),!R&&$){E=F;break}_++}return E||g},kL=function(e){var n=Xe(e)?[]:e.toString().split(tW);return[{words:n}]},nve=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!ml.isSsr){var l,c,d=nW({breakAll:a,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,m=d.spaceWidth;l=h,c=m}else return kL(i);return tve({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return kL(i)},NL="#808080",ol=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,h=d===void 0?!1:d,m=e.textAnchor,g=m===void 0?"start":m,x=e.verticalAnchor,y=x===void 0?"end":x,b=e.fill,w=b===void 0?NL:b,A=EL(e,Kge),_=C.useMemo(function(){return nve({breakAll:A.breakAll,children:A.children,maxLines:A.maxLines,scaleToFit:h,style:A.style,width:A.width})},[A.breakAll,A.children,A.maxLines,h,A.style,A.width]),E=A.dx,P=A.dy,T=A.angle,k=A.className,O=A.breakAll,R=EL(A,Yge);if(!jn(r)||!jn(s))return null;var F=r+(ve(E)?E:0),M=s+(ve(P)?P:0),D;switch(y){case"start":D=WS("calc(".concat(c,")"));break;case"middle":D=WS("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:D=WS("calc(".concat(_.length-1," * -").concat(o,")"));break}var $=[];if(h){var W=_[0].width,H=A.width;$.push("scale(".concat((ve(H)?H/W:1)/W,")"))}return T&&$.push("rotate(".concat(T,", ").concat(F,", ").concat(M,")")),$.length&&(R.transform=$.join(" ")),z.createElement("text",oC({},$e(R,!0),{x:F,y:M,className:Ye("recharts-text",k),textAnchor:g,fill:w.includes("url")?NL:w}),_.map(function(V,U){var L=V.words.join(O?"":" ");return z.createElement("tspan",{x:F,dy:U===0?D:o,key:"".concat(L,"-").concat(U)},L)}))};function Ga(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rve(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xT(t){let e,n,r;t.length!==2?(e=Ga,n=(o,l)=>Ga(t(o),l),r=(o,l)=>t(o)-l):(e=t===Ga||t===rve?t:ive,n=t,r=t);function i(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<0?c=h+1:d=h}while(c<d)}return c}function s(o,l,c=0,d=o.length){if(c<d){if(e(l,l)!==0)return d;do{const h=c+d>>>1;n(o[h],l)<=0?c=h+1:d=h}while(c<d)}return c}function a(o,l,c=0,d=o.length){const h=i(o,l,c,d-1);return h>c&&r(o[h-1],l)>-r(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function ive(){return 0}function rW(t){return t===null?NaN:+t}function*sve(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ave=xT(Ga),Kf=ave.right;xT(rW).center;class OL extends Map{constructor(e,n=cve){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ML(this,e))}has(e){return super.has(ML(this,e))}set(e,n){return super.set(ove(this,e),n)}delete(e){return super.delete(lve(this,e))}}function ML({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function ove({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lve({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function cve(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uve(t=Ga){if(t===Ga)return iW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function iW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const dve=Math.sqrt(50),hve=Math.sqrt(10),fve=Math.sqrt(2);function qg(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=dve?10:s>=hve?5:s>=fve?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?qg(t,e,n*2):[o,l,c]}function lC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?qg(e,t,n):qg(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function cC(t,e,n){return e=+e,t=+t,n=+n,qg(t,e,n)[2]}function uC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?cC(e,t,n):cC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function DL(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function RL(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function sW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?iW:uve(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),h=.5*Math.exp(2*d/3),m=.5*Math.sqrt(d*h*(l-h)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*h/l+m)),x=Math.min(r,Math.floor(e+(l-c)*h/l+m));sW(t,e,g,x,i)}const s=t[e];let a=n,o=r;for(Dd(t,n,e),i(t[r],s)>0&&Dd(t,n,r);a<o;){for(Dd(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Dd(t,n,o):(++o,Dd(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Dd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pve(t,e,n){if(t=Float64Array.from(sve(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return RL(t);if(e>=1)return DL(t);var r,i=(r-1)*e,s=Math.floor(i),a=DL(sW(t,s).subarray(0,s+1)),o=RL(t.subarray(s+1));return a+(o-a)*(i-s)}}function mve(t,e,n=rW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function gve(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Mi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ua(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dC=Symbol("implicit");function wT(){var t=new OL,e=[],n=[],r=dC;function i(s){let a=t.get(s);if(a===void 0){if(r!==dC)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new OL;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wT(e,n).unknown(r)},Mi.apply(i,arguments),i}function $h(){var t=wT().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,d=.5;delete t.unknown;function h(){var m=e().length,g=i<r,x=g?i:r,y=g?r:i;s=(y-x)/Math.max(1,m-l+c*2),o&&(s=Math.floor(s)),x+=(y-x-s*(m-l))*d,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var b=gve(m).map(function(w){return x+s*w});return n(g?b.reverse():b)}return t.domain=function(m){return arguments.length?(e(m),h()):e()},t.range=function(m){return arguments.length?([r,i]=m,r=+r,i=+i,h()):[r,i]},t.rangeRound=function(m){return[r,i]=m,r=+r,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(m){return arguments.length?(o=!!m,h()):o},t.padding=function(m){return arguments.length?(l=Math.min(1,c=+m),h()):l},t.paddingInner=function(m){return arguments.length?(l=Math.min(1,m),h()):l},t.paddingOuter=function(m){return arguments.length?(c=+m,h()):c},t.align=function(m){return arguments.length?(d=Math.max(0,Math.min(1,m)),h()):d},t.copy=function(){return $h(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(d)},Mi.apply(h(),arguments)}function aW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aW(e())},t}function sh(){return aW($h.apply(null,arguments).paddingInner(1))}function ST(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function oW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Yf(){}var Bh=.7,Gg=1/Bh,Ec="\\s*([+-]?\\d+)\\s*",Uh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ys="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vve=/^#([0-9a-f]{3,8})$/,yve=new RegExp(`^rgb\\(${Ec},${Ec},${Ec}\\)$`),bve=new RegExp(`^rgb\\(${ys},${ys},${ys}\\)$`),xve=new RegExp(`^rgba\\(${Ec},${Ec},${Ec},${Uh}\\)$`),wve=new RegExp(`^rgba\\(${ys},${ys},${ys},${Uh}\\)$`),Sve=new RegExp(`^hsl\\(${Uh},${ys},${ys}\\)$`),_ve=new RegExp(`^hsla\\(${Uh},${ys},${ys},${Uh}\\)$`),IL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ST(Yf,zh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:LL,formatHex:LL,formatHex8:Ave,formatHsl:Cve,formatRgb:FL,toString:FL});function LL(){return this.rgb().formatHex()}function Ave(){return this.rgb().formatHex8()}function Cve(){return lW(this).formatHsl()}function FL(){return this.rgb().formatRgb()}function zh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vve.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?$L(e):n===3?new Lr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Bm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Bm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yve.exec(t))?new Lr(e[1],e[2],e[3],1):(e=bve.exec(t))?new Lr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xve.exec(t))?Bm(e[1],e[2],e[3],e[4]):(e=wve.exec(t))?Bm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sve.exec(t))?zL(e[1],e[2]/100,e[3]/100,1):(e=_ve.exec(t))?zL(e[1],e[2]/100,e[3]/100,e[4]):IL.hasOwnProperty(t)?$L(IL[t]):t==="transparent"?new Lr(NaN,NaN,NaN,0):null}function $L(t){return new Lr(t>>16&255,t>>8&255,t&255,1)}function Bm(t,e,n,r){return r<=0&&(t=e=n=NaN),new Lr(t,e,n,r)}function Pve(t){return t instanceof Yf||(t=zh(t)),t?(t=t.rgb(),new Lr(t.r,t.g,t.b,t.opacity)):new Lr}function hC(t,e,n,r){return arguments.length===1?Pve(t):new Lr(t,e,n,r??1)}function Lr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ST(Lr,hC,oW(Yf,{brighter(t){return t=t==null?Gg:Math.pow(Gg,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Bh:Math.pow(Bh,t),new Lr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Lr(Yo(this.r),Yo(this.g),Yo(this.b),Kg(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BL,formatHex:BL,formatHex8:Eve,formatRgb:UL,toString:UL}));function BL(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}`}function Eve(){return`#${Wo(this.r)}${Wo(this.g)}${Wo(this.b)}${Wo((isNaN(this.opacity)?1:this.opacity)*255)}`}function UL(){const t=Kg(this.opacity);return`${t===1?"rgb(":"rgba("}${Yo(this.r)}, ${Yo(this.g)}, ${Yo(this.b)}${t===1?")":`, ${t})`}`}function Kg(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Yo(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Wo(t){return t=Yo(t),(t<16?"0":"")+t.toString(16)}function zL(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new qi(t,e,n,r)}function lW(t){if(t instanceof qi)return new qi(t.h,t.s,t.l,t.opacity);if(t instanceof Yf||(t=zh(t)),!t)return new qi;if(t instanceof qi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new qi(a,o,l,t.opacity)}function Tve(t,e,n,r){return arguments.length===1?lW(t):new qi(t,e,n,r??1)}function qi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ST(qi,Tve,oW(Yf,{brighter(t){return t=t==null?Gg:Math.pow(Gg,t),new qi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Bh:Math.pow(Bh,t),new qi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Lr(HS(t>=240?t-240:t+120,i,r),HS(t,i,r),HS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new qi(VL(this.h),Um(this.s),Um(this.l),Kg(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Kg(this.opacity);return`${t===1?"hsl(":"hsla("}${VL(this.h)}, ${Um(this.s)*100}%, ${Um(this.l)*100}%${t===1?")":`, ${t})`}`}}));function VL(t){return t=(t||0)%360,t<0?t+360:t}function Um(t){return Math.max(0,Math.min(1,t||0))}function HS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _T=t=>()=>t;function jve(t,e){return function(n){return t+n*e}}function kve(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Nve(t){return(t=+t)==1?cW:function(e,n){return n-e?kve(e,n,t):_T(isNaN(e)?n:e)}}function cW(t,e){var n=e-t;return n?jve(t,n):_T(isNaN(t)?e:t)}const WL=(function t(e){var n=Nve(e);function r(i,s){var a=n((i=hC(i)).r,(s=hC(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=cW(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r})(1);function Ove(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Mve(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dve(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Mu(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Rve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Yg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ive(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Mu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var fC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qS=new RegExp(fC.source,"g");function Lve(t){return function(){return t}}function Fve(t){return function(e){return t(e)+""}}function $ve(t,e){var n=fC.lastIndex=qS.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=fC.exec(t))&&(i=qS.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:Yg(r,i)})),n=qS.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Fve(l[0].x):Lve(e):(e=l.length,function(c){for(var d=0,h;d<e;++d)o[(h=l[d]).i]=h.x(c);return o.join("")})}function Mu(t,e){var n=typeof e,r;return e==null||n==="boolean"?_T(e):(n==="number"?Yg:n==="string"?(r=zh(e))?(e=r,WL):$ve:e instanceof zh?WL:e instanceof Date?Rve:Mve(e)?Ove:Array.isArray(e)?Dve:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ive:Yg)(t,e)}function AT(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Bve(t,e){e===void 0&&(e=t,t=Mu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function Uve(t){return function(){return t}}function Xg(t){return+t}var HL=[0,1];function Sr(t){return t}function pC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Uve(isNaN(e)?NaN:.5)}function zve(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Vve(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=pC(i,r),s=n(a,s)):(r=pC(r,i),s=n(s,a)),function(o){return s(r(o))}}function Wve(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=pC(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=Kf(t,o,1,r)-1;return s[l](i[l](o))}}function Xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jy(){var t=HL,e=HL,n=Mu,r,i,s,a=Sr,o,l,c;function d(){var m=Math.min(t.length,e.length);return a!==Sr&&(a=zve(t[0],t[m-1])),o=m>2?Wve:Vve,l=c=null,h}function h(m){return m==null||isNaN(m=+m)?s:(l||(l=o(t.map(r),e,n)))(r(a(m)))}return h.invert=function(m){return a(i((c||(c=o(e,t.map(r),Yg)))(m)))},h.domain=function(m){return arguments.length?(t=Array.from(m,Xg),d()):t.slice()},h.range=function(m){return arguments.length?(e=Array.from(m),d()):e.slice()},h.rangeRound=function(m){return e=Array.from(m),n=AT,d()},h.clamp=function(m){return arguments.length?(a=m?!0:Sr,d()):a!==Sr},h.interpolate=function(m){return arguments.length?(n=m,d()):n},h.unknown=function(m){return arguments.length?(s=m,h):s},function(m,g){return r=m,i=g,d()}}function CT(){return jy()(Sr,Sr)}function Hve(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Qg(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Yc(t){return t=Qg(Math.abs(t)),t?t[1]:NaN}function qve(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function Gve(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Kve=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vh(t){if(!(e=Kve.exec(t)))throw new Error("invalid format: "+t);var e;return new PT({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vh.prototype=PT.prototype;function PT(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}PT.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yve(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var uW;function Xve(t,e){var n=Qg(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(uW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Qg(t,Math.max(0,e+s-1))[0]}function qL(t,e){var n=Qg(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const GL={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Hve,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>qL(t*100,e),r:qL,s:Xve,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function KL(t){return t}var YL=Array.prototype.map,XL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Qve(t){var e=t.grouping===void 0||t.thousands===void 0?KL:qve(YL.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?KL:Gve(YL.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(h){h=Vh(h);var m=h.fill,g=h.align,x=h.sign,y=h.symbol,b=h.zero,w=h.width,A=h.comma,_=h.precision,E=h.trim,P=h.type;P==="n"?(A=!0,P="g"):GL[P]||(_===void 0&&(_=12),E=!0,P="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var T=y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",k=y==="$"?r:/[%p]/.test(P)?a:"",O=GL[P],R=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(M){var D=T,$=k,W,H,V;if(P==="c")$=O(M)+$,M="";else{M=+M;var U=M<0||1/M<0;if(M=isNaN(M)?l:O(Math.abs(M),_),E&&(M=Yve(M)),U&&+M==0&&x!=="+"&&(U=!1),D=(U?x==="("?x:o:x==="-"||x==="("?"":x)+D,$=(P==="s"?XL[8+uW/3]:"")+$+(U&&x==="("?")":""),R){for(W=-1,H=M.length;++W<H;)if(V=M.charCodeAt(W),48>V||V>57){$=(V===46?i+M.slice(W+1):M.slice(W))+$,M=M.slice(0,W);break}}}A&&!b&&(M=e(M,1/0));var L=D.length+M.length+$.length,G=L<w?new Array(w-L+1).join(m):"";switch(A&&b&&(M=e(G+M,G.length?w-$.length:1/0),G=""),g){case"<":M=D+M+$+G;break;case"=":M=D+G+M+$;break;case"^":M=G.slice(0,L=G.length>>1)+D+M+$+G.slice(L);break;default:M=G+D+M+$;break}return s(M)}return F.toString=function(){return h+""},F}function d(h,m){var g=c((h=Vh(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor(Yc(m)/3)))*3,y=Math.pow(10,-x),b=XL[8+x/3];return function(w){return g(y*w)+b}}return{format:c,formatPrefix:d}}var zm,ET,dW;Zve({thousands:",",grouping:[3],currency:["$",""]});function Zve(t){return zm=Qve(t),ET=zm.format,dW=zm.formatPrefix,zm}function Jve(t){return Math.max(0,-Yc(Math.abs(t)))}function eye(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yc(e)/3)))*3-Yc(Math.abs(t)))}function tye(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Yc(e)-Yc(t))+1}function hW(t,e,n,r){var i=uC(t,e,n),s;switch(r=Vh(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=eye(i,a))&&(r.precision=s),dW(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=tye(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Jve(i))&&(r.precision=s-(r.type==="%")*2);break}}return ET(r)}function lo(t){var e=t.domain;return t.ticks=function(n){var r=e();return lC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return hW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,d=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);d-- >0;){if(c=cC(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function Zg(){var t=CT();return t.copy=function(){return Xf(t,Zg())},Mi.apply(t,arguments),lo(t)}function fW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Xg),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return fW(t).unknown(e)},t=arguments.length?Array.from(t,Xg):[0,1],lo(n)}function pW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function QL(t){return Math.log(t)}function ZL(t){return Math.exp(t)}function nye(t){return-Math.log(-t)}function rye(t){return-Math.exp(-t)}function iye(t){return isFinite(t)?+("1e"+t):t<0?0:t}function sye(t){return t===10?iye:t===Math.E?Math.exp:e=>Math.pow(t,e)}function aye(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function JL(t){return(e,n)=>-t(-e,n)}function TT(t){const e=t(QL,ZL),n=e.domain;let r=10,i,s;function a(){return i=aye(r),s=sye(r),n()[0]<0?(i=JL(i),s=JL(s),t(nye,rye)):t(QL,ZL),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],d=l[l.length-1];const h=d<c;h&&([c,d]=[d,c]);let m=i(c),g=i(d),x,y;const b=o==null?10:+o;let w=[];if(!(r%1)&&g-m<b){if(m=Math.floor(m),g=Math.ceil(g),c>0){for(;m<=g;++m)for(x=1;x<r;++x)if(y=m<0?x/s(-m):x*s(m),!(y<c)){if(y>d)break;w.push(y)}}else for(;m<=g;++m)for(x=r-1;x>=1;--x)if(y=m>0?x/s(-m):x*s(m),!(y<c)){if(y>d)break;w.push(y)}w.length*2<b&&(w=lC(c,d,b))}else w=lC(m,g,Math.min(g-m,b)).map(s);return h?w.reverse():w},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Vh(l)).precision==null&&(l.trim=!0),l=ET(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*r<r-.5&&(h*=r),h<=c?l(d):""}},e.nice=()=>n(pW(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function mW(){const t=TT(jy()).domain([1,10]);return t.copy=()=>Xf(t,mW()).base(t.base()),Mi.apply(t,arguments),t}function eF(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tF(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jT(t){var e=1,n=t(eF(e),tF(e));return n.constant=function(r){return arguments.length?t(eF(e=+r),tF(e)):e},lo(n)}function gW(){var t=jT(jy());return t.copy=function(){return Xf(t,gW()).constant(t.constant())},Mi.apply(t,arguments)}function nF(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function oye(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lye(t){return t<0?-t*t:t*t}function kT(t){var e=t(Sr,Sr),n=1;function r(){return n===1?t(Sr,Sr):n===.5?t(oye,lye):t(nF(n),nF(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},lo(e)}function NT(){var t=kT(jy());return t.copy=function(){return Xf(t,NT()).exponent(t.exponent())},Mi.apply(t,arguments),t}function cye(){return NT.apply(null,arguments).exponent(.5)}function rF(t){return Math.sign(t)*t*t}function uye(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function vW(){var t=CT(),e=[0,1],n=!1,r;function i(s){var a=uye(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(rF(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Xg)).map(rF)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return vW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Mi.apply(i,arguments),lo(i)}function yW(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=mve(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[Kf(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Ga),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return yW().domain(t).range(e).unknown(r)},Mi.apply(s,arguments)}function bW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Kf(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return bW().domain([t,e]).range(i).unknown(s)},Mi.apply(lo(a),arguments)}function xW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Kf(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xW().domain(t).range(e).unknown(n)},Mi.apply(i,arguments)}const GS=new Date,KS=new Date;function kn(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>kn(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(GS.setTime(+s),KS.setTime(+a),t(GS),t(KS),Math.floor(n(GS,KS))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Jg=kn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Jg.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?kn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Jg);Jg.range;const qs=1e3,Ai=qs*60,Gs=Ai*60,ia=Gs*24,OT=ia*7,iF=ia*30,YS=ia*365,Ho=kn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qs)},(t,e)=>(e-t)/qs,t=>t.getUTCSeconds());Ho.range;const MT=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getMinutes());MT.range;const DT=kn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ai)},(t,e)=>(e-t)/Ai,t=>t.getUTCMinutes());DT.range;const RT=kn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qs-t.getMinutes()*Ai)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getHours());RT.range;const IT=kn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gs)},(t,e)=>(e-t)/Gs,t=>t.getUTCHours());IT.range;const Qf=kn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ai)/ia,t=>t.getDate()-1);Qf.range;const ky=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>t.getUTCDate()-1);ky.range;const wW=kn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ia,t=>Math.floor(t/ia));wW.range;function gl(t){return kn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ai)/OT)}const Ny=gl(0),ev=gl(1),dye=gl(2),hye=gl(3),Xc=gl(4),fye=gl(5),pye=gl(6);Ny.range;ev.range;dye.range;hye.range;Xc.range;fye.range;pye.range;function vl(t){return kn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/OT)}const Oy=vl(0),tv=vl(1),mye=vl(2),gye=vl(3),Qc=vl(4),vye=vl(5),yye=vl(6);Oy.range;tv.range;mye.range;gye.range;Qc.range;vye.range;yye.range;const LT=kn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LT.range;const FT=kn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FT.range;const sa=kn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());sa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});sa.range;const aa=kn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());aa.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:kn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});aa.range;function SW(t,e,n,r,i,s){const a=[[Ho,1,qs],[Ho,5,5*qs],[Ho,15,15*qs],[Ho,30,30*qs],[s,1,Ai],[s,5,5*Ai],[s,15,15*Ai],[s,30,30*Ai],[i,1,Gs],[i,3,3*Gs],[i,6,6*Gs],[i,12,12*Gs],[r,1,ia],[r,2,2*ia],[n,1,OT],[e,1,iF],[e,3,3*iF],[t,1,YS]];function o(c,d,h){const m=d<c;m&&([c,d]=[d,c]);const g=h&&typeof h.range=="function"?h:l(c,d,h),x=g?g.range(c,+d+1):[];return m?x.reverse():x}function l(c,d,h){const m=Math.abs(d-c)/h,g=xT(([,,b])=>b).right(a,m);if(g===a.length)return t.every(uC(c/YS,d/YS,h));if(g===0)return Jg.every(Math.max(uC(c,d,h),1));const[x,y]=a[m/a[g-1][2]<a[g][2]/m?g-1:g];return x.every(y)}return[o,l]}const[bye,xye]=SW(aa,FT,Oy,wW,IT,DT),[wye,Sye]=SW(sa,LT,Ny,Qf,RT,MT);function XS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QS(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Rd(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function _ye(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Id(i),d=Ld(i),h=Id(s),m=Ld(s),g=Id(a),x=Ld(a),y=Id(o),b=Ld(o),w=Id(l),A=Ld(l),_={a:U,A:L,b:G,B:Q,c:null,d:uF,e:uF,f:qye,g:nbe,G:ibe,H:Vye,I:Wye,j:Hye,L:_W,m:Gye,M:Kye,p:B,q:K,Q:fF,s:pF,S:Yye,u:Xye,U:Qye,V:Zye,w:Jye,W:ebe,x:null,X:null,y:tbe,Y:rbe,Z:sbe,"%":hF},E={a:Z,A:ae,b:ce,B:pe,c:null,d:dF,e:dF,f:cbe,g:bbe,G:wbe,H:abe,I:obe,j:lbe,L:CW,m:ube,M:dbe,p:ie,q:ee,Q:fF,s:pF,S:hbe,u:fbe,U:pbe,V:mbe,w:gbe,W:vbe,x:null,X:null,y:ybe,Y:xbe,Z:Sbe,"%":hF},P={a:F,A:M,b:D,B:$,c:W,d:lF,e:lF,f:$ye,g:oF,G:aF,H:cF,I:cF,j:Rye,L:Fye,m:Dye,M:Iye,p:R,q:Mye,Q:Uye,s:zye,S:Lye,u:Tye,U:jye,V:kye,w:Eye,W:Nye,x:H,X:V,y:oF,Y:aF,Z:Oye,"%":Bye};_.x=T(n,_),_.X=T(r,_),_.c=T(e,_),E.x=T(n,E),E.X=T(r,E),E.c=T(e,E);function T(te,le){return function(he){var ne=[],Me=-1,Re=0,yt=te.length,pt,bt,wn;for(he instanceof Date||(he=new Date(+he));++Me<yt;)te.charCodeAt(Me)===37&&(ne.push(te.slice(Re,Me)),(bt=sF[pt=te.charAt(++Me)])!=null?pt=te.charAt(++Me):bt=pt==="e"?" ":"0",(wn=le[pt])&&(pt=wn(he,bt)),ne.push(pt),Re=Me+1);return ne.push(te.slice(Re,Me)),ne.join("")}}function k(te,le){return function(he){var ne=Rd(1900,void 0,1),Me=O(ne,te,he+="",0),Re,yt;if(Me!=he.length)return null;if("Q"in ne)return new Date(ne.Q);if("s"in ne)return new Date(ne.s*1e3+("L"in ne?ne.L:0));if(le&&!("Z"in ne)&&(ne.Z=0),"p"in ne&&(ne.H=ne.H%12+ne.p*12),ne.m===void 0&&(ne.m="q"in ne?ne.q:0),"V"in ne){if(ne.V<1||ne.V>53)return null;"w"in ne||(ne.w=1),"Z"in ne?(Re=QS(Rd(ne.y,0,1)),yt=Re.getUTCDay(),Re=yt>4||yt===0?tv.ceil(Re):tv(Re),Re=ky.offset(Re,(ne.V-1)*7),ne.y=Re.getUTCFullYear(),ne.m=Re.getUTCMonth(),ne.d=Re.getUTCDate()+(ne.w+6)%7):(Re=XS(Rd(ne.y,0,1)),yt=Re.getDay(),Re=yt>4||yt===0?ev.ceil(Re):ev(Re),Re=Qf.offset(Re,(ne.V-1)*7),ne.y=Re.getFullYear(),ne.m=Re.getMonth(),ne.d=Re.getDate()+(ne.w+6)%7)}else("W"in ne||"U"in ne)&&("w"in ne||(ne.w="u"in ne?ne.u%7:"W"in ne?1:0),yt="Z"in ne?QS(Rd(ne.y,0,1)).getUTCDay():XS(Rd(ne.y,0,1)).getDay(),ne.m=0,ne.d="W"in ne?(ne.w+6)%7+ne.W*7-(yt+5)%7:ne.w+ne.U*7-(yt+6)%7);return"Z"in ne?(ne.H+=ne.Z/100|0,ne.M+=ne.Z%100,QS(ne)):XS(ne)}}function O(te,le,he,ne){for(var Me=0,Re=le.length,yt=he.length,pt,bt;Me<Re;){if(ne>=yt)return-1;if(pt=le.charCodeAt(Me++),pt===37){if(pt=le.charAt(Me++),bt=P[pt in sF?le.charAt(Me++):pt],!bt||(ne=bt(te,he,ne))<0)return-1}else if(pt!=he.charCodeAt(ne++))return-1}return ne}function R(te,le,he){var ne=c.exec(le.slice(he));return ne?(te.p=d.get(ne[0].toLowerCase()),he+ne[0].length):-1}function F(te,le,he){var ne=g.exec(le.slice(he));return ne?(te.w=x.get(ne[0].toLowerCase()),he+ne[0].length):-1}function M(te,le,he){var ne=h.exec(le.slice(he));return ne?(te.w=m.get(ne[0].toLowerCase()),he+ne[0].length):-1}function D(te,le,he){var ne=w.exec(le.slice(he));return ne?(te.m=A.get(ne[0].toLowerCase()),he+ne[0].length):-1}function $(te,le,he){var ne=y.exec(le.slice(he));return ne?(te.m=b.get(ne[0].toLowerCase()),he+ne[0].length):-1}function W(te,le,he){return O(te,e,le,he)}function H(te,le,he){return O(te,n,le,he)}function V(te,le,he){return O(te,r,le,he)}function U(te){return a[te.getDay()]}function L(te){return s[te.getDay()]}function G(te){return l[te.getMonth()]}function Q(te){return o[te.getMonth()]}function B(te){return i[+(te.getHours()>=12)]}function K(te){return 1+~~(te.getMonth()/3)}function Z(te){return a[te.getUTCDay()]}function ae(te){return s[te.getUTCDay()]}function ce(te){return l[te.getUTCMonth()]}function pe(te){return o[te.getUTCMonth()]}function ie(te){return i[+(te.getUTCHours()>=12)]}function ee(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var le=T(te+="",_);return le.toString=function(){return te},le},parse:function(te){var le=k(te+="",!1);return le.toString=function(){return te},le},utcFormat:function(te){var le=T(te+="",E);return le.toString=function(){return te},le},utcParse:function(te){var le=k(te+="",!0);return le.toString=function(){return te},le}}}var sF={"-":"",_:" ",0:"0"},Wn=/^\s*\d+/,Aye=/^%/,Cye=/[\\^$*+?|[\]().{}]/g;function dt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Pye(t){return t.replace(Cye,"\\$&")}function Id(t){return new RegExp("^(?:"+t.map(Pye).join("|")+")","i")}function Ld(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Eye(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Tye(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function kye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Nye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function aF(t,e,n){var r=Wn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function oF(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Oye(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Mye(t,e,n){var r=Wn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Dye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function lF(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Rye(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function cF(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Iye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Lye(t,e,n){var r=Wn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fye(t,e,n){var r=Wn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function $ye(t,e,n){var r=Wn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Bye(t,e,n){var r=Aye.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Uye(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function zye(t,e,n){var r=Wn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uF(t,e){return dt(t.getDate(),e,2)}function Vye(t,e){return dt(t.getHours(),e,2)}function Wye(t,e){return dt(t.getHours()%12||12,e,2)}function Hye(t,e){return dt(1+Qf.count(sa(t),t),e,3)}function _W(t,e){return dt(t.getMilliseconds(),e,3)}function qye(t,e){return _W(t,e)+"000"}function Gye(t,e){return dt(t.getMonth()+1,e,2)}function Kye(t,e){return dt(t.getMinutes(),e,2)}function Yye(t,e){return dt(t.getSeconds(),e,2)}function Xye(t){var e=t.getDay();return e===0?7:e}function Qye(t,e){return dt(Ny.count(sa(t)-1,t),e,2)}function AW(t){var e=t.getDay();return e>=4||e===0?Xc(t):Xc.ceil(t)}function Zye(t,e){return t=AW(t),dt(Xc.count(sa(t),t)+(sa(t).getDay()===4),e,2)}function Jye(t){return t.getDay()}function ebe(t,e){return dt(ev.count(sa(t)-1,t),e,2)}function tbe(t,e){return dt(t.getFullYear()%100,e,2)}function nbe(t,e){return t=AW(t),dt(t.getFullYear()%100,e,2)}function rbe(t,e){return dt(t.getFullYear()%1e4,e,4)}function ibe(t,e){var n=t.getDay();return t=n>=4||n===0?Xc(t):Xc.ceil(t),dt(t.getFullYear()%1e4,e,4)}function sbe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dt(e/60|0,"0",2)+dt(e%60,"0",2)}function dF(t,e){return dt(t.getUTCDate(),e,2)}function abe(t,e){return dt(t.getUTCHours(),e,2)}function obe(t,e){return dt(t.getUTCHours()%12||12,e,2)}function lbe(t,e){return dt(1+ky.count(aa(t),t),e,3)}function CW(t,e){return dt(t.getUTCMilliseconds(),e,3)}function cbe(t,e){return CW(t,e)+"000"}function ube(t,e){return dt(t.getUTCMonth()+1,e,2)}function dbe(t,e){return dt(t.getUTCMinutes(),e,2)}function hbe(t,e){return dt(t.getUTCSeconds(),e,2)}function fbe(t){var e=t.getUTCDay();return e===0?7:e}function pbe(t,e){return dt(Oy.count(aa(t)-1,t),e,2)}function PW(t){var e=t.getUTCDay();return e>=4||e===0?Qc(t):Qc.ceil(t)}function mbe(t,e){return t=PW(t),dt(Qc.count(aa(t),t)+(aa(t).getUTCDay()===4),e,2)}function gbe(t){return t.getUTCDay()}function vbe(t,e){return dt(tv.count(aa(t)-1,t),e,2)}function ybe(t,e){return dt(t.getUTCFullYear()%100,e,2)}function bbe(t,e){return t=PW(t),dt(t.getUTCFullYear()%100,e,2)}function xbe(t,e){return dt(t.getUTCFullYear()%1e4,e,4)}function wbe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qc(t):Qc.ceil(t),dt(t.getUTCFullYear()%1e4,e,4)}function Sbe(){return"+0000"}function hF(){return"%"}function fF(t){return+t}function pF(t){return Math.floor(+t/1e3)}var Zl,EW,TW;_be({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _be(t){return Zl=_ye(t),EW=Zl.format,Zl.parse,TW=Zl.utcFormat,Zl.utcParse,Zl}function Abe(t){return new Date(t)}function Cbe(t){return t instanceof Date?+t:+new Date(+t)}function $T(t,e,n,r,i,s,a,o,l,c){var d=CT(),h=d.invert,m=d.domain,g=c(".%L"),x=c(":%S"),y=c("%I:%M"),b=c("%I %p"),w=c("%a %d"),A=c("%b %d"),_=c("%B"),E=c("%Y");function P(T){return(l(T)<T?g:o(T)<T?x:a(T)<T?y:s(T)<T?b:r(T)<T?i(T)<T?w:A:n(T)<T?_:E)(T)}return d.invert=function(T){return new Date(h(T))},d.domain=function(T){return arguments.length?m(Array.from(T,Cbe)):m().map(Abe)},d.ticks=function(T){var k=m();return t(k[0],k[k.length-1],T??10)},d.tickFormat=function(T,k){return k==null?P:c(k)},d.nice=function(T){var k=m();return(!T||typeof T.range!="function")&&(T=e(k[0],k[k.length-1],T??10)),T?m(pW(k,T)):d},d.copy=function(){return Xf(d,$T(t,e,n,r,i,s,a,o,l,c))},d}function Pbe(){return Mi.apply($T(wye,Sye,sa,LT,Ny,Qf,RT,MT,Ho,EW).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ebe(){return Mi.apply($T(bye,xye,aa,FT,Oy,ky,IT,DT,Ho,TW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function My(){var t=0,e=1,n,r,i,s,a=Sr,o=!1,l;function c(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-n)*i,o?Math.max(0,Math.min(1,h)):h))}c.domain=function(h){return arguments.length?([t,e]=h,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(h){return arguments.length?(o=!!h,c):o},c.interpolator=function(h){return arguments.length?(a=h,c):a};function d(h){return function(m){var g,x;return arguments.length?([g,x]=m,a=h(g,x),c):[a(0),a(1)]}}return c.range=d(Mu),c.rangeRound=d(AT),c.unknown=function(h){return arguments.length?(l=h,c):l},function(h){return s=h,n=h(t),r=h(e),i=n===r?0:1/(r-n),c}}function co(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function jW(){var t=lo(My()(Sr));return t.copy=function(){return co(t,jW())},ua.apply(t,arguments)}function kW(){var t=TT(My()).domain([1,10]);return t.copy=function(){return co(t,kW()).base(t.base())},ua.apply(t,arguments)}function NW(){var t=jT(My());return t.copy=function(){return co(t,NW()).constant(t.constant())},ua.apply(t,arguments)}function BT(){var t=kT(My());return t.copy=function(){return co(t,BT()).exponent(t.exponent())},ua.apply(t,arguments)}function Tbe(){return BT.apply(null,arguments).exponent(.5)}function OW(){var t=[],e=Sr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Kf(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ga),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>pve(t,s/r))},n.copy=function(){return OW(e).domain(t)},ua.apply(n,arguments)}function Dy(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Sr,d,h=!1,m;function g(y){return isNaN(y=+y)?m:(y=.5+((y=+d(y))-s)*(r*y<r*s?o:l),c(h?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),a=d(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(h=!!y,g):h},g.interpolator=function(y){return arguments.length?(c=y,g):c};function x(y){return function(b){var w,A,_;return arguments.length?([w,A,_]=b,c=Bve(y,[w,A,_]),g):[c(0),c(.5),c(1)]}}return g.range=x(Mu),g.rangeRound=x(AT),g.unknown=function(y){return arguments.length?(m=y,g):m},function(y){return d=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,g}}function MW(){var t=lo(Dy()(Sr));return t.copy=function(){return co(t,MW())},ua.apply(t,arguments)}function DW(){var t=TT(Dy()).domain([.1,1,10]);return t.copy=function(){return co(t,DW()).base(t.base())},ua.apply(t,arguments)}function RW(){var t=jT(Dy());return t.copy=function(){return co(t,RW()).constant(t.constant())},ua.apply(t,arguments)}function UT(){var t=kT(Dy());return t.copy=function(){return co(t,UT()).exponent(t.exponent())},ua.apply(t,arguments)}function jbe(){return UT.apply(null,arguments).exponent(.5)}const mF=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$h,scaleDiverging:MW,scaleDivergingLog:DW,scaleDivergingPow:UT,scaleDivergingSqrt:jbe,scaleDivergingSymlog:RW,scaleIdentity:fW,scaleImplicit:dC,scaleLinear:Zg,scaleLog:mW,scaleOrdinal:wT,scalePoint:sh,scalePow:NT,scaleQuantile:yW,scaleQuantize:bW,scaleRadial:vW,scaleSequential:jW,scaleSequentialLog:kW,scaleSequentialPow:BT,scaleSequentialQuantile:OW,scaleSequentialSqrt:Tbe,scaleSequentialSymlog:NW,scaleSqrt:cye,scaleSymlog:gW,scaleThreshold:xW,scaleTime:Pbe,scaleUtc:Ebe,tickFormat:hW},Symbol.toStringTag,{value:"Module"}));var ZS,gF;function Ry(){if(gF)return ZS;gF=1;var t=ju();function e(n,r,i){for(var s=-1,a=n.length;++s<a;){var o=n[s],l=r(o);if(l!=null&&(c===void 0?l===l&&!t(l):i(l,c)))var c=l,d=o}return d}return ZS=e,ZS}var JS,vF;function IW(){if(vF)return JS;vF=1;function t(e,n){return e>n}return JS=t,JS}var e_,yF;function kbe(){if(yF)return e_;yF=1;var t=Ry(),e=IW(),n=Ou();function r(i){return i&&i.length?t(i,n,e):void 0}return e_=r,e_}var Nbe=kbe();const Iy=vt(Nbe);var t_,bF;function LW(){if(bF)return t_;bF=1;function t(e,n){return e<n}return t_=t,t_}var n_,xF;function Obe(){if(xF)return n_;xF=1;var t=Ry(),e=LW(),n=Ou();function r(i){return i&&i.length?t(i,n,e):void 0}return n_=r,n_}var Mbe=Obe();const Ly=vt(Mbe);var r_,wF;function Dbe(){if(wF)return r_;wF=1;var t=rT(),e=js(),n=H6(),r=$r();function i(s,a){var o=r(s)?t:n;return o(s,e(a,3))}return r_=i,r_}var i_,SF;function Rbe(){if(SF)return i_;SF=1;var t=V6(),e=Dbe();function n(r,i){return t(e(r,i),1)}return i_=n,i_}var Ibe=Rbe();const Lbe=vt(Ibe);var s_,_F;function Fbe(){if(_F)return s_;_F=1;var t=gT();function e(n,r){return t(n,r)}return s_=e,s_}var $be=Fbe();const Zf=vt($be);var Du=1e9,Bbe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VT,zt=!0,ki="[DecimalError] ",Xo=ki+"Invalid argument: ",zT=ki+"Exponent out of range: ",Ru=Math.floor,Fo=Math.pow,Ube=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Ln=1e7,Ft=7,FW=9007199254740991,nv=Ru(FW/Ft),_e={};_e.absoluteValue=_e.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_e.comparedTo=_e.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_e.decimalPlaces=_e.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ft;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_e.dividedBy=_e.div=function(t){return Qs(this,new this.constructor(t))};_e.dividedToIntegerBy=_e.idiv=function(t){var e=this,n=e.constructor;return Et(Qs(e,new n(t),0,1),n.precision)};_e.equals=_e.eq=function(t){return!this.cmp(t)};_e.exponent=function(){return yn(this)};_e.greaterThan=_e.gt=function(t){return this.cmp(t)>0};_e.greaterThanOrEqualTo=_e.gte=function(t){return this.cmp(t)>=0};_e.isInteger=_e.isint=function(){return this.e>this.d.length-2};_e.isNegative=_e.isneg=function(){return this.s<0};_e.isPositive=_e.ispos=function(){return this.s>0};_e.isZero=function(){return this.s===0};_e.lessThan=_e.lt=function(t){return this.cmp(t)<0};_e.lessThanOrEqualTo=_e.lte=function(t){return this.cmp(t)<1};_e.logarithm=_e.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(ki+"NaN");if(n.s<1)throw Error(ki+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(zt=!1,e=Qs(Wh(n,s),Wh(t,s),s),zt=!0,Et(e,i))};_e.minus=_e.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UW(e,t):$W(e,(t.s=-t.s,t))};_e.modulo=_e.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ki+"NaN");return n.s?(zt=!1,e=Qs(n,t,0,1).times(t),zt=!0,n.minus(e)):Et(new r(n),i)};_e.naturalExponential=_e.exp=function(){return BW(this)};_e.naturalLogarithm=_e.ln=function(){return Wh(this)};_e.negated=_e.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_e.plus=_e.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$W(e,t):UW(e,(t.s=-t.s,t))};_e.precision=_e.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xo+t);if(e=yn(i)+1,r=i.d.length-1,n=r*Ft+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_e.squareRoot=_e.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ki+"NaN")}for(t=yn(o),zt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=ps(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ru((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Qs(o,s,a+2)).times(.5),ps(s.d).slice(0,a)===(e=ps(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Et(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return zt=!0,Et(r,n)};_e.times=_e.mul=function(t){var e,n,r,i,s,a,o,l,c,d=this,h=d.constructor,m=d.d,g=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,l=m.length,c=g.length,l<c&&(s=m,m=g,g=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+g[r]*m[i-r-1]+e,s[i--]=o%Ln|0,e=o/Ln|0;s[i]=(s[i]+e)%Ln|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,zt?Et(t,h.precision):t};_e.toDecimalPlaces=_e.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(_s(t,0,Du),e===void 0?e=r.rounding:_s(e,0,8),Et(n,t+yn(n)+1,e))};_e.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ll(r,!0):(_s(t,0,Du),e===void 0?e=i.rounding:_s(e,0,8),r=Et(new i(r),t+1,e),n=ll(r,!0,t+1)),n};_e.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ll(i):(_s(t,0,Du),e===void 0?e=s.rounding:_s(e,0,8),r=Et(new s(i),t+yn(i)+1,e),n=ll(r.abs(),!1,t+yn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_e.toInteger=_e.toint=function(){var t=this,e=t.constructor;return Et(new e(t),yn(t)+1,e.rounding)};_e.toNumber=function(){return+this};_e.toPower=_e.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Jr);if(o=new l(o),!o.s){if(t.s<1)throw Error(ki+"Infinity");return o}if(o.eq(Jr))return o;if(r=l.precision,t.eq(Jr))return Et(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=d<0?-d:d)<=FW){for(i=new l(Jr),e=Math.ceil(r/Ft+4),zt=!1;n%2&&(i=i.times(o),CF(i.d,e)),n=Ru(n/2),n!==0;)o=o.times(o),CF(o.d,e);return zt=!0,t.s<0?new l(Jr).div(i):Et(i,r)}}else if(s<0)throw Error(ki+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,zt=!1,i=t.times(Wh(o,r+c)),zt=!0,i=BW(i),i.s=s,i};_e.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=yn(i),r=ll(i,n<=s.toExpNeg||n>=s.toExpPos)):(_s(t,1,Du),e===void 0?e=s.rounding:_s(e,0,8),i=Et(new s(i),t,e),n=yn(i),r=ll(i,t<=n||n<=s.toExpNeg,t)),r};_e.toSignificantDigits=_e.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(_s(t,1,Du),e===void 0?e=r.rounding:_s(e,0,8)),Et(new r(n),t,e)};_e.toString=_e.valueOf=_e.val=_e.toJSON=_e[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yn(t),n=t.constructor;return ll(t,e<=n.toExpNeg||e>=n.toExpPos)};function $W(t,e){var n,r,i,s,a,o,l,c,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),zt?Et(e,h):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(h/Ft),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Ln|0,l[s]%=Ln;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,zt?Et(e,h):e}function _s(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xo+t)}function ps(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Ft-r.length,n&&(s+=Ba(n)),s+=r;a=t[e],r=a+"",n=Ft-r.length,n&&(s+=Ba(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Qs=(function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Ln|0,a=s/Ln|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Ln+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,d,h,m,g,x,y,b,w,A,_,E,P,T,k,O,R=r.constructor,F=r.s==i.s?1:-1,M=r.d,D=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ki+"Division by zero");for(l=r.e-i.e,k=D.length,P=M.length,g=new R(F),x=g.d=[],c=0;D[c]==(M[c]||0);)++c;if(D[c]>(M[c]||0)&&--l,s==null?A=s=R.precision:a?A=s+(yn(r)-yn(i))+1:A=s,A<0)return new R(0);if(A=A/Ft+2|0,c=0,k==1)for(d=0,D=D[0],A++;(c<P||d)&&A--;c++)_=d*Ln+(M[c]||0),x[c]=_/D|0,d=_%D|0;else{for(d=Ln/(D[0]+1)|0,d>1&&(D=t(D,d),M=t(M,d),k=D.length,P=M.length),E=k,y=M.slice(0,k),b=y.length;b<k;)y[b++]=0;O=D.slice(),O.unshift(0),T=D[0],D[1]>=Ln/2&&++T;do d=0,o=e(D,y,k,b),o<0?(w=y[0],k!=b&&(w=w*Ln+(y[1]||0)),d=w/T|0,d>1?(d>=Ln&&(d=Ln-1),h=t(D,d),m=h.length,b=y.length,o=e(h,y,m,b),o==1&&(d--,n(h,k<m?O:D,m))):(d==0&&(o=d=1),h=D.slice()),m=h.length,m<b&&h.unshift(0),n(y,h,b),o==-1&&(b=y.length,o=e(D,y,k,b),o<1&&(d++,n(y,k<b?O:D,b))),b=y.length):o===0&&(d++,y=[0]),x[c++]=d,o&&y[0]?y[b++]=M[E]||0:(y=[M[E]],b=1);while((E++<P||y[0]!==void 0)&&A--)}return x[0]||x.shift(),g.e=l,Et(g,a?s+yn(g)+1:s)}})();function BW(t,e){var n,r,i,s,a,o,l=0,c=0,d=t.constructor,h=d.precision;if(yn(t)>16)throw Error(zT+yn(t));if(!t.s)return new d(Jr);for(zt=!1,o=h,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Fo(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new d(Jr),d.precision=o;;){if(i=Et(i.times(t),o),n=n.times(++l),a=s.plus(Qs(i,n,o)),ps(a.d).slice(0,o)===ps(s.d).slice(0,o)){for(;c--;)s=Et(s.times(s),o);return d.precision=h,e==null?(zt=!0,Et(s,h)):s}s=a}}function yn(t){for(var e=t.e*Ft,n=t.d[0];n>=10;n/=10)e++;return e}function a_(t,e,n){if(e>t.LN10.sd())throw zt=!0,n&&(t.precision=n),Error(ki+"LN10 precision limit exceeded");return Et(new t(t.LN10),e)}function Ba(t){for(var e="";t--;)e+="0";return e}function Wh(t,e){var n,r,i,s,a,o,l,c,d,h=1,m=10,g=t,x=g.d,y=g.constructor,b=y.precision;if(g.s<1)throw Error(ki+(g.s?"NaN":"-Infinity"));if(g.eq(Jr))return new y(0);if(e==null?(zt=!1,c=b):c=e,g.eq(10))return e==null&&(zt=!0),a_(y,c);if(c+=m,y.precision=c,n=ps(x),r=n.charAt(0),s=yn(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=ps(g.d),r=n.charAt(0),h++;s=yn(g),r>1?(g=new y("0."+n),s++):g=new y(r+"."+n.slice(1))}else return l=a_(y,c+2,b).times(s+""),g=Wh(new y(r+"."+n.slice(1)),c-m).plus(l),y.precision=b,e==null?(zt=!0,Et(g,b)):g;for(o=a=g=Qs(g.minus(Jr),g.plus(Jr),c),d=Et(g.times(g),c),i=3;;){if(a=Et(a.times(d),c),l=o.plus(Qs(a,new y(i),c)),ps(l.d).slice(0,c)===ps(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(a_(y,c+2,b).times(s+""))),o=Qs(o,new y(h),c),y.precision=b,e==null?(zt=!0,Et(o,b)):o;o=l,i+=2}}function AF(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ru(n/Ft),t.d=[],r=(n+1)%Ft,n<0&&(r+=Ft),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ft;r<i;)t.d.push(+e.slice(r,r+=Ft));e=e.slice(r),r=Ft-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),zt&&(t.e>nv||t.e<-nv))throw Error(zT+n)}else t.s=0,t.e=0,t.d=[0];return t}function Et(t,e,n){var r,i,s,a,o,l,c,d,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Ft,i=e,c=h[d=0];else{if(d=Math.ceil((r+1)/Ft),s=h.length,d>=s)return t;for(c=s=h[d],a=1;s>=10;s/=10)a++;r%=Ft,i=r-Ft+a}if(n!==void 0&&(s=Fo(10,a-i-1),o=c/s%10|0,l=e<0||h[d+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Fo(10,a-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return l?(s=yn(t),h.length=1,e=e-s-1,h[0]=Fo(10,(Ft-e%Ft)%Ft),t.e=Ru(-e/Ft)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,s=1,d--):(h.length=d+1,s=Fo(10,Ft-r),h[d]=i>0?(c/Fo(10,a-i)%Fo(10,i)|0)*s:0),l)for(;;)if(d==0){(h[0]+=s)==Ln&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Ln)break;h[d--]=0,s=1}for(r=h.length;h[--r]===0;)h.pop();if(zt&&(t.e>nv||t.e<-nv))throw Error(zT+yn(t));return t}function UW(t,e){var n,r,i,s,a,o,l,c,d,h,m=t.constructor,g=m.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new m(t),zt?Et(e,g):e;if(l=t.d,h=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(d=a<0,d?(n=l,a=-a,o=h.length):(n=h,r=c,o=l.length),i=Math.max(Math.ceil(g/Ft),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=h.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){d=l[i]<h[i];break}a=0}for(d&&(n=l,l=h,h=n,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=Ln-1;--l[s],l[i]+=Ln}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,zt?Et(e,g):e):new m(0)}function ll(t,e,n){var r,i=yn(t),s=ps(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ba(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ba(-i-1)+s,n&&(r=n-a)>0&&(s+=Ba(r))):i>=a?(s+=Ba(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Ba(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Ba(r))),t.s<0?"-"+s:s}function CF(t,e){if(t.length>e)return t.length=e,!0}function zW(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Xo+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return AF(a,s.toString())}else if(typeof s!="string")throw Error(Xo+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,Ube.test(s))AF(a,s);else throw Error(Xo+s)}if(i.prototype=_e,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zW,i.config=i.set=zbe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function zbe(t){if(!t||typeof t!="object")throw Error(ki+"Object expected");var e,n,r,i=["precision",1,Du,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ru(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xo+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xo+n+": "+r);return this}var VT=zW(Bbe);Jr=new VT(1);const _t=VT;function Vbe(t){return Gbe(t)||qbe(t)||Hbe(t)||Wbe()}function Wbe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(t,e){if(t){if(typeof t=="string")return mC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mC(t,e)}}function qbe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Gbe(t){if(Array.isArray(t))return mC(t)}function mC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kbe=function(e){return e},VW={},WW=function(e){return e===VW},PF=function(e){return function n(){return arguments.length===0||arguments.length===1&&WW(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Ybe=function t(e,n){return e===1?n:PF(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==VW}).length;return a>=e?n.apply(void 0,i):t(e-a,PF(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var d=i.map(function(h){return WW(h)?l.shift():h});return n.apply(void 0,Vbe(d).concat(l))}))})},Fy=function(e){return Ybe(e.length,e)},gC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Xbe=Fy(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Qbe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Kbe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},vC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},HW=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Zbe(t){var e;return t===0?e=1:e=Math.floor(new _t(t).abs().log(10).toNumber())+1,e}function Jbe(t,e,n){for(var r=new _t(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var exe=Fy(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),txe=Fy(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),nxe=Fy(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const $y={rangeStep:Jbe,getDigitCount:Zbe,interpolateNumber:exe,uninterpolateNumber:txe,uninterpolateTruncation:nxe};function yC(t){return sxe(t)||ixe(t)||qW(t)||rxe()}function rxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ixe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function sxe(t){if(Array.isArray(t))return bC(t)}function Hh(t,e){return lxe(t)||oxe(t,e)||qW(t,e)||axe()}function axe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qW(t,e){if(t){if(typeof t=="string")return bC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bC(t,e)}}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function oxe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function lxe(t){if(Array.isArray(t))return t}function GW(t){var e=Hh(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function KW(t,e,n){if(t.lte(0))return new _t(0);var r=$y.getDigitCount(t.toNumber()),i=new _t(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new _t(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new _t(Math.ceil(l))}function cxe(t,e,n){var r=1,i=new _t(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new _t(10).pow($y.getDigitCount(t)-1),i=new _t(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new _t(Math.floor(t)))}else t===0?i=new _t(Math.floor((e-1)/2)):n||(i=new _t(Math.floor(t)));var a=Math.floor((e-1)/2),o=Qbe(Xbe(function(l){return i.add(new _t(l-a).mul(r)).toNumber()}),gC);return o(0,e)}function YW(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new _t(0),tickMin:new _t(0),tickMax:new _t(0)};var s=KW(new _t(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new _t(0):(a=new _t(t).add(e).div(2),a=a.sub(new _t(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new _t(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?YW(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new _t(o).mul(s)),tickMax:a.add(new _t(l).mul(s))})}function uxe(t){var e=Hh(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=GW([n,r]),l=Hh(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var h=d===1/0?[c].concat(yC(gC(0,i-1).map(function(){return 1/0}))):[].concat(yC(gC(0,i-1).map(function(){return-1/0})),[d]);return n>r?vC(h):h}if(c===d)return cxe(c,i,s);var m=YW(c,d,a,s),g=m.step,x=m.tickMin,y=m.tickMax,b=$y.rangeStep(x,y.add(new _t(.1).mul(g)),g);return n>r?vC(b):b}function dxe(t,e){var n=Hh(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=GW([r,i]),o=Hh(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),h=KW(new _t(c).sub(l).div(d-1),s,0),m=[].concat(yC($y.rangeStep(new _t(l),new _t(c).sub(new _t(.99).mul(h)),h)),[c]);return r>i?vC(m):m}var hxe=HW(uxe),fxe=HW(dxe),pxe="Invariant failed";function cl(t,e){throw new Error(pxe)}var mxe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}function gxe(t,e){return xxe(t)||bxe(t,e)||yxe(t,e)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yxe(t,e){if(t){if(typeof t=="string")return EF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EF(t,e)}}function EF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function xxe(t){if(Array.isArray(t))return t}function wxe(t,e){if(t==null)return{};var n=Sxe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Sxe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function _xe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Axe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZW(r.key),r)}}function Cxe(t,e,n){return e&&Axe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pxe(t,e,n){return e=iv(e),Exe(t,XW()?Reflect.construct(e,n||[],iv(t).constructor):e.apply(t,n))}function Exe(t,e){if(e&&(Zc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Txe(t)}function Txe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XW=function(){return!!t})()}function iv(t){return iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iv(t)}function jxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xC(t,e)}function xC(t,e){return xC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xC(t,e)}function QW(t,e,n){return e=ZW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZW(t){var e=kxe(t,"string");return Zc(e)=="symbol"?e:e+""}function kxe(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jf=(function(t){function e(){return _xe(this,e),Pxe(this,e,arguments)}return jxe(e,t),Cxe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,h=r.yAxis,m=wxe(r,mxe),g=$e(m,!1);this.props.direction==="x"&&d.type!=="number"&&cl();var x=l.map(function(y){var b=c(y,o),w=b.x,A=b.y,_=b.value,E=b.errorVal;if(!E)return null;var P=[],T,k;if(Array.isArray(E)){var O=gxe(E,2);T=O[0],k=O[1]}else T=k=E;if(s==="vertical"){var R=d.scale,F=A+i,M=F+a,D=F-a,$=R(_-T),W=R(_+k);P.push({x1:W,y1:M,x2:W,y2:D}),P.push({x1:$,y1:F,x2:W,y2:F}),P.push({x1:$,y1:M,x2:$,y2:D})}else if(s==="horizontal"){var H=h.scale,V=w+i,U=V-a,L=V+a,G=H(_-T),Q=H(_+k);P.push({x1:U,y1:Q,x2:L,y2:Q}),P.push({x1:V,y1:G,x2:V,y2:Q}),P.push({x1:U,y1:G,x2:L,y2:G})}return z.createElement(ut,rv({className:"recharts-errorBar",key:"bar-".concat(P.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},g),P.map(function(B){return z.createElement("line",rv({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return z.createElement(ut,{className:"recharts-errorBars"},x)}}])})(z.Component);QW(Jf,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});QW(Jf,"displayName","ErrorBar");function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function TF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TF(Object(n),!0).forEach(function(r){Nxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nxe(t,e,n){return e=Oxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oxe(t){var e=Mxe(t,"string");return qh(e)=="symbol"?e:e+""}function Mxe(t,e){if(qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JW=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Yr(n,qa);if(!a)return null;var o=qa.defaultProps,l=o!==void 0?Oo(Oo({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(d,h){var m=h.item,g=h.props,x=g.sectors||g.data||[];return d.concat(x.map(function(y){return{type:a.props.iconType||m.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(d){var h=d.item,m=h.type.defaultProps,g=m!==void 0?Oo(Oo({},m),h.props):{},x=g.dataKey,y=g.name,b=g.legendType,w=g.hide;return{inactive:w,dataKey:x,type:l.iconType||b||"square",color:WT(h),value:y||x,payload:g}}),Oo(Oo(Oo({},l),qa.getWithHeight(a,i)),{},{payload:c,item:a})};function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function jF(t){return Lxe(t)||Ixe(t)||Rxe(t)||Dxe()}function Dxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rxe(t,e){if(t){if(typeof t=="string")return wC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return wC(t,e)}}function Ixe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lxe(t){if(Array.isArray(t))return wC(t)}function wC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){Tc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tc(t,e,n){return e=Fxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fxe(t){var e=$xe(t,"string");return Gh(e)=="symbol"?e:e+""}function $xe(t,e){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tn(t,e,n){return Xe(t)||Xe(e)?n:jn(e)?ni(t,e,n):qe(e)?e(t):n}function ah(t,e,n,r){var i=Lbe(t,function(o){return Tn(o,e)});if(n==="number"){var s=i.filter(function(o){return ve(o)||parseFloat(o)});return s.length?[Ly(s),Iy(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Xe(o)}):i;return a.map(function(o){return jn(o)||o instanceof Date?o:""})}var Bxe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r?.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var d=c>0?i[c-1].coordinate:i[o-1].coordinate,h=i[c].coordinate,m=c>=o-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(xr(h-d)!==xr(m-h)){var x=[];if(xr(m-h)===xr(l[1]-l[0])){g=m;var y=h+l[1]-l[0];x[0]=Math.min(y,(y+d)/2),x[1]=Math.max(y,(y+d)/2)}else{g=d;var b=m+l[1]-l[0];x[0]=Math.min(h,(b+h)/2),x[1]=Math.max(h,(b+h)/2)}var w=[Math.min(h,(g+h)/2),Math.max(h,(g+h)/2)];if(e>w[0]&&e<=w[1]||e>=x[0]&&e<=x[1]){a=i[c].index;break}}else{var A=Math.min(d,m),_=Math.max(d,m);if(e>(A+h)/2&&e<=(_+h)/2){a=i[c].index;break}}}else for(var E=0;E<o;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===o-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},WT=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},Uxe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var d=s[o[l]].stackGroups,h=Object.keys(d),m=0,g=h.length;m<g;m++){var x=d[h[m]],y=x.items,b=x.cateAxisId,w=y.filter(function(k){return Xs(k.type).indexOf("Bar")>=0});if(w&&w.length){var A=w[0].type.defaultProps,_=A!==void 0?tn(tn({},A),w[0].props):w[0].props,E=_.barSize,P=_[b];a[P]||(a[P]=[]);var T=Xe(E)?n:E;a[P].push({item:w[0],stackList:w.slice(1),barSize:Xe(T)?void 0:wr(T,r,0)})}}return a},zxe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=wr(n,i,0,!0),d,h=[];if(a[0].barSize===+a[0].barSize){var m=!1,g=i/l,x=a.reduce(function(E,P){return E+P.barSize||0},0);x+=(l-1)*c,x>=i&&(x-=(l-1)*c,c=0),x>=i&&g>0&&(m=!0,g*=.9,x=l*g);var y=(i-x)/2>>0,b={offset:y-c,size:0};d=a.reduce(function(E,P){var T={item:P.item,position:{offset:b.offset+b.size+c,size:m?g:P.barSize}},k=[].concat(jF(E),[T]);return b=k[k.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:b})}),k},h)}else{var w=wr(r,i,0,!0);i-2*w-(l-1)*c<=0&&(c=0);var A=(i-2*w-(l-1)*c)/l;A>1&&(A>>=0);var _=o===+o?Math.min(A,o):A;d=a.reduce(function(E,P,T){var k=[].concat(jF(E),[{item:P.item,position:{offset:w+(A+c)*T+(A-_)/2,size:_}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},h)}return d},Vxe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=JW({children:s,legendWidth:l});if(c){var d=i||{},h=d.width,m=d.height,g=c.align,x=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&x==="middle")&&g!=="center"&&ve(e[g]))return tn(tn({},e),{},Tc({},g,e[g]+(h||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&x!=="middle"&&ve(e[x]))return tn(tn({},e),{},Tc({},x,e[x]+(m||0)))}return e},Wxe=function(e,n,r){return Xe(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},e8=function(e,n,r,i,s){var a=n.props.children,o=ri(a,Jf).filter(function(c){return Wxe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var h=Tn(d,r);if(Xe(h))return c;var m=Array.isArray(h)?[Ly(h),Iy(h)]:[h,h],g=l.reduce(function(x,y){var b=Tn(d,y,0),w=m[0]-Math.abs(Array.isArray(b)?b[0]:b),A=m[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(w,x[0]),Math.max(A,x[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},Hxe=function(e,n,r,i,s){var a=n.map(function(o){return e8(e,o,r,s,i)}).filter(function(o){return!Xe(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},t8=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&e8(e,l,c,i)||ah(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var d=0,h=c.length;d<h;d++)o[c[d]]||(o[c[d]]=!0,l.push(c[d]));return l},[])},n8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},r8=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Ks=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&o?.length>=2?xr(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var m=s?s.indexOf(h):h;return{coordinate:i(m)+c,value:h,offset:c}});return d.filter(function(h){return!qf(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,m){return{coordinate:i(h)+c,value:h,index:m,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+c,value:h,offset:c}}):i.domain().map(function(h,m){return{coordinate:i(h)+c,value:s?s[h]:h,index:m,offset:c}})},o_=new WeakMap,Vm=function(e,n){if(typeof n!="function")return e;o_.has(e)||o_.set(e,new WeakMap);var r=o_.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},i8=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:$h(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Zg(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:sh(),realScaleType:"point"}:s==="category"?{scale:$h(),realScaleType:"band"}:{scale:Zg(),realScaleType:"linear"};if(sl(i)){var l="scale".concat(Sy(i));return{scale:(mF[l]||sh)(),realScaleType:mF[l]?l:"point"}}return qe(i)?{scale:i}:{scale:sh(),realScaleType:"point"}},NF=1e-4,s8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-NF,a=Math.max(i[0],i[1])+NF,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},qxe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Gxe=function(e,n){if(!n||n.length!==2||!ve(n[0])||!ve(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!ve(e[0])||e[0]<r)&&(s[0]=r),(!ve(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Kxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=qf(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Yxe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=qf(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Xxe={sign:Kxe,expand:Lfe,none:Vc,silhouette:Ffe,wiggle:$fe,positive:Yxe},Qxe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Xxe[r],a=Ife().keys(i).value(function(o,l){return+Tn(o,l,0)}).order(QA).offset(s);return a(e)},Zxe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(h,m){var g,x=(g=m.type)!==null&&g!==void 0&&g.defaultProps?tn(tn({},m.type.defaultProps),m.props):m.props,y=x.stackId,b=x.hide;if(b)return h;var w=x[r],A=h[w]||{hasStack:!1,stackGroups:{}};if(jn(y)){var _=A.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(m),A.hasStack=!0,A.stackGroups[y]=_}else A.stackGroups[Nu("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[m]};return tn(tn({},h),{},Tc({},w,A))},l),d={};return Object.keys(c).reduce(function(h,m){var g=c[m];if(g.hasStack){var x={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,b){var w=g.stackGroups[b];return tn(tn({},y),{},Tc({},b,{numericAxisId:r,cateAxisId:i,items:w.items,stackedData:Qxe(e,w.items,s)}))},x)}return tn(tn({},h),{},Tc({},m,g))},d)},a8=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=hxe(c,s,o);return e.domain([Ly(d),Iy(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),m=fxe(h,s,o);return{niceTicks:m}}return null};function OF(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xe(i[e.dataKey])){var o=Dg(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Tn(i,Xe(a)?e.dataKey:a);return Xe(l)?null:e.scale(l)}var MF=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Tn(a,n.dataKey,n.domain[o]);return Xe(l)?null:n.scale(l)-s/2+i},Jxe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},e0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(jn(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},t0e=function(e){return e.reduce(function(n,r){return[Ly(r.concat([n[0]]).filter(ve)),Iy(r.concat([n[1]]).filter(ve))]},[1/0,-1/0])},o8=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,d){var h=t0e(d.slice(n,r+1));return[Math.min(c[0],h[0]),Math.max(c[1],h[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},DF=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RF=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SC=function(e,n,r){if(qe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ve(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(DF.test(e[0])){var s=+DF.exec(e[0])[1];i[0]=n[0]-s}else qe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ve(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(RF.test(e[1])){var a=+RF.exec(e[1])[1];i[1]=n[1]+a}else qe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},sv=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=yT(n,function(h){return h.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],d=s[o-1];a=Math.min((c.coordinate||0)-(d.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},IF=function(e,n,r){return!e||!e.length||Zf(e,ni(r,"type.defaultProps.domain"))?n:e},l8=function(e,n){var r=e.type.defaultProps?tn(tn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return tn(tn({},$e(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:WT(e),value:Tn(n,i),type:l,payload:n,chartType:c,hide:d})};function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){c8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c8(t,e,n){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return Kh(e)=="symbol"?e:e+""}function r0e(t,e){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i0e(t,e){return l0e(t)||o0e(t,e)||a0e(t,e)||s0e()}function s0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a0e(t,e){if(t){if(typeof t=="string")return FF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FF(t,e)}}function FF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function l0e(t){if(Array.isArray(t))return t}var av=Math.PI/180,c0e=function(e){return e*180/Math.PI},Mt=function(e,n,r,i){return{x:e+Math.cos(-av*i)*r,y:n+Math.sin(-av*i)*r}},u8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},u0e=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,d=wr(e.cx,a,a/2),h=wr(e.cy,o,o/2),m=u8(a,o,r),g=wr(e.innerRadius,m,0),x=wr(e.outerRadius,m,m*.8),y=Object.keys(n);return y.reduce(function(b,w){var A=n[w],_=A.domain,E=A.reversed,P;if(Xe(A.range))i==="angleAxis"?P=[l,c]:i==="radiusAxis"&&(P=[g,x]),E&&(P=[P[1],P[0]]);else{P=A.range;var T=P,k=i0e(T,2);l=k[0],c=k[1]}var O=i8(A,s),R=O.realScaleType,F=O.scale;F.domain(_).range(P),s8(F);var M=a8(F,Hs(Hs({},A),{},{realScaleType:R})),D=Hs(Hs(Hs({},A),M),{},{range:P,radius:x,realScaleType:R,scale:F,cx:d,cy:h,innerRadius:g,outerRadius:x,startAngle:l,endAngle:c});return Hs(Hs({},b),{},c8({},w,D))},{})},d0e=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},h0e=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=d0e({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:c0e(c),angleInRadian:c}},f0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},p0e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},$F=function(e,n){var r=e.x,i=e.y,s=h0e({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var d=f0e(n),h=d.startAngle,m=d.endAngle,g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?Hs(Hs({},n),{},{radius:a,angle:p0e(g,n)}):null},d8=function(e){return!C.isValidElement(e)&&!qe(e)&&typeof e!="boolean"?e.className:""};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yh(t)}var m0e=["offset"];function g0e(t){return x0e(t)||b0e(t)||y0e(t)||v0e()}function v0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y0e(t,e){if(t){if(typeof t=="string")return _C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _C(t,e)}}function b0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x0e(t){if(Array.isArray(t))return _C(t)}function _C(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w0e(t,e){if(t==null)return{};var n=S0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function BF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(n),!0).forEach(function(r){_0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _0e(t,e,n){return e=A0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A0e(t){var e=C0e(t,"string");return Yh(e)=="symbol"?e:e+""}function C0e(t,e){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xh.apply(this,arguments)}var P0e=function(e){var n=e.value,r=e.formatter,i=Xe(e.children)?n:e.children;return qe(r)?r(i):i},E0e=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},T0e=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,d=l.cy,h=l.innerRadius,m=l.outerRadius,g=l.startAngle,x=l.endAngle,y=l.clockWise,b=(h+m)/2,w=E0e(g,x),A=w>=0?1:-1,_,E;i==="insideStart"?(_=g+A*a,E=y):i==="insideEnd"?(_=x-A*a,E=!y):i==="end"&&(_=x+A*a,E=y),E=w<=0?E:!E;var P=Mt(c,d,b,_),T=Mt(c,d,b,_+(E?1:-1)*359),k="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(E?0:1,`,
    `).concat(T.x,",").concat(T.y),O=Xe(e.id)?Nu("recharts-radial-line-"):e.id;return z.createElement("text",Xh({},r,{dominantBaseline:"central",className:Ye("recharts-radial-bar-label",o)}),z.createElement("defs",null,z.createElement("path",{id:O,d:k})),z.createElement("textPath",{xlinkHref:"#".concat(O)},n))},j0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,h=s.endAngle,m=(d+h)/2;if(i==="outside"){var g=Mt(a,o,c+r,m),x=g.x,y=g.y;return{x,y,textAnchor:x>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,w=Mt(a,o,b,m),A=w.x,_=w.y;return{x:A,y:_,textAnchor:"middle",verticalAnchor:"middle"}},k0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,d=a.height,h=d>=0?1:-1,m=h*i,g=h>0?"end":"start",x=h>0?"start":"end",y=c>=0?1:-1,b=y*i,w=y>0?"end":"start",A=y>0?"start":"end";if(s==="top"){var _={x:o+c/2,y:l-h*i,textAnchor:"middle",verticalAnchor:g};return En(En({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var E={x:o+c/2,y:l+d+m,textAnchor:"middle",verticalAnchor:x};return En(En({},E),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var P={x:o-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"};return En(En({},P),r?{width:Math.max(P.x-r.x,0),height:d}:{})}if(s==="right"){var T={x:o+c+b,y:l+d/2,textAnchor:A,verticalAnchor:"middle"};return En(En({},T),r?{width:Math.max(r.x+r.width-T.x,0),height:d}:{})}var k=r?{width:c,height:d}:{};return s==="insideLeft"?En({x:o+b,y:l+d/2,textAnchor:A,verticalAnchor:"middle"},k):s==="insideRight"?En({x:o+c-b,y:l+d/2,textAnchor:w,verticalAnchor:"middle"},k):s==="insideTop"?En({x:o+c/2,y:l+m,textAnchor:"middle",verticalAnchor:x},k):s==="insideBottom"?En({x:o+c/2,y:l+d-m,textAnchor:"middle",verticalAnchor:g},k):s==="insideTopLeft"?En({x:o+b,y:l+m,textAnchor:A,verticalAnchor:x},k):s==="insideTopRight"?En({x:o+c-b,y:l+m,textAnchor:w,verticalAnchor:x},k):s==="insideBottomLeft"?En({x:o+b,y:l+d-m,textAnchor:A,verticalAnchor:g},k):s==="insideBottomRight"?En({x:o+c-b,y:l+d-m,textAnchor:w,verticalAnchor:g},k):ku(s)&&(ve(s.x)||Vo(s.x))&&(ve(s.y)||Vo(s.y))?En({x:o+wr(s.x,c),y:l+wr(s.y,d),textAnchor:"end",verticalAnchor:"end"},k):En({x:o+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},N0e=function(e){return"cx"in e&&ve(e.cx)};function Fn(t){var e=t.offset,n=e===void 0?5:e,r=w0e(t,m0e),i=En({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,d=i.className,h=d===void 0?"":d,m=i.textBreakAll;if(!s||Xe(o)&&Xe(l)&&!C.isValidElement(c)&&!qe(c))return null;if(C.isValidElement(c))return C.cloneElement(c,i);var g;if(qe(c)){if(g=C.createElement(c,i),C.isValidElement(g))return g}else g=P0e(i);var x=N0e(s),y=$e(i,!0);if(x&&(a==="insideStart"||a==="insideEnd"||a==="end"))return T0e(i,g,y);var b=x?j0e(i):k0e(i);return z.createElement(ol,Xh({className:Ye("recharts-label",h)},y,b,{breakAll:m}),g)}Fn.displayName="Label";var h8=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,h=e.x,m=e.y,g=e.top,x=e.left,y=e.width,b=e.height,w=e.clockWise,A=e.labelViewBox;if(A)return A;if(ve(y)&&ve(b)){if(ve(h)&&ve(m))return{x:h,y:m,width:y,height:b};if(ve(g)&&ve(x))return{x:g,y:x,width:y,height:b}}return ve(h)&&ve(m)?{x:h,y:m,width:0,height:0}:ve(n)&&ve(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:d||l||o||0,clockWise:w}:e.viewBox?e.viewBox:{}},O0e=function(e,n){return e?e===!0?z.createElement(Fn,{key:"label-implicit",viewBox:n}):jn(e)?z.createElement(Fn,{key:"label-implicit",viewBox:n,value:e}):C.isValidElement(e)?e.type===Fn?C.cloneElement(e,{key:"label-implicit",viewBox:n}):z.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):qe(e)?z.createElement(Fn,{key:"label-implicit",content:e,viewBox:n}):ku(e)?z.createElement(Fn,Xh({viewBox:n},e,{key:"label-implicit"})):null:null},M0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=h8(e),a=ri(i,Fn).map(function(l,c){return C.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=O0e(e.label,n||s);return[o].concat(g0e(a))};Fn.parseViewBox=h8;Fn.renderCallByParent=M0e;var l_,UF;function D0e(){if(UF)return l_;UF=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return l_=t,l_}var R0e=D0e();const I0e=vt(R0e);function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}var L0e=["valueAccessor"],F0e=["data","dataKey","clockWise","id","textBreakAll"];function $0e(t){return V0e(t)||z0e(t)||U0e(t)||B0e()}function B0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(t,e){if(t){if(typeof t=="string")return AC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AC(t,e)}}function z0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V0e(t){if(Array.isArray(t))return AC(t)}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function zF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function VF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(n),!0).forEach(function(r){W0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function W0e(t,e,n){return e=H0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function H0e(t){var e=q0e(t,"string");return Qh(e)=="symbol"?e:e+""}function q0e(t,e){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WF(t,e){if(t==null)return{};var n=G0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function G0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var K0e=function(e){return Array.isArray(e.value)?I0e(e.value):e.value};function Zs(t){var e=t.valueAccessor,n=e===void 0?K0e:e,r=WF(t,L0e),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=WF(r,F0e);return!i||!i.length?null:z.createElement(ut,{className:"recharts-label-list"},i.map(function(d,h){var m=Xe(s)?n(d,h):Tn(d&&d.payload,s),g=Xe(o)?{}:{id:"".concat(o,"-").concat(h)};return z.createElement(Fn,ov({},$e(d,!0),c,g,{parentViewBox:d.parentViewBox,value:m,textBreakAll:l,viewBox:Fn.parseViewBox(Xe(a)?d:VF(VF({},d),{},{clockWise:a})),key:"label-".concat(h),index:h}))}))}Zs.displayName="LabelList";function Y0e(t,e){return t?t===!0?z.createElement(Zs,{key:"labelList-implicit",data:e}):z.isValidElement(t)||qe(t)?z.createElement(Zs,{key:"labelList-implicit",data:e,content:t}):ku(t)?z.createElement(Zs,ov({data:e},t,{key:"labelList-implicit"})):null:null}function X0e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ri(r,Zs).map(function(a,o){return C.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Y0e(t.label,e);return[s].concat($0e(i))}Zs.renderCallByParent=X0e;function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function CC(){return CC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CC.apply(this,arguments)}function HF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HF(Object(n),!0).forEach(function(r){Q0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q0e(t,e,n){return e=Z0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z0e(t){var e=J0e(t,"string");return Zh(e)=="symbol"?e:e+""}function J0e(t,e){if(Zh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ewe=function(e,n){var r=xr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wm=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(o?1:-1)+i,h=Math.asin(l/d)/av,m=c?s:s+a*h,g=Mt(n,r,d,m),x=Mt(n,r,i,m),y=c?s-a*h:s,b=Mt(n,r,d*Math.cos(h*av),y);return{center:g,circleTangency:x,lineTangency:b,theta:h}},f8=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=ewe(a,o),c=a+l,d=Mt(n,r,s,a),h=Mt(n,r,s,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var g=Mt(n,r,i,a),x=Mt(n,r,i,c);m+="L ".concat(x.x,",").concat(x.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else m+="L ".concat(n,",").concat(r," Z");return m},twe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,h=xr(d-c),m=Wm({cx:n,cy:r,radius:s,angle:c,sign:h,cornerRadius:a,cornerIsExternal:l}),g=m.circleTangency,x=m.lineTangency,y=m.theta,b=Wm({cx:n,cy:r,radius:s,angle:d,sign:-h,cornerRadius:a,cornerIsExternal:l}),w=b.circleTangency,A=b.lineTangency,_=b.theta,E=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(E<0)return o?"M ".concat(x.x,",").concat(x.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):f8({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var P="M ".concat(x.x,",").concat(x.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(E>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(i>0){var T=Wm({cx:n,cy:r,radius:i,angle:c,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=T.circleTangency,O=T.lineTangency,R=T.theta,F=Wm({cx:n,cy:r,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=F.circleTangency,D=F.lineTangency,$=F.theta,W=l?Math.abs(c-d):Math.abs(c-d)-R-$;if(W<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(M.x,",").concat(M.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},nwe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p8=function(e){var n=qF(qF({},nwe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,h=n.endAngle,m=n.className;if(a<s||d===h)return null;var g=Ye("recharts-sector",m),x=a-s,y=wr(o,x,0,!0),b;return y>0&&Math.abs(d-h)<360?b=twe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(y,x/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:h}):b=f8({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:d,endAngle:h}),z.createElement("path",CC({},$e(n,!0),{className:g,d:b,role:"img"}))};function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function PC(){return PC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},PC.apply(this,arguments)}function GF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(n),!0).forEach(function(r){rwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rwe(t,e,n){return e=iwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iwe(t){var e=swe(t,"string");return Jh(e)=="symbol"?e:e+""}function swe(t,e){if(Jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YF={curveBasisClosed:Cfe,curveBasisOpen:Pfe,curveBasis:Afe,curveBumpX:ufe,curveBumpY:dfe,curveLinearClosed:Efe,curveLinear:Ay,curveMonotoneX:Tfe,curveMonotoneY:jfe,curveNatural:kfe,curveStep:Nfe,curveStepAfter:Mfe,curveStepBefore:Ofe},Hm=function(e){return e.x===+e.x&&e.y===+e.y},Fd=function(e){return e.x},$d=function(e){return e.y},awe=function(e,n){if(qe(e))return e;var r="curve".concat(Sy(e));return(r==="curveMonotone"||r==="curveBump")&&n?YF["".concat(r).concat(n==="vertical"?"Y":"X")]:YF[r]||Ay},owe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=awe(r,o),h=c?s.filter(function(y){return Hm(y)}):s,m;if(Array.isArray(a)){var g=c?a.filter(function(y){return Hm(y)}):a,x=h.map(function(y,b){return KF(KF({},y),{},{base:g[b]})});return o==="vertical"?m=Im().y($d).x1(Fd).x0(function(y){return y.base.x}):m=Im().x(Fd).y1($d).y0(function(y){return y.base.y}),m.defined(Hm).curve(d),m(x)}return o==="vertical"&&ve(a)?m=Im().y($d).x1(Fd).x0(a):ve(a)?m=Im().x(Fd).y1($d).y0(a):m=h6().x(Fd).y($d),m.defined(Hm).curve(d),m(h)},lv=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?owe(e):i;return C.createElement("path",PC({},$e(e,!1),Rg(e),{className:Ye("recharts-curve",n),d:a,ref:s}))},c_={exports:{}},u_,XF;function lwe(){if(XF)return u_;XF=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return u_=t,u_}var d_,QF;function cwe(){if(QF)return d_;QF=1;var t=lwe();function e(){}function n(){}return n.resetWarningCache=e,d_=function(){function r(a,o,l,c,d,h){if(h!==t){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},d_}var ZF;function uwe(){return ZF||(ZF=1,c_.exports=cwe()()),c_.exports}var dwe=uwe();const gt=vt(dwe);var hwe=Object.getOwnPropertyNames,fwe=Object.getOwnPropertySymbols,pwe=Object.prototype.hasOwnProperty;function JF(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function qm(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function mwe(t){return t?.[Symbol.toStringTag]}function e$(t){return hwe(t).concat(fwe(t))}var gwe=Object.hasOwn||(function(t,e){return pwe.call(t,e)});function yl(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var vwe="__v",ywe="__o",bwe="_owner",t$=Object.getOwnPropertyDescriptor,n$=Object.keys;function xwe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function wwe(t,e){return yl(t.getTime(),e.getTime())}function Swe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function _we(t,e){return t===e}function r$(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),d=!1,h=0;(o=c.next())&&!o.done;){if(i[h]){h++;continue}var m=a.value,g=o.value;if(n.equals(m[0],g[0],l,h,t,e,n)&&n.equals(m[1],g[1],m[0],g[0],t,e,n)){d=i[h]=!0;break}h++}if(!d)return!1;l++}return!0}var Awe=yl;function Cwe(t,e,n){var r=n$(t),i=r.length;if(n$(e).length!==i)return!1;for(;i-- >0;)if(!m8(t,e,n,r[i]))return!1;return!0}function Bd(t,e,n){var r=e$(t),i=r.length;if(e$(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!m8(t,e,n,s)||(a=t$(t,s),o=t$(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function Pwe(t,e){return yl(t.valueOf(),e.valueOf())}function Ewe(t,e){return t.source===e.source&&t.flags===e.flags}function i$(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,d=0;(o=l.next())&&!o.done;){if(!i[d]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function Twe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function jwe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function m8(t,e,n,r){return(r===bwe||r===ywe||r===vwe)&&(t.$$typeof||e.$$typeof)?!0:gwe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var kwe="[object Arguments]",Nwe="[object Boolean]",Owe="[object Date]",Mwe="[object Error]",Dwe="[object Map]",Rwe="[object Number]",Iwe="[object Object]",Lwe="[object RegExp]",Fwe="[object Set]",$we="[object String]",Bwe="[object URL]",Uwe=Array.isArray,s$=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,a$=Object.assign,zwe=Object.prototype.toString.call.bind(Object.prototype.toString);function Vwe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,m=t.areUrlsEqual,g=t.unknownTagComparators;return function(y,b,w){if(y===b)return!0;if(y==null||b==null)return!1;var A=typeof y;if(A!==typeof b)return!1;if(A!=="object")return A==="number"?a(y,b,w):A==="function"?i(y,b,w):!1;var _=y.constructor;if(_!==b.constructor)return!1;if(_===Object)return o(y,b,w);if(Uwe(y))return e(y,b,w);if(s$!=null&&s$(y))return h(y,b,w);if(_===Date)return n(y,b,w);if(_===RegExp)return c(y,b,w);if(_===Map)return s(y,b,w);if(_===Set)return d(y,b,w);var E=zwe(y);if(E===Owe)return n(y,b,w);if(E===Lwe)return c(y,b,w);if(E===Dwe)return s(y,b,w);if(E===Fwe)return d(y,b,w);if(E===Iwe)return typeof y.then!="function"&&typeof b.then!="function"&&o(y,b,w);if(E===Bwe)return m(y,b,w);if(E===Mwe)return r(y,b,w);if(E===kwe)return o(y,b,w);if(E===Nwe||E===Rwe||E===$we)return l(y,b,w);if(g){var P=g[E];if(!P){var T=mwe(y);T&&(P=g[T])}if(P)return P(y,b,w)}return!1}}function Wwe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Bd:xwe,areDatesEqual:wwe,areErrorsEqual:Swe,areFunctionsEqual:_we,areMapsEqual:r?JF(r$,Bd):r$,areNumbersEqual:Awe,areObjectsEqual:r?Bd:Cwe,arePrimitiveWrappersEqual:Pwe,areRegExpsEqual:Ewe,areSetsEqual:r?JF(i$,Bd):i$,areTypedArraysEqual:r?Bd:Twe,areUrlsEqual:jwe,unknownTagComparators:void 0};if(n&&(i=a$({},i,n(i))),e){var s=qm(i.areArraysEqual),a=qm(i.areMapsEqual),o=qm(i.areObjectsEqual),l=qm(i.areSetsEqual);i=a$({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function Hwe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function qwe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),h=d.cache,m=h===void 0?e?new WeakMap:void 0:h,g=d.meta;return n(l,c,{cache:m,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var Gwe=uo();uo({strict:!0});uo({circular:!0});uo({circular:!0,strict:!0});uo({createInternalComparator:function(){return yl}});uo({strict:!0,createInternalComparator:function(){return yl}});uo({circular:!0,createInternalComparator:function(){return yl}});uo({circular:!0,createInternalComparator:function(){return yl},strict:!0});function uo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=Wwe(t),l=Vwe(o),c=r?r(l):Hwe(l);return qwe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function Kwe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function o$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Kwe(i)};requestAnimationFrame(r)}function EC(t){"@babel/helpers - typeof";return EC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EC(t)}function Ywe(t){return Jwe(t)||Zwe(t)||Qwe(t)||Xwe()}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qwe(t,e){if(t){if(typeof t=="string")return l$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l$(t,e)}}function l$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zwe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jwe(t){if(Array.isArray(t))return t}function e1e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Ywe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){o$(i.bind(null,c),l);return}i(l),o$(i.bind(null,c));return}EC(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function c$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(n),!0).forEach(function(r){g8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g8(t,e,n){return e=t1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function t1e(t){var e=n1e(t,"string");return ef(e)==="symbol"?e:String(e)}function n1e(t,e){if(ef(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ef(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r1e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},i1e=function(e){return e},s1e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},oh=function(e,n){return Object.keys(n).reduce(function(r,i){return u$(u$({},r),{},g8({},i,e(i,n[i])))},{})},d$=function(e,n,r){return e.map(function(i){return"".concat(s1e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function a1e(t,e){return c1e(t)||l1e(t,e)||v8(t,e)||o1e()}function o1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function c1e(t){if(Array.isArray(t))return t}function u1e(t){return f1e(t)||h1e(t)||v8(t)||d1e()}function d1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8(t,e){if(t){if(typeof t=="string")return TC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return TC(t,e)}}function h1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f1e(t){if(Array.isArray(t))return TC(t)}function TC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var cv=1e-4,y8=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},b8=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},h$=function(e,n){return function(r){var i=y8(e,n);return b8(i,r)}},p1e=function(e,n){return function(r){var i=y8(e,n),s=[].concat(u1e(i.map(function(a,o){return a*o}).slice(1)),[0]);return b8(s,r)}},f$=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),d=a1e(c,4);i=d[0],s=d[1],a=d[2],o=d[3]}}}var h=h$(i,a),m=h$(s,o),g=p1e(i,a),x=function(w){return w>1?1:w<0?0:w},y=function(w){for(var A=w>1?1:w,_=A,E=0;E<8;++E){var P=h(_)-A,T=g(_);if(Math.abs(P-A)<cv||T<cv)return m(_);_=x(_-P/T)}return m(_)};return y.isStepper=!1,y},m1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(d,h,m){var g=-(d-h)*r,x=m*s,y=m+(g-x)*o/1e3,b=m*o/1e3+d;return Math.abs(b-h)<cv&&Math.abs(y)<cv?[h,0]:[b,y]};return l.isStepper=!0,l.dt=o,l},g1e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return f$(i);case"spring":return m1e();default:if(i.split("(")[0]==="cubic-bezier")return f$(i)}return typeof i=="function"?i:null};function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function p$(t){return b1e(t)||y1e(t)||x8(t)||v1e()}function v1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function b1e(t){if(Array.isArray(t))return kC(t)}function m$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m$(Object(n),!0).forEach(function(r){jC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jC(t,e,n){return e=x1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x1e(t){var e=w1e(t,"string");return tf(e)==="symbol"?e:String(e)}function w1e(t,e){if(tf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S1e(t,e){return C1e(t)||A1e(t,e)||x8(t,e)||_1e()}function _1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x8(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function A1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function C1e(t){if(Array.isArray(t))return t}var uv=function(e,n,r){return e+(n-e)*r},NC=function(e){var n=e.from,r=e.to;return n!==r},P1e=function t(e,n,r){var i=oh(function(s,a){if(NC(a)){var o=e(a.from,a.to,a.velocity),l=S1e(o,2),c=l[0],d=l[1];return Zn(Zn({},a),{},{from:c,velocity:d})}return a},n);return r<1?oh(function(s,a){return NC(a)?Zn(Zn({},a),{},{velocity:uv(a.velocity,i[s].velocity,r),from:uv(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const E1e=(function(t,e,n,r,i){var s=r1e(t,e),a=s.reduce(function(b,w){return Zn(Zn({},b),{},jC({},w,[t[w],e[w]]))},{}),o=s.reduce(function(b,w){return Zn(Zn({},b),{},jC({},w,{from:t[w],velocity:0,to:e[w]}))},{}),l=-1,c,d,h=function(){return null},m=function(){return oh(function(w,A){return A.from},o)},g=function(){return!Object.values(o).filter(NC).length},x=function(w){c||(c=w);var A=w-c,_=A/n.dt;o=P1e(n,o,_),i(Zn(Zn(Zn({},t),e),m())),c=w,g()||(l=requestAnimationFrame(h))},y=function(w){d||(d=w);var A=(w-d)/r,_=oh(function(P,T){return uv.apply(void 0,p$(T).concat([n(A)]))},a);if(i(Zn(Zn(Zn({},t),e),_)),A<1)l=requestAnimationFrame(h);else{var E=oh(function(P,T){return uv.apply(void 0,p$(T).concat([n(1)]))},a);i(Zn(Zn(Zn({},t),e),E))}};return h=n.isStepper?x:y,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(l)}}});function Jc(t){"@babel/helpers - typeof";return Jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jc(t)}var T1e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function j1e(t,e){if(t==null)return{};var n=k1e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function h_(t){return D1e(t)||M1e(t)||O1e(t)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O1e(t,e){if(t){if(typeof t=="string")return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(t,e)}}function M1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function D1e(t){if(Array.isArray(t))return OC(t)}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g$(Object(n),!0).forEach(function(r){Kd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kd(t,e,n){return e=w8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function R1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I1e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w8(r.key),r)}}function L1e(t,e,n){return e&&I1e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w8(t){var e=F1e(t,"string");return Jc(e)==="symbol"?e:String(e)}function F1e(t,e){if(Jc(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jc(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MC(t,e)}function B1e(t){var e=U1e();return function(){var r=dv(t),i;if(e){var s=dv(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return DC(this,i)}}function DC(t,e){if(e&&(Jc(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RC(t)}function RC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U1e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function dv(t){return dv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dv(t)}var As=(function(t){$1e(n,t);var e=B1e(n);function n(r,i){var s;R1e(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,d=a.to,h=a.steps,m=a.children,g=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(RC(s)),s.changeStyle=s.changeStyle.bind(RC(s)),!o||g<=0)return s.state={style:{}},typeof m=="function"&&(s.state={style:d}),DC(s);if(h&&h.length)s.state={style:h[0].style};else if(c){if(typeof m=="function")return s.state={style:c},DC(s);s.state={style:l?Kd({},l,c):c}}else s.state={style:{}};return s}return L1e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,h=s.from,m=this.state.style;if(o){if(!a){var g={style:l?Kd({},l,d):d};this.state&&m&&(l&&m[l]!==d||!l&&m!==d)&&this.setState(g);return}if(!(Gwe(i.to,d)&&i.canBegin&&i.isActive)){var x=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=x||c?h:i.to;if(this.state&&m){var b={style:l?Kd({},l,y):y};(l&&m[l]!==y||!l&&m!==y)&&this.setState(b)}this.runAnimation(Ui(Ui({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,d=i.begin,h=i.onAnimationEnd,m=i.onAnimationStart,g=E1e(a,o,g1e(c),l,this.changeStyle),x=function(){s.stopJSAnimation=g()};this.manager.start([m,d,x,l,h])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],d=c.style,h=c.duration,m=h===void 0?0:h,g=function(y,b,w){if(w===0)return y;var A=b.duration,_=b.easing,E=_===void 0?"ease":_,P=b.style,T=b.properties,k=b.onAnimationEnd,O=w>0?a[w-1]:b,R=T||Object.keys(P);if(typeof E=="function"||E==="spring")return[].concat(h_(y),[s.runJSAnimation.bind(s,{from:O.style,to:P,duration:A,easing:E}),A]);var F=d$(R,A,E),M=Ui(Ui(Ui({},O.style),P),{},{transition:F});return[].concat(h_(y),[M,A,k]).filter(i1e)};return this.manager.start([l].concat(h_(a.reduce(g,[d,Math.max(m,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=e1e());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,m=i.steps,g=i.children,x=this.manager;if(this.unSubscribe=x.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(m.length>1){this.runStepAnimation(i);return}var y=o?Kd({},o,l):l,b=d$(Object.keys(y),a,c);x.start([d,s,Ui(Ui({},y),{},{transition:b}),a,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=j1e(i,T1e),c=C.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!o||c===0||a<=0)return s;var h=function(g){var x=g.props,y=x.style,b=y===void 0?{}:y,w=x.className,A=C.cloneElement(g,Ui(Ui({},l),{},{style:Ui(Ui({},b),d),className:w}));return A};return c===1?h(C.Children.only(s)):z.createElement("div",null,C.Children.map(s,function(m){return h(m)}))}}]),n})(C.PureComponent);As.displayName="Animate";As.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};As.propTypes={from:gt.oneOfType([gt.object,gt.string]),to:gt.oneOfType([gt.object,gt.string]),attributeName:gt.string,duration:gt.number,begin:gt.number,easing:gt.oneOfType([gt.string,gt.func]),steps:gt.arrayOf(gt.shape({duration:gt.number.isRequired,style:gt.object.isRequired,easing:gt.oneOfType([gt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gt.func]),properties:gt.arrayOf("string"),onAnimationEnd:gt.func})),children:gt.oneOfType([gt.node,gt.func]),isActive:gt.bool,canBegin:gt.bool,onAnimationEnd:gt.func,shouldReAnimate:gt.bool,onAnimationStart:gt.func,onAnimationReStart:gt.func};function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function hv(){return hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hv.apply(this,arguments)}function z1e(t,e){return q1e(t)||H1e(t,e)||W1e(t,e)||V1e()}function V1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W1e(t,e){if(t){if(typeof t=="string")return v$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v$(t,e)}}function v$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function H1e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function q1e(t){if(Array.isArray(t))return t}function y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?y$(Object(n),!0).forEach(function(r){G1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G1e(t,e,n){return e=K1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K1e(t){var e=Y1e(t,"string");return nf(e)=="symbol"?e:e+""}function Y1e(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x$=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(a>0&&s instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=s[m]>a?a:s[m];d="M".concat(e,",").concat(n+o*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(e+l*h[0],",").concat(n)),d+="L ".concat(e+r-l*h[1],",").concat(n),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*h[1])),d+="L ".concat(e+r,",").concat(n+i-o*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(e+r-l*h[2],",").concat(n+i)),d+="L ".concat(e+l*h[3],",").concat(n+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*h[3])),d+="Z"}else if(a>0&&s===+s&&s>0){var x=Math.min(a,s);d="M ".concat(e,",").concat(n+o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+l*x,",").concat(n,`
            L `).concat(e+r-l*x,",").concat(n,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*x,`
            L `).concat(e+r,",").concat(n+i-o*x,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e+r-l*x,",").concat(n+i,`
            L `).concat(e+l*x,",").concat(n+i,`
            A `).concat(x,",").concat(x,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*x," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},X1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),d=Math.max(s,s+o),h=Math.min(a,a+l),m=Math.max(a,a+l);return r>=c&&r<=d&&i>=h&&i<=m}return!1},Q1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HT=function(e){var n=b$(b$({},Q1e),e),r=C.useRef(),i=C.useState(-1),s=z1e(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&o(E)}catch{}},[]);var l=n.x,c=n.y,d=n.width,h=n.height,m=n.radius,g=n.className,x=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isAnimationActive,A=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||d===0||h===0)return null;var _=Ye("recharts-rectangle",g);return A?z.createElement(As,{canBegin:a>0,from:{width:d,height:h,x:l,y:c},to:{width:d,height:h,x:l,y:c},duration:y,animationEasing:x,isActive:A},function(E){var P=E.width,T=E.height,k=E.x,O=E.y;return z.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:w,easing:x},z.createElement("path",hv({},$e(n,!0),{className:_,d:x$(k,O,P,T,m),ref:r})))}):z.createElement("path",hv({},$e(n,!0),{className:_,d:x$(l,c,d,h,m)}))},Z1e=["points","className","baseLinePoints","connectNulls"];function fc(){return fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fc.apply(this,arguments)}function J1e(t,e){if(t==null)return{};var n=eSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function w$(t){return iSe(t)||rSe(t)||nSe(t)||tSe()}function tSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nSe(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function rSe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iSe(t){if(Array.isArray(t))return IC(t)}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S$=function(e){return e&&e.x===+e.x&&e.y===+e.y},sSe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){S$(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),S$(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},lh=function(e,n){var r=sSe(e);n&&(r=[r.reduce(function(s,a){return[].concat(w$(s),w$(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},aSe=function(e,n,r){var i=lh(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(lh(n.reverse(),r).slice(1))},oSe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=J1e(e,Z1e);if(!n||!n.length)return null;var o=Ye("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=aSe(n,i,s);return z.createElement("g",{className:o},z.createElement("path",fc({},$e(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?z.createElement("path",fc({},$e(a,!0),{fill:"none",d:lh(n,s)})):null,l?z.createElement("path",fc({},$e(a,!0),{fill:"none",d:lh(i,s)})):null)}var d=lh(n,s);return z.createElement("path",fc({},$e(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",className:o,d}))};function LC(){return LC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LC.apply(this,arguments)}var By=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=Ye("recharts-dot",s);return n===+n&&r===+r&&i===+i?C.createElement("circle",LC({},$e(e,!1),Rg(e),{className:a,cx:n,cy:r,r:i})):null};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}var lSe=["x","y","top","left","width","height","className"];function FC(){return FC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FC.apply(this,arguments)}function _$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cSe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_$(Object(n),!0).forEach(function(r){uSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uSe(t,e,n){return e=dSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dSe(t){var e=hSe(t,"string");return rf(e)=="symbol"?e:e+""}function hSe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fSe(t,e){if(t==null)return{};var n=pSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mSe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},gSe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,d=e.width,h=d===void 0?0:d,m=e.height,g=m===void 0?0:m,x=e.className,y=fSe(e,lSe),b=cSe({x:r,y:s,top:o,left:c,width:h,height:g},y);return!ve(r)||!ve(s)||!ve(h)||!ve(g)||!ve(o)||!ve(c)?null:z.createElement("path",FC({},$e(b,!0),{className:Ye("recharts-cross",x),d:mSe(r,s,h,g,o,c)}))},f_,A$;function vSe(){if(A$)return f_;A$=1;var t=Ry(),e=IW(),n=js();function r(i,s){return i&&i.length?t(i,n(s,2),e):void 0}return f_=r,f_}var ySe=vSe();const bSe=vt(ySe);var p_,C$;function xSe(){if(C$)return p_;C$=1;var t=Ry(),e=js(),n=LW();function r(i,s){return i&&i.length?t(i,e(s,2),n):void 0}return p_=r,p_}var wSe=xSe();const SSe=vt(wSe);var _Se=["cx","cy","angle","ticks","axisLine"],ASe=["ticks","tick","angle","tickFormatter","stroke"];function eu(t){"@babel/helpers - typeof";return eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eu(t)}function ch(){return ch=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ch.apply(this,arguments)}function P$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P$(Object(n),!0).forEach(function(r){Uy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E$(t,e){if(t==null)return{};var n=CSe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function PSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_8(r.key),r)}}function ESe(t,e,n){return e&&T$(t.prototype,e),n&&T$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TSe(t,e,n){return e=fv(e),jSe(t,S8()?Reflect.construct(e,n||[],fv(t).constructor):e.apply(t,n))}function jSe(t,e){if(e&&(eu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kSe(t)}function kSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S8=function(){return!!t})()}function fv(t){return fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fv(t)}function NSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$C(t,e)}function Uy(t,e,n){return e=_8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _8(t){var e=OSe(t,"string");return eu(e)=="symbol"?e:e+""}function OSe(t,e){if(eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zy=(function(t){function e(){return PSe(this,e),TSe(this,e,arguments)}return NSe(e,t),ESe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Mt(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=bSe(o,function(d){return d.coordinate||0}),c=SSe(o,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=E$(r,_Se),d=o.reduce(function(x,y){return[Math.min(x[0],y.coordinate),Math.max(x[1],y.coordinate)]},[1/0,-1/0]),h=Mt(i,s,d[0],a),m=Mt(i,s,d[1],a),g=Mo(Mo(Mo({},$e(c,!1)),{},{fill:"none"},$e(l,!1)),{},{x1:h.x,y1:h.y,x2:m.x,y2:m.y});return z.createElement("line",ch({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,d=E$(i,ASe),h=this.getTickTextAnchor(),m=$e(d,!1),g=$e(a,!1),x=s.map(function(y,b){var w=r.getTickValueCoord(y),A=Mo(Mo(Mo(Mo({textAnchor:h,transform:"rotate(".concat(90-o,", ").concat(w.x,", ").concat(w.y,")")},m),{},{stroke:"none",fill:c},g),{},{index:b},w),{},{payload:y});return z.createElement(ut,ch({className:Ye("recharts-polar-radius-axis-tick",d8(a)),key:"tick-".concat(y.coordinate)},al(r.props,y,b)),e.renderTickItem(a,A,l?l(y.value,b):y.value))});return z.createElement(ut,{className:"recharts-polar-radius-axis-ticks"},x)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:z.createElement(ut,{className:Ye("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),Fn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):qe(r)?a=r(i):a=z.createElement(ol,ch({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])})(C.PureComponent);Uy(zy,"displayName","PolarRadiusAxis");Uy(zy,"axisType","radiusAxis");Uy(zy,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(t)}function $o(){return $o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$o.apply(this,arguments)}function j$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Do(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j$(Object(n),!0).forEach(function(r){Vy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C8(r.key),r)}}function DSe(t,e,n){return e&&k$(t.prototype,e),n&&k$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function RSe(t,e,n){return e=pv(e),ISe(t,A8()?Reflect.construct(e,n||[],pv(t).constructor):e.apply(t,n))}function ISe(t,e){if(e&&(tu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LSe(t)}function LSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function A8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A8=function(){return!!t})()}function pv(t){return pv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pv(t)}function FSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BC(t,e)}function Vy(t,e,n){return e=C8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C8(t){var e=$Se(t,"string");return tu(e)=="symbol"?e:e+""}function $Se(t,e){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BSe=Math.PI/180,N$=1e-5,Wy=(function(t){function e(){return MSe(this,e),RSe(this,e,arguments)}return FSe(e,t),DSe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,d=c||8,h=Mt(s,a,o,r.coordinate),m=Mt(s,a,o+(l==="inner"?-1:1)*d,r.coordinate);return{x1:h.x,y1:h.y,x2:m.x,y2:m.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*BSe),a;return s>N$?a=i==="outer"?"start":"end":s<-N$?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Do(Do({},$e(this.props,!1)),{},{fill:"none"},$e(o,!1));if(l==="circle")return z.createElement(By,$o({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var d=this.props.ticks,h=d.map(function(m){return Mt(i,s,a,m.coordinate)});return z.createElement(oSe,$o({className:"recharts-polar-angle-axis-line"},c,{points:h}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,d=$e(this.props,!1),h=$e(a,!1),m=Do(Do({},d),{},{fill:"none"},$e(o,!1)),g=s.map(function(x,y){var b=r.getTickLineCoord(x),w=r.getTickTextAnchor(x),A=Do(Do(Do({textAnchor:w},d),{},{stroke:"none",fill:c},h),{},{index:y,payload:x,x:b.x2,y:b.y2});return z.createElement(ut,$o({className:Ye("recharts-polar-angle-axis-tick",d8(a)),key:"tick-".concat(x.coordinate)},al(r.props,x,y)),o&&z.createElement("line",$o({className:"recharts-polar-angle-axis-tick-line"},m,b)),a&&e.renderTickItem(a,A,l?l(x.value,y):x.value))});return z.createElement(ut,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:z.createElement(ut,{className:Ye("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return z.isValidElement(r)?a=z.cloneElement(r,i):qe(r)?a=r(i):a=z.createElement(ol,$o({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])})(C.PureComponent);Vy(Wy,"displayName","PolarAngleAxis");Vy(Wy,"axisType","angleAxis");Vy(Wy,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var m_,O$;function USe(){if(O$)return m_;O$=1;var t=R6(),e=t(Object.getPrototypeOf,Object);return m_=e,m_}var g_,M$;function zSe(){if(M$)return g_;M$=1;var t=la(),e=USe(),n=ca(),r="[object Object]",i=Function.prototype,s=Object.prototype,a=i.toString,o=s.hasOwnProperty,l=a.call(Object);function c(d){if(!n(d)||t(d)!=r)return!1;var h=e(d);if(h===null)return!0;var m=o.call(h,"constructor")&&h.constructor;return typeof m=="function"&&m instanceof m&&a.call(m)==l}return g_=c,g_}var VSe=zSe();const WSe=vt(VSe);var v_,D$;function HSe(){if(D$)return v_;D$=1;var t=la(),e=ca(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return v_=r,v_}var qSe=HSe();const GSe=vt(qSe);function sf(t){"@babel/helpers - typeof";return sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}function KSe(t,e){return ZSe(t)||QSe(t,e)||XSe(t,e)||YSe()}function YSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XSe(t,e){if(t){if(typeof t=="string")return R$(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R$(t,e)}}function R$(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function QSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ZSe(t){if(Array.isArray(t))return t}function I$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I$(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return e=e_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e_e(t){var e=t_e(t,"string");return sf(e)=="symbol"?e:e+""}function t_e(t,e){if(sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F$=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},n_e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},r_e=function(e){var n=L$(L$({},n_e),e),r=C.useRef(),i=C.useState(-1),s=KSe(i,2),a=s[0],o=s[1];C.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,h=n.lowerWidth,m=n.height,g=n.className,x=n.animationEasing,y=n.animationDuration,b=n.animationBegin,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||h!==+h||m!==+m||d===0&&h===0||m===0)return null;var A=Ye("recharts-trapezoid",g);return w?z.createElement(As,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:h,height:m,x:l,y:c},duration:y,animationEasing:x,isActive:w},function(_){var E=_.upperWidth,P=_.lowerWidth,T=_.height,k=_.x,O=_.y;return z.createElement(As,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:x},z.createElement("path",mv({},$e(n,!0),{className:A,d:F$(k,O,E,P,T),ref:r})))}):z.createElement("g",null,z.createElement("path",mv({},$e(n,!0),{className:A,d:F$(l,c,d,h,m)})))},i_e=["option","shapeType","propTransformer","activeClassName","isActive"];function af(t){"@babel/helpers - typeof";return af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},af(t)}function s_e(t,e){if(t==null)return{};var n=a_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$$(Object(n),!0).forEach(function(r){o_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o_e(t,e,n){return e=l_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l_e(t){var e=c_e(t,"string");return af(e)=="symbol"?e:e+""}function c_e(t,e){if(af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u_e(t,e){return gv(gv({},e),t)}function d_e(t,e){return t==="symbols"}function B$(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return z.createElement(HT,n);case"trapezoid":return z.createElement(r_e,n);case"sector":return z.createElement(p8,n);case"symbols":if(d_e(e))return z.createElement(uT,n);break;default:return null}}function h_e(t){return C.isValidElement(t)?t.props:t}function P8(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?u_e:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=s_e(t,i_e),c;if(C.isValidElement(e))c=C.cloneElement(e,gv(gv({},l),h_e(e)));else if(qe(e))c=e(l);else if(WSe(e)&&!GSe(e)){var d=i(e,l);c=z.createElement(B$,{shapeType:n,elementProps:d})}else{var h=l;c=z.createElement(B$,{shapeType:n,elementProps:h})}return o?z.createElement(ut,{className:a},c):c}function Hy(t,e){return e!=null&&"trapezoids"in t.props}function qy(t,e){return e!=null&&"sectors"in t.props}function of(t,e){return e!=null&&"points"in t.props}function f_e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function p_e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function m_e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function g_e(t,e){var n;return Hy(t,e)?n=f_e:qy(t,e)?n=p_e:of(t,e)&&(n=m_e),n}function v_e(t,e){var n;return Hy(t,e)?n="trapezoids":qy(t,e)?n="sectors":of(t,e)&&(n="points"),n}function y_e(t,e){if(Hy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(qy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return of(t,e)?e.payload:{}}function b_e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=v_e(n,e),s=y_e(n,e),a=r.filter(function(l,c){var d=Zf(s,l),h=n.props[i].filter(function(x){var y=g_e(n,e);return y(x,e)}),m=n.props[i].indexOf(h[h.length-1]),g=c===m;return d&&g}),o=r.indexOf(a[a.length-1]);return o}var sg;function nu(t){"@babel/helpers - typeof";return nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nu(t)}function pc(){return pc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pc.apply(this,arguments)}function U$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(n),!0).forEach(function(r){Si(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T8(r.key),r)}}function w_e(t,e,n){return e&&z$(t.prototype,e),n&&z$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function S_e(t,e,n){return e=vv(e),__e(t,E8()?Reflect.construct(e,n||[],vv(t).constructor):e.apply(t,n))}function __e(t,e){if(e&&(nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A_e(t)}function A_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E8=function(){return!!t})()}function vv(t){return vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vv(t)}function C_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&UC(t,e)}function UC(t,e){return UC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UC(t,e)}function Si(t,e,n){return e=T8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T8(t){var e=P_e(t,"string");return nu(e)=="symbol"?e:e+""}function P_e(t,e){if(nu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ks=(function(t){function e(n){var r;return x_e(this,e),r=S_e(this,e,[n]),Si(r,"pieRef",null),Si(r,"sectorRefs",[]),Si(r,"id",Nu("recharts-pie-")),Si(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),qe(i)&&i()}),Si(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),qe(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return C_e(e,t),w_e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,d=$e(this.props,!1),h=$e(a,!1),m=$e(o,!1),g=a&&a.offsetRadius||20,x=r.map(function(y,b){var w=(y.startAngle+y.endAngle)/2,A=Mt(y.cx,y.cy,y.outerRadius+g,w),_=Nt(Nt(Nt(Nt({},d),y),{},{stroke:"none"},h),{},{index:b,textAnchor:e.getTextAnchor(A.x,y.cx)},A),E=Nt(Nt(Nt(Nt({},d),y),{},{fill:"none",stroke:y.fill},m),{},{index:b,points:[Mt(y.cx,y.cy,y.outerRadius,w),A]}),P=l;return Xe(l)&&Xe(c)?P="value":Xe(l)&&(P=c),z.createElement(ut,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},o&&e.renderLabelLineItem(o,E,"line"),e.renderLabelItem(a,_,Tn(y,P)))});return z.createElement(ut,{className:"recharts-pie-labels"},x)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if(c?.startAngle===0&&c?.endAngle===0&&r.length!==1)return null;var h=i.isActiveIndex(d),m=l&&i.hasActiveIndex()?l:null,g=h?a:m,x=Nt(Nt({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return z.createElement(ut,pc({ref:function(b){b&&!i.sectorRefs.includes(b)&&i.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},al(i.props,c,d),{key:"sector-".concat(c?.startAngle,"-").concat(c?.endAngle,"-").concat(c.midAngle,"-").concat(d)}),z.createElement(P8,pc({option:g,isActive:h,shapeType:"sector"},x)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,h=this.state,m=h.prevSectors,g=h.prevIsAnimationActive;return z.createElement(As,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(x){var y=x.t,b=[],w=s&&s[0],A=w.startAngle;return s.forEach(function(_,E){var P=m&&m[E],T=E>0?ni(_,"paddingAngle",0):0;if(P){var k=Zr(P.endAngle-P.startAngle,_.endAngle-_.startAngle),O=Nt(Nt({},_),{},{startAngle:A+T,endAngle:A+k(y)+T});b.push(O),A=O.endAngle}else{var R=_.endAngle,F=_.startAngle,M=Zr(0,R-F),D=M(y),$=Nt(Nt({},_),{},{startAngle:A+T,endAngle:A+D+T});b.push($),A=$.endAngle}}),z.createElement(ut,null,r.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!Zf(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,d=i.cy,h=i.innerRadius,m=i.outerRadius,g=i.isAnimationActive,x=this.state.isAnimationFinished;if(s||!a||!a.length||!ve(c)||!ve(d)||!ve(h)||!ve(m))return null;var y=Ye("recharts-pie",o);return z.createElement(ut,{tabIndex:this.props.rootTabIndex,className:y,ref:function(w){r.pieRef=w}},this.renderSectors(),l&&this.renderLabels(a),Fn.renderCallByParent(this.props,null,!1),(!g||x)&&Zs.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);if(qe(r))return r(i);var a=Ye("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return z.createElement(lv,pc({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(z.isValidElement(r))return z.cloneElement(r,i);var a=s;if(qe(r)&&(a=r(i),z.isValidElement(a)))return a;var o=Ye("recharts-pie-label-text",typeof r!="boolean"&&!qe(r)?r.className:"");return z.createElement(ol,pc({},i,{alignmentBaseline:"middle",className:o}),a)}}])})(C.PureComponent);sg=ks;Si(ks,"displayName","Pie");Si(ks,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ml.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Si(ks,"parseDeltaAngle",function(t,e){var n=xr(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Si(ks,"getRealPieData",function(t){var e=t.data,n=t.children,r=$e(t,!1),i=ri(n,Kc);return e&&e.length?e.map(function(s,a){return Nt(Nt(Nt({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Nt(Nt({},r),s.props)}):[]});Si(ks,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=u8(i,s),o=r+wr(t.cx,i,i/2),l=n+wr(t.cy,s,s/2),c=wr(t.innerRadius,a,0),d=wr(t.outerRadius,a,a*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:d,maxRadius:h}});Si(ks,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Nt(Nt({},e.type.defaultProps),e.props):e.props,i=sg.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,h=r.valueKey,m=r.tooltipType,g=Math.abs(r.minAngle),x=sg.parseCoordinateOfPie(r,n),y=sg.parseDeltaAngle(a,o),b=Math.abs(y),w=c;Xe(c)&&Xe(h)?(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w="value"):Xe(c)&&(Yi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),w=h);var A=i.filter(function(O){return Tn(O,w,0)!==0}).length,_=(b>=360?A:A-1)*l,E=b-A*g-_,P=i.reduce(function(O,R){var F=Tn(R,w,0);return O+(ve(F)?F:0)},0),T;if(P>0){var k;T=i.map(function(O,R){var F=Tn(O,w,0),M=Tn(O,d,R),D=(ve(F)?F:0)/P,$;R?$=k.endAngle+xr(y)*l*(F!==0?1:0):$=a;var W=$+xr(y)*((F!==0?g:0)+D*E),H=($+W)/2,V=(x.innerRadius+x.outerRadius)/2,U=[{name:M,value:F,payload:O,dataKey:w,type:m}],L=Mt(x.cx,x.cy,V,H);return k=Nt(Nt(Nt({percent:D,cornerRadius:s,name:M,tooltipPayload:U,midAngle:H,middleRadius:V,tooltipPosition:L},O),x),{},{value:Tn(O,w),startAngle:$,endAngle:W,payload:O,paddingAngle:xr(y)*l}),k})}return Nt(Nt({},x),{},{sectors:T,data:i})});var y_,V$;function E_e(){if(V$)return y_;V$=1;var t=Math.ceil,e=Math.max;function n(r,i,s,a){for(var o=-1,l=e(t((i-r)/(s||1)),0),c=Array(l);l--;)c[a?l:++o]=r,r+=s;return c}return y_=n,y_}var b_,W$;function j8(){if(W$)return b_;W$=1;var t=Q6(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*n}return i===i?i:0}return b_=r,b_}var x_,H$;function T_e(){if(H$)return x_;H$=1;var t=E_e(),e=Ty(),n=j8();function r(i){return function(s,a,o){return o&&typeof o!="number"&&e(s,a,o)&&(a=o=void 0),s=n(s),a===void 0?(a=s,s=0):a=n(a),o=o===void 0?s<a?1:-1:n(o),t(s,a,o,i)}}return x_=r,x_}var w_,q$;function j_e(){if(q$)return w_;q$=1;var t=T_e(),e=t();return w_=e,w_}var k_e=j_e();const yv=vt(k_e);function lf(t){"@babel/helpers - typeof";return lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lf(t)}function G$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K$(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(n),!0).forEach(function(r){k8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k8(t,e,n){return e=N_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N_e(t){var e=O_e(t,"string");return lf(e)=="symbol"?e:e+""}function O_e(t,e){if(lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var M_e=["Webkit","Moz","O","ms"],D_e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=M_e.reduce(function(s,a){return K$(K$({},s),{},k8({},a+r,n))},{});return i[e]=n,i};function ru(t){"@babel/helpers - typeof";return ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ru(t)}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bv.apply(this,arguments)}function Y$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y$(Object(n),!0).forEach(function(r){Gr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X$(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O8(r.key),r)}}function I_e(t,e,n){return e&&X$(t.prototype,e),n&&X$(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function L_e(t,e,n){return e=xv(e),F_e(t,N8()?Reflect.construct(e,n||[],xv(t).constructor):e.apply(t,n))}function F_e(t,e){if(e&&(ru(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $_e(t)}function $_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N8=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function B_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zC(t,e)}function Gr(t,e,n){return e=O8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O8(t){var e=U_e(t,"string");return ru(e)=="symbol"?e:e+""}function U_e(t,e){if(ru(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var z_e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=sh().domain(yv(0,l)).range([s,s+a-o]),d=c.domain().map(function(h){return c(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},Q$=function(e){return e.changedTouches&&!!e.changedTouches.length},iu=(function(t){function e(n){var r;return R_e(this,e),r=L_e(this,e,[n]),Gr(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Gr(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Gr(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a?.({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Gr(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Gr(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Gr(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Gr(r,"handleSlideDragStart",function(i){var s=Q$(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return B_e(e,t),I_e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,d=c.length-1,h=Math.min(i,s),m=Math.max(i,s),g=e.getIndexInRange(a,h),x=e.getIndexInRange(a,m);return{startIndex:g-g%l,endIndex:x===d?d:x-x%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Tn(s[r],o,r);return qe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,d=l.width,h=l.travellerWidth,m=l.startIndex,g=l.endIndex,x=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+d-h-o,c+d-h-a):y<0&&(y=Math.max(y,c-a,c-o));var b=this.getIndex({startX:a+y,endX:o+y});(b.startIndex!==m||b.endIndex!==g)&&x&&x(b),this.setState({startX:a+y,endX:o+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=Q$(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],d=this.props,h=d.x,m=d.width,g=d.travellerWidth,x=d.onChange,y=d.gap,b=d.data,w={startX:this.state.startX,endX:this.state.endX},A=r.pageX-s;A>0?A=Math.min(A,h+m-g-c):A<0&&(A=Math.max(A,h-c)),w[a]=c+A;var _=this.getIndex(w),E=_.startIndex,P=_.endIndex,T=function(){var O=b.length-1;return a==="startX"&&(o>l?E%y===0:P%y===0)||o<l&&P===O||a==="endX"&&(o>l?P%y===0:E%y===0)||o>l&&P===O};this.setState(Gr(Gr({},a,c+A),"brushMoveStartX",r.pageX),function(){x&&T()&&x(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,d=this.state[i],h=o.indexOf(d);if(h!==-1){var m=h+r;if(!(m===-1||m>=o.length)){var g=o[m];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Gr({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return z.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,d=r.padding,h=C.Children.only(c);return h?z.cloneElement(h,{x:i,y:s,width:a,height:o,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,d=l.travellerWidth,h=l.height,m=l.traveller,g=l.ariaLabel,x=l.data,y=l.startIndex,b=l.endIndex,w=Math.max(r,this.props.x),A=S_(S_({},$e(this.props,!1)),{},{x:w,y:c,width:d,height:h}),_=g||"Min value: ".concat((s=x[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=x[b])===null||a===void 0?void 0:a.name);return z.createElement(ut,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(m,A))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,h=Math.max(Math.abs(i-r)-c,0);return z.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:a,width:h,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,h=d.startX,m=d.endX,g=5,x={pointerEvents:"none",fill:c};return z.createElement(ut,{className:"recharts-brush-texts"},z.createElement(ol,bv({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,m)-g,y:a+o/2},x),this.getTextOfTick(i)),z.createElement(ol,bv({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,m)+l+g,y:a+o/2},x),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,d=r.height,h=r.alwaysShowText,m=this.state,g=m.startX,x=m.endX,y=m.isTextActive,b=m.isSlideMoving,w=m.isTravellerMoving,A=m.isTravellerFocused;if(!i||!i.length||!ve(o)||!ve(l)||!ve(c)||!ve(d)||c<=0||d<=0)return null;var _=Ye("recharts-brush",s),E=z.Children.count(a)===1,P=D_e("userSelect","none");return z.createElement(ut,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,x),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(x,"endX"),(y||b||w||A||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return z.createElement(z.Fragment,null,z.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),z.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),z.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return z.isValidElement(r)?s=z.cloneElement(r,i):qe(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,h=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return S_({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?z_e({data:s,width:a,x:o,travellerWidth:l,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var m=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:m}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])})(C.PureComponent);Gr(iu,"displayName","Brush");Gr(iu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var __,Z$;function V_e(){if(Z$)return __;Z$=1;var t=vT();function e(n,r){var i;return t(n,function(s,a,o){return i=r(s,a,o),!i}),!!i}return __=e,__}var A_,J$;function W_e(){if(J$)return A_;J$=1;var t=T6(),e=js(),n=V_e(),r=$r(),i=Ty();function s(a,o,l){var c=r(a)?t:n;return l&&i(a,o,l)&&(o=void 0),c(a,e(o,3))}return A_=s,A_}var H_e=W_e();const q_e=vt(H_e);var bs=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},C_,eB;function G_e(){if(eB)return C_;eB=1;var t=q6();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return C_=e,C_}var P_,tB;function K_e(){if(tB)return P_;tB=1;var t=G_e(),e=W6(),n=js();function r(i,s){var a={};return s=n(s,3),e(i,function(o,l,c){t(a,l,s(o,l,c))}),a}return P_=r,P_}var Y_e=K_e();const X_e=vt(Y_e);var E_,nB;function Q_e(){if(nB)return E_;nB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return E_=t,E_}var T_,rB;function Z_e(){if(rB)return T_;rB=1;var t=vT();function e(n,r){var i=!0;return t(n,function(s,a,o){return i=!!r(s,a,o),i}),i}return T_=e,T_}var j_,iB;function J_e(){if(iB)return j_;iB=1;var t=Q_e(),e=Z_e(),n=js(),r=$r(),i=Ty();function s(a,o,l){var c=r(a)?t:e;return l&&i(a,o,l)&&(o=void 0),c(a,n(o,3))}return j_=s,j_}var eAe=J_e();const M8=vt(eAe);var tAe=["x","y"];function cf(t){"@babel/helpers - typeof";return cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cf(t)}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function sB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(n),!0).forEach(function(r){nAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nAe(t,e,n){return e=rAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rAe(t){var e=iAe(t,"string");return cf(e)=="symbol"?e:e+""}function iAe(t,e){if(cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sAe(t,e){if(t==null)return{};var n=aAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oAe(t,e){var n=t.x,r=t.y,i=sAe(t,tAe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),d=parseInt(c,10),h="".concat(e.width||i.width),m=parseInt(h,10);return Ud(Ud(Ud(Ud(Ud({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:d,width:m,name:e.name,radius:e.radius})}function aB(t){return z.createElement(P8,VC({shapeType:"rectangle",propTransformer:oAe,activeClassName:"recharts-active-bar"},t))}var lAe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=ve(r)||Nhe(r);return s?e(r,i):(s||cl(),n)}},cAe=["value","background"],D8;function su(t){"@babel/helpers - typeof";return su=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},su(t)}function uAe(t,e){if(t==null)return{};var n=dAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wv(){return wv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wv.apply(this,arguments)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){Wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I8(r.key),r)}}function fAe(t,e,n){return e&&lB(t.prototype,e),n&&lB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function pAe(t,e,n){return e=Sv(e),mAe(t,R8()?Reflect.construct(e,n||[],Sv(t).constructor):e.apply(t,n))}function mAe(t,e){if(e&&(su(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gAe(t)}function gAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R8=function(){return!!t})()}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(t)}function vAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function Wa(t,e,n){return e=I8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I8(t){var e=yAe(t,"string");return su(e)=="symbol"?e:e+""}function yAe(t,e){if(su(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(su(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var oa=(function(t){function e(){var n;hAe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=pAe(this,e,[].concat(i)),Wa(n,"state",{isAnimationFinished:!1}),Wa(n,"id",Nu("recharts-bar-")),Wa(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Wa(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return vAe(e,t),fAe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,d=$e(this.props,!1);return r&&r.map(function(h,m){var g=m===l,x=g?c:a,y=pn(pn(pn({},d),h),{},{isActive:g,option:x,index:m,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return z.createElement(ut,wv({className:"recharts-bar-rectangle"},al(i.props,h,m),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(m)}),z.createElement(aB,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,h=i.animationId,m=this.state.prevData;return z.createElement(As,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var x=g.t,y=s.map(function(b,w){var A=m&&m[w];if(A){var _=Zr(A.x,b.x),E=Zr(A.y,b.y),P=Zr(A.width,b.width),T=Zr(A.height,b.height);return pn(pn({},b),{},{x:_(x),y:E(x),width:P(x),height:T(x)})}if(a==="horizontal"){var k=Zr(0,b.height),O=k(x);return pn(pn({},b),{},{y:b.y+b.height-O,height:O})}var R=Zr(0,b.width),F=R(x);return pn(pn({},b),{},{width:F})});return z.createElement(ut,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Zf(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=$e(this.props.background,!1);return s.map(function(c,d){c.value;var h=c.background,m=uAe(c,cAe);if(!h)return null;var g=pn(pn(pn(pn(pn({},m),{},{fill:"#eee"},h),l),al(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:d,className:"recharts-bar-background-rectangle"});return z.createElement(aB,wv({key:"background-bar-".concat(d),option:r.props.background,isActive:d===o},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=ri(d,Jf);if(!h)return null;var m=c==="vertical"?a[0].height/2:a[0].width/2,g=function(b,w){var A=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:A,errorVal:Tn(b,w)}},x={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(ut,x,h.map(function(y){return z.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:m,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,d=r.top,h=r.width,m=r.height,g=r.isAnimationActive,x=r.background,y=r.id;if(i||!s||!s.length)return null;var b=this.state.isAnimationFinished,w=Ye("recharts-bar",a),A=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,E=A||_,P=Xe(y)?this.id:y;return z.createElement(ut,{className:w},A||_?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(P)},z.createElement("rect",{x:A?c:c-h/2,y:_?d:d-m/2,width:A?h:h*2,height:_?m:m*2}))):null,z.createElement(ut,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(P,")"):null},x?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,P),(!g||b)&&Zs.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])})(C.PureComponent);D8=oa;Wa(oa,"displayName","Bar");Wa(oa,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ml.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Wa(oa,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,h=t.displayedData,m=t.offset,g=qxe(r,n);if(!g)return null;var x=e.layout,y=n.type.defaultProps,b=y!==void 0?pn(pn({},y),n.props):n.props,w=b.dataKey,A=b.children,_=b.minPointSize,E=x==="horizontal"?a:s,P=c?E.scale.domain():null,T=Jxe({numericAxis:E}),k=ri(A,Kc),O=h.map(function(R,F){var M,D,$,W,H,V;c?M=Gxe(c[d+F],P):(M=Tn(R,w),Array.isArray(M)||(M=[T,M]));var U=lAe(_,D8.defaultProps.minPointSize)(M[1],F);if(x==="horizontal"){var L,G=[a.scale(M[0]),a.scale(M[1])],Q=G[0],B=G[1];D=MF({axis:s,ticks:o,bandSize:i,offset:g.offset,entry:R,index:F}),$=(L=B??Q)!==null&&L!==void 0?L:void 0,W=g.size;var K=Q-B;if(H=Number.isNaN(K)?0:K,V={x:D,y:a.y,width:W,height:a.height},Math.abs(U)>0&&Math.abs(H)<Math.abs(U)){var Z=xr(H||U)*(Math.abs(U)-Math.abs(H));$-=Z,H+=Z}}else{var ae=[s.scale(M[0]),s.scale(M[1])],ce=ae[0],pe=ae[1];if(D=ce,$=MF({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:R,index:F}),W=pe-ce,H=g.size,V={x:s.x,y:$,width:s.width,height:H},Math.abs(U)>0&&Math.abs(W)<Math.abs(U)){var ie=xr(W||U)*(Math.abs(U)-Math.abs(W));W+=ie}}return pn(pn(pn({},R),{},{x:D,y:$,width:W,height:H,value:c?M:M[1],payload:R,background:V},k&&k[F]&&k[F].props),{},{tooltipPayload:[l8(n,R)],tooltipPosition:{x:D+W/2,y:$+H/2}})});return pn({data:O,layout:x},m)});function uf(t){"@babel/helpers - typeof";return uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uf(t)}function bAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,L8(r.key),r)}}function xAe(t,e,n){return e&&cB(t.prototype,e),n&&cB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uB(Object(n),!0).forEach(function(r){Gy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gy(t,e,n){return e=L8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function L8(t){var e=wAe(t,"string");return uf(e)=="symbol"?e:e+""}function wAe(t,e){if(uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var F8=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,d=Object.keys(n),h={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},m=!!Yr(c,oa);return d.reduce(function(g,x){var y=n[x],b=y.orientation,w=y.domain,A=y.padding,_=A===void 0?{}:A,E=y.mirror,P=y.reversed,T="".concat(b).concat(E?"Mirror":""),k,O,R,F,M;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=w[1]-w[0],$=1/0,W=y.categoricalDomain.sort(Dhe);if(W.forEach(function(ae,ce){ce>0&&($=Math.min((ae||0)-(W[ce-1]||0),$))}),Number.isFinite($)){var H=$/D,V=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(k=H*V/2),y.padding==="no-gap"){var U=wr(e.barCategoryGap,H*V),L=H*V/2;k=L-U-(L-U)/V*U}}}i==="xAxis"?O=[r.left+(_.left||0)+(k||0),r.left+r.width-(_.right||0)-(k||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(k||0),r.top+r.height-(_.bottom||0)-(k||0)]:O=y.range,P&&(O=[O[1],O[0]]);var G=i8(y,s,m),Q=G.scale,B=G.realScaleType;Q.domain(w).range(O),s8(Q);var K=a8(Q,Wi(Wi({},y),{},{realScaleType:B}));i==="xAxis"?(M=b==="top"&&!E||b==="bottom"&&E,R=r.left,F=h[T]-M*y.height):i==="yAxis"&&(M=b==="left"&&!E||b==="right"&&E,R=h[T]-M*y.width,F=r.top);var Z=Wi(Wi(Wi({},y),K),{},{realScaleType:B,x:R,y:F,scale:Q,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Z.bandSize=sv(Z,K),!y.hide&&i==="xAxis"?h[T]+=(M?-1:1)*Z.height:y.hide||(h[T]+=(M?-1:1)*Z.width),Wi(Wi({},g),{},Gy({},x,Z))},{})},$8=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},SAe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return $8({x:n,y:r},{x:i,y:s})},B8=(function(){function t(e){bAe(this,t),this.scale=e}return xAe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])})();Gy(B8,"EPS",1e-4);var qT=function(e){var n=Object.keys(e).reduce(function(r,i){return Wi(Wi({},r),{},Gy({},i,B8.create(e[i])))},{});return Wi(Wi({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return X_e(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return M8(i,function(s,a){return n[a].isInRange(s)})}})};function _Ae(t){return(t%180+180)%180}var AAe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_Ae(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},k_,dB;function CAe(){if(dB)return k_;dB=1;var t=js(),e=Gf(),n=Py();function r(i){return function(s,a,o){var l=Object(s);if(!e(s)){var c=t(a,3);s=n(s),a=function(h){return c(l[h],h,l)}}var d=i(s,a,o);return d>-1?l[c?s[d]:d]:void 0}}return k_=r,k_}var N_,hB;function PAe(){if(hB)return N_;hB=1;var t=j8();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return N_=e,N_}var O_,fB;function EAe(){if(fB)return O_;fB=1;var t=$6(),e=js(),n=PAe(),r=Math.max;function i(s,a,o){var l=s==null?0:s.length;if(!l)return-1;var c=o==null?0:n(o);return c<0&&(c=r(l+c,0)),t(s,e(a,3),c)}return O_=i,O_}var M_,pB;function TAe(){if(pB)return M_;pB=1;var t=CAe(),e=EAe(),n=t(e);return M_=n,M_}var jAe=TAe();const kAe=vt(jAe);var NAe=t6();const OAe=vt(NAe);var MAe=OAe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GT=C.createContext(void 0),KT=C.createContext(void 0),U8=C.createContext(void 0),z8=C.createContext({}),V8=C.createContext(void 0),W8=C.createContext(0),H8=C.createContext(0),mB=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,d=MAe(s);return z.createElement(GT.Provider,{value:r},z.createElement(KT.Provider,{value:i},z.createElement(z8.Provider,{value:s},z.createElement(U8.Provider,{value:d},z.createElement(V8.Provider,{value:a},z.createElement(W8.Provider,{value:c},z.createElement(H8.Provider,{value:l},o)))))))},DAe=function(){return C.useContext(V8)},q8=function(e){var n=C.useContext(GT);n==null&&cl();var r=n[e];return r==null&&cl(),r},RAe=function(){var e=C.useContext(GT);return za(e)},IAe=function(){var e=C.useContext(KT),n=kAe(e,function(r){return M8(r.domain,Number.isFinite)});return n||za(e)},G8=function(e){var n=C.useContext(KT);n==null&&cl();var r=n[e];return r==null&&cl(),r},LAe=function(){var e=C.useContext(U8);return e},FAe=function(){return C.useContext(z8)},YT=function(){return C.useContext(H8)},XT=function(){return C.useContext(W8)};function au(t){"@babel/helpers - typeof";return au=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},au(t)}function $Ae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y8(r.key),r)}}function UAe(t,e,n){return e&&BAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zAe(t,e,n){return e=_v(e),VAe(t,K8()?Reflect.construct(e,n||[],_v(t).constructor):e.apply(t,n))}function VAe(t,e){if(e&&(au(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WAe(t)}function WAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K8=function(){return!!t})()}function _v(t){return _v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_v(t)}function HAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HC(t,e)}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){QT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QT(t,e,n){return e=Y8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y8(t){var e=qAe(t,"string");return au(e)=="symbol"?e:e+""}function qAe(t,e){if(au(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(au(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GAe(t,e){return QAe(t)||XAe(t,e)||YAe(t,e)||KAe()}function KAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YAe(t,e){if(t){if(typeof t=="string")return yB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yB(t,e)}}function yB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function QAe(t){if(Array.isArray(t))return t}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}var ZAe=function(e,n){var r;return z.isValidElement(e)?r=z.cloneElement(e,n):qe(e)?r=e(n):r=z.createElement("line",qC({},n,{className:"recharts-reference-line-line"})),r},JAe=function(e,n,r,i,s,a,o,l,c){var d=s.x,h=s.y,m=s.width,g=s.height;if(r){var x=c.y,y=e.y.apply(x,{position:a});if(bs(c,"discard")&&!e.y.isInRange(y))return null;var b=[{x:d+m,y},{x:d,y}];return l==="left"?b.reverse():b}if(n){var w=c.x,A=e.x.apply(w,{position:a});if(bs(c,"discard")&&!e.x.isInRange(A))return null;var _=[{x:A,y:h+g},{x:A,y:h}];return o==="top"?_.reverse():_}if(i){var E=c.segment,P=E.map(function(T){return e.apply(T,{position:a})});return bs(c,"discard")&&q_e(P,function(T){return!e.isInRange(T)})?null:P}return null};function eCe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=DAe(),d=q8(i),h=G8(s),m=LAe();if(!c||!m)return null;Yi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=qT({x:d.scale,y:h.scale}),x=jn(e),y=jn(n),b=r&&r.length===2,w=JAe(g,x,y,b,m,t.position,d.orientation,h.orientation,t);if(!w)return null;var A=GAe(w,2),_=A[0],E=_.x,P=_.y,T=A[1],k=T.x,O=T.y,R=bs(t,"hidden")?"url(#".concat(c,")"):void 0,F=vB(vB({clipPath:R},$e(t,!0)),{},{x1:E,y1:P,x2:k,y2:O});return z.createElement(ut,{className:Ye("recharts-reference-line",o)},ZAe(a,F),Fn.renderCallByParent(t,SAe({x1:E,y1:P,x2:k,y2:O})))}var ZT=(function(t){function e(){return $Ae(this,e),zAe(this,e,arguments)}return HAe(e,t),UAe(e,[{key:"render",value:function(){return z.createElement(eCe,this.props)}}])})(z.Component);QT(ZT,"displayName","ReferenceLine");QT(ZT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(this,arguments)}function ou(t){"@babel/helpers - typeof";return ou=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ou(t)}function bB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bB(Object(n),!0).forEach(function(r){Ky(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q8(r.key),r)}}function rCe(t,e,n){return e&&nCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iCe(t,e,n){return e=Av(e),sCe(t,X8()?Reflect.construct(e,n||[],Av(t).constructor):e.apply(t,n))}function sCe(t,e){if(e&&(ou(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aCe(t)}function aCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X8=function(){return!!t})()}function Av(t){return Av=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Av(t)}function oCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KC(t,e)}function Ky(t,e,n){return e=Q8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q8(t){var e=lCe(t,"string");return ou(e)=="symbol"?e:e+""}function lCe(t,e){if(ou(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ou(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cCe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=qT({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return bs(e,"discard")&&!a.isInRange(o)?null:o},Yy=(function(t){function e(){return tCe(this,e),iCe(this,e,arguments)}return oCe(e,t),rCe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=jn(i),d=jn(s);if(Yi(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var h=cCe(this.props);if(!h)return null;var m=h.x,g=h.y,x=this.props,y=x.shape,b=x.className,w=bs(this.props,"hidden")?"url(#".concat(l,")"):void 0,A=xB(xB({clipPath:w},$e(this.props,!0)),{},{cx:m,cy:g});return z.createElement(ut,{className:Ye("recharts-reference-dot",b)},e.renderDot(y,A),Fn.renderCallByParent(this.props,{x:m-a,y:g-a,width:2*a,height:2*a}))}}])})(z.Component);Ky(Yy,"displayName","ReferenceDot");Ky(Yy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ky(Yy,"renderDot",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(By,GC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}function lu(t){"@babel/helpers - typeof";return lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(t)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function SB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){Xy(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dCe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,J8(r.key),r)}}function hCe(t,e,n){return e&&dCe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fCe(t,e,n){return e=Cv(e),pCe(t,Z8()?Reflect.construct(e,n||[],Cv(t).constructor):e.apply(t,n))}function pCe(t,e){if(e&&(lu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mCe(t)}function mCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Z8=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function gCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XC(t,e)}function XC(t,e){return XC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XC(t,e)}function Xy(t,e,n){return e=J8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J8(t){var e=vCe(t,"string");return lu(e)=="symbol"?e:e+""}function vCe(t,e){if(lu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var yCe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var m=qT({x:d.scale,y:h.scale}),g={x:e?m.x.apply(a,{position:"start"}):m.x.rangeMin,y:r?m.y.apply(l,{position:"start"}):m.y.rangeMin},x={x:n?m.x.apply(o,{position:"end"}):m.x.rangeMax,y:i?m.y.apply(c,{position:"end"}):m.y.rangeMax};return bs(s,"discard")&&(!m.isInRange(g)||!m.isInRange(x))?null:$8(g,x)},Qy=(function(t){function e(){return uCe(this,e),fCe(this,e,arguments)}return gCe(e,t),hCe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Yi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=jn(i),m=jn(s),g=jn(a),x=jn(o),y=this.props.shape;if(!h&&!m&&!g&&!x&&!y)return null;var b=yCe(h,m,g,x,this.props);if(!b&&!y)return null;var w=bs(this.props,"hidden")?"url(#".concat(d,")"):void 0;return z.createElement(ut,{className:Ye("recharts-reference-area",l)},e.renderRect(y,SB(SB({clipPath:w},$e(this.props,!0)),b)),Fn.renderCallByParent(this.props,b))}}])})(z.Component);Xy(Qy,"displayName","ReferenceArea");Xy(Qy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Xy(Qy,"renderRect",function(t,e){var n;return z.isValidElement(t)?n=z.cloneElement(t,e):qe(t)?n=t(e):n=z.createElement(HT,YC({},e,{className:"recharts-reference-area-rect"})),n});function eH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function bCe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return AAe(r,n)}function xCe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Pv(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function wCe(t,e){return eH(t,e+1)}function SCe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,d=a,h=function(){var x=r?.[l];if(x===void 0)return{v:eH(r,c)};var y=l,b,w=function(){return b===void 0&&(b=n(x,y)),b},A=x.coordinate,_=l===0||Pv(t,A,w,d,o);_||(l=0,d=a,c+=1),_&&(d=A+t*(w()/2+i),l+=c)},m;c<=s.length;)if(m=h(),m)return m.v;return[]}function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function _B(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(n),!0).forEach(function(r){_Ce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_B(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Ce(t,e,n){return e=ACe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ACe(t){var e=CCe(t,"string");return df(e)=="symbol"?e:e+""}function CCe(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PCe(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(m){var g=s[m],x,y=function(){return x===void 0&&(x=n(g,m)),x};if(m===a-1){var b=t*(g.coordinate+t*y()/2-l);s[m]=g=cr(cr({},g),{},{tickCoord:b>0?g.coordinate-b*t:g.coordinate})}else s[m]=g=cr(cr({},g),{},{tickCoord:g.coordinate});var w=Pv(t,g.tickCoord,y,o,l);w&&(l=g.tickCoord-t*(y()/2+i),s[m]=cr(cr({},g),{},{isShow:!0}))},d=a-1;d>=0;d--)c(d);return s}function ECe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var d=r[o-1],h=n(d,o-1),m=t*(d.coordinate+t*h/2-c);a[o-1]=d=cr(cr({},d),{},{tickCoord:m>0?d.coordinate-m*t:d.coordinate});var g=Pv(t,d.tickCoord,function(){return h},l,c);g&&(c=d.tickCoord-t*(h/2+i),a[o-1]=cr(cr({},d),{},{isShow:!0}))}for(var x=s?o-1:o,y=function(A){var _=a[A],E,P=function(){return E===void 0&&(E=n(_,A)),E};if(A===0){var T=t*(_.coordinate-t*P()/2-l);a[A]=_=cr(cr({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else a[A]=_=cr(cr({},_),{},{tickCoord:_.coordinate});var k=Pv(t,_.tickCoord,P,l,c);k&&(l=_.tickCoord+t*(P()/2+i),a[A]=cr(cr({},_),{},{isShow:!0}))},b=0;b<x;b++)y(b);return a}function JT(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!r)return[];if(ve(l)||ml.isSsr)return wCe(i,typeof l=="number"&&ve(l)?l:0);var m=[],g=o==="top"||o==="bottom"?"width":"height",x=d&&g==="width"?ih(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,E){var P=qe(c)?c(_.value,E):_.value;return g==="width"?bCe(ih(P,{fontSize:e,letterSpacing:n}),x,h):ih(P,{fontSize:e,letterSpacing:n})[g]},b=i.length>=2?xr(i[1].coordinate-i[0].coordinate):1,w=xCe(s,b,g);return l==="equidistantPreserveStart"?SCe(b,w,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?m=ECe(b,w,y,i,a,l==="preserveStartEnd"):m=PCe(b,w,y,i,a),m.filter(function(A){return A.isShow}))}var TCe=["viewBox"],jCe=["viewBox"],kCe=["ticks"];function cu(t){"@babel/helpers - typeof";return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cu(t)}function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function AB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AB(Object(n),!0).forEach(function(r){ej(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function D_(t,e){if(t==null)return{};var n=NCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nH(r.key),r)}}function MCe(t,e,n){return e&&CB(t.prototype,e),n&&CB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,n){return e=Ev(e),RCe(t,tH()?Reflect.construct(e,n||[],Ev(t).constructor):e.apply(t,n))}function RCe(t,e){if(e&&(cu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ICe(t)}function ICe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function LCe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QC(t,e)}function ej(t,e,n){return e=nH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nH(t){var e=FCe(t,"string");return cu(e)=="symbol"?e:e+""}function FCe(t,e){if(cu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Iu=(function(t){function e(n){var r;return OCe(this,e),r=DCe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return LCe(e,t),MCe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=D_(r,TCe),o=this.props,l=o.viewBox,c=D_(o,jCe);return!Cc(s,l)||!Cc(a,c)||!Cc(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,d=i.tickSize,h=i.mirror,m=i.tickMargin,g,x,y,b,w,A,_=h?-1:1,E=r.tickSize||d,P=ve(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=x=r.coordinate,b=a+ +!h*l,y=b-_*E,A=y-_*m,w=P;break;case"left":y=b=r.coordinate,x=s+ +!h*o,g=x-_*E,w=g-_*m,A=P;break;case"right":y=b=r.coordinate,x=s+ +h*o,g=x+_*E,w=g+_*m,A=P;break;default:g=x=r.coordinate,b=a+ +h*l,y=b+_*E,A=y+_*m,w=P;break}return{line:{x1:g,y1:y,x2:x,y2:b},tick:{x:w,y:A}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,h=Pn(Pn(Pn({},$e(this.props,!1)),$e(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);h=Pn(Pn({},h),{},{x1:i,y1:s+m*o,x2:i+a,y2:s+m*o})}else{var g=+(l==="left"&&!c||l==="right"&&c);h=Pn(Pn({},h),{},{x1:i+g*a,y1:s,x2:i+g*a,y2:s+o})}return z.createElement("line",mc({},h,{className:Ye("recharts-cartesian-axis-line",ni(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,d=o.tick,h=o.tickFormatter,m=o.unit,g=JT(Pn(Pn({},this.props),{},{ticks:r}),i,s),x=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=$e(this.props,!1),w=$e(d,!1),A=Pn(Pn({},b),{},{fill:"none"},$e(l,!1)),_=g.map(function(E,P){var T=a.getTickLineCoord(E),k=T.line,O=T.tick,R=Pn(Pn(Pn(Pn({textAnchor:x,verticalAnchor:y},b),{},{stroke:"none",fill:c},w),O),{},{index:P,payload:E,visibleTicksCount:g.length,tickFormatter:h});return z.createElement(ut,mc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},al(a.props,E,P)),l&&z.createElement("line",mc({},A,k,{className:Ye("recharts-cartesian-axis-tick-line",ni(l,"className"))})),d&&e.renderTickItem(d,R,"".concat(qe(h)?h(E.value,P):E.value).concat(m||"")))});return z.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var h=this.props,m=h.ticks,g=D_(h,kCe),x=m;return qe(l)&&(x=m&&m.length>0?l(this.props):l(g)),a<=0||o<=0||!x||!x.length?null:z.createElement(ut,{className:Ye("recharts-cartesian-axis",c),ref:function(b){r.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(x,this.state.fontSize,this.state.letterSpacing),Fn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=Ye(i.className,"recharts-cartesian-axis-tick-value");return z.isValidElement(r)?a=z.cloneElement(r,Pn(Pn({},i),{},{className:o})):qe(r)?a=r(Pn(Pn({},i),{},{className:o})):a=z.createElement(ol,mc({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])})(C.Component);ej(Iu,"displayName","CartesianAxis");ej(Iu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var $Ce=["x1","y1","x2","y2","key"],BCe=["offset"];function ul(t){"@babel/helpers - typeof";return ul=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ul(t)}function PB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PB(Object(n),!0).forEach(function(r){UCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UCe(t,e,n){return e=zCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zCe(t){var e=VCe(t,"string");return ul(e)=="symbol"?e:e+""}function VCe(t,e){if(ul(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ul(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qo(){return qo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qo.apply(this,arguments)}function EB(t,e){if(t==null)return{};var n=WCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HCe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return z.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function rH(t,e){var n;if(z.isValidElement(t))n=z.cloneElement(t,e);else if(qe(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=EB(e,$Ce),c=$e(l,!1);c.offset;var d=EB(c,BCe);n=z.createElement("line",qo({},d,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function qCe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=ur(ur({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return rH(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function GCe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=ur(ur({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return rH(i,c)});return z.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function KCe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=o.map(function(m){return Math.round(m+i-i)}).sort(function(m,g){return m-g});i!==d[0]&&d.unshift(0);var h=d.map(function(m,g){var x=!d[g+1],y=x?i+a-m:d[g+1]-m;if(y<=0)return null;var b=g%e.length;return z.createElement("rect",{key:"react-".concat(g),y:m,x:r,height:y,width:s,stroke:"none",fill:e[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function YCe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(m){return Math.round(m+s-s)}).sort(function(m,g){return m-g});s!==d[0]&&d.unshift(0);var h=d.map(function(m,g){var x=!d[g+1],y=x?s+o-m:d[g+1]-m;if(y<=0)return null;var b=g%r.length;return z.createElement("rect",{key:"react-".concat(g),x:m,y:a,width:y,height:l,stroke:"none",fill:r[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return z.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var XCe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return r8(JT(ur(ur(ur({},Iu.defaultProps),r),{},{ticks:Ks(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},QCe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return r8(JT(ur(ur(ur({},Iu.defaultProps),r),{},{ticks:Ks(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Jl={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ZC(t){var e,n,r,i,s,a,o=YT(),l=XT(),c=FAe(),d=ur(ur({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Jl.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Jl.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Jl.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Jl.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Jl.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Jl.verticalFill,x:ve(t.x)?t.x:c.left,y:ve(t.y)?t.y:c.top,width:ve(t.width)?t.width:c.width,height:ve(t.height)?t.height:c.height}),h=d.x,m=d.y,g=d.width,x=d.height,y=d.syncWithTicks,b=d.horizontalValues,w=d.verticalValues,A=RAe(),_=IAe();if(!ve(g)||g<=0||!ve(x)||x<=0||!ve(h)||h!==+h||!ve(m)||m!==+m)return null;var E=d.verticalCoordinatesGenerator||XCe,P=d.horizontalCoordinatesGenerator||QCe,T=d.horizontalPoints,k=d.verticalPoints;if((!T||!T.length)&&qe(P)){var O=b&&b.length,R=P({yAxis:_?ur(ur({},_),{},{ticks:O?b:_.ticks}):void 0,width:o,height:l,offset:c},O?!0:y);Yi(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ul(R),"]")),Array.isArray(R)&&(T=R)}if((!k||!k.length)&&qe(E)){var F=w&&w.length,M=E({xAxis:A?ur(ur({},A),{},{ticks:F?w:A.ticks}):void 0,width:o,height:l,offset:c},F?!0:y);Yi(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ul(M),"]")),Array.isArray(M)&&(k=M)}return z.createElement("g",{className:"recharts-cartesian-grid"},z.createElement(HCe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),z.createElement(qCe,qo({},d,{offset:c,horizontalPoints:T,xAxis:A,yAxis:_})),z.createElement(GCe,qo({},d,{offset:c,verticalPoints:k,xAxis:A,yAxis:_})),z.createElement(KCe,qo({},d,{horizontalPoints:T})),z.createElement(YCe,qo({},d,{verticalPoints:k})))}ZC.displayName="CartesianGrid";var ZCe=["type","layout","connectNulls","ref"],JCe=["key"];function uu(t){"@babel/helpers - typeof";return uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uu(t)}function TB(t,e){if(t==null)return{};var n=ePe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ePe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uh(){return uh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uh.apply(this,arguments)}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){Hi(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ec(t){return iPe(t)||rPe(t)||nPe(t)||tPe()}function tPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(t,e){if(t){if(typeof t=="string")return JC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JC(t,e)}}function rPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iPe(t){if(Array.isArray(t))return JC(t)}function JC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sH(r.key),r)}}function aPe(t,e,n){return e&&kB(t.prototype,e),n&&kB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oPe(t,e,n){return e=Tv(e),lPe(t,iH()?Reflect.construct(e,n||[],Tv(t).constructor):e.apply(t,n))}function lPe(t,e){if(e&&(uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cPe(t)}function cPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!t})()}function Tv(t){return Tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tv(t)}function uPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eP(t,e)}function eP(t,e){return eP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eP(t,e)}function Hi(t,e,n){return e=sH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sH(t){var e=dPe(t,"string");return uu(e)=="symbol"?e:e+""}function dPe(t,e){if(uu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ep=(function(t){function e(){var n;sPe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=oPe(this,e,[].concat(i)),Hi(n,"state",{isAnimationFinished:!0,totalLength:0}),Hi(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Hi(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(w,A){return w+A});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var d=Math.floor(a/c),h=a%c,m=o-a,g=[],x=0,y=0;x<l.length;y+=l[x],++x)if(y+l[x]>h){g=[].concat(ec(l.slice(0,x)),[h-y]);break}var b=g.length%2===0?[0,m]:[m];return[].concat(ec(e.repeat(l,d)),ec(g),b).map(function(w){return"".concat(w,"px")}).join(", ")}),Hi(n,"id",Nu("recharts-line-")),Hi(n,"pathRef",function(a){n.mainCurve=a}),Hi(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Hi(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return uPe(e,t),aPe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,h=ri(d,Jf);if(!h)return null;var m=function(y,b){return{x:y.x,y:y.y,value:y.value,errorVal:Tn(y.payload,b)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return z.createElement(ut,g,h.map(function(x){return z.cloneElement(x,{key:"bar-".concat(x.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:m})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,d=o.dataKey,h=$e(this.props,!1),m=$e(l,!0),g=c.map(function(y,b){var w=qr(qr(qr({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,w)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return z.createElement(ut,uh({className:"recharts-line-dots",key:"dots"},x),g)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,d=o.connectNulls;o.ref;var h=TB(o,ZCe),m=qr(qr(qr({},$e(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:d});return z.createElement(lv,uh({},m,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,d=a.animationBegin,h=a.animationDuration,m=a.animationEasing,g=a.animationId,x=a.animateNewValues,y=a.width,b=a.height,w=this.state,A=w.prevPoints,_=w.totalLength;return z.createElement(As,{begin:d,duration:h,isActive:c,easing:m,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var P=E.t;if(A){var T=A.length/o.length,k=o.map(function(D,$){var W=Math.floor($*T);if(A[W]){var H=A[W],V=Zr(H.x,D.x),U=Zr(H.y,D.y);return qr(qr({},D),{},{x:V(P),y:U(P)})}if(x){var L=Zr(y*2,D.x),G=Zr(b/2,D.y);return qr(qr({},D),{},{x:L(P),y:G(P)})}return qr(qr({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(k,r,i)}var O=Zr(0,_),R=O(P),F;if(l){var M="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});F=s.getStrokeDasharray(R,_,M)}else F=s.generateSimpleStrokeDasharray(_,R);return s.renderCurveStatically(o,r,i,{strokeDasharray:F})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return o&&a&&a.length&&(!c&&d>0||!Zf(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,d=i.yAxis,h=i.top,m=i.left,g=i.width,x=i.height,y=i.isAnimationActive,b=i.id;if(s||!o||!o.length)return null;var w=this.state.isAnimationFinished,A=o.length===1,_=Ye("recharts-line",l),E=c&&c.allowDataOverflow,P=d&&d.allowDataOverflow,T=E||P,k=Xe(b)?this.id:b,O=(r=$e(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},R=O.r,F=R===void 0?3:R,M=O.strokeWidth,D=M===void 0?2:M,$=Vhe(a)?a:{},W=$.clipDot,H=W===void 0?!0:W,V=F*2+D;return z.createElement(ut,{className:_},E||P?z.createElement("defs",null,z.createElement("clipPath",{id:"clipPath-".concat(k)},z.createElement("rect",{x:E?m:m-g/2,y:P?h:h-x/2,width:E?g:g*2,height:P?x:x*2})),!H&&z.createElement("clipPath",{id:"clipPath-dots-".concat(k)},z.createElement("rect",{x:m-V/2,y:h-V/2,width:g+V,height:x+V}))):null,!A&&this.renderCurve(T,k),this.renderErrorBar(T,k),(A||a)&&this.renderDots(T,H,k),(!y||w)&&Zs.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(ec(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(ec(a),ec(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(z.isValidElement(r))s=z.cloneElement(r,i);else if(qe(r))s=r(i);else{var a=i.key,o=TB(i,JCe),l=Ye("recharts-line-dot",typeof r!="boolean"?r.className:"");s=z.createElement(By,uh({key:a},o,{className:l}))}return s}}])})(C.PureComponent);Hi(ep,"displayName","Line");Hi(ep,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ml.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Hi(ep,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,h=l.map(function(m,g){var x=Tn(m,a);return d==="horizontal"?{x:OF({axis:n,ticks:i,bandSize:o,entry:m,index:g}),y:Xe(x)?null:r.scale(x),value:x,payload:m}:{x:Xe(x)?null:n.scale(x),y:OF({axis:r,ticks:s,bandSize:o,entry:m,index:g}),value:x,payload:m}});return qr({points:h,layout:d},c)});function du(t){"@babel/helpers - typeof";return du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},du(t)}function hPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lH(r.key),r)}}function pPe(t,e,n){return e&&fPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mPe(t,e,n){return e=jv(e),gPe(t,aH()?Reflect.construct(e,n||[],jv(t).constructor):e.apply(t,n))}function gPe(t,e){if(e&&(du(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vPe(t)}function vPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aH=function(){return!!t})()}function jv(t){return jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jv(t)}function yPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tP(t,e)}function tP(t,e){return tP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tP(t,e)}function oH(t,e,n){return e=lH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lH(t){var e=bPe(t,"string");return du(e)=="symbol"?e:e+""}function bPe(t,e){if(du(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(this,arguments)}function xPe(t){var e=t.xAxisId,n=YT(),r=XT(),i=q8(e);return i==null?null:C.createElement(Iu,nP({},i,{className:Ye("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Ks(a,!0)}}))}var to=(function(t){function e(){return hPe(this,e),mPe(this,e,arguments)}return yPe(e,t),pPe(e,[{key:"render",value:function(){return C.createElement(xPe,this.props)}}])})(C.Component);oH(to,"displayName","XAxis");oH(to,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function hu(t){"@babel/helpers - typeof";return hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hu(t)}function wPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dH(r.key),r)}}function _Pe(t,e,n){return e&&SPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function APe(t,e,n){return e=kv(e),CPe(t,cH()?Reflect.construct(e,n||[],kv(t).constructor):e.apply(t,n))}function CPe(t,e){if(e&&(hu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PPe(t)}function PPe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cH=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function EPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rP(t,e)}function uH(t,e,n){return e=dH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dH(t){var e=TPe(t,"string");return hu(e)=="symbol"?e:e+""}function TPe(t,e){if(hu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iP(){return iP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iP.apply(this,arguments)}var jPe=function(e){var n=e.yAxisId,r=YT(),i=XT(),s=G8(n);return s==null?null:C.createElement(Iu,iP({},s,{className:Ye("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Ks(o,!0)}}))},no=(function(t){function e(){return wPe(this,e),APe(this,e,arguments)}return EPe(e,t),_Pe(e,[{key:"render",value:function(){return C.createElement(jPe,this.props)}}])})(C.Component);uH(no,"displayName","YAxis");uH(no,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function NB(t){return MPe(t)||OPe(t)||NPe(t)||kPe()}function kPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NPe(t,e){if(t){if(typeof t=="string")return sP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sP(t,e)}}function OPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function MPe(t){if(Array.isArray(t))return sP(t)}function sP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aP=function(e,n,r,i,s){var a=ri(e,ZT),o=ri(e,Yy),l=[].concat(NB(a),NB(o)),c=ri(e,Qy),d="".concat(i,"Id"),h=i[0],m=n;if(l.length&&(m=l.reduce(function(y,b){if(b.props[d]===r&&bs(b.props,"extendDomain")&&ve(b.props[h])){var w=b.props[h];return[Math.min(y[0],w),Math.max(y[1],w)]}return y},m)),c.length){var g="".concat(h,"1"),x="".concat(h,"2");m=c.reduce(function(y,b){if(b.props[d]===r&&bs(b.props,"extendDomain")&&ve(b.props[g])&&ve(b.props[x])){var w=b.props[g],A=b.props[x];return[Math.min(y[0],w,A),Math.max(y[1],w,A)]}return y},m)}return s&&s.length&&(m=s.reduce(function(y,b){return ve(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},m)),m},R_={exports:{}},OB;function DPe(){return OB||(OB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,h,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,h||l,m),x=n?n+c:c;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],g]:l._events[x].push(g):(l._events[x]=g,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],d,h;if(this._eventsCount===0)return c;for(h in d=this._events)e.call(d,h)&&c.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},o.prototype.listeners=function(c){var d=n?n+c:c,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var m=0,g=h.length,x=new Array(g);m<g;m++)x[m]=h[m].fn;return x},o.prototype.listenerCount=function(c){var d=n?n+c:c,h=this._events[d];return h?h.fn?1:h.length:0},o.prototype.emit=function(c,d,h,m,g,x){var y=n?n+c:c;if(!this._events[y])return!1;var b=this._events[y],w=arguments.length,A,_;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),w){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,h),!0;case 4:return b.fn.call(b.context,d,h,m),!0;case 5:return b.fn.call(b.context,d,h,m,g),!0;case 6:return b.fn.call(b.context,d,h,m,g,x),!0}for(_=1,A=new Array(w-1);_<w;_++)A[_-1]=arguments[_];b.fn.apply(b.context,A)}else{var E=b.length,P;for(_=0;_<E;_++)switch(b[_].once&&this.removeListener(c,b[_].fn,void 0,!0),w){case 1:b[_].fn.call(b[_].context);break;case 2:b[_].fn.call(b[_].context,d);break;case 3:b[_].fn.call(b[_].context,d,h);break;case 4:b[_].fn.call(b[_].context,d,h,m);break;default:if(!A)for(P=1,A=new Array(w-1);P<w;P++)A[P-1]=arguments[P];b[_].fn.apply(b[_].context,A)}}return!0},o.prototype.on=function(c,d,h){return s(this,c,d,h,!1)},o.prototype.once=function(c,d,h){return s(this,c,d,h,!0)},o.prototype.removeListener=function(c,d,h,m){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return a(this,g),this;var x=this._events[g];if(x.fn)x.fn===d&&(!m||x.once)&&(!h||x.context===h)&&a(this,g);else{for(var y=0,b=[],w=x.length;y<w;y++)(x[y].fn!==d||m&&!x[y].once||h&&x[y].context!==h)&&b.push(x[y]);b.length?this._events[g]=b.length===1?b[0]:b:a(this,g)}return this},o.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&a(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(R_)),R_.exports}var RPe=DPe();const IPe=vt(RPe);var I_=new IPe,L_="recharts.syncMouseEvents";function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function LPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FPe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hH(r.key),r)}}function $Pe(t,e,n){return e&&FPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function F_(t,e,n){return e=hH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hH(t){var e=BPe(t,"string");return hf(e)=="symbol"?e:e+""}function BPe(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var UPe=(function(){function t(){LPe(this,t),F_(this,"activeIndex",0),F_(this,"coordinateList",[]),F_(this,"layout","horizontal")}return $Pe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,d=n.offset,h=d===void 0?null:d,m=n.mouseHandlerCallback,g=m===void 0?null:m;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,h=s+l+c,m=a+this.offset.top+o/2+d;this.mouseHandlerCallback({pageX:h,pageY:m})}}}])})();function zPe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ve(r)&&ve(i))return!0}return!1}function VPe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function fH(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Mt(e,n,r,i),o=Mt(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function WPe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,h=e.angle,m=Mt(o,l,c,h),g=Mt(o,l,d,h);r=m.x,i=m.y,s=g.x,a=g.y}else return fH(e);return[{x:r,y:i},{x:s,y:a}]}function ff(t){"@babel/helpers - typeof";return ff=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ff(t)}function MB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(n),!0).forEach(function(r){HPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HPe(t,e,n){return e=qPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qPe(t){var e=GPe(t,"string");return ff(e)=="symbol"?e:e+""}function GPe(t,e){if(ff(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ff(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KPe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,m=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!a||m!=="ScatterChart"&&i!=="axis")return null;var x,y=lv;if(m==="ScatterChart")x=a,y=gSe;else if(m==="BarChart")x=VPe(h,a,l,d),y=HT;else if(h==="radial"){var b=fH(a),w=b.cx,A=b.cy,_=b.radius,E=b.startAngle,P=b.endAngle;x={cx:w,cy:A,startAngle:E,endAngle:P,innerRadius:_,outerRadius:_},y=p8}else x={points:WPe(h,a,l)},y=lv;var T=Gm(Gm(Gm(Gm({stroke:"#ccc",pointerEvents:"none"},l),x),$e(g,!1)),{},{payload:o,payloadIndex:c,className:Ye("recharts-tooltip-cursor",g.className)});return C.isValidElement(g)?C.cloneElement(g,T):C.createElement(y,T)}var YPe=["item"],XPe=["children","className","width","height","style","compact","title","desc"];function fu(t){"@babel/helpers - typeof";return fu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fu(t)}function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}function DB(t,e){return JPe(t)||ZPe(t,e)||mH(t,e)||QPe()}function QPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZPe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function JPe(t){if(Array.isArray(t))return t}function RB(t,e){if(t==null)return{};var n=eEe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gH(r.key),r)}}function rEe(t,e,n){return e&&nEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iEe(t,e,n){return e=Nv(e),sEe(t,pH()?Reflect.construct(e,n||[],Nv(t).constructor):e.apply(t,n))}function sEe(t,e){if(e&&(fu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(t)}function aEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!t})()}function Nv(t){return Nv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nv(t)}function oEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oP(t,e)}function oP(t,e){return oP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},oP(t,e)}function pu(t){return uEe(t)||cEe(t)||mH(t)||lEe()}function lEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mH(t,e){if(t){if(typeof t=="string")return lP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lP(t,e)}}function cEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uEe(t){if(Array.isArray(t))return lP(t)}function lP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IB(Object(n),!0).forEach(function(r){Ue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ue(t,e,n){return e=gH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){var e=dEe(t,"string");return fu(e)=="symbol"?e:e+""}function dEe(t,e){if(fu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hEe={xAxis:["bottom","top"],yAxis:["left","right"]},fEe={width:"100%",height:"100%"},vH={x:0,y:0};function Km(t){return t}var pEe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},mEe=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return oe(oe(oe({},i),Mt(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return oe(oe(oe({},i),Mt(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return vH},Zy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(pu(o),pu(c)):o},[]);return a.length>0?a:e&&e.length&&ve(i)&&ve(s)?e.slice(i,s+1):[]};function yH(t){return t==="number"?[0,"auto"]:void 0}var cP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=Zy(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var d,h=(d=c.props.data)!==null&&d!==void 0?d:n;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var m;if(a.dataKey&&!a.allowDuplicatedCategory){var g=h===void 0?o:h;m=Dg(g,a.dataKey,i)}else m=h&&h[r]||o[r];return m?[].concat(pu(l),[l8(c,m)]):l},[])},LB=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=pEe(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=Bxe(a,o,c,l);if(d>=0&&c){var h=c[d]&&c[d].value,m=cP(e,n,d,h),g=mEe(r,o,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:m,activeCoordinate:g}}return null},gEe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,m=e.stackOffset,g=n8(d,s);return r.reduce(function(x,y){var b,w=y.type.defaultProps!==void 0?oe(oe({},y.type.defaultProps),y.props):y.props,A=w.type,_=w.dataKey,E=w.allowDataOverflow,P=w.allowDuplicatedCategory,T=w.scale,k=w.ticks,O=w.includeHidden,R=w[a];if(x[R])return x;var F=Zy(e.data,{graphicalItems:i.filter(function(K){var Z,ae=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a];return ae===R}),dataStartIndex:l,dataEndIndex:c}),M=F.length,D,$,W;zPe(w.domain,E,A)&&(D=SC(w.domain,null,E),g&&(A==="number"||T!=="auto")&&(W=ah(F,_,"category")));var H=yH(A);if(!D||D.length===0){var V,U=(V=w.domain)!==null&&V!==void 0?V:H;if(_){if(D=ah(F,_,A),A==="category"&&g){var L=Mhe(D);P&&L?($=D,D=yv(0,M)):P||(D=IF(U,D,y).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(pu(K),[Z])},[]))}else if(A==="category")P?D=D.filter(function(K){return K!==""&&!Xe(K)}):D=IF(U,D,y).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||Xe(Z)?K:[].concat(pu(K),[Z])},[]);else if(A==="number"){var G=Hxe(F,i.filter(function(K){var Z,ae,ce=a in K.props?K.props[a]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[a],pe="hide"in K.props?K.props.hide:(ae=K.type.defaultProps)===null||ae===void 0?void 0:ae.hide;return ce===R&&(O||!pe)}),_,s,d);G&&(D=G)}g&&(A==="number"||T!=="auto")&&(W=ah(F,_,"category"))}else g?D=yv(0,M):o&&o[R]&&o[R].hasStack&&A==="number"?D=m==="expand"?[0,1]:o8(o[R].stackGroups,l,c):D=t8(F,i.filter(function(K){var Z=a in K.props?K.props[a]:K.type.defaultProps[a],ae="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===R&&(O||!ae)}),A,d,!0);if(A==="number")D=aP(h,D,R,s,k),U&&(D=SC(U,D,E));else if(A==="category"&&U){var Q=U,B=D.every(function(K){return Q.indexOf(K)>=0});B&&(D=Q)}}return oe(oe({},x),{},Ue({},R,oe(oe({},w),{},{axisType:s,domain:D,categoricalDomain:W,duplicateDomain:$,originalDomain:(b=w.domain)!==null&&b!==void 0?b:H,isCategorical:g,layout:d})))},{})},vEe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,h=e.children,m=Zy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=m.length,x=n8(d,s),y=-1;return r.reduce(function(b,w){var A=w.type.defaultProps!==void 0?oe(oe({},w.type.defaultProps),w.props):w.props,_=A[a],E=yH("number");if(!b[_]){y++;var P;return x?P=yv(0,g):o&&o[_]&&o[_].hasStack?(P=o8(o[_].stackGroups,l,c),P=aP(h,P,_,s)):(P=SC(E,t8(m,r.filter(function(T){var k,O,R=a in T.props?T.props[a]:(k=T.type.defaultProps)===null||k===void 0?void 0:k[a],F="hide"in T.props?T.props.hide:(O=T.type.defaultProps)===null||O===void 0?void 0:O.hide;return R===_&&!F}),"number",d),i.defaultProps.allowDataOverflow),P=aP(h,P,_,s)),oe(oe({},b),{},Ue({},_,oe(oe({axisType:s},i.defaultProps),{},{hide:!0,orientation:ni(hEe,"".concat(s,".").concat(y%2),null),domain:P,originalDomain:E,isCategorical:x,layout:d})))}return b},{})},yEe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,h="".concat(i,"Id"),m=ri(d,s),g={};return m&&m.length?g=gEe(e,{axes:m,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(g=vEe(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:h,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),g},bEe=function(e){var n=za(e),r=Ks(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:yT(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:sv(n,r)}},FB=function(e){var n=e.children,r=e.defaultShowTooltip,i=Yr(n,iu),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},xEe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Xs(n&&n.type);return r&&r.indexOf("Bar")>=0})},$B=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wEe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,d=r.height,h=r.children,m=r.margin||{},g=Yr(h,iu),x=Yr(h,qa),y=Object.keys(l).reduce(function(P,T){var k=l[T],O=k.orientation;return!k.mirror&&!k.hide?oe(oe({},P),{},Ue({},O,P[O]+k.width)):P},{left:m.left||0,right:m.right||0}),b=Object.keys(a).reduce(function(P,T){var k=a[T],O=k.orientation;return!k.mirror&&!k.hide?oe(oe({},P),{},Ue({},O,ni(P,"".concat(O))+k.height)):P},{top:m.top||0,bottom:m.bottom||0}),w=oe(oe({},b),y),A=w.bottom;g&&(w.bottom+=g.props.height||iu.defaultProps.height),x&&n&&(w=Vxe(w,i,r,n));var _=c-w.left-w.right,E=d-w.top-w.bottom;return oe(oe({brushBottom:A},w),{},{width:Math.max(_,0),height:Math.max(E,0)})},SEe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},tj=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,m=function(w,A){var _=A.graphicalItems,E=A.stackGroups,P=A.offset,T=A.updateId,k=A.dataStartIndex,O=A.dataEndIndex,R=w.barSize,F=w.layout,M=w.barGap,D=w.barCategoryGap,$=w.maxBarSize,W=$B(F),H=W.numericAxisName,V=W.cateAxisName,U=xEe(_),L=[];return _.forEach(function(G,Q){var B=Zy(w.data,{graphicalItems:[G],dataStartIndex:k,dataEndIndex:O}),K=G.type.defaultProps!==void 0?oe(oe({},G.type.defaultProps),G.props):G.props,Z=K.dataKey,ae=K.maxBarSize,ce=K["".concat(H,"Id")],pe=K["".concat(V,"Id")],ie={},ee=l.reduce(function(rr,Rt){var Br=A["".concat(Rt.axisType,"Map")],ho=K["".concat(Rt.axisType,"Id")];Br&&Br[ho]||Rt.axisType==="zAxis"||cl();var fo=Br[ho];return oe(oe({},rr),{},Ue(Ue({},Rt.axisType,fo),"".concat(Rt.axisType,"Ticks"),Ks(fo)))},ie),te=ee[V],le=ee["".concat(V,"Ticks")],he=E&&E[ce]&&E[ce].hasStack&&e0e(G,E[ce].stackGroups),ne=Xs(G.type).indexOf("Bar")>=0,Me=sv(te,le),Re=[],yt=U&&Uxe({barSize:R,stackGroups:E,totalSize:SEe(ee,V)});if(ne){var pt,bt,wn=Xe(ae)?$:ae,jt=(pt=(bt=sv(te,le,!0))!==null&&bt!==void 0?bt:wn)!==null&&pt!==void 0?pt:0;Re=zxe({barGap:M,barCategoryGap:D,bandSize:jt!==Me?jt:Me,sizeList:yt[pe],maxBarSize:wn}),jt!==Me&&(Re=Re.map(function(rr){return oe(oe({},rr),{},{position:oe(oe({},rr.position),{},{offset:rr.position.offset-jt/2})})}))}var Cr=G&&G.type&&G.type.getComposedData;Cr&&L.push({props:oe(oe({},Cr(oe(oe({},ee),{},{displayedData:B,props:w,dataKey:Z,item:G,bandSize:Me,barPosition:Re,offset:P,stackedData:he,layout:F,dataStartIndex:k,dataEndIndex:O}))),{},Ue(Ue(Ue({key:G.key||"item-".concat(Q)},H,ee[H]),V,ee[V]),"animationId",T)),childIndex:qhe(G,w.children),item:G})}),L},g=function(w,A){var _=w.props,E=w.dataStartIndex,P=w.dataEndIndex,T=w.updateId;if(!XD({props:_}))return null;var k=_.children,O=_.layout,R=_.stackOffset,F=_.data,M=_.reverseStackOrder,D=$B(O),$=D.numericAxisName,W=D.cateAxisName,H=ri(k,r),V=Zxe(F,H,"".concat($,"Id"),"".concat(W,"Id"),R,M),U=l.reduce(function(K,Z){var ae="".concat(Z.axisType,"Map");return oe(oe({},K),{},Ue({},ae,yEe(_,oe(oe({},Z),{},{graphicalItems:H,stackGroups:Z.axisType===$&&V,dataStartIndex:E,dataEndIndex:P}))))},{}),L=wEe(oe(oe({},U),{},{props:_,graphicalItems:H}),A?.legendBBox);Object.keys(U).forEach(function(K){U[K]=d(_,U[K],L,K.replace("Map",""),n)});var G=U["".concat(W,"Map")],Q=bEe(G),B=m(_,oe(oe({},U),{},{dataStartIndex:E,dataEndIndex:P,updateId:T,graphicalItems:H,stackGroups:V,offset:L}));return oe(oe({formattedGraphicalItems:B,graphicalItems:H,offset:L,stackGroups:V},Q),U)},x=(function(b){function w(A){var _,E,P;return tEe(this,w),P=iEe(this,w,[A]),Ue(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ue(P,"accessibilityManager",new UPe),Ue(P,"handleLegendBBoxUpdate",function(T){if(T){var k=P.state,O=k.dataStartIndex,R=k.dataEndIndex,F=k.updateId;P.setState(oe({legendBBox:T},g({props:P.props,dataStartIndex:O,dataEndIndex:R,updateId:F},oe(oe({},P.state),{},{legendBBox:T}))))}}),Ue(P,"handleReceiveSyncEvent",function(T,k,O){if(P.props.syncId===T){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(k)}}),Ue(P,"handleBrushChange",function(T){var k=T.startIndex,O=T.endIndex;if(k!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var R=P.state.updateId;P.setState(function(){return oe({dataStartIndex:k,dataEndIndex:O},g({props:P.props,dataStartIndex:k,dataEndIndex:O,updateId:R},P.state))}),P.triggerSyncEvent({dataStartIndex:k,dataEndIndex:O})}}),Ue(P,"handleMouseEnter",function(T){var k=P.getMouseInfo(T);if(k){var O=oe(oe({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var R=P.props.onMouseEnter;qe(R)&&R(O,T)}}),Ue(P,"triggeredAfterMouseMove",function(T){var k=P.getMouseInfo(T),O=k?oe(oe({},k),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var R=P.props.onMouseMove;qe(R)&&R(O,T)}),Ue(P,"handleItemMouseEnter",function(T){P.setState(function(){return{isTooltipActive:!0,activeItem:T,activePayload:T.tooltipPayload,activeCoordinate:T.tooltipPosition||{x:T.cx,y:T.cy}}})}),Ue(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ue(P,"handleMouseMove",function(T){T.persist(),P.throttleTriggeredAfterMouseMove(T)}),Ue(P,"handleMouseLeave",function(T){P.throttleTriggeredAfterMouseMove.cancel();var k={isTooltipActive:!1};P.setState(k),P.triggerSyncEvent(k);var O=P.props.onMouseLeave;qe(O)&&O(k,T)}),Ue(P,"handleOuterEvent",function(T){var k=Hhe(T),O=ni(P.props,"".concat(k));if(k&&qe(O)){var R,F;/.*touch.*/i.test(k)?F=P.getMouseInfo(T.changedTouches[0]):F=P.getMouseInfo(T),O((R=F)!==null&&R!==void 0?R:{},T)}}),Ue(P,"handleClick",function(T){var k=P.getMouseInfo(T);if(k){var O=oe(oe({},k),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var R=P.props.onClick;qe(R)&&R(O,T)}}),Ue(P,"handleMouseDown",function(T){var k=P.props.onMouseDown;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleMouseUp",function(T){var k=P.props.onMouseUp;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleTouchMove",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(T.changedTouches[0])}),Ue(P,"handleTouchStart",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.handleMouseDown(T.changedTouches[0])}),Ue(P,"handleTouchEnd",function(T){T.changedTouches!=null&&T.changedTouches.length>0&&P.handleMouseUp(T.changedTouches[0])}),Ue(P,"handleDoubleClick",function(T){var k=P.props.onDoubleClick;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"handleContextMenu",function(T){var k=P.props.onContextMenu;if(qe(k)){var O=P.getMouseInfo(T);k(O,T)}}),Ue(P,"triggerSyncEvent",function(T){P.props.syncId!==void 0&&I_.emit(L_,P.props.syncId,T,P.eventEmitterSymbol)}),Ue(P,"applySyncEvent",function(T){var k=P.props,O=k.layout,R=k.syncMethod,F=P.state.updateId,M=T.dataStartIndex,D=T.dataEndIndex;if(T.dataStartIndex!==void 0||T.dataEndIndex!==void 0)P.setState(oe({dataStartIndex:M,dataEndIndex:D},g({props:P.props,dataStartIndex:M,dataEndIndex:D,updateId:F},P.state)));else if(T.activeTooltipIndex!==void 0){var $=T.chartX,W=T.chartY,H=T.activeTooltipIndex,V=P.state,U=V.offset,L=V.tooltipTicks;if(!U)return;if(typeof R=="function")H=R(L,T);else if(R==="value"){H=-1;for(var G=0;G<L.length;G++)if(L[G].value===T.activeLabel){H=G;break}}var Q=oe(oe({},U),{},{x:U.left,y:U.top}),B=Math.min($,Q.x+Q.width),K=Math.min(W,Q.y+Q.height),Z=L[H]&&L[H].value,ae=cP(P.state,P.props.data,H),ce=L[H]?{x:O==="horizontal"?L[H].coordinate:B,y:O==="horizontal"?K:L[H].coordinate}:vH;P.setState(oe(oe({},T),{},{activeLabel:Z,activeCoordinate:ce,activePayload:ae,activeTooltipIndex:H}))}else P.setState(T)}),Ue(P,"renderCursor",function(T){var k,O=P.state,R=O.isTooltipActive,F=O.activeCoordinate,M=O.activePayload,D=O.offset,$=O.activeTooltipIndex,W=O.tooltipAxisBandSize,H=P.getTooltipEventType(),V=(k=T.props.active)!==null&&k!==void 0?k:R,U=P.props.layout,L=T.key||"_recharts-cursor";return z.createElement(KPe,{key:L,activeCoordinate:F,activePayload:M,activeTooltipIndex:$,chartName:n,element:T,isActive:V,layout:U,offset:D,tooltipAxisBandSize:W,tooltipEventType:H})}),Ue(P,"renderPolarAxis",function(T,k,O){var R=ni(T,"type.axisType"),F=ni(P.state,"".concat(R,"Map")),M=T.type.defaultProps,D=M!==void 0?oe(oe({},M),T.props):T.props,$=F&&F[D["".concat(R,"Id")]];return C.cloneElement(T,oe(oe({},$),{},{className:Ye(R,$.className),key:T.key||"".concat(k,"-").concat(O),ticks:Ks($,!0)}))}),Ue(P,"renderPolarGrid",function(T){var k=T.props,O=k.radialLines,R=k.polarAngles,F=k.polarRadius,M=P.state,D=M.radiusAxisMap,$=M.angleAxisMap,W=za(D),H=za($),V=H.cx,U=H.cy,L=H.innerRadius,G=H.outerRadius;return C.cloneElement(T,{polarAngles:Array.isArray(R)?R:Ks(H,!0).map(function(Q){return Q.coordinate}),polarRadius:Array.isArray(F)?F:Ks(W,!0).map(function(Q){return Q.coordinate}),cx:V,cy:U,innerRadius:L,outerRadius:G,key:T.key||"polar-grid",radialLines:O})}),Ue(P,"renderLegend",function(){var T=P.state.formattedGraphicalItems,k=P.props,O=k.children,R=k.width,F=k.height,M=P.props.margin||{},D=R-(M.left||0)-(M.right||0),$=JW({children:O,formattedGraphicalItems:T,legendWidth:D,legendContent:c});if(!$)return null;var W=$.item,H=RB($,YPe);return C.cloneElement(W,oe(oe({},H),{},{chartWidth:R,chartHeight:F,margin:M,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ue(P,"renderTooltip",function(){var T,k=P.props,O=k.children,R=k.accessibilityLayer,F=Yr(O,yr);if(!F)return null;var M=P.state,D=M.isTooltipActive,$=M.activeCoordinate,W=M.activePayload,H=M.activeLabel,V=M.offset,U=(T=F.props.active)!==null&&T!==void 0?T:D;return C.cloneElement(F,{viewBox:oe(oe({},V),{},{x:V.left,y:V.top}),active:U,label:H,payload:U?W:[],coordinate:$,accessibilityLayer:R})}),Ue(P,"renderBrush",function(T){var k=P.props,O=k.margin,R=k.data,F=P.state,M=F.offset,D=F.dataStartIndex,$=F.dataEndIndex,W=F.updateId;return C.cloneElement(T,{key:T.key||"_recharts-brush",onChange:Vm(P.handleBrushChange,T.props.onChange),data:R,x:ve(T.props.x)?T.props.x:M.left,y:ve(T.props.y)?T.props.y:M.top+M.height+M.brushBottom-(O.bottom||0),width:ve(T.props.width)?T.props.width:M.width,startIndex:D,endIndex:$,updateId:"brush-".concat(W)})}),Ue(P,"renderReferenceElement",function(T,k,O){if(!T)return null;var R=P,F=R.clipPathId,M=P.state,D=M.xAxisMap,$=M.yAxisMap,W=M.offset,H=T.type.defaultProps||{},V=T.props,U=V.xAxisId,L=U===void 0?H.xAxisId:U,G=V.yAxisId,Q=G===void 0?H.yAxisId:G;return C.cloneElement(T,{key:T.key||"".concat(k,"-").concat(O),xAxis:D[L],yAxis:$[Q],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:F})}),Ue(P,"renderActivePoints",function(T){var k=T.item,O=T.activePoint,R=T.basePoint,F=T.childIndex,M=T.isRange,D=[],$=k.props.key,W=k.item.type.defaultProps!==void 0?oe(oe({},k.item.type.defaultProps),k.item.props):k.item.props,H=W.activeDot,V=W.dataKey,U=oe(oe({index:F,dataKey:V,cx:O.x,cy:O.y,r:4,fill:WT(k.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},$e(H,!1)),Rg(H));return D.push(w.renderActiveDot(H,U,"".concat($,"-activePoint-").concat(F))),R?D.push(w.renderActiveDot(H,oe(oe({},U),{},{cx:R.x,cy:R.y}),"".concat($,"-basePoint-").concat(F))):M&&D.push(null),D}),Ue(P,"renderGraphicChild",function(T,k,O){var R=P.filterFormatItem(T,k,O);if(!R)return null;var F=P.getTooltipEventType(),M=P.state,D=M.isTooltipActive,$=M.tooltipAxis,W=M.activeTooltipIndex,H=M.activeLabel,V=P.props.children,U=Yr(V,yr),L=R.props,G=L.points,Q=L.isRange,B=L.baseLine,K=R.item.type.defaultProps!==void 0?oe(oe({},R.item.type.defaultProps),R.item.props):R.item.props,Z=K.activeDot,ae=K.hide,ce=K.activeBar,pe=K.activeShape,ie=!!(!ae&&D&&U&&(Z||ce||pe)),ee={};F!=="axis"&&U&&U.props.trigger==="click"?ee={onClick:Vm(P.handleItemMouseEnter,T.props.onClick)}:F!=="axis"&&(ee={onMouseLeave:Vm(P.handleItemMouseLeave,T.props.onMouseLeave),onMouseEnter:Vm(P.handleItemMouseEnter,T.props.onMouseEnter)});var te=C.cloneElement(T,oe(oe({},R.props),ee));function le(Rt){return typeof $.dataKey=="function"?$.dataKey(Rt.payload):null}if(ie)if(W>=0){var he,ne;if($.dataKey&&!$.allowDuplicatedCategory){var Me=typeof $.dataKey=="function"?le:"payload.".concat($.dataKey.toString());he=Dg(G,Me,H),ne=Q&&B&&Dg(B,Me,H)}else he=G?.[W],ne=Q&&B&&B[W];if(pe||ce){var Re=T.props.activeIndex!==void 0?T.props.activeIndex:W;return[C.cloneElement(T,oe(oe(oe({},R.props),ee),{},{activeIndex:Re})),null,null]}if(!Xe(he))return[te].concat(pu(P.renderActivePoints({item:R,activePoint:he,basePoint:ne,childIndex:W,isRange:Q})))}else{var yt,pt=(yt=P.getItemByXY(P.state.activeCoordinate))!==null&&yt!==void 0?yt:{graphicalItem:te},bt=pt.graphicalItem,wn=bt.item,jt=wn===void 0?T:wn,Cr=bt.childIndex,rr=oe(oe(oe({},R.props),ee),{},{activeIndex:Cr});return[C.cloneElement(jt,rr),null,null]}return Q?[te,null,null]:[te,null]}),Ue(P,"renderCustomized",function(T,k,O){return C.cloneElement(T,oe(oe({key:"recharts-customized-".concat(O)},P.props),P.state))}),Ue(P,"renderMap",{CartesianGrid:{handler:Km,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Km},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Km},YAxis:{handler:Km},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((_=A.id)!==null&&_!==void 0?_:Nu("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=Z6(P.triggeredAfterMouseMove,(E=A.throttleDelay)!==null&&E!==void 0?E:1e3/60),P.state={},P}return oEe(w,b),rEe(w,[{key:"componentDidMount",value:function(){var _,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,E=_.children,P=_.data,T=_.height,k=_.layout,O=Yr(E,yr);if(O){var R=O.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,M=cP(this.state,P,R,F),D=this.state.tooltipTicks[R].coordinate,$=(this.state.offset.top+T)/2,W=k==="horizontal",H=W?{x:D,y:$}:{y:D,x:$},V=this.state.formattedGraphicalItems.find(function(L){var G=L.item;return G.type.name==="Scatter"});V&&(H=oe(oe({},H),V.props.points[R].tooltipPosition),M=V.props.points[R].tooltipPayload);var U={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:M,activeCoordinate:H};this.setState(U),this.renderCursor(O),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var P,T;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0}})}return null}},{key:"componentDidUpdate",value:function(_){WA([Yr(_.children,yr)],[Yr(this.props.children,yr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Yr(this.props.children,yr);if(_&&typeof _.props.shared=="boolean"){var E=_.props.shared?"axis":"item";return o.indexOf(E)>=0?E:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var E=this.container,P=E.getBoundingClientRect(),T=Oge(P),k={chartX:Math.round(_.pageX-T.left),chartY:Math.round(_.pageY-T.top)},O=P.width/E.offsetWidth||1,R=this.inRange(k.chartX,k.chartY,O);if(!R)return null;var F=this.state,M=F.xAxisMap,D=F.yAxisMap,$=this.getTooltipEventType(),W=LB(this.state,this.props.data,this.props.layout,R);if($!=="axis"&&M&&D){var H=za(M).scale,V=za(D).scale,U=H&&H.invert?H.invert(k.chartX):null,L=V&&V.invert?V.invert(k.chartY):null;return oe(oe({},k),{},{xValue:U,yValue:L},W)}return W?oe(oe({},k),W):null}},{key:"inRange",value:function(_,E){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,T=this.props.layout,k=_/P,O=E/P;if(T==="horizontal"||T==="vertical"){var R=this.state.offset,F=k>=R.left&&k<=R.left+R.width&&O>=R.top&&O<=R.top+R.height;return F?{x:k,y:O}:null}var M=this.state,D=M.angleAxisMap,$=M.radiusAxisMap;if(D&&$){var W=za(D);return $F({x:k,y:O},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,E=this.getTooltipEventType(),P=Yr(_,yr),T={};P&&E==="axis"&&(P.props.trigger==="click"?T={onClick:this.handleClick}:T={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var k=Rg(this.props,this.handleOuterEvent);return oe(oe({},k),T)}},{key:"addListener",value:function(){I_.on(L_,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){I_.removeListener(L_,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,E,P){for(var T=this.state.formattedGraphicalItems,k=0,O=T.length;k<O;k++){var R=T[k];if(R.item===_||R.props.key===_.key||E===Xs(R.item.type)&&P===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,E=this.state.offset,P=E.left,T=E.top,k=E.height,O=E.width;return z.createElement("defs",null,z.createElement("clipPath",{id:_},z.createElement("rect",{x:P,y:T,height:k,width:O})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(E,P){var T=DB(P,2),k=T[0],O=T[1];return oe(oe({},E),{},Ue({},k,O.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(E,P){var T=DB(P,2),k=T[0],O=T[1];return oe(oe({},E),{},Ue({},k,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(_){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[_])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(_){var E=this.state,P=E.formattedGraphicalItems,T=E.activeItem;if(P&&P.length)for(var k=0,O=P.length;k<O;k++){var R=P[k],F=R.props,M=R.item,D=M.type.defaultProps!==void 0?oe(oe({},M.type.defaultProps),M.props):M.props,$=Xs(M.type);if($==="Bar"){var W=(F.data||[]).find(function(L){return X1e(_,L)});if(W)return{graphicalItem:R,payload:W}}else if($==="RadialBar"){var H=(F.data||[]).find(function(L){return $F(_,L)});if(H)return{graphicalItem:R,payload:H}}else if(Hy(R,T)||qy(R,T)||of(R,T)){var V=b_e({graphicalItem:R,activeTooltipItem:T,itemData:D.data}),U=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:oe(oe({},R),{},{childIndex:U}),payload:of(R,T)?D.data[V]:R.props.data[V]}}}return null}},{key:"render",value:function(){var _=this;if(!XD(this))return null;var E=this.props,P=E.children,T=E.className,k=E.width,O=E.height,R=E.style,F=E.compact,M=E.title,D=E.desc,$=RB(E,XPe),W=$e($,!1);if(F)return z.createElement(mB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement(qA,gc({},W,{width:k,height:O,title:M,desc:D}),this.renderClipPath(),ZD(P,this.renderMap)));if(this.props.accessibilityLayer){var H,V;W.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,W.role=(V=this.props.role)!==null&&V!==void 0?V:"application",W.onKeyDown=function(L){_.accessibilityManager.keyboardEvent(L)},W.onFocus=function(){_.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return z.createElement(mB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},z.createElement("div",gc({className:Ye("recharts-wrapper",T),style:oe({position:"relative",cursor:"default",width:k,height:O},R)},U,{ref:function(G){_.container=G}}),z.createElement(qA,gc({},W,{width:k,height:O,title:M,desc:D,style:fEe}),this.renderClipPath(),ZD(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(C.Component);Ue(x,"displayName",n),Ue(x,"defaultProps",oe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),Ue(x,"getDerivedStateFromProps",function(b,w){var A=b.dataKey,_=b.data,E=b.children,P=b.width,T=b.height,k=b.layout,O=b.stackOffset,R=b.margin,F=w.dataStartIndex,M=w.dataEndIndex;if(w.updateId===void 0){var D=FB(b);return oe(oe(oe({},D),{},{updateId:0},g(oe(oe({props:b},D),{},{updateId:0}),w)),{},{prevDataKey:A,prevData:_,prevWidth:P,prevHeight:T,prevLayout:k,prevStackOffset:O,prevMargin:R,prevChildren:E})}if(A!==w.prevDataKey||_!==w.prevData||P!==w.prevWidth||T!==w.prevHeight||k!==w.prevLayout||O!==w.prevStackOffset||!Cc(R,w.prevMargin)){var $=FB(b),W={chartX:w.chartX,chartY:w.chartY,isTooltipActive:w.isTooltipActive},H=oe(oe({},LB(w,_,k)),{},{updateId:w.updateId+1}),V=oe(oe(oe({},$),W),H);return oe(oe(oe({},V),g(oe({props:b},V),w)),{},{prevDataKey:A,prevData:_,prevWidth:P,prevHeight:T,prevLayout:k,prevStackOffset:O,prevMargin:R,prevChildren:E})}if(!WA(E,w.prevChildren)){var U,L,G,Q,B=Yr(E,iu),K=B&&(U=(L=B.props)===null||L===void 0?void 0:L.startIndex)!==null&&U!==void 0?U:F,Z=B&&(G=(Q=B.props)===null||Q===void 0?void 0:Q.endIndex)!==null&&G!==void 0?G:M,ae=K!==F||Z!==M,ce=!Xe(_),pe=ce&&!ae?w.updateId:w.updateId+1;return oe(oe({updateId:pe},g(oe(oe({props:b},w),{},{updateId:pe,dataStartIndex:K,dataEndIndex:Z}),w)),{},{prevChildren:E,dataStartIndex:K,dataEndIndex:Z})}return null}),Ue(x,"renderActiveDot",function(b,w,A){var _;return C.isValidElement(b)?_=C.cloneElement(b,w):qe(b)?_=b(w):_=z.createElement(By,w),z.createElement(ut,{className:"recharts-active-dot",key:A},_)});var y=C.forwardRef(function(w,A){return z.createElement(x,gc({},w,{ref:A}))});return y.displayName=x.displayName,y},_Ee=tj({chartName:"LineChart",GraphicalChild:ep,axisComponents:[{axisType:"xAxis",AxisComp:to},{axisType:"yAxis",AxisComp:no}],formatAxisMap:F8}),uP=tj({chartName:"BarChart",GraphicalChild:oa,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:to},{axisType:"yAxis",AxisComp:no}],formatAxisMap:F8}),bH=tj({chartName:"PieChart",GraphicalChild:ks,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Wy},{axisType:"radiusAxis",AxisComp:zy}],formatAxisMap:u0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Ym={groceries:"#10b981",food:"#f59e0b",transport:"#3b82f6",shopping:"#ec4899",utilities:"#8b5cf6",entertainment:"#ef4444",health:"#14b8a6",education:"#6366f1",other:"#6b7280"},BB={cash:"#10b981",upi:"#3b82f6",card:"#8b5cf6",bank:"#f59e0b"};function AEe({onBack:t}){const{expenses:e}=it(),n=C.useMemo(()=>{const a=e.reduce((d,h)=>d+h.amount,0),o=e.length,l=o>0?a/o:0,c=new Set(e.map(d=>d.category));return{totalSpent:a,transactionCount:o,averageTransaction:l,categoriesUsed:c.size}},[e]),r=C.useMemo(()=>{const a={};return e.forEach(o=>{a[o.category]||(a[o.category]=0),a[o.category]+=o.amount}),Object.entries(a).map(([o,l])=>({name:o.charAt(0).toUpperCase()+o.slice(1),value:l,percentage:(l/n.totalSpent*100).toFixed(1)})).sort((o,l)=>l.value-o.value)},[e,n.totalSpent]),i=C.useMemo(()=>{const a={},o=new Date;for(let l=5;l>=0;l--){const d=new Date(o.getFullYear(),o.getMonth()-l,1).toLocaleDateString("en-US",{month:"short",year:"numeric"});a[d]=0}return e.forEach(l=>{const d=new Date(l.date).toLocaleDateString("en-US",{month:"short",year:"numeric"});a.hasOwnProperty(d)&&(a[d]+=l.amount)}),Object.entries(a).map(([l,c])=>({month:l,amount:c}))},[e]),s=C.useMemo(()=>{const a={};return e.forEach(o=>{o.payment_lines.forEach(l=>{const c=l.account_id==="cash"?"cash":l.account_id==="upi"?"upi":l.account_id.includes("card")?"card":"bank";a[c]||(a[c]=0),a[c]+=l.amount})}),Object.entries(a).map(([o,l])=>({name:o.toUpperCase(),value:l,percentage:(l/n.totalSpent*100).toFixed(1)})).sort((o,l)=>l.value-o.value)},[e,n.totalSpent]);return f.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(ge,{variant:"ghost",size:"icon",onClick:t,className:"text-primary-foreground hover:bg-primary-foreground/10 shrink-0",children:f.jsx(Sf,{className:"h-5 w-5"})}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{children:"Reports & Analytics"}),f.jsx("p",{className:"text-sm opacity-90",children:"Visual spending insights"})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-6 space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsx(tt,{className:"bg-gradient-to-br from-destructive/10 to-destructive/5 border-destructive/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(Xa,{className:"h-3 w-3"}),"Total Spent"]}),f.jsx(Ct,{className:"text-2xl text-destructive",children:Oe(n.totalSpent)})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(vh,{className:"h-3 w-3"}),"Transactions"]}),f.jsx(Ct,{className:"text-2xl text-primary",children:n.transactionCount})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-tertiary/10 to-tertiary/5 border-tertiary/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(Fr,{className:"h-3 w-3"}),"Average"]}),f.jsx(Ct,{className:"text-2xl text-tertiary",children:Oe(n.averageTransaction)})]})}),f.jsx(tt,{className:"bg-gradient-to-br from-success/10 to-success/5 border-success/20",children:f.jsxs(At,{className:"pb-3",children:[f.jsxs(vn,{className:"flex items-center gap-1 text-xs",children:[f.jsx(vM,{className:"h-3 w-3"}),"Categories"]}),f.jsx(Ct,{className:"text-2xl text-success",children:n.categoriesUsed})]})})]}),f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Spending by Category"}),f.jsx(vn,{children:"Distribution of expenses across categories"})]}),f.jsx($t,{children:r.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Pc,{width:"100%",height:300,children:f.jsxs(bH,{children:[f.jsx(ks,{data:r,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,percentage:o})=>`${a} ${o}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:r.map((a,o)=>f.jsx(Kc,{fill:Ym[a.name.toLowerCase()]||Ym.other},`cell-${o}`))}),f.jsx(yr,{formatter:a=>Oe(a)})]})}),f.jsx("div",{className:"space-y-2",children:r.map(a=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:Ym[a.name.toLowerCase()]||Ym.other}}),f.jsx("span",{className:"capitalize",children:a.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Oe(a.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.percentage,"%"]})]})]},a.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(vM,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No expense data available"})]})})]}),f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Spending Trend"}),f.jsx(vn,{children:"Monthly expenses over the last 6 months"})]}),f.jsx($t,{children:i.length>0?f.jsx(Pc,{width:"100%",height:250,children:f.jsxs(_Ee,{data:i,children:[f.jsx(ZC,{strokeDasharray:"3 3"}),f.jsx(to,{dataKey:"month"}),f.jsx(no,{}),f.jsx(yr,{formatter:a=>Oe(a)}),f.jsx(qa,{}),f.jsx(ep,{type:"monotone",dataKey:"amount",stroke:"#ef4444",strokeWidth:2,name:"Spent"})]})}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(Fr,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No trend data available"})]})})]}),f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Payment Methods"}),f.jsx(vn,{children:"How you're paying for expenses"})]}),f.jsx($t,{children:s.length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx(Pc,{width:"100%",height:250,children:f.jsxs(uP,{data:s,children:[f.jsx(ZC,{strokeDasharray:"3 3"}),f.jsx(to,{dataKey:"name"}),f.jsx(no,{}),f.jsx(yr,{formatter:a=>Oe(a)}),f.jsx(qa,{}),f.jsx(oa,{dataKey:"value",name:"Amount",children:s.map((a,o)=>f.jsx(Kc,{fill:BB[a.name.toLowerCase()]||"#6b7280"},`cell-${o}`))})]})}),f.jsx("div",{className:"space-y-2",children:s.map(a=>f.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg bg-muted/50",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:BB[a.name.toLowerCase()]||"#6b7280"}}),f.jsx("span",{children:a.name})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Oe(a.value)}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.percentage,"%"]})]})]},a.name))})]}):f.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[f.jsx(vh,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),f.jsx("p",{children:"No payment data available"})]})})]})]})]})}function CEe(){const{currentUser:t,currentFamily:e,users:n}=it();return f.jsxs("div",{className:"space-y-6",children:[f.jsxs(tt,{children:[f.jsx(At,{children:f.jsx(Ct,{children:"Family Information"})}),f.jsxs($t,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Family Name"}),f.jsx("span",{className:"font-medium",children:e?.name})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Currency"}),f.jsx("span",{className:"font-medium",children:e?.currency})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Created"}),f.jsx("span",{className:"font-medium",children:e?.created_at?new Date(e.created_at).toLocaleDateString("en-IN"):"Unknown"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Invite Code"}),f.jsx(xn,{variant:"secondary",className:"font-mono",children:e?.invite_code})]})]})]}),f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Family Members"}),f.jsxs(vn,{children:[n.length," ",n.length===1?"member":"members"]})]}),f.jsx($t,{children:f.jsx("div",{className:"space-y-3",children:n.map(r=>f.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border ${r.id===t?.id?"bg-accent/50 border-primary/20":""}`,children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:Qo(r.name)})}),f.jsxs("div",{children:[f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("p",{className:"font-medium",children:[r.name,r.id===t?.id&&f.jsx("span",{className:"text-muted-foreground ml-1",children:"(You)"})]})}),r.phone&&f.jsx("p",{className:"text-sm text-muted-foreground",children:r.phone}),f.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined ",new Date(r.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsx(xn,{variant:r.role==="admin"?"default":"secondary",className:"gap-1",children:r.role==="admin"?f.jsxs(f.Fragment,{children:[f.jsx(mZ,{className:"h-3 w-3"}),"Admin"]}):f.jsxs(f.Fragment,{children:[f.jsx(ZP,{className:"h-3 w-3"}),"Member"]})})]},r.id))})})]}),f.jsxs(tt,{children:[f.jsx(At,{children:f.jsx(Ct,{children:"About KharchaPal"})}),f.jsxs($t,{className:"text-sm text-muted-foreground space-y-2",children:[f.jsx("p",{children:"KharchaPal is your simple, offline-first household expense tracker designed for Indian families."}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[f.jsx("li",{children:"Track expenses together with your family"}),f.jsx("li",{children:"Split payments across UPI, Cash, and Card"}),f.jsx("li",{children:"Manage informal IOUs"}),f.jsx("li",{children:"Set budgets and get alerts"}),f.jsx("li",{children:"Works offline - all data stored locally"})]}),f.jsx("p",{className:"pt-2 text-xs",children:"Version 1.0.0  Built with  for Indian households"})]})]})]})}const nj=["Groceries","Utilities","Rent","Transportation","Healthcare","Education","Entertainment","Food & Dining","Shopping","Household Items","Personal Care","Gifts","Other"],PEe=["Salary","Business","Freelance","Investment","Rental Income","Gift/Bonus","Refund","Other"],EEe=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function TEe(){const{customCategories:t,addCustomCategory:e,deleteCustomCategory:n,currentFamily:r,currentUser:i}=it(),{t:s}=dl(),[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState("expense"),[m,g]=C.useState(!1),x=async()=>{if(!a.trim()||!r||!i)return;const A={id:Mc(),family_id:r.id,name:a.trim(),type:d,icon:l,created_by:i.id,created_at:new Date().toISOString()};try{await e(A),o(""),c(""),Te.success("Category added successfully")}catch(_){console.error("Failed to add category:",_),Te.error("Failed to add category")}},y=async A=>{if(confirm("Are you sure you want to delete this category?"))try{await n(A),Te.success("Category deleted")}catch(_){console.error("Failed to delete category:",_),Te.error("Failed to delete category")}},b=t.filter(A=>A.type===d),w=d==="expense"?nj:PEe;return f.jsx("div",{className:"space-y-6",children:f.jsxs($c,{value:d,onValueChange:A=>h(A),children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2",children:[f.jsx(Ir,{value:"expense",children:"Expense Categories"}),f.jsx(Ir,{value:"income",children:"Income Sources"})]}),f.jsxs("div",{className:"mt-4 space-y-4",children:[f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(Ch,{open:m,onOpenChange:g,children:[f.jsx(Ph,{asChild:!0,children:f.jsx(ge,{variant:"outline",size:"icon",className:"shrink-0",children:f.jsx("span",{className:"text-lg",children:l})})}),f.jsx(Eh,{className:"w-64 p-2",children:f.jsx("div",{className:"grid grid-cols-6 gap-1",children:EEe.map(A=>f.jsx("button",{className:"h-8 w-8 flex items-center justify-center rounded hover:bg-accent text-lg",onClick:()=>{c(A),g(!1)},children:A},A))})})]}),f.jsxs("div",{className:"flex-1",children:[f.jsx(Ne,{htmlFor:"new-category",className:"sr-only",children:"New Category"}),f.jsx(Tt,{id:"new-category",placeholder:`Add new ${d} category...`,value:a,onChange:A=>o(A.target.value),onKeyDown:A=>A.key==="Enter"&&x()})]}),f.jsx(ge,{onClick:x,disabled:!a.trim(),children:f.jsx(ei,{className:"h-4 w-4"})})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Custom Categories"}),b.length===0?f.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No custom categories yet."}):f.jsx("div",{className:"grid gap-2",children:b.map(A=>f.jsxs("div",{className:"flex items-center justify-between p-3 bg-card border rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg",children:A.icon||""}),f.jsx("span",{children:A.name})]}),f.jsx(ge,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90",onClick:()=>y(A.id),children:f.jsx(_f,{className:"h-4 w-4"})})]},A.id))})]}),f.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[f.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:"Default Categories"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(A=>f.jsx("div",{className:"px-3 py-1 bg-secondary text-secondary-foreground rounded-full text-sm",children:A},A))})]})]})]})})}function jEe(){const{recurringTransactions:t,addRecurringTransaction:e,updateRecurringTransaction:n,deleteRecurringTransaction:r,currentFamily:i,currentUser:s}=it(),[a,o]=C.useState(!1),[l,c]=C.useState(null),[d,h]=C.useState(""),[m,g]=C.useState(""),[x,y]=C.useState(""),[b,w]=C.useState("monthly"),[A,_]=C.useState(Ki(new Date,"yyyy-MM-dd")),[E,P]=C.useState(!1),[T,k]=C.useState(!1),O=async()=>{if(!d||!m||!x||!i||!s){Te.error("Please fill in all required fields");return}try{if(l){const D=t.find(W=>W.id===l);if(!D)return;const $={...D,amount:parseFloat(m),category:x,description:d,frequency:b,start_date:A,auto_deduct:E,notify:T};await n($),Te.success("Recurring transaction updated")}else{const D={id:Mc(),family_id:i.id,amount:parseFloat(m),currency:i.currency,category:x,description:d,frequency:b,start_date:A,next_due_date:A,is_active:!0,created_by:s.id,created_at:new Date().toISOString(),auto_deduct:E,notify:T};await e(D),Te.success("Recurring transaction added")}o(!1),M()}catch(D){console.error("Failed to save recurring transaction:",D),Te.error("Failed to save recurring transaction")}},R=D=>{c(D.id),h(D.description),g(D.amount.toString()),y(D.category),w(D.frequency),_(D.start_date),P(D.auto_deduct||!1),k(D.notify||!1),o(!0)},F=async D=>{if(confirm("Are you sure you want to delete this recurring transaction?"))try{await r(D),Te.success("Recurring transaction deleted")}catch($){console.error("Failed to delete recurring transaction:",$),Te.error("Failed to delete recurring transaction")}},M=()=>{c(null),h(""),g(""),y(""),w("monthly"),_(Ki(new Date,"yyyy-MM-dd")),P(!1),k(!1)};return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsx("h2",{className:"text-lg font-semibold",children:"Subscriptions & Recurring"}),f.jsxs(qt,{open:a,onOpenChange:D=>{o(D),D||M()},children:[f.jsx(Zie,{asChild:!0,children:f.jsxs(ge,{size:"sm",children:[f.jsx(ei,{className:"h-4 w-4 mr-2"}),"Add New"]})}),f.jsxs(Gt,{children:[f.jsxs(Zt,{children:[f.jsxs(Jt,{children:[l?"Edit":"Add"," Recurring Transaction"]}),f.jsx(ln,{children:l?"Update details of your recurring expense":"Set up a recurring expense or subscription"})]}),f.jsxs("div",{className:"space-y-4 py-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"description",children:"Description"}),f.jsx(Tt,{id:"description",placeholder:"e.g., Netflix Subscription",value:d,onChange:D=>h(D.target.value)})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"amount",children:"Amount"}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0.00",value:m,onChange:D=>g(D.target.value)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"frequency",children:"Frequency"}),f.jsxs(Bn,{value:b,onValueChange:D=>w(D),children:[f.jsx(zn,{children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"daily",children:"Daily"}),f.jsx(He,{value:"weekly",children:"Weekly"}),f.jsx(He,{value:"monthly",children:"Monthly"}),f.jsx(He,{value:"yearly",children:"Yearly"})]})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"category",children:"Category"}),f.jsxs(Bn,{value:x,onValueChange:y,children:[f.jsx(zn,{children:f.jsx(Un,{placeholder:"Select category"})}),f.jsx(Vn,{children:nj.map(D=>f.jsx(He,{value:D,children:D},D))})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"startDate",children:"Start Date"}),f.jsx(Tt,{onChange:D=>_(D.target.value)})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"autoDeduct",checked:E,onChange:D=>P(D.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx(Ne,{htmlFor:"autoDeduct",children:"Auto-deduct"})]}),f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("input",{type:"checkbox",id:"notify",checked:T,onChange:D=>k(D.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),f.jsx(Ne,{htmlFor:"notify",children:"Notify 1 day before"})]}),f.jsxs(ge,{className:"w-full",onClick:O,children:[l?"Update":"Save"," Recurring Transaction"]})]})]})]})]}),t.length===0?f.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[f.jsx(yh,{className:"h-12 w-12 mx-auto mb-2 opacity-20"}),f.jsx("p",{children:"No recurring transactions set up yet."})]}):f.jsx("div",{className:"grid gap-3",children:t.map(D=>f.jsxs("div",{className:"flex items-center justify-between p-4 bg-card border rounded-lg shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:f.jsx(yh,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:D.description}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.currency," ",D.amount,"  ",D.frequency]})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("div",{className:"text-right mr-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"Next due"}),f.jsx("p",{className:"text-sm font-medium",children:Ki(new Date(D.next_due_date),"MMM d")})]}),f.jsx(ge,{variant:"ghost",size:"icon",onClick:()=>R(D),children:f.jsx(QZ,{className:"h-4 w-4"})}),f.jsx(ge,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive/90",onClick:()=>F(D.id),children:f.jsx(_f,{className:"h-4 w-4"})})]})]},D.id))})]})}function kEe(){return f.jsx("div",{className:"space-y-4",children:f.jsxs(tt,{children:[f.jsx(At,{children:f.jsx(Ct,{className:"text-base",children:" Quick Start Guide"})}),f.jsxs($t,{className:"space-y-4 text-sm",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"1. Add Your First Expense"}),f.jsx(xn,{variant:"secondary",className:"text-xs",children:"Easy"})]}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:["Tap the ",f.jsx("strong",{children:"+ button"})," at bottom-right"]}),f.jsx("li",{children:"Enter amount, category, and date"}),f.jsx("li",{children:'Toggle "Split Payment" for multi-tender (UPI + Cash + Card)'}),f.jsx("li",{children:'Mark as "Borrowed" if you need to track an IOU'})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"2. Multi-Tender Split Example"}),f.jsxs("div",{className:"bg-accent/50 p-3 rounded text-xs space-y-1",children:[f.jsxs("p",{children:[f.jsx("strong",{children:"Total:"})," 800 (Grocery shopping)"]}),f.jsx("p",{children:" Card: 500"}),f.jsx("p",{children:" Cash: 300"}),f.jsx("p",{className:"text-muted-foreground pt-1",children:" The app ensures split amounts match the total"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"3. Track IOUs"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'When adding expense, toggle "Borrowed" on any payment line'}),f.jsx("li",{children:"Select who you borrowed from"}),f.jsx("li",{children:'View all IOUs in the "IOUs" tab'}),f.jsx("li",{children:"Settle debts when you pay back"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"4. Set Budgets"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsx("li",{children:'Go to "Budgets" tab'}),f.jsx("li",{children:'Tap "Add Budget" and select category'}),f.jsx("li",{children:"Set monthly/weekly limits"}),f.jsx("li",{children:"Get alerts when you reach threshold (default 80%)"})]})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-medium mb-2",children:"5. Invite Family Members"}),f.jsxs("ul",{className:"list-disc list-inside space-y-1 text-muted-foreground ml-2",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Admin:"}),' Tap "Invite" button in header']}),f.jsx("li",{children:"Share the 6-character invite code"}),f.jsxs("li",{children:[f.jsx("strong",{children:"Member:"}),' Use "Join Family" at welcome screen']})]})]}),f.jsx("div",{className:"bg-purple-50 p-3 rounded border border-purple-200",children:f.jsxs("p",{className:"text-xs",children:[f.jsx("strong",{children:" Tip:"})," All data is stored locally on your device and works offline. Admin can view all family expenses, while members see their own and shared expenses."]})})]})]})})}const UB=["#8b5cf6","#f97316","#06b6d4","#10b981","#f59e0b","#ef4444"];function NEe(){const{currentUser:t,currentFamily:e,expenses:n,users:r}=it(),{categoryData:i,memberData:s,paymentMethodData:a}=C.useMemo(()=>{const o=new Date,l=new Date(o.getFullYear(),o.getMonth(),1),c=n.filter(b=>new Date(b.date)>=l&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)),d={};c.forEach(b=>{d[b.category]=(d[b.category]||0)+b.total_amount});const h=Object.entries(d).map(([b,w])=>({name:b,value:w})).sort((b,w)=>w.value-b.value).slice(0,5),m={};t?.role==="admin"&&c.forEach(b=>{m[b.created_by]=(m[b.created_by]||0)+b.total_amount});const g=Object.entries(m).map(([b,w])=>({name:r.find(A=>A.id===b)?.name||"Unknown",value:w})).sort((b,w)=>w.value-b.value),x={};c.forEach(b=>{b.payment_lines.forEach(w=>{x[w.method]=(x[w.method]||0)+w.amount})});const y=Object.entries(x).map(([b,w])=>({name:b.charAt(0).toUpperCase()+b.slice(1),value:w})).sort((b,w)=>w.value-b.value);return{categoryData:h,memberData:g,paymentMethodData:y}},[n,t,r]);return i.length===0?null:f.jsxs("div",{className:"space-y-4",children:[f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Top Categories"}),f.jsx(vn,{children:"This month's spending by category"})]}),f.jsx($t,{children:f.jsx(Pc,{width:"100%",height:250,children:f.jsxs(bH,{children:[f.jsx(ks,{data:i,cx:"50%",cy:"50%",labelLine:!1,label:({name:o,percent:l})=>`${o} (${(l*100).toFixed(0)}%)`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:i.map((o,l)=>f.jsx(Kc,{fill:UB[l%UB.length]},`cell-${l}`))}),f.jsx(yr,{formatter:o=>Oe(o,e?.currency)})]})})})]}),a.length>0&&f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Payment Methods"}),f.jsx(vn,{children:"How you're paying"})]}),f.jsx($t,{children:f.jsx(Pc,{width:"100%",height:200,children:f.jsxs(uP,{data:a,children:[f.jsx(to,{dataKey:"name"}),f.jsx(no,{}),f.jsx(yr,{formatter:o=>Oe(o,e?.currency)}),f.jsx(oa,{dataKey:"value",fill:"#8b5cf6",radius:[8,8,0,0]})]})})})]}),t?.role==="admin"&&s.length>0&&f.jsxs(tt,{children:[f.jsxs(At,{children:[f.jsx(Ct,{children:"Member Spending"}),f.jsx(vn,{children:"Expenses by family member"})]}),f.jsx($t,{children:f.jsx(Pc,{width:"100%",height:200,children:f.jsxs(uP,{data:s,children:[f.jsx(to,{dataKey:"name"}),f.jsx(no,{}),f.jsx(yr,{formatter:o=>Oe(o,e?.currency)}),f.jsx(oa,{dataKey:"value",fill:"#f97316",radius:[8,8,0,0]})]})})})]})]})}function OEe({debt:t,open:e,onClose:n}){const{users:r,updateDebt:i}=it(),[s,a]=C.useState("cash"),[o,l]=C.useState(!1),c=r.find(h=>h.id===t.lender_user_id),d=async()=>{l(!0);try{const h={...t,status:"settled",settled_at:new Date().toISOString(),settlement_method:s};await i(h),Te.success("IOU marked as settled"),n()}catch(h){console.error("Failed to settle debt:",h),Te.error("Failed to settle IOU")}finally{l(!1)}};return f.jsx(qt,{open:e,onOpenChange:h=>!h&&n(),children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Settle IOU"}),f.jsxs(ln,{children:["Record how you paid back ",c?.name||"the lender"]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-accent/50 p-4 rounded-lg",children:[f.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Amount to Settle"}),f.jsx("p",{className:"text-2xl font-semibold",children:Oe(t.amount,t.currency)})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"settlementMethod",children:"How did you pay?"}),f.jsxs(Bn,{value:s,onValueChange:h=>a(h),children:[f.jsx(zn,{id:"settlementMethod",children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"cash",children:" Cash"}),f.jsx(He,{value:"upi",children:" UPI"}),f.jsx(He,{value:"card",children:" Card"})]})]})]}),f.jsx("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:f.jsx("p",{className:"text-sm",children:" This will mark the IOU as settled and remove it from your active debts."})}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ge,{variant:"outline",onClick:n,className:"flex-1",children:"Cancel"}),f.jsx(ge,{onClick:d,disabled:o,className:"flex-1",children:o?"Settling...":"Mark as Settled"})]})]})]})})}function xH(){const{currentUser:t,debts:e,users:n}=it(),[r,i]=C.useState(null),s=e.filter(c=>c.status==="open"&&c.borrower_user_id===t?.id),a=e.filter(c=>c.status==="open"&&c.lender_user_id===t?.id),o=c=>n.find(h=>h.id===c)?.name||"Unknown",l=c=>n.find(d=>d.id===c);return s.length===0&&a.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No active IOUs"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Borrowed payments will appear here"})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"space-y-6",children:[s.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"You Owe"}),f.jsx("div",{className:"space-y-2",children:s.map(c=>{const d=l(c.lender_user_id);return f.jsx(tt,{className:"p-4 bg-error-container/20 border-destructive/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:d?Qo(d.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["To ",o(c.lender_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[f.jsx("p",{className:"font-semibold text-red-600",children:Oe(c.amount,c.currency)}),f.jsx(ge,{size:"sm",onClick:()=>i(c),children:"Settle"})]})]})},c.id)})})]}),a.length>0&&f.jsxs("div",{children:[f.jsx("h3",{className:"text-sm text-muted-foreground mb-3",children:"Owed to You"}),f.jsx("div",{className:"space-y-2",children:a.map(c=>{const d=l(c.borrower_user_id);return f.jsx(tt,{className:"p-4 bg-tertiary-container/20 border-tertiary/20 shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx(Dc,{children:f.jsx(Rc,{children:d?Qo(d.name):"?"})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium",children:["From ",o(c.borrower_user_id)]}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Borrowed on ",new Date(c.created_at).toLocaleDateString("en-IN")]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold text-green-600",children:Oe(c.amount,c.currency)}),f.jsx(xn,{variant:"outline",className:"mt-1",children:"Pending"})]})]})},c.id)})})]})]}),r&&f.jsx(OEe,{debt:r,open:!!r,onClose:()=>i(null)})]})}function MEe(){const{currentUser:t,currentFamily:e,budgets:n,expenses:r}=it(),i=C.useMemo(()=>{const s=new Date,a=new Date(s.getFullYear(),s.getMonth(),1),o=new Date(s);return o.setDate(s.getDate()-s.getDay()),n.map(l=>{const c=l.period==="monthly"?a:o,h=r.filter(b=>b.category===l.category&&new Date(b.date)>=c&&(t?.role==="admin"||b.is_shared||b.created_by===t?.id)).reduce((b,w)=>b+w.total_amount,0),m=h/l.limit_amount*100,g=h>l.limit_amount,x=m>=l.notify_threshold_percent&&!g,y=l.limit_amount-h;return{...l,spent:h,percentage:Math.min(m,100),isOverBudget:g,isNearLimit:x,remaining:y}})},[n,r,t]);return n.length===0?f.jsxs("div",{className:"text-center py-12",children:[f.jsx("div",{className:"text-4xl mb-4",children:""}),f.jsx("p",{className:"text-muted-foreground",children:"No budgets set yet"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Tap 'Add Budget' to create your first budget"})]}):f.jsx("div",{className:"space-y-3",children:i.map(s=>f.jsxs(tt,{className:s.isOverBudget?"border-red-300 bg-red-50/50":s.isNearLimit?"border-orange-300 bg-orange-50/50":"",children:[f.jsx(At,{className:"pb-3",children:f.jsxs("div",{className:"flex items-start justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-2xl",children:fg(s.category)}),f.jsxs("div",{children:[f.jsx(Ct,{className:"text-base",children:s.category}),f.jsxs("p",{className:"text-xs text-muted-foreground capitalize",children:[s.period," budget"]})]})]}),s.isOverBudget?f.jsxs(xn,{variant:"destructive",className:"gap-1",children:[f.jsx(Nc,{className:"h-3 w-3"}),"Over Budget"]}):s.isNearLimit?f.jsxs(xn,{variant:"secondary",className:"gap-1 bg-orange-100 text-orange-700 border-orange-300",children:[f.jsx(Fr,{className:"h-3 w-3"}),s.notify_threshold_percent,"% reached"]}):null]})}),f.jsxs($t,{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-end justify-between text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Spent: "}),f.jsx("span",{className:s.isOverBudget?"font-semibold text-red-600":"font-semibold",children:Oe(s.spent,e?.currency)})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-muted-foreground",children:"Limit: "}),f.jsx("span",{className:"font-semibold",children:Oe(s.limit_amount,e?.currency)})]})]}),f.jsx($v,{value:s.percentage,className:s.isOverBudget?"bg-red-200":s.isNearLimit?"bg-orange-200":""}),f.jsxs("div",{className:"flex justify-between text-xs",children:[f.jsx("span",{className:s.remaining>=0?"text-green-600":"text-red-600",children:s.remaining>=0?`${Oe(s.remaining,e?.currency)} remaining`:`${Oe(Math.abs(s.remaining),e?.currency)} over`}),f.jsxs("span",{className:"text-muted-foreground",children:[s.percentage.toFixed(0),"% used"]})]})]})]},s.id))})}function DEe(t){const e=REe(t),n=C.forwardRef((r,i)=>{const{children:s,...a}=r,o=C.Children.toArray(s),l=o.find(LEe);if(l){const c=l.props.children,d=o.map(h=>h===l?C.Children.count(c)>1?C.Children.only(null):C.isValidElement(c)?c.props.children:null:h);return f.jsx(e,{...a,ref:i,children:C.isValidElement(c)?C.cloneElement(c,void 0,d):null})}return f.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}function REe(t){const e=C.forwardRef((n,r)=>{const{children:i,...s}=n;if(C.isValidElement(i)){const a=$Ee(i),o=FEe(s,i.props);return i.type!==C.Fragment&&(o.ref=r?Cs(r,a):a),C.cloneElement(i,o)}return C.Children.count(i)>1?C.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IEe=Symbol("radix.slottable");function LEe(t){return C.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IEe}function FEe(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function $Ee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var dP=["Enter"," "],BEe=["ArrowDown","PageUp","Home"],wH=["ArrowUp","PageDown","End"],UEe=[...BEe,...wH],zEe={ltr:[...dP,"ArrowRight"],rtl:[...dP,"ArrowLeft"]},VEe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tp="Menu",[pf,WEe,HEe]=Gv(tp),[bl,SH]=Ni(tp,[HEe,Pu,ay]),Jy=Pu(),_H=ay(),[qEe,xl]=bl(tp),[GEe,np]=bl(tp),AH=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=Jy(e),[l,c]=C.useState(null),d=C.useRef(!1),h=$n(s),m=_u(i);return C.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",x,{capture:!0,once:!0}),document.addEventListener("pointermove",x,{capture:!0,once:!0})},x=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",x,{capture:!0}),document.removeEventListener("pointermove",x,{capture:!0})}},[]),f.jsx(gE,{...o,children:f.jsx(qEe,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:f.jsx(GEe,{scope:e,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:m,modal:a,children:r})})})};AH.displayName=tp;var KEe="MenuAnchor",rj=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jy(n);return f.jsx(Zv,{...i,...r,ref:e})});rj.displayName=KEe;var ij="MenuPortal",[YEe,CH]=bl(ij,{forceMount:void 0}),PH=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=xl(ij,e);return f.jsx(YEe,{scope:e,forceMount:n,children:f.jsx(_r,{present:n||s.open,children:f.jsx(Ef,{asChild:!0,container:i,children:r})})})};PH.displayName=ij;var Pi="MenuContent",[XEe,sj]=bl(Pi),EH=C.forwardRef((t,e)=>{const n=CH(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=xl(Pi,t.__scopeMenu),a=np(Pi,t.__scopeMenu);return f.jsx(pf.Provider,{scope:t.__scopeMenu,children:f.jsx(_r,{present:r||s.open,children:f.jsx(pf.Slot,{scope:t.__scopeMenu,children:a.modal?f.jsx(QEe,{...i,ref:e}):f.jsx(ZEe,{...i,ref:e})})})})}),QEe=C.forwardRef((t,e)=>{const n=xl(Pi,t.__scopeMenu),r=C.useRef(null),i=Ze(e,r);return C.useEffect(()=>{const s=r.current;if(s)return zv(s)},[]),f.jsx(aj,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ye(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),ZEe=C.forwardRef((t,e)=>{const n=xl(Pi,t.__scopeMenu);return f.jsx(aj,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),JEe=DEe("MenuContent.ScrollLock"),aj=C.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,disableOutsideScroll:x,...y}=t,b=xl(Pi,n),w=np(Pi,n),A=Jy(n),_=_H(n),E=WEe(n),[P,T]=C.useState(null),k=C.useRef(null),O=Ze(e,k,b.onContentChange),R=C.useRef(0),F=C.useRef(""),M=C.useRef(0),D=C.useRef(null),$=C.useRef("right"),W=C.useRef(0),H=x?Tf:C.Fragment,V=x?{as:JEe,allowPinchZoom:!0}:void 0,U=G=>{const Q=F.current+G,B=E().filter(ie=>!ie.disabled),K=document.activeElement,Z=B.find(ie=>ie.ref.current===K)?.textValue,ae=B.map(ie=>ie.textValue),ce=dTe(ae,Q,Z),pe=B.find(ie=>ie.textValue===ce)?.ref.current;(function ie(ee){F.current=ee,window.clearTimeout(R.current),ee!==""&&(R.current=window.setTimeout(()=>ie(""),1e3))})(Q),pe&&setTimeout(()=>pe.focus())};C.useEffect(()=>()=>window.clearTimeout(R.current),[]),Bv();const L=C.useCallback(G=>$.current===D.current?.side&&fTe(G,D.current?.area),[]);return f.jsx(XEe,{scope:n,searchRef:F,onItemEnter:C.useCallback(G=>{L(G)&&G.preventDefault()},[L]),onItemLeave:C.useCallback(G=>{L(G)||(k.current?.focus(),T(null))},[L]),onTriggerLeave:C.useCallback(G=>{L(G)&&G.preventDefault()},[L]),pointerGraceTimerRef:M,onPointerGraceIntentChange:C.useCallback(G=>{D.current=G},[]),children:f.jsx(H,{...V,children:f.jsx(Pf,{asChild:!0,trapped:i,onMountAutoFocus:ye(s,G=>{G.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:f.jsx(Cf,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,onDismiss:g,children:f.jsx(Yz,{asChild:!0,..._,dir:w.dir,orientation:"vertical",loop:r,currentTabStopId:P,onCurrentTabStopIdChange:T,onEntryFocus:ye(l,G=>{w.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:f.jsx(vE,{role:"menu","aria-orientation":"vertical","data-state":VH(b.open),"data-radix-menu-content":"",dir:w.dir,...A,...y,ref:O,style:{outline:"none",...y.style},onKeyDown:ye(y.onKeyDown,G=>{const B=G.target.closest("[data-radix-menu-content]")===G.currentTarget,K=G.ctrlKey||G.altKey||G.metaKey,Z=G.key.length===1;B&&(G.key==="Tab"&&G.preventDefault(),!K&&Z&&U(G.key));const ae=k.current;if(G.target!==ae||!UEe.includes(G.key))return;G.preventDefault();const pe=E().filter(ie=>!ie.disabled).map(ie=>ie.ref.current);wH.includes(G.key)&&pe.reverse(),cTe(pe)}),onBlur:ye(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(R.current),F.current="")}),onPointerMove:ye(t.onPointerMove,mf(G=>{const Q=G.target,B=W.current!==G.clientX;if(G.currentTarget.contains(Q)&&B){const K=G.clientX>W.current?"right":"left";$.current=K,W.current=G.clientX}}))})})})})})})});EH.displayName=Pi;var eTe="MenuGroup",oj=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{role:"group",...r,ref:e})});oj.displayName=eTe;var tTe="MenuLabel",TH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{...r,ref:e})});TH.displayName=tTe;var Ov="MenuItem",zB="menu.itemSelect",eb=C.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=C.useRef(null),a=np(Ov,t.__scopeMenu),o=sj(Ov,t.__scopeMenu),l=Ze(e,s),c=C.useRef(!1),d=()=>{const h=s.current;if(!n&&h){const m=new CustomEvent(zB,{bubbles:!0,cancelable:!0});h.addEventListener(zB,g=>r?.(g),{once:!0}),c5(h,m),m.defaultPrevented?c.current=!1:a.onClose()}};return f.jsx(jH,{...i,ref:l,disabled:n,onClick:ye(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),c.current=!0},onPointerUp:ye(t.onPointerUp,h=>{c.current||h.currentTarget?.click()}),onKeyDown:ye(t.onKeyDown,h=>{const m=o.searchRef.current!=="";n||m&&h.key===" "||dP.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});eb.displayName=Ov;var jH=C.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=sj(Ov,n),o=_H(n),l=C.useRef(null),c=Ze(e,l),[d,h]=C.useState(!1),[m,g]=C.useState("");return C.useEffect(()=>{const x=l.current;x&&g((x.textContent??"").trim())},[s.children]),f.jsx(pf.ItemSlot,{scope:n,disabled:r,textValue:i??m,children:f.jsx(Xz,{asChild:!0,...o,focusable:!r,children:f.jsx(Be.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:ye(t.onPointerMove,mf(x=>{r?a.onItemLeave(x):(a.onItemEnter(x),x.defaultPrevented||x.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ye(t.onPointerLeave,mf(x=>a.onItemLeave(x))),onFocus:ye(t.onFocus,()=>h(!0)),onBlur:ye(t.onBlur,()=>h(!1))})})})}),nTe="MenuCheckboxItem",kH=C.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return f.jsx(RH,{scope:t.__scopeMenu,checked:n,children:f.jsx(eb,{role:"menuitemcheckbox","aria-checked":Mv(n)?"mixed":n,...i,ref:e,"data-state":cj(n),onSelect:ye(i.onSelect,()=>r?.(Mv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});kH.displayName=nTe;var NH="MenuRadioGroup",[rTe,iTe]=bl(NH,{value:void 0,onValueChange:()=>{}}),OH=C.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=$n(r);return f.jsx(rTe,{scope:t.__scopeMenu,value:n,onValueChange:s,children:f.jsx(oj,{...i,ref:e})})});OH.displayName=NH;var MH="MenuRadioItem",DH=C.forwardRef((t,e)=>{const{value:n,...r}=t,i=iTe(MH,t.__scopeMenu),s=n===i.value;return f.jsx(RH,{scope:t.__scopeMenu,checked:s,children:f.jsx(eb,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":cj(s),onSelect:ye(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});DH.displayName=MH;var lj="MenuItemIndicator",[RH,sTe]=bl(lj,{checked:!1}),IH=C.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=sTe(lj,n);return f.jsx(_r,{present:r||Mv(s.checked)||s.checked===!0,children:f.jsx(Be.span,{...i,ref:e,"data-state":cj(s.checked)})})});IH.displayName=lj;var aTe="MenuSeparator",LH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return f.jsx(Be.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});LH.displayName=aTe;var oTe="MenuArrow",FH=C.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=Jy(n);return f.jsx(yE,{...i,...r,ref:e})});FH.displayName=oTe;var lTe="MenuSub",[Wje,$H]=bl(lTe),Yd="MenuSubTrigger",BH=C.forwardRef((t,e)=>{const n=xl(Yd,t.__scopeMenu),r=np(Yd,t.__scopeMenu),i=$H(Yd,t.__scopeMenu),s=sj(Yd,t.__scopeMenu),a=C.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=C.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return C.useEffect(()=>d,[d]),C.useEffect(()=>{const h=o.current;return()=>{window.clearTimeout(h),l(null)}},[o,l]),f.jsx(rj,{asChild:!0,...c,children:f.jsx(jH,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":VH(n.open),...t,ref:Cs(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ye(t.onPointerMove,mf(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:ye(t.onPointerLeave,mf(h=>{d();const m=n.content?.getBoundingClientRect();if(m){const g=n.content?.dataset.side,x=g==="right",y=x?-5:5,b=m[x?"left":"right"],w=m[x?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x:b,y:m.top},{x:w,y:m.top},{x:w,y:m.bottom},{x:b,y:m.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:ye(t.onKeyDown,h=>{const m=s.searchRef.current!=="";t.disabled||m&&h.key===" "||zEe[r.dir].includes(h.key)&&(n.onOpenChange(!0),n.content?.focus(),h.preventDefault())})})})});BH.displayName=Yd;var UH="MenuSubContent",zH=C.forwardRef((t,e)=>{const n=CH(Pi,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=xl(Pi,t.__scopeMenu),a=np(Pi,t.__scopeMenu),o=$H(UH,t.__scopeMenu),l=C.useRef(null),c=Ze(e,l);return f.jsx(pf.Provider,{scope:t.__scopeMenu,children:f.jsx(_r,{present:r||s.open,children:f.jsx(pf.Slot,{scope:t.__scopeMenu,children:f.jsx(aj,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{a.isUsingKeyboardRef.current&&l.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ye(t.onFocusOutside,d=>{d.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:ye(t.onEscapeKeyDown,d=>{a.onClose(),d.preventDefault()}),onKeyDown:ye(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),m=VEe[a.dir].includes(d.key);h&&m&&(s.onOpenChange(!1),o.trigger?.focus(),d.preventDefault())})})})})})});zH.displayName=UH;function VH(t){return t?"open":"closed"}function Mv(t){return t==="indeterminate"}function cj(t){return Mv(t)?"indeterminate":t?"checked":"unchecked"}function cTe(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function uTe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function dTe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=uTe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function hTe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,d=o.y,h=l.x,m=l.y;d>r!=m>r&&n<(h-c)*(r-d)/(m-d)+c&&(i=!i)}return i}function fTe(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return hTe(n,e)}function mf(t){return e=>e.pointerType==="mouse"?t(e):void 0}var pTe=AH,mTe=rj,gTe=PH,vTe=EH,yTe=oj,bTe=TH,xTe=eb,wTe=kH,STe=OH,_Te=DH,ATe=IH,CTe=LH,PTe=FH,ETe=BH,TTe=zH,tb="DropdownMenu",[jTe]=Ni(tb,[SH]),Ar=SH(),[kTe,WH]=jTe(tb),HH=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Ar(e),c=C.useRef(null),[d,h]=ta({prop:i,defaultProp:s??!1,onChange:a,caller:tb});return f.jsx(kTe,{scope:e,triggerId:Gi(),triggerRef:c,contentId:Gi(),open:d,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(m=>!m),[h]),modal:o,children:f.jsx(pTe,{...l,open:d,onOpenChange:h,dir:r,modal:o,children:n})})};HH.displayName=tb;var qH="DropdownMenuTrigger",GH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=WH(qH,n),a=Ar(n);return f.jsx(mTe,{asChild:!0,...a,children:f.jsx(Be.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Cs(e,s.triggerRef),onPointerDown:ye(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:ye(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});GH.displayName=qH;var NTe="DropdownMenuPortal",KH=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ar(e);return f.jsx(gTe,{...r,...n})};KH.displayName=NTe;var YH="DropdownMenuContent",XH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=WH(YH,n),s=Ar(n),a=C.useRef(!1);return f.jsx(vTe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:ye(t.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:ye(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XH.displayName=YH;var OTe="DropdownMenuGroup",MTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(yTe,{...i,...r,ref:e})});MTe.displayName=OTe;var DTe="DropdownMenuLabel",RTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(bTe,{...i,...r,ref:e})});RTe.displayName=DTe;var ITe="DropdownMenuItem",QH=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(xTe,{...i,...r,ref:e})});QH.displayName=ITe;var LTe="DropdownMenuCheckboxItem",FTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(wTe,{...i,...r,ref:e})});FTe.displayName=LTe;var $Te="DropdownMenuRadioGroup",BTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(STe,{...i,...r,ref:e})});BTe.displayName=$Te;var UTe="DropdownMenuRadioItem",zTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(_Te,{...i,...r,ref:e})});zTe.displayName=UTe;var VTe="DropdownMenuItemIndicator",WTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(ATe,{...i,...r,ref:e})});WTe.displayName=VTe;var HTe="DropdownMenuSeparator",qTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(CTe,{...i,...r,ref:e})});qTe.displayName=HTe;var GTe="DropdownMenuArrow",KTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(PTe,{...i,...r,ref:e})});KTe.displayName=GTe;var YTe="DropdownMenuSubTrigger",XTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(ETe,{...i,...r,ref:e})});XTe.displayName=YTe;var QTe="DropdownMenuSubContent",ZTe=C.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ar(n);return f.jsx(TTe,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZTe.displayName=QTe;var JTe=HH,eje=GH,tje=KH,nje=XH,rje=QH;function ije({...t}){return f.jsx(JTe,{"data-slot":"dropdown-menu",...t})}function sje({...t}){return f.jsx(eje,{"data-slot":"dropdown-menu-trigger",...t})}function aje({className:t,sideOffset:e=4,...n}){return f.jsx(tje,{children:f.jsx(nje,{"data-slot":"dropdown-menu-content",sideOffset:e,className:Fe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function $_({className:t,inset:e,variant:n="default",...r}){return f.jsx(rje,{"data-slot":"dropdown-menu-item","data-inset":e,"data-variant":n,className:Fe("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}const oje={cash:YP,bank:XP,card:QP,wallet:wu},lje={cash:"bg-green-100 text-green-700 dark:bg-green-900/20 dark:text-green-400",bank:"bg-blue-100 text-blue-700 dark:bg-blue-900/20 dark:text-blue-400",card:"bg-purple-100 text-purple-700 dark:bg-purple-900/20 dark:text-purple-400",wallet:"bg-orange-100 text-orange-700 dark:bg-orange-900/20 dark:text-orange-400"};function cje({account:t,compact:e=!1,onEdit:n,onDelete:r,onQuickAdd:i}){const s=oje[t.type],a=lje[t.type],o=t.current_balance>t.opening_balance?"positive":t.current_balance<t.opening_balance?"negative":"zero";return e?f.jsx(tt,{className:"hover:shadow-md transition-shadow",children:f.jsx($t,{className:"p-4",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-lg ${a}`,children:f.jsx(s,{className:"h-5 w-5"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium",children:t.name}),f.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:t.type})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"font-semibold",children:Oe(t.current_balance)}),o!=="zero"&&f.jsxs("p",{className:`text-xs ${o==="positive"?"text-green-600":"text-red-600"}`,children:[o==="positive"?"+":"",Oe(t.current_balance-t.opening_balance)]})]})]})})}):f.jsx(tt,{className:"hover:shadow-lg transition-shadow",children:f.jsxs($t,{className:"p-6",children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-3 rounded-xl ${a}`,children:f.jsx(s,{className:"h-6 w-6"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-semibold text-lg",children:t.name}),f.jsx(xn,{variant:"secondary",className:"text-xs capitalize mt-1",children:t.type})]})]}),f.jsxs(ije,{children:[f.jsx(sje,{asChild:!0,children:f.jsx(ge,{variant:"ghost",size:"icon",children:f.jsx(wZ,{className:"h-4 w-4"})})}),f.jsxs(aje,{align:"end",children:[i&&f.jsxs($_,{onClick:i,children:[f.jsx(ei,{className:"h-4 w-4 mr-2"}),"Quick Add"]}),n&&f.jsx($_,{onClick:n,children:"Edit Account"}),r&&f.jsx($_,{onClick:r,className:"text-destructive",children:"Delete Account"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex justify-between items-baseline",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Current Balance"}),f.jsx("span",{className:"text-2xl font-bold",children:Oe(t.current_balance)})]}),f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Opening Balance"}),f.jsx("span",{children:Oe(t.opening_balance)})]}),o!=="zero"&&f.jsx("div",{className:"pt-2 border-t",children:f.jsxs("div",{className:"flex justify-between items-baseline text-sm",children:[f.jsx("span",{className:"text-muted-foreground",children:"Change"}),f.jsxs("span",{className:o==="positive"?"text-green-600 font-medium":"text-red-600 font-medium",children:[o==="positive"?"+":"",Oe(t.current_balance-t.opening_balance)]})]})})]}),t.notes&&f.jsx("p",{className:"text-sm text-muted-foreground mt-4 pt-4 border-t",children:t.notes})]})})}const B_=[{value:"cash",label:"Cash",icon:YP,description:"Physical cash at home or wallet"},{value:"bank",label:"Bank Account",icon:XP,description:"Savings or current account"},{value:"card",label:"Credit/Debit Card",icon:QP,description:"Card balance or limit"},{value:"wallet",label:"Digital Wallet",icon:wu,description:"UPI, PayTM, PhonePe, etc."}];function hP({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addAccount:i}=it(),[s,a]=C.useState(""),[o,l]=C.useState("cash"),[c,d]=C.useState(""),[h,m]=C.useState(""),[g,x]=C.useState(!1),y=async()=>{if(!n||!r)return;if(!s.trim()){Te.error("Please enter an account name");return}const _=parseFloat(c)||0;if(isNaN(_)){Te.error("Please enter a valid amount");return}x(!0);try{const E={id:cn(),family_id:r.id,name:s.trim(),type:o,opening_balance:_,current_balance:_,currency:r.currency,notes:h.trim()||void 0,created_by:n.id,created_at:new Date().toISOString()};await i(E),Te.success(`Account "${s}" added successfully`),b()}catch(E){console.error("Failed to add account:",E),Te.error("Failed to add account")}finally{x(!1)}},b=()=>{a(""),l("cash"),d(""),m(""),e()},w=B_.find(_=>_.value===o)||B_[0],A=w.icon;return f.jsx(qt,{open:t,onOpenChange:_=>!_&&b(),children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Add Account"}),f.jsx(ln,{children:"Track your cash, bank accounts, cards, and digital wallets"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"name",children:"Account Name *"}),f.jsx(Tt,{id:"name",placeholder:"e.g., Home Cash, HDFC Savings, Paytm",value:s,onChange:_=>a(_.target.value),autoFocus:!0})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"type",children:"Account Type *"}),f.jsxs(Bn,{value:o,onValueChange:_=>l(_),children:[f.jsx(zn,{id:"type",children:f.jsx(Un,{children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(A,{className:"h-4 w-4"}),f.jsx("span",{children:w.label})]})})}),f.jsx(Vn,{children:B_.map(_=>{const E=_.icon;return f.jsx(He,{value:_.value,children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(E,{className:"h-4 w-4"}),f.jsxs("div",{children:[f.jsx("div",{children:_.label}),f.jsx("div",{className:"text-xs text-muted-foreground",children:_.description})]})]})},_.value)})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"balance",children:"Current Balance *"}),f.jsxs("div",{className:"relative",children:[f.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:""}),f.jsx(Tt,{id:"balance",type:"number",placeholder:"0.00",value:c,onChange:_=>d(_.target.value),className:"pl-8",step:"0.01"})]}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the current amount in this account"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"notes",children:"Notes (optional)"}),f.jsx(Ha,{id:"notes",placeholder:"e.g., Last 4 digits: 1234",value:h,onChange:_=>m(_.target.value),rows:2})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ge,{variant:"outline",onClick:b,className:"flex-1",children:"Cancel"}),f.jsx(ge,{onClick:y,disabled:g,className:"flex-1",children:g?"Adding...":"Add Account"})]})]})]})})}function uje(){const{accounts:t=[]}=it(),[e,n]=C.useState(!1),r=t.reduce((i,s)=>i+s.current_balance,0);return t.length===0?f.jsxs("div",{className:"space-y-4",children:[f.jsxs(Pg,{children:[f.jsx(wu,{className:"h-4 w-4"}),f.jsx(Eg,{children:"No accounts found. Add your first account to track cash, bank balance, cards, and wallets."})]}),f.jsx("div",{className:"flex justify-center",children:f.jsxs(ge,{onClick:()=>n(!0),children:[f.jsx(ei,{className:"h-4 w-4 mr-2"}),"Add Your First Account"]})}),f.jsx(hP,{open:e,onClose:()=>n(!1)})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xl font-semibold",children:"Accounts"}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:["Total Balance: ",f.jsxs("span",{className:"font-medium text-foreground",children:["",r.toFixed(2)]})]})]}),f.jsxs(ge,{onClick:()=>n(!0),size:"sm",children:[f.jsx(ei,{className:"h-4 w-4 mr-2"}),"Add Account"]})]}),f.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:t.map(i=>f.jsx(cje,{account:i,compact:!0},i.id))}),f.jsx(hP,{open:e,onClose:()=>n(!1)})]})}function dje({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addBudget:i,budgets:s}=it(),[a,o]=C.useState(""),[l,c]=C.useState(""),[d,h]=C.useState("monthly"),[m,g]=C.useState([80]),[x,y]=C.useState(!1),b=nj.filter(_=>!s.some(E=>E.category===_&&E.period===d)),w=async()=>{if(!n||!r)return;const _=parseFloat(l);if(isNaN(_)||_<=0){Te.error("Please enter a valid amount");return}if(!a){Te.error("Please select a category");return}y(!0);try{const E={id:cn(),family_id:r.id,category:a,limit_amount:_,period:d,notify_threshold_percent:m[0],created_by_user_id:n.id,created_at:new Date().toISOString()};await i(E),Te.success("Budget created successfully"),A()}catch(E){console.error("Failed to create budget:",E),Te.error("Failed to create budget")}finally{y(!1)}},A=()=>{o(""),c(""),h("monthly"),g([80]),e()};return f.jsx(qt,{open:t,onOpenChange:_=>!_&&A(),children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Add Budget"}),f.jsx(ln,{children:"Set a spending limit for a category"})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"category",children:"Category *"}),f.jsxs(Bn,{value:a,onValueChange:o,children:[f.jsx(zn,{id:"category",children:f.jsx(Un,{placeholder:"Select category"})}),f.jsx(Vn,{children:b.length>0?b.map(_=>f.jsx(He,{value:_,children:_},_)):f.jsx(He,{value:"_disabled",disabled:!0,children:"All categories have budgets"})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"period",children:"Period *"}),f.jsxs(Bn,{value:d,onValueChange:_=>h(_),children:[f.jsx(zn,{id:"period",children:f.jsx(Un,{})}),f.jsxs(Vn,{children:[f.jsx(He,{value:"monthly",children:"Monthly"}),f.jsx(He,{value:"weekly",children:"Weekly"})]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"limitAmount",children:"Limit Amount *"}),f.jsx(Tt,{id:"limitAmount",type:"number",placeholder:"0.00",value:l,onChange:_=>c(_.target.value),step:"0.01"})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs(Ne,{htmlFor:"threshold",children:["Alert at ",m[0],"%"]}),f.jsx("span",{className:"text-sm text-muted-foreground",children:l&&!isNaN(parseFloat(l))?`${(parseFloat(l)*m[0]/100).toFixed(2)}`:"0.00"})]}),f.jsx(PA,{id:"threshold",value:m,onValueChange:g,min:50,max:100,step:5}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"You'll be notified when spending reaches this percentage"})]}),f.jsxs("div",{className:"flex gap-2 pt-2",children:[f.jsx(ge,{variant:"outline",onClick:A,className:"flex-1",children:"Cancel"}),f.jsx(ge,{onClick:w,disabled:!a||!l||x||b.length===0,className:"flex-1",children:x?"Creating...":"Create Budget"})]})]})]})})}function hje({open:t,onClose:e}){const{currentUser:n,currentFamily:r,addDebt:i}=it(),[s,a]=C.useState("gave"),[o,l]=C.useState(""),[c,d]=C.useState(""),[h,m]=C.useState(new Date),[g,x]=C.useState(void 0),[y,b]=C.useState(""),[w,A]=C.useState(!1),_=async()=>{if(!n||!r)return;const P=parseFloat(c);if(isNaN(P)||P<=0){Te.error("Please enter a valid amount");return}if(!o.trim()){Te.error("Please enter the person's name");return}A(!0);try{const T={id:cn(),family_id:r.id,lender_user_id:s==="gave"?n.id:o,borrower_user_id:s==="gave"?o:n.id,amount:P,currency:r.currency,status:"open",created_at:h.toISOString()};await i(T),Te.success(s==="gave"?`Recorded: You lent ${P} to ${o}`:`Recorded: You borrowed ${P} from ${o}`),E()}catch(T){console.error("Failed to add debt:",T),Te.error("Failed to record debt")}finally{A(!1)}},E=()=>{l(""),d(""),m(new Date),x(void 0),b(""),a("gave"),e()};return f.jsx(qt,{open:t,onOpenChange:P=>!P&&E(),children:f.jsxs(Gt,{className:"max-w-lg",children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx(Jt,{className:"text-xl",children:"Add Debt Record"}),f.jsx(ge,{variant:"ghost",size:"icon",onClick:E,className:"h-6 w-6 rounded-full",children:f.jsx(Su,{className:"h-4 w-4"})})]})}),f.jsxs("div",{className:"space-y-5",children:[f.jsx($c,{value:s,onValueChange:P=>a(P),className:"w-full",children:f.jsxs(Bc,{className:"grid w-full grid-cols-2 h-auto p-1 bg-muted",children:[f.jsxs(Ir,{value:"gave",className:"h-12 data-[state=active]:bg-emerald-500 data-[state=active]:text-white",children:[f.jsx(Fr,{className:"mr-2 h-5 w-5"}),"I Gave"]}),f.jsxs(Ir,{value:"took",className:"h-12 data-[state=active]:bg-background data-[state=active]:text-foreground",children:[f.jsx(Xa,{className:"mr-2 h-5 w-5"}),"I Took"]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"personName",children:s==="gave"?"Lent To":"Borrowed From"}),f.jsx(Tt,{id:"personName",placeholder:"Person's name",value:o,onChange:P=>l(P.target.value),className:"h-12"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"amount",children:"Amount ()"}),f.jsx(Tt,{id:"amount",type:"number",placeholder:"0.00",value:c,onChange:P=>d(P.target.value),step:"10",className:"h-14 text-xl"})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{children:"Date"}),f.jsxs(Ch,{children:[f.jsx(Ph,{asChild:!0,children:f.jsxs(ge,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(Ys,{className:"mr-2 h-4 w-4"}),xs(h)]})}),f.jsx(Eh,{className:"w-auto p-0",align:"start",children:f.jsx(Cg,{mode:"single",selected:h,onSelect:P=>P&&m(P),initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(Ne,{className:"flex items-center gap-2",children:[f.jsx(Ys,{className:"h-4 w-4"}),"Due Date (Optional)"]}),f.jsxs(Ch,{children:[f.jsx(Ph,{asChild:!0,children:f.jsxs(ge,{variant:"outline",className:"w-full justify-start h-12",children:[f.jsx(Ys,{className:"mr-2 h-4 w-4"}),g?xs(g):"dd-mm-yyyy"]})}),f.jsx(Eh,{className:"w-auto p-0",align:"start",children:f.jsx(Cg,{mode:"single",selected:g,onSelect:x,initialFocus:!0})})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx(Ne,{htmlFor:"notes",children:"Notes (Optional)"}),f.jsx(Ha,{id:"notes",placeholder:"Add any additional details...",value:y,onChange:P=>b(P.target.value),rows:3,className:"resize-none"})]}),f.jsxs("div",{className:"flex gap-3 pt-2",children:[f.jsx(ge,{variant:"outline",onClick:E,className:"flex-1 h-12",children:"Cancel"}),f.jsx(ge,{onClick:_,disabled:w,className:`flex-1 h-12 ${s==="gave"?"bg-emerald-500 hover:bg-emerald-600":"bg-orange-500 hover:bg-orange-600"}`,children:w?"Saving...":"Save Record"})]})]})]})})}function fje({open:t,onClose:e}){return f.jsx(jf,{open:t,onOpenChange:e,children:f.jsxs(kf,{side:"bottom",className:"h-[90vh]",children:[f.jsxs(W5,{children:[f.jsxs(Hv,{className:"flex items-center gap-2",children:[f.jsx(X4,{className:"h-5 w-5"}),"Privacy Policy"]}),f.jsx(qv,{children:"How KharchaPal handles your data"})]}),f.jsx(xV,{className:"h-[calc(100%-80px)] mt-4",children:f.jsxs("div",{className:"space-y-6 pr-4",children:[f.jsxs("section",{children:[f.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Your Privacy Matters"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"KharchaPal is designed with your privacy as a top priority. We believe your financial data should remain yours and yours alone."})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(vZ,{className:"h-5 w-5 text-primary"}),f.jsx("h3",{className:"text-lg font-semibold",children:"100% Local Storage"})]}),f.jsxs("div",{className:"bg-muted/50 border-2 border-primary/20 rounded-lg p-4 space-y-2",children:[f.jsx("p",{className:"text-sm",children:f.jsx("strong",{children:"All your data is stored locally on your device only."})}),f.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 ml-2",children:[f.jsx("li",{children:"Expenses and income records"}),f.jsx("li",{children:"Budget information"}),f.jsx("li",{children:"Debt/IOU records"}),f.jsx("li",{children:"Goals and savings"}),f.jsx("li",{children:"Family member information"}),f.jsx("li",{children:"Receipt images and attachments"})]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Your data never leaves your device. There is no cloud storage, no server uploads, and no backups to external services."})]})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(K4,{className:"h-5 w-5 text-primary"}),f.jsx("h3",{className:"text-lg font-semibold",children:"No Cloud Sync"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"KharchaPal does not sync your data to any cloud service. Your financial information stays on your device and is never transmitted to our servers or any third-party services."})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(AZ,{className:"h-5 w-5 text-primary"}),f.jsx("h3",{className:"text-lg font-semibold",children:"No Analytics or Tracking"})]}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"We do not collect any analytics, usage data, or tracking information. We don't know:"}),f.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 ml-2",children:[f.jsx("li",{children:"How you use the app"}),f.jsx("li",{children:"What features you access"}),f.jsx("li",{children:"How much you spend or earn"}),f.jsx("li",{children:"Any personal or financial information"})]})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx(G4,{className:"h-5 w-5 text-primary"}),f.jsx("h3",{className:"text-lg font-semibold",children:"What Data We Collect"})]}),f.jsx("p",{className:"text-sm font-medium",children:"Short answer: Nothing."}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"KharchaPal does not collect, store, or transmit any of your data. All information you enter into the app is stored locally in your device's browser storage (IndexedDB) and never leaves your device."})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Data Security"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"Since all data is stored locally on your device:"}),f.jsxs("ul",{className:"list-disc list-inside text-sm text-muted-foreground space-y-1 ml-2",children:[f.jsx("li",{children:"Your data is as secure as your device"}),f.jsx("li",{children:"We recommend using device lock/password protection"}),f.jsx("li",{children:"Clearing browser data will delete all app data"}),f.jsx("li",{children:"Uninstalling the app will remove all stored information"})]})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Data Backup"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:`Since we don't store your data on any servers, you are responsible for backing up your data. You can use the "Export Data" feature in the app to create a backup file (JSON or CSV format) that you can save to your preferred location.`})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Third-Party Services"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"KharchaPal does not use any third-party services, SDKs, or analytics tools. The app is completely self-contained and offline-capable."})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Changes to This Policy"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"If we ever change our privacy practices, we will update this policy and notify users through the app. However, our core principle of local-only storage will never change."})]}),f.jsxs("section",{className:"space-y-3",children:[f.jsx("h3",{className:"text-lg font-semibold",children:"Contact Us"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"If you have any questions about this Privacy Policy or how KharchaPal handles your data, please contact us at:"}),f.jsx("p",{className:"text-sm font-medium",children:"support@kharchapal.app"})]}),f.jsx("section",{className:"pt-4 border-t",children:f.jsx("p",{className:"text-xs text-muted-foreground",children:"Last updated: November 24, 2025"})})]})})]})})}function pje({onViewChange:t,onShowReports:e}){const{currentUser:n,currentFamily:r,logout:i,debts:s,goals:a,budgets:o,accounts:l,expenses:c,income:d,goalTransfers:h,users:m}=it(),{language:g,setLanguage:x,t:y}=dl(),[b,w]=C.useState(null),[A,_]=C.useState(!1),[E,P]=C.useState(!1),[T,k]=C.useState(!1),[O,R]=C.useState(!1),[F,M]=C.useState(!1),[D,$]=C.useState(!1),W=s.filter(B=>B.status==="open");a.filter(B=>B.is_active);const H=o.length,V=l.length,U=()=>{Te.info(" Coming Soon!",{description:"Invite feature is being enhanced and will be available soon!"})},L=()=>{const B={expenses:c,incomes:d,debts:s,goals:a,goalTransfers:h,accounts:l,budgets:o,users:m,family:r,exportDate:new Date().toISOString()},K=JSON.stringify(B,null,2),Z=new Blob([K],{type:"application/json"}),ae=URL.createObjectURL(Z),ce=document.createElement("a");ce.href=ae,ce.download=`kharchapal-export-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce);const pe=["Date","Category","Amount","Notes","Merchant","Payment_Method","Created_By"],ie=c.map(ne=>[ne.date,ne.category,ne.total_amount,ne.notes||"","",ne.payment_lines?.[0]?.method||"cash",m.find(Me=>Me.id===ne.created_by)?.name||"Unknown"]),ee=[pe,...ie].map(ne=>ne.map(Me=>`"${Me}"`).join(",")).join(`
`),te=new Blob([ee],{type:"text/csv"}),le=URL.createObjectURL(te),he=document.createElement("a");he.href=le,he.download=`kharchapal-expenses-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(he),he.click(),document.body.removeChild(he),URL.revokeObjectURL(ae),URL.revokeObjectURL(le),Te.success("Data exported successfully as JSON and CSV files!")},G=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())},Q=[{id:"reports",title:y("reports"),description:"View spending insights",icon:QQ,iconColor:"text-chart-1",onClick:e||(()=>w("reports"))},{id:"about",title:y("about"),description:"Developer info & support",icon:yc,iconColor:"text-tertiary",onClick:()=>w("about")},{id:"budgets",title:y("budgets"),description:"Set spending limits",icon:uZ,iconColor:"text-purple-600",badge:H>0?`${H}`:void 0,onClick:()=>w("budgets")},{id:"accounts",title:y("accounts"),description:"Manage payment accounts",icon:wu,iconColor:"text-green-600",badge:V>0?`${V}`:void 0,onClick:()=>w("accounts")},{id:"ious",title:y("debts"),description:"Money lent and borrowed",icon:Oc,iconColor:"text-orange-600",badge:W.length>0?`${W.length}`:void 0,onClick:()=>w("ious")},{id:"family",title:y("family"),description:"Invite & manage members",icon:yc,iconColor:"text-primary",onClick:()=>w("invite"),adminOnly:!0},{id:"guide",title:y("guide"),description:"Learn how to use KharchaPal",icon:VQ,iconColor:"text-tertiary",onClick:()=>w("guide")},{id:"settings",title:y("settings"),description:"Family preferences",icon:iJ,iconColor:"text-on-surface-variant",onClick:()=>w("settings")},{id:"categories",title:"Categories",description:"Manage custom categories",icon:Q4,iconColor:"text-pink-600",onClick:()=>w("categories")},{id:"subscriptions",title:"Subscriptions",description:"Manage recurring payments",icon:yh,iconColor:"text-purple-600",onClick:()=>w("subscriptions")},{id:"language",title:y("language"),description:"Change app language",icon:zZ,iconColor:"text-blue-600",badge:g.toUpperCase(),onClick:()=>w("language")},{id:"privacy",title:"Privacy Policy",description:"How we handle your data",icon:X4,iconColor:"text-green-600",onClick:()=>$(!0)}];return f.jsxs("div",{className:"space-y-4",children:[f.jsx(tt,{className:"bg-gradient-to-br from-primary/10 to-tertiary/10 border-primary/20",children:f.jsx(At,{children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xl",children:n?.name.charAt(0).toUpperCase()}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx(Ct,{className:"truncate",children:n?.name}),f.jsx(vn,{className:"truncate",children:r?.name})]}),n?.role==="admin"&&f.jsx(xn,{variant:"secondary",className:"shrink-0",children:"Admin"})]})})}),f.jsx("div",{className:"space-y-2",children:Q.map(B=>{const K=B.icon;return B.adminOnly&&n?.role!=="admin"?null:f.jsxs("button",{onClick:B.onClick,className:"w-full bg-card border border-border rounded-xl p-4 flex items-center gap-4 hover:bg-accent/50 transition-all duration-200 elevation-1 hover:elevation-2",children:[f.jsx("div",{className:`h-10 w-10 rounded-lg bg-surface-variant/50 flex items-center justify-center ${B.iconColor}`,children:f.jsx(K,{className:"h-5 w-5"})}),f.jsxs("div",{className:"flex-1 text-left min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"truncate",children:B.title}),B.badge&&f.jsx(xn,{variant:"secondary",className:"shrink-0",children:B.badge})]}),f.jsx("p",{className:"text-sm text-muted-foreground truncate",children:B.description})]}),f.jsx(W4,{className:"h-5 w-5 text-muted-foreground shrink-0"})]},B.id)})}),f.jsx(tt,{className:"bg-muted/30",children:f.jsxs($t,{className:"pt-6 space-y-3",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"App Version"}),f.jsx("span",{className:"text-sm",children:"1.0.0"})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-muted-foreground",children:"Storage"}),f.jsx("span",{className:"text-sm",children:"Local (Offline-first)"})]})]})}),f.jsxs("div",{className:"space-y-2",children:[f.jsxs(ge,{variant:"outline",className:"w-full justify-start gap-3",onClick:L,children:[f.jsx(bZ,{className:"h-4 w-4"}),"Export Data"]}),f.jsxs(ge,{variant:"outline",className:"w-full justify-start gap-3 text-destructive hover:text-destructive",onClick:G,children:[f.jsx(_f,{className:"h-4 w-4"}),"Clear All Data"]})]}),f.jsxs(ge,{variant:"destructive",className:"w-full gap-2",onClick:i,children:[f.jsx(qZ,{className:"h-4 w-4"}),"Logout"]}),f.jsx(qt,{open:b==="reports",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Reports & Charts"}),f.jsx(ln,{children:"Visualize your spending patterns and trends"})]}),f.jsx(NEe,{})]})}),f.jsx(qt,{open:b==="budgets",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Jt,{children:"Monthly Budgets"}),f.jsx(ln,{children:"Set spending limits for different categories"})]}),f.jsxs(ge,{size:"sm",onClick:()=>R(!0),className:"gap-2",children:[f.jsx(ei,{className:"h-4 w-4"}),"Add Budget"]})]})}),f.jsx(MEe,{})]})}),f.jsx(qt,{open:b==="accounts",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Jt,{children:"Bank Accounts"}),f.jsx(ln,{children:"Manage your payment methods and accounts"})]}),f.jsxs(ge,{size:"sm",onClick:()=>M(!0),className:"gap-2",children:[f.jsx(ei,{className:"h-4 w-4"}),"Add Account"]})]})}),f.jsx(uje,{})]})}),f.jsx(qt,{open:b==="ious",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsx(Zt,{children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx(Jt,{children:"Debts & Loans"}),f.jsx(ln,{children:"Money you've lent to or borrowed from others"})]}),f.jsxs(ge,{size:"sm",onClick:()=>k(!0),className:"gap-2",children:[f.jsx(ei,{className:"h-4 w-4"}),"Add Record"]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"bg-orange-50 dark:bg-orange-950/20 border border-orange-200 dark:border-orange-800 rounded-lg p-4",children:[f.jsxs("h4",{className:"font-medium mb-2 flex items-center gap-2",children:[f.jsx(Oc,{className:"h-4 w-4"}),"How this works"]}),f.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside",children:[f.jsxs("li",{children:[f.jsx("strong",{children:"Money Lent:"})," Money you gave to others (they owe you)"]}),f.jsxs("li",{children:[f.jsx("strong",{children:"Money Borrowed:"})," Money you took from others (you owe them)"]}),f.jsx("li",{children:'IOUs are created automatically when you mark a payment as "borrowed"'}),f.jsx("li",{children:'Click "Settle" to mark the debt as paid'})]})]}),f.jsx(xH,{})]})]})}),f.jsx(qt,{open:b==="invite",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Invite Family Members"}),f.jsx(ln,{children:"Share this code with family members to join"})]}),f.jsxs(tt,{children:[f.jsx(At,{children:f.jsx(Ct,{className:"text-center text-3xl tracking-widest font-mono",children:r?.invite_code})}),f.jsxs($t,{children:[f.jsx(ge,{onClick:U,className:"w-full",children:A?f.jsxs(f.Fragment,{children:[f.jsx(Fv,{className:"h-4 w-4 mr-2"}),"Copied!"]}):f.jsxs(f.Fragment,{children:[f.jsx(hZ,{className:"h-4 w-4 mr-2"}),"Copy Invite Code"]})}),f.jsx(Pg,{className:"mt-4",children:f.jsx(Eg,{children:"New members can enter this code when joining your family"})})]})]})]})}),f.jsx(qt,{open:b==="guide",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Quick Guide"}),f.jsx(ln,{children:"Learn how to use KharchaPal effectively"})]}),f.jsx(kEe,{})]})}),f.jsx(qt,{open:b==="about",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-md",children:[f.jsxs(Zt,{className:"text-center",children:[f.jsx("div",{className:"w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-primary to-tertiary flex items-center justify-center text-4xl",children:""}),f.jsx(Jt,{className:"text-2xl",children:"KharchaPal"}),f.jsx(ln,{className:"text-base",children:"Your simple household expense tracker"})]}),f.jsxs("div",{className:"space-y-4 text-center",children:[f.jsxs("div",{className:"bg-gradient-to-r from-primary/10 to-tertiary/10 p-4 rounded-lg",children:[f.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Developed by"}),f.jsx("p",{className:"text-xl font-bold text-on-primary-container",children:"Nitesh Jha"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Im Nitesh Jha, a UI/UX Designer who uses AI extensively to plan, design, and develop mobile applications with high speed and clarity. I follow a structured product development approach where every idea begins with a PRD (Product Requirement Document). Using AI tools, I convert the PRD into task lists, flows, wireframes, and development-ready assets, ensuring that the entire processfrom concept to a fully functional mobile appbecomes smooth, fast, and extremely efficient. My workflow is simple and scalable: Create the PRD  Define the problem, goals, features, user journeys, and success metrics. Break It Into Tasks Using AI  Convert the PRD into atomic tasks for design, development, and testing. Generate User Flows & Wireframes  Use AI models to instantly create low-fidelity and high-fidelity screens. Build the App With AI Agents  Transform the design into a working PWA, Android APK, or iOS app using another AI tool. Validate & Iterate  Run automated validation flows and refine based on feedback. I combine design thinking with AI automation to build apps faster than traditional methodswhile still maintaining clarity, structure, and user experience."})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs(ge,{variant:"outline",className:"flex-1",onClick:()=>{window.open("https://www.linkedin.com/in/nitesh-jha-2021/","_blank")},children:[f.jsx(yc,{className:"h-4 w-4 mr-2"}),"LinkedIn"]}),f.jsx(ge,{onClick:()=>{const B=encodeURIComponent("Feedback: KharchaPal App"),K=encodeURIComponent(`Hi Nitesh,

I wanted to share some feedback about KharchaPal:

[Please share your suggestions, feedback, or any issues you encountered]

- App version: 1.0.0
- Family: ${r?.name||"Not set"}

Thank you!`);window.open(`mailto:niteshjha1333@gmail.com subject=${B}&body=${K}`)},className:"flex-1",children:" Feedback"})]}),f.jsxs("div",{className:"text-center space-y-2",children:[f.jsx("p",{className:"text-xs text-muted-foreground",children:"If you have time, your suggestions are helpful for improving the app."}),f.jsx("p",{className:"text-xs text-muted-foreground",children:"App Version 1.0.0"})]})]})]})}),f.jsx(qt,{open:b==="settings",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Family Settings"}),f.jsx(ln,{children:"Manage your family preferences and members"})]}),f.jsx(CEe,{})]})}),f.jsx(qt,{open:b==="categories",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Manage Categories"}),f.jsx(ln,{children:"Add or remove custom categories"})]}),f.jsx(TEe,{})]})}),f.jsx(qt,{open:b==="subscriptions",onOpenChange:()=>w(null),children:f.jsx(Gt,{className:"max-w-md max-h-[90vh] overflow-y-auto",children:f.jsx(jEe,{})})}),f.jsx(dje,{open:O,onClose:()=>R(!1)}),f.jsx(hP,{open:F,onClose:()=>M(!1)}),f.jsx(Vz,{open:E,onClose:()=>P(!1)}),f.jsx(hje,{open:T,onClose:()=>k(!1)}),f.jsx(qt,{open:b==="language",onOpenChange:()=>w(null),children:f.jsxs(Gt,{className:"max-w-sm",children:[f.jsxs(Zt,{children:[f.jsx(Jt,{children:y("select_language")}),f.jsx(ln,{children:"Choose your preferred language"})]}),f.jsx("div",{className:"grid gap-2",children:[{code:"en",name:"English",native:"English"},{code:"hi",name:"Hindi",native:""},{code:"mr",name:"Marathi",native:""},{code:"ta",name:"Tamil",native:""},{code:"gu",name:"Gujarati",native:""}].map(B=>f.jsxs(ge,{variant:g===B.code?"default":"outline",className:"justify-between",onClick:()=>{x(B.code),w(null)},children:[f.jsx("span",{children:B.name}),f.jsx("span",{className:"text-xs opacity-70",children:B.native})]},B.code))})]})}),f.jsx(fje,{open:D,onClose:()=>$(!1)})]})}function mje({activeTab:t,onTabChange:e}){const{t:n}=dl(),r=[{id:"home",label:n("home"),icon:FZ},{id:"transactions",label:n("transactions"),icon:vh},{id:"goals",label:n("goals"),icon:th},{id:"more",label:n("more"),icon:KZ}];return f.jsxs("nav",{className:"fixed bottom-safe bottom-0 left-0 right-0 z-50 bg-surface/95 backdrop-blur-lg border-t border-border elevation-4",children:[f.jsx("div",{className:"max-w-4xl mx-auto flex items-center justify-around h-16 px-2",children:r.map(i=>{const s=i.icon,a=t===i.id;return f.jsxs("button",{onClick:()=>e(i.id),className:`
                flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-xl
                transition-all duration-200 min-w-0 flex-1 max-w-[80px]
                active:scale-95
                ${a?"text-primary bg-primary-container/60 shadow-sm":"text-on-surface-variant hover:bg-surface-variant/40 hover:text-foreground"}
              `,children:[f.jsx(s,{className:`h-5 w-5 shrink-0 transition-all ${a?"fill-primary/20 scale-110":""}`}),f.jsx("span",{className:`text-xs truncate w-full text-center transition-all ${a?"font-medium":""}`,children:i.label})]},i.id)})}),f.jsx("div",{className:"absolute top-0 left-0 h-0.5 bg-primary transition-all duration-300 ease-out",style:{width:"25%",transform:`translateX(${r.findIndex(i=>i.id===t)*100}%)`}})]})}const gje="/assets/kharchapal-5yiOkW9g.png";function vje(){const{currentUser:t,currentFamily:e}=it(),{t:n}=dl(),[r,i]=C.useState("home"),[s,a]=C.useState("expenses"),[o,l]=C.useState(!1),[c,d]=C.useState("expense"),[h,m]=C.useState(!1),[g,x]=C.useState(!1),[y,b]=C.useState(!1),[w,A]=C.useState(!1),[_,E]=C.useState(!1),[P,T]=C.useState(!1),[k,O]=C.useState({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),[R,F]=C.useState(!1),M=()=>{d(s==="income"?"income":"expense"),l(!0)},D=H=>{O(H),F(H.searchQuery!==""||H.timeRange!=="all"||H.category!=="All Categories"||H.mode!=="All Modes"),E(!1)},$=()=>{O({searchQuery:"",timeRange:"all",category:"All Categories",mode:"All Modes"}),F(!1)},W=r==="home"||r==="transactions";return y?f.jsx(AEe,{onBack:()=>b(!1)}):f.jsxs("div",{className:"min-h-screen bg-background pb-safe",children:[f.jsx("header",{className:"bg-primary text-primary-foreground elevation-2 sticky top-0 z-10 pt-safe",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:gje,alt:"KharchaPal",className:"h-8 w-8"}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("h1",{className:"truncate",children:e?.name}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("p",{className:"text-sm opacity-90 truncate",children:t?.name}),t?.role==="admin"&&f.jsx(xn,{variant:"secondary",className:"text-xs bg-primary-container text-on-primary-container shrink-0",children:"Admin"})]})]})]})})}),f.jsxs("main",{className:"max-w-4xl mx-auto px-4 py-4 pb-4",children:[r==="home"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("div",{className:"bg-gradient-to-br from-primary/10 via-purple-500/10 to-pink-500/10 rounded-2xl p-5 border border-primary/20",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-primary to-purple-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:f.jsx("span",{className:"text-2xl font-bold",children:""})}),f.jsxs("div",{children:[f.jsxs("h2",{className:"flex items-center gap-2 text-xl font-semibold",children:[n("welcome"),", ",t?.name,"! "]}),f.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:new Date().toLocaleDateString("en-IN",{month:"long",year:"numeric"})})]})]}),f.jsx("div",{className:"text-4xl",children:new Date().getHours()<12?"":new Date().getHours()<17?"":""})]})}),f.jsx(Wde,{}),f.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[f.jsxs("button",{onClick:()=>m(!0),className:"bg-gradient-to-br from-green-50 to-green-100 dark:from-green-950/20 dark:to-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(JP,{className:"h-6 w-6 text-green-600 dark:text-green-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-green-900 dark:text-green-100",children:n("quick_add")}),f.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:n("quick_add_desc")})]})]}),f.jsxs("button",{onClick:()=>x(!0),className:"bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-blue-950/20 dark:to-indigo-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl p-4 flex flex-col items-center gap-2 hover:shadow-md transition-all duration-200",children:[f.jsx(Z4,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"font-semibold text-blue-900 dark:text-blue-100",children:n("import_upi")}),f.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:n("import_upi_desc")})]})]})]}),f.jsx(iee,{}),f.jsx(see,{onClick:()=>T(!0)}),f.jsx(VJ,{}),f.jsx(HJ,{}),f.jsxs("div",{children:[f.jsx("h3",{className:"mb-3",children:n("recent_transactions")}),f.jsxs($c,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Ir,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Ir,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(Va,{value:"expenses",className:"mt-4",children:f.jsx(e2,{})}),f.jsx(Va,{value:"income",className:"mt-4",children:f.jsx(t2,{})})]})]})]}),r==="transactions"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h2",{children:n("transactions")}),f.jsxs("div",{className:"flex items-center gap-2",children:[R&&f.jsxs(ge,{variant:"ghost",size:"sm",onClick:$,className:"gap-2 h-9 px-3",children:[f.jsx(Su,{className:"h-4 w-4"}),"Clear Filters"]}),f.jsxs(ge,{variant:R?"default":"outline",size:"sm",onClick:()=>E(!0),className:"gap-2",children:[f.jsx(NZ,{className:"h-4 w-4"}),"Filter",R&&f.jsx(xn,{variant:"secondary",className:"ml-1 px-1.5 py-0 text-xs",children:"On"})]})]})]}),f.jsxs($c,{value:s,onValueChange:a,className:"w-full",children:[f.jsxs(Bc,{className:"grid w-full grid-cols-2 bg-surface-variant/50 p-1 rounded-xl",children:[f.jsx(Ir,{value:"expenses",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("expenses")}),f.jsx(Ir,{value:"income",className:"rounded-lg data-[state=active]:bg-primary-container data-[state=active]:text-on-primary-container",children:n("income")})]}),f.jsx(Va,{value:"expenses",className:"mt-4",children:f.jsx(e2,{filters:k})}),f.jsx(Va,{value:"income",className:"mt-4",children:f.jsx(t2,{filters:k})})]})]}),r==="goals"&&f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("h2",{children:n("savings_goals")}),f.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Track your financial targets"})]}),f.jsxs(ge,{size:"sm",onClick:()=>A(!0),className:"gap-2",children:[f.jsx(ei,{className:"h-4 w-4"}),"Add Goal"]})]}),f.jsx(nse,{})]}),r==="more"&&f.jsxs("div",{className:"space-y-4",children:[f.jsx("h2",{children:n("more_options")}),f.jsx(pje,{onShowReports:()=>b(!0)})]})]}),f.jsx(mje,{activeTab:r,onTabChange:i}),W&&f.jsx("div",{className:"fixed right-4 bottom-4 z-40",style:{bottom:"calc(max(env(safe-area-inset-bottom), 16px) + 84px)"},children:f.jsx(ge,{size:"icon",className:"rounded-full h-14 w-14 elevation-4 hover:elevation-5 bg-tertiary hover:bg-tertiary/90 text-tertiary-foreground transition-all duration-300 hover:scale-105 active:scale-95",onClick:M,children:f.jsx(ei,{className:"h-6 w-6"})})}),f.jsx(yce,{open:o,onClose:()=>l(!1),defaultType:c}),f.jsx(wce,{open:h,onClose:()=>m(!1)}),f.jsx($de,{open:g,onClose:()=>x(!1)}),f.jsx(Vz,{open:w,onClose:()=>A(!1)}),f.jsx(Vde,{open:_,onClose:()=>E(!1),onApplyFilters:D}),f.jsx(qt,{open:P,onOpenChange:T,children:f.jsxs(Gt,{className:"h-[80vh] flex flex-col p-0 gap-0 max-w-md mx-auto",children:[f.jsx("div",{className:"p-4 border-b",children:f.jsxs(Zt,{children:[f.jsx(Jt,{children:"Debts & IOUs"}),f.jsx(ln,{children:"Manage your debts and loans"})]})}),f.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:f.jsx(xH,{})})]})})]})}var yje=(t,e,n,r,i,s,a,o)=>{let l=document.documentElement,c=["light","dark"];function d(g){(Array.isArray(t)?t:[t]).forEach(x=>{let y=x==="class",b=y&&s?i.map(w=>s[w]||w):i;y?(l.classList.remove(...b),l.classList.add(s&&s[g]?s[g]:g)):l.setAttribute(x,g)}),h(g)}function h(g){o&&c.includes(g)&&(l.style.colorScheme=g)}function m(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)d(r);else try{let g=localStorage.getItem(e)||n,x=a&&g==="system"?m():g;d(x)}catch{}},bje=C.createContext(void 0),xje={setTheme:t=>{},themes:[]},wje=()=>{var t;return(t=C.useContext(bje))!=null?t:xje};C.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,themes:o,nonce:l,scriptProps:c})=>{let d=JSON.stringify([n,e,s,t,o,a,r,i]).slice(1,-1);return C.createElement("script",{...c,suppressHydrationWarning:!0,nonce:typeof window>"u"?l:"",dangerouslySetInnerHTML:{__html:`(${yje.toString()})(${d})`}})});const Sje=({...t})=>{const{theme:e="system"}=wje();return f.jsx(Vie,{theme:e,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...t})};/*! Capacitor: https://capacitorjs.com/ - MIT License */var mu;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(mu||(mu={}));class U_ extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const _je=t=>{var e,n;return t?.androidBridge?"android":!((n=(e=t?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Aje=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:_je(t),s=()=>i()!=="web",a=h=>{const m=c.get(h);return!!(m?.platforms.has(i())||o(h))},o=h=>{var m;return(m=n.PluginHeaders)===null||m===void 0?void 0:m.find(g=>g.name===h)},l=h=>t.console.error(h),c=new Map,d=(h,m={})=>{const g=c.get(h);if(g)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),g.proxy;const x=i(),y=o(h);let b;const w=async()=>(!b&&x in m?b=typeof m[x]=="function"?b=await m[x]():b=m[x]:e!==null&&!b&&"web"in m&&(b=typeof m.web=="function"?b=await m.web():b=m.web),b),A=(O,R)=>{var F,M;if(y){const D=y?.methods.find($=>R===$.name);if(D)return D.rtype==="promise"?$=>n.nativePromise(h,R.toString(),$):($,W)=>n.nativeCallback(h,R.toString(),$,W);if(O)return(F=O[R])===null||F===void 0?void 0:F.bind(O)}else{if(O)return(M=O[R])===null||M===void 0?void 0:M.bind(O);throw new U_(`"${h}" plugin is not implemented on ${x}`,mu.Unimplemented)}},_=O=>{let R;const F=(...M)=>{const D=w().then($=>{const W=A($,O);if(W){const H=W(...M);return R=H?.remove,H}else throw new U_(`"${h}.${O}()" is not implemented on ${x}`,mu.Unimplemented)});return O==="addListener"&&(D.remove=async()=>R()),D};return F.toString=()=>`${O.toString()}() { [capacitor code] }`,Object.defineProperty(F,"name",{value:O,writable:!1,configurable:!1}),F},E=_("addListener"),P=_("removeListener"),T=(O,R)=>{const F=E({eventName:O},R),M=async()=>{const $=await F;P({eventName:O,callbackId:$},R)},D=new Promise($=>F.then(()=>$({remove:M})));return D.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await M()},D},k=new Proxy({},{get(O,R){switch(R){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return y?T:E;case"removeListener":return P;default:return _(R)}}});return r[h]=k,c.set(h,{name:h,proxy:k,platforms:new Set([...Object.keys(m),...y?[x]:[]])}),k};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=i,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=a,n.registerPlugin=d,n.Exception=U_,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Cje=t=>t.Capacitor=Aje(t),gf=Cje(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),rp=gf.registerPlugin;class ZH{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,n);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new gf.Exception(e,mu.Unimplemented)}unavailable(e="not available"){return new gf.Exception(e,mu.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const VB=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),WB=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Pje extends ZH{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=WB(i).trim(),s=WB(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=VB(e.key),r=VB(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${a};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}rp("CapacitorCookies",{web:()=>new Pje});const Eje=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),Tje=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},jje=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(c=>{o=e?encodeURIComponent(c):c,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${r}&${l}`},"").substr(1):null,kje=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=Tje(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);n.body=s;const a=new Headers(n.headers);a.delete("content-type"),n.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Nje extends ZH{async request(e){const n=kje(e,e.webFetchExtra),r=jje(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,c;switch(o){case"arraybuffer":case"blob":c=await s.blob(),l=await Eje(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const d={};return s.headers.forEach((h,m)=>{d[m]=h}),{data:l,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}rp("CapacitorHttp",{web:()=>new Nje});var fP;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(fP||(fP={}));var HB;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(HB||(HB={}));const z_=rp("StatusBar"),Oje="modulepreload",Mje=function(t){return"/"+t},qB={},Dje=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let a=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=o?.nonce||o?.getAttribute("nonce");i=a(n.map(c=>{if(c=Mje(c),c in qB)return;qB[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Oje,d||(m.as="script"),m.crossOrigin="",m.href=c,l&&m.setAttribute("nonce",l),document.head.appendChild(m),d)return new Promise((g,x)=>{m.addEventListener("load",g),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Rje=rp("Device",{web:()=>Dje(()=>import("./web-BcA0hjLB.js"),[]).then(t=>new t.DeviceWeb)}),Ije=rp("EdgeToEdge",{});function Lje(){const{recurringTransactions:t,addExpense:e,updateRecurringTransaction:n,currentUser:r}=it();C.useEffect(()=>{if(!r)return;(async()=>{const s=new Date,a=gn(s,1);for(const o of t){if(!o.is_active)continue;const l=dae(o.next_due_date);if(o.auto_deduct&&(tr(s,l)||_g(s,l))){const c={id:Mc(),family_id:o.family_id,total_amount:o.amount,currency:o.currency,category:o.category,notes:o.description,date:o.next_due_date,payment_lines:[{id:Mc(),method:"cash",amount:o.amount,payer_user_id:o.created_by}],attachments:[],is_shared:!0,sync_status:"pending",created_by:o.created_by,created_at:new Date().toISOString()};await e(c);let d=l;switch(o.frequency){case"daily":d=gn(l,1);break;case"weekly":d=gn(l,7);break;case"monthly":d=gn(l,30);break;case"yearly":d=gn(l,365);break}await n({...o,next_due_date:Ki(d,"yyyy-MM-dd")}),Te.success(`Auto-deducted ${o.currency} ${o.amount} for ${o.description}`)}o.notify&&(tr(a,l)?Te.info(`Reminder: ${o.description} is due tomorrow!`):tr(s,l)&&!o.auto_deduct&&Te.warning(`Reminder: ${o.description} is due today!`))}})()},[t,r,e,n])}function Fje(){const{expenses:t,income:e,debts:n,currentUser:r,currentFamily:i}=it();C.useEffect(()=>{const s=()=>{if(!r||!i)return;const o=localStorage.getItem("notificationSettings");if(!o)return;const{dailyBriefEnabled:l,dailyBriefTime:c,showExpenses:d,showIncome:h,showDebts:m}=JSON.parse(o);if(!l)return;const g=new Date,[x,y]=c.split(":").map(Number);if(g.getHours()===x&&g.getMinutes()===y){const b=new Date().toDateString();if(localStorage.getItem("lastDailyBrief")===b)return;const A=[];if(d){const E=t.filter(P=>new Date(P.date).toDateString()===b).reduce((P,T)=>P+T.total_amount,0);A.push(`${i.currency}${E.toFixed(2)} spent`)}if(h){const E=e.filter(P=>new Date(P.date).toDateString()===b).reduce((P,T)=>P+T.amount,0);A.push(`${i.currency}${E.toFixed(2)} earned`)}if(m){const _=n.filter(E=>new Date(E.created_at).toDateString()===b);_.length>0&&A.push(`${_.length} new debts`)}A.length>0&&Te.info("Daily Brief",{description:`Today: ${A.join(", ")}`,duration:1e4}),localStorage.setItem("lastDailyBrief",b)}},a=setInterval(s,6e4);return s(),()=>clearInterval(a)},[t,e,n,r,i])}function $je(){const{currentUser:t,currentFamily:e,isLoading:n}=it(),[r,i]=C.useState("welcome"),[s,a]=C.useState(!1);Lje(),Fje(),C.useEffect(()=>{gf.isNativePlatform()&&(z_.setStyle({style:fP.Light}),z_.setBackgroundColor({color:"#4F46E5"}),z_.show())},[]),C.useEffect(()=>{(async()=>{if(gf.isNativePlatform())try{const{osVersion:c}=await Rje.getInfo();+c>=15&&await Ije.enable()}catch(c){console.warn("EdgeToEdge not supported or failed to enable:",c)}})()},[]),C.useEffect(()=>{if(n){const l=setTimeout(()=>{a(!0)},5e3);return()=>clearTimeout(l)}else a(!1)},[n]);const o=()=>{confirm("This will clear all app data and reload the page. Continue?")&&(indexedDB.deleteDatabase("KharchaPalDB"),localStorage.clear(),window.location.reload())};return n?f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-tertiary/5 p-4",children:f.jsxs("div",{className:"text-center max-w-md",children:[f.jsx("div",{className:"inline-flex items-center justify-center p-6 rounded-full bg-primary-container/30 mb-6",children:f.jsx("div",{className:"text-7xl animate-pulse",children:""})}),f.jsx("h2",{className:"text-2xl mb-2 text-primary",children:"KharchaPal"}),f.jsx("p",{className:"text-muted-foreground mb-4",children:"Loading your expenses..."}),f.jsx("div",{className:"w-48 h-1 bg-surface-variant rounded-full mx-auto overflow-hidden",children:f.jsx("div",{className:"h-full bg-primary rounded-full animate-[loading_1.5s_ease-in-out_infinite]"})}),s&&f.jsxs("div",{className:"mt-8 p-6 bg-error-container/20 border-2 border-destructive/20 rounded-xl elevation-2",children:[f.jsx("p",{className:"text-sm mb-4 text-on-error-container",children:"Taking longer than usual?"}),f.jsx("button",{onClick:o,className:"px-6 py-3 bg-destructive text-destructive-foreground rounded-xl hover:bg-destructive/90 transition-all duration-200 elevation-1 hover:elevation-2",children:"Reset App Data"}),f.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"Check the console (F12) for error details"})]})]})}):t&&e?f.jsx(vje,{}):f.jsxs(f.Fragment,{children:[r==="welcome"&&f.jsx(EJ,{onCreateFamily:()=>i("create"),onJoinFamily:()=>i("join")}),r==="create"&&f.jsx(UJ,{onComplete:()=>{},onBack:()=>i("welcome")}),r==="join"&&f.jsx(zJ,{onComplete:()=>{},onBack:()=>i("welcome")})]})}function Bje(){return f.jsx(r9,{children:f.jsxs(ree,{children:[f.jsx($je,{}),f.jsx(Sje,{position:"top-center"})]})})}e9.createRoot(document.getElementById("root")).render(f.jsx(Bje,{}));export{ZH as W};
